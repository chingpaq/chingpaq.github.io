"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[7424],{87424:(e,t,a)=>{a.r(t),a.d(t,{default:()=>I});var l=a(67861);a(60940);const n="CheckoutPage_checkoutPageHost__O6Y0r",i="CheckoutPage_checkoutTop__a8Ke9",c="CheckoutPage_checkoutContent__jV+8M",o="CheckoutPage_checkoutLeftContainer__uCaxb",s="CheckoutPage_pageTitle__qI+QM",r="CheckoutPage_sectionTitle__5+HAr",m="CheckoutPage_inputRow__zQJ2Y",u="CheckoutPage_inputContainer__B0SjF",d="CheckoutPage_cardContainer__NY+g4",p="CheckoutPage_inputField__Wz1Ve",v="CheckoutPage_checkoutRightContainer__sSAwU",y="CheckoutPage_productsContainer__2SOt1",g="CheckoutPage_products__DuYZP",h="CheckoutPage_planContainer__fk9gT",E="CheckoutPage_planTitle__ymDCz",_="CheckoutPage_price__YeVwJ",b="CheckoutPage_planDetails__PYyTM",f="CheckoutPage_priceDetails__9FXhe",C="CheckoutPage_payButton__xJ0+0",x="CheckoutPage_planTitleBlue__wP0eR",N="CheckoutPage_endingMessage__qtIa5";var P=a(40694),w=a(23280),k=a(27658),S=a(34710),Y=a(11577),D=a(48929),T=a(49465),L=(a(66180),a(33500),a(50981)),q=a.n(L),A=a(30994),B=a(88374),M=a(39518),R=a(73500),H=a(88827);a(59565);(0,a(87381).J)("pk_test_");const I=e=>{var t,a,I,F,z,V,W,J,O,U;const Z=(0,w.s0)(),{onSuccess:K,onClose:Q=()=>Z("/billing-info"),subscriptionInfo:X={},companyData:G={email:""},paymentPath:$="payments",withBack:ee=!0,label:te="Plan",onError:ae=()=>{}}=e,{payable:le,billable:ne}=(0,M.v9)(e=>e.flowReducer),{authenticatedUser:ie}=(0,M.v9)(e=>e.authReducer),ce=(0,l.useRef)(),oe=(0,M.I0)(),[se,re]=(0,l.useState)(ie.first_name),[me,ue]=(0,l.useState)(ie.last_name),[de,pe]=(0,l.useState)("".concat(null!==(t=null===ie||void 0===ie?void 0:ie.address)&&void 0!==t?t:""," ").concat(null!==(a=null===ie||void 0===ie?void 0:ie.city)&&void 0!==a?a:""," ").concat(null!==(I=null===ie||void 0===ie?void 0:ie.postal)&&void 0!==I?I:"")),[ve,ye]=(0,l.useState)(""),[ge,he]=(0,l.useState)(""),[Ee,_e]=(0,l.useState)(""),[be,fe]=(0,l.useState)(""),[Ce,xe]=(0,l.useState)(""),[Ne,Pe]=(0,l.useState)(""),[we,ke]=(0,l.useState)(""),[Se,Ye]=(0,l.useState)("4343434343434345"),[De,Te]=(0,l.useState)(""),[Le,qe]=(0,l.useState)(""),[Ae,Be]=(0,l.useState)(ie.email),[Me,Re]=(0,l.useState)(!1),[He,Ie]=(0,l.useState)(""),[je,Fe]=(0,l.useState)(!1),[ze,Ve]=(0,l.useState)(""),[We]=(0,l.useState)(!1),Je=(0,w.TH)(),[Oe]=(0,l.useState)(null!==(F=null===Je||void 0===Je||null===(z=Je.state)||void 0===z?void 0:z.subscriptionInfo)&&void 0!==F?F:X),[Ue]=(0,l.useState)(null!==(V=null===Je||void 0===Je||null===(W=Je.state)||void 0===W?void 0:W.companyData)&&void 0!==V?V:G);return l.createElement("div",{className:n},ee&&l.createElement("div",{className:i},l.createElement(P.Z,{clicked:Q,title:"Back"})),l.createElement("div",{className:c,style:{padding:R.tq?"15px":""}},l.createElement("div",{className:o,style:{width:R.tq?"100%":"",display:Oe?"":"none"}},l.createElement("p",{className:s},"Complete your Purchase"),l.createElement("p",{className:r,style:{marginTop:"50px"}},"Payment Information"),l.createElement("div",{style:{display:""===A.lw?"":"none",margin:"20px 0"}},l.createElement("div",{className:m},l.createElement("div",{className:u},l.createElement(D.Lb,{title:"Name on Card *"}),l.createElement("input",{value:we,onChange:e=>ke(e.target.value),type:"text",name:"state",className:p}))),l.createElement("div",{className:m},A.lw&&l.createElement("div",{className:u,style:{display:"flex"}},l.createElement("div",{className:d},l.createElement(D.Lb,{title:"Card Number"}),l.createElement("input",{value:Se,required:!0,minLength:16,maxLength:16,onChange:e=>Ye(e.target.value),type:"text",name:"state",className:p})),l.createElement("div",{className:d,style:{width:"30%"}},l.createElement(D.Lb,{title:"Expiry"}),l.createElement("input",{value:De,required:!0,placeholder:"MM / YY",onChange:e=>Te(e.target.value),type:"month",name:"state",className:p})),l.createElement("div",{className:d,style:{width:"10%",marginRight:"0px"}},l.createElement(D.Lb,{title:"CVC"}),l.createElement("input",{value:Le,required:!0,minLength:3,maxLength:3,placeholder:"CVC",onChange:e=>qe(e.target.value),type:"integer",name:"state",className:p}))))),l.createElement("form",{ref:ce,style:{display:!0===We?"none":""}},l.createElement("div",{className:m,style:{flexDirection:R.tq?"column":"row"}},l.createElement("div",{className:u},l.createElement(D.Lb,{title:"First Name"}),l.createElement("input",{value:se,onChange:e=>re(e.target.value),style:{marginRight:"30px"},type:"text",name:"first-name",className:p})),l.createElement("div",{className:u},l.createElement(D.Lb,{title:"Last Name"}),l.createElement("input",{value:me,onChange:e=>ue(e.target.value),type:"text",name:"last-name",className:p}))),l.createElement("div",{className:m,style:{flexDirection:R.tq?"column":"row"}},l.createElement("div",{className:u},l.createElement(D.Lb,{title:"Email"}),l.createElement("input",{value:Ae,onChange:e=>Be(e.target.value),style:{marginRight:"30px"},type:"text",name:"email",className:p}))),l.createElement("div",{className:m,style:{flexDirection:R.tq?"column":"row"}},l.createElement("div",{className:u},l.createElement(D.Lb,{title:"Full Address"}),l.createElement("input",{value:de,onChange:e=>pe(e.target.value),style:{marginRight:"30px"},type:"text",name:"full-address",className:p}))))),l.createElement("div",{className:v},l.createElement("div",{className:y},l.createElement("p",{className:g},"Products"),l.createElement("div",{className:h},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"10px"}},Oe?l.createElement("p",{className:E},null===Oe||void 0===Oe?void 0:Oe.plan):l.createElement("p",{className:E},Je.state.price.description),Oe?l.createElement("p",{className:_},null===Oe||void 0===Oe?void 0:Oe.currency," ",null===Oe||void 0===Oe?void 0:Oe.plan_price):l.createElement("p",{className:_},Je.state.price.currency," ",Je.state.price.price)),l.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"5px",marginBottom:"5px"}},Oe&&l.createElement("p",{className:b},te),Oe&&l.createElement("p",{className:f},null===Oe||void 0===Oe?void 0:Oe.dlabel))),(null===Oe||void 0===Oe?void 0:Oe.onetime)&&l.createElement("div",{className:h},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"10px"}},l.createElement("p",{className:E},"Admin Fee"),l.createElement("p",{className:_},null===Oe||void 0===Oe?void 0:Oe.currency," ",null!==(J=null===Oe||void 0===Oe?void 0:Oe.onetime)&&void 0!==J?J:0)),l.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"5px",marginBottom:"5px"}},Oe&&l.createElement("p",{className:b},"Others"),Oe&&l.createElement("p",{className:f},"/month"))),l.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",margin:"5%"}}),l.createElement("div",{style:{display:void 0===(null===Oe||void 0===Oe||null===(O=Oe.billable_users)||void 0===O?void 0:O.length)?"none":"flex",justifyContent:"space-between",margin:"5%",marginBottom:"0px"}},l.createElement("p",{className:E},"Number of users to bill"),l.createElement("p",{className:_},null===Oe||void 0===Oe?void 0:Oe.billable_users.length)),l.createElement("div",{style:{display:"flex",justifyContent:"space-between",margin:"5%",marginBottom:"20px"}},l.createElement("p",{className:x},"Total (due today)"),Oe?l.createElement("p",{className:x},null===Oe||void 0===Oe?void 0:Oe.currency," ",null===Oe||void 0===Oe?void 0:Oe.total):l.createElement("p",{className:x},Je.state.price.currency," ",Je.state.price.price)),l.createElement(P.Z,{className:C,disabled:Me,title:"Pay Now",clicked:Oe?async e=>{if(Ie(""),""===A.lw&&""===we)return void Ie("Please enter card owner name.");e.preventDefault(),Ie("");let t=[];if(""===se&&t.push("first name"),""===me&&t.push("last name"),""===Ae&&t.push("email"),t.length>0){t=t.map((e,t)=>l.createElement("li",{key:t},e));let e=()=>l.createElement(l.Fragment,null,l.createElement("span",null,"Please fill in all input fields:"),l.createElement("ul",null,t));return Re(!1),void Ie(e)}if(""!==A.lw){var a;const e=null!==(a=null===X||void 0===X?void 0:X.ref)&&void 0!==a?a:(0,T.mR)();oe((0,B.zt)({id:e,subscriptionInfo:Oe})),Re(!0),(0,k.JE)("begin-module"===$||"begin-mobile"===$?'[{"amount":'.concat(100*(null===Oe||void 0===Oe?void 0:Oe.plan_price),',"currency":"PHP","description":"').concat(null===Oe||void 0===Oe?void 0:Oe.ref,'","name":"Payment-').concat(null===Oe||void 0===Oe?void 0:Oe.ref,'","quantity":1}]'):"wallet"===$?'[{"amount":'.concat(100*(null===Oe||void 0===Oe?void 0:Oe.plan_price),',"currency":"PHP","description":"').concat(null===Oe||void 0===Oe?void 0:Oe.user_id,'","name":"Wallet","quantity":1}]'):"[".concat(Oe.billable_users.map(e=>'{"amount":'.concat(100*(null===Oe||void 0===Oe?void 0:Oe.plan_price),',"currency":"PHP","description":"').concat(e.id,'","name":"Subscription-').concat(e.first_name," ").concat(e.last_name,'","quantity":1}')).toString(),"]"),'{"address":{"line1":"'.concat(de,'","city":"').concat(ve,'","state":"').concat(be,'","postal_code":"').concat(ge,'","country": "PH"},"name":"').concat(se," ").concat(me,'","email":"').concat(Ae,'"}'),'"'.concat(A.Hf,"#/").concat($,"/").concat(e,'"'),'"'.concat(e,'"'),"begin-module"===$||"begin-mobile"===$?"Payment":"wallet"===$?"Wallet":"Subscription").pipe((0,Y.P)()).subscribe({next:t=>{var a;if(null!==(a=t.data)&&void 0!==a&&a.attributes){var l;const a=[...le,{user_id:Oe.user_id,amount:null===Oe||void 0===Oe?void 0:Oe.total,currency:"PHP",paymentID:e,id:null===Oe||void 0===Oe?void 0:Oe.id,product:null===Oe||void 0===Oe?void 0:Oe.plan,description:null===Oe||void 0===Oe?void 0:Oe.description,session:null===(l=t.data)||void 0===l?void 0:l.id}];H.h.dispatch((0,B.Wy)(a)),window.location.replace(t.data.attributes.checkout_url)}},complete:()=>{},error:e=>{Re(!1),Ie("Payment error.Please contact your administrator"),ae("Payment error.Please contact your administrator")}})}}:()=>{var e;Ie(""),Re(!0),(0,k.Ul)(Je.state.service_name,Je.state.price.price_code,null!==(e=Je.state.price.duration)&&void 0!==e?e:null).pipe((0,Y.P)()).subscribe({next:e=>{Ve(e.data.stripe_id),Fe(!0),(0,S.aK)().pipe((0,Y.P)()).subscribe({}),Re(!1)},error:e=>{void 0!=e.data?Ie(e.data.message.message):Ie("Payment error. Please check your card."),Re(!1)}})},loading:Me,style:{backgroundColor:""!==se&&""!==me&&""!==de&&""!==ve&&""!==ge&&""!==Ee&&""!==be?"":"black"}}),l.createElement("div",{className:N,style:{display:void 0===(null===Oe||void 0===Oe||null===(U=Oe.billable_users)||void 0===U?void 0:U.length)?"none":"flex"}},l.createElement("p",null,""!==A.lw?"Payments by":"You can cancel your plan anytime. Your yearly recurrent payment starts on ".concat(q()(new Date((0,L.now)())).add(1,"years").format("MMMM Do, YYYY"),". You will be billed monthly for the number of Employees in your account.")),l.createElement("img",{src:"https://files.readme.io/7586db8-small-paymongo_api_white.png",style:{height:"40px",width:"160px"}})),l.createElement("div",{style:{display:"flex",justifyContent:"space-between",margin:"5%",marginBottom:"0px",color:"red"}},He&&l.createElement("div",null,He))))),je&&l.createElement(j,{message:ze,onSuccess:K}))},j=e=>{const{setCompletedModal:t,message:a,onSuccess:n}=e;return l.createElement(D.U7,{isOpen:!0,shadowedContainerStyle:{width:"35%",minWidth:"500px",minHeight:"400px"},onClose:()=>t(!1),scrollable:!0,blured:!0},l.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},l.createElement("p",{style:{marginTop:"50px",fontSize:"32px",color:"#4A4A4A",marginBottom:"5px",textAlign:"center"}},"Your subscription to ".concat(T.iC," was successful!")),l.createElement("p",{style:{width:"300px",fontFamily:"var(--app-text-main-font)",fontSize:"16px",color:"#4A4A4A",textAlign:"center",marginBottom:"20px"}},"Your payment reference is ".concat(a),l.createElement("br",null),l.createElement("br",null),"You can look for this in your invoices list in the billing page ",l.createElement("br",null),l.createElement("br",null),l.createElement("span",{style:{fontWeight:"700"}},"Thank you for your purchase!")),l.createElement(P.Z,{style:{width:"200px"},clicked:()=>{n(a)},title:"View Invoices"})))}}}]);
//# sourceMappingURL=7424.2be2dc9c.chunk.js.map