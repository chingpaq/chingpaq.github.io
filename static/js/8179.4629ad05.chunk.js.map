{"version":3,"file":"static/js/8179.4629ad05.chunk.js","mappings":"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","sources":["webpack://flowhero/./src/appFiles/components/SideMenuEntries/BlueprintsComps/ProcessesTab/ProcessStepsChart.module.scss?864a","appFiles/components/SideMenuEntries/BlueprintsComps/ProcessesTab/Sidebar.js","appFiles/components/SideMenuEntries/BlueprintsComps/ProcessesTab/ProcessStepsChart.js","appFiles/services/products.service.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"host\":\"ProcessStepsChart_host__Ubvna\",\"target\":\"ProcessStepsChart_target__lLbWe\",\"startContainer\":\"ProcessStepsChart_startContainer__1AZuF\",\"placeholderContainer\":\"ProcessStepsChart_placeholderContainer__HI-Ue\",\"cardContainer\":\"ProcessStepsChart_cardContainer__9G7q5\",\"svg\":\"ProcessStepsChart_svg__bAVNU\",\"paragraph\":\"ProcessStepsChart_paragraph__D9Hr2\",\"firstStepContainer\":\"ProcessStepsChart_firstStepContainer__RmBGK\",\"rankedStepsContainer\":\"ProcessStepsChart_rankedStepsContainer__UejYl\",\"stepWrapper\":\"ProcessStepsChart_stepWrapper__VvpWm\",\"stepContainer\":\"ProcessStepsChart_stepContainer__ubO3z\",\"titleContainer\":\"ProcessStepsChart_titleContainer__ziT0H\",\"durationContainer\":\"ProcessStepsChart_durationContainer__uR4X-\",\"durationText\":\"ProcessStepsChart_durationText__NXJSW\",\"image\":\"ProcessStepsChart_image__6lH3l\",\"bottomAnnotation\":\"ProcessStepsChart_bottomAnnotation__y-3p7\",\"tree\":\"ProcessStepsChart_tree__uqAbd\",\"step\":\"ProcessStepsChart_step__1kNXi\"};","import React from 'react';\n\nexport default props => {\n\tconst onDragStart = (event, nodeType) => {\n\t\tevent.dataTransfer.setData('application/reactflow', nodeType);\n\t\tevent.dataTransfer.effectAllowed = 'move';\n\t};\n\n\treturn (\n\t\t<aside>\n\t\t\t<div className=\"title\">{props?.title ?? 'Workflow'}</div>\n\t\t\t<div className=\"subtitle\">{props?.subtitle ?? 'Hello world'}</div>\n\t\t\t<div className=\"description\">Drag box to the right pane to add a new step.</div>\n\t\t\t<br />\n\t\t\t<div className=\"dndnode input\" onDragStart={event => onDragStart(event, 'input')} draggable>\n\t\t\t\tNew Step\n\t\t\t</div>\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<div className=\"description\">You can connect a step to another step by dragging the handles of the box bottom on top of the handle of the target step. A plus sign should appear. A saved step message will appear if the connection is allowed.</div>\n\t\t\t<br />\n\t\t\t<div className=\"description\">To rearrange the positions of the step in the layout, make sure to unlock the lower left lock button. Drag the step to your desired location.</div>\n\t\t\t<br />\n\t\t\t<div className=\"description\">To delete a connection, click the line(or its label), then press delete (or backspace for some keyboards) The line should disappear and a saved step message should appear.</div>\n\t\t</aside>\n\t);\n};\n","import { useEffect, useRef, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { first } from 'rxjs/operators';\nimport { getProcessById, getStepsByProcessId } from '../../../../services/processes.service';\n\nimport { setSelectedProStep } from '../../../../reduxStore/actions/flowActions';\nimport cls from './ProcessStepsChart.module.scss';\nimport { generateNewUUID } from '../../../../shared/utility';\nimport { useProcessContext, pat } from '../../../../context/processStep.context';\nimport { useMountedState } from 'react-use';\nimport { Button, Spinner } from '../../../common';\nimport * as R from 'ramda';\n\nimport { Tree, TreeNode } from 'react-organizational-chart';\nimport ReactFlow, { ReactFlowProvider, Controls, Background, addEdge, removeElements, ArrowHeadType } from 'react-flow-renderer';\n\nimport 'react-flow-renderer/dist/style.css';\nimport './styles.css';\n\nimport Sidebar from './Sidebar';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faDiagramNext, faDiagramProject } from '@fortawesome/free-solid-svg-icons';\n\nconst initialElements = [];\n\nconst generateNodesFromValueChain = valuChain => {\n\tconst elements = [];\n\tconst valueChainSize = Object.keys(valuChain).length;\n\tconst firstNodeYPosition = window.innerHeight / (valueChainSize + 1);\n\tconst firstNodeXPosition = window.innerWidth / 3;\n\n\tlet positionIncreamentCount = 1;\n\n\tfor (const valuChainItem in valuChain) {\n\t\tif (Object.hasOwnProperty.call(valuChain, valuChainItem)) {\n\t\t\tconst element = valuChain[valuChainItem];\n\t\t\tconst position = {\n\t\t\t\ty: element.step?.options?.layout?.y ? element.step?.options?.layout?.y : positionIncreamentCount == 1 ? 0 : firstNodeYPosition * positionIncreamentCount - 1,\n\t\t\t\tx: element.step?.options?.layout?.x ? element.step?.options?.layout?.x : element.step?.parent_steps?.length > 1 ? firstNodeXPosition + 400 : firstNodeXPosition,\n\t\t\t};\n\t\t\tpositionIncreamentCount++;\n\t\t\telements.push({\n\t\t\t\tid: valuChainItem,\n\t\t\t\ttype: element.step.is_start == true ? 'output' : element.step.is_end == true ? 'input' : element.childOf ? 'default' : 'input',\n\t\t\t\tdata: { label: element.label, step: element.step },\n\t\t\t\tposition,\n\t\t\t\tsourcePosition: 'top',\n\t\t\t\ttargetPosition: 'bottom',\n\t\t\t});\n\t\t}\n\t}\n\treturn elements;\n};\n\nconst generateEdgesFromValueChain = valuChain => {\n\tconst elements = [];\n\tfor (const valuChainItem in valuChain) {\n\t\tif (Object.hasOwnProperty.call(valuChain, valuChainItem)) {\n\t\t\tconst element = valuChain[valuChainItem];\n\t\t\tif (element.childOf) {\n\t\t\t\telement.childOf.filter(child => {\n\t\t\t\t\telements.push({\n\t\t\t\t\t\tid: `edge-${valuChainItem}-${child.id}`,\n\t\t\t\t\t\tsource: valuChainItem,\n\t\t\t\t\t\ttarget: child.id,\n\t\t\t\t\t\ttype: 'smoothstep',\n\t\t\t\t\t\tlabel: `${child.name} â®• ${element.step.name}`,\n\t\t\t\t\t\t//arrowHeadType: ArrowHeadType.ArrowClosed\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\treturn elements;\n};\n\nlet id = 0;\nconst getId = () => `dndnode_${id++}`;\n\nconst ProcessStepsChart = props => {\n\tconst isMounted = useMountedState();\n\tconst { selectedProcess, onEditStep, companyProcesses, workflowTemplates, updateParent = () => { }, edit = false, updateStep = () => { } } = props;\n\n\tconst [procContext, setInProcContext] = useProcessContext();\n\tconst [loading, setLoading] = useState(false);\n\tconst [onEdit, setOnEdit] = useState(edit);\n\tconst [paneMoveable] = useState(false);\n\tconst [panOnScroll] = useState(true);\n\tconst reactFlowWrapper = useRef(null);\n\tconst [reactFlowInstance, setReactFlowInstance] = useState(null);\n\tconst [elements, setElements] = useState(initialElements);\n\n\tuseEffect(() => {\n\t\tconst values = R.mergeAll(procContext?.steps\n\t\t\t.concat((procContext?.steps?.length == 0 || procContext?.steps?.filter(st => st.is_end === true).length > 0) ? [] : [{\n\t\t\t\tname: '',\n\t\t\t\tid: 'New',\n\t\t\t\tnew: true,\n\t\t\t\trank: 0,\n\t\t\t\tparent_steps: [procContext?.steps.length == 0 ? [] : procContext?.steps[procContext?.steps?.length - 1]]\n\t\t\t}])\n\t\t\t.map(step => {\n\t\t\t\treturn {\n\t\t\t\t\t[step?.id ?? 'New']: {\n\t\t\t\t\t\tlabel:\n\t\t\t\t\t\t\tstep.name === '' ? (\n\t\t\t\t\t\t\t\t'New Step'\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div>{`${step.is_start ? '(Start)' : ''} `}</div>\n\t\t\t\t\t\t\t\t\t<div style={{ fontSize: '16px' }}>{`${step.name}`}</div>\n\t\t\t\t\t\t\t\t\t<div>{`${step.is_end ? '(End)' : ''} `}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\tchildrenOf: step.parent_steps.length > 0 ? step.parent_steps[0].id : null,\n\t\t\t\t\t\tchildOf: step?.parent_steps ?? [],\n\t\t\t\t\t\tstep: step,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t})\n\t\t);\n\t\tsetElements([...generateNodesFromValueChain(values), ...generateEdgesFromValueChain(values)]);\n\t}, [procContext?.steps]);\n\n\tconst onLoad = _reactFlowInstance => {\n\t\tsetReactFlowInstance(_reactFlowInstance);\n\t\tsetTimeout(_reactFlowInstance.fitView);\n\t};\n\n\tconst onConnect = params => {\n\t\tif (new RegExp(/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/).test(params.source) || new RegExp(/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/).test(params.target)) {\n\t\t\tconst step = procContext.steps.find(step => step.id === params.target);\n\t\t\tif (step) {\n\t\t\t\tif (step.is_end == true) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tupdateParent(params.source, params.target, true);\n\t\t\tsetElements(els => addEdge(params, els));\n\t\t}\n\t};\n\n\tconst onElementsRemove = elementsToRemove => {\n\t\tif (elementsToRemove?.length > 0) {\n\t\t\tif (elementsToRemove[0]?.id.includes('edge')) {\n\t\t\t\tif (new RegExp(/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/).test(elementsToRemove[0].source) && new RegExp(/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/).test(elementsToRemove[0].target)) {\n\t\t\t\t\tupdateParent(elementsToRemove[0].source, elementsToRemove[0].target, false);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst step2remove = elementsToRemove.find(elem => !elem.id.includes('edge'));\n\t\t\t\tif (step2remove) {\n\t\t\t\t\tsetInProcContext({\n\t\t\t\t\t\ttype: pat.setSelectedStep,\n\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\t...step2remove.data.step,\n\t\t\t\t\t\t\tparent_steps: R.map(R.pick(['id', 'name', 'rank']))(step2remove?.data.step.parent_steps ?? []),\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\tonEditStep();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsetElements(els => removeElements(elementsToRemove, els));\n\t};\n\n\tconst onNodeDoubleClick = (event, node) => {\n\t\tif (node?.data?.step?.new == true) {\n\t\t\tsetInProcContext({ type: pat.addNewStep, value: selectedProcess.id });\n\t\t} else {\n\t\t\tsetInProcContext({\n\t\t\t\ttype: pat.setSelectedStep,\n\t\t\t\tvalue: {\n\t\t\t\t\t...node.data.step,\n\t\t\t\t\tparent_steps: R.map(R.pick(['id', 'name', 'rank']))(node?.data?.step?.parent_steps ?? []),\n\t\t\t\t\tlayout: node?.position,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t\tonEditStep();\n\t};\n\n\tconst onConnectBegin = (event, node) => {\n\t\treturn;\n\t};\n\n\tconst onNodeDragStop = (event, node) => {\n\t\tsetInProcContext({\n\t\t\ttype: pat.setSelectedStep,\n\t\t\tvalue: {\n\t\t\t\t...node.step,\n\t\t\t\tlayout: node?.position,\n\t\t\t},\n\t\t});\n\n\t\tupdateStep({\n\t\t\t...node?.data?.step,\n\t\t\toptions: { ...node?.data?.step?.options, layout: node.position },\n\t\t});\n\t};\n\tconst onDragOver = event => {\n\t\tevent.preventDefault();\n\t\tevent.dataTransfer.dropEffect = 'move';\n\t};\n\n\tconst onDrop = event => {\n\t\tevent.preventDefault();\n\t\tconst reactFlowBounds = reactFlowWrapper.current.getBoundingClientRect();\n\t\tconst type = event.dataTransfer.getData('application/reactflow');\n\t\tconst position = reactFlowInstance.project({\n\t\t\tx: event.clientX - reactFlowBounds.left,\n\t\t\ty: event.clientY - reactFlowBounds.top,\n\t\t});\n\t\tconst newNode = {\n\t\t\tid: getId(),\n\t\t\ttype,\n\t\t\tposition,\n\t\t\tsourcePosition: 'top',\n\t\t\ttargetPosition: 'bottom',\n\t\t\tdata: { label: `New Step ${type}`, step: { name: '', new: true } },\n\t\t};\n\t\tsetInProcContext({ type: pat.addNewStep, value: selectedProcess.id });\n\t\tsetElements(es => es.concat(newNode));\n\t\tonEditStep();\n\t};\n\n\tuseEffect(() => {\n\t\tif (selectedProcess.name !== '' && selectedProcess.id !== '') {\n\t\t\tlet found = companyProcesses.find(process => process.id === selectedProcess.id);\n\t\t\tif (!found) {\n\t\t\t\tfound = workflowTemplates.find(process => process.id === selectedProcess.id);\n\t\t\t}\n\t\t\tif (found && found?.steps.length > 0) {\n\t\t\t\tconst addUUID = obj => R.assoc('_uuid', generateNewUUID(), obj);\n\t\t\t\tconst updated = R.compose(R.sortBy(R.eqProps('rank')), R.map(R.over(R.lensProp('component_blueprints'), R.map(addUUID))))(found.steps);\n\t\t\t\tsetInProcContext({\n\t\t\t\t\ttype: pat.setAllSteps,\n\t\t\t\t\tvalue: updated,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetLoading(true);\n\t\t\t\tgetProcessById(selectedProcess.id)\n\t\t\t\t\t.pipe(first())\n\t\t\t\t\t.subscribe({\n\t\t\t\t\t\tnext: data => {\n\t\t\t\t\t\t\tif (data?.steps?.length > 0) {\n\t\t\t\t\t\t\t\tconst addUUID = obj => R.assoc('_uuid', generateNewUUID(), obj);\n\t\t\t\t\t\t\t\tconst updated = R.compose(R.sortBy(R.eqProps('rank')), R.map(R.over(R.lensProp('component_blueprints'), R.map(addUUID))))(data.steps);\n\t\t\t\t\t\t\t\tsetInProcContext({\n\t\t\t\t\t\t\t\t\ttype: pat.setAllSteps,\n\t\t\t\t\t\t\t\t\tvalue: updated,\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tisMounted() && setLoading(false);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: _error => {\n\t\t\t\t\t\t\tisMounted() && setLoading(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, [selectedProcess]);\n\n\tconst Tree_Component = props => {\n\t\tconst { step } = props;\n\t\treturn (\n\t\t\t<TreeNode\n\t\t\t\tlabel={\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={cls.target}\n\t\t\t\t\t\tstyle={{ display: '' }}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetInProcContext({\n\t\t\t\t\t\t\t\ttype: pat.setSelectedStep,\n\t\t\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\t\t\t...step,\n\t\t\t\t\t\t\t\t\tparent_steps: R.map(R.pick(['id', 'name', 'rank']))(step?.parent_steps ?? []),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tonEditStep();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className={cls.startContainer}>\n\t\t\t\t\t\t\t<div className={cls.step} app-card-type=\"start\">\n\t\t\t\t\t\t\t\t<p className={cls.paragraph}>{step?.name}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{step?.next_steps && step?.next_steps?.map((ch, index) => <Tree_Component key={index} step={procContext?.steps.find(s => s.id === ch.id)} />)}\n\t\t\t\t{step?.pathway_steps && step?.pathway_steps?.map((ch, index) => <TreeNode key={index} label={<div className={cls.tree}>{ch.name}</div>} />)}\n\t\t\t\t{step?.pathway_processes &&\n\t\t\t\t\tstep?.pathway_processes?.map((ph, index) => (\n\t\t\t\t\t\t<TreeNode\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={cls.tree}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetLoading(true);\n\t\t\t\t\t\t\t\t\t\tgetStepsByProcessId({ processId: ph.id })\n\t\t\t\t\t\t\t\t\t\t\t.pipe(first())\n\t\t\t\t\t\t\t\t\t\t\t.subscribe({\n\t\t\t\t\t\t\t\t\t\t\t\tnext: data => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst addUUID = obj => R.assoc('_uuid', generateNewUUID(), obj);\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst updated = R.compose(R.sortBy(R.eqProps('rank')), R.map(R.over(R.lensProp('component_blueprints'), R.map(addUUID))))(data);\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetInProcContext({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: pat.setAllSteps,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: updated,\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\tisMounted() && setLoading(false);\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\terror: _error => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tisMounted() && setLoading(false);\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{`Process: ${ph.name}`}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t{step?.is_end === true && procContext?.steps.filter(s => s.rank !== 1 && s?.parent_steps?.length == 0).length == 0 && <TreeNode label={<div className={cls.tree}>End Step</div>} />}\n\t\t\t</TreeNode>\n\t\t);\n\t};\n\treturn (\n\t\t<div>\n\t\t\t{loading && selectedProcess.name !== '' && selectedProcess.id !== '' && (\n\t\t\t\t<div className={cls.placeholderContainer} style={{ display: '' }}>\n\t\t\t\t\t{<Spinner size={80} type={'ThreeDots'} />}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{onEdit && (\n\t\t\t\t<div className=\"dndflow\">\n\t\t\t\t\t<ReactFlowProvider>\n\t\t\t\t\t\t<div className=\"reactflow-wrapper\" ref={reactFlowWrapper}>\n\t\t\t\t\t\t\t<ReactFlow\n\t\t\t\t\t\t\t\telements={elements}\n\t\t\t\t\t\t\t\tnodesDraggable={false}\n\t\t\t\t\t\t\t\tonConnectStart={onConnectBegin}\n\t\t\t\t\t\t\t\tonConnect={onConnect}\n\t\t\t\t\t\t\t\tonElementsRemove={onElementsRemove}\n\t\t\t\t\t\t\t\tonLoad={onLoad}\n\t\t\t\t\t\t\t\tonDrop={onDrop}\n\t\t\t\t\t\t\t\tonDragOver={onDragOver}\n\t\t\t\t\t\t\t\tpaneMoveable={paneMoveable}\n\t\t\t\t\t\t\t\tpanOnScroll={panOnScroll}\n\t\t\t\t\t\t\t\tsnapToGrid={true}\n\t\t\t\t\t\t\t\tonNodeDragStop={onNodeDragStop}\n\t\t\t\t\t\t\t\tonNodeDoubleClick={onNodeDoubleClick}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Controls />\n\t\t\t\t\t\t\t\t<Background variant=\"lines\" />\n\t\t\t\t\t\t\t</ReactFlow>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Sidebar title={selectedProcess.name} subtitle={selectedProcess.description} />\n\t\t\t\t\t</ReactFlowProvider>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<div className={cls.host} app-is-preview={'false'} style={{ display: procContext?.steps.length > 0 && !onEdit ? '' : 'none' }}>\n\t\t\t\t{!loading && procContext?.steps.length > 0 && (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Tree\n\t\t\t\t\t\t\tlineWidth={'2px'}\n\t\t\t\t\t\t\tlineColor={'green'}\n\t\t\t\t\t\t\tlineBorderRadius={'10px'}\n\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t<div className={cls.tree} style={{ fontSize: '26px', padding: '30px 10px', display: procContext?.steps.length > 0 ? '' : 'none', maxWidth: '50%' }}>\n\t\t\t\t\t\t\t\t\t{selectedProcess.name}\n\t\t\t\t\t\t\t\t\t<p>{selectedProcess.description}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{procContext?.steps.length > 0 && <Tree_Component step={procContext?.steps.find(s => s.rank === 1)} />}\n\t\t\t\t\t\t</Tree>\n\t\t\t\t\t\t<Tree lineWidth={'0px'} lineColor={'transparent'}>\n\t\t\t\t\t\t\t{procContext?.steps.length > 0 && procContext?.steps.filter(s => s.rank !== 1 && s?.parent_steps?.length == 0).length > 0 && <Tree_Component step={procContext?.steps.find(s => s.rank !== 1 && s?.parent_steps?.length == 0)} />}\n\t\t\t\t\t\t</Tree>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t{procContext?.steps.length > 0 > 0 && onEditStep && (\n\t\t\t\t<div style={{ float: 'right' }}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon={<FontAwesomeIcon style={{ width: '20px', height: '20px' }} icon={onEdit ? faDiagramNext : faDiagramProject} />}\n\t\t\t\t\t\tlight\n\t\t\t\t\t\ttitle={onEdit ? 'Chart' : 'Builder'}\n\t\t\t\t\t\tclicked={() => {\n\t\t\t\t\t\t\tsetOnEdit(!onEdit);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = store => {\n\tconst { selectedProcess, companyProcesses, workflowTemplates } = store.flowReducer;\n\treturn { selectedProcess, companyProcesses, workflowTemplates };\n};\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tonSetSelectedProStep: selectedStep => dispatch(setSelectedProStep(selectedStep)),\n\t};\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ProcessStepsChart);\n","import { store } from '../reduxStore/store';\nimport { URLS } from './API_CONSTANTS';\nimport { axiosInstance } from './axiosInstance';\nimport { Observable } from 'rxjs';\nimport qs from 'qs';\nimport { setLastUpdate, setProducts } from '../reduxStore/actions/flowActions';\nimport moment, { now } from 'moment';\nconst R = require('ramda');\n\nexport const createProduct = (name, product_code) => {\n\tconst {\n\t\tsessionSettings: { last_access_token },\n\t} = store.getState().authReducer;\n\tconst data = new FormData();\n\tdata.append('name', name);\n\tdata.append('product_code', product_code);\n\tconst config = {\n\t\t...URLS.products.createNewProduct(last_access_token),\n\t\tdata: data,\n\t};\n\n\treturn new Observable(subscriber =>\n\t\taxiosInstance(config)\n\t\t\t.then(response => {\n\t\t\t\tif (response?.status === 201 && response?.data) {\n\t\t\t\t\tsubscriber.next(response?.data);\n\t\t\t\t\tsubscriber.complete();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tsubscriber.error(error);\n\t\t\t})\n\t);\n};\nexport const editProduct = (name, id) => {\n\tconst {\n\t\tsessionSettings: { last_access_token },\n\t} = store.getState().authReducer;\n\tconst data = qs.stringify({\n\t\tname: name,\n\t});\n\n\tconst config = {\n\t\t...URLS.products.updateProductById(last_access_token, id),\n\t\tdata: data,\n\t};\n\n\treturn new Observable(subscriber =>\n\t\taxiosInstance(config)\n\t\t\t.then(response => {\n\t\t\t\tif (response?.status === 200 && response?.data) {\n\t\t\t\t\tsubscriber.next(response?.data);\n\t\t\t\t\tsubscriber.complete();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tsubscriber.error(error);\n\t\t\t})\n\t);\n};\nexport const getProducts = (forced = false) => {\n\tconst {\n\t\tsessionSettings: { last_access_token },\n\t} = store.getState().authReducer;\n\n\tconst { lastUpdates, axiosAbort } = store.getState().flowReducer;\n\n\tconst config = {\n\t\t...URLS.products.getAllProducts(last_access_token),\n\t\thandlerEnabled: true,\n\t\tsignal: axiosAbort.signal\n\t};\n\n\t//console.log('moment diff products', moment(now()).diff(moment(lastUpdates.products), 'minutes'), products.length);\n\n\treturn new Observable(subscriber => {\n\t\tif (forced || moment(now()).diff(moment(lastUpdates.products), 'minutes') > 10) {\n\t\t\taxiosInstance(config)\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response?.status == 200 && response?.data && response?.data?.data) {\n\t\t\t\t\t\tstore.dispatch(setLastUpdate({ ...lastUpdates, products: now() }));\n\t\t\t\t\t\tstore.dispatch(setProducts(response.data.data.length > 0 ? R.sortBy(R.prop('name'), response.data.data) : []));\n\t\t\t\t\t\tsubscriber.next(response?.data?.data);\n\t\t\t\t\t\tsubscriber.complete();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsubscriber.error(error);\n\t\t\t\t});\n\t\t} else {\n\t\t\tsubscriber.complete();\n\t\t}\n\t});\n};\nexport const deleteProduct = id => {\n\tconst {\n\t\tsessionSettings: { last_access_token },\n\t} = store.getState().authReducer;\n\tconst config = {\n\t\t...URLS.products.deleteProductById(last_access_token, id),\n\t\thandlerEnabled: true,\n\t};\n\treturn new Observable(subscriber =>\n\t\taxiosInstance(config)\n\t\t\t.then(response => {\n\t\t\t\tif (response?.status === 200) {\n\t\t\t\t\tsubscriber.next(response?.data);\n\t\t\t\t\tsubscriber.complete();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tsubscriber.error(error);\n\t\t\t})\n\t);\n};\n"],"names":["props","_props$title","_props$subtitle","React","className","title","subtitle","onDragStart","event","nodeType","dataTransfer","setData","effectAllowed","draggable","initialElements","id","connect","store","_store$flowReducer","flowReducer","selectedProcess","companyProcesses","workflowTemplates","dispatch","onSetSelectedProStep","selectedStep","setSelectedProStep","isMounted","useMountedState","onEditStep","_props$updateParent","updateParent","_props$edit","edit","_props$updateStep","updateStep","_useProcessContext","useProcessContext","_useProcessContext2","_slicedToArray","procContext","setInProcContext","_useState","useState","_useState2","loading","setLoading","_useState3","_useState4","onEdit","setOnEdit","_useState5","paneMoveable","_useState7","panOnScroll","reactFlowWrapper","useRef","_useState9","_useState10","reactFlowInstance","setReactFlowInstance","_useState11","_useState12","elements","setElements","useEffect","_procContext$steps","_procContext$steps2","_procContext$steps3","values","R","steps","concat","length","filter","st","is_end","name","new","rank","parent_steps","map","step","_step$id","_step$parent_steps","_defineProperty","label","createElement","is_start","style","fontSize","childrenOf","childOf","_toConsumableArray","valuChain","valueChainSize","Object","keys","firstNodeYPosition","window","innerHeight","firstNodeXPosition","innerWidth","positionIncreamentCount","valuChainItem","hasOwnProperty","call","_element$step","_element$step$options","_element$step$options2","_element$step2","_element$step2$option","_element$step2$option2","_element$step3","_element$step3$option","_element$step3$option2","_element$step4","_element$step4$option","_element$step4$option2","_element$step5","_element$step5$parent","element","position","y","options","layout","x","push","type","data","sourcePosition","targetPosition","generateNodesFromValueChain","_loop","child","source","target","generateEdgesFromValueChain","_found","found","find","process","updated","obj","generateNewUUID","pat","value","getProcessById","pipe","first","subscribe","next","_data$steps","error","_error","Tree_Component","_step$next_steps","_step$pathway_steps","_step$pathway_process","TreeNode","cls","display","onClick","_step$parent_steps2","_objectSpread","next_steps","ch","index","key","s","pathway_steps","pathway_processes","ph","getStepsByProcessId","processId","_s$parent_steps","Spinner","size","ReactFlowProvider","ref","ReactFlow","nodesDraggable","onConnectStart","node","onConnect","params","RegExp","test","els","addEdge","onElementsRemove","elementsToRemove","_elementsToRemove$","includes","_step2remove$data$ste","step2remove","elem","removeElements","onLoad","_reactFlowInstance","setTimeout","fitView","onDrop","preventDefault","reactFlowBounds","current","getBoundingClientRect","getData","project","clientX","left","clientY","top","newNode","es","onDragOver","dropEffect","snapToGrid","onNodeDragStop","_node$data3","_node$data4","_node$data4$step","onNodeDoubleClick","_node$data","_node$data$step","_node$data$step$paren","_node$data2","_node$data2$step","Controls","Background","variant","Sidebar","description","Tree","lineWidth","lineColor","lineBorderRadius","padding","maxWidth","_s$parent_steps2","_s$parent_steps3","float","Button","icon","FontAwesomeIcon","width","height","faDiagramNext","faDiagramProject","light","clicked","require","createProduct","product_code","last_access_token","authReducer","sessionSettings","FormData","append","config","URLS","Observable","subscriber","axiosInstance","then","response","status","complete","catch","getProducts","forced","arguments","undefined","_store$getState$flowR","lastUpdates","axiosAbort","handlerEnabled","signal","moment","now","diff","products","_response$data","_response$data2","setLastUpdate","setProducts","sortBy","prop"],"sourceRoot":""}