"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[424],{87424:function(e,t,a){a.r(t),a.d(t,{default:function(){return U}});var n=a(74165),l=a(93433),c=a(15861),r=a(29439),i=a(67861),o=(a(60940),"CheckoutPage_checkoutPageHost__O6Y0r"),s="CheckoutPage_checkoutTop__a8Ke9",u="CheckoutPage_checkoutContent__jV+8M",m="CheckoutPage_checkoutLeftContainer__uCaxb",d="CheckoutPage_pageTitle__qI+QM",p="CheckoutPage_sectionTitle__5+HAr",v="CheckoutPage_inputRow__zQJ2Y",y="CheckoutPage_inputContainer__B0SjF",g="CheckoutPage_cardContainer__NY+g4",h="CheckoutPage_inputField__Wz1Ve",E="CheckoutPage_checkoutRightContainer__sSAwU",f="CheckoutPage_productsContainer__2SOt1",_="CheckoutPage_products__DuYZP",b="CheckoutPage_planContainer__fk9gT",C="CheckoutPage_planTitle__ymDCz",N="CheckoutPage_price__YeVwJ",x="CheckoutPage_planDetails__PYyTM",P="CheckoutPage_priceDetails__9FXhe",w="CheckoutPage_payButton__xJ0+0",k="CheckoutPage_planTitleBlue__wP0eR",S="CheckoutPage_endingMessage__qtIa5",Z="CheckoutPage_phoneIInput__sSySJ",L="CheckoutPage_phoneContainer__pnf9K",D=a(40694),Y=a(23280),T=a(27658),q=a(34710),A=a(11577),I=a(10904),R=a(89293),B=a(66180),M=a.n(B),H=(a(33500),a(50981)),j=a.n(H),F=a(30994),V=a(88374),z=a(39518),J=a(73500),W=a(88827),U=(a(59565),(0,a(87381).J)("pk_test_"),function(e){var t,a,B,U,O,Q,X=(0,Y.s0)(),G=e.onSuccess,$=e.onClose,ee=void 0===$?function(){return X("/billing-info")}:$,te=e.subscriptionInfo,ae=void 0===te?{}:te,ne=e.companyData,le=void 0===ne?{email:""}:ne,ce=e.paymentPath,re=void 0===ce?"payments":ce,ie=e.withBack,oe=void 0===ie||ie,se=e.label,ue=void 0===se?"Plan":se,me=e.onError,de=void 0===me?function(){}:me,pe=(0,z.v9)((function(e){return e.flowReducer})),ve=pe.payable,ye=(pe.billable,(0,z.v9)((function(e){return e.authReducer}))),ge=(ye.authenticatedUser,(0,i.useRef)()),he=(0,z.I0)(),Ee=(0,i.useState)(""),fe=(0,r.Z)(Ee,2),_e=fe[0],be=fe[1],Ce=(0,i.useState)(""),Ne=(0,r.Z)(Ce,2),xe=Ne[0],Pe=Ne[1],we=(0,i.useState)(""),ke=(0,r.Z)(we,2),Se=ke[0],Ze=ke[1],Le=(0,i.useState)(""),De=(0,r.Z)(Le,2),Ye=De[0],Te=De[1],qe=(0,i.useState)(""),Ae=(0,r.Z)(qe,2),Ie=Ae[0],Re=Ae[1],Be=(0,i.useState)(""),Me=(0,r.Z)(Be,2),He=Me[0],je=Me[1],Fe=(0,i.useState)(""),Ve=(0,r.Z)(Fe,2),ze=Ve[0],Je=Ve[1],We=(0,i.useState)(""),Ue=(0,r.Z)(We,2),Ke=Ue[0],Oe=Ue[1],Qe=(0,i.useState)(""),Xe=(0,r.Z)(Qe,2),Ge=Xe[0],$e=Xe[1],et=(0,i.useState)(""),tt=(0,r.Z)(et,2),at=tt[0],nt=tt[1],lt=(0,i.useState)("4343434343434345"),ct=(0,r.Z)(lt,2),rt=ct[0],it=ct[1],ot=(0,i.useState)(""),st=(0,r.Z)(ot,2),ut=st[0],mt=st[1],dt=(0,i.useState)(""),pt=(0,r.Z)(dt,2),vt=pt[0],yt=pt[1],gt=(0,i.useState)(""),ht=(0,r.Z)(gt,2),Et=ht[0],ft=ht[1],_t=(0,i.useState)(!1),bt=(0,r.Z)(_t,2),Ct=bt[0],Nt=bt[1],xt=(0,i.useState)(""),Pt=(0,r.Z)(xt,2),wt=Pt[0],kt=Pt[1],St=(0,i.useState)(!1),Zt=(0,r.Z)(St,2),Lt=Zt[0],Dt=Zt[1],Yt=(0,i.useState)(""),Tt=(0,r.Z)(Yt,2),qt=Tt[0],At=Tt[1],It=(0,i.useState)(!1),Rt=(0,r.Z)(It,1)[0],Bt=(0,Y.TH)(),Mt=(0,i.useState)(null!==(t=null===Bt||void 0===Bt||null===(a=Bt.state)||void 0===a?void 0:a.subscriptionInfo)&&void 0!==t?t:ae),Ht=(0,r.Z)(Mt,1)[0],jt=(0,i.useState)(null!==(B=null===Bt||void 0===Bt||null===(U=Bt.state)||void 0===U?void 0:U.companyData)&&void 0!==B?B:le),Ft=((0,r.Z)(jt,1)[0],function(){var e=(0,c.Z)((0,n.Z)().mark((function e(t){var a,c,r,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(kt(""),""!==F.lw||""!==at){e.next=4;break}return kt("Please enter card owner name."),e.abrupt("return");case 4:if(t.preventDefault(),kt(""),a=[],""===_e&&a.push("first name"),""===xe&&a.push("last name"),""===Et&&a.push("email"),""===Se&&a.push("full address"),""===Ye&&a.push("city"),""===Ie&&a.push("postal Code"),""===Ge&&""===F.lw&&a.push("phone Number"),!(a.length>0)){e.next=20;break}return a=a.map((function(e,t){return i.createElement("li",{key:t},e)})),c=function(){return i.createElement(i.Fragment,null,i.createElement("span",null,"Please fill in all input fields:"),i.createElement("ul",null,a))},Nt(!1),kt(c),e.abrupt("return");case 20:""!==F.lw&&(o=null!==(r=null===ae||void 0===ae?void 0:ae.ref)&&void 0!==r?r:(0,R.mR)(),he((0,V.zt)({id:o,subscriptionInfo:Ht})),Nt(!0),(0,T.JE)("begin-module"===re||"begin-mobile"===re?'[{"amount":'.concat(100*(null===Ht||void 0===Ht?void 0:Ht.plan_price),',"currency":"PHP","description":"').concat(null===Ht||void 0===Ht?void 0:Ht.ref,'","name":"Payment-').concat(null===Ht||void 0===Ht?void 0:Ht.ref,'","quantity":1}]'):"wallet"===re?'[{"amount":'.concat(100*(null===Ht||void 0===Ht?void 0:Ht.plan_price),',"currency":"PHP","description":"').concat(null===Ht||void 0===Ht?void 0:Ht.user_id,'","name":"Wallet","quantity":1}]'):"[".concat(Ht.billable_users.map((function(e){return'{"amount":'.concat(100*(null===Ht||void 0===Ht?void 0:Ht.plan_price),',"currency":"PHP","description":"').concat(e.id,'","name":"Subscription-').concat(e.first_name," ").concat(e.last_name,'","quantity":1}')})).toString(),"]"),'{"address":{"line1":"'.concat(Se,'","city":"').concat(Ye,'","state":"').concat(ze,'","postal_code":"').concat(Ie,'","country": "PH"},"name":"').concat(_e," ").concat(xe,'","email":"').concat(Et,'"}'),'"'.concat(F.Hf,"#/").concat(re,"/").concat(o,'"'),'"'.concat(o,'"'),"begin-module"===re||"begin-mobile"===re?"Payment":"wallet"===re?"Wallet":"Subscription").pipe((0,A.P)()).subscribe({next:function(e){var t;if(null!==(t=e.data)&&void 0!==t&&t.attributes){var a,n=[].concat((0,l.Z)(ve),[{user_id:Ht.user_id,amount:null===Ht||void 0===Ht?void 0:Ht.total,currency:"PHP",paymentID:o,id:null===Ht||void 0===Ht?void 0:Ht.id,product:null===Ht||void 0===Ht?void 0:Ht.plan,description:null===Ht||void 0===Ht?void 0:Ht.description,session:null===(a=e.data)||void 0===a?void 0:a.id}]);W.h.dispatch((0,V.Wy)(n)),window.location.replace(e.data.attributes.checkout_url)}},complete:function(){},error:function(e){Nt(!1),kt("Payment error.Please contact your administrator"),de("Payment error.Please contact your administrator")}}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return i.createElement("div",{className:o},oe&&i.createElement("div",{className:s},i.createElement(D.Z,{clicked:ee,title:"Back"})),i.createElement("div",{className:u,style:{padding:J.tq?"15px":""}},i.createElement("div",{className:m,style:{width:J.tq?"100%":"",display:Ht?"":"none"}},i.createElement("p",{className:d},"Complete your Purchase"),i.createElement("p",{className:p,style:{marginTop:"50px"}},"Payment Information"),i.createElement("div",{style:{display:""===F.lw?"":"none",margin:"20px 0"}},i.createElement("div",{className:v},i.createElement("div",{className:y},i.createElement(I.Lb,{title:"Name on Card *"}),i.createElement("input",{value:at,onChange:function(e){return nt(e.target.value)},type:"text",name:"state",className:h}))),i.createElement("div",{className:v},F.lw&&i.createElement("div",{className:y,style:{display:"flex"}},i.createElement("div",{className:g},i.createElement(I.Lb,{title:"Card Number"}),i.createElement("input",{value:rt,required:!0,minLength:16,maxLength:16,onChange:function(e){return it(e.target.value)},type:"text",name:"state",className:h})),i.createElement("div",{className:g,style:{width:"30%"}},i.createElement(I.Lb,{title:"Expiry"}),i.createElement("input",{value:ut,required:!0,placeholder:"MM / YY",onChange:function(e){return mt(e.target.value)},type:"month",name:"state",className:h})),i.createElement("div",{className:g,style:{width:"10%",marginRight:"0px"}},i.createElement(I.Lb,{title:"CVC"}),i.createElement("input",{value:vt,required:!0,minLength:3,maxLength:3,placeholder:"CVC",onChange:function(e){return yt(e.target.value)},type:"integer",name:"state",className:h}))))),i.createElement("form",{ref:ge,style:{display:!0===Rt?"none":""}},i.createElement("div",{className:v,style:{flexDirection:J.tq?"column":"row"}},i.createElement("div",{className:y},i.createElement(I.Lb,{title:"First Name"}),i.createElement("input",{value:_e,onChange:function(e){return be(e.target.value)},style:{marginRight:"30px"},type:"text",name:"first-name",className:h})),i.createElement("div",{className:y},i.createElement(I.Lb,{title:"Last Name"}),i.createElement("input",{value:xe,onChange:function(e){return Pe(e.target.value)},type:"text",name:"last-name",className:h}))),i.createElement("div",{className:v,style:{flexDirection:J.tq?"column":"row"}},i.createElement("div",{className:y},i.createElement(I.Lb,{title:"Email"}),i.createElement("input",{value:Et,onChange:function(e){return ft(e.target.value)},style:{marginRight:"30px"},type:"text",name:"email",className:h}))),i.createElement("div",{className:v,style:{flexDirection:J.tq?"column":"row"}},i.createElement("div",{className:y},i.createElement(I.Lb,{title:"Full Address"}),i.createElement("input",{value:Se,onChange:function(e){return Ze(e.target.value)},style:{marginRight:"30px"},type:"text",name:"full-address",className:h}))),i.createElement("div",{className:v,style:{flexDirection:J.tq?"column":"row"}},i.createElement("div",{className:y},i.createElement(I.Lb,{title:"City"}),i.createElement("input",{value:Ye,onChange:function(e){return Te(e.target.value)},style:{marginRight:"30px"},type:"text",name:"city",className:h})),i.createElement("div",{className:y},i.createElement(I.Lb,{title:"Postal Code"}),i.createElement("input",{value:Ie,onChange:function(e){return Re(e.target.value)},type:"text",name:"postal-code",className:h}))),i.createElement("div",{className:v,style:{flexDirection:J.tq?"column":"row"}},i.createElement("div",{className:y},i.createElement(I.Lb,{title:"Country"}),i.createElement("input",{value:He,onChange:function(e){return je(e.target.value)},type:"text",name:"country",className:h})),i.createElement("div",{className:y},i.createElement(I.Lb,{title:"State"}),i.createElement("input",{value:ze,onChange:function(e){return Je(e.target.value)},type:"text",name:"state",className:h}))),i.createElement("div",{className:v,style:{display:""===F.lw?"":"none"}},i.createElement("div",{className:y},i.createElement(I.Lb,{title:"VAT/TAX ID"}),i.createElement("input",{value:Ke,onChange:function(e){return Oe(e.target.value)},style:{marginRight:"30px"},type:"text",name:"vat",className:h})),i.createElement("div",{className:y},i.createElement(I.Lb,{title:"Phone"}),i.createElement("div",{className:L},i.createElement(M(),{country:"ph",value:Ge,onChange:function(e){return $e(e)},inputClass:Z,specialLabel:"",placeholder:"Enter number here...",inputStyle:{border:"none",width:"100%"}})))))),i.createElement("div",{className:E},i.createElement("div",{className:f},i.createElement("p",{className:_},"Products"),i.createElement("div",{className:b},i.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"10px"}},Ht?i.createElement("p",{className:C},null===Ht||void 0===Ht?void 0:Ht.plan):i.createElement("p",{className:C},Bt.state.price.description),Ht?i.createElement("p",{className:N},null===Ht||void 0===Ht?void 0:Ht.currency," ",null===Ht||void 0===Ht?void 0:Ht.plan_price):i.createElement("p",{className:N},Bt.state.price.currency," ",Bt.state.price.price)),i.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"5px",marginBottom:"5px"}},Ht&&i.createElement("p",{className:x},ue),Ht&&i.createElement("p",{className:P},null===Ht||void 0===Ht?void 0:Ht.dlabel))),i.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",margin:"5%"}}),i.createElement("div",{style:{display:void 0===(null===Ht||void 0===Ht||null===(O=Ht.billable_users)||void 0===O?void 0:O.length)?"none":"flex",justifyContent:"space-between",margin:"5%",marginBottom:"0px"}},i.createElement("p",{className:C},"Number of users to bill"),i.createElement("p",{className:N},null===Ht||void 0===Ht?void 0:Ht.billable_users.length)),i.createElement("div",{style:{display:"flex",justifyContent:"space-between",margin:"5%",marginBottom:"20px"}},i.createElement("p",{className:k},"Total (due today)"),Ht?i.createElement("p",{className:k},null===Ht||void 0===Ht?void 0:Ht.currency," ",null===Ht||void 0===Ht?void 0:Ht.total):i.createElement("p",{className:k},Bt.state.price.currency," ",Bt.state.price.price)),i.createElement(D.Z,{className:w,disabled:Ct,title:"Pay Now",clicked:Ht?Ft:function(){var e;kt(""),Nt(!0),(0,T.Ul)(Bt.state.service_name,Bt.state.price.price_code,null!==(e=Bt.state.price.duration)&&void 0!==e?e:null).pipe((0,A.P)()).subscribe({next:function(e){At(e.data.stripe_id),Dt(!0),(0,q.aK)().pipe((0,A.P)()).subscribe({}),Nt(!1)},error:function(e){void 0!=e.data?kt(e.data.message.message):kt("Payment error. Please check your card."),Nt(!1)}})},loading:Ct,style:{backgroundColor:""!==_e&&""!==xe&&""!==Se&&""!==Ye&&""!==Ie&&""!==He&&""!==ze?"":"black"}}),i.createElement("div",{className:S,style:{display:void 0===(null===Ht||void 0===Ht||null===(Q=Ht.billable_users)||void 0===Q?void 0:Q.length)?"none":"flex"}},i.createElement("p",null,""!==F.lw?"Payments by":"You can cancel your plan anytime. Your yearly recurrent payment starts on ".concat(j()(new Date((0,H.now)())).add(1,"years").format("MMMM Do, YYYY"),". You will be billed monthly for the number of Employees in your account.")),i.createElement("img",{src:"https://files.readme.io/7586db8-small-paymongo_api_white.png",style:{height:"40px",width:"160px"}})),i.createElement("div",{style:{display:"flex",justifyContent:"space-between",margin:"5%",marginBottom:"0px",color:"red"}},wt&&i.createElement("div",null,wt))))),Lt&&i.createElement(K,{message:qt,onSuccess:G}))}),K=function(e){var t=e.setCompletedModal,a=e.message,n=e.onSuccess;return i.createElement(I.U7,{isOpen:!0,shadowedContainerStyle:{width:"35%",minWidth:"500px",minHeight:"400px"},onClose:function(){return t(!1)},scrollable:!0,blured:!0},i.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},i.createElement("p",{style:{marginTop:"50px",fontSize:"32px",color:"#4A4A4A",marginBottom:"5px",textAlign:"center"}},"Your subscription to ".concat(R.iC," was successful!")),i.createElement("p",{style:{width:"300px",fontFamily:"var(--app-text-main-font)",fontSize:"16px",color:"#4A4A4A",textAlign:"center",marginBottom:"20px"}},"Your payment reference is ".concat(a),i.createElement("br",null),i.createElement("br",null),"You can look for this in your invoices list in the billing page ",i.createElement("br",null),i.createElement("br",null),i.createElement("span",{style:{fontWeight:"700"}},"Thank you for your purchase!")),i.createElement(D.Z,{style:{width:"200px"},clicked:function(){n(a)},title:"View Invoices"})))}}}]);
//# sourceMappingURL=424.c37e1f93.chunk.js.map