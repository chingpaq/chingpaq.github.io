"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[854],{2854:function(e,t,a){a.r(t),a.d(t,{default:function(){return ie}});var n=a(29439),r=a(67861),o=a(39518),l=a(23280),i=a(88374),s="Login_host__HJ5T9",c="Login_firstContainer__kfGLU",d="Login_headerTopBarContainer__QWz8Y",m="Login_firstContainerContent__wbbdK",u="Login_logoUrlImg__UaUon",p="Login_logoUrlImgMobile__gvaUr",v=a(87462),g=a(12265),f=a(47144),h=a.n(f),_=a(15049),b=a(10103),w=a(98500),y=a(23075),E=a.n(y),N=a(31787);E()(w);var x=a(71982),C=a(57417),L=a(96189),I=a(48630),S=a(45987),M="TextField_inputContainer__-Li1l",B="TextField_ornament__1DMyr",Z="TextField_rightButton__miccv",q="TextField_textInput__TQ2mO",k="TextField_userTextInput__8z5C4",F="TextField_inputLabel__IAwPE",P="TextField_errorContainer__D-YWL",T=["isDisabled","readOnly","label","hasMandatoryIndicator","placeholder","charactersNo","icon","rightButtonLabel","rightButtonAction","rightButtonClass","errorMessage","defaultValue","onChange","name","type","autoComplete"],D=["className","hasError"],R=["className"],U=["children"],A=["hasMandatoryIndicator","children","className"],V=(0,r.forwardRef)((function(e,t){var a=e.isDisabled,o=void 0!==a&&a,l=e.readOnly,i=e.label,s=void 0===i?"":i,c=e.hasMandatoryIndicator,d=e.placeholder,m=void 0===d?"Insert email":d,u=e.charactersNo,p=e.icon,v=e.rightButtonLabel,g=e.rightButtonAction,f=e.rightButtonClass,_=e.errorMessage,b=e.defaultValue,w=e.onChange,y=e.name,E=e.type,N=void 0===E?"text":E,x=e.autoComplete,C=(0,S.Z)(e,T),L=(0,r.useState)(null!==b&&void 0!==b?b:""),I=(0,n.Z)(L,2),q=I[0],F=I[1],P=Boolean(_);return r.createElement("div",C,r.createElement(J,{hasMandatoryIndicator:c},s),r.createElement(O,{hasError:P,className:M},r.createElement(j,{"app-readonly":l?"readonly":"",readOnly:l,autoComplete:x,disabled:o,name:y,type:N,placeholder:m,value:q,maxLength:u,onChange:function(e){F(e.target.value),null===w||void 0===w||w(e)},ref:t,className:k}),p&&r.createElement("div",{className:B},p),v&&r.createElement("button",{type:"button",onClick:g,className:h()(Z,f),style:{fontFamily:"Montserrat",fontSize:"14px",fontWeight:"normal"}},v)),_&&r.createElement(z,null,_))})),O=(0,r.forwardRef)((function(e,t){var a=e.className,n=e.hasError,o=(0,S.Z)(e,D);return r.createElement("div",(0,v.Z)({"app-error":n?"error":"",ref:t},o,{className:h()(M,a)}))})),j=(0,r.forwardRef)((function(e,t){var a=e.className,n=(0,S.Z)(e,R);return r.createElement("input",(0,v.Z)({ref:t},n,{className:h()(q,a)}))}));function z(e){var t=e.children,a=(0,S.Z)(e,U);return r.createElement("p",(0,v.Z)({className:P},a),t)}function J(e){var t=e.hasMandatoryIndicator,a=e.children,n=e.className,o=(0,S.Z)(e,A);return r.createElement("label",(0,v.Z)({className:h()(F,n)},o),a,t&&r.createElement("span",{className:"text-danger"},"*"))}var W=a(12075),G=a(52902),H=a(67861),Q=(0,r.forwardRef)((function(e,t){var a=(0,r.useState)(!1),o=(0,n.Z)(a,2),l=o[0],i=o[1];return H.createElement(V,(0,v.Z)({},e,{ref:t,type:l?"text":"password",rightButtonLabel:l?H.createElement(W.G,{icon:G.Mdf,style:{color:"black",width:"16px",height:"16px"}}):H.createElement(W.G,{icon:G.Aq,style:{color:"black",width:"16px",height:"16px"}}),rightButtonAction:function(){return i((function(e){return!e}))},rightButtonClass:""}))})),X="LoginForm_host__UvJwq",Y="LoginForm_row__9D3he",$="LoginForm_signInButton__VPwbB",K="LoginForm_recoverPasswordButton__fDOss",ee=a(73500),te=a(89293),ae="This company do not have onboard required data yet!\nPlease contact comapny admin.\nBasic company information must be enroled\nBefore you will be granted access to ".concat(te.iC),ne=(0,r.memo)((function(e){var t,a,l,s,c,d,m,u,p=e.onLoginSuccess,f=e.className,y=e.onResetPassword,E=(0,o.I0)(),S=(0,o.v9)((function(e){return e.authReducer.sessionSettings})).rememberMe,M=(0,r.useState)(!1),B=(0,n.Z)(M,2),Z=B[0],q=B[1],k=(0,r.useState)(""),F=(0,n.Z)(k,2),P=F[0],T=F[1],D=(0,r.useMemo)((function(){return{yup:w,schemas:{email:w.string().min(6,"Username must have at least 8 characters"),password:w.string().min(8,"Password must have at least 8 characters"),passwordRepeat:w.string().oneOf([w.ref("password"),null],"Passwords does not match").required("Password repeat is required"),website:w.string().url(),phoneNumber:w.string().test({name:"phone-pattern",message:"Not a valid phone number",test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""==e||(0,N.yf)(e)}}),mobilePhoneNumber:w.string().test({name:"mobile-phone-pattern",message:"Not a valid mobile phone number",test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""==e||(0,N.yf)(e)}}),employerName:w.string().required("Employer name is required")}}}),[]),R=D.schemas,U=D.yup,A=(0,_.cI)({mode:"onSubmit",criteriaMode:"firstError",resolver:(0,g.X)(U.object().shape({email:R.email,password:R.password}))}),O=A.register,j=A.handleSubmit,J=A.formState.errors,W=A.getValues;return r.createElement("form",{onSubmit:j((function(e){T(""),q(!0);var t=W(),a=t.email,n=t.password,r=t.rememberMe;(0,C.n$)({email:a,password:n,rememberMe:r}).pipe((0,b.q)(1)).subscribe({next:function(e){var t=e.is_admin;!1===e.onboarding_status?!0===t?(E((0,x.DJ)(!0)),E((0,x.q9)(!0)),E((0,x.$6)({firstModalVisible:!0})),E((0,i.IW)(!1)),q(!1)):(T(ae),q(!1)):(E((0,x.DJ)(!1)),E((0,x.q9)(!1)),E((0,i.fj)(!0)),q(!1),null===p||void 0===p||p(e))},error:function(e){var t,a="string"==typeof e.data?e.data:null!==e&&void 0!==e&&e.error?null===e||void 0===e?void 0:e.error:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message;T(422===e.status||"Not authenticated"===a?"Invalid user name or password, please try again.":a),q(!1)}})})),className:h()(X,f),onClick:function(){return T("")}},r.createElement("div",{className:Y,"app-variant":"first-row"},r.createElement(V,(0,v.Z)({autoComplete:S?"username":"new-password",type:"text",placeholder:"Email or Username",defaultValue:null!==(t=localStorage.getItem("username"))&&void 0!==t?t:""},O("email")))),r.createElement("div",{className:Y,"app-variant":"second-row"},r.createElement(Q,(0,v.Z)({autoComplete:S?"on":"off",placeholder:"Password",defaultValue:null!==(a=localStorage.getItem("password"))&&void 0!==a?a:""},O("password")))),(P||(null===(l=J.password)||void 0===l?void 0:l.message)||(null===(s=J.email)||void 0===s?void 0:s.message))&&r.createElement(z,null,"".concat(null!==P&&void 0!==P?P:""," ").concat(null!==(c=null===(d=J.password)||void 0===d?void 0:d.message)&&void 0!==c?c:""," ").concat(null!==(m=null===(u=J.email)||void 0===u?void 0:u.message)&&void 0!==m?m:""," ")),r.createElement(L.zx,{disabled:Z,loading:Z,type:"submit",title:"Sign in",className:$}),r.createElement("div",{className:Y,"app-variant":"third-row"},r.createElement(I.X,(0,v.Z)({defaultChecked:S,checkboxLabel:"Remember me"},O("rememberMe"))),r.createElement("br",null),r.createElement("p",{className:K,onClick:y},ee.tq?"Forgot Password":"Need to find your password?"),r.createElement("br",null)))})),re=a(38502),oe=a(88827),le=a(67861),ie=(0,r.memo)((function(e){e.title;var t,a,v=(0,l.s0)(),g=(0,o.I0)(),f=oe.h.getState().flowReducer,h=f.companyData,_=f.lastUpdates,b=oe.h.getState().sessionReducer.authenticated,w=(0,r.useState)(null!==(t=JSON.parse(localStorage.getItem("companyData")))&&void 0!==t?t:{logo:""}),y=(0,n.Z)(w,1)[0];return document.title="Login | ".concat(te.iC),(0,r.useEffect)((function(){b?v("/flowhero"):(g((0,i.fj)(!1)),(0,C.iC)())}),[]),0==b?le.createElement("div",{className:s,"app-custom-media-show":"hide"},le.createElement("div",{className:c},le.createElement("p",{onClick:function(){return v("/flowhero")},style:{cursor:"pointer",fontFamily:"var(--app-text-main-font)",color:"#4A4A4A",textDecoration:"underline",paddingLeft:"10px"}},"Home"),le.createElement("div",{className:d,style:{fontSize:ee.tq?"12px":"16px"}},!(null!==y&&void 0!==y&&y.logo)&&le.createElement("p",null,null===y||void 0===y||null===(a=y.display_name)||void 0===a?void 0:a.toUpperCase()),null!==y&&void 0!==y&&y.logo?le.createElement("img",{alt:"lg",src:null===y||void 0===y?void 0:y.logo,className:ee.tq?p:u}):ee.tq?(0,te.lh)("30px"):(0,te.lh)("34px","var(--app-color-gray-dark)","bold")),le.createElement("div",{className:m,style:{border:ee.tq?"0":"",width:ee.tq?"100%":"25%"}},le.createElement(ne,{onLoginSuccess:function(e){var t=e.isSingleApp;if(_.componentsByModule={},"trial_ended"!==(null===h||void 0===h?void 0:h.status)&&"inactive"!==(null===h||void 0===h?void 0:h.status)){if(!0===t&&ee.tq)return(0,re.V0)(),void v("/mobile");(0,re.e3)()}else{if("inactive"!==(null===h||void 0===h?void 0:h.status))return void v("/login");(0,re.e3)(!0)}v("/")},onResetPassword:function(){return v("/reset-password")}})))):le.createElement("div",{style:{margin:"auto",width:"100%",height:"500px",display:"flex",alignContent:"center",alignItems:"center",justifyItems:"center",justifyContent:"center"}},(0,te.lh)("30px"))}))}}]);
//# sourceMappingURL=854.19c07e5a.chunk.js.map