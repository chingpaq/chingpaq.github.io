"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[6408],{46408:(e,a,t)=>{t.r(a),t.d(a,{LabeledContainer:()=>f,default:()=>P});var l=t(1413),r=t(67861),i=t(29118),n=t(39518),o=t(11577),s=t(43984),d=t(75105),c=t(49465),_=t(14170),u=t(61616),m=t(29),p=t(73500),v=t(88374),y=t(23280);const f=e=>{const{label:a,children:t,readOnly:l}=e;return r.createElement("div",{className:m.Z.labeledContainerHost,style:{width:p.tq?"100%":"50%"},"app-readonly":l?"true":"false"},r.createElement("p",{className:m.Z.labeledContainerLabel},a),t)},g=e=>{const{label:a,error:t,children:l,wrappedContent:i}=e;return r.createElement("div",{className:m.Z.labeledFieldHost},r.createElement("label",{className:m.Z.labeledFieldLabel},a),i?r.createElement("div",{className:m.Z.labeledFieldChildrenContainer},l):l,(null===t||void 0===t?void 0:t.length)>0&&r.createElement("p",{className:m.Z.labeledFieldError},t))},P=(0,n.$j)(e=>{const{authenticatedUser:a}=e.authReducer,{user:t}=e.sessionReducer,{components:l}=e.flowReducer;return{authenticatedUser:a,user:t,components:l}},e=>({onSetAuthenticatedUserPosition:a=>e((0,s.IF)(a))}))(e=>{var a,t,s,f;const{authenticatedUser:P}=e,[,h]=(0,r.useState)(""),[b,E]=(0,r.useState)(P),[C,x]=(0,r.useState)(""),[M,w]=(0,r.useState)(""),[T,Z]=(0,r.useState)(""),[N,S]=(0,r.useState)(""),[F,U]=(0,r.useState)(""),[k,I]=(0,r.useState)(!1),[,L]=(0,r.useState)(!1),[j,O]=(0,r.useState)(!1),H=(0,y.TH)().state;document.title="My Profile | ".concat(c.iC);const D=(0,y.s0)(),B=(0,n.I0)(),G=(0,r.useCallback)(e=>e.forEach(e=>{var a,t;if(h(""),(null===e||void 0===e||null===(a=e.type)||void 0===a?void 0:a.toString().indexOf("image/"))>-1&&["jpeg","jpg","png"].indexOf(null===e||void 0===e||null===(t=e.type)||void 0===t?void 0:t.toString().split("/")[1])>-1){let a=new FileReader;a.readAsDataURL(e),a.onloadend=a=>{(new FormData).append("avatar",e),(0,d.xx)(b.id,e).subscribe({next:e=>{E(e)},error:e=>{h(null===e||void 0===e?void 0:e.data)}})}}}),[]),{getRootProps:R,getInputProps:q,isDragActive:A}=(0,i.uI)({onDrop:G}),[W,z]=(0,r.useState)(""),[J,K]=(0,r.useState)("");(0,r.useEffect)(()=>{var e;z(""),(null===H||void 0===H||null===(e=H.user)||void 0===e?void 0:e.id.length)>0&&(E(H.user),B((0,v.IW)(!1))),B((0,v.tR)(!1))},[]);const[Y,V]=(0,r.useState)({first_name:"",last_name:"",mobile:"",address:"",city:"",postal:""}),[X,Q]=(0,r.useState)({first_name:!1,last_name:!1,mobile:!1,address:!1,city:!1,postal:!1}),$=(0,r.useCallback)(()=>{Object.values(X).some(e=>!0===e)&&(V({first_name:"",last_name:"",mobile:"",address:"",city:"",postal:""}),K(""),(0,d.TP)(b.id,b.first_name,b.last_name,b.phone,b.address,b.city,b.postal).pipe((0,o.P)()).subscribe({next:()=>{Q({first_name:!1,last_name:!1,mobile:!1,address:!1,city:!1,postal:!1})},error:e=>{const a={first_name:"",last_name:"",mobile:"",address:"",city:"",postal:""};var t,r,i,n,o,s;e.data.errors.first_name&&(a.first_name=null===(t=e.data.errors.first_name)||void 0===t?void 0:t.join("; "));e.data.errors.last_name&&(a.last_name=null===(r=e.data.errors.last_name)||void 0===r?void 0:r.join("; "));e.data.errors.mobile&&(a.mobile=null===(i=e.data.errors.mobile)||void 0===i?void 0:i.join("; "));e.data.errors.address&&(a.address=null===(n=e.data.errors.address)||void 0===n?void 0:n.join("; "));e.data.errors.city&&(a.city=null===(o=e.data.errors.city)||void 0===o?void 0:o.join("; "));e.data.errors.postal&&(a.postal=null===(s=e.data.errors.postal)||void 0===s?void 0:s.join("; "));"The given data was invalid."!==e.data.message&&K(e.data.message),V(e=>(0,l.Z)((0,l.Z)({},e),a))}}))},[b,X]);return r.createElement("div",{id:"my-profile-settings",className:m.Z.host,style:{padding:p.tq?"10px":""}},(null===H||void 0===H||null===(a=H.user)||void 0===a||null===(t=a.id)||void 0===t?void 0:t.length)>0&&1==P.is_admin?r.createElement("div",{style:{width:"70%",display:"flex",justifyContent:"space-between"}},r.createElement(_.zx,{title:"Back",clicked:()=>D("/users"),style:{width:"100px"}}),(null===H||void 0===H?void 0:H.user)&&r.createElement(_.zx,{title:"Show Tasks",loading:k,light:!0,clicked:()=>L(!0)})):r.createElement("div",{style:{margin:"80px 0 0 0",display:p.tq?"none":""}},r.createElement(u.Z,{headerTitle:"Change Account Password",targetProcessing:!1})),r.createElement("div",{className:m.Z.labeledContainerHost,style:{width:p.tq?"100%":"50%"}},r.createElement("div",{className:m.Z.userDataWrapper},r.createElement(_.sm,{className:m.Z.userSettingsContainer,style:{padding:p.tq?"0":""},onClickOutside:$},r.createElement("div",{style:{display:p.tq?"":"flex",gap:"24px",marginTop:"15px",width:"100%"}},r.createElement("div",{style:{flex:1}},r.createElement(g,{label:(null===H||void 0===H||null===(s=H.user)||void 0===s||null===(f=s.id)||void 0===f?void 0:f.length)>0&&1==P.is_admin?"Admin Password":"Old Password",error:Y.first_name},r.createElement("input",{type:"password",name:"old-password",className:m.Z.inputField,value:C,onChange:e=>x(e.target.value)}))),r.createElement("div",{style:{flex:1}},r.createElement(g,{label:"New Password",error:Y.first_name},r.createElement("input",{type:"password",name:"new-password",className:m.Z.inputField,value:T,onChange:e=>Z(e.target.value)}))),r.createElement("div",{style:{flex:1}},r.createElement(g,{label:"Verify New Password",error:Y.last_name},r.createElement("input",{type:"password",name:"verify-password",className:m.Z.inputField,value:N,onChange:e=>S(e.target.value)})))),r.createElement("div",{style:{display:"flex"}},C.length>5&&T.length>5&&N.length>5&&r.createElement("div",{style:{display:"flex",gap:"24px",marginTop:"15px",maxWidth:"100%"}},r.createElement(_.zx,{title:"Update password",loading:k,lighter:!0,clicked:()=>{if(I(!0),T!==N)return I(!1),U("Confirmation does not match");(0,d.N4)(C,T,N,b.id).pipe((0,o.P)()).subscribe({next:()=>{I(!1),O(!0),w(""),U(""),J(""),W("")},error:e=>{var a,t,l,r;(console.log(e),null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&null!==(t=a.errors)&&void 0!==t&&t.old_password)&&w(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(r=l.errors)||void 0===r?void 0:r.old_password[0]);I(!1),O(!1)},complete:()=>{x(""),Z(""),S("")}})}}))),r.createElement("div",null,j&&r.createElement("p",{className:m.Z.success},"Password Successfully changed")),r.createElement("div",null,(null===M||void 0===M?void 0:M.length)>0&&r.createElement("p",{className:m.Z.errorGeneralText},M)),r.createElement("div",null,(null===F||void 0===F?void 0:F.length)>0&&r.createElement("p",{className:m.Z.errorGeneralText},F)),r.createElement("div",null,(null===W||void 0===W?void 0:W.length)>0&&r.createElement("p",{className:m.Z.errorGeneralText},W)),r.createElement("div",null,(null===J||void 0===J?void 0:J.length)>0&&r.createElement("p",{className:m.Z.errorGeneralText},J))))))})},61616:(e,a,t)=>{t.d(a,{Z:()=>s});const l="HeaderTopBar_headerTopBar__D+HJ9",r="HeaderTopBar_headerTopBarContainer__1jgza",i="HeaderTopBar_loadingContainer__UcfwW";var n=t(93572),o=t(67861);const s=e=>{const{hasHeaderImg:a,headerTitle:t,headerImgSrc:s,targetProcessing:d}=e;return o.createElement("div",{className:l},o.createElement("div",{className:r},a&&o.createElement("img",{alt:"",src:s}),o.createElement("p",null,t),d&&o.createElement("span",{className:i},o.createElement(n.Z,{type:"Watch",color:"var(--app-color-gray-light)",height:15,width:"".concat(30,"px")}))))}},29:(e,a,t)=>{t.d(a,{Z:()=>l});const l={host:"MyProfile_host__Bnmii",labeledContainerHost:"MyProfile_labeledContainerHost__IQZCc",labeledContainerLabel:"MyProfile_labeledContainerLabel__Tg+ZM",avatarDragContainer:"MyProfile_avatarDragContainer__1jOhu",avatarUploadIcon:"MyProfile_avatarUploadIcon__sZ016",avatarUploadText:"MyProfile_avatarUploadText__9UN2K",avatarAcceptedFormatsText:"MyProfile_avatarAcceptedFormatsText__zXNGB",avatarUploadPictureContainer:"MyProfile_avatarUploadPictureContainer__jjcmU",avatarUploadPictureText:"MyProfile_avatarUploadPictureText__6Jnly",avatarDragInput:"MyProfile_avatarDragInput__90brU",avatarContentContainer:"MyProfile_avatarContentContainer__kqcIC",avatarUrlImg:"MyProfile_avatarUrlImg__yCO7Y",avatarErrorText:"MyProfile_avatarErrorText__nxaLE",labeledFieldHost:"MyProfile_labeledFieldHost__hKuOZ",labeledFieldLabel:"MyProfile_labeledFieldLabel__cdIoV",labeledFieldChildrenContainer:"MyProfile_labeledFieldChildrenContainer__sG4-y",labeledFieldError:"MyProfile_labeledFieldError__xG-9G",label:"MyProfile_label__efRly",inputField:"MyProfile_inputField__RqYBM",emailParagraph:"MyProfile_emailParagraph__XK4WI",positionsParagraph:"MyProfile_positionsParagraph__LuOSk",errorGeneralText:"MyProfile_errorGeneralText__JSHju",success:"MyProfile_success__f1kym",userDataWrapper:"MyProfile_userDataWrapper__k9v75",userSettingsContainer:"MyProfile_userSettingsContainer__lwFPb",deletePositionContainer:"MyProfile_deletePositionContainer__HGaAl",deletePosition_title:"MyProfile_deletePosition_title__3lF+T",deletePosition_description:"MyProfile_deletePosition_description__1MKdp",deletePosition_checkboxContainer:"MyProfile_deletePosition_checkboxContainer__8r2sD",deletePosition_buttonContainer:"MyProfile_deletePosition_buttonContainer__0eBDk",selectText:"MyProfile_selectText__7EfSy",employeesMOL:"MyProfile_employeesMOL__B-L1Y",industryMOL:"MyProfile_industryMOL__yvJtL",industryMOLI:"MyProfile_industryMOLI__fbLN+"}}}]);
//# sourceMappingURL=6408.1c61e89e.chunk.js.map