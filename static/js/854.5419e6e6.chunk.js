"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[854],{2854:function(e,t,a){a.r(t),a.d(t,{default:function(){return re}});var n=a(29439),r=a(67861),o=a(39518),l=a(23280),i=a(88374),s="Login_headerTopBarContainer__QWz8Y",c="Login_logoUrlImg__UaUon",d="Login_logoUrlImgMobile__gvaUr",u=a(87462),m=a(12265),p=a(47144),g=a.n(p),f=a(15049),h=a(10103),v=a(98500),y=a(23075),b=a.n(y),w=a(31787);b()(v);var x=a(71982),E=a(57417),_=a(96189),C=a(48630),N=a(45987),S="TextField_inputContainer__-Li1l",I="TextField_ornament__1DMyr",k="TextField_rightButton__miccv",M="TextField_textInput__TQ2mO",B="TextField_userTextInput__8z5C4",L="TextField_inputLabel__IAwPE",Z="TextField_errorContainer__D-YWL",q=["isDisabled","readOnly","label","hasMandatoryIndicator","placeholder","charactersNo","icon","rightButtonLabel","rightButtonAction","rightButtonClass","errorMessage","defaultValue","onChange","name","type","autoComplete"],F=["className","hasError"],T=["className"],P=["children"],R=["hasMandatoryIndicator","children","className"],D=(0,r.forwardRef)((function(e,t){var a=e.isDisabled,o=void 0!==a&&a,l=e.readOnly,i=e.label,s=void 0===i?"":i,c=e.hasMandatoryIndicator,d=e.placeholder,u=void 0===d?"Insert email":d,m=e.charactersNo,p=e.icon,f=e.rightButtonLabel,h=e.rightButtonAction,v=e.rightButtonClass,y=e.errorMessage,b=e.defaultValue,w=e.onChange,x=e.name,E=e.type,_=void 0===E?"text":E,C=e.autoComplete,M=(0,N.Z)(e,q),L=(0,r.useState)(null!==b&&void 0!==b?b:""),Z=(0,n.Z)(L,2),F=Z[0],T=Z[1],P=Boolean(y);return r.createElement("div",M,r.createElement(O,{hasMandatoryIndicator:c},s),r.createElement(U,{hasError:P,className:S},r.createElement(V,{"app-readonly":l?"readonly":"",readOnly:l,autoComplete:C,disabled:o,name:x,type:_,placeholder:u,value:F,maxLength:m,onChange:function(e){T(e.target.value),null===w||void 0===w||w(e)},ref:t,className:B}),p&&r.createElement("div",{className:I},p),f&&r.createElement("button",{type:"button",onClick:h,className:g()(k,v),style:{fontFamily:"Montserrat",fontSize:"14px",fontWeight:"normal"}},f)),y&&r.createElement(z,null,y))})),U=(0,r.forwardRef)((function(e,t){var a=e.className,n=e.hasError,o=(0,N.Z)(e,F);return r.createElement("div",(0,u.Z)({"app-error":n?"error":"",ref:t},o,{className:g()(S,a)}))})),V=(0,r.forwardRef)((function(e,t){var a=e.className,n=(0,N.Z)(e,T);return r.createElement("input",(0,u.Z)({ref:t},n,{className:g()(M,a)}))}));function z(e){var t=e.children,a=(0,N.Z)(e,P);return r.createElement("p",(0,u.Z)({className:Z},a),t)}function O(e){var t=e.hasMandatoryIndicator,a=e.children,n=e.className,o=(0,N.Z)(e,R);return r.createElement("label",(0,u.Z)({className:g()(L,n)},o),a,t&&r.createElement("span",{className:"text-danger"},"*"))}var A=a(12075),W=a(52902),j=a(67861),J=(0,r.forwardRef)((function(e,t){var a=(0,r.useState)(!1),o=(0,n.Z)(a,2),l=o[0],i=o[1];return j.createElement(D,(0,u.Z)({},e,{ref:t,type:l?"text":"password",rightButtonLabel:l?j.createElement(A.G,{icon:W.Mdf,style:{color:"black",width:"16px",height:"16px"}}):j.createElement(A.G,{icon:W.Aq,style:{color:"var(--app-color-gray-light)",width:"16px",height:"16px"}}),rightButtonAction:function(){return i((function(e){return!e}))},rightButtonClass:""}))})),Y="LoginForm_host__UvJwq",G="LoginForm_row__9D3he",Q="LoginForm_signInButton__VPwbB",X="LoginForm_recoverPasswordButton__fDOss",$=a(73500),H=a(89293),K="This company do not have onboard required data yet!\nPlease contact comapny admin.\nBasic company information must be enroled\nBefore you will be granted access to ".concat(H.iC),ee=(0,r.memo)((function(e){var t,a,l,s,c,d,p,y,b=e.onLoginSuccess,N=e.className,S=e.onResetPassword,I=(0,o.I0)(),k=(0,o.v9)((function(e){return e.authReducer.sessionSettings})).rememberMe,M=(0,r.useState)(!1),B=(0,n.Z)(M,2),L=B[0],Z=B[1],q=(0,r.useState)(""),F=(0,n.Z)(q,2),T=F[0],P=F[1],R=(0,r.useMemo)((function(){return{yup:v,schemas:{email:v.string().min(6,"Username must have at least 8 characters"),password:v.string().min(8,"Password must have at least 8 characters"),passwordRepeat:v.string().oneOf([v.ref("password"),null],"Passwords does not match").required("Password repeat is required"),website:v.string().url(),phoneNumber:v.string().test({name:"phone-pattern",message:"Not a valid phone number",test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""==e||(0,w.yf)(e)}}),mobilePhoneNumber:v.string().test({name:"mobile-phone-pattern",message:"Not a valid mobile phone number",test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""==e||(0,w.yf)(e)}}),employerName:v.string().required("Employer name is required")}}}),[]),U=R.schemas,V=R.yup,O=(0,f.cI)({mode:"onSubmit",criteriaMode:"firstError",resolver:(0,m.X)(V.object().shape({email:U.email,password:U.password}))}),A=O.register,W=O.handleSubmit,j=O.formState.errors,H=O.getValues;return r.createElement("form",{onSubmit:W((function(e){P(""),Z(!0);var t=H(),a=t.email,n=t.password,r=t.rememberMe;(0,E.n$)({email:a,password:n,rememberMe:r}).pipe((0,h.q)(1)).subscribe({next:function(e){var t=e.is_admin;!1===e.onboarding_status?!0===t?(I((0,x.DJ)(!0)),I((0,x.q9)(!0)),I((0,x.$6)({firstModalVisible:!0})),I((0,i.IW)(!1)),Z(!1)):(P(K),Z(!1)):(I((0,x.DJ)(!1)),I((0,x.q9)(!1)),I((0,i.fj)(!0)),Z(!1),null===b||void 0===b||b(e))},error:function(e){var t,a="string"==typeof e.data?e.data:null!==e&&void 0!==e&&e.error?null===e||void 0===e?void 0:e.error:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message;P(422===e.status||"Not authenticated"===a?"Invalid user name or password, please try again.":a),Z(!1)}})})),className:g()(Y,N),onClick:function(){return P("")}},r.createElement("div",{className:G,"app-variant":"first-row"},r.createElement(D,(0,u.Z)({autoComplete:k?"username":"new-password",type:"text",placeholder:"Email or Username",defaultValue:null!==(t=localStorage.getItem("username"))&&void 0!==t?t:""},A("email")))),r.createElement("div",{className:G,"app-variant":"second-row"},r.createElement(J,(0,u.Z)({autoComplete:k?"on":"off",placeholder:"Password",defaultValue:null!==(a=localStorage.getItem("password"))&&void 0!==a?a:""},A("password")))),(T||(null===(l=j.password)||void 0===l?void 0:l.message)||(null===(s=j.email)||void 0===s?void 0:s.message))&&r.createElement(z,null,"".concat(null!==T&&void 0!==T?T:""," ").concat(null!==(c=null===(d=j.password)||void 0===d?void 0:d.message)&&void 0!==c?c:""," ").concat(null!==(p=null===(y=j.email)||void 0===y?void 0:y.message)&&void 0!==p?p:""," ")),r.createElement(_.zx,{disabled:L,loading:L,type:"submit",title:"Sign in",className:Q}),r.createElement("div",{className:G,"app-variant":"third-row"},r.createElement(C.X,(0,u.Z)({defaultChecked:k,checkboxLabel:"Remember me"},A("rememberMe"))),r.createElement("br",null),r.createElement("p",{className:X,onClick:S},$.tq?"Forgot Password":"Need to find your password?"),r.createElement("br",null)))})),te=a(38502),ae=a(88827),ne=a(67861),re=(0,r.memo)((function(e){e.title;var t,a,u=(0,l.s0)(),m=(0,o.I0)(),p=ae.h.getState().flowReducer,g=p.companyData,f=p.lastUpdates,h=ae.h.getState().sessionReducer.authenticated,v=(0,r.useState)(null!==(t=JSON.parse(localStorage.getItem("companyData")))&&void 0!==t?t:{logo:""}),y=(0,n.Z)(v,1)[0];return document.title="Login | ".concat(H.iC),(0,r.useEffect)((function(){h?u("/flowhero"):(m((0,i.fj)(!1)),m((0,i.aV)()),(0,E.iC)())}),[]),0==h?ne.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",height:"98vh"}},ne.createElement("div",{style:{width:$.tq?"100%":"20%",padding:"20px",minWidth:"300px"}},ne.createElement("div",{className:s,style:{fontSize:$.tq?"12px":"16px",marginTop:"20px"},onClick:function(){return u("/flowhero")}},!(null!==y&&void 0!==y&&y.logo)&&ne.createElement("p",null,null===y||void 0===y||null===(a=y.display_name)||void 0===a?void 0:a.toUpperCase()),null!==y&&void 0!==y&&y.logo?ne.createElement("img",{alt:"lg",src:null===y||void 0===y?void 0:y.logo,className:$.tq?d:c}):$.tq?(0,H.lh)("30px","var(--app-color-gray-dark)",""):(0,H.lh)("32px","var(--app-color-gray-dark)","bold")),ne.createElement(ee,{onLoginSuccess:function(e){var t=e.isSingleApp;if(f.componentsByModule={},"trial_ended"!==(null===g||void 0===g?void 0:g.status)&&"inactive"!==(null===g||void 0===g?void 0:g.status)){if(!0===t&&$.tq)return(0,te.V0)(),void u("/mobile");(0,te.e3)()}else{if("inactive"!==(null===g||void 0===g?void 0:g.status))return void u("/login");(0,te.e3)(!0)}u("/")},onResetPassword:function(){return u("/reset-password")}})),ne.createElement("div",{style:{width:"80%",display:$.tq?"none":"flex",height:"inherit",backgroundColor:"rgb(246,244,236)",justifyContent:"flex-end",padding:"20px"}},ne.createElement(_.zx,{light:!0,title:"HOME",clicked:function(){return u("/flowhero")},titleStyle:{fontFamily:"var(--app-text-main-font)",color:"black",fontWeight:"bold",fontSize:"14px",letterSpacing:"0.8px"},style:{margin:"2px 20px 0 0",backgroundColor:"transparent"}}),ne.createElement("p",{onClick:function(){return u("/")},style:{cursor:"pointer",padding:"0 20px",fontFamily:"var(--app-text-main-font)",color:"black",fontWeight:"bold",fontSize:"14px",letterSpacing:"0.8px"}},"CONTACT US"),ne.createElement("p",{onClick:function(){return u("/legal")},style:{cursor:"pointer",padding:"0 20px",fontFamily:"var(--app-text-main-font)",color:"black",fontWeight:"bold",fontSize:"14px",letterSpacing:"0.8px"}},"PRIVACY"))):ne.createElement("div",{style:{margin:"auto",width:"100%",height:"500px",display:"flex",alignContent:"center",alignItems:"center",justifyItems:"center",justifyContent:"center"}},(0,H.lh)("30px"))}))}}]);
//# sourceMappingURL=854.5419e6e6.chunk.js.map