"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[9645],{60534:function(e,t,n){n.d(t,{Z:function(){return v}});var l=n(87462),o=n(1413),a=n(29439),i="CustomTemplateModuleList_tableHostSimple__DKMyh",r="CustomTemplateModuleList_tableHost__R91MZ",d="CustomTemplateModuleList_tableReport__a-GX7",u="CustomTemplateModuleList_footer__+fQpw",s=n(90369),c=n(73500),m=n(67861),p=n(67861),v=function(e){var t=e.columns,n=void 0===t?[]:t,v=e.layeredColumns,f=void 0===v?[]:v,y=e.isReport,g=e.title,h=e.list,C=void 0===h?[]:h,S=e.footer,b=void 0===S?[]:S,E=e.onListItemClick,_=void 0===E?function(){}:E,Z=e.onCellClick,w=void 0===Z?function(){}:Z,N=e.className,L=e.children,I=e.tableStyle,x=e.tableHostSimple,M=e.hideHeaders,O=void 0!==M&&M,k=(0,m.useState)(void 0),T=(0,a.Z)(k,2),P=(T[0],T[1]),B=c.tq?n.slice(0,5):n;function F(e){var t=e.columns,n=e.data,a=(0,s.useTable)({columns:t,data:n}),m=a.getTableProps,v=a.getTableBodyProps,f=a.headerGroups,h=a.rows,S=a.prepareRow;return p.createElement("div",{className:g?y?d:x||r:x||i,style:(0,o.Z)((0,o.Z)({},I),{},{fontSize:c.tq?"12px":"16px"})},p.createElement("table",(0,l.Z)({},m(),{size:"sm"}),p.createElement("thead",{style:{display:O?"none":""}},f.map((function(e,t){return p.createElement("tr",(0,l.Z)({key:t},e.getHeaderGroupProps()),e.headers.map((function(e,t){return p.createElement("th",(0,l.Z)({key:t},e.getHeaderProps()),p.createElement("div",{style:{border:"0"}},e.render("Header")))})))}))),p.createElement("tbody",v(),h.map((function(e,t){var n,o;return S(e)||p.createElement("tr",(0,l.Z)({key:t},e.getRowProps(),{onClick:function(){P(t),_(C[e.index])},style:{pointerEvents:null!==(n=C[t])&&void 0!==n&&n.enabled?"":0==(null===(o=C[t])||void 0===o?void 0:o.enabled)?"none":""}}),e.cells.map((function(n,o){return p.createElement("td",(0,l.Z)({key:o},n.getCellProps(),{onClick:function(l){w({cell:n.render("Cell"),column:o,row:t,data:C[e.index],top:l.clientX,left:l.clientY})}}),p.createElement("div",{style:{border:"0"}},n.render("Cell")))})))})),b.length>0&&p.createElement("tr",null,(c.tq?b.slice(0,3):b).map((function(e,t){return p.createElement("td",{key:t},p.createElement("div",{className:u},e))}))))))}return p.createElement("div",{className:null!==N&&void 0!==N?N:"","app-variant-is-mobile":c.tq?"true":"false",style:(0,o.Z)((0,o.Z)({},e.style),{},{display:"flex",flexDirection:"column",margin:"auto"})},p.createElement("div",{style:{marginBottom:"10px",width:"100%"}},L,!g&&B.length>0&&p.createElement(F,{columns:B.map((function(e){return{Header:function(){return p.createElement("span",null,e)},accessor:e}})),data:C}),g&&B.length>0&&p.createElement(F,{columns:[{Header:g,columns:B.map((function(e){return{Header:e,accessor:e}}))}],data:C}),f.length>0&&p.createElement(F,{columns:f.map((function(e){return null!==e&&void 0!==e&&e.subColumns?{Header:e.label,columns:e.subColumns.map((function(e){return{Header:e.label,accessor:e.label}}))}:{Header:function(){return p.createElement("span",null,e.label)},accessor:e.label}})),data:C})))}},30928:function(e,t,n){n.r(t),n.d(t,{default:function(){return _l}});var l=n(1413),o=n(93433),a=n(29439),i=n(67861),r=n(39518),d=n(11577),u=n(13845),s=n(95242),c=n(29937),m=n(88374),p=n(93389),v=n(89293),f=n(10904),y=n(85718),g="ProcessOptionsModal_host__4xb31",h="ProcessOptionsModal_target__Cmhw-",C="ProcessOptionsModal_title__JOTDc",S="ProcessOptionsModal_elementTextInput__8yK8r",b="ProcessOptionsModal_optionSection__Vj7zH",E="ProcessOptionsModal_controls__aDMTt",_="ProcessOptionsModal_controls2__fRbTq",Z="ProcessOptionsModal_errorContainer__YQXXM",w="ProcessOptionsModal_messageContainer__ca1I4",N="ProcessOptionsModal_selectComponentContainer__aYCuu",L="ProcessOptionsModal_multiSelectContainer__ee4zs",I="ProcessOptionsModal_multiSelectSearchInput__xCVpC",x="ProcessOptionsModal_multiSelectMenuOverlayList__bP915",M="ProcessOptionsModal_multiSelectMenuOverlayListItem__Gaoic",O=n(63077),k=n(88827),T=n(73500),P=n(27436),B=n(7162),F=n(46034),D=n(27197),A=n(90252);var W=n(34710),V=n(12075),z=n(52902),R=n(71982),U=n(67861),j=(n(66918),function(e){var t=e.children;return U.createElement("div",{className:b},t)}),q=(0,r.$j)((function(e){var t=e.flowReducer;return{companyProcesses:t.companyProcesses,companyPositionsArray:t.companyPositionsArray,allModules:t.allModules,components:t.components,onBoardingCompleted:t.onBoardingCompleted,companyData:t.companyData,onBoardingModalsVisibility:e.modalsReducer.onBoardingModalsVisibility}}))((function(e){var t,n,r,u=e.onClose,s=void 0===u?function(){}:u,y=e.onCreate,b=void 0===y?function(){}:y,T=e.isOpen,q=e.companyProcesses,H=e.selectedProcess,K=e.selectedProcessId,X=void 0===K?"":K,G=e.shadowedContainerStyle,Y=e.onBoardingCompleted,J=e.companyData,Q=e.onSkip,$=e.companyPositionsArray,ee=e.onBoardingModalsVisibility,te=(0,i.useState)(""!==(null===H||void 0===H?void 0:H.id)),ne=(0,a.Z)(te,2),le=ne[0],oe=ne[1],ae=(0,i.useState)(""),ie=(0,a.Z)(ae,2),re=ie[0],de=ie[1],ue=(0,i.useState)(H||void 0),se=(0,a.Z)(ue,2),ce=se[0],me=se[1],pe=(0,i.useState)(H?H.name:""),ve=(0,a.Z)(pe,2),fe=ve[0],ye=ve[1],ge=(0,i.useState)(H?H.description:""),he=(0,a.Z)(ge,2),Ce=he[0],Se=he[1],be=(0,i.useState)(""),Ee=(0,a.Z)(be,2),_e=Ee[0],Ze=Ee[1],we=(0,c._M)(),Ne=(0,a.Z)(we,2)[1],Le=(0,i.useState)(!1),Ie=(0,a.Z)(Le,2),xe=Ie[0],Me=Ie[1],Oe=(0,i.useState)(!1),ke=(0,a.Z)(Oe,2),Te=ke[0],Pe=ke[1],Be=(0,i.useState)(!1),Fe=(0,a.Z)(Be,2),De=(Fe[0],Fe[1]),Ae=(0,i.useState)(null!==$&&void 0!==$?$:[]),We=(0,a.Z)(Ae,2),Ve=We[0],ze=We[1],Re=(0,i.useState)(null!==(t=null===H||void 0===H||null===(n=H.shared_positions)||void 0===n?void 0:n.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:e.id}})))&&void 0!==t?t:[]),Ue=(0,a.Z)(Re,2),je=Ue[0],qe=Ue[1],He=(0,i.useState)(!0),Ke=(0,a.Z)(He,2),Xe=(Ke[0],Ke[1]),Ge=(0,i.useState)([]),Ye=(0,a.Z)(Ge,2),Je=Ye[0],Qe=Ye[1],$e=(0,i.useState)(""),et=(0,a.Z)($e,2),tt=et[0],nt=et[1];(0,i.useEffect)((function(){1==le&&((0,p.zJ)(X).pipe((0,d.P)()).subscribe({next:function(e){var t,n,l=null!==(t=null===e||void 0===e||null===(n=e.shared_positions)||void 0===n?void 0:n.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:e.id}})))&&void 0!==t?t:[];qe((0,o.Z)(l)),Xe(!1)},error:function(e){Xe(!1)}}),0==(null===$||void 0===$?void 0:$.length)&&(De(!0),Xe(!0),(0,W.OW)().pipe((0,d.P)()).subscribe({next:function(e){ze(null===e||void 0===e?void 0:e.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:e.id}}))),De(!1)},error:function(e){De(!1)}})))}),[le,X]);var lt=(0,i.useCallback)((function(){Me(!0),nt(""),"superadmin"!==(null===J||void 0===J?void 0:J.status)?(0,p.QK)(X,null===Je||void 0===Je?void 0:Je.map((function(e){return null===e||void 0===e?void 0:e.value}))).pipe((0,d.P)(),function(e,t,n){var l=(0,B.m)(e)||t||n?{next:e,error:t,complete:n}:e;return l?(0,F.e)((function(e,t){var n;null===(n=l.subscribe)||void 0===n||n.call(l);var o=!0;e.subscribe((0,D.x)(t,(function(e){var n;null===(n=l.next)||void 0===n||n.call(l,e),t.next(e)}),(function(){var e;o=!1,null===(e=l.complete)||void 0===e||e.call(l),t.complete()}),(function(e){var n;o=!1,null===(n=l.error)||void 0===n||n.call(l,e),t.error(e)}),(function(){var e,t;o&&(null===(e=l.unsubscribe)||void 0===e||e.call(l)),null===(t=l.finalize)||void 0===t||t.call(l)})))})):A.y}({next:function(){},complete:function(){}})).subscribe({next:function(e){rt()},error:function(e){nt(ot(e))}}):rt()}),[X,Je,fe,Ce]),ot=(0,i.useCallback)((function(e){var t,n,l,o;if(!(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.errors||null===(n=e.data)||void 0===n)&&n.message)return null===(l=e.data)||void 0===l?void 0:l.message;if(null!==e&&void 0!==e&&null!==(o=e.data)&&void 0!==o&&o.errors){var a,i,r,d,u=/^(?:\D*\d)/g;return(null===(a=Object.values(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.errors))||void 0===a||null===(i=a.map((function(e){var t=null===e||void 0===e?void 0:e.map((function(e){var t,n=e.match(/\d/g)[0];return(null===e||void 0===e?void 0:e.replace(u,null===(t=Je[n])||void 0===t?void 0:t.label))+"\n"}));return null===t||void 0===t?void 0:t.join("")})))||void 0===i?void 0:i.join(""))+(null===(d=e.data)||void 0===d?void 0:d.message)}return""}),[Je]),at=(null===q||void 0===q?void 0:q.length)>0?q.map((function(e){return{label:e.name,value:e,process:e}})):[],it=function(){Ne({type:c.Cb.setAllSteps,value:[]}),Me(!0),(0,p.QN)(fe,Ce,null===ce||void 0===ce?void 0:ce.type).pipe((0,d.P)()).subscribe({next:function(e){Me(!1),k.h.dispatch((0,m.Xu)(e)),ee.seventhModalVisible&&k.h.dispatch((0,R.$6)({eightModalVisible:!0})),Ne({type:c.Cb.addNewStep,value:e.id}),b()},error:function(e){},complete:function(){}})},rt=(0,i.useCallback)((function(){Me(!0),(0,p.gQ)(null===ce||void 0===ce?void 0:ce.id,fe,Ce,null===ce||void 0===ce?void 0:ce.type).pipe((0,d.P)()).subscribe({next:function(e){Me(!1),k.h.dispatch((0,m.Xu)(e)),Y?null===s||void 0===s||s():b()}})}),[ce,fe,Ce]),dt={control:function(e,t){return(0,l.Z)((0,l.Z)({},e),{},{boxShadow:"none","&:hover":{border:"1px solid var(--app-color-gray-lighter)"},position:"relative",height:"60px",width:"101%",border:"var(--app-color-gray-lighter) solid 1px",borderRadius:"8px",padding:"3px",fontFamily:"var(--app-text-main-font)",fontSize:"1.4em",color:"#4A4A4A",textAlign:"left",flex:"1 1 auto",justifyContent:"center",alignItems:"center",alignContent:"center",alignSelf:"center",margin:"0px 0 0 0 ",marginBottom:"20px"})},input:function(e,t){return(0,l.Z)((0,l.Z)({},e),{},{fontFamily:"var(--app-text-main-font)",color:"#4A4A4A",width:"100%",textAlign:"left",fontSize:"0.8em",alignSelf:"center",padding:"0",marginLeft:0,textIndent:"0"})},menu:function(e,t){return(0,l.Z)((0,l.Z)({},e),{},{justifyContent:"center",alignItems:"center",verticalTextAlign:"center",alignContent:"center",fontFamily:"var(--app-text-main-font)"})},menulist:function(e,t){return(0,l.Z)((0,l.Z)({},e),{},{justifyContent:"center",alignItems:"center",verticalTextAlign:"center",alignContent:"center",fontFamily:"var(--app-text-main-font)"})},option:function(e,t){return(0,l.Z)((0,l.Z)({},e),{},{minHeight:15,paddingTop:0,fontSize:"1.1em",verticalTextAlign:"center",justifyContent:"center",alignItems:"center",alignContent:"center",fontFamily:"var(--app-text-main-font)"})},placeholder:function(e,t){return(0,l.Z)((0,l.Z)({},e),{},{fontSize:"0.75em",lineHeight:"20px",color:"#4A4A4A",fontWeight:400,overflow:"hidden",fontFamily:"var(--app-text-main-font)"})},singleValue:function(e,t){var n=t.isDisabled?.5:1;return(0,l.Z)((0,l.Z)({},e),{},{opacity:n,transition:"opacity 300ms",marginLeft:"0px",fontSize:"0.75em",lineHeight:"20px",color:"#4A4A4A",fontFamily:"var(--app-text-main-font)"})},indicatorsContainer:function(e,t){t._data;return(0,l.Z)((0,l.Z)({},e),{},{marginTop:"auto",marginBottom:"auto",color:"#4A4A4A",size:7,":hover":{color:"gray"},width:"65px",height:"45px",fontFamily:"var(--app-text-main-font)"})}};return U.createElement(f.U7,{isOpen:T,blured:!0,scrollable:!0,shadowedContainerStyle:G},U.createElement("div",{className:g},U.createElement("div",{className:h},U.createElement("p",{className:C,style:{display:Y?"":"none"}},(null===H||void 0===H||null===(r=H.id)||void 0===r?void 0:r.length)>0?"edit":"create new"," ","workflow"),U.createElement(j,null,e.children,U.createElement(f.Lb,{title:"Name of workflow"}),U.createElement("input",{type:"text",name:"element-name",value:fe,onChange:function(e){return ye(e.target.value)},className:S,style:{marginBottom:"10px"}}),U.createElement(f.Lb,{title:"Description of workflow"}),U.createElement("textarea",{type:"text",name:"element-name",value:Ce,onChange:function(e){return Se(e.target.value)},className:S,style:{marginBottom:"10px",height:"100px"}}),le&&U.createElement(f.Lb,{title:"Show workflow to positions"}),le&&U.createElement("div",{className:N},U.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"X",tagEmplacement:"inlined",items:Ve,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:je,className:L,inputClassName:I,molclassname:x,moliclassname:M,placeholder:"Select...",onChange:function(e){Qe(e)}},U.createElement(V.G,{icon:z.ptq,style:{marginRight:"10px"}})),(null===tt||void 0===tt?void 0:tt.length)>0&&U.createElement("span",{className:Z},tt)),U.createElement("br",null),U.createElement("br",null),at.length>0&&U.createElement(f.Lb,{title:"Select Another Workflow to Edit"}),at.length>0&&U.createElement(O.ZP,{onFocus:function(){return de("")},isSearchable:!1,key:"Workflow",styles:dt,placeholder:"Select workflow to edit...",components:{DropdownIndicator:v.ms},options:at,onChange:function(e){"New Workflow"!==e.label?(me(e.process),ye(e.process.name),Se(e.process.description),k.h.dispatch((0,m.Xu)(e.process)),oe(!0)):(k.h.dispatch((0,m.Xu)({description:"",id:"",is_pinned:!1,name:"",user_id:"",registered:!1,type:!1,steps:[]})),me({description:"",id:"",is_pinned:!1,name:"",user_id:"",registered:!1,type:!1,steps:[]}),ye(""),Se(""),oe(!1))}})),(null===_e||void 0===_e?void 0:_e.length)>0&&U.createElement(P.Z,{message:_e,onClick:function(){return Ze("")}}),(null===re||void 0===re?void 0:re.length)>0&&U.createElement("span",{className:w,onClick:function(){return de("")}},re)),U.createElement("div",{className:Y?E:_},Y&&U.createElement(f.zx,{title:"Close",clicked:s}),!Y&&U.createElement(f.zx,{light:!0,title:"Back",clicked:s}),!le&&Y&&U.createElement(f.zx,{light:!0,title:"Save",loading:xe,clicked:it}),U.createElement("div",{style:{display:"flex"}},!le&&!Y&&U.createElement(f.zx,{title:"Skip",loading:Te,clicked:function(){Pe(!0),Q()}}),!le&&!Y&&U.createElement(f.zx,{title:"Create",loading:xe,clicked:it})),le&&U.createElement(f.zx,{light:!0,title:"Update",loading:xe,clicked:lt}))))})),H="WorkflowTemplatesModal_host__Q3zbH",K="WorkflowTemplatesModal_header__N8ZLt",X="WorkflowTemplatesModal_title__23bdy",G="WorkflowTemplatesModal_subtitle__oBjjB",Y="WorkflowTemplatesModal_controls__ajc+K",J="WorkflowTemplatesModal_trialTitle__dTNg9",Q="WorkflowTemplatesModal_subTitle__Bzxqf",$="WorkflowTemplatesModal_trialText__c0htd",ee="WorkflowTemplatesModal_currentInvoicesContainer__-k6ew",te=n(23280),ne=n(60761),le=n(67861),oe=(0,r.$j)((function(e){var t=e.flowReducer;return{companyProcesses:t.companyProcesses,companyPositionsArray:t.companyPositionsArray,allModules:t.allModules,components:t.components,onBoardingCompleted:t.onBoardingCompleted,workflowTemplates:t.workflowTemplates}}))((function(e){var t=e.isOpen,n=e.shadowedContainerStyle,l=e.onCreateBlank,o=e.gotoProcess,u=e.workflowTemplates,s=e.gotoComponents,y=(0,i.useState)(!1),g=(0,a.Z)(y,2),h=g[0],C=g[1],S=(0,i.useState)({name:"",steps:[]}),b=(0,a.Z)(S,2),E=b[0],_=b[1],Z=(0,r.v9)((function(e){return e.modalsReducer})),w=Z.onBoardingModalsVisibility,N=(Z.isOnboarding,w.secondModalVisible),L=w.fourthModalVisible,I=w.sixthModalVisible,x=w.templatesFirst,M=(0,r.I0)();document.title="New Workflow | ".concat(v.iC);var O=(0,te.s0)();return le.createElement(c.FZ,null,le.createElement(f.U7,{isOpen:t,blured:!1,scrollable:!0,shadowedContainerStyle:n},le.createElement("div",{className:H},le.createElement("div",{style:{display:"flex",alignItems:"center"}},le.createElement("p",{className:X},"New Workflow"),le.createElement(f.zx,{clear:!0,loading:h})),le.createElement("p",{className:G},"Start a new workflow or select from any of our predefined templates"),le.createElement("div",{style:{display:""===(null===E||void 0===E?void 0:E.name)||h?"none":"",width:"100%"}},le.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"0 30px 0 30px"}},le.createElement(f.zx,{title:"Hide",light:!0,clicked:function(){_({name:""}),C(!1),M((0,m.Xu)({name:"",steps:[]}))}}),le.createElement(f.zx,{title:"Create",light:!0,style:{color:"white",backgroundColor:"green"},clicked:function(){C(!0),(0,p.yx)(E).pipe((0,d.P)()).subscribe({next:function(e){C(!1),o(e)},error:function(e){C(!1)}})}})),le.createElement(ne.Z,null)),le.createElement("div",{className:ee,style:{maxWidth:"40%",minWidth:"360px",width:"20%",backgroundColor:N||L?"lightblue":""}},le.createElement("p",{className:J},"Components"),le.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",marginBottom:"20px"}}),le.createElement("div",{className:K},le.createElement("p",{className:$},"Create Components"),le.createElement(f.zx,{disabled:h,title:"Open",style:{width:"80px",minWidth:"80px"},clicked:function(){N&&M((0,R.$6)({thirdModalVisible:!0})),L&&M((0,R.$6)({fifthModalVisible:!0})),s()}})),le.createElement("br",null),le.createElement("br",null),le.createElement("p",{className:Q},"Components are objects that workflows use to input or output informations. In forms they are usally called fields.")),le.createElement("div",{className:ee,style:{maxWidth:"40%",minWidth:"360px",width:"20%",backgroundColor:I?"lightblue":""}},le.createElement("p",{className:J},"New Workflow"),le.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",marginBottom:"20px"}}),le.createElement("div",{className:K},le.createElement("p",{className:$},"Blank Workflow"),le.createElement(f.zx,{disabled:h,title:"Open",style:{width:"80px",minWidth:"80px"},clicked:function(){I&&M((0,R.$6)({seventhModalVisible:!0})),l()}})),le.createElement("br",null),le.createElement("br",null),le.createElement("p",{className:Q},"Create your workflow using a blank canvass")),null===u||void 0===u?void 0:u.map((function(e,t){return le.createElement("div",{className:ee,style:{maxWidth:"40%",minWidth:"360px",width:"20%",backgroundColor:x&&"Customer Creation"===e.name?"lightblue":""},key:t},le.createElement("p",{className:J},"Workflow Template"),le.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",marginBottom:"20px"}}),le.createElement("div",{className:K},le.createElement("p",{className:$},"".concat(e.name)),!h&&le.createElement(f.zx,{disabled:h,title:(null===E||void 0===E?void 0:E.name)===e.name?"Create":"View",style:{display:(null===E||void 0===E?void 0:E.name)===e.name?"none":"",backgroundColor:(null===E||void 0===E?void 0:E.name)===e.name?"green":"rgb(83, 159, 234)",width:"80px",minWidth:"80px"},clicked:function(){(null===E||void 0===E?void 0:E.name)!==e.name?(window.scrollTo({top:0,behavior:"smooth"}),_(e),M((0,m.Xu)(e)),x&&M((0,R.$6)({templatesSecond:!0}))):(C(!0),(0,p.yx)(E).pipe((0,d.P)()).subscribe({next:function(e){C(!1),o(e)},error:function(e){C(!1)}}))}})),le.createElement("br",null),le.createElement("br",null),le.createElement("p",{className:Q},"".concat(e.description)))}))),le.createElement("div",{className:Y},le.createElement(f.zx,{disabled:h,loading:h,title:"Close",clicked:function(){M((0,m.Xu)(void 0)),k.h.dispatch((0,m.Xc)({show:!1,message:""})),O("/")}}))))})),ae=n(87546),ie=n(35606),re=n(13397),de=n(98032),ue=(n(66596),n(6073)),se=n(4358),ce="ComponentsModal_host__d5q2n",me="ComponentsModal_title__1eiWg",pe="ComponentsModal_fieldRow__gg9Nz",ve="ComponentsModal_fieldRowContent__Ylhmb",fe="ComponentsModal_fieldRowControls__F17z0",ye="ComponentsModal_typeText__58xUE",ge="ComponentsModal_fieldTypeInput__Pyosc",he="ComponentsModal_warningContainer__V1j68",Ce="ComponentsModal_peoplePositionsSelect__6lG4K",Se="ComponentsModal_peoplePositionsSelectInput__O5Mfe",be="ComponentsModal_peoplePositionsSelectMenuOverlay__oF43q",Ee="ComponentsModal_peoplePositionsSelectMenuOverlayItem__efdLS",_e="ComponentsModal_selectedFieldsContainer__SaWzh",Ze="ComponentsModal_elementTextInput__JbVsI",we="ComponentsModal_fieldType__ifgEs",Ne=n(71002),Le=n(47144),Ie=n.n(Le),xe=n(66180),Me=n.n(xe),Oe=n(85692),ke=n(30994),Te=n(96332),Pe=n(95256),Be=(n(88502),n(50981)),Fe=n.n(Be),De=n(66918),Ae={host:"FieldOptionsModal_host__+NDEc",closeContainer:"FieldOptionsModal_closeContainer__VBxuW",closeElement:"FieldOptionsModal_closeElement__xlo+y",closeIcon:"FieldOptionsModal_closeIcon__ga2TN",target:"FieldOptionsModal_target__ruE2b",optionSection:"FieldOptionsModal_optionSection__aAlGM",optionSettings:"FieldOptionsModal_optionSettings__py99w",title:"FieldOptionsModal_title__jqNO1",subtitle:"FieldOptionsModal_subtitle__26Gfa",elementInputTitle:"FieldOptionsModal_elementInputTitle__AAoAr",readOnlyTextInput:"FieldOptionsModal_readOnlyTextInput__Gff1d",elementTextArea:"FieldOptionsModal_elementTextArea__MCisO",elementTextInput:"FieldOptionsModal_elementTextInput__ywFdu",unfocusableWrapper:"FieldOptionsModal_unfocusableWrapper__sul2H",numberOptionsContainer:"FieldOptionsModal_numberOptionsContainer__9Adnt",renderBooleansOptions:"FieldOptionsModal_renderBooleansOptions__R4F-q",phonePrefixContainer:"FieldOptionsModal_phonePrefixContainer__X-k-T",phonePrefixSelectContainer:"FieldOptionsModal_phonePrefixSelectContainer__XK7PK",phoneIDropdown:"FieldOptionsModal_phoneIDropdown__f5MvN",phoneISearch:"FieldOptionsModal_phoneISearch__d42v9",phonePrefixText:"FieldOptionsModal_phonePrefixText__yi1yt",phoneIContainer:"FieldOptionsModal_phoneIContainer__YguKy",phoneIInput:"FieldOptionsModal_phoneIInput__xTFtX",phoneIButton:"FieldOptionsModal_phoneIButton__d4ccV","react-tel-input":"FieldOptionsModal_react-tel-input__Vdvqo","country-list":"FieldOptionsModal_country-list__bWUIZ","selected-flag":"FieldOptionsModal_selected-flag__RSASJ",open:"FieldOptionsModal_open__tDETU",currencySelectContainer:"FieldOptionsModal_currencySelectContainer__Vd4e9",currencySymbol:"FieldOptionsModal_currencySymbol__6RUaW",currencySelectComponent:"FieldOptionsModal_currencySelectComponent__BofG5",currencySelectMenuOverlayList:"FieldOptionsModal_currencySelectMenuOverlayList__xNU7C",currencySelectMenuOverlayListItem:"FieldOptionsModal_currencySelectMenuOverlayListItem__Z+vtS",currencySearchInput:"FieldOptionsModal_currencySearchInput__SKNfN",currencyClearControlsClassName:"FieldOptionsModal_currencyClearControlsClassName__Tsou1",uploadSelectComponent:"FieldOptionsModal_uploadSelectComponent__aIDW9",multiselectContainer:"FieldOptionsModal_multiselectContainer__VfjNY",uploadSearchInput:"FieldOptionsModal_uploadSearchInput__SM79r",maxFileSizeInput:"FieldOptionsModal_maxFileSizeInput__f2cLT",uploadFileSizeMeasureUnit:"FieldOptionsModal_uploadFileSizeMeasureUnit__FzVcE",uploadSelectMenuOverlayList:"FieldOptionsModal_uploadSelectMenuOverlayList__BCrMO",uploadSelectMenuOverlayListItem:"FieldOptionsModal_uploadSelectMenuOverlayListItem__Qkdru",dateTimePickerContainer:"FieldOptionsModal_dateTimePickerContainer__qjVxA",dateTimePickerTrigger:"FieldOptionsModal_dateTimePickerTrigger__judgV",dateAutosizeInput:"FieldOptionsModal_dateAutosizeInput__CsxLi",dateOptionsContainer:"FieldOptionsModal_dateOptionsContainer__Haxqc",dropdownElementHost:"FieldOptionsModal_dropdownElementHost__E7zgm",dropdownSymbol:"FieldOptionsModal_dropdownSymbol__5ABYM",dropdownSelectComponent:"FieldOptionsModal_dropdownSelectComponent__nArXq",dropdownSelectMenuOverlayList:"FieldOptionsModal_dropdownSelectMenuOverlayList__5n+3u",dropdownSelectMenuOverlayListItem:"FieldOptionsModal_dropdownSelectMenuOverlayListItem__QEn6G",dropdownInput:"FieldOptionsModal_dropdownInput__U3JY1",dropdownClearControlsClassName:"FieldOptionsModal_dropdownClearControlsClassName__FjsP5",dropdownListContainer:"FieldOptionsModal_dropdownListContainer__I6Y7K",dropDownButtonContainer:"FieldOptionsModal_dropDownButtonContainer__9K7oX",addDropdownOptionButton:"FieldOptionsModal_addDropdownOptionButton__EAca1",addDropdownOptionIcon:"FieldOptionsModal_addDropdownOptionIcon__XYMOa",dropDownNewListItemInputContainer:"FieldOptionsModal_dropDownNewListItemInputContainer__QgqO+",dropDownNewListItemInput:"FieldOptionsModal_dropDownNewListItemInput__u4m7R",dropdownInputButtonSaveNewItem:"FieldOptionsModal_dropdownInputButtonSaveNewItem__Wj4Cc",dropdownListItemsContainer:"FieldOptionsModal_dropdownListItemsContainer__yUWal",renderEditableListContainer:"FieldOptionsModal_renderEditableListContainer__H4aqe",renderEditableListItemInput:"FieldOptionsModal_renderEditableListItemInput__KLSTJ",renderEditableListItemDeleteButton:"FieldOptionsModal_renderEditableListItemDeleteButton__+u21c",peopleContainer:"FieldOptionsModal_peopleContainer__pfgvy",peopleBooleansOptions:"FieldOptionsModal_peopleBooleansOptions__OJGc9",peoplePositionSelectContainer:"FieldOptionsModal_peoplePositionSelectContainer__WVMlT",peoplePositionsSelect:"FieldOptionsModal_peoplePositionsSelect__WvnuB",peoplePositionsSelectMenuOverlay:"FieldOptionsModal_peoplePositionsSelectMenuOverlay__MhaEf",peoplePositionsSelectMenuOverlayItem:"FieldOptionsModal_peoplePositionsSelectMenuOverlayItem__n-2C5",controls:"FieldOptionsModal_controls__bDTZg",deleteButton:"FieldOptionsModal_deleteButton__YT1QH",errorContainer:"FieldOptionsModal_errorContainer__Pvvt9",componentsSelectContainer:"FieldOptionsModal_componentsSelectContainer__y8BMn",componentsSymbol:"FieldOptionsModal_componentsSymbol__sqPYL",componentsSelectComponent:"FieldOptionsModal_componentsSelectComponent__WhkRj",componentsSelectMenuOverlayList:"FieldOptionsModal_componentsSelectMenuOverlayList__tR9cX",componentsSelectMenuOverlayListItem:"FieldOptionsModal_componentsSelectMenuOverlayListItem__ptRPc",componentsSearchInput:"FieldOptionsModal_componentsSearchInput__MTz6p",ccomponentsClearControlsClassName:"FieldOptionsModal_ccomponentsClearControlsClassName__WMR5x"},We=n(66918),Ve=[{label:"Display as text",value:"text"},{label:"Display as Horizontal Bar",value:"bar"}],ze=function(e){var t,n,d,s,c,m,p,y,g,h,C,S,b,E,_,Z,w,N,L,I,x,M,O,k,T,P,B,F,D,A,W,V,z,R,U,j,q,H,K,X,G,Y,J,Q,$,ee,te,ne,le,oe,ae,ie,re,de,ue,se,ce,me,pe,ve,fe,ye,ge,he,Ce,Se,be,Ee,_e,Ze,we,Le,xe,Me,Oe,ke,Te,Pe,Be,Fe,De,ze,ft,Zt,wt,Nt,Lt,It,xt,Mt,Ot,kt,Tt,Pt,Bt,Ft,Dt,At,Wt,Vt,zt,Rt,Ut,jt,qt,Ht,Kt,Xt,Gt,Yt,Jt,Qt,$t,en,tn,nn,ln,on,an,rn,dn,un,sn,cn,mn,pn,vn,fn,yn,gn,hn,Cn,Sn,bn,En,_n,Zn,wn,Nn,Ln,In,xn,Mn,On,kn,Tn,Pn=e.onClose,Bn=e.isOpen,Fn=e.leftControlLoading,Dn=e.leftControlAction,An=e.centralControlAction,Wn=e.centralControlLoading,Vn=e.modalStyle,zn=e.allModules,Rn=e.blueprints,Un=e.selectedFields,jn=e.components,qn=e.products,Hn=e.companyProcesses,Kn=e.readOnly,Xn=void 0!==Kn&&Kn,Gn=(0,u.aL)(),Yn=(0,a.Z)(Gn,1)[0],Jn=(null===Yn||void 0===Yn?void 0:Yn.selectedFieldFromSelectedBlueprintComponent)||{},Qn=Jn.field_type,$n=void 0===Qn?{}:Qn,el=Jn.id,tl=Jn.value,nl=Jn.options,ll=(0,i.useState)(tl),ol=(0,a.Z)(ll,2),al=ol[0],il=ol[1],rl=(0,i.useState)(!1),dl=(0,a.Z)(rl,2),ul=dl[0],sl=dl[1],cl=(0,i.useState)((0,l.Z)({},nl)),ml=(0,a.Z)(cl,2),pl=ml[0],vl=ml[1],fl=(0,i.useState)({}),yl=(0,a.Z)(fl,2),gl=yl[0],hl=yl[1],Cl=(0,r.v9)((function(e){return e.flowReducer})),Sl=Cl.companyPositionsArray,bl=Cl.companyDepartments,El=(0,i.useState)(We.sortWith([We.ascend(We.prop("department_name"))])(null===Sl||void 0===Sl?void 0:Sl.map((function(e){var t;return{label:e.label,value:e.value,department_name:e.department,department_id:null===(t=bl.find((function(t){return t.label==e.department})))||void 0===t?void 0:t.value}})))),_l=(0,a.Z)(El,1)[0],Zl=(0,i.useState)(null===nl||void 0===nl?void 0:nl.interval),wl=(0,a.Z)(Zl,2),Nl=wl[0],Ll=wl[1],Il=(0,i.useState)(null===nl||void 0===nl?void 0:nl.field),xl=(0,a.Z)(Il,2),Ml=xl[0],Ol=xl[1],kl=(0,i.useState)([{label:"Firstname",value:"first_name"},{label:"Lastname",value:"last_name"},{label:"Username",value:"username"},{label:"Email",value:"email"},{label:"Address",value:"address"},{label:"City",value:"city"},{label:"Postal",value:"postal"},{label:"Phone",value:"phone"},{label:"Timezone",value:"timezone"}]),Tl=(0,a.Z)(kl,1)[0],Pl=(0,i.useCallback)((function(){var e,t,n={general:"",name:"",list:"",type:""};((null===al||void 0===al||null===(e=al.trim())||void 0===e?void 0:e.length)<1&&(n.name="Element name must have at least one letter character"),$n&&We.has("options")($n))&&(null===$n||void 0===$n||null===(t=$n.options)||void 0===t||t.forEach((function(e){var t;"object"!==(0,Ne.Z)(e)&&(We.has(null===e||void 0===e?void 0:e.toString())(pl)||(n.general="Mandatory fields are not completed,"),(!pl[e]||null!==pl&&void 0!==pl&&pl[e]&&(null===(t=pl[e])||void 0===t?void 0:t.length)<1)&&(n[e]=" ".concat(e," was not provided")))})));return hl(n),!!Object.values(n).every((function(e){return""===e}))}),[pl,al,$n,nl]),Bl=(0,i.useCallback)((function(){ul&&Pl()}),[ul,Pl]);(0,i.useEffect)((function(){Bl()}),[Bl]);var Fl=(0,i.useCallback)((function(){sl(!0),Pl()&&(null===An||void 0===An||An({id:el,value:al,options:pl}))}),[An,pl,al,el,Pl]);return i.createElement(f.U7,{isOpen:Bn,blured:!0,scrollable:!0,shadowedContainerStyle:Vn},i.createElement("div",{className:Ae.host},i.createElement("div",{className:Ae.target},i.createElement("p",{className:Ae.title},"edit ".concat(null===$n||void 0===$n?void 0:$n.name)),i.createElement(je,{errorMessage:Object.values(gl).length>0?Object.values(gl).filter((function(e){return""!==e})):""}),i.createElement(je,null,i.createElement(f.Lb,{title:"Field Name"}),i.createElement("input",{type:"text",name:"element-name",value:al,onChange:function(e){return t=e.target.value,void il(t);var t},className:Ae.elementTextInput,readOnly:"Template"===$n.name})),"number"===(null===$n||void 0===$n||null===(t=$n.name)||void 0===t?void 0:t.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(qe,{validationErrors:gl,defaultValue:"numeric"==(null===nl||void 0===nl?void 0:nl.type),onChangeType:function(e){vl({type:e})}}),i.createElement(je,{errorMessage:null===gl||void 0===gl?void 0:gl.type},i.createElement(f.Lb,{title:"Output display"}),i.createElement(f.sm,{"apps-variant":null!==gl&&void 0!==gl&&gl.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:Ve,defaultSelectedItem:Ve.find((function(e){return e.value===(null===pl||void 0===pl?void 0:pl.display)})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){"bar"===(null===e||void 0===e?void 0:e.value)?vl((0,l.Z)((0,l.Z)({},pl),{},{display:null===e||void 0===e?void 0:e.value,chart:!1})):(null===pl||void 0===pl||delete pl.barC,null===pl||void 0===pl||delete pl.maxC,null===pl||void 0===pl||delete pl.max,vl((0,l.Z)((0,l.Z)({},pl),{},{display:null===e||void 0===e?void 0:e.value})))}}))),"bar"===(null===pl||void 0===pl?void 0:pl.display)&&i.createElement(je,{errorMessage:null===gl||void 0===gl?void 0:gl.name},i.createElement(f.Lb,{title:"Maximum Value"}),i.createElement("input",{type:"text",name:"element-name",value:pl.max,onBlur:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{max:e.target.value}))},className:Ae.elementTextInput}),i.createElement(f.Lb,{title:"Color - Formula Value"}),i.createElement("input",{type:"text",className:Ae.elementTextInput,style:{borderRight:"white"===(null===pl||void 0===pl?void 0:pl.barC)?"white":"50px solid ".concat(null!==(n=null===pl||void 0===pl?void 0:pl.barC)&&void 0!==n?n:"#F6F4EC")},defaultValue:null!==(d=null===pl||void 0===pl?void 0:pl.barC)&&void 0!==d?d:"#F6F4EC",onBlur:function(e){return vl((0,l.Z)((0,l.Z)({},pl),{},{barC:e.target.value}))}}),i.createElement(f.Lb,{title:"Color - Formula Max Value"}),i.createElement("input",{type:"text",className:Ae.elementTextInput,style:{borderRight:"white"===(null===pl||void 0===pl?void 0:pl.maxC)?"white":"50px solid ".concat(null!==(s=null===pl||void 0===pl?void 0:pl.maxC)&&void 0!==s?s:"yellow")},defaultValue:null!==(c=null===pl||void 0===pl?void 0:pl.maxC)&&void 0!==c?c:"yellow",onBlur:function(e){return vl((0,l.Z)((0,l.Z)({},pl),{},{maxC:e.target.value}))}})),"percentage"===(null===pl||void 0===pl?void 0:pl.type)&&"bar"!==(null===pl||void 0===pl?void 0:pl.display)&&i.createElement(f.pd,{id:"Show chart for percentage value",title:"Show chart for percentage value",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===pl||void 0===pl?void 0:pl.chart,toggleSelected:function(e){vl(e?(0,l.Z)((0,l.Z)({},pl),{},{chart:!0}):(0,l.Z)((0,l.Z)({},pl),{},{chart:!1}))}})),"url"===(null===$n||void 0===$n||null===(m=$n.name)||void 0===m?void 0:m.toLowerCase())&&i.createElement(Ke,{validationErrors:gl,defaultType:"image"==(null===nl||void 0===nl?void 0:nl.type),defaultValue:null!==(p=null===nl||void 0===nl?void 0:nl.value)&&void 0!==p?p:"",onChangeType:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{type:e}))},onChangeValue:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{value:e}))}}),"checkbox"===(null===$n||void 0===$n||null===(y=$n.name)||void 0===y?void 0:y.toLowerCase())&&i.createElement(Xe,{validationErrors:gl,defaultValue:null!==(g=null===nl||void 0===nl?void 0:nl.value)&&void 0!==g?g:"",onChangeValue:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{value:e}))}}),"phone"===(null===$n||void 0===$n||null===(h=$n.name)||void 0===h?void 0:h.toLowerCase())&&i.createElement(Ge,{validationErrors:gl,countryCode:null===nl||void 0===nl?void 0:nl.country_code,defaultValue:(null===nl||void 0===nl?void 0:nl.country_prefix)+" "+(null===nl||void 0===nl?void 0:nl.country_name),onChange:function(e){return vl(e)}}),"currency"===(null===$n||void 0===$n||null===(C=$n.name)||void 0===C?void 0:C.toLowerCase())&&i.createElement(Ye,{validationErrors:gl,defaultValue:We.find(We.propEq("value",null===nl||void 0===nl?void 0:nl.currency_value))(v.s3),onCurrencySelected:function(e){vl({currency_type:null===e||void 0===e?void 0:e.label,currency_value:null===e||void 0===e?void 0:e.value,symbol:null===e||void 0===e?void 0:e.symbol})}}),"action button"===(null===$n||void 0===$n||null===(S=$n.name)||void 0===S?void 0:S.toLowerCase())&&i.createElement(Je,{validationErrors:gl,defaultValue:null===nl||void 0===nl?void 0:nl.action,onActionSelected:function(e){vl({action:null===e||void 0===e?void 0:e.value})}}),"value button"===(null===$n||void 0===$n||null===(b=$n.name)||void 0===b?void 0:b.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(je,null,i.createElement(f.Lb,{title:"Button label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null===pl||void 0===pl?void 0:pl.label,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{label:e.target.value}))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Button Image (Optional)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null===pl||void 0===pl?void 0:pl.image,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{image:e.target.value}))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Value to set"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null===pl||void 0===pl?void 0:pl.value,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{value:e.target.value}))}}))),i.createElement(f.pd,{id:"Use selection as decision for step",title:"Use selection as decision for step?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===pl||void 0===pl?void 0:pl.decision,toggleSelected:function(e){vl(e?(0,l.Z)((0,l.Z)({},pl),{},{decision:!0}):(0,l.Z)((0,l.Z)({},pl),{},{decision:!1,jump1:void 0}))}}),(null===pl||void 0===pl?void 0:pl.decision)&&i.createElement(je,{errorMessage:null===gl||void 0===gl?void 0:gl.position_id},i.createElement(f.Lb,{title:"Process where to look for step"}),i.createElement(f.sm,{"app-variant":null!==gl&&void 0!==gl&&gl.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},i.createElement(f.rk,{items:Hn.map((function(e){return{label:e.name,value:e.id,process:e}})),defaultSelected:{label:null===(E=Hn.find((function(e){return e.id===(null===pl||void 0===pl?void 0:pl.process)})))||void 0===E?void 0:E.name},className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{process:e.value}))}}))),(null===pl||void 0===pl?void 0:pl.decision)&&pl.process&&i.createElement(je,{errorMessage:null===gl||void 0===gl?void 0:gl.position_id},i.createElement(f.Lb,{title:"Selection jumps to step"}),i.createElement(f.sm,{"app-variant":null!==gl&&void 0!==gl&&gl.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},i.createElement(f.rk,{items:null===(_=Hn.find((function(e){return e.id===(null===pl||void 0===pl?void 0:pl.process)})))||void 0===_||null===(Z=_.steps)||void 0===Z?void 0:Z.map((function(e){return{label:e.name,value:e.id,step:e}})),defaultSelected:{label:null===(w=Hn.find((function(e){return e.id===(null===pl||void 0===pl?void 0:pl.process)})))||void 0===w||null===(N=w.steps)||void 0===N||null===(L=N.find((function(e){return e.id===pl.jump1})))||void 0===L?void 0:L.name},className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{jump1:e.value}))}})))),"profile"===(null===$n||void 0===$n||null===(I=$n.name)||void 0===I?void 0:I.toLowerCase())&&i.createElement(Qe,{validationErrors:gl,defaultValue:null===nl||void 0===nl?void 0:nl.type,defaultOption:pl,onProfileSelected:function(e){vl({type:null===e||void 0===e?void 0:e.value})}}),"upload"===(null===$n||void 0===$n||null===(x=$n.name)||void 0===x?void 0:x.toLowerCase())&&i.createElement(vt,{validationErrors:gl,defaultMaxSize:null!==(M=+(null===nl||void 0===nl?void 0:nl.max_file_size)/1024)&&void 0!==M?M:51200,onMaxFileSizeChanged:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{max_file_size:1024*+e}))},defaultList:nl.accepted_mimes,onListSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{accepted_mimes:e}))}}),"date"===(null===$n||void 0===$n||null===(O=$n.name)||void 0===O?void 0:O.toLowerCase())&&i.createElement(He,{validationErrors:gl,defaultValue:"single"==(null===pl||void 0===pl?void 0:pl.type),defaultAuto:null===pl||void 0===pl?void 0:pl.auto,defaultTime:null===pl||void 0===pl?void 0:pl.time,onChangeType:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{type:e}))},onExceeded:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{auto:e}))},withTime:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{time:e}))}}),"people"===(null===$n||void 0===$n||null===(k=$n.name)||void 0===k?void 0:k.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(ht,{validationErrors:gl,allModules:zn,defaultType:null===pl||void 0===pl?void 0:pl.type,defaultAssign:null===pl||void 0===pl?void 0:pl.assign,defaultEmail:null===pl||void 0===pl?void 0:pl.email,defaultCalendar:null===pl||void 0===pl?void 0:pl.calendar,defaultSlider:null===pl||void 0===pl?void 0:pl.slider,onChangeSlider:function(e){vl(1==e?(0,l.Z)((0,l.Z)({},pl),{},{slider:!0,calendar:!1}):(0,l.Z)((0,l.Z)({},pl),{},{slider:!1,info:!1,other:!1}))},onCalendar:function(e){vl(1==e?(0,l.Z)((0,l.Z)({},pl),{},{calendar:!0,slider:!1,assign:!1,info:!1,other:!1}):(0,l.Z)((0,l.Z)({},pl),{},{calendar:!1}))},defaultModule:zn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===pl||void 0===pl?void 0:pl.module_id)&&void 0!==t?t:"")})),defaultPositions:null!==(T=null===pl||void 0===pl?void 0:pl.position_id)&&void 0!==T?T:[],onChangeType:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{type:e}))},onChangeEmail:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{email:e}))},onChangeAssign:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{assign:e}))},onChangeList:function(e){e.length>0?vl((0,l.Z)((0,l.Z)({},pl),{},{position_id:(0,o.Z)(e)})):delete pl.position_id},onModuleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{module_id:e.value}))},options:nl,onOptionsSelected:function(e){vl(e)},fieldOption:pl}),(null===pl||void 0===pl?void 0:pl.slider)&&i.createElement(f.pd,{id:"Display info",title:"Display user info?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!(null===pl||void 0===pl||!pl.info),toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{info:!!e}))}}),(null===pl||void 0===pl?void 0:pl.slider)&&i.createElement(f.pd,{id:"Display misc info",title:"Display other user info?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!(null===pl||void 0===pl||!pl.other),toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{other:!!e}))}}),(null===pl||void 0===pl?void 0:pl.position_id)&&i.createElement(je,null,i.createElement(f.Lb,{title:"Field in users to use as filter"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:Tl,defaultSelected:Tl.find((function(e){return e.value===pl.filter})),className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{filter:e.value}))}}))),(null===pl||void 0===pl?void 0:pl.position_id)&&i.createElement(et,{title:"Filter Selections",validationErrors:gl,defaultList:(null===pl||void 0===pl||null===(P=pl.dropdown)||void 0===P?void 0:P.length)>0?null===pl||void 0===pl?void 0:pl.dropdown:void 0,onListSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{dropdown:e}))}}),i.createElement("div",{style:{display:null!==pl&&void 0!==pl&&pl.calendar?"":"none"}},i.createElement(je,null,i.createElement(f.Lb,{title:"Header label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null===pl||void 0===pl?void 0:pl.header,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{header:e.target.value}))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Title label to use in tasks"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(B=null===pl||void 0===pl?void 0:pl.title)&&void 0!==B?B:"Event Name",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{title:e.target.value}))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Description label to use in tasks"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(F=null===pl||void 0===pl?void 0:pl.description)&&void 0!==F?F:"Description",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{description:e.target.value}))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Assignee label to use in tasks"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(D=null===pl||void 0===pl?void 0:pl.assignee)&&void 0!==D?D:"Assigned to",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{assignee:e.target.value}))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Start date label to use in tasks"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(A=null===pl||void 0===pl?void 0:pl.start)&&void 0!==A?A:"Start Date",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{start:e.target.value}))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"End date label to use in tasks"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(W=null===pl||void 0===pl?void 0:pl.end)&&void 0!==W?W:"End Date",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{end:e.target.value}))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Value label to use  in tasks (Optional)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null===pl||void 0===pl?void 0:pl.valueL,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{valueL:e.target.value}))}})),i.createElement("p",{className:Ae.optionSettings},"Note: If set, ensure label is set in calendar")),i.createElement(je,null,i.createElement(f.Lb,{title:"Display users in assigned to from these positions (Optional)"}),i.createElement("div",{style:{border:"1px solid var(--app-color-gray-lighter)"}},i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:_l,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:(null===pl||void 0===pl?void 0:pl.aList)&&(null===_l||void 0===_l?void 0:_l.filter((function(e){return(null===pl||void 0===pl?void 0:pl.aList.indexOf(e.value))>-1}))),className:Ae.uploadSelectComponent,inputClassName:Ae.uploadSearchInput,molclassname:Ae.uploadSelectMenuOverlayList,moliclassname:Ae.uploadSelectMenuOverlayListItem,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{aList:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))}))}}))),i.createElement(et,{validationErrors:gl,defaultList:(null===nl||void 0===nl||null===(V=nl.list)||void 0===V?void 0:V.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,onListSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:e}))}}))),"positions"===(null===$n||void 0===$n||null===(z=$n.name)||void 0===z?void 0:z.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(Ct,{validationErrors:gl,allModules:zn,defaultType:null===nl||void 0===nl?void 0:nl.type,defaultAssign:null===nl||void 0===nl?void 0:nl.assign,defaultEmail:null===nl||void 0===nl?void 0:nl.email,defaultCalendar:null===nl||void 0===nl?void 0:nl.calendar,defaultSlider:null===nl||void 0===nl?void 0:nl.slider,onChangeSlider:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{slider:e}))},onCalendar:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{calendar:e}))},defaultModule:zn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nl||void 0===nl?void 0:nl.module_id)&&void 0!==t?t:"")})),defaultPositions:null!==(R=null===nl||void 0===nl?void 0:nl.position_id)&&void 0!==R?R:[],onChangeType:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{type:e}))},onChangeEmail:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{email:e}))},onChangeAssign:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{assign:e}))},onChangeList:function(e){e.length>0?vl((0,l.Z)((0,l.Z)({},pl),{},{position_id:(0,o.Z)(e)})):delete pl.position_id},onModuleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{module_id:e.value}))},options:nl,onOptionsSelected:function(e){vl(e)},fieldOption:pl}),i.createElement("div",null,i.createElement(f.pd,{id:"Fetch users when item is selected",title:"Fetch users when item is selected?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===pl||void 0===pl?void 0:pl.fetch,toggleSelected:function(e){vl(e?(0,l.Z)((0,l.Z)({},pl),{},{fetch:!0}):(0,l.Z)((0,l.Z)({},pl),{},{fetch:!1}))}})),i.createElement("div",null,i.createElement(f.pd,{id:"Share transaction to position when item is selected",title:"Share transaction to position when item is selected?",ungrouped:!0,withAckButton:!1,style:{margin:"40px 0px 20px 0px",width:"auto"},value:null===pl||void 0===pl?void 0:pl.share,toggleSelected:function(e){vl(e?(0,l.Z)((0,l.Z)({},pl),{},{share:!0}):(0,l.Z)((0,l.Z)({},pl),{},{share:!1}))}})),i.createElement("div",null,i.createElement(f.pd,{id:"AddUserPosition",title:"Add user to selected position?",ungrouped:!0,withAckButton:!1,style:{margin:"40px 0px 20px 0px",width:"auto"},value:null!==(U=null===pl||void 0===pl?void 0:pl.addToPos)&&void 0!==U&&U,toggleSelected:function(e){vl(e?(0,l.Z)((0,l.Z)({},pl),{},{addToPos:!0,share:!1,calendar:!1,fetch:!1}):(0,l.Z)((0,l.Z)({},pl),{},{addToPos:!1}))}})),i.createElement("div",{style:{display:null!==pl&&void 0!==pl&&pl.calendar?"":"none"}},i.createElement(je,null,i.createElement(f.Lb,{title:"Header label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null===pl||void 0===pl?void 0:pl.header,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{header:e.target.value}))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Title label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(j=null===pl||void 0===pl?void 0:pl.title)&&void 0!==j?j:"Event Name",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{title:e.target.value}))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Description label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(q=null===pl||void 0===pl?void 0:pl.description)&&void 0!==q?q:"Description",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{description:e.target.value}))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Assignee label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(H=null===pl||void 0===pl?void 0:pl.assignee)&&void 0!==H?H:"Assigned to",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{assignee:e.target.value}))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Start date label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(K=null===pl||void 0===pl?void 0:pl.start)&&void 0!==K?K:"Start Date",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{start:e.target.value}))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"End date label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(X=null===pl||void 0===pl?void 0:pl.end)&&void 0!==X?X:"End Date",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{end:e.target.value}))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Value label to use (Optional)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null===pl||void 0===pl?void 0:pl.valueL,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{valueL:e.target.value}))}})),i.createElement("p",{className:Ae.optionSettings},"Note: If set, ensure label is set in calendar")),i.createElement(et,{validationErrors:gl,defaultList:(null===nl||void 0===nl||null===(G=nl.list)||void 0===G?void 0:G.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,onListSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:e}))}}))),"dropdown"===(null===$n||void 0===$n||null===(Y=$n.name)||void 0===Y?void 0:Y.toLowerCase())&&i.createElement($e,{validationErrors:gl,defaultType:v.YX.find((function(e){var t;return(null===e||void 0===e?void 0:e.value)==(null!==(t=null===nl||void 0===nl?void 0:nl.type)&&void 0!==t?t:"single")})),defaultList:(null===nl||void 0===nl||null===(J=nl.list)||void 0===J?void 0:J.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,defaultPr:null!==(Q=null===nl||void 0===nl?void 0:nl.process)&&void 0!==Q?Q:"",defaultJ1:null!==($=null===nl||void 0===nl?void 0:nl.jump1)&&void 0!==$?$:"",defaultJ2:null!==(ee=null===nl||void 0===nl?void 0:nl.jump2)&&void 0!==ee?ee:"",onTypeSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{type:e.value}))},onListSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:e}))},onJump1Selected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{jump1:e}))},onJump2Selected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{jump2:e}))},onProcSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{process:e}))},companyProcesses:Hn}),"status"===(null===$n||void 0===$n||null===(te=$n.name)||void 0===te?void 0:te.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(et,{validationErrors:gl,defaultList:(null===nl||void 0===nl||null===(ne=nl.list)||void 0===ne?void 0:ne.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,onListSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:e}))}}),i.createElement(f.pd,{id:"Control transaction with status",title:"Control transaction with this field",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===pl||void 0===pl?void 0:pl.control,toggleSelected:function(e){vl(e?(0,l.Z)((0,l.Z)({},pl),{},{control:!0}):(0,l.Z)((0,l.Z)({},pl),{},{control:!1}))}})),("list"===(null===$n||void 0===$n||null===(le=$n.name)||void 0===le?void 0:le.toLowerCase())||"module list"===(null===$n||void 0===$n||null===(oe=$n.name)||void 0===oe?void 0:oe.toLowerCase()))&&i.createElement(nt,{allModules:zn,validationErrors:gl,defaultType:{label:null!==(ae=null===nl||void 0===nl?void 0:nl.type)&&void 0!==ae?ae:"Table",value:null!==(ie=null===nl||void 0===nl?void 0:nl.type)&&void 0!==ie?ie:"Table"},defaultTypeX:nl,defaultModule:zn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nl||void 0===nl?void 0:nl.module_id)&&void 0!==t?t:"")})),defaultList:(null===nl||void 0===nl||null===(re=nl.list)||void 0===re?void 0:re.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,onTypeSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{type:e.value}))},onModuleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{module_id:e.module.id}))},onChangeList:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:(0,o.Z)(e)}))},multiSelectLabel:""===(null===nl||void 0===nl?void 0:nl.module_id)?"":null===(de=zn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nl||void 0===nl?void 0:nl.module_id)&&void 0!==t?t:"")})))||void 0===de?void 0:de.label}),"transaction list"===(null===$n||void 0===$n||null===(ue=$n.name)||void 0===ue?void 0:ue.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(f.pd,{id:"Basic List",title:"The list uses six or more columns?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===pl||void 0===pl?void 0:pl.simple,toggleSelected:function(e){e?(null===pl||void 0===pl||delete pl.id,null===pl||void 0===pl||delete pl.module_id,null===pl||void 0===pl||delete pl.type,null===pl||void 0===pl||delete pl.map,vl((0,l.Z)((0,l.Z)({},pl),{},{simple:e}))):vl((0,l.Z)((0,l.Z)({},pl),{},{simple:e}))}}),i.createElement(je,null,i.createElement(f.Lb,{title:"Type (Optional)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,defaultValue:null===nl||void 0===nl?void 0:nl.type,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{type:e.target.value}))}}))),!(null!==pl&&void 0!==pl&&pl.simple)&&i.createElement(i.Fragment,null,i.createElement(je,null,i.createElement(f.Lb,{title:"List ID"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null===nl||void 0===nl?void 0:nl.id,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{id:e.target.value}))}}))),i.createElement(Re,{blueprints:Rn,allModules:zn,companyProcesses:Hn,validationErrors:gl,defaultType:{label:null!==(se=null===nl||void 0===nl?void 0:nl.type)&&void 0!==se?se:"Table",value:null!==(ce=null===nl||void 0===nl?void 0:nl.type)&&void 0!==ce?ce:"Table"},options:pl,defaultMap:null!==(me=null===pl||void 0===pl?void 0:pl.map)&&void 0!==me?me:{},defaultModule:zn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===pl||void 0===pl?void 0:pl.module_id)&&void 0!==t?t:"")})),defaultList:(null===pl||void 0===pl||null===(pe=pl.list)||void 0===pe?void 0:pe.length)>0?null===pl||void 0===pl?void 0:pl.list:void 0,onTypeSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{type:e.value}))},onModuleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{module_id:e.module.id}))},onChangeMapping:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{map:e}))},multiSelectLabel:""===(null===pl||void 0===pl?void 0:pl.module_id)?"":null===(ve=zn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===pl||void 0===pl?void 0:pl.module_id)&&void 0!==t?t:"")})))||void 0===ve?void 0:ve.label,setFieldOption:vl})),i.createElement(f.pd,{id:"Show Footer",title:"Show footer?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===pl||void 0===pl?void 0:pl.footer,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{footer:e}))}})),("step list"===(null===$n||void 0===$n||null===(fe=$n.name)||void 0===fe?void 0:fe.toLowerCase())||"component list"===(null===$n||void 0===$n||null===(ye=$n.name)||void 0===ye?void 0:ye.toLowerCase()))&&i.createElement(lt,{blueprints:Rn.filter((function(e){var t;return(null===e||void 0===e?void 0:e.id)!==(null!==(t=null===nl||void 0===nl?void 0:nl.component_id)&&void 0!==t?t:"")})),validationErrors:gl,defaultList:(null===nl||void 0===nl||null===(ge=nl.list)||void 0===ge?void 0:ge.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,defaultType:Rn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nl||void 0===nl?void 0:nl.component_id)&&void 0!==t?t:"")})),onTypeSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{component_id:e.component.id}))},defaultKey:null!==(he=null===nl||void 0===nl?void 0:nl.key)&&void 0!==he?he:"Key",onKeySelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{key:e}))},onChangeList:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:(0,o.Z)(e)}))},multiSelectLabel:""===(null===nl||void 0===nl?void 0:nl.component_id)?"":null===(Ce=Rn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nl||void 0===nl?void 0:nl.component_id)&&void 0!==t?t:"")})))||void 0===Ce?void 0:Ce.label}),"product"===(null===$n||void 0===$n||null===(Se=$n.name)||void 0===Se?void 0:Se.toLowerCase())&&i.createElement(tt,{products:qn,validationErrors:gl,defaultList:(null===nl||void 0===nl||null===(be=nl.list)||void 0===be?void 0:be.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,onChangeList:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:(0,o.Z)(e)}))}}),"record"===(null===$n||void 0===$n||null===(Ee=$n.name)||void 0===Ee?void 0:Ee.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(yt,{defaultFilters:null===nl||void 0===nl?void 0:nl.filters,validationErrors:gl,field_type:$n,blueprints:Rn,nameValues:(null===nl||void 0===nl||null===(_e=nl.names)||void 0===_e?void 0:_e.length)>0?null===nl||void 0===nl?void 0:nl.names:[],defaultType:(null===nl||void 0===nl||null===(Ze=nl.selection)||void 0===Ze?void 0:Ze.length)>0?{label:null===nl||void 0===nl?void 0:nl.selection}:void 0,defaultList:(null===nl||void 0===nl||null===(we=nl.list)||void 0===we?void 0:we.length)>0?null===nl||void 0===nl?void 0:nl.list:[],defaultValue:{label:void 0===Yn.allBlueprintComponents.find((function(e){var t;return e.id===(null===(t=Yn.selectedFieldFromSelectedBlueprintComponent.options)||void 0===t?void 0:t.component_id)}))?"":Yn.allBlueprintComponents.find((function(e){var t;return e.id===(null===(t=Yn.selectedFieldFromSelectedBlueprintComponent.options)||void 0===t?void 0:t.component_id)})).name},defaultOutputField:(null===nl||void 0===nl||null===(Le=nl.output)||void 0===Le?void 0:Le.length)>0?{label:null===nl||void 0===nl?void 0:nl.output}:void 0,defaultGlobal:null===nl||void 0===nl?void 0:nl.global,onGlobalSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{global:e}))},onListSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:e}))},onComponentSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{component_id:e.blueprint.id}))},onTypeSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{selection:e}))},onNamesSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{names:e}))},onOutputFieldSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{output:e}))},onFilterList:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{filters:e}))}}),i.createElement(je,{errorMessage:null===gl||void 0===gl?void 0:gl.type},i.createElement(f.Lb,{title:"Optional: Conduct lookup from these transactions:"}),i.createElement(f.sm,{"app-variant":null!==gl&&void 0!==gl&&gl.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:zn.map((function(e){return{label:e.name,value:e.id}})),defaultSelected:zn.map((function(e){return{label:e.name,value:e.id}})).find((function(e){return e.value===(null===nl||void 0===nl?void 0:nl.module_id)})),className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{module_id:null===e||void 0===e?void 0:e.value}))}})))),"googleai assistant"===(null===$n||void 0===$n||null===(xe=$n.name)||void 0===xe?void 0:xe.toLowerCase())&&i.createElement(St,{defaultCurrent:null===nl||void 0===nl?void 0:nl.current,defaultDescription:null===nl||void 0===nl?void 0:nl.description,defaultValue:null===nl||void 0===nl?void 0:nl.analyze,defaultFixed:null===nl||void 0===nl?void 0:nl.fixed,defaultModule:{label:void 0===zn.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.module_id)}))?"":zn.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.module_id)})).name},defaultModule2:{label:void 0===zn.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.module2_id)}))?"":zn.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.module2_id)})).name},defaultModule3:{label:void 0===zn.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.module3_id)}))?"":zn.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.module3_id)})).name},setFieldValue:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{analyze:e}))},setDefaultCurrent:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{current:e}))},setDefaultDescription:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{description:e}))},onModule1Select:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{module_id:null===e||void 0===e?void 0:e.value}))},onModule2Select:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{module2_id:null===e||void 0===e?void 0:e.value}))},onModule3Select:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{module3_id:null===e||void 0===e?void 0:e.value}))},setDefaultFixed:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{fixed:e}))},validationErrors:gl,allModules:zn}),"value"===(null===$n||void 0===$n||null===(Me=$n.name)||void 0===Me?void 0:Me.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(gt,{field_type:$n,allModules:zn,components:jn,defaultModule:(null===nl||void 0===nl||null===(Oe=nl.module_id)||void 0===Oe?void 0:Oe.length)>0?{label:zn.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.module_id)})).name,value:null===nl||void 0===nl?void 0:nl.module_id}:void 0,defaultOutput:null===jn||void 0===jn?void 0:jn.filter((function(e){return e.module_id===(null===nl||void 0===nl?void 0:nl.module_id)})).map((function(e){return{label:"".concat(e.title),value:e.id}})),defaultValue:{label:null===nl||void 0===nl?void 0:nl.value,slabel:void 0===Yn.allBlueprintComponents.find((function(e){var t,n;return e.id===(null===(t=Yn.selectedFieldFromSelectedBlueprintComponent)||void 0===t||null===(n=t.options)||void 0===n?void 0:n.component_id)}))?"":Yn.allBlueprintComponents.find((function(e){return e.id===Yn.selectedFieldFromSelectedBlueprintComponent.options.component_id})).name},onModuleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{module_id:e.value}))},onOutputSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{component_id:e.value}))},onFieldValueSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{value:e.value}))}}),i.createElement(f.pd,{id:"Show chart for selected value",title:"Show chart for selected value",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===pl||void 0===pl?void 0:pl.chart,toggleSelected:function(e){vl(e?(0,l.Z)((0,l.Z)({},pl),{},{chart:!0}):(0,l.Z)((0,l.Z)({},pl),{},{chart:!1}))}})),"formula"===(null===$n||void 0===$n||null===(ke=$n.name)||void 0===ke?void 0:ke.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(at,{setFieldOption:vl,fieldOption:pl,selectedFields:Un,validationErrors:gl,defaultValue:(null===nl||void 0===nl||null===(Te=nl.operator)||void 0===Te?void 0:Te.length)>0?null===nl||void 0===nl?void 0:nl.operator:void 0,defaultList:(null===nl||void 0===nl||null===(Pe=nl.list)||void 0===Pe?void 0:Pe.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,defaultSearchText:(null===nl||void 0===nl||null===(Be=nl.searchtext)||void 0===Be?void 0:Be.length)>0?null===nl||void 0===nl?void 0:nl.searchtext:void 0,onOperatorSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{operator:e}))},onChangeList:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:(0,o.Z)(e)}))},onChangeSearchText:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{searchtext:e}))},blueprints:Rn}),"freesum"===(null===pl||void 0===pl?void 0:pl.operator)&&i.createElement(et,{title:"Add fields to compute",validationErrors:gl,defaultList:(null===nl||void 0===nl||null===(Fe=nl.list)||void 0===Fe?void 0:Fe.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,onListSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:e}))}})),"item formula"===(null===$n||void 0===$n||null===(De=$n.name)||void 0===De?void 0:De.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(it,{setFieldOption:vl,fieldOption:pl,selectedFields:Un,validationErrors:gl,defaultValue:(null===nl||void 0===nl||null===(ze=nl.operator)||void 0===ze?void 0:ze.length)>0?null===nl||void 0===nl?void 0:nl.operator:void 0,defaultList:(null===nl||void 0===nl||null===(ft=nl.list)||void 0===ft?void 0:ft.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,defaultSearchText:(null===nl||void 0===nl||null===(Zt=nl.searchtext)||void 0===Zt?void 0:Zt.length)>0?null===nl||void 0===nl?void 0:nl.searchtext:void 0,onOperatorSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{operator:e}))},onChangeList:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:(0,o.Z)(e)}))},onChangeSearchText:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{searchtext:e}))},blueprints:Rn}),"freesum"===(null===pl||void 0===pl?void 0:pl.operator)&&i.createElement(et,{title:"Add fields to compute",validationErrors:gl,defaultList:(null===nl||void 0===nl||null===(wt=nl.list)||void 0===wt?void 0:wt.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,onListSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:e}))}})),"list filter"===(null===$n||void 0===$n||null===(Nt=$n.name)||void 0===Nt?void 0:Nt.toLowerCase())&&i.createElement(dt,{selectedFields:Un,validationErrors:gl,defaultField:(null===nl||void 0===nl||null===(Lt=nl.field)||void 0===Lt?void 0:Lt.length)>0?null===nl||void 0===nl?void 0:nl.field:void 0,defaultValue:(null===nl||void 0===nl||null===(It=nl.value)||void 0===It?void 0:It.length)>0?null===nl||void 0===nl?void 0:nl.value:void 0,onChangeField:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{field:e}))},onChangeValue:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{value:e}))},blueprints:Rn}),"connector"===(null===$n||void 0===$n||null===(xt=$n.name)||void 0===xt?void 0:xt.toLowerCase())&&i.createElement(pt,{selectedFields:Un,validationErrors:gl,defaultComponent1:(null===nl||void 0===nl||null===(Mt=nl.component1_id)||void 0===Mt?void 0:Mt.length)>0?{label:Yn.allBlueprintComponents.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.component1_id)})).name}:void 0,defaultComponent2:(null===nl||void 0===nl||null===(Ot=nl.component2_id)||void 0===Ot?void 0:Ot.length)>0?{label:Yn.allBlueprintComponents.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.component2_id)})).name}:void 0,defaultComponent3:(null===nl||void 0===nl||null===(kt=nl.component3_id)||void 0===kt?void 0:kt.length)>0?{label:Yn.allBlueprintComponents.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.component3_id)})).name}:void 0,defaultCommon12:(null===nl||void 0===nl||null===(Tt=nl.common_field_12)||void 0===Tt?void 0:Tt.length)>0?{label:null===nl||void 0===nl?void 0:nl.common_field_12}:void 0,defaultInputComponent1:(null===nl||void 0===nl||null===(Pt=nl.component1_input)||void 0===Pt?void 0:Pt.length)>0?{label:null===nl||void 0===nl?void 0:nl.component1_input}:void 0,defaultCommon23:(null===nl||void 0===nl||null===(Bt=nl.common_field_23)||void 0===Bt?void 0:Bt.length)>0?{label:null===nl||void 0===nl?void 0:nl.common_field_23}:void 0,defaultOutputs:(null===nl||void 0===nl||null===(Ft=nl.outputs)||void 0===Ft?void 0:Ft.length)>0?null===nl||void 0===nl?void 0:nl.outputs:[],onComponent1InputSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{component1_input:e}))},onComponent1Selected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{component1_id:e}))},onComponent2Selected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{component2_id:e}))},onCommon12Selected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{common_field_12:e}))},onComponent3Selected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{component3_id:e}))},onCommon23Selected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{common_field_23:e}))},onOutputsSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{outputs:(0,o.Z)(e)}))},bpContext:Yn}),"payments"===(null===$n||void 0===$n||null===(Dt=$n.name)||void 0===Dt?void 0:Dt.toLowerCase())&&i.createElement(_t,{validationErrors:gl,defaultValue:(null===nl||void 0===nl||null===(At=nl.type)||void 0===At?void 0:At.length)>0?{label:Yn.allBlueprintComponents.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.type)})).name}:void 0,defaultSrcName:(null===nl||void 0===nl||null===(Wt=nl.paymentField)||void 0===Wt?void 0:Wt.length)>0?{label:null===nl||void 0===nl?void 0:nl.paymentField}:void 0,onSourceSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{type:e}))},onSourceLabel:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{paymentField:e}))},bpContext:Yn,defaultList:(null===nl||void 0===nl||null===(Vt=nl.list)||void 0===Vt?void 0:Vt.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,onListSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:e}))}}),"lookup"===(null===$n||void 0===$n||null===(zt=$n.name)||void 0===zt?void 0:zt.toLowerCase())&&i.createElement(mt,{selectedFields:Un,validationErrors:gl,defaultGlobal:(null===nl||void 0===nl||null===(Rt=nl.global)||void 0===Rt?void 0:Rt.length)>0?null===nl||void 0===nl?void 0:nl.global:void 0,defaultValue:(null===nl||void 0===nl||null===(Ut=nl.source_id)||void 0===Ut?void 0:Ut.length)>0?{label:Yn.allBlueprintComponents.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.source_id)})).name}:void 0,defaultTarget:(null===nl||void 0===nl||null===(jt=nl.target_id)||void 0===jt?void 0:jt.length)>0?{label:Yn.allBlueprintComponents.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.target_id)})).name}:void 0,defaultType:(null===nl||void 0===nl||null===(qt=nl.selection)||void 0===qt?void 0:qt.length)>0?{label:null===nl||void 0===nl?void 0:nl.selection}:void 0,defaultCommon:(null===nl||void 0===nl||null===(Ht=nl.common_field)||void 0===Ht?void 0:Ht.length)>0?{label:null===nl||void 0===nl?void 0:nl.common_field}:void 0,defaultList:(null===nl||void 0===nl||null===(Kt=nl.list)||void 0===Kt?void 0:Kt.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,defaultRefList:(null===nl||void 0===nl||null===(Xt=nl.rlist)||void 0===Xt?void 0:Xt.length)>0?null===nl||void 0===nl?void 0:nl.rlist:void 0,defaultRefName:(null===nl||void 0===nl||null===(Gt=nl.referenceLabel)||void 0===Gt?void 0:Gt.length)>0?{label:null===nl||void 0===nl?void 0:nl.referenceLabel}:void 0,defaultSrcName:(null===nl||void 0===nl||null===(Yt=nl.sourceLabel)||void 0===Yt?void 0:Yt.length)>0?null===nl||void 0===nl?void 0:nl.sourceLabel:void 0,onSourceSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{source_id:e}))},onTargetSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{target_id:e}))},onFieldSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{common_field:e}))},onChangeList:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:(0,o.Z)(e)}))},onChangeRList:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{rlist:(0,o.Z)(e)}))},onTypeSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{selection:e}))},onSourceLabel:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{sourceLabel:(0,o.Z)(e)}))},onReferenceLabel:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{referenceLabel:e}))},onGlobalSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{global:e}))},onSetShowAll:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{showAll:e}))},showAllDefault:null===nl||void 0===nl?void 0:nl.showAll,bpContext:Yn}),"emails"===(null===$n||void 0===$n||null===(Jt=$n.name)||void 0===Jt?void 0:Jt.toLowerCase())&&i.createElement(rt,{validationErrors:gl,options:nl,setFieldOption:vl,fieldOption:pl,blueprints:Rn}),"product lookup"===(null===$n||void 0===$n||null===(Qt=$n.name)||void 0===Qt?void 0:Qt.toLowerCase())&&i.createElement(ut,{validationErrors:gl,defaultTarget:Yn.allBlueprintComponents.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.component_id)})),defaultRefName:null===nl||void 0===nl?void 0:nl.referenceLabel,defaultList:null===nl||void 0===nl?void 0:nl.list,defaultType:(null===nl||void 0===nl||null===($t=nl.selection)||void 0===$t?void 0:$t.length)>0?{label:null===nl||void 0===nl?void 0:nl.selection}:void 0,onTargetSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{component_id:e}))},onChangeList:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:(0,o.Z)(e)}))},onTypeSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{selection:e}))},onReferenceLabel:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{referenceLabel:e}))},bpContext:Yn}),"id"===(null===$n||void 0===$n||null===(en=$n.name)||void 0===en?void 0:en.toLowerCase())&&i.createElement(je,null,i.createElement(f.Lb,{title:"ID series to automatically generate"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement(bt,{defaultValue:nl.id.length>0?{label:nl.id}:{label:""},onSetIdGenerator:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{id:e,value:e}))}}))),"notes"===(null===$n||void 0===$n||null===(tn=$n.name)||void 0===tn?void 0:tn.toLowerCase())&&i.createElement(je,null,i.createElement(f.Lb,{title:"Notes automatically generate"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement(Et,{defaultValue:nl.value.length>0?{label:nl.value}:{label:""},onNotesGenerator:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{value:e}))}}))),"filters"===(null===$n||void 0===$n||null===(nn=$n.name)||void 0===nn?void 0:nn.toLowerCase())&&i.createElement(st,{validationErrors:gl,defaultTarget:Yn.allBlueprintComponents.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.component_id)})),defaultFilters:null===nl||void 0===nl?void 0:nl.filters,defaultOutput:null===nl||void 0===nl?void 0:nl.output,defaultGlobal:null===nl||void 0===nl?void 0:nl.global,onGlobalSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{global:e}))},onTargetSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{component_id:e}))},onFilterList:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{filters:e}))},onOutputSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{output:e}))},bpContext:Yn}),"module"===(null===$n||void 0===$n||null===(ln=$n.name)||void 0===ln?void 0:ln.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(ct,{validationErrors:gl,fieldOption:pl,setFieldOption:vl,defaultModule:null===pl||void 0===pl?void 0:pl.module_id,defaultFields:null===pl||void 0===pl?void 0:pl.fields,onFieldsSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{fields:e}))},bpContext:Yn,companyProcesses:Hn,onModuleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{module_id:e.value}))}}),i.createElement(f.pd,{id:"Save transaction before transfer?",title:"Save transaction before calling this module",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===pl||void 0===pl?void 0:pl.save,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{save:e}))}}),i.createElement(f.pd,{id:"Return to module?",title:"Return to origin module after saving",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===pl||void 0===pl?void 0:pl.return,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{return:e}))}})),"pin"===(null===$n||void 0===$n||null===(on=$n.name)||void 0===on?void 0:on.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(f.pd,{id:"Pin with destination info?",title:"Pin a second location",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===nl||void 0===nl?void 0:nl.destination,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{destination:e}))}}),i.createElement(f.pd,{id:"Compute distance between two pins?",title:"Compute distance ".concat(1==(null===pl||void 0===pl?void 0:pl.destination)?"between two pins":"with current location"),ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===nl||void 0===nl?void 0:nl.compute,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{compute:e}))}}),i.createElement(f.pd,{id:"Show real-time location of target?",title:"Show real-time location",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===nl||void 0===nl?void 0:nl.realtime,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{realtime:e}))}}),1==(null===pl||void 0===pl?void 0:pl.realtime)&&i.createElement(je,null,i.createElement(f.Lb,{title:"Interval"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"number",className:Ae.dropDownNewListItemInput,value:Nl,name:"Interval",onChange:function(e){Ll(e.target.value),vl((0,l.Z)((0,l.Z)({},pl),{},{interval:+e.target.value}))}})))),"ratings"===(null===$n||void 0===$n||null===(an=$n.name)||void 0===an?void 0:an.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(je,null,i.createElement(f.Lb,{title:"Field to lookup user ID"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:Ml,name:"Field to lookup user ID",onChange:function(e){Ol(e.target.value),vl((0,l.Z)((0,l.Z)({},pl),{},{field:e.target.value}))}}))),i.createElement(f.pd,{id:"Add comments field?",title:"Add comments field?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===nl||void 0===nl?void 0:nl.comments,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{comments:e}))}}),i.createElement(f.pd,{id:"Allow users to view rating?",title:"Allow users to view rating?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===nl||void 0===nl?void 0:nl.view,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{view:e}))}})),"rewards"===(null===$n||void 0===$n||null===(rn=$n.name)||void 0===rn?void 0:rn.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(je,null,i.createElement(f.Lb,{title:"Apply rewards when status matches"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(dn=null===pl||void 0===pl?void 0:pl.status)&&void 0!==dn?dn:"Closed",name:"Status to compare",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{status:e.target.value}))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Reward points to apply"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"number",className:Ae.dropDownNewListItemInput,value:null!==(un=null===pl||void 0===pl?void 0:pl.points)&&void 0!==un?un:1,name:"Reward points to apply",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{points:+e.target.value}))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Equivalent wallet value to apply"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"number",className:Ae.dropDownNewListItemInput,value:null!==(sn=null===pl||void 0===pl?void 0:pl.equiv)&&void 0!==sn?sn:1,name:"Equivalent wallet value to apply",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{equiv:+e.target.value}))}}))),i.createElement(f.pd,{id:"Apply rewards to transaction creator",title:"Apply rewards to transaction creator?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===(cn=null===pl||void 0===pl?void 0:pl.creator)||void 0===cn||cn,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{creator:e}))}})),"link"===(null===$n||void 0===$n||null===(mn=$n.name)||void 0===mn?void 0:mn.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(f.pd,{id:"Display as image",title:"Show link as an image?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null!==(pn=null===pl||void 0===pl?void 0:pl.image)&&void 0!==pn&&pn,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{image:e}))}})),"video"===(null===$n||void 0===$n||null===(vn=$n.name)||void 0===vn?void 0:vn.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(je,null,i.createElement(f.Lb,{title:"Status to match"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null===pl||void 0===pl?void 0:pl.status,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{status:e.target.value}))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Time that join button is available (mins)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"number",className:Ae.dropDownNewListItemInput,value:null!==(fn=null===pl||void 0===pl?void 0:pl.expiry)&&void 0!==fn?fn:10,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{expiry:+e.target.value}))}})))),"calendar"===(null===$n||void 0===$n||null===(yn=$n.name)||void 0===yn?void 0:yn.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(je,null,i.createElement(f.Lb,{title:"Header label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null===pl||void 0===pl?void 0:pl.header,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{header:e.target.value}))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Title label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(gn=null===pl||void 0===pl?void 0:pl.title)&&void 0!==gn?gn:"Event Name",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{title:e.target.value}))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Description label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(hn=null===pl||void 0===pl?void 0:pl.description)&&void 0!==hn?hn:"Description",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{description:e.target.value}))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Assignee label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(Cn=null===pl||void 0===pl?void 0:pl.assignee)&&void 0!==Cn?Cn:"Assigned to",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{assignee:e.target.value}))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Start date label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(Sn=null===pl||void 0===pl?void 0:pl.start)&&void 0!==Sn?Sn:"Start Date",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{start:e.target.value}))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"End date label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(bn=null===pl||void 0===pl?void 0:pl.end)&&void 0!==bn?bn:"End Date",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{end:e.target.value}))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Value label to use (Optional)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null===pl||void 0===pl?void 0:pl.valueL,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{valueL:e.target.value}))}}))),i.createElement(et,{validationErrors:gl,defaultList:(null===nl||void 0===nl||null===(En=nl.list)||void 0===En?void 0:En.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,onListSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:e}))}}),i.createElement(f.pd,{id:"Retrieve calendar of transaction creator",title:"Retrieve calendar of transaction creator only?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===nl||void 0===nl?void 0:nl.creator,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{creator:e}))}}),i.createElement(f.pd,{id:"Limit calendar to module component attached",title:"Limit calendar to module it is attached to?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===nl||void 0===nl?void 0:nl.limited,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{limited:e}))}}),i.createElement(f.pd,{id:"Allow event to span multiple dates",title:"Allow event to span multiple dates?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===nl||void 0===nl?void 0:nl.span,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{span:e}))}}),i.createElement(f.pd,{id:"Show calendar priority",title:"Show calendar priority?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===nl||void 0===nl?void 0:nl.priority,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{priority:e}))}})),"info"===(null===$n||void 0===$n||null===(_n=$n.name)||void 0===_n?void 0:_n.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(lt,{defaultOrientation:null!==(Zn=null===nl||void 0===nl?void 0:nl.orientation)&&void 0!==Zn?Zn:"Rows",defaultKey:null!==(wn=null===nl||void 0===nl?void 0:nl.key)&&void 0!==wn?wn:"Product ID",onKeySelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{key:e}))},blueprints:Rn,validationErrors:gl,defaultList:(null===nl||void 0===nl||null===(Nn=nl.list)||void 0===Nn?void 0:Nn.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,defaultType:Rn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nl||void 0===nl?void 0:nl.component_id)&&void 0!==t?t:"")})),onTypeSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{component_id:e.component.id}))},onChangeList:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:(0,o.Z)(e)}))},onChangeOrientation:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{orientation:e}))},multiSelectLabel:""===(null===nl||void 0===nl?void 0:nl.component_id)?"":Rn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nl||void 0===nl?void 0:nl.component_id)&&void 0!==t?t:"")})).label}),i.createElement(f.pd,{id:"Email Info",title:"Show this info in emails",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===nl||void 0===nl?void 0:nl.email,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{email:e}))}})),"chart"===(null===$n||void 0===$n||null===(Ln=$n.name)||void 0===Ln?void 0:Ln.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(ot,{setFieldOption:vl,fieldOption:pl,defaultOrientation:null!==(In=null===nl||void 0===nl?void 0:nl.orientation)&&void 0!==In?In:"Rows",defaultKey:null!==(xn=null===nl||void 0===nl?void 0:nl.key)&&void 0!==xn?xn:"",defaultConfig:null!==(Mn=null===nl||void 0===nl?void 0:nl.config)&&void 0!==Mn?Mn:v.mj,onConfigSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{config:e}))},onKeySelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{key:e}))},blueprints:Rn,validationErrors:gl,defaultList:(null===nl||void 0===nl||null===(On=nl.list)||void 0===On?void 0:On.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,defaultItemList:(null===nl||void 0===nl||null===(kn=nl.items)||void 0===kn?void 0:kn.length)>0?null===nl||void 0===nl?void 0:nl.items:void 0,defaultType:Rn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nl||void 0===nl?void 0:nl.component_id)&&void 0!==t?t:"")})),onTypeSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{component_id:e.component.id}))},onChangeList:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:(0,o.Z)(e)}))},onChangeListItems:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{items:(0,o.Z)(e)}))},onChangeOrientation:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{orientation:e}))},multiSelectLabel:""===(null===nl||void 0===nl?void 0:nl.component_id)?"":Rn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nl||void 0===nl?void 0:nl.component_id)&&void 0!==t?t:"")})).label}))),"emails"!==(null===$n||void 0===$n||null===(Tn=$n.name)||void 0===Tn?void 0:Tn.toLowerCase())&&i.createElement(Ue,{isOutput:0===(null===$n||void 0===$n?void 0:$n.io_type),selectedFields:Un,options:nl,fieldType:null===$n||void 0===$n?void 0:$n.name,onOptionsSelected:function(e){vl(e)},fieldOption:pl}),i.createElement("div",{className:Ae.controls},i.createElement(f.zx,{title:"Close",clicked:Pn}),!Xn&&i.createElement(f.zx,{light:!0,title:"Save",loading:Wn,clicked:Fl}),!Xn&&Dn&&i.createElement(f.zx,{title:"Delete",light:!0,loading:Fn,clicked:function(){return Dn(el)}}))))},Re=function(e){var t=e.setFieldOption,n=e.options,r=e.defaultType,d=e.defaultModule,u=e.defaultMap,s=e.onModuleSelected,c=e.onTypeSelected,m=e.defaultList,p=e.validationErrors,v=e.allModules,y=(e.onChangeMapping,e.multiSelectLabel,e.companyProcesses),g=e.blueprints,h=(0,i.useState)(void 0),C=(0,a.Z)(h,2),S=(C[0],C[1]),b=(0,i.useState)(null!==u&&void 0!==u?u:{}),E=(0,a.Z)(b,1)[0],_=(0,i.useState)(!1),Z=(0,a.Z)(_,2),w=(Z[0],Z[1]),N=(0,i.useState)(void 0===m||0===m.length?[]:m.map((function(e){var t;return{label:e,value:e,blueprint_name:null!==(t=null===d||void 0===d?void 0:d.label)&&void 0!==t?t:"Others"}}))),L=(0,a.Z)(N,2),I=L[0],x=L[1];(0,i.useEffect)((function(){M()}),[]);var M=function(){if(g.length>0){var e=[];g.filter((function(t){t.fields.filter((function(t){e=[].concat((0,o.Z)(e),[t.value])}))})),e=(0,o.Z)(new Set(e)).map((function(e){return{label:e,value:e,blueprint_name:e}})),x((0,o.Z)(We.sortWith([We.ascend(We.prop("label"))])(e)))}},O=v.map((function(e){return{label:e.name,value:e.id,module:e}})),k=[{label:"Item Code",value:"item_code"},{label:"Quantity",value:"quantity"},{label:"Value",value:"value"},{label:"Alt Value",value:"alt_value"},{label:"Type",value:"type"}];return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(je,{errorMessage:null===p||void 0===p?void 0:p.type},i.createElement(f.Lb,{title:"Module to list"}),i.createElement(f.sm,{"app-variant":null!==p&&void 0!==p&&p.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:O,defaultSelected:d,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){!function(e){if(y.length>0&&void 0!==e){var t,n,l=[];null===(t=y.find((function(t){return t.id===e})))||void 0===t||null===(n=t.steps)||void 0===n||n.filter((function(e){e.component_blueprints.filter((function(e){e.selected_fields.filter((function(e){return 1==e.visible})).filter((function(e){l=[].concat((0,o.Z)(l),[e.field_name])}))}))})),l=(0,o.Z)(new Set(l)).map((function(e){var t;return{label:e,value:e,blueprint_name:null!==(t=null===d||void 0===d?void 0:d.label)&&void 0!==t?t:"Others"}})),x([].concat((0,o.Z)(We.sortWith([We.ascend(We.prop("label"))])(l)),[{label:"None",value:"none"}]))}}(e.module.procedure.id),S(e),null===s||void 0===s||s(e),null!==e&&void 0!==e&&e.symbol?w(!1):w(!0)}}))),i.createElement(je,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Item Code"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:null!==u&&void 0!==u&&u.item_code?{label:u.item_code,value:u.item_code}:null,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.item_code:E.item_code=e.value,t((0,l.Z)((0,l.Z)({},n),{},{map:E}))}}))),i.createElement(je,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Quantity"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:null!==u&&void 0!==u&&u.quantity?{label:u.quantity,value:u.quantity}:null,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.quantity:E.quantity=e.value,t((0,l.Z)((0,l.Z)({},n),{},{map:E}))}}))),i.createElement(je,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Value"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:null!==u&&void 0!==u&&u.value?{label:u.value,value:u.value}:null,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.value:E.value=e.value,t((0,l.Z)((0,l.Z)({},n),{},{map:E}))}}))),i.createElement(je,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Other Value"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:null!==u&&void 0!==u&&u.alt_value?{label:u.alt_value,value:u.alt_value}:null,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.alt_value:E.alt_value=e.value,t((0,l.Z)((0,l.Z)({},n),{},{map:E}))}}))),i.createElement(je,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Total"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:null!==u&&void 0!==u&&u.total?{label:u.total,value:u.total}:null,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.total:E.total=e.value,t((0,l.Z)((0,l.Z)({},n),{},{map:E}))}}))),i.createElement(je,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Type"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:null!==u&&void 0!==u&&u.type?{label:u.type,value:u.type}:null,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.type:E.type=e.value,t((0,l.Z)((0,l.Z)({},n),{},{map:E}))}}))),(null===n||void 0===n?void 0:n.group)&&i.createElement(je,{errorMessage:null===p||void 0===p?void 0:p.type},i.createElement(f.Lb,{title:"Group By"}),i.createElement(f.sm,{"app-variant":null!==p&&void 0!==p&&p.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:k,defaultSelected:null===k||void 0===k?void 0:k.find((function(e){return e.value===(null===n||void 0===n?void 0:n.groupL)})),className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){t((0,l.Z)((0,l.Z)({},n),{},{groupL:null===e||void 0===e?void 0:e.value}))}}))),i.createElement(f.pd,{id:"Group Type",title:"Group items?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===n||void 0===n?void 0:n.group,toggleSelected:function(e){t((0,l.Z)((0,l.Z)({},n),{},{group:e}))}}),i.createElement(je,{errorMessage:null===p||void 0===p?void 0:p.type},i.createElement(f.Lb,{title:"List type"}),i.createElement(f.sm,{"app-variant":null!==p&&void 0!==p&&p.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:[{label:"Table",value:"Table"},{label:"List (max 4 fields displayed)",value:"List"}],defaultSelected:r,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){null===c||void 0===c||c(e),null!==e&&void 0!==e&&e.symbol?w(!1):w(!0)}}))))},Ue=function(e){var t,n,o,r=e.fieldType,d=e.selectedFields,u=e.fieldOption,s=e.errorMessage,c=e.noBorder,m=e.options,p=e.onOptionsSelected,v=e.isOutput,y=(0,i.useState)(((null===m||void 0===m?void 0:m.valueToMatch)||(null===m||void 0===m?void 0:m.valueToMatch2))&&(null===m||void 0===m?void 0:m.fieldToMatch)||(null===m||void 0===m?void 0:m.mapToItem)||(null===m||void 0===m?void 0:m.notes)||(null===m||void 0===m?void 0:m.width)),g=(0,a.Z)(y,2),h=g[0],C=g[1],S=(0,i.useState)(null===m||void 0===m?void 0:m.valueToMatch),b=(0,a.Z)(S,2),E=b[0],_=b[1],Z=(0,i.useState)(null===m||void 0===m?void 0:m.valueToMatch2),w=(0,a.Z)(Z,2),N=w[0],L=w[1],I=(0,i.useState)(null===m||void 0===m?void 0:m.fieldToMatch),x=(0,a.Z)(I,2),M=x[0],O=x[1],k=(0,i.useState)(null===m||void 0===m?void 0:m.notes),T=(0,a.Z)(k,2),P=T[0],B=T[1],F=[{label:"Make field visible and mandatory",value:"visman"},{label:"Make field visible",value:"visible"},{label:"Make field hidden",value:"hidden"},{label:"Make field mandatory",value:"mandatory"},{label:"Make field optional",value:"optional"},{label:"Disable the field",value:"disable"},{label:"Enable the field",value:"enable"}],D=[{label:"Make field visible and mandatory",value:"visman"},{label:"Show the field",value:"visible"},{label:"Hide the field",value:"hide"},{label:"Make field mandatory",value:"mandatory"},{label:"Make field optional",value:"optional"},{label:"Disable the field",value:"disable"},{label:"Enable the field",value:"enable"},{label:"Trigger an email during save",value:"email"}],A=[{label:"Set date today",value:"today",type:"Date"},{label:"Set date tomorrow",value:"tomorrow",type:"Date"},{label:"Set date one month from today",value:"month",type:"Date"},{label:"Set date one week from today",value:"week",type:"Date"},{label:"None",value:"none",type:"Date"}],W=[{label:"Total Sum per line item variable (A1+A2+An)",id:6,value:"itemsum",type:"items"},{label:"Total Difference per line item variable (A1-A2-An)",id:7,value:"itemdiff",type:"items"},{label:"Count occurrences of string in line item variable selected",id:12,value:"countocc",type:"items"},{label:"None",id:14,value:"none",type:"items"}];d.map((function(e){return{label:e.value,value:e.value,field:e}}));return i.createElement("div",{className:Ae.optionSettings,"app-container-variant":c?"noBorder":"border","app-variant":(null===s||void 0===s?void 0:s.length)>0?"error":"normal"},!("GoogleAI Assistant"===r||"OpenAI Assistant"===r)&&i.createElement(f.pd,{id:"Show additional options?",title:"Show additional options?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!!h,toggleSelected:function(e){C(e)}}),h&&i.createElement("div",null,i.createElement(je,null,i.createElement(f.Lb,{title:"Add Notes"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("textarea",{type:"text",className:Ae.dropDownNewListItemInput,value:P,name:"matched to field",onChange:function(e){B(e.target.value),p((0,l.Z)((0,l.Z)({},u),{},{notes:e.target.value}))}})))),h&&i.createElement(je,null,i.createElement(f.Lb,{title:"Field name to match values"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:M,name:"matched to field",onChange:function(e){O(e.target.value),p((0,l.Z)((0,l.Z)({},u),{},{fieldToMatch:e.target.value}))}}))),h&&(null===M||void 0===M?void 0:M.length)>2&&i.createElement(je,null,i.createElement(f.Lb,{title:"Values (A) to be matched to field. (Note: Use ' , ' to seperate)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:E,name:"matched to field",onChange:function(e){_(e.target.value),p((0,l.Z)((0,l.Z)({},u),{},{valueToMatch:e.target.value}))}}))),h&&(null===E||void 0===E?void 0:E.length)>2&&i.createElement(je,null,i.createElement(f.Lb,{title:"Perform this action when matched with (A)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:D.filter((function(e){return"email"!==e.value})),defaultSelectedItem:D.find((function(e){return e.value===(null===m||void 0===m?void 0:m.actionToPerform)})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){p((0,l.Z)((0,l.Z)({},u),{},{actionToPerform:e.value}))}}))),h&&(null===E||void 0===E?void 0:E.length)>2&&i.createElement(je,null,i.createElement(f.Lb,{title:"Perform this action when not matched with (A)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:F,defaultSelectedItem:F.find((function(e){return e.value===(null===m||void 0===m?void 0:m.initialState)})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){p((0,l.Z)((0,l.Z)({},u),{},{initialState:e.value}))}}))),h&&(null===M||void 0===M?void 0:M.length)>2&&i.createElement(je,null,i.createElement(f.Lb,{title:"Values (B) to be matched to field. (Note: Use ' , ' to seperate)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:N,name:"matched to field",onChange:function(e){L(e.target.value),p((0,l.Z)((0,l.Z)({},u),{},{valueToMatch2:e.target.value}))}}))),h&&(null===N||void 0===N?void 0:N.length)>2&&"Date"===r&&i.createElement(je,null,i.createElement(f.Lb,{title:"Change to this value when matched with (B)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:A,defaultSelectedItem:A.filter((function(e){return e.type===r})).find((function(e){return e.value===(null===m||void 0===m?void 0:m.value)})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){p((0,l.Z)((0,l.Z)({},u),{},{value:e.value}))}}))),h&&(null===N||void 0===N?void 0:N.length)>2&&("Text"===r||"Status"===r)&&i.createElement(je,null,i.createElement(f.Lb,{title:"Change to this value when matched"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:r.toLowerCase(),className:Ae.dropDownNewListItemInput,placeholder:null===m||void 0===m?void 0:m.value,name:"matched to field",onChange:function(e){p((0,l.Z)((0,l.Z)({},u),{},{value:e.target.value}))}}))),h&&(null===N||void 0===N?void 0:N.length)>2&&i.createElement(je,null,i.createElement(f.Lb,{title:"Perform action to field when matched with (B)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:null!==m&&void 0!==m&&m.actionToPerform?D.filter((function(e){return!(e.value===(null===m||void 0===m?void 0:m.actionToPerform)||e.value===(null===m||void 0===m?void 0:m.initialState))})):D,defaultSelectedItem:D.find((function(e){return e.value===(null===m||void 0===m?void 0:m.actionToPerform2)})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){p((0,l.Z)((0,l.Z)({},u),{},{actionToPerform2:e.value}))}}))),h&&i.createElement(je,null,i.createElement(f.Lb,{title:"Map this field to line item field"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:[{label:"Item Codes",value:"item_code"},{label:"Numbers",value:"quantity"},{label:"Basic Text",value:"value"},{label:"Other Text",value:"alt_value"},{label:"Totals",value:"total"},{label:"Type",value:"type"},{label:"Distance",value:"distance"},{label:"None",value:"none"}],defaultSelectedItem:[{label:"Item Codes",value:"item_code"},{label:"Numbers",value:"quantity"},{label:"Text",value:"value"},{label:"More Text",value:"alt_value"},{label:"Totals",value:"total"},{label:"Type",value:"type"},{label:"Distance",value:"distance"}].find((function(e){return e.value===(null===m||void 0===m?void 0:m.mapToItem)})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?(delete u.mapToItem,delete u.footer):p((0,l.Z)((0,l.Z)({},u),{},{mapToItem:e.value}))}}))),h&&u.mapToItem&&i.createElement(je,null,i.createElement(f.Lb,{title:"Compute and display as footer value"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:W,defaultSelectedItem:W.find((function(e){return e.value===(null===m||void 0===m?void 0:m.footer)})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?delete u.footer:p((0,l.Z)((0,l.Z)({},u),{},{footer:e.value}))}}))),h&&u.mapToItem&&i.createElement(je,null,i.createElement(f.Lb,{title:"Item Group Header"}),i.createElement("input",{type:"text",className:Ae.elementTextInput,defaultValue:null===u||void 0===u?void 0:u.group,onBlur:function(e){return p((0,l.Z)((0,l.Z)({},u),{},{group:e.target.value}))}})),h&&!v&&i.createElement(je,null,i.createElement(f.Lb,{title:"Apply color for values"}),i.createElement("input",{type:"text",className:Ae.elementTextInput,style:{borderRight:"white"===(null===u||void 0===u?void 0:u.valueC)?"white":"".concat(null!==u&&void 0!==u&&u.valueC?"50px":"1px"," solid ").concat(null!==(t=null===u||void 0===u?void 0:u.valueC)&&void 0!==t?t:"var(--app-color-gray-lighter)")},defaultValue:null===u||void 0===u?void 0:u.valueC,onBlur:function(e){return p((0,l.Z)((0,l.Z)({},u),{},{valueC:e.target.value}))}})),h&&i.createElement(je,null,i.createElement("br",null),i.createElement(f.Lb,{title:"Field width (min 15%, will fit 4 fields in row)"}),i.createElement("div",{style:{display:"flex",width:"100%"}},i.createElement("input",{type:"range",min:"15",max:"100",step:"5",style:{width:"90%"},defaultValue:null!==(n=null===m||void 0===m?void 0:m.width)&&void 0!==n?n:"0",onChange:function(e){p((0,l.Z)((0,l.Z)({},u),{},{width:e.target.value}))}}),i.createElement("label",{style:{width:"10%"}},null!==(o=null===u||void 0===u?void 0:u.width)&&void 0!==o?o:null===m||void 0===m?void 0:m.width,"%")),i.createElement("br",null)),h&&!v&&i.createElement(f.pd,{id:"Do not save this value?",title:"Do not save this value?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===m||void 0===m?void 0:m.skip,toggleSelected:function(e){p((0,l.Z)((0,l.Z)({},u),{},{skip:e}))}}),h&&!v&&i.createElement(f.pd,{id:"Read only?",title:"Read only?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===m||void 0===m?void 0:m.read,toggleSelected:function(e){p((0,l.Z)((0,l.Z)({},u),{},{read:e}))}}))},je=function(e){var t=e.children,n=e.errorMessage,l=e.noBorder;return i.createElement("div",{className:Ae.optionSection,"app-container-variant":l?"noBorder":"border","app-variant":(null===n||void 0===n?void 0:n.length)>0?"error":"normal"},t,(null===n||void 0===n?void 0:n.length)>0&&i.createElement("span",{className:Ae.errorContainer},n))},qe=function(e){var t=e.defaultValue,n=e.onChangeType,l=e.validationErrors,o=(0,i.useState)(null!==t&&void 0!==t&&t),r=(0,a.Z)(o,2),d=r[0],u=r[1];return i.createElement(je,{errorMessage:null===l||void 0===l?void 0:l.type},i.createElement(f.Lb,{title:"Type of Number"}),i.createElement(f.sm,{"app-variant":null!==l&&void 0!==l&&l.type?"error":"normal","app-container-variant":"noBorder",className:Ae.numberOptionsContainer},i.createElement(f.nd,{selected:d,setSelected:function(e){u(e),n(e?"numeric":"percentage")},first:"123 Value",second:"% Percentage",extraClassName:Ae.renderBooleansOptions})))},He=function(e){var t=e.defaultValue,n=e.defaultAuto,l=(e.defaultTime,e.onChangeType),o=e.onExceeded,r=e.withTime,d=e.validationErrors,u=(0,i.useState)(null!==t&&void 0!==t&&t),s=(0,a.Z)(u,2),c=s[0],m=s[1];return i.createElement(je,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Type of Element"}),i.createElement(f.sm,{"app-variant":null!==d&&void 0!==d&&d.type?"error":"normal","app-container-variant":"noBorder",className:Ae.dateOptionsContainer},i.createElement(f.nd,{selected:c,setSelected:function(e){m(e),l(e?"single":"range")},first:"Single date",second:"Date Range",extraClassName:Ae.renderBooleansOptions})),i.createElement(f.pd,{id:"Add Time",title:"With Time?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:n,toggleSelected:function(e){r(e)}}),i.createElement(f.pd,{id:"Auto-close when date is exceeded",title:"Auto-close when date is exceeded?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:n,toggleSelected:function(e){o(e)}}))},Ke=function(e){var t=e.defaultValue,n=e.defaultType,l=e.onChangeType,o=e.onChangeValue,r=e.validationErrors,d=(0,i.useState)(null!==n&&void 0!==n&&n),u=(0,a.Z)(d,2),s=u[0],c=u[1],m=(0,i.useState)(t),p=(0,a.Z)(m,2),v=p[0],y=p[1];return i.createElement(je,{errorMessage:null===r||void 0===r?void 0:r.type},i.createElement(f.Lb,{title:"URL Link"}),i.createElement("input",{type:"text",name:"element-name",value:v,onChange:function(e){o(e.target.value),y(e.target.value)},className:Ae.elementTextInput}),i.createElement(f.Lb,{title:"Type of Element"}),i.createElement(f.sm,{"app-variant":null!==r&&void 0!==r&&r.type?"error":"normal","app-container-variant":"noBorder",className:Ae.numberOptionsContainer},i.createElement(f.nd,{selected:s,setSelected:function(e){c(e),l(e?"image":"link")},first:"Image",second:"Link",extraClassName:Ae.renderBooleansOptions})))},Xe=function(e){var t=e.defaultValue,n=e.onChangeValue,l=e.validationErrors,o=(0,i.useState)(t),r=(0,a.Z)(o,2),d=r[0],u=r[1];return i.createElement(je,{errorMessage:null===l||void 0===l?void 0:l.type},i.createElement(f.Lb,{title:"Label"}),i.createElement("input",{type:"text",name:"element-name",value:d,onChange:function(e){n(e.target.value),u(e.target.value)},className:Ae.elementTextInput}))},Ge=function(e){var t=e.onChange,n=e.countryCode,l=e.defaultValue,o=e.validationErrors,r=(0,i.useState)(l),d=(0,a.Z)(r,2),u=d[0],s=d[1];return i.createElement(je,{errorMessage:null===o||void 0===o?void 0:o.country_prefix},i.createElement(f.Lb,{title:"Phone Number Prefix"}),i.createElement(f.sm,{"app-variant":null!==o&&void 0!==o&&o.country_prefix?"error":"normal",className:Ae.unfocusableWrapper,onClickOutside:function(){},onClick:function(){var e,t=document.getElementsByClassName("selected-flag");t[0]&&(null===(e=t[0])||void 0===e||e.click())}},i.createElement(Me(),{specialLabel:"",enableSearch:!0,country:null!==n&&void 0!==n?n:"ph",onChange:function(e,n,l){var o="+"+n.dialCode+" "+n.name;s(o),null===t||void 0===t||t({country_prefix:"+".concat(null===n||void 0===n?void 0:n.dialCode),country_code:null===n||void 0===n?void 0:n.countryCode,country_name:null===n||void 0===n?void 0:n.name})},value:u,inputProps:{name:"phone",required:!1,autoFocus:!1},countryCodeEditable:!1,containerClass:Ie()(Ae.phoneIContainer,Ae.borderClass),inputClass:Ae.phoneIInput,buttonClass:Ae.phoneIButton,dropdownClass:Ae.phoneIDropdown,searchClass:Ae.phoneISearch}),i.createElement("p",{className:Ae.phonePrefixText},null!==u&&void 0!==u?u:"+44 United Kingdom")))},Ye=function(e){var t=e.defaultValue,n=e.onCurrencySelected,l=e.validationErrors,o=(0,i.useState)(void 0),r=(0,a.Z)(o,2),d=r[0],u=r[1],s=(0,i.useState)(!1),c=(0,a.Z)(s,2),m=c[0],p=c[1];return i.createElement(je,{errorMessage:null===l||void 0===l?void 0:l.currency_type},i.createElement(f.Lb,{title:"Currency Type"}),i.createElement(f.sm,{"app-variant":null!==l&&void 0!==l&&l.currency_type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement("pre",{className:Ae.currencySymbol},null!==d&&void 0!==d&&d.symbol?null===d||void 0===d?void 0:d.symbol:m?"":null===t||void 0===t?void 0:t.symbol," "),i.createElement(f.Ld,{items:v.s3,defaultSelectedItem:t,triggerType:"chevron",className:Ae.currencySelectComponent,inputClassName:Ae.currencySearchInput,clearControlsClassName:Ae.currencyClearControlsClassName,molclassname:Ae.currencySelectMenuOverlayList,moliclassname:Ae.currencySelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){u(e),n(e),null!==e&&void 0!==e&&e.symbol?p(!1):p(!0)}})))},Je=function(e){var t=e.defaultValue,n=e.onActionSelected,l=e.validationErrors,o=(0,i.useState)(void 0),r=(0,a.Z)(o,2),d=(r[0],r[1]),u=(0,i.useState)(!1),s=(0,a.Z)(u,2),c=(s[0],s[1]);return i.createElement(je,{errorMessage:null===l||void 0===l?void 0:l.currency_type},i.createElement(f.Lb,{title:"Action Type"}),i.createElement(f.sm,{"app-variant":null!==l&&void 0!==l&&l.currency_type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.Ld,{items:v.D0,defaultSelectedItem:v.D0.find((function(e){return e.value===t})),triggerType:"chevron",className:Ae.currencySelectComponent,inputClassName:Ae.currencySearchInput,clearControlsClassName:Ae.currencyClearControlsClassName,molclassname:Ae.currencySelectMenuOverlayList,moliclassname:Ae.currencySelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){d(e),n(e),null!==e&&void 0!==e&&e.symbol?c(!1):c(!0)}})),i.createElement("br",null),i.createElement(f.Lb,{title:"Notes: The Action Button is only shown in the detail popup screen"}))},Qe=function(e){var t=e.defaultValue,n=e.defaultOption,l=e.onProfileSelected,o=e.validationErrors,r=(0,i.useState)(void 0),d=(0,a.Z)(r,2),u=(d[0],d[1]),s=(0,i.useState)(!1),c=(0,a.Z)(s,2),m=(c[0],c[1]),p=[{label:"User that made the transaction",value:"creator"},{label:"Wallet of user that made the transaction",value:"wallet"},{label:"User that accepted the transaction",value:"owner"},{label:"Custom",value:"custom"}];return i.createElement(je,{errorMessage:null===o||void 0===o?void 0:o.currency_type},i.createElement(f.Lb,{title:"Show profile of user"}),i.createElement(f.sm,{"app-variant":null!==o&&void 0!==o&&o.currency_type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.Ld,{items:p,defaultSelectedItem:p.find((function(e){return e.value===t})),triggerType:"chevron",className:Ae.currencySelectComponent,inputClassName:Ae.currencySearchInput,clearControlsClassName:Ae.currencyClearControlsClassName,molclassname:Ae.currencySelectMenuOverlayList,moliclassname:Ae.currencySelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){u(e),l(e),null!==e&&void 0!==e&&e.symbol?m(!1):m(!0)}})),i.createElement(f.pd,{id:"Show profile picture",title:"Show profile picture?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===n||void 0===n?void 0:n.show,toggleSelected:function(e){n.show=e}}))},$e=function(e){var t,n,l,r,d,u,s,c,m,p,y=e.defaultPr,g=e.defaultJ1,h=e.defaultJ2,C=e.defaultType,S=e.onTypeSelected,b=e.defaultList,E=e.onListSelected,_=e.validationErrors,Z=e.onJump1Selected,w=void 0===Z?function(){}:Z,N=e.onJump2Selected,L=void 0===N?function(){}:N,I=e.companyProcesses,x=e.onProcSelected,M=void 0===x?function(){}:x,O=(0,i.useState)(void 0),k=(0,a.Z)(O,2),T=k[0],P=k[1],B=(0,i.useState)(!1),F=(0,a.Z)(B,2),D=F[0],A=F[1],W=(0,i.useState)(null!==b&&void 0!==b?b:[]),R=(0,a.Z)(W,2),U=R[0],j=R[1],q=(0,i.useState)(!0),H=(0,a.Z)(q,2),K=H[0],X=H[1],G=(0,i.useState)(""),Y=(0,a.Z)(G,2),J=Y[0],Q=Y[1],$=(0,i.useState)(g),ee=(0,a.Z)($,2),te=ee[0],ne=ee[1],le=(0,i.useState)(h),oe=(0,a.Z)(le,2),ae=oe[0],ie=oe[1],re=(0,i.useState)(y),de=(0,a.Z)(re,2),ue=de[0],se=de[1],ce=(0,i.useCallback)((function(){X(!0),j((function(e){return[].concat((0,o.Z)(e),[J])})),Q(""),null===E||void 0===E||E([].concat((0,o.Z)(U),[J]))}),[U,J,E]),me=(0,i.useCallback)((function(e){j((function(t){return(0,o.Z)(We.reject(We.equals(e),t))})),null===E||void 0===E||E((0,o.Z)(We.reject(We.equals(e),U)))}),[U,E]);return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(je,{errorMessage:null===_||void 0===_?void 0:_.type},i.createElement(f.Lb,{title:"Dropdown Type"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement("pre",{className:Ae.dropdownSymbol},null!==T&&void 0!==T&&T.icon?null===T||void 0===T?void 0:T.icon:D?"":null===C||void 0===C?void 0:C.icon," "),i.createElement(f.rk,{items:v.YX,defaultSelected:C,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){P(e),null===S||void 0===S||S(null!==e&&void 0!==e?e:"single"),null!==e&&void 0!==e&&e.symbol?A(!1):A(!0)}}))),i.createElement(je,{errorMessage:null===_||void 0===_?void 0:_.list},i.createElement(f.Lb,{title:"Dropdown Options"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.list?"error":"normal",className:Ae.dropdownListContainer,onClickOutside:(0,i.useCallback)((function(){null===E||void 0===E||E(U)}),[U,E])},K?i.createElement("div",{className:Ae.dropDownButtonContainer},i.createElement(f.zx,{light:!0,title:"Add Dropdown Option",clicked:function(){return X(!1)}})):i.createElement("div",{className:Ae.dropDownNewListItemInputContainer},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:J,name:"newItem",placeholder:"Type name",onChange:function(e){Q(e.target.value)}}),(null===J||void 0===J?void 0:J.length)>0&&i.createElement("button",{type:"button",onClick:ce,className:Ae.dropdownInputButtonSaveNewItem},i.createElement(V.G,{icon:z.g6h}))),i.createElement("div",{className:Ae.dropdownListItemsContainer},U&&(null===U||void 0===U?void 0:U.map((function(e,t){return i.createElement(ft,{key:e+t,item:e,isOverflow:(null===U||void 0===U?void 0:U.length)>3,onItemChanged:function(e){j((function(n){return(0,o.Z)(We.update(t)(e)(n))}))},onItemRemoved:function(){return me(e)}})})))))),(te||"decision"===(null===T||void 0===T?void 0:T.value))&&i.createElement(je,{errorMessage:null===_||void 0===_?void 0:_.position_id},i.createElement(f.Lb,{title:"Process where to look for step"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},i.createElement(f.rk,{items:I.map((function(e){return{label:e.name,value:e.id,process:e}})),defaultSelected:{label:null===(t=I.find((function(e){return e.id===ue})))||void 0===t?void 0:t.name},className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){se(e.value),null===M||void 0===M||M(e.value)}}))),(te||"decision"===(null===T||void 0===T?void 0:T.value))&&ue&&i.createElement(je,{errorMessage:null===_||void 0===_?void 0:_.position_id},i.createElement(f.Lb,{title:"Dropdown option 1 jumps to step"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},i.createElement(f.rk,{items:null===(n=I.find((function(e){return e.id===ue})))||void 0===n||null===(l=n.steps)||void 0===l?void 0:l.map((function(e){return{label:e.name,value:e.id,step:e}})),defaultSelected:{label:null===(r=I.find((function(e){return e.id===ue})))||void 0===r||null===(d=r.steps)||void 0===d||null===(u=d.find((function(e){return e.id===te})))||void 0===u?void 0:u.name},className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){ne(e.value),null===w||void 0===w||w(e.value)}}))),(ae||"decision"===(null===T||void 0===T?void 0:T.value))&&ue&&i.createElement(je,{errorMessage:null===_||void 0===_?void 0:_.position_id},i.createElement(f.Lb,{title:"Dropdown option 2 jumps to step"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},i.createElement(f.rk,{items:null===(s=I.find((function(e){return e.id===ue})))||void 0===s?void 0:s.steps.map((function(e){return{label:e.name,value:e.id,step:e}})),defaultSelected:{label:null===(c=I.find((function(e){return e.id===ue})))||void 0===c||null===(m=c.steps)||void 0===m||null===(p=m.find((function(e){return e.id===ae})))||void 0===p?void 0:p.name},className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){ie(e.value),null===L||void 0===L||L(e.value)}}))))},et=function(e){var t=e.defaultList,n=e.onListSelected,l=e.validationErrors,r=e.title,d=void 0===r?"Dropdown Options":r,u=(0,i.useState)(null!==t&&void 0!==t?t:[]),s=(0,a.Z)(u,2),c=s[0],m=s[1],p=(0,i.useState)(!0),v=(0,a.Z)(p,2),y=v[0],g=v[1],h=(0,i.useState)(""),C=(0,a.Z)(h,2),S=C[0],b=C[1],E=(0,i.useCallback)((function(){g(!0),m((function(e){return[].concat((0,o.Z)(e),[S])})),b(""),null===n||void 0===n||n([].concat((0,o.Z)(c),[S]))}),[c,S,n]),_=(0,i.useCallback)((function(e){m((function(t){return(0,o.Z)(We.reject(We.equals(e),t))})),null===n||void 0===n||n((0,o.Z)(We.reject(We.equals(e),c)))}),[c,n]);return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(je,{errorMessage:null===l||void 0===l?void 0:l.list},i.createElement(f.Lb,{title:d}),i.createElement(f.sm,{"app-variant":null!==l&&void 0!==l&&l.list?"error":"normal",className:Ae.dropdownListContainer,onClickOutside:(0,i.useCallback)((function(){null===n||void 0===n||n(c)}),[c,n])},y?i.createElement("div",{className:Ae.dropDownButtonContainer},i.createElement(f.zx,{light:!0,title:"Add Options",clicked:function(){return g(!1)}})):i.createElement("div",{className:Ae.dropDownNewListItemInputContainer},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:S,name:"newItem",placeholder:"Type name",onChange:function(e){b(e.target.value)}}),(null===S||void 0===S?void 0:S.length)>0&&i.createElement("button",{type:"button",onClick:E,className:Ae.dropdownInputButtonSaveNewItem},i.createElement(V.G,{icon:z.g6h}))),i.createElement("div",{className:Ae.dropdownListItemsContainer},c&&(null===c||void 0===c?void 0:c.map((function(e,t){return i.createElement(ft,{key:e+t,item:e,isOverflow:(null===c||void 0===c?void 0:c.length)>3,onItemChanged:function(e){m((function(n){return(0,o.Z)(We.update(t)(e)(n))}))},onItemRemoved:function(){return _(e)}})})))))))},tt=function(e){var t=e.defaultList,n=e.validationErrors,o=e.onChangeList,a=e.products;return(0,i.useEffect)((function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=k.h.getState().authReducer.sessionSettings.last_access_token,n=k.h.getState().flowReducer,o=n.lastUpdates,a=n.axiosAbort,i=(0,l.Z)((0,l.Z)({},ke.ns.products.getAllProducts(t)),{},{handlerEnabled:!0,signal:a.signal});return new Pe.y((function(t){e||Fe()((0,Be.now)()).diff(Fe()(o.products),"minutes")>10?(0,Te.b)(i).then((function(e){var n,a;200==(null===e||void 0===e?void 0:e.status)&&null!==e&&void 0!==e&&e.data&&null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.data&&(k.h.dispatch((0,m.C2)((0,l.Z)((0,l.Z)({},o),{},{products:(0,Be.now)()}))),k.h.dispatch((0,m.RU)(e.data.data.length>0?De.sortBy(De.prop("name"),e.data.data):[])),t.next(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data),t.complete())})).catch((function(e){t.error(e)})):t.complete()}))})(1).pipe((0,d.P)()).subscribe({})}),[]),i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(je,{errorMessage:null===n||void 0===n?void 0:n.position_id},i.createElement(f.Lb,{title:"What products to display?"}),i.createElement(f.sm,{"app-variant":null!==n&&void 0!==n&&n.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:a.map((function(e){return{label:e.name,value:e.product_code}})),itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:void 0===t||0===t.length?[]:t.map((function(e){var t=a.find((function(t){return t.product_code===e}));return{label:null===t||void 0===t?void 0:t.name,value:null===t||void 0===t?void 0:t.product_code}})),className:Ae.uploadSelectComponent,inputClassName:Ae.uploadSearchInput,molclassname:Ae.uploadSelectMenuOverlayList,moliclassname:Ae.uploadSelectMenuOverlayListItem,onChange:function(e){null===o||void 0===o||o(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))))},nt=function(e){var t=e.defaultType,n=e.defaultModule,l=e.onModuleSelected,r=e.onTypeSelected,u=e.defaultList,s=e.validationErrors,c=e.allModules,m=e.onChangeList,v=e.multiSelectLabel,y=void 0===v?"Default":v,g=(0,i.useState)(void 0),h=(0,a.Z)(g,2),C=h[0],S=h[1],b=(0,i.useState)(!1),E=(0,a.Z)(b,2),_=E[0],Z=E[1],w=(0,i.useState)(!1),N=(0,a.Z)(w,2)[1],L=(0,i.useState)(void 0===u||0===u.length?[]:u.map((function(e){return{label:e,value:e,blueprint_name:y}}))),I=(0,a.Z)(L,2),x=I[0],M=I[1],O=c.map((function(e){return{label:e.name,value:e.id,module:e}}));return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(je,{errorMessage:null===s||void 0===s?void 0:s.type},i.createElement(f.Lb,{title:"Module to list"}),i.createElement(f.sm,{"app-variant":null!==s&&void 0!==s&&s.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement("pre",{className:Ae.dropdownSymbol},null!==C&&void 0!==C&&C.icon?null===C||void 0===C?void 0:C.icon:_?"":null===n||void 0===n?void 0:n.icon," "),i.createElement(f.rk,{items:O,defaultSelected:n,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){var t;t=e.module.procedure.id,(0,p.zJ)(t).pipe((0,d.P)()).subscribe({next:function(e){var t,n=[];null===(t=e.steps)||void 0===t||t.filter((function(e){e.component_blueprints.filter((function(e){e.selected_fields.filter((function(t){n=[].concat((0,o.Z)(n),[{label:t.field_name,value:t.field_name,blueprint_name:e.name,blueprint_id:e.id}])}))}))})),M([].concat((0,o.Z)(We.sortWith([We.ascend(We.prop("blueprint_name"))])(n)),[{label:"Created Date",value:"Created Date",blueprint_name:"Others"},{label:"Total Qty",value:"Total Qty",blueprint_name:"Others"}])),N(!1)},error:function(e){}}),S(e),null===l||void 0===l||l(e),null!==e&&void 0!==e&&e.symbol?Z(!1):Z(!0)}}))),i.createElement(je,{errorMessage:null===s||void 0===s?void 0:s.position_id},i.createElement(f.Lb,{title:"What fields to display?"}),i.createElement(f.sm,{"app-variant":null!==s&&void 0!==s&&s.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},i.createElement(se.Cm,{items:x,groupedBy:"blueprint_name",groupname:"blueprint_name",triggerType:"chevron",initialSelectedValues:void 0===u||0===u.length?[]:u.map((function(e){return{label:e,value:e,blueprint_name:y}})),className:Ae.peoplePositionsSelect,inputClassName:Ae.peoplePositionsSelectInput,molclassname:Ae.peoplePositionsSelectMenuOverlay,moliclassname:Ae.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===m||void 0===m||m(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(je,{errorMessage:null===s||void 0===s?void 0:s.type},i.createElement(f.Lb,{title:"List type"}),i.createElement(f.sm,{"app-variant":null!==s&&void 0!==s&&s.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:[{label:"Table",value:"Table"},{label:"List (max 4 fields displayed)",value:"List"}],defaultSelected:t,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){null===r||void 0===r||r(e),null!==e&&void 0!==e&&e.symbol?Z(!1):Z(!0)}}))))},lt=function(e){var t=e.defaultOrientation,n=e.defaultKey,l=e.defaultType,d=e.defaultList,u=e.onKeySelected,s=e.onTypeSelected,c=e.validationErrors,m=e.blueprints,p=e.onChangeList,v=e.multiSelectLabel,y=void 0===v?"Default":v,g=e.onChangeOrientation,h=(0,r.v9)((function(e){return e.modalsReducer})).isOnboarding,C=(0,i.useState)(void 0),S=(0,a.Z)(C,2),b=(S[0],S[1]),E=(0,i.useState)(!1),_=(0,a.Z)(E,2),Z=(_[0],_[1]),w=(0,i.useState)(!0),N=(0,a.Z)(w,2)[1],L=(0,i.useState)(void 0===d||0===d.length?[]:d.map((function(e){return{label:e,value:e,blueprint_name:y}}))),I=(0,a.Z)(L,2),x=I[0],M=I[1],O=h?m.map((function(e){return{label:e.name,value:e.id,component:e}})):m.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,component:e}})),k=[{label:"Rows",value:"rows"},{label:"Columns",value:"Columns"}];return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(je,{errorMessage:null===c||void 0===c?void 0:c.type},i.createElement(f.Lb,{title:"Component where to conduct lookup"}),i.createElement(f.sm,{"app-variant":null!==c&&void 0!==c&&c.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:O,defaultSelected:l,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){!function(e){var t=[];e.fields.filter((function(n){t=[].concat((0,o.Z)(t),[{label:n.value,value:n.value,blueprint_name:e.name,blueprint_id:e.id}])})),M([].concat((0,o.Z)(We.sortWith([We.ascend(We.prop("blueprint_name"))])(t)),[{label:"Created Date",value:"created_date",blueprint_name:"Others"}])),N(!1)}(e.component),b(e),null===s||void 0===s||s(null!==e&&void 0!==e?e:"single"),null!==e&&void 0!==e&&e.symbol?Z(!1):Z(!0)}}))),i.createElement(je,{errorMessage:null===c||void 0===c?void 0:c.position_id},i.createElement(f.Lb,{title:"What key to use?"}),i.createElement(f.sm,{"app-variant":null!==c&&void 0!==c&&c.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},i.createElement(f.rk,{items:x,defaultSelected:{label:n},className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){var t;null===u||void 0===u||u(null!==(t=e.value)&&void 0!==t?t:"Key")}}))),i.createElement(je,{errorMessage:null===c||void 0===c?void 0:c.position_id},i.createElement(f.Lb,{title:"What fields to display?"}),i.createElement(f.sm,{"app-variant":null!==c&&void 0!==c&&c.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},i.createElement(se.Cm,{items:x,groupedBy:"blueprint_name",groupname:"blueprint_name",triggerType:"chevron",initialSelectedValues:void 0===d||0===d.length?[]:d.map((function(e){return{label:e,value:e,blueprint_name:y}})),className:Ae.peoplePositionsSelect,inputClassName:Ae.peoplePositionsSelectInput,molclassname:Ae.peoplePositionsSelectMenuOverlay,moliclassname:Ae.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===p||void 0===p||p(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(je,{errorMessage:null===c||void 0===c?void 0:c.type},i.createElement(f.Lb,{title:"Interface Orientation"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:k,defaultSelectedItem:k.find((function(e){return e.value===t})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){g(e.value),null!==e&&void 0!==e&&e.symbol?Z(!1):Z(!0)}}))))},ot=function(e){var t,n,d=e.defaultOrientation,u=e.defaultKey,s=e.defaultType,c=e.defaultList,m=e.defaultItemList,p=e.defaultConfig,v=e.onConfigSelected,y=e.onKeySelected,g=e.onTypeSelected,h=e.validationErrors,C=e.blueprints,S=(e.onChangeList,e.onChangeListItems,e.multiSelectLabel,e.onChangeOrientation,e.setFieldOption),b=e.fieldOption,E=(0,r.v9)((function(e){return e.modalsReducer})).isOnboarding,_=(0,i.useState)(void 0),Z=(0,a.Z)(_,2),w=(Z[0],Z[1]),N=(0,i.useState)(!1),L=(0,a.Z)(N,2),I=(L[0],L[1]),x=(0,i.useState)(!0),M=(0,a.Z)(x,2)[1],O=(0,i.useState)(null!==d&&void 0!==d?d:"Donut"),k=(0,a.Z)(O,2),T=k[0],P=k[1],B=(0,i.useState)(s?We.sortWith([We.ascend(We.prop("blueprint_name"))])(C.find((function(e){return e.id===(null===s||void 0===s?void 0:s.value)})).fields.map((function(e){var t=C.find((function(e){return e.id===(null===s||void 0===s?void 0:s.value)}));return{label:e.value,value:e.value,blueprint_name:t.name,blueprint_id:t.id}}))):[]),F=(0,a.Z)(B,2),D=F[0],A=F[1],W=E?We.sortWith([We.ascend(We.prop("name"))])(C).map((function(e){return{label:e.name,value:e.id,component:e}})):We.sortWith([We.ascend(We.prop("name"))])(C).filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,component:e}})),V=[{label:"Donut",value:"Donut"},{label:"Custom",value:"Custom"}],z=[{label:"Count Occurences",value:"occurences"},{label:"Total Quantity",value:"quantity"}];return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(je,{errorMessage:null===h||void 0===h?void 0:h.type},i.createElement(f.Lb,{title:"Chart Type"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:V,defaultSelectedItem:V.find((function(e){return e.value===d})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){S((0,l.Z)((0,l.Z)({},b),{},{orientation:e.value,list:[],items:[]})),P(e.value),null!==e&&void 0!==e&&e.symbol?I(!1):I(!0)}}))),i.createElement(je,{errorMessage:null===h||void 0===h?void 0:h.type},i.createElement(f.Lb,{title:"Component where to get fields"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:W,defaultSelected:s,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){var t;t=e.component,A([].concat((0,o.Z)(We.sortWith([We.ascend(We.prop("blueprint_name"))])(t.fields.map((function(e){return{label:e.value,value:e.value,blueprint_name:t.name,blueprint_id:t.id}})))),[{label:"Created Date",value:"created_date",blueprint_name:"Others"}])),M(!1),w(e),null===g||void 0===g||g(null!==e&&void 0!==e?e:"single"),null!==e&&void 0!==e&&e.symbol?I(!1):I(!0)}}))),i.createElement(je,{errorMessage:null===h||void 0===h?void 0:h.position_id},i.createElement(f.Lb,{title:"What key to use?"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},i.createElement(f.rk,{items:D,defaultSelected:{label:u},className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){var t;null===y||void 0===y||y(null!==(t=e.value)&&void 0!==t?t:"Key")}}))),"Custom"===T&&i.createElement(je,null,i.createElement(f.Lb,{title:"Chart Config"}),i.createElement("textarea",{id:"chart config",type:"text",name:"element-name",defaultValue:JSON.stringify(p),onChange:function(e){},onBlur:function(){var e,t,n;(function(e){try{JSON.parse(e)}catch(t){return!1}return!0})(null===(e=document.getElementById("chart config"))||void 0===e?void 0:e.value)?(v(JSON.parse(null===(t=document.getElementById("chart config"))||void 0===t?void 0:t.value)),document.getElementById("chart config").style.borderColor="var(--app-color-gray-lighter)"):0===(null===(n=document.getElementById("chart config"))||void 0===n?void 0:n.value.length)?(document.getElementById("chart config").value=JSON.stringify({}),document.getElementById("chart config").style.borderColor="pink"):document.getElementById("chart config").style.borderColor="red"},className:Ae.elementTextInput,style:{minHeight:"200px"}})),("Donut"!==T||"Donut"===T&&"quantity"===(null===b||void 0===b?void 0:b.operation))&&0===(null===b||void 0===b||null===(t=b.items)||void 0===t?void 0:t.length)&&i.createElement(je,{errorMessage:null===h||void 0===h?void 0:h.position_id},i.createElement(f.Lb,{title:"What field to use to compute?"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},i.createElement(f.rk,{items:D,defaultSelected:1===(null===c||void 0===c?void 0:c.length)?{label:c[0]}:void 0,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){S((0,l.Z)((0,l.Z)({},b),{},{list:[e.value],items:[]}))}}))),("Donut"!==T||"Donut"===T&&"quantity"===(null===b||void 0===b?void 0:b.operation))&&0===(null===b||void 0===b||null===(n=b.list)||void 0===n?void 0:n.length)&&i.createElement(je,{errorMessage:null===h||void 0===h?void 0:h.position_id},i.createElement(f.Lb,{title:"What item field to use to compute?"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},i.createElement(f.rk,{items:[{label:"Item Code",value:"item_code",blueprint_name:"Items"},{label:"Quantity",value:"quantity",blueprint_name:"Items"},{label:"Value",value:"value",blueprint_name:"Items"},{label:"Value 2",value:"alt_value",blueprint_name:"Items"},{label:"Total",value:"total",blueprint_name:"Items"},{label:"Type",value:"type",blueprint_name:"Items"}],defaultSelected:1===(null===m||void 0===m?void 0:m.length)?{label:m[0]}:void 0,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){S((0,l.Z)((0,l.Z)({},b),{},{items:[e.value],list:[]}))}}))),i.createElement(je,{errorMessage:null===h||void 0===h?void 0:h.type},i.createElement(f.Lb,{title:"Operation to be used"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:z,defaultSelectedItem:z.find((function(e){return e.value===(null===b||void 0===b?void 0:b.operation)})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){S((0,l.Z)((0,l.Z)({},b),{},{operation:null===e||void 0===e?void 0:e.value}))}}))))},at=function(e){var t,n,r,d,u,s=e.defaultValue,c=e.defaultList,m=e.defaultSearchText,p=e.onChangeSearchText,v=e.onChangeList,y=e.onOperatorSelected,g=e.validationErrors,h=e.selectedFields,C=e.blueprints,S=(e.selectLabel,e.setFieldOption),b=e.fieldOption,E=(0,i.useState)(void 0===s?"":s),_=(0,a.Z)(E,2),Z=_[0],w=_[1],N=(0,i.useState)(void 0===c?[]:c),L=(0,a.Z)(N,1)[0],I=(0,i.useState)(void 0===m?"":m),x=(0,a.Z)(I,2),M=x[0],O=x[1],k=[{label:"Sum of the fields (A+B)",id:0,value:"sum",type:"fields"},{label:"Sum of custom fields (F1+..Fn)",id:15,value:"freesum",type:"fields"},{label:"Difference between fields (A-B)",id:1,value:"difference",type:"fields"},{label:"Multiply the fields (A*B)",id:2,value:"multiply",type:"fields"},{label:"Divide the fields (A/B)",id:3,value:"divide",type:"fields"},{label:"Total Difference per field (A1-A2-An)",id:4,value:"tdiff",type:"fields"},{label:"Total Sum per field (A1+A2+An)",id:5,value:"tsum",type:"fields"},{label:"Total Sum per line item variable (A1+A2+An)",id:6,value:"itemsum",type:"items"},{label:"Total Difference per line item variable (A1-A2-An)",id:7,value:"itemdiff",type:"items"},{label:"Difference between dates (D1-D2-Dn, in days)",id:10,value:"datesdiff",type:"date"},{label:"Difference between today and date (Today-Dn, in days)",id:11,value:"datenowdiff",type:"date"},{label:"Count occurrences of string in field selected",id:12,value:"countocc",type:"fields"},{label:"Count occurrences of date in field selected",id:13,value:"countdateocc",type:"date"},{label:"Compute the distance between two pins",id:14,value:"cmpdistance",type:"pin"}],T=[{label:"Quantity",id:6,value:"qty",type:"items"},{label:"Total",id:8,value:"total",type:"items"},{label:"Value",id:8,value:"value",type:"items"},{label:"Alt Value",id:9,value:"altvalue",type:"items"}],P=[{label:"Set date today",value:"today",type:"Date"},{label:"Set date tomorrow",value:"tomorrow",type:"Date"},{label:"Set date one month from today",value:"month",type:"Date"},{label:"Set date one week from today",value:"week",type:"Date"},{label:"None",value:"none",type:"Date"}],B=h.filter((function(e){return""!=e.value&&("Value Button"===e.field_type.name||"Number"===e.field_type.name||"Formula"===e.field_type.name||"Item Formula"===e.field_type.name)})).map((function(e){return{label:e.value,value:e.id,field_name:e.field_type.name}})),F=h.filter((function(e){return""!=e.value&&"Date"===e.field_type.name})).map((function(e){return{label:e.value,value:e.id,field_name:"Dates"}})),D=[].concat.apply([],C.map((function(e){return[].concat.apply([],e.fields)}))).map((function(e){return{label:e.value,value:e.id,type:e.name}}));return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(je,{errorMessage:null===g||void 0===g?void 0:g.type},i.createElement(f.Lb,{title:"Operation to perform"}),i.createElement(f.sm,{"apps-variant":null!==g&&void 0!==g&&g.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:k,defaultSelectedItem:k.find((function(e){return e.value===Z})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){w(e.value),y(e.value)}}))),"freesum"!==Z&&i.createElement(je,{errorMessage:null===g||void 0===g?void 0:g.accepted_mimes},i.createElement(f.Lb,{title:"sum"===Z||"difference"===Z||"multiply"===Z||"divide"===Z?"Fields to perform selected operation":"Field to perform selected operation"}),i.createElement(f.sm,{"app-variant":null!==g&&void 0!==g&&g.accepted_mimes?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},"datesdiff"===Z||"datenowdiff"===Z||"sum"===Z||"difference"===Z||"multiply"===Z||"divide"===Z?i.createElement(se.Cm,{items:"datesdiff"===Z||"datenowdiff"===Z?F:B,groupedBy:"field_name",groupname:"field_name",triggerType:"chevron",initialSelectedValues:"datesdiff"===Z||"datenowdiff"===Z?F.filter((function(e){return(null===L||void 0===L?void 0:L.indexOf(null===e||void 0===e?void 0:e.label))>-1})):B.filter((function(e){return(null===L||void 0===L?void 0:L.indexOf(null===e||void 0===e?void 0:e.label))>-1})),className:Ae.peoplePositionsSelect,inputClassName:Ae.peoplePositionsSelectInput,molclassname:Ae.peoplePositionsSelectMenuOverlay,moliclassname:Ae.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===v||void 0===v||v(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.label})))}}):"itemdiff"===Z||"itemsum"===Z?i.createElement(f.Ld,{triggerType:"chevron",items:T,defaultSelectedItem:L.length>0&&null!==(t=T.find((function(e){return e.value===L[0]})))&&void 0!==t?t:{},className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){null===v||void 0===v||v([null===e||void 0===e?void 0:e.value])}}):"cmpdistance"===Z?i.createElement(se.Cm,{items:D.filter((function(e){return"Pin"===e.type})),groupedBy:"type",groupname:"type",triggerType:"chevron",initialSelectedValues:D.filter((function(e){return"Pin"===e.type})).filter((function(e){return(null===L||void 0===L?void 0:L.indexOf(null===e||void 0===e?void 0:e.label))>-1})),className:Ae.peoplePositionsSelect,inputClassName:Ae.peoplePositionsSelectInput,molclassname:Ae.peoplePositionsSelectMenuOverlay,moliclassname:Ae.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===v||void 0===v||v(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.label})))}}):i.createElement(f.Ld,{triggerType:"chevron",items:We.sortWith([We.ascend(We.prop("label"))])((0,o.Z)(new Set(D.filter((function(e){return"countdateocc"===Z?"Date"===e.type:"Text"===e.type&&"countocc"===Z||"Number"===e.type||"Status"===e.type||"Formula"===e.type||"Item Formula"===e.type||"Currency"===e.type})).map((function(e){return e.label})))).map((function(e){return{label:e,value:e}}))),defaultSelectedItem:L.length>0?{label:L[0]}:{},className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){null===v||void 0===v||v([null===e||void 0===e?void 0:e.label])}}))),"countocc"===Z&&i.createElement(je,{errorMessage:null===g||void 0===g?void 0:g.name},i.createElement(f.Lb,{title:"Input text to search"}),i.createElement("input",{type:"text",name:"element-name",value:M,onChange:function(e){O(e.target.value),p(e.target.value)},className:Ae.elementTextInput})),"countdateocc"===Z&&i.createElement(je,{errorMessage:null===g||void 0===g?void 0:g.name},i.createElement(f.Lb,{title:"Select date to match with"}),i.createElement(f.sm,{"app-variant":null!==g&&void 0!==g&&g.accepted_mimes?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(f.Ld,{triggerType:"chevron",items:P,defaultSelectedItem:m&&P.find((function(e){return e.value===m})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){p(null===e||void 0===e?void 0:e.value)}}))),i.createElement(je,{errorMessage:null===g||void 0===g?void 0:g.type},i.createElement(f.Lb,{title:"Output display"}),i.createElement(f.sm,{"apps-variant":null!==g&&void 0!==g&&g.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:Ve,defaultSelectedItem:Ve.find((function(e){return e.value===(null===b||void 0===b?void 0:b.display)})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){S((0,l.Z)((0,l.Z)({},b),{},{display:null===e||void 0===e?void 0:e.value}))}}))),"bar"===(null===b||void 0===b?void 0:b.display)&&i.createElement(je,{errorMessage:null===g||void 0===g?void 0:g.name},i.createElement(f.Lb,{title:"Maximum Value"}),i.createElement("input",{type:"text",name:"element-name",value:b.max,onBlur:function(e){S((0,l.Z)((0,l.Z)({},b),{},{max:e.target.value}))},className:Ae.elementTextInput}),i.createElement(f.Lb,{title:"Color - Formula Value"}),i.createElement("input",{type:"text",className:Ae.elementTextInput,style:{borderRight:"white"===(null===b||void 0===b?void 0:b.barC)?"white":"50px solid ".concat(null!==(n=null===b||void 0===b?void 0:b.barC)&&void 0!==n?n:"#F6F4EC")},defaultValue:null!==(r=null===b||void 0===b?void 0:b.barC)&&void 0!==r?r:"#F6F4EC",onBlur:function(e){return S((0,l.Z)((0,l.Z)({},b),{},{barC:e.target.value}))}}),i.createElement(f.Lb,{title:"Color - Formula Max Value"}),i.createElement("input",{type:"text",className:Ae.elementTextInput,style:{borderRight:"white"===(null===b||void 0===b?void 0:b.maxC)?"white":"50px solid ".concat(null!==(d=null===b||void 0===b?void 0:b.maxC)&&void 0!==d?d:"yellow")},defaultValue:null!==(u=null===b||void 0===b?void 0:b.maxC)&&void 0!==u?u:"yellow",onBlur:function(e){return S((0,l.Z)((0,l.Z)({},b),{},{maxC:e.target.value}))}})),i.createElement("br",null),i.createElement("p",{className:Ae.elementInputTitle},"Ensure fields are set to the appropriate type (number, dates, currency, etc)"))},it=function(e){var t,n,o,r,d=e.defaultValue,u=e.defaultList,s=e.defaultSearchText,c=e.onChangeSearchText,m=e.onChangeList,p=e.onOperatorSelected,v=e.validationErrors,y=e.selectedFields,g=e.blueprints,h=(e.selectLabel,e.setFieldOption),C=e.fieldOption,S=(0,i.useState)(void 0===d?"":d),b=(0,a.Z)(S,2),E=b[0],_=b[1],Z=(0,i.useState)(void 0===u?[]:u),w=(0,a.Z)(Z,1)[0],N=(0,i.useState)(void 0===s?"":s),L=(0,a.Z)(N,2),I=L[0],x=L[1],M=[{label:"Sum of the fields (A+B)",id:0,value:"sum",type:"fields"},{label:"Difference between fields (A-B)",id:1,value:"difference",type:"fields"},{label:"Multiply the fields (A*B)",id:2,value:"multiply",type:"fields"},{label:"Divide the fields (A/B)",id:3,value:"divide",type:"fields"}],O=[{label:"Set date today",value:"today",type:"Date"},{label:"Set date tomorrow",value:"tomorrow",type:"Date"},{label:"Set date one month from today",value:"month",type:"Date"},{label:"Set date one week from today",value:"week",type:"Date"},{label:"None",value:"none",type:"Date"}],k=y.filter((function(e){return""!=e.value&&("Value Button"===e.field_type.name||"Number"===e.field_type.name||"Formula"===e.field_type.name||"Item Formula"===e.field_type.name)})).map((function(e){return{label:e.value,value:e.id,field_name:e.field_type.name}})),T=y.filter((function(e){return""!=e.value&&"Date"===e.field_type.name})).map((function(e){return{label:e.value,value:e.id,field_name:"Dates"}}));[].concat.apply([],g.map((function(e){return[].concat.apply([],e.fields)}))).map((function(e){return{label:e.value,value:e.id,type:e.name}}));return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(je,{errorMessage:null===v||void 0===v?void 0:v.type},i.createElement(f.Lb,{title:"Operation to perform"}),i.createElement(f.sm,{"apps-variant":null!==v&&void 0!==v&&v.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:M,defaultSelectedItem:M.find((function(e){return e.value===E})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){_(e.value),p(e.value)}}))),"freesum"!==E&&i.createElement(je,{errorMessage:null===v||void 0===v?void 0:v.accepted_mimes},i.createElement(f.Lb,{title:"sum"===E||"difference"===E||"multiply"===E||"divide"===E?"Fields to perform selected operation":"Field to perform selected operation"}),i.createElement(f.sm,{"app-variant":null!==v&&void 0!==v&&v.accepted_mimes?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(se.Cm,{items:"datesdiff"===E||"datenowdiff"===E?T:k,groupedBy:"field_name",groupname:"field_name",triggerType:"chevron",initialSelectedValues:"datesdiff"===E||"datenowdiff"===E?T.filter((function(e){return(null===w||void 0===w?void 0:w.indexOf(null===e||void 0===e?void 0:e.label))>-1})):k.filter((function(e){return(null===w||void 0===w?void 0:w.indexOf(null===e||void 0===e?void 0:e.label))>-1})),className:Ae.peoplePositionsSelect,inputClassName:Ae.peoplePositionsSelectInput,molclassname:Ae.peoplePositionsSelectMenuOverlay,moliclassname:Ae.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===m||void 0===m||m(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.label})))}}))),"countocc"===E&&i.createElement(je,{errorMessage:null===v||void 0===v?void 0:v.name},i.createElement(f.Lb,{title:"Input text to search"}),i.createElement("input",{type:"text",name:"element-name",value:I,onChange:function(e){x(e.target.value),c(e.target.value)},className:Ae.elementTextInput})),"countdateocc"===E&&i.createElement(je,{errorMessage:null===v||void 0===v?void 0:v.name},i.createElement(f.Lb,{title:"Select date to match with"}),i.createElement(f.sm,{"app-variant":null!==v&&void 0!==v&&v.accepted_mimes?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(f.Ld,{triggerType:"chevron",items:O,defaultSelectedItem:s&&O.find((function(e){return e.value===s})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){c(null===e||void 0===e?void 0:e.value)}}))),i.createElement(je,{errorMessage:null===v||void 0===v?void 0:v.type},i.createElement(f.Lb,{title:"Output display"}),i.createElement(f.sm,{"apps-variant":null!==v&&void 0!==v&&v.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:Ve,defaultSelectedItem:Ve.find((function(e){return e.value===(null===C||void 0===C?void 0:C.display)})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){h((0,l.Z)((0,l.Z)({},C),{},{display:null===e||void 0===e?void 0:e.value}))}}))),"bar"===(null===C||void 0===C?void 0:C.display)&&i.createElement(je,{errorMessage:null===v||void 0===v?void 0:v.name},i.createElement(f.Lb,{title:"Maximum Value"}),i.createElement("input",{type:"text",name:"element-name",value:C.max,onBlur:function(e){h((0,l.Z)((0,l.Z)({},C),{},{max:e.target.value}))},className:Ae.elementTextInput}),i.createElement(f.Lb,{title:"Color - Formula Value"}),i.createElement("input",{type:"text",className:Ae.elementTextInput,style:{borderRight:"white"===(null===C||void 0===C?void 0:C.barC)?"white":"50px solid ".concat(null!==(t=null===C||void 0===C?void 0:C.barC)&&void 0!==t?t:"#F6F4EC")},defaultValue:null!==(n=null===C||void 0===C?void 0:C.barC)&&void 0!==n?n:"#F6F4EC",onBlur:function(e){return h((0,l.Z)((0,l.Z)({},C),{},{barC:e.target.value}))}}),i.createElement(f.Lb,{title:"Color - Formula Max Value"}),i.createElement("input",{type:"text",className:Ae.elementTextInput,style:{borderRight:"white"===(null===C||void 0===C?void 0:C.maxC)?"white":"50px solid ".concat(null!==(o=null===C||void 0===C?void 0:C.maxC)&&void 0!==o?o:"yellow")},defaultValue:null!==(r=null===C||void 0===C?void 0:C.maxC)&&void 0!==r?r:"yellow",onBlur:function(e){return h((0,l.Z)((0,l.Z)({},C),{},{maxC:e.target.value}))}})),i.createElement("br",null),i.createElement("p",{className:Ae.elementInputTitle},"Ensure fields are set to the appropriate type (number, dates, currency, etc)"))},rt=function(e){var t,n,o,r,d,u,s=e.options,c=e.setFieldOption,m=e.fieldOption,p=e.validationErrors,v=(0,i.useState)(null!==(t=s.subject)&&void 0!==t?t:""),y=(0,a.Z)(v,2),g=y[0],h=y[1],C=(0,i.useState)(null!==(n=s.message)&&void 0!==n?n:""),S=(0,a.Z)(C,2),b=S[0],E=S[1],_=(0,i.useState)(null!==(o=s.message2)&&void 0!==o?o:""),Z=(0,a.Z)(_,2),w=Z[0],N=Z[1],L=(0,i.useState)(null!==(r=s.valueToMatch)&&void 0!==r?r:""),I=(0,a.Z)(L,2),x=I[0],M=I[1],O=(0,i.useState)(null!==(d=s.copyEmailRecip)&&void 0!==d?d:""),k=(0,a.Z)(O,2),T=k[0],P=k[1],B=(0,i.useState)(null!==(u=s.fieldToMatch)&&void 0!==u?u:""),F=(0,a.Z)(B,2),D=F[0],A=F[1];return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(je,{errorMessage:null===p||void 0===p?void 0:p.name},i.createElement(f.Lb,{title:"Email subject"}),i.createElement("input",{type:"text",name:"element-name",value:null!==g&&void 0!==g?g:"",onChange:function(e){c((0,l.Z)((0,l.Z)({},m),{},{message2:w,message:b,subject:e.target.value,copyEmailRecip:T})),h(e.target.value)},className:Ae.elementTextInput})),i.createElement(je,{errorMessage:null===p||void 0===p?void 0:p.name},i.createElement(f.Lb,{title:"Custom email message to selected recipients"}),i.createElement("textarea",{type:"text",name:"element-name",value:null!==b&&void 0!==b?b:"",onChange:function(e){c((0,l.Z)((0,l.Z)({},m),{},{subject:g,message:e.target.value,message2:w,copyEmailRecip:T})),E(e.target.value)},className:Ae.elementTextInput,style:{height:"100px"}})),i.createElement(je,{errorMessage:null===p||void 0===p?void 0:p.name},i.createElement(f.Lb,{title:"Custom email message to creator"}),i.createElement("textarea",{type:"text",name:"element-name",value:null!==w&&void 0!==w?w:"",onChange:function(e){c((0,l.Z)((0,l.Z)({},m),{},{subject:g,message:b,message2:e.target.value,copyEmailRecip:T})),N(e.target.value)},className:Ae.elementTextInput,style:{height:"100px"}})),i.createElement(je,null,i.createElement(f.Lb,{title:"Field to check to trigger email"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:D,name:"matched to field",onChange:function(e){A(e.target.value),c((0,l.Z)((0,l.Z)({},m),{},{subject:g,message:b,message2:w,fieldToMatch:e.target.value,valueToMatch:x,copyEmailRecip:T}))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Values of field to trigger the email (Note: Use ' , ' to seperate)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:x,name:"matched to field",onChange:function(e){M(e.target.value),c((0,l.Z)((0,l.Z)({},m),{},{subject:g,message:b,message2:w,fieldToMatch:D,valueToMatch:e.target.value,copyEmailRecip:T}))}}))),i.createElement(f.pd,{id:"Copy default email recipients",title:"Copy default email recipients?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:T,toggleSelected:function(e){P(e),c((0,l.Z)((0,l.Z)({},m),{},{subject:g,message:b,message2:w,fieldToMatch:D,valueToMatch:x,copyEmailRecip:e}))}}))},dt=function(e){var t=e.defaultValue,n=e.defaultField,l=e.onChangeField,o=e.onChangeValue,r=e.validationErrors,d=e.blueprints,u=(0,i.useState)(void 0===t?"":t),s=(0,a.Z)(u,2),c=s[0],m=s[1],p=(0,i.useState)(void 0===n?"":n),v=(0,a.Z)(p,1)[0],y=[].concat.apply([],d.map((function(e){return[].concat.apply([],e.fields)}))).map((function(e){return{label:e.value,value:e.id,type:e.name}}));return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(je,{errorMessage:null===r||void 0===r?void 0:r.accepted_mimes},i.createElement(f.Lb,{title:"Field to perform filter"}),i.createElement(f.sm,{"app-variant":null!==r&&void 0!==r&&r.accepted_mimes?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(f.Ld,{triggerType:"chevron",items:y,defaultSelectedItem:v.length>0?{label:v}:{},className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){null===l||void 0===l||l(null===e||void 0===e?void 0:e.label)}}))),i.createElement(je,{errorMessage:null===r||void 0===r?void 0:r.name},i.createElement(f.Lb,{title:"Input text to search"}),i.createElement("input",{type:"text",name:"element-name",value:c,onChange:function(e){o(e.target.value),m(e.target.value)},className:Ae.elementTextInput})),i.createElement("br",null))},ut=function(e){var t,n=e.defaultRefName,l=e.onReferenceLabel,o=e.validationErrors,r=e.onTargetSelected,d=e.onChangeList,u=e.onTypeSelected,s=e.defaultTarget,c=e.defaultType,m=e.bpContext,p=e.defaultList,v=(0,i.useState)(!1),y=(0,a.Z)(v,2)[1],g=(0,i.useState)({}),h=(0,a.Z)(g,2)[1],C=(0,i.useState)(void 0==s?[]:null===s||void 0===s||null===(t=s.fields)||void 0===t?void 0:t.map((function(e){return{label:e.value,value:e.value}}))),S=(0,a.Z)(C,2),b=S[0],E=S[1],_=(0,i.useState)(void 0==p?[]:(null===p||void 0===p?void 0:p.length)>0?p.map((function(e){return{label:e,value:e,component_name:"Fields"}})):[]),Z=(0,a.Z)(_,2),w=Z[0],N=Z[1],L=(0,i.useState)(m.allBlueprintComponents.filter((function(e){return!1===e.readonly})).filter((function(e){return e.fields.filter((function(e){return"Product ID"===e.value})).length>0})).map((function(e){return{label:e.name,value:e.id,blueprint:e}}))),I=(0,a.Z)(L,1)[0];return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(je,{errorMessage:null===o||void 0===o?void 0:o.type},i.createElement(f.Lb,{title:"Component where to conduct lookup of Product"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:{label:null===s||void 0===s?void 0:s.name,value:null===s||void 0===s?void 0:s.id},className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){E(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),N(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),h(e),r(e.value),null!==e&&void 0!==e&&e.symbol?y(!1):y(!0)}}))),i.createElement(je,{errorMessage:null===o||void 0===o?void 0:o.type},i.createElement(f.Lb,{title:"Display label for Components found"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:b,defaultSelectedItem:{label:n,value:n},className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){l(e.value)}}))),i.createElement(je,{errorMessage:null===o||void 0===o?void 0:o.accepted_mimes},i.createElement(f.Lb,{title:"Fields to output"}),i.createElement(f.sm,{"app-variant":null!==o&&void 0!==o&&o.accepted_mimes?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:w,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:0===(null===p||void 0===p?void 0:p.length)?[]:p.map((function(e){return{label:e,value:e}})),className:Ae.uploadSelectComponent,inputClassName:Ae.uploadSearchInput,molclassname:Ae.uploadSelectMenuOverlayList,moliclassname:Ae.uploadSelectMenuOverlayListItem,onChange:function(e){null===d||void 0===d||d(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(je,{errorMessage:null===o||void 0===o?void 0:o.type},i.createElement(f.Lb,{title:"Interface Type"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:[{label:"Dropdown",value:"Dropdown"},{label:"Tiles",value:"Tiles"},{label:"Columns",value:"Columns"}],defaultSelectedItem:c,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){u(e.value),null!==e&&void 0!==e&&e.symbol?y(!1):y(!0)}}))))},st=function(e){var t=e.validationErrors,n=e.onTargetSelected,l=e.onOutputSelected,o=e.onGlobalSelected,d=e.defaultTarget,u=e.defaultGlobal,s=e.bpContext,c=e.onFilterList,m=e.defaultFilters,p=e.defaultOutput,v=(0,r.v9)((function(e){return e.modalsReducer})).isOnboarding,y=(0,i.useState)(!1),g=(0,a.Z)(y,2)[1],h=(0,i.useState)({}),C=(0,a.Z)(h,2)[1],S=(0,i.useState)(void 0==m?[]:(null===m||void 0===m?void 0:m.length)>0?m.map((function(e){return{label:e,value:e,component_name:"Fields"}})):[]),b=(0,a.Z)(S,2),E=b[0],_=b[1],Z=(0,i.useState)(v?s.allBlueprintComponents.map((function(e){return{label:e.name,value:e.id,blueprint:e}})):s.allBlueprintComponents.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}}))),w=(0,a.Z)(Z,1)[0],N=(0,i.useState)(void 0==d?[]:d.fields.map((function(e){return{label:e.value,value:e.value}}))),L=(0,a.Z)(N,2),I=L[0],x=L[1];return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(je,{errorMessage:null===t||void 0===t?void 0:t.type},i.createElement(f.Lb,{title:"Component where to conduct lookup"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:w,defaultSelectedItem:{label:null===d||void 0===d?void 0:d.name,value:null===d||void 0===d?void 0:d.id},className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){_(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),x(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),C(e),n(e.value),null!==e&&void 0!==e&&e.symbol?g(!1):g(!0)}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Fields to filter (enter in order of filter, max 3)"}),i.createElement(f.sm,{"app-variant":null!==t&&void 0!==t&&t.accepted_mimes?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:E,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:0===(null===m||void 0===m?void 0:m.length)?[]:null===m||void 0===m?void 0:m.map((function(e){return{label:e,value:e}})),className:Ae.uploadSelectComponent,inputClassName:Ae.uploadSearchInput,molclassname:Ae.uploadSelectMenuOverlayList,moliclassname:Ae.uploadSelectMenuOverlayListItem,onChange:function(e){null===c||void 0===c||c(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(je,{errorMessage:null===t||void 0===t?void 0:t.accepted_mimes},i.createElement(f.Lb,{title:"Use a global field to filter components (Optional)"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:{label:u,value:u},className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){o(e.value)}}))),i.createElement(je,{errorMessage:null===t||void 0===t?void 0:t.accepted_mimes},i.createElement(f.Lb,{title:"Field value to save as output"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:{label:p,value:p},className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){l(e.value)}}))))},ct=function(e){var t=e.validationErrors,n=e.fieldOption,d=e.setFieldOption,u=e.onModuleSelected,s=e.defaultModule,c=e.companyProcesses,m=e.defaultFields,p=e.onFieldsSelected,v=(0,r.v9)((function(e){return e.flowReducer})).allModules,y=(0,i.useState)(void 0===m||0===m.length?[]:m.map((function(e){var t;return{label:e,value:e,blueprint_name:null!==(t=null===s||void 0===s?void 0:s.label)&&void 0!==t?t:"Others"}}))),g=(0,a.Z)(y,2),h=g[0],C=g[1],S=v.map((function(e){return{label:e.name,value:e.id,module:e}}));return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(je,{errorMessage:null===t||void 0===t?void 0:t.type},i.createElement(je,{errorMessage:null===t||void 0===t?void 0:t.type},i.createElement(f.Lb,{title:"Module to process"}),i.createElement(f.sm,{"app-variant":null!==t&&void 0!==t&&t.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:S,defaultSelected:S.find((function(e){return e.value===s})),className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){!function(e){if(c.length>0&&void 0!==e){var t,n,l=[];null===(t=c.find((function(t){return t.id===e})))||void 0===t||null===(n=t.steps)||void 0===n||n.filter((function(e){e.component_blueprints.filter((function(e){e.selected_fields.filter((function(e){return 1==e.visible})).filter((function(e){l=[].concat((0,o.Z)(l),[e.field_name])}))}))})),l=(0,o.Z)(new Set(l)).map((function(e){var t;return{label:e,value:e,blueprint_name:null!==(t=null===s||void 0===s?void 0:s.label)&&void 0!==t?t:"Others"}})),C([].concat((0,o.Z)(We.sortWith([We.ascend(We.prop("label"))])(l)),[{label:"None",value:"none"}]))}}(e.module.procedure.id),null===u||void 0===u||u(e)}}))),i.createElement(je,{errorMessage:null===t||void 0===t?void 0:t.accepted_mimes},i.createElement(f.Lb,{title:"Fields to transfer to module"}),i.createElement(f.sm,{"app-variant":null!==t&&void 0!==t&&t.accepted_mimes?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:h,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:0===(null===m||void 0===m?void 0:m.length)?[]:null===m||void 0===m?void 0:m.map((function(e){return{label:e,value:e}})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){null===p||void 0===p||p(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(je,{errorMessage:null===t||void 0===t?void 0:t.type},i.createElement(f.Lb,{title:"Key to use in list"}),i.createElement(f.sm,{"app-variant":null!==t&&void 0!==t&&t.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:h,defaultSelected:h.find((function(e){return e.value===n.key})),className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){d((0,l.Z)((0,l.Z)({},n),{},{key:e.value}))}})))))},mt=function(e){var t=e.defaultGlobal,n=(e.defaultRefName,e.defaultSrcName),l=e.onSourceLabel,o=(e.onReferenceLabel,e.defaultValue),d=e.validationErrors,u=e.onSourceSelected,s=e.onTargetSelected,c=e.onFieldSelected,m=e.onChangeList,p=e.onTypeSelected,v=e.defaultCommon,y=e.defaultTarget,g=e.defaultType,h=e.bpContext,C=e.defaultList,S=e.defaultRefList,b=e.onChangeRList,E=e.onGlobalSelected,_=e.onSetShowAll,Z=e.showAllDefault,w=(0,i.useState)("none"),N=(0,a.Z)(w,2),L=N[0],I=N[1],x=(0,r.v9)((function(e){return e.modalsReducer})).isOnboarding,M=(0,i.useState)(!1),O=(0,a.Z)(M,2)[1],k=(0,i.useState)({}),T=(0,a.Z)(k,2),P=T[0],B=T[1],F=(0,i.useState)({}),D=(0,a.Z)(F,2)[1],A=(0,i.useState)({}),W=(0,a.Z)(A,2)[1],V=(0,i.useState)([]),z=(0,a.Z)(V,2),R=z[0],U=z[1],j=(0,i.useState)([]),q=(0,a.Z)(j,2),H=q[0],K=q[1],X=(0,i.useState)([]),G=(0,a.Z)(X,2),Y=G[0],J=G[1],Q=(0,i.useState)(void 0===S||0===S.length?[]:S.map((function(e){return{label:e,value:e,component_name:"Fields"}}))),$=(0,a.Z)(Q,2),ee=($[0],$[1],(0,i.useState)(void 0===C||0===C.length?[]:C.map((function(e){return{label:e,value:e,component_name:"Fields"}})))),te=(0,a.Z)(ee,2),ne=te[0],le=te[1],oe=(0,i.useState)([]),ae=(0,a.Z)(oe,2),ie=ae[0],re=ae[1];(0,i.useEffect)((function(){de()}),[]);var de=(0,i.useCallback)((function(){var e=x?h.allBlueprintComponents.map((function(e){return{label:e.name,value:e.id,blueprint:e}})):h.allBlueprintComponents.filter((function(e){return 0==e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}}));if(re(e),o&&e){var t,n=null===(t=e.find((function(e){return e.label===o.label})))||void 0===t?void 0:t.blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e}})),l=e.find((function(e){return e.label===o.label}));if(U(l.blueprint.fields.map((function(e){var t;return{label:e.value,value:e.id,field:e,component_name:null===(t=l.blueprint)||void 0===t?void 0:t.name}}))),v&&(null===n||void 0===n?void 0:n.length)>0){var a=null===e||void 0===e?void 0:e.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.blueprint.fields)||void 0===t?void 0:t.filter((function(e){return e.value===v.label})).length)>0})).filter((function(e){return e.label!==o.label})).map((function(e){return{label:e.label,value:e.value,component:e.blueprint}}));if(K(a),y&&(null===a||void 0===a?void 0:a.length)>0){var i,r,d,u,s,c,m;J(null!==(i=null===a||void 0===a||null===(r=a.find((function(e){return e.label===y.label})))||void 0===r||null===(d=r.component)||void 0===d||null===(u=d.fields)||void 0===u?void 0:u.map((function(e){return{label:e.value,value:e.value,component_name:y.label}})))&&void 0!==i?i:[]);var p=e.find((function(e){return e.label===o.label}));le(null!==(s=null===a||void 0===a||null===(c=a.find((function(e){return e.label===y.label})))||void 0===c||null===(m=c.component.fields)||void 0===m?void 0:m.map((function(e){return{label:e.value,value:e.value,component_name:y.label}})).concat(null===p||void 0===p?void 0:p.blueprint.fields.map((function(e){return{label:e.value,value:e.value,component_name:p.label}}))))&&void 0!==s?s:[])}}}setTimeout((function(){return I("")}))}));return""===L&&i.createElement("div",{className:Ae.dropdownElementHost,style:{display:L}},i.createElement(je,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Category Component"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:ie,defaultSelectedItem:o,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){var t=ie.find((function(t){return t.value===e.value}));U(t.blueprint.fields.map((function(e){var n;return{label:e.value,value:e.id,field:e,component_name:null===(n=t.blueprint)||void 0===n?void 0:n.name}}))),B(e),u(e.value)}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Display label for Category Component"}),i.createElement(f.sm,{"app-variant":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(se.Cm,{tagEmplacement:"inlined",items:null!==R&&void 0!==R?R:[],groupedBy:"component_name",groupname:"component_name",triggerType:"chevron",initialSelectedValues:void 0===n||0===n.length?[]:n.map((function(e){return null===R||void 0===R?void 0:R.find((function(t){return t.label===e}))})),className:Ae.peoplePositionsSelect,inputClassName:Ae.peoplePositionsSelectInput,molclassname:Ae.peoplePositionsSelectMenuOverlay,moliclassname:Ae.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===l||void 0===l||l(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.label})))}}))),i.createElement(je,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Common field for lookup"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:R,defaultSelectedItem:v,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){if(e){var t=x?ie.filter((function(t){var n,l;return(null===t||void 0===t||null===(n=t.blueprint)||void 0===n||null===(l=n.fields)||void 0===l?void 0:l.filter((function(t){return t.value===e.label})).length)>0})):ie.filter((function(e){return!1===e.blueprint.readonly})).filter((function(t){var n,l;return(null===t||void 0===t||null===(n=t.blueprint)||void 0===n||null===(l=n.fields)||void 0===l?void 0:l.filter((function(t){return t.value===e.label})).length)>0}));K(t.filter((function(e){return e.label!==P.label})).map((function(e){return{label:e.label,value:e.value,component:e.blueprint}}))),W(e),c(e.label),null!==e&&void 0!==e&&e.symbol?O(!1):O(!0)}}}))),i.createElement(je,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Component where to conduct lookup"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:H,defaultSelectedItem:y,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){var t;J(null!==(t=e.component.fields.map((function(t){return{label:t.value,value:t.value,component_name:e.label}})))&&void 0!==t?t:[]),le(e.component.fields.map((function(t){return{label:t.value,value:t.value,component_name:e.label}})).concat(P.blueprint.fields.map((function(e){return{label:e.value,value:e.value,component_name:P.label}})))),D(e),s(e.value),null!==e&&void 0!==e&&e.symbol?O(!1):O(!0)}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Use a global field to filter components (Optional)"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:ne,defaultSelectedItem:{label:t,value:t},className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){E(e.value)}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Fields to display for Components found"}),i.createElement(f.sm,{"app-variant":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(se.Cm,{tagEmplacement:"inlined",items:null!==Y&&void 0!==Y?Y:[],groupedBy:"component_name",groupname:"component_name",triggerType:"chevron",initialSelectedValues:void 0===S||0===S.length?[]:S.map((function(e){return{label:e,value:e,component_name:"Fields"}})),className:Ae.peoplePositionsSelect,inputClassName:Ae.peoplePositionsSelectInput,molclassname:Ae.peoplePositionsSelectMenuOverlay,moliclassname:Ae.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===b||void 0===b||b(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(je,{errorMessage:null===d||void 0===d?void 0:d.accepted_mimes},i.createElement(f.Lb,{title:"Fields to output"}),i.createElement(f.sm,{"app-variant":null!==d&&void 0!==d&&d.accepted_mimes?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(se.Cm,{tagEmplacement:"inlined",items:ne,groupedBy:"component_name",groupname:"component_name",triggerType:"chevron",initialSelectedValues:null===ne||void 0===ne?void 0:ne.filter((function(e){return-1!==(null===C||void 0===C?void 0:C.indexOf(e.label))})),className:Ae.peoplePositionsSelect,inputClassName:Ae.peoplePositionsSelectInput,molclassname:Ae.peoplePositionsSelectMenuOverlay,moliclassname:Ae.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===m||void 0===m||m(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(je,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Interface Type"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:[{label:"Dropdown",value:"Dropdown"},{label:"Tiles",value:"Tiles"}],defaultSelectedItem:g,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){p(e.value),null!==e&&void 0!==e&&e.symbol?O(!1):O(!0)}}))),i.createElement(f.pd,{id:"Show all choices immediately",title:"Show all choices immediately?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:Z,toggleSelected:function(e){_(e)}}))},pt=function(e){var t=e.defaultInputComponent1,n=e.defaultComponent1,l=e.defaultComponent2,o=e.defaultComponent3,d=e.defaultCommon12,u=e.defaultCommon23,s=e.defaultOutputs,c=void 0===s?[]:s,m=e.onComponent1Selected,p=e.onComponent1InputSelected,v=e.onComponent2Selected,y=e.onComponent3Selected,g=e.onCommon12Selected,h=e.onCommon23Selected,C=e.onOutputsSelected,S=e.validationErrors,b=e.bpContext,E=(0,r.v9)((function(e){return e.modalsReducer})).isOnboarding,_=(0,i.useState)(E?b.allBlueprintComponents.map((function(e){return{label:e.name,value:e.id,blueprint:e}})):b.allBlueprintComponents.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}}))),Z=(0,a.Z)(_,1)[0],w=(0,i.useState)(!1),N=(0,a.Z)(w,2)[1],L=(0,i.useState)({}),I=(0,a.Z)(L,2),x=I[0],M=I[1],O=(0,i.useState)(n?Z.find((function(e){return e.label===n.label})).blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e,component_name:n.label}})):[]),k=(0,a.Z)(O,2),T=k[0],P=k[1],B=(0,i.useState)(l?Z.find((function(e){return e.label===l.label})).blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e,component_name:l.label}})):[]),F=(0,a.Z)(B,2),D=F[0],A=F[1],W=(0,i.useState)([]),V=(0,a.Z)(W,2),z=V[0],R=V[1],U=(0,i.useState)([]),j=(0,a.Z)(U,2),q=j[0],H=j[1];return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(je,{errorMessage:null===S||void 0===S?void 0:S.type},i.createElement(f.Lb,{title:"Input Component (A)"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:Z,defaultSelectedItem:n,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){var t=Z.find((function(t){return t.value===e.value}));P(t.blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e}}))),M(e),m(e.value)}}))),i.createElement(je,{errorMessage:null===S||void 0===S?void 0:S.type},i.createElement(f.Lb,{title:"Input field to use with component (A)"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:T,defaultSelectedItem:t,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){p(e.label),null!==e&&void 0!==e&&e.symbol?N(!1):N(!0)}}))),i.createElement(je,{errorMessage:null===S||void 0===S?void 0:S.type},i.createElement(f.Lb,{title:"Common field for first lookup, A + B"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:T,defaultSelectedItem:d,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){var t=Z.filter((function(t){return t.blueprint.fields.filter((function(t){return t.value===e.label})).length>0}));R(t.filter((function(e){return e.label!==x.label})).map((function(e){return{label:e.label,value:e.value,component:e.blueprint}}))),g(e.label),null!==e&&void 0!==e&&e.symbol?N(!1):N(!0)}}))),i.createElement(je,{errorMessage:null===S||void 0===S?void 0:S.type},i.createElement(f.Lb,{title:"Target component (B) where value will come from"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:z,defaultSelectedItem:l,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){var t=Z.find((function(t){return t.value===e.value}));A(t.blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e,component_name:t.blueprint.name}}))),v(e.value),null!==e&&void 0!==e&&e.symbol?N(!1):N(!0)}}))),i.createElement(je,{errorMessage:null===S||void 0===S?void 0:S.type},i.createElement(f.Lb,{title:"Common field for second lookup, B + C"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:D,defaultSelectedItem:u,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){var t=Z.filter((function(t){return t.blueprint.fields.filter((function(t){return t.value===e.label})).length>0}));H(t.filter((function(e){return e.label!==x.label})).map((function(e){return{label:e.label,value:e.value,component:e.blueprint}}))),h(e.label),null!==e&&void 0!==e&&e.symbol?N(!1):N(!0)}}))),i.createElement(je,{errorMessage:null===S||void 0===S?void 0:S.type},i.createElement(f.Lb,{title:"Component (C) where to conduct second lookup"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:q,defaultSelectedItem:o,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){y(e.value),null!==e&&void 0!==e&&e.symbol?N(!1):N(!0)}}))),i.createElement(je,{errorMessage:null===S||void 0===S?void 0:S.accepted_mimes},i.createElement(f.Lb,{title:"Fields to display from target component (B)"}),i.createElement(f.sm,{"app-variant":null!==S&&void 0!==S&&S.accepted_mimes?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(se.Cm,{tagEmplacement:"inlined",items:D,groupedBy:"component_name",groupname:"component_name",triggerType:"chevron",initialSelectedValues:void 0===c||0===c.length?[]:c.map((function(e){var t;return{label:e,value:null===(t=D.find((function(t){return t.label===e})))||void 0===t?void 0:t.value,component_name:l.label}})),className:Ae.peoplePositionsSelect,inputClassName:Ae.peoplePositionsSelectInput,molclassname:Ae.peoplePositionsSelectMenuOverlay,moliclassname:Ae.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===C||void 0===C||C(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.label})))}}))))},vt=function(e){var t,n=e.defaultMaxSize,l=e.onMaxFileSizeChanged,o=e.defaultList,r=e.onListSelected,d=e.validationErrors,u=(0,i.useState)(null===(t=null!==n&&void 0!==n?n:0)||void 0===t?void 0:t.toString()),s=(0,a.Z)(u,2),c=s[0],m=s[1];return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(je,{errorMessage:null===d||void 0===d?void 0:d.max_file_size},i.createElement(f.Lb,{title:"Maximum file size"}),i.createElement(f.sm,{"app-variant":null!==d&&void 0!==d&&d.max_file_size?"error":"normal",className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",placeholder:"Insert max size in MB",className:Ae.maxFileSizeInput,value:c,name:"file max size",onChange:function(e){var t=e.target.value;Number(+t)?(m(t),null===l||void 0===l||l(t)):""===t&&(m(""),null===l||void 0===l||l("0"))}}),i.createElement("pre",{className:Ae.uploadFileSizeMeasureUnit},"MB"))),i.createElement(je,{errorMessage:null===d||void 0===d?void 0:d.accepted_mimes},i.createElement(f.Lb,{title:"Type of Files"}),i.createElement(f.sm,{"app-variant":null!==d&&void 0!==d&&d.accepted_mimes?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"top",items:v.cH,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:null===v.cH||void 0===v.cH?void 0:v.cH.filter((function(e){var t;return(null===o||void 0===o?void 0:o.indexOf(null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.replaceAll(".","")))>-1})),className:Ae.uploadSelectComponent,inputClassName:Ae.uploadSearchInput,molclassname:Ae.uploadSelectMenuOverlayList,moliclassname:Ae.uploadSelectMenuOverlayListItem,onChange:function(e){null===r||void 0===r||r(e.map((function(e){var t;return null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.replaceAll(".","")})).join(","))}}))))},ft=function(e){var t=e.item,n=e.onItemChanged,l=e.onItemRemoved,o=e.isOverflow,r=(0,i.useState)(t),d=(0,a.Z)(r,2),u=d[0],s=d[1],c=(0,i.useState)(!1),m=(0,a.Z)(c,2),p=m[0],v=m[1];return i.createElement(f.sm,{className:Ae.renderEditableListContainer,"app-variant":o?"overflow":"",onClickOutside:function(){v(!1),s(t)}},i.createElement("input",{onFocus:function(){v(!0)},type:"text",className:Ae.renderEditableListItemInput,value:u,name:"editItem",onChange:function(e){v(!0),s(e.target.value)}}),p&&i.createElement("button",{type:"button",onClick:function(e){null===n||void 0===n||n(u)},className:Ae.renderEditableListItemDeleteButton},i.createElement(Oe.nQ,null)),p&&i.createElement("button",{type:"button",onClick:function(e){null===l||void 0===l||l(t)},className:Ae.renderEditableListItemDeleteButton},i.createElement(Oe.EU,null)))},yt=function(e){var t,n,l,o,d,u,s=e.defaultFilters,c=e.defaultValue,m=e.nameValues,p=e.defaultList,v=e.onListSelected,y=e.onComponentSelected,g=e.onGlobalSelected,h=e.blueprints,C=e.onTypeSelected,S=e.defaultType,b=e.defaultOutputField,E=e.defaultGlobal,_=e.onNamesSelected,Z=e.onOutputFieldSelected,w=e.onFilterList,N=(0,r.v9)((function(e){return e.modalsReducer})).isOnboarding,L=(0,i.useState)(void 0),I=(0,a.Z)(L,2),x=I[0],M=I[1],O=(0,i.useState)(!1),k=(0,a.Z)(O,2),T=k[0],P=k[1],B=(0,i.useState)(N?null!==(t=null===h||void 0===h?void 0:h.map((function(e){return{label:e.name,value:e.id,blueprint:e}})))&&void 0!==t?t:[]:h.filter((function(e){return!1===e.readonly})).length>0?h.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}})):null!==(n=null===h||void 0===h?void 0:h.map((function(e){return{label:e.name,value:e.id,blueprint:e}})))&&void 0!==n?n:[]),F=(0,a.Z)(B,1)[0],D=(0,i.useState)(void 0==s?[]:(null===s||void 0===s?void 0:s.length)>0?s.map((function(e){return{label:e,value:e,component_name:"Fields"}})):[]),A=(0,a.Z)(D,2),W=A[0],R=A[1],U=(0,i.useState)(null!==c&&void 0!==c&&c.label?0==h.length?[]:N?null===(l=h.find((function(e){return e.name===c.label})))||void 0===l||null===(o=l.fields)||void 0===o?void 0:o.map((function(e){return{label:e.value,value:e.value}})):null===(d=h.filter((function(e){return!1===e.readonly})).find((function(e){return e.name===c.label})))||void 0===d||null===(u=d.fields)||void 0===u?void 0:u.map((function(e){return{label:e.value,value:e.value}})):[]),j=(0,a.Z)(U,2),q=j[0],H=j[1];return i.createElement(i.Fragment,null,i.createElement(je,null,i.createElement(f.Lb,{title:"Interface Type"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:[{label:"Dropdown",value:"Dropdown"},{label:"Tiles",value:"Tiles"}],defaultSelectedItem:S,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){C(e.value),null!==e&&void 0!==e&&e.symbol?P(!1):P(!0)}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Component where to conduct lookup"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Ae.currencySelectContainer},i.createElement("pre",{className:Ae.currencySymbol,style:{display:"none"}},null!==x&&void 0!==x&&x.symbol?null===x||void 0===x?void 0:x.symbol:T?"":null===c||void 0===c?void 0:c.symbol," "),i.createElement(f.Ld,{triggerType:"chevron",items:F,defaultSelectedItem:c,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){M(e),y(e),null!==e&&void 0!==e&&e.symbol?P(!1):P(!0),H(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),R(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}})))}})))),i.createElement(je,null,i.createElement(f.Lb,{title:"Values to display"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:q,itemType:"checkboxes",checkboxEmplacement:"left",inputStyle:{cursor:"pointer"},initialSelectedItems:null===q||void 0===q?void 0:q.filter((function(e){return(null===m||void 0===m?void 0:m.indexOf(e.label))>-1})),className:Ae.uploadSelectComponent,inputClassName:Ae.uploadSearchInput,molclassname:Ae.uploadSelectMenuOverlayList,moliclassname:Ae.uploadSelectMenuOverlayListItem,onChange:function(e){null===_||void 0===_||_(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(je,null,i.createElement(f.Lb,{title:"Fields to filter, enter in order of filter, max 3 (Optional)"}),i.createElement(f.sm,{"app-variant":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:W,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:0===(null===s||void 0===s?void 0:s.length)?[]:null===s||void 0===s?void 0:s.map((function(e){return{label:e,value:e}})),className:Ae.uploadSelectComponent,inputClassName:Ae.uploadSearchInput,inputStyle:{cursor:"pointer"},molclassname:Ae.uploadSelectMenuOverlayList,moliclassname:Ae.uploadSelectMenuOverlayListItem,onChange:function(e){null===w||void 0===w||w(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}},i.createElement(V.G,{className:"fa-icon",icon:z.ptq,style:{marginRight:"20px",color:"gray"}})))),i.createElement(je,null,i.createElement(f.Lb,{title:"Use a global field to filter components (Optional)"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:q,defaultSelectedItem:{label:E,value:E},className:Ae.componentsSelectComponent,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},inputClassName:Ae.componentsSearchInput,clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){g(e.value)}})))),i.createElement(je,null,i.createElement(f.Lb,{title:"Field value to save"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Ae.currencySelectContainer},i.createElement("pre",{className:Ae.currencySymbol,style:{display:"none"}},null!==x&&void 0!==x&&x.symbol?null===x||void 0===x?void 0:x.symbol:T?"":null===c||void 0===c?void 0:c.symbol," "),i.createElement(f.Ld,{triggerType:"chevron",items:q,defaultSelectedItem:b,className:Ae.componentsSelectComponent,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},inputClassName:Ae.componentsSearchInput,clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){Z(e.value)}})))),i.createElement(je,null,i.createElement(f.Lb,{title:"Field values to share"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:q,itemType:"checkboxes",checkboxEmplacement:"left",inputStyle:{cursor:"pointer"},initialSelectedItems:null===q||void 0===q?void 0:q.filter((function(e){return(null===p||void 0===p?void 0:p.indexOf(e.label))>-1})),className:Ae.uploadSelectComponent,inputClassName:Ae.uploadSearchInput,molclassname:Ae.uploadSelectMenuOverlayList,moliclassname:Ae.uploadSelectMenuOverlayListItem,onChange:function(e){null===v||void 0===v||v(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))))},gt=function(e){var t,n,l,o=e.defaultValue,r=e.onModuleSelected,d=(e.field_type,e.onOutputSelected),u=e.onFieldValueSelected,s=e.defaultOutput,c=e.defaultModule,m=e.components,p=void 0===m?[]:m,v=e.allModules,y=(0,i.useState)(void 0),g=(0,a.Z)(y,2),h=g[0],C=g[1],S=(0,i.useState)(c?{value:""}:void 0),b=(0,a.Z)(S,2),E=b[0],_=b[1],Z=(0,i.useState)(v.map((function(e){return{label:e.name,value:e.id,module:e}}))),w=(0,a.Z)(Z,1)[0];return i.createElement(i.Fragment,null,i.createElement(je,null,i.createElement(f.Lb,{title:"Select Module:"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:w,defaultSelectedItem:c,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){C(e),r(e)}})))),h&&i.createElement(je,null,i.createElement(f.Lb,{title:"Select Output:"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:null===p||void 0===p?void 0:p.filter((function(e){return e.module_id===h.value})).map((function(e){return{label:"".concat(e.title),value:e.id}})),defaultSelectedItem:s,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){_(e),d(e)}})))),E&&i.createElement(je,null,i.createElement(f.Lb,{title:"Select Field Value:"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:null!==(t=null===p||void 0===p||null===(n=p.find((function(e){return e.id===E.value})))||void 0===n||null===(l=n.component_fields)||void 0===l?void 0:l.map((function(e){return{label:"".concat(e.field_name," = ").concat(e.value),value:e.value}})))&&void 0!==t?t:[],defaultSelectedItem:o,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){u(e)}})))))},ht=(0,i.memo)((function(e){var t=e.defaultCalendar,n=e.defaultSlider,o=e.defaultAssign,d=e.defaultEmail,u=e.defaultType,s=e.defaultPositions,c=e.onChangeSlider,m=e.onChangeList,p=e.onChangeType,y=e.onChangeEmail,g=e.onChangeAssign,h=e.validationErrors,C=e.allModules,S=e.onModuleSelected,b=e.defaultModule,E=e.options,_=e.onOptionsSelected,Z=e.fieldOption,w=e.onCalendar,N=(0,i.useState)("single"==u),L=(0,a.Z)(N,2),I=L[0],x=L[1],M=(0,i.useState)(!1),O=(0,a.Z)(M,2),k=O[0],T=O[1],P=(0,i.useState)(null===E||void 0===E?void 0:E.componentF),B=(0,a.Z)(P,2),F=B[0],D=B[1],A=(0,i.useState)(null===E||void 0===E?void 0:E.componentO),V=(0,a.Z)(A,2),z=V[0],R=V[1],U=(0,i.useState)(null===E||void 0===E?void 0:E.componentUO),j=(0,a.Z)(U,2),q=j[0],H=j[1],K=(0,i.useState)(s),X=(0,a.Z)(K,2),G=X[0],Y=X[1],J=(0,i.useState)(null===E||void 0===E?void 0:E.module_id),Q=(0,a.Z)(J,2),$=Q[0],ee=Q[1],te=C.map((function(e){return{label:e.name,value:e.id,module:e}})),ne=(0,r.v9)((function(e){return e.flowReducer})),le=ne.companyPositionsArray,oe=ne.companyDepartments,ae=(0,i.useState)(We.sortWith([We.ascend(We.prop("department_name"))])(null===le||void 0===le?void 0:le.map((function(e){var t;return{label:e.label,value:e.value,department_name:e.department,department_id:null===(t=oe.find((function(t){return t.label==e.department})))||void 0===t?void 0:t.value}})))),ie=(0,a.Z)(ae,2),re=ie[0],de=ie[1];return(0,i.useEffect)((function(){var e=(0,W.OW)().subscribe({next:function(e){(0,W.xt)().subscribe({next:function(t){var n=null===e||void 0===e?void 0:e.map((function(e){var n;return{label:e.name,value:e.id,department_name:null===(n=t.find((function(t){return t.id==e.department_id})))||void 0===n?void 0:n.name,department_id:e.department_id}}));de(We.sortWith([We.ascend(We.prop("department_name"))])(n)),T(!1)},error:function(e){T(!1)}})},error:function(e){T(!1)}});return function(){(0,v.zK)(e)}}),[]),i.createElement("div",{className:Ae.peopleContainer},i.createElement(je,{errorMessage:null===h||void 0===h?void 0:h.type},i.createElement(f.Lb,{title:"How many People can be placed in this position?"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.type?"error":"normal","app-container-variant":"noBorder",className:Ie()(Ae.unfocusableWrapper)},i.createElement(f.nd,{selected:I,setSelected:function(e){x(e),null===p||void 0===p||p(e?"single":"multiple")},first:"One Person",second:"Multiple People",extraClassName:Ae.renderBooleansOptions}))),(void 0!==F||0!==(null===F||void 0===F?void 0:F.length))&&i.createElement(je,{errorMessage:null===h||void 0===h?void 0:h.position_id},i.createElement(f.Lb,{title:"Option 1: Display users from these positions:"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},k?i.createElement(f.$j,{size:30,type:"ThreeDots"}):(null===re||void 0===re?void 0:re.length)>0?i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:re,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:null===re||void 0===re?void 0:re.filter((function(e){return(null===s||void 0===s?void 0:s.indexOf(e.value))>-1})),className:Ae.uploadSelectComponent,inputClassName:Ae.uploadSearchInput,molclassname:Ae.uploadSelectMenuOverlayList,moliclassname:Ae.uploadSelectMenuOverlayListItem,onChange:function(e){Y(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))),null===m||void 0===m||m(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}):null)),0==G.length&&i.createElement(je,{errorMessage:null===h||void 0===h?void 0:h.type},i.createElement(f.Lb,{title:"Option 2: Display users based from a lookup in:"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:te,defaultSelected:b,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){ee(e.module.id),null===S||void 0===S||S(e)}}))),0==G.length&&i.createElement(je,null,i.createElement(f.Lb,{title:"Field set in the steps where to lookup"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:F,name:"matched to field",onChange:function(e){D(e.target.value),_((0,l.Z)((0,l.Z)({},Z),{},{componentF:e.target.value,module_id:$}))}}))),0==G.length&&i.createElement(je,null,i.createElement(f.Lb,{title:"Field from lookup where to get positions and users"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:z,name:"matched to field",onChange:function(e){R(e.target.value),_((0,l.Z)((0,l.Z)({},Z),{},{componentO:e.target.value,module_id:$}))}}))),0==G.length&&i.createElement(je,null,i.createElement(f.Lb,{title:"Field from lookup where to get users (direct user list)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:q,name:"matched to field",onChange:function(e){H(e.target.value),_((0,l.Z)((0,l.Z)({},Z),{},{componentUO:e.target.value}))}}))),!t&&i.createElement(f.pd,{id:"Display as slider",title:"Display as slider?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!!n,toggleSelected:function(e){c(e)}}),i.createElement(f.pd,{id:"Trigger an email when user is selected",title:"Trigger an email when user is selected?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!!d,toggleSelected:function(e){y(e)}}),!t&&i.createElement(f.pd,{id:"Assign the user selected to transaction",title:"Assign the user selected to transaction?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!!o,toggleSelected:function(e){g(e)}}),!n&&i.createElement(f.pd,{id:"Display as calendar",title:"Display as calendar?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!!t,toggleSelected:function(e){w(e)}}))})),Ct=(0,i.memo)((function(e){var t=e.defaultCalendar,n=e.defaultSlider,l=(e.defaultAssign,e.defaultEmail,e.defaultType),o=e.defaultPositions,d=(e.onChangeSlider,e.onChangeList),u=e.onChangeType,s=(e.onChangeEmail,e.onChangeAssign,e.validationErrors),c=e.allModules,m=(e.onModuleSelected,e.defaultModule,e.options),p=(e.onOptionsSelected,e.fieldOption,e.onCalendar),y=(0,i.useState)("single"==l),g=(0,a.Z)(y,2),h=g[0],C=g[1],S=(0,i.useState)(!1),b=(0,a.Z)(S,2),E=b[0],_=b[1],Z=(0,i.useState)(null===m||void 0===m?void 0:m.componentF),w=(0,a.Z)(Z,2),N=w[0],L=(w[1],(0,i.useState)(null===m||void 0===m?void 0:m.componentO)),I=(0,a.Z)(L,2),x=(I[0],I[1],(0,i.useState)(null===m||void 0===m?void 0:m.componentUO)),M=(0,a.Z)(x,2),O=(M[0],M[1],(0,i.useState)(o)),k=(0,a.Z)(O,2),T=(k[0],k[1]),P=(0,i.useState)(null===m||void 0===m?void 0:m.module_id),B=(0,a.Z)(P,2),F=(B[0],B[1],c.map((function(e){return{label:e.name,value:e.id,module:e}})),(0,r.v9)((function(e){return e.flowReducer}))),D=F.companyPositionsArray,A=F.companyDepartments,V=(0,i.useState)(We.sortWith([We.ascend(We.prop("department_name"))])(null===D||void 0===D?void 0:D.map((function(e){var t;return{label:e.label,value:e.value,department_name:e.department,department_id:null===(t=A.find((function(t){return t.label==e.department})))||void 0===t?void 0:t.value}})))),z=(0,a.Z)(V,2),R=z[0],U=z[1];return(0,i.useEffect)((function(){var e=(0,W.OW)().subscribe({next:function(e){(0,W.xt)().subscribe({next:function(t){var n=null===e||void 0===e?void 0:e.map((function(e){var n;return{label:e.name,value:e.id,department_name:null===(n=t.find((function(t){return t.id==e.department_id})))||void 0===n?void 0:n.name,department_id:e.department_id}}));U(We.sortWith([We.ascend(We.prop("department_name"))])(n)),_(!1)},error:function(e){_(!1)}})},error:function(e){_(!1)}});return function(){(0,v.zK)(e)}}),[]),i.createElement("div",{className:Ae.peopleContainer},i.createElement(je,{errorMessage:null===s||void 0===s?void 0:s.type},i.createElement(f.Lb,{title:"How many Positions can be selected?"}),i.createElement(f.sm,{"app-variant":null!==s&&void 0!==s&&s.type?"error":"normal","app-container-variant":"noBorder",className:Ie()(Ae.unfocusableWrapper)},i.createElement(f.nd,{selected:h,setSelected:function(e){C(e),null===u||void 0===u||u(e?"single":"multiple")},first:"Single",second:"Multiple",extraClassName:Ae.renderBooleansOptions}))),(void 0!==N||0!==(null===N||void 0===N?void 0:N.length))&&i.createElement(je,{errorMessage:null===s||void 0===s?void 0:s.position_id},i.createElement(f.Lb,{title:"Display these positions:"}),i.createElement(f.sm,{"app-variant":null!==s&&void 0!==s&&s.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},E?i.createElement(f.$j,{size:30,type:"ThreeDots"}):(null===R||void 0===R?void 0:R.length)>0?i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:R,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:null===R||void 0===R?void 0:R.filter((function(e){return(null===o||void 0===o?void 0:o.indexOf(e.value))>-1})),className:Ae.uploadSelectComponent,inputClassName:Ae.uploadSearchInput,molclassname:Ae.uploadSelectMenuOverlayList,moliclassname:Ae.uploadSelectMenuOverlayListItem,onChange:function(e){T(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))),null===d||void 0===d||d(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}):null)),!n&&i.createElement(f.pd,{id:"Display as calendar",title:"Display as calendar?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!!t,toggleSelected:function(e){p(e)}}))})),St=function(e){var t=e.defaultCurrent,n=e.defaultFixed,l=e.defaultDescription,o=e.defaultValue,r=e.defaultModule,d=e.defaultModule2,u=e.defaultModule3,s=e.allModules,c=e.onModule1Select,m=e.onModule2Select,p=e.onModule3Select,v=e.setFieldValue,y=e.setDefaultDescription,g=e.setDefaultFixed,h=e.setDefaultCurrent,C=(0,i.useState)(null!==n&&void 0!==n&&n),S=(0,a.Z)(C,2),b=S[0],E=S[1],_=(0,i.useState)(o),Z=(0,a.Z)(_,2),w=Z[0],N=Z[1],L=(0,i.useState)(l),I=(0,a.Z)(L,2),x=I[0],M=I[1],O=(0,i.useState)(1!=t&&""!==(null===r||void 0===r?void 0:r.label)),k=(0,a.Z)(O,2),T=k[0],P=k[1],B=(0,i.useState)(t),F=(0,a.Z)(B,2),D=F[0],A=F[1],W=s.map((function(e){return{label:e.name,value:e.id,module:e}}));return i.createElement(i.Fragment,null,i.createElement(je,null,i.createElement(f.Lb,{title:"Description"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("textarea",{type:"text",className:Ae.elementTextArea,value:x,name:"element-desc",onChange:function(e){y(e.target.value),M(e.target.value)}}))),i.createElement(f.pd,{id:"Use records for the AI to analyze",title:"Use records for the AI to analyze?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!!T,toggleSelected:function(e){P(e),1==e&&(A(!1),h(!1))}}),!T&&i.createElement(f.pd,{id:"Use current transaction for the AI to analyze",title:"Use current transaction for the AI to analyze",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!!D,toggleSelected:function(e){A(e),h(e)}}),T&&i.createElement(je,null,i.createElement(f.Lb,{title:"Records to use as source A"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:W,defaultSelected:r,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){null===c||void 0===c||c(e)}}))),T&&i.createElement(je,null,i.createElement(f.Lb,{title:"Records to use as source B (Optional)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:W,defaultSelected:d,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){null===m||void 0===m||m(e)}}))),T&&i.createElement(je,null,i.createElement(f.Lb,{title:"Records to use as source C (Optional)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:W,defaultSelected:u,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){null===p||void 0===p||p(e)}}))),1==b&&i.createElement(je,null,i.createElement(f.Lb,{title:"Fixed query to use ".concat(T?"with the records selected":"")}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("textarea",{type:"text",className:Ae.elementTextArea,value:w,name:"element-query",onChange:function(e){v(e.target.value),N(e.target.value)}}))),i.createElement(f.pd,{id:"Use a fixed query?",title:"Use a fixed query",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 0px 0px",width:"auto"},value:b,toggleSelected:function(e){E(e),g(e)}}))},bt=function(e){var t=e.onSetIdGenerator,n=e.defaultValue,l=(0,i.useState)(n.label),o=(0,a.Z)(l,2),r=o[0],d=o[1];return i.createElement("div",{className:Ae.currencySelectContainer},i.createElement("input",{type:"text",placeholder:"Enter prefix of ID",className:Ae.elementTextInput,value:r,name:"element-name",onChange:function(e){d(e.target.value),function(e){t(e)}(e.target.value)}}))},Et=function(e){var t=e.onNotesGenerator,n=e.defaultValue,l=(0,i.useState)(n.label),o=(0,a.Z)(l,2),r=o[0],d=o[1];return i.createElement("div",{className:Ae.currencySelectContainer},i.createElement("textarea",{type:"text",placeholder:"Enter Notes to display",className:Ae.elementTextArea,value:r,name:"element-name",onChange:function(e){d(e.target.value),function(e){t(e)}(e.target.value)}}))},_t=function(e){var t=e.defaultList,n=e.defaultSrcName,l=e.onSourceLabel,d=e.defaultValue,u=e.validationErrors,s=e.onSourceSelected,c=e.bpContext,m=e.onListSelected,p=void 0===m?function(){}:m,v=(0,r.v9)((function(e){return e.modalsReducer})).isOnboarding,y=(0,i.useState)(null!==t&&void 0!==t?t:[]),g=(0,a.Z)(y,2),h=g[0],C=g[1],S=(0,i.useState)(""),b=(0,a.Z)(S,2),E=b[0],_=b[1],Z=(0,i.useState)([]),w=(0,a.Z)(Z,2),N=w[0],L=w[1],I=(0,i.useState)(!0),x=(0,a.Z)(I,2),M=x[0],O=x[1],k=(0,i.useState)([]),T=(0,a.Z)(k,2),P=T[0],B=T[1];(0,i.useEffect)((function(){F()}),[]);var F=(0,i.useCallback)((function(){B(v?c.allBlueprintComponents.map((function(e){return{label:e.name,value:e.id,blueprint:e}})):c.allBlueprintComponents.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}})))})),D=(0,i.useCallback)((function(){O(!0),C((function(e){return[].concat((0,o.Z)(e),[E])})),_(""),null===p||void 0===p||p([].concat((0,o.Z)(h),[E]))}),[h,E,p]),A=(0,i.useCallback)((function(e){C((function(t){return(0,o.Z)(We.reject(We.equals(e),t))})),null===p||void 0===p||p((0,o.Z)(We.reject(We.equals(e),h)))}),[h,p]);return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(je,{errorMessage:null===u||void 0===u?void 0:u.type},i.createElement(f.Lb,{title:"Select Component where field to use as payment amount is found"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:P,defaultSelectedItem:d,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){var t=P.find((function(t){return t.value===e.value}));L(t.blueprint.fields.filter((function(e){return"Number"===e.name||"Formula"===e.name||"Item Formula"===e.name})).map((function(e){return{label:e.value,value:e.id,field:e}}))),s(e.value)}}))),i.createElement(je,{errorMessage:null===u||void 0===u?void 0:u.type},i.createElement(f.Lb,{title:"Field to use for payment amount"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:N,defaultSelectedItem:n,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){l(e.label)}}))),i.createElement(je,{errorMessage:null===u||void 0===u?void 0:u.list},i.createElement(f.Lb,{title:"Payment Options"}),i.createElement(f.sm,{"app-variant":null!==u&&void 0!==u&&u.list?"error":"normal",className:Ae.dropdownListContainer,onClickOutside:(0,i.useCallback)((function(){null===p||void 0===p||p(h)}),[h,p])},M?i.createElement("div",{className:Ae.dropDownButtonContainer},i.createElement(f.zx,{light:!0,title:"Add Payment Option",clicked:function(){return O(!1)}})):i.createElement("div",{className:Ae.dropDownNewListItemInputContainer},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:E,name:"newItem",placeholder:"Type name",onChange:function(e){_(e.target.value)}}),(null===E||void 0===E?void 0:E.length)>0&&i.createElement("button",{type:"button",onClick:D,className:Ae.dropdownInputButtonSaveNewItem},i.createElement(V.G,{icon:z.g6h}))),i.createElement("div",{className:Ae.dropdownListItemsContainer},h&&(null===h||void 0===h?void 0:h.map((function(e,t){return i.createElement(ft,{key:e+t,item:e,isOverflow:(null===h||void 0===h?void 0:h.length)>3,onItemChanged:function(e){C((function(n){return(0,o.Z)(We.update(t)(e)(n))}))},onItemRemoved:function(){return A(e)}})})))))))},Zt=n(67861),wt=(0,i.memo)((function(e){var t,n,r,d,s,c,p,y,g,h,C,S,b,E,_,Z,w,N,L=e.visible,I=e.onUpdate,x=e.onClose,M=(e.hasTutorial,e.allModules),O=e.blueprints,B=e.componentTypes,F=e.components,D=e.products,A=e.companyData,W=e.companyProcesses,U=e.selectedComponent,j=(0,u.aL)(),q=(0,a.Z)(j,2),H=q[0],K=q[1],X=(0,i.useState)(!1),G=(0,a.Z)(X,2),Y=G[0],J=G[1],Q=(0,i.useState)(!1),$=(0,a.Z)(Q,2),ee=$[0],te=$[1],ne=(0,i.useState)(!1),le=(0,a.Z)(ne,2),oe=le[0],ve=le[1],fe=(0,i.useState)(!1),ye=(0,a.Z)(fe,2),ge=ye[0],Ne=ye[1],Le=(0,i.useState)(!1),Ie=(0,a.Z)(Le,2),xe=Ie[0],Me=Ie[1],Oe=(0,i.useState)(!1),ke=(0,a.Z)(Oe,2),Te=ke[0],Pe=ke[1],Be=(0,i.useState)({name:"",fields:"",components:""}),Fe=(0,a.Z)(Be,2)[1],De=(0,i.useState)(!1),Ae=(0,a.Z)(De,2),We=Ae[0],Ve=Ae[1],Re=(0,i.useState)(""),Ue=(0,a.Z)(Re,2),qe=Ue[0],He=Ue[1],Ke=(0,i.useState)(!0),Xe=(0,a.Z)(Ke,2),Ge=Xe[0],Ye=Xe[1],Je=(0,i.useState)(!1),Qe=(0,a.Z)(Je,2),$e=Qe[0],et=Qe[1],tt=(0,i.useState)(""),nt=(0,a.Z)(tt,2),lt=nt[0],ot=nt[1],at=e.onBoardingModalsVisibility;(0,i.useEffect)((function(){He(""),K({type:u.qY.setAllBlueprintsComponents,value:O})}),[H.selectedBlueprintComponent.fields]),(0,i.useEffect)((function(){void 0!==U&&(K({type:u.qY.setSelectedBlueprintComponent,value:O.find((function(e){return e.id===U}))}),Ye(!1))}),[]);var it=function(){Fe({name:"",components:""}),He("")},rt=(0,i.useCallback)((function(e){ve(!0),(0,ue._u)(e.id,e).subscribe({next:function(){ve(!1),k.h.dispatch((0,m.Xc)({show:!0,message:"You have successfully updated ".concat(e.name)})),null===I||void 0===I||I(!0),null===x||void 0===x||x(!0)},error:function(e){var t,n,l,o,a,i,r,d,u;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.errors&&Fe({name:null===e||void 0===e||null===(n=e.data)||void 0===n||null===(l=n.errors)||void 0===l||null===(o=l.name)||void 0===o?void 0:o.join("; "),components:null===e||void 0===e||null===(a=e.data)||void 0===a||null===(i=a.errors)||void 0===i||null===(r=i.components)||void 0===r?void 0:r.join("; ")});null!==e&&void 0!==e&&e.data&&He(null!==(d=null===e||void 0===e||null===(u=e.data)||void 0===u?void 0:u.message)&&void 0!==d?d:null===e||void 0===e?void 0:e.data);ve(!1)}})}),[x]),dt=(0,i.useCallback)((function(e){ve(!0),(0,ue.Bp)(e).subscribe({next:function(){null!==at&&void 0!==at&&at.thirdModalVisible?k.h.dispatch((0,R.$6)({fourthModalVisible:!0})):null!==at&&void 0!==at&&at.fifthModalVisible?k.h.dispatch((0,R.$6)({sixthModalVisible:!0})):k.h.dispatch((0,m.Xc)({show:!0,message:"You have successfully created ".concat(e.name)})),ve(!1),null===I||void 0===I||I(!0),null===x||void 0===x||x(!0)},error:function(e){var t,n,l,o,a,i,r,d,u;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.errors&&Fe({name:null===e||void 0===e||null===(n=e.data)||void 0===n||null===(l=n.errors)||void 0===l||null===(o=l.name)||void 0===o?void 0:o.join("; "),components:null===e||void 0===e||null===(a=e.data)||void 0===a||null===(i=a.errors)||void 0===i||null===(r=i.components)||void 0===r?void 0:r.join("; ")});null!==e&&void 0!==e&&e.data&&He(null!==(d=null===e||void 0===e||null===(u=e.data)||void 0===u?void 0:u.message)&&void 0!==d?d:null===e||void 0===e?void 0:e.data);ve(!1)}})}),[x]),ut=(0,i.useCallback)((function(e){ve(!0),(0,ue.zs)(e.id,e.name).subscribe({next:function(){ve(!1),k.h.dispatch((0,m.Xc)({show:!0,message:"You have successfully duplicated component"})),null===I||void 0===I||I(!0),null===x||void 0===x||x(!0)},error:function(e){var t,n,l,o,a,i,r,d,u;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.errors&&Fe({name:null===e||void 0===e||null===(n=e.data)||void 0===n||null===(l=n.errors)||void 0===l||null===(o=l.name)||void 0===o?void 0:o.join("; "),components:null===e||void 0===e||null===(a=e.data)||void 0===a||null===(i=a.errors)||void 0===i||null===(r=i.components)||void 0===r?void 0:r.join("; ")});null!==e&&void 0!==e&&e.data&&He(null!==(d=null===e||void 0===e||null===(u=e.data)||void 0===u?void 0:u.message)&&void 0!==d?d:null===e||void 0===e?void 0:e.data);ve(!1)}})}),[x]),st=(0,i.useCallback)((function(){var e,t,n=H.validation,a=n.name,i=n.fields;if(a||(null===i||void 0===i?void 0:i.length)>0||(null===(e=H.selectedBlueprintComponent.fields)||void 0===e?void 0:e.length)<1){var r,d,u,s,c,m,p,v,f="";if((null===(r=H.selectedBlueprintComponent.fields)||void 0===r?void 0:r.length)<1&&(f="Component must have at least one field"),(null===i||void 0===i?void 0:i.length)>0&&(f="Check options of red fields"),null!==H&&void 0!==H&&null!==(d=H.selectedBlueprintComponent)&&void 0!==d&&null!==(u=d.fields)&&void 0!==u&&u.some((function(e){var t,n;return 0==(null===e||void 0===e||null===(t=e.options)||void 0===t||null===(n=t.list)||void 0===n?void 0:n.length)}))&&(f="Element's option list must have at least one entry"),null!==H&&void 0!==H&&null!==(s=H.selectedBlueprintComponent)&&void 0!==s&&null!==(c=s.fields)&&void 0!==c&&c.some((function(e){var t,n;return 0==(null===e||void 0===e||null===(t=e.options)||void 0===t||null===(n=t.type)||void 0===n?void 0:n.length)}))&&(f="Element's option type is mandatory"),null!==H&&void 0!==H&&null!==(m=H.selectedBlueprintComponent)&&void 0!==m&&null!==(p=m.fields)&&void 0!==p&&p.some((function(e){var t;return 0==(null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.length)}))&&(f="Name is mandatory for each element"),Fe({name:a?"Add a component name":"",fields:f}),(null===(v=f)||void 0===v?void 0:v.length)>0){var y,g,h=document.querySelectorAll('[app-field-row-has-error="error"]');if(h)if((null===h||void 0===h?void 0:h.length)>0)null===(y=(0,o.Z)(h))||void 0===y||null===(g=y.reverse()[(null===h||void 0===h?void 0:h.length)-1])||void 0===g||g.scrollIntoView({block:"start",behavior:"smooth"})}(null===i||void 0===i?void 0:i.length)>0&&Ve(!0)}else{ve(!0),it();var C={components:H.selectedBlueprintComponent.components,fields:H.selectedBlueprintComponent.fields.map((function(e){var t;return(null===(t=e.id)||void 0===t?void 0:t.length)>20?(0,l.Z)({},e):ae.Z("id")(e)})),name:H.selectedBlueprintComponent.name};(null===(t=H.selectedBlueprintComponent.id)||void 0===t?void 0:t.length)>0?rt((0,l.Z)((0,l.Z)({},C),{},{id:H.selectedBlueprintComponent.id})):dt(C)}}),[H.selectedBlueprintComponent.components,H.selectedBlueprintComponent.fields,H.selectedBlueprintComponent.id,H.selectedBlueprintComponent.name,H.validation,dt,rt]),ct=(0,i.useCallback)((function(){var e;(null===(e=H.selectedBlueprintComponent.id)||void 0===e?void 0:e.length)>0&&ut({name:H.selectedBlueprintComponent.name,id:H.selectedBlueprintComponent.id})}),[H.selectedBlueprintComponent.components,H.selectedBlueprintComponent.fields,H.selectedBlueprintComponent.id,H.selectedBlueprintComponent.name,H.validation,dt,rt]),mt=function(e){K({type:u.qY.setSelectedBlueprintComponentName,value:e})};return Zt.createElement(Zt.Fragment,null,Zt.createElement(f.U7,{id:"edit-component-modal",blured:!0,scrollable:!1,isOpen:L,shadowedContainerStyle:{minWidth:"500px",width:T.tq?"100%":"38%"}},Zt.createElement("div",{className:ce},Zt.createElement("div",{className:me},Zt.createElement("p",null,1==(null===H||void 0===H||null===(t=H.selectedBlueprintComponent)||void 0===t?void 0:t.readonly)?"Template Component":Ge?"New Component":"Edit Component")),Zt.createElement("p",{className:we},"Note: You can only use a component one step at a time in a workflow"),Zt.createElement(je,null,Ge&&Zt.createElement("div",null,Zt.createElement(f.Lb,{title:"Name"}),Zt.createElement("input",{type:"text",name:"element-name",value:null===(n=H.selectedBlueprintComponent)||void 0===n?void 0:n.name,onChange:function(e){mt(e.target.value)},onClick:function(){},className:Ze})),$e&&Zt.createElement("div",null,Zt.createElement(f.Lb,{title:"Name"}),Zt.createElement("input",{type:"text",name:"element-name",value:null===(r=H.selectedBlueprintComponent)||void 0===r?void 0:r.name,onChange:function(e){mt(e.target.value)},onClick:function(){},className:Ze})),!$e&&Zt.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",maxHeight:"100%",border:"0px solid var(--app-color-gray-lighter)"}},Zt.createElement(f.Lb,{title:U?"Name":"Select Component to Edit"}),Zt.createElement("div",{className:pe},Zt.createElement(se.yV,{placeholder:null!==(d=H.selectedBlueprintComponent)&&void 0!==d&&d.name&&!Ge?null===(s=H.selectedBlueprintComponent)||void 0===s?void 0:s.name:"Or selelct a Component to edit...",items:U?[]:B?(0,o.Z)(ie.Z([re.Z(de.Z("name"))])(O).map((function(e){return{label:"".concat(null===e||void 0===e?void 0:e.name),value:null===e||void 0===e?void 0:e.id,type:"".concat(!0===e.readonly?"Templates":(0,v.m)(null===e||void 0===e?void 0:e.name))}}))):[],initialSelectedValues:[],groupedBy:"type",groupname:"type",inputStyle:{blank:!0,cursor:"pointer"},className:Ce,inputClassName:Se,molclassname:be,moliclassname:Ee,onChange:function(e){1==e.length&&(K({type:u.qY.setSelectedBlueprintComponent,value:O.find((function(t){return t.id===e[0].value}))}),Ye(!1))}},!U&&Zt.createElement(V.G,{className:"fa-icon",icon:z.ptq,style:{marginRight:"20px",color:"gray"}})))),Zt.createElement("br",null),!$e&&Zt.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",maxHeight:"100%",border:"0px solid var(--app-color-gray-lighter)"}},Zt.createElement(f.Lb,{title:"Fields Selection"}),Zt.createElement("div",{className:pe},Zt.createElement(se.yV,{placeholder:"Click and select field to add ...",items:B?[].concat((0,o.Z)(ie.Z([re.Z(de.Z("name"))])(B.filter((function(e){var t,n;return!(null!==A&&void 0!==A&&null!==(t=A.misc_info)&&void 0!==t&&null!==(n=t.blueprints)&&void 0!==n&&n.includes(null===e||void 0===e?void 0:e.name))&&(0==e.io_type||1==e.io_type)}))).map((function(e){return{label:e.name,value:e.id,type:0==e.io_type?"Output":"Input"}}))),(0,o.Z)(null!==A&&void 0!==A&&null!==(c=A.misc_info)&&void 0!==c&&c.templates?A.misc_info.templates.map((function(e){return{label:e,value:e,type:"Templates"}})):[])):[],initialSelectedValues:[],groupedBy:"type",groupname:"type",inputStyle:{blank:!0,cursor:"pointer"},className:Ce,inputClassName:Se,molclassname:be,moliclassname:Ee,onChange:function(e){if(e.length>0){var t=[e[0]];t=function(e,t,n){var l,o,a,i,r,d;return"Battery Order Template"===e[0].value?null===t||void 0===t||null===(l=t.misc_info)||void 0===l?void 0:l.templatesData.find((function(e){return"Battery Order Template"===e.name})).config.map((function(e){return{value:n.find((function(t){return t.name===e.value})).id,label:e.label,mapToItem:null===e||void 0===e?void 0:e.mapToItem}})):"Battery Template"===e[0].value?null===t||void 0===t||null===(o=t.misc_info)||void 0===o?void 0:o.templatesData.find((function(e){return"Battery Template"===e.name})).config.map((function(e){return{value:n.find((function(t){return t.name===e.value})).id,label:e.label,mapToItem:null===e||void 0===e?void 0:e.mapToItem}})):null!==(a=null===t||void 0===t||null===(i=t.misc_info)||void 0===i||null===(r=i.templatesData.find((function(t){return t.name===e[0].value})))||void 0===r||null===(d=r.config)||void 0===d?void 0:d.map((function(e){return{value:n.find((function(t){return t.name===e.value})).id,label:e.label,mapToItem:null===e||void 0===e?void 0:e.mapToItem}})))&&void 0!==a?a:[]}(e,A,B),0==t.length&&(ot(""),t=[e[0]]),t.map((function(e){var t,n,o,a,i,r,d,s,c,m,p,f,y,g,h,C,S,b,E,_,Z,w,N,L,I,x,M,O,k,T,P,F,D,A,W,V,z,R,U,j=B.find((function(t){return t.id===e.value})),q={field_type:(0,l.Z)({},j)};("number"===(null===j||void 0===j||null===(t=j.name)||void 0===t?void 0:t.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{type:"numeric",display:"text"}}),"phone"===(null===j||void 0===j||null===(n=j.name)||void 0===n?void 0:n.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{country_prefix:"+44",country_code:"gb",country_name:"United Kingdom"}}),"currency"===(null===j||void 0===j||null===(o=j.name)||void 0===o?void 0:o.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{currency_type:"British Pound Sterling",currency_value:"GBP",symbol:"\xa3"}}),"action button"===(null===j||void 0===j||null===(a=j.name)||void 0===a?void 0:a.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{action:"creator"}}),"profile"===(null===j||void 0===j||null===(i=j.name)||void 0===i?void 0:i.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{type:"user"}}),"upload"===(null===j||void 0===j||null===(r=j.name)||void 0===r?void 0:r.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{accepted_mimes:v.cH.map((function(e){var t;return null===(t=e.value)||void 0===t?void 0:t.replaceAll(".","")})).join(","),max_file_size:51200}}),"people"===(null===j||void 0===j||null===(d=j.name)||void 0===d?void 0:d.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{position_id:[],type:"single"}}),"date"===(null===j||void 0===j||null===(s=j.name)||void 0===s?void 0:s.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{type:"single"}}),"dropdown"===(null===j||void 0===j||null===(c=j.name)||void 0===c?void 0:c.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{list:[],type:"single"}}),"payments"===(null===j||void 0===j||null===(m=j.name)||void 0===m?void 0:m.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{list:["Credit Card","GCash","Cash"]}}),"pin"===(null===j||void 0===j||null===(p=j.name)||void 0===p?void 0:p.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{pintype:"single",realtime:!0,destination:!1,source:!0}}),"record"===(null===j||void 0===j||null===(f=j.name)||void 0===f?void 0:f.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{component_id:[],type:"single",selection:"",filters:[]}}),"status"===(null===j||void 0===j||null===(y=j.name)||void 0===y?void 0:y.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{list:[]}}),"list filter"===(null===j||void 0===j||null===(g=j.name)||void 0===g?void 0:g.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{field:"",value:""}}),"id"===(null===j||void 0===j||null===(h=j.name)||void 0===h?void 0:h.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{id:"",value:0}}),"list"===(null===j||void 0===j||null===(C=j.name)||void 0===C?void 0:C.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{module_id:"",list:[]}}),"module list"===(null===j||void 0===j||null===(S=j.name)||void 0===S?void 0:S.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{module_id:"",list:[]}}),"step list"===(null===j||void 0===j||null===(b=j.name)||void 0===b?void 0:b.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{component_id:"",list:[]}}),"component list"===(null===j||void 0===j||null===(E=j.name)||void 0===E?void 0:E.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{component_id:"",list:[]}}),"transaction list"===(null===j||void 0===j||null===(_=j.name)||void 0===_?void 0:_.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{map:{}}}),"lookup"===(null===j||void 0===j||null===(Z=j.name)||void 0===Z?void 0:Z.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{source_id:"",target_id:"",common_field:"",list:[],selection:""}}),"rewards"===(null===j||void 0===j||null===(w=j.name)||void 0===w?void 0:w.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{status:"Closed",points:1,equiv:1,creator:!0}}),"calendar"===(null===j||void 0===j||null===(N=j.name)||void 0===N?void 0:N.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{limit:!0,creator:!0,priority:!0,span:!1}}),"connectors"===(null===j||void 0===j||null===(L=j.name)||void 0===L?void 0:L.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{component1_id:"",component2_id:"",common_field_12:"",component3_id:"",common_field_23:"",outputs:""}}),"map"===(null===j||void 0===j||null===(I=j.name)||void 0===I?void 0:I.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{maptype:"region"}}),"formula"===(null===j||void 0===j||null===(x=j.name)||void 0===x?void 0:x.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{operator:"",list:[],display:"text"}}),"item formula"===(null===j||void 0===j||null===(M=j.name)||void 0===M?void 0:M.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{operator:"",list:[],display:"text"}}),"emails"===(null===j||void 0===j||null===(O=j.name)||void 0===O?void 0:O.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{subject:"",message:""}}),"product"===(null===j||void 0===j||null===(k=j.name)||void 0===k?void 0:k.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{list:[]}}),"product lookup"===(null===j||void 0===j||null===(T=j.name)||void 0===T?void 0:T.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{selection:"",component_id:"",list:[]}}),"filters"===(null===j||void 0===j||null===(P=j.name)||void 0===P?void 0:P.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{component_id:"",list:[],filters:[]}}),"info"===(null===j||void 0===j||null===(F=j.name)||void 0===F?void 0:F.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{component_id:"",list:[]}}),"chart"===(null===j||void 0===j||null===(D=j.name)||void 0===D?void 0:D.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{component_id:"",list:[]}}),"value"===(null===j||void 0===j||null===(A=j.name)||void 0===A?void 0:A.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{module_id:"",component_id:"",value:""}}),"notes"===(null===j||void 0===j||null===(W=j.name)||void 0===W?void 0:W.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{value:""}}),"url"===(null===j||void 0===j||null===(V=j.name)||void 0===V?void 0:V.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{type:"image"}}),"googleai assistant"===(null===j||void 0===j||null===(z=j.name)||void 0===z?void 0:z.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{description:"",fixed:!0,current:!1}}),null!==e&&void 0!==e&&e.mapToItem&&(console.log(e.mapToItem),q.options=(0,l.Z)((0,l.Z)({},q.options),{},{mapToItem:e.mapToItem})),(null===H||void 0===H||null===(R=H.selectedBlueprintComponent)||void 0===R?void 0:R.fields.length)<20)?(it(),K({type:u.qY.setSelectedBlueprintComponentNewField,value:(0,l.Z)((0,l.Z)({},q),{},{label:null!==(U=e.label)&&void 0!==U?U:""})})):He("You can only add a maximum of 20 fields per component. ")}))}}},Zt.createElement(V.G,{className:"fa-icon",icon:z.ptq,style:{marginRight:"20px",color:"gray"}}))),Zt.createElement("br",null),Zt.createElement("div",{className:_e},Ge?"Selected Fields:":"Available Fields:"),Zt.createElement("div",{style:{display:"flex",flexDirection:"column"}},null===H||void 0===H||null===(p=H.selectedBlueprintComponent)||void 0===p||null===(y=p.fields)||void 0===y?void 0:y.map((function(e,t){var n,o,a,i,r,d,s,c;return Zt.createElement(Lt,{key:t,id:e.id,name:1===(null===e||void 0===e||null===(n=e.field_type)||void 0===n?void 0:n.io_type)?null!==e&&void 0!==e&&null!==(o=e.options)&&void 0!==o&&o.mapToItem?"".concat(null===e||void 0===e||null===(a=e.field_type)||void 0===a?void 0:a.name," (").concat(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.mapToItem,")"):null===e||void 0===e||null===(r=e.field_type)||void 0===r?void 0:r.name:"Template"===(null===e||void 0===e||null===(d=e.field_type)||void 0===d?void 0:d.name)?null===e||void 0===e||null===(s=e.field_type)||void 0===s?void 0:s.name:"".concat(null===e||void 0===e||null===(c=e.field_type)||void 0===c?void 0:c.name," (Out)"),settingsClicked:function(){var t;K({type:u.qY.setSelectedFieldFromSelectedBlueprintComponent,value:(0,l.Z)((0,l.Z)({},e),{},{index:null===e||void 0===e||null===(t=e.field_type)||void 0===t?void 0:t.index})}),te(!0)},renderError:We,hasSettingsBtn:!0},Zt.createElement(Nt,e))}))),Zt.createElement("p",{className:_e},0==(null===H||void 0===H||null===(g=H.selectedBlueprintComponent)||void 0===g||null===(h=g.fields)||void 0===h?void 0:h.length)?"No fields available. Select and add by clicking above":"You can add a maximum of 20 fields per component."),Zt.createElement("br",null)),(null===qe||void 0===qe?void 0:qe.length)>0&&Zt.createElement(P.Z,{message:qe,onClick:function(){return He("")}}),(null===lt||void 0===lt?void 0:lt.length)>0&&Zt.createElement(P.Z,{withError:!1,extraClassName:he,message:lt,onClick:function(){return ot("")}})),Zt.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingTop:"10px",width:"100%",overflow:"auto"}},Zt.createElement(f.zx,{loading:oe,title:"Close",clicked:function(){return x()},titleStyle:{fontSize:"14px"},style:{width:"16%",display:$e?"none":""}}),Zt.createElement(f.zx,{disabled:!((null===H||void 0===H||null===(C=H.selectedBlueprintComponent)||void 0===C?void 0:C.fields.length)>0&&null!==(S=H.selectedBlueprintComponent)&&void 0!==S&&S.name),light:!0,title:Ge?"Save":"Update",loading:oe,clicked:st,titleStyle:{fontSize:"14px"},style:{width:"20%",display:1==(null===H||void 0===H||null===(b=H.selectedBlueprintComponent)||void 0===b?void 0:b.readonly)&&"superadmin"!==A.status?"none":(null===H||void 0===H||null===(E=H.selectedBlueprintComponent)||void 0===E?void 0:E.fields.length)>0&&null!==(_=H.selectedBlueprintComponent)&&void 0!==_&&_.name?"":"none"}}),!Ge&&Zt.createElement(f.j3,{permissions:[f.po.blueprints.components.delete]},Zt.createElement(f.zx,{light:!0,title:$e?"Back":"Rename",clicked:function(){return et(!$e)},titleStyle:{fontSize:"14px"},style:{width:"20%",display:1==(null===H||void 0===H||null===(Z=H.selectedBlueprintComponent)||void 0===Z?void 0:Z.readonly)&&"superadmin"!==A.status?"none":""}})),!Ge&&!$e&&Zt.createElement(f.j3,{permissions:[f.po.blueprints.components.delete]},Zt.createElement(f.zx,{light:!0,title:"Copy",clicked:ct,titleStyle:{fontSize:"14px"},style:{width:"22%"}})),!Ge&&!$e&&0==(null===H||void 0===H||null===(w=H.selectedBlueprintComponent)||void 0===w?void 0:w.readonly)&&Zt.createElement(Zt.Fragment,null,Zt.createElement(f.j3,{permissions:[f.po.blueprints.components.delete]},Zt.createElement(f.zx,{light:!0,title:"New",clicked:function(){Ye(!0),K({type:u.qY.resetSelectedBlueprintComponent})},titleStyle:{fontSize:"14px"},style:{width:"16%"}}),0===F.filter((function(e){return e.component_fields.filter((function(e){var t;return e.component_blueprint_id===(null===(t=H.selectedBlueprintComponent)||void 0===t?void 0:t.id)})).length>0})).length&&Zt.createElement(f.zx,{light:!0,title:"Delete",loading:ge,clicked:function(){Ne(!0),(0,ue.bp)(H.selectedBlueprintComponent.id).subscribe({next:function(){k.h.dispatch((0,m.Xc)({show:!0,message:"You have successfully deleted ".concat(H.selectedBlueprintComponent.name),color:"red"})),null===I||void 0===I||I(!0)},complete:function(){Ne(!1),null===x||void 0===x||x(!0)}})},titleStyle:{fontSize:"14px"},style:{width:"20%"}})))))),ee&&Zt.createElement(ze,{onClose:function(){K({type:u.qY.setSelectedFieldFromSelectedBlueprintComponent,value:null}),Me(!1),Pe(!1),te(!1)},isOpen:ee,modalStyle:{minWidth:"500px",width:T.tq?"100%":"38%"},leftControlAction:function(e){return function(e){Pe(!0),K({type:u.qY.removeSelectedFieldFromSelectedBlueprintComponent,value:{id:e}}),Pe(!1),te(!1)}(e)},leftControlLoading:Te,centralControlAction:function(e){Me(!0),K({type:u.qY.setSelectedBlueprintComponentSpecificField,value:e}),Me(!1),te(!1)},centralControlLoading:xe,allModules:M,blueprints:O,components:F,companyProcesses:W,products:D,selectedFields:H.selectedBlueprintComponent.fields,readOnly:(null===H||void 0===H||null===(N=H.selectedBlueprintComponent)||void 0===N?void 0:N.readonly)&&"superadmin"!==A.status}),Y&&Zt.createElement(f.Ts,{onClick:function(){return J(!1)},url:"https://www.youtube.com/watch?v=xV-bOHvfbPQ"}))})),Nt=function(e){var t,n,l=e.id,o=e.value,i=e.field_type,r=k.h.getState().flowReducer.companyData,d=(0,u.aL)(),s=(0,a.Z)(d,2)[1];switch(null===i||void 0===i?void 0:i.data_type){case"file":case"date":return Zt.createElement("input",{type:"input",placeholder:null===i||void 0===i?void 0:i.name,className:ge,value:o,name:null===i||void 0===i?void 0:i.name,onChange:function(e){s({type:u.qY.setSelectedBlueprintComponentSpecificField,value:{id:l,value:e.target.value}})}});case"text":return Zt.createElement("input",{type:null===i||void 0===i?void 0:i.data_type,placeholder:"Input name for "+(null===i||void 0===i?void 0:i.name),className:ge,value:o,name:null===i||void 0===i?void 0:i.name,onChange:function(e){var t=e.target.value;s({type:u.qY.setSelectedBlueprintComponentSpecificField,value:{id:l,value:t}})}});case"output":return Zt.createElement("input",{type:null===i||void 0===i?void 0:i.data_type,placeholder:"Insert value for "+(null===i||void 0===i||null===(t=i.name)||void 0===t?void 0:t.toLowerCase())+" element...",className:ge,value:o,name:null===i||void 0===i?void 0:i.name,readOnly:"-"!==(null===r||void 0===r?void 0:r.id)&&"Template"===(null===i||void 0===i?void 0:i.name),onChange:function(e){var t=e.target.value;s({type:u.qY.setSelectedBlueprintComponentSpecificField,value:{id:l,value:t}})}});default:return Zt.createElement("input",{type:null===i||void 0===i?void 0:i.data_type,placeholder:"Insert value for "+(null===i||void 0===i||null===(n=i.name)||void 0===n?void 0:n.toLowerCase())+" element...",className:ge,value:o,name:null===i||void 0===i?void 0:i.name,onChange:function(e){var t=e.target.value;s({type:u.qY.setSelectedBlueprintComponentSpecificField,value:{id:l,value:t}})}})}},Lt=function(e){var t=e.id,n=e.renderError,l=(e.fieldIcon,e.children),o=e.hasSettingsBtn,r=e.settingsClicked,d=e.name,s=(0,u.aL)(),c=(0,a.Z)(s,1)[0],m=(0,i.useState)(!1),p=(0,a.Z)(m,2),v=p[0],f=p[1],y=(0,i.useCallback)((function(){var e;return f(n&&(null===(e=c.validation.fields)||void 0===e?void 0:e.some((function(e){return(null===e||void 0===e?void 0:e.toString())===(null===t||void 0===t?void 0:t.toString())}))))}),[n,c.validation.fields,t]);return(0,i.useEffect)((function(){y()}),[n,t,c.validation.fields,y]),Zt.createElement("div",{className:pe,"app-field-row-has-error":v?"error":""},Zt.createElement("div",{className:ve},l),Zt.createElement("p",{className:ye},d),o&&Zt.createElement("button",{className:fe,onClick:function(){return r()}},Zt.createElement(V.G,{icon:z.gr5,style:{width:"20px",height:"20px",color:"gray"}})))},It=(0,r.$j)((function(e){var t=e.flowReducer,n=t.blueprints,l=t.allStatutes,o=t.selectedBlueprintComponent,a=t.allModules,i=t.componentTypes,r=t.components,d=t.products,u=t.companyData,s=t.companyProcesses,c=e.modalsReducer;return{blueprints:n,allStatutes:l,selectedBlueprintComponent:o,allModules:a,componentTypes:i,components:r,products:d,companyData:u,companyProcesses:s,onBoardingModalsVisibility:c.onBoardingModalsVisibility,isOnboarding:c.isOnboarding}}),(function(e){return{onSetSelectedProStep:function(t){return e((0,m.Sc)(t))}}}))(wt),xt=n(22590),Mt=n(74165),Ot=n(15861),kt=n(4942),Tt=n(28550),Pt=n(88846),Bt=n(62169),Ft=n(84634),Dt=n(9204),At=n(30401),Wt=n(62498),Vt=n(51791),zt=n(97606),Rt=n(8284),Ut=n(12653),jt=n(80121),qt=n(31510),Ht=n(97293),Kt=n(45987),Xt=n(87462),Gt=!1,Yt="data-dev-focus",Jt='a[href], button, input:not([type="hidden"]), [tabindex="0"], select, textarea',Qt=!1;if("undefined"!==typeof window&&"undefined"!==typeof document)try{var $t=document.createElement("div");$t.addEventListener("focus",(function(e){e.preventDefault(),e.stopPropagation()}),!0),$t.focus(Object.defineProperty({},"preventScroll",{get:function(){Qt=!0}}))}catch(Zl){}var en=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.activeElement;try{return e.matches(":focus-visible")}catch(t){}return!1},tn=function(e){var t=e.target&&"getAttribute"in e.target&&e.target;t&&null!=t.getAttribute(Yt)&&requestAnimationFrame((function(){t.removeAttribute(Yt)}))},nn=function(){Gt||(Gt=!0,document.addEventListener("blur",tn,!0))},ln="StepComponents_renderComponent__+z3XW",on="StepComponents_wrapper__3JMC9",an="StepComponents_mainContainer__zd1cq",rn="StepComponents_firstRow__XX+Ep",dn="StepComponents_pLabel__NLkqd",un="StepComponents_icoContainer__RDLt2",sn="StepComponents_renderFieldOfComponent__YckNH",cn="StepComponents_inheritedFieldNameContainer__OP5us",mn="StepComponents_inheritedFieldName__Z3BI3",pn="StepComponents_inheritedFieldMandatoryMark__3Oe+t",vn="StepComponents_optionsContainer__yY3PK",fn="StepComponents_mandatoryContainer__CFmJm",yn="StepComponents_mandatoryIconContainer__CHSuP",gn="StepComponents_mandatorySVG__SrpT7",hn="StepComponents_notMandatory__fegWP",Cn="StepComponents_mandatoryText__iZ04J",Sn="StepComponents_typeText__+A6OQ",bn="StepComponents_visibilityContainer__er+Sk",En="StepComponents_renderComponents__PxNBA",_n="StepComponents_noContentWrapperNewComponents__dQHs8",Zn="StepComponents_noContentWrapperContainerNewComponents__C+epL",wn="StepComponents_noContentParagraphNewComponents__9soSj",Nn="StepComponents_firstRowControls__QK4Eb",Ln="StepComponents_renderSearchComponentsHost__LM0BX",In="StepComponents_showSearchComponentContainer__O7l8b",xn="StepComponents_showSearchComponentSelectWithSearchContainer__S0y1p",Mn="StepComponents_showSearchComponentSelectWithSearchAddComponentButton__5gcm8",On="StepComponents_errorContainer__gR5Ss",kn="StepComponents_peoplePositionsSelectBorderless__iOTkZ",Tn="StepComponents_peoplePositionsSelect__kisVR",Pn="StepComponents_peoplePositionsSelectInput__PuuvP",Bn="StepComponents_peoplePositionsSelectMenuOverlay__mivFp",Fn="StepComponents_peoplePositionsSelectMenuOverlayItem__mpsra",Dn="StepComponents_listContainer__bnutj",An="StepComponents_accordionContainer__h-Kjc",Wn=n(60179),Vn=n(30490),zn=n(67861),Rn=n(66918),Un=(0,i.memo)((function(e){e.selectedProcess;var t=e.blueprints,n=e.companyPositionsArray,l=e.showAddButton,r=void 0===l||l,u=e.onEditChange,s=void 0===u?function(){}:u,m=(0,c._M)(),p=(0,a.Z)(m,2),y=p[0],g=p[1],h=(0,i.useState)([]),C=(0,a.Z)(h,2),S=C[0],b=C[1],E=(0,i.useState)(!1),_=(0,a.Z)(E,2),Z=_[0],w=_[1],N=(0,i.useCallback)((function(){var e,t,n,l;if(!(null!==y&&void 0!==y&&null!==(e=y.selectedStep)&&void 0!==e&&null!==(t=e.component_blueprints)&&void 0!==t&&t.length)>0)return b([]);var a=Rn.compose(Rn.map(Rn.assoc("hasStatus",(null===(n=Rn.pathOr("",["status","id"]))||void 0===n?void 0:n.length)>0)),Rn.map(Rn.assoc("hasTitle",(null===(l=Rn.flip(Rn.prop("title")))||void 0===l?void 0:l.length)>0)))(y.selectedStep.component_blueprints);b((0,o.Z)(a.map((function(e){return{value:e.id,uuid:e._uuid,title:e.title,component:e}}))))}),[y.selectedStep.component_blueprints]);(0,i.useEffect)((function(){N()}),[y.selectedStep.component_blueprints,N]);var L=(0,i.useCallback)((function(e){(0,ue.vG)(e.value).pipe((0,d.P)()).subscribe({next:function(e){var t={id:e.id,is_active:!0,is_inherited:!1,name:e.name,selected_fields:e.fields.map((function(e){var t,n,l,o,a;return{data_type:null===e||void 0===e||null===(t=e.field_type)||void 0===t?void 0:t.data_type,data_type_name:null===e||void 0===e||null===(n=e.field_type)||void 0===n?void 0:n.name,field_name:null!==(l=null===e||void 0===e?void 0:e.value)&&void 0!==l?l:null===e||void 0===e||null===(o=e.field_type)||void 0===o?void 0:o.name,id:e.id,index:e.index,mandatory:!1,options:null!==(a=null===e||void 0===e?void 0:e.options)&&void 0!==a?a:[],process_step_blueprint_field_id:e.id}})),status:{id:"",name:""},title:"",hasStatus:!1,hasTitle:!1,_uuid:(0,v.mR)(),new:!0};g({type:c.Cb.addNewComponentAtStep,value:t}),w((function(e){return!e}))},error:function(e){}})}),[g]);return zn.createElement("div",{className:En},(null===S||void 0===S?void 0:S.length)>0&&(null===S||void 0===S?void 0:S.map((function(e,t){var l;return zn.createElement(jn,{onEditChange:function(t){s(t,e.component.id)},key:t+e.uuid,value:e.value,compUUID:e.uuid,title:(null===(l=e.title)||void 0===l?void 0:l.length)>0?e.title:"Select title...",companyPositionsArray:n})}))),Z?zn.createElement(Hn,{onComponentSelect:L,blueprint_components:Rn.sortWith([Rn.ascend(Rn.prop("name"))])(t.filter((function(e){return Rn.not(Rn.includes(e.id,Rn.pipe(Rn.pluck("component_blueprints"),Rn.flatten,Rn.pipe(Rn.pluck("id")))(y.steps)))})).filter((function(e){return Rn.not(Rn.includes(e.id,Rn.pipe(Rn.pluck("value"))(S)))})))}):zn.createElement("div",{className:_n,style:{display:0==r?"none":""}},zn.createElement("div",{className:Zn},t.length>0?zn.createElement(f.zx,{style:{height:"30px"},title:"Attach Component",clicked:function(){return w((function(e){return!e}))}}):zn.createElement("p",{className:wn},"There are no available components. Create one first!"))))})),jn=(0,i.memo)((function(e){var t,n,r,u,s,m,p,v,y,g,h,C,S,b,E,_,Z,w,N,L,I,x,M,O,k,T,P,B,F,D,A,W,R,U,j,q,H,K,X,G,Y,J,Q,$,ee,te,ne,le,oe=e.value,ae=e.title,ie=e.compUUID,re=e.companyPositionsArray,de=e.show,ce=void 0!==de&&de,me=e.onEditChange,pe=void 0===me?function(){}:me,ve=(0,i.useRef)(null),fe=(0,c._M)(),ye=(0,a.Z)(fe,2),ge=ye[0],he=ye[1],Ce=(0,i.useState)(Rn.find(Rn.allPass([Rn.propEq("_uuid",ie)]))(null!==(t=null===ge||void 0===ge||null===(n=ge.selectedStep)||void 0===n?void 0:n.component_blueprints)&&void 0!==t?t:[])),Se=(0,a.Z)(Ce,2),be=Se[0],Ee=Se[1],_e=(0,i.useState)(""),Ze=(0,a.Z)(_e,2),we=Ze[0],Ne=Ze[1],Le=(0,i.useState)(!1),Ie=(0,a.Z)(Le,2)[1],xe=(0,i.useState)(null!==(r=(null===be||void 0===be||null===(u=be.options)||void 0===u||null===(s=u.showOnly)||void 0===s?void 0:s.length)>0)&&void 0!==r&&r),Me=(0,a.Z)(xe,2),ke=Me[0],Te=Me[1],Pe=(0,i.useState)(!1),Be=(0,a.Z)(Pe,2),Fe=Be[0],De=Be[1],Ae=(0,i.useState)(!1),We=(0,a.Z)(Ae,2),Ve=We[0],ze=We[1],Re=(0,i.useState)(null!==(m=null===be||void 0===be?void 0:be.new)&&void 0!==m?m:ce),Ue=(0,a.Z)(Re,2),je=Ue[0],qe=Ue[1],He=(0,i.useState)((function(){var e;return 0===(null===be||void 0===be||null===(e=be.selected_fields)||void 0===e?void 0:e.length)?[]:Rn.sortWith([Rn.ascend(Rn.prop("index"))])(be.selected_fields).map((function(e,t){var n,a,i;return(0,l.Z)({},{id:"row-".concat(e.id),component:zn.createElement(qn,{key:"field-".concat(null===e||void 0===e?void 0:e.id).concat(t),fieldId:null===e||void 0===e?void 0:e.id,compId:oe,compUUID:ie,componentTitle:null===be||void 0===be?void 0:be.title,isKeyClicked:function(){Ee((0,l.Z)((0,l.Z)({},be),{},{options:(0,l.Z)((0,l.Z)({},null===be||void 0===be?void 0:be.options),{},{key:e.field_name})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ie,compBluePrintId:be.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===be||void 0===be?void 0:be.options),{},{key:e.field_name})}})},isKey:(null===be||void 0===be||null===(n=be.options)||void 0===n?void 0:n.key)===e.field_name,isLeft:!(null===be||void 0===be||null===(a=be.options)||void 0===a||null===(i=a.left)||void 0===i||!i.find((function(t){return t===e.field_name}))),isLeftClicked:function(){var t,n,a,i,r,d,u,s,m,p;null!==be&&void 0!==be&&null!==(t=be.options)&&void 0!==t&&null!==(n=t.left)&&void 0!==n&&n.find((function(t){return t===e.field_name}))?(Ee((0,l.Z)((0,l.Z)({},be),{},{options:(0,l.Z)((0,l.Z)({},null===be||void 0===be?void 0:be.options),{},{left:null===be||void 0===be||null===(a=be.options)||void 0===a||null===(i=a.left)||void 0===i?void 0:i.filter((function(t){return t!==e.field_name}))})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ie,compBluePrintId:be.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===be||void 0===be?void 0:be.options),{},{left:null===be||void 0===be||null===(r=be.options)||void 0===r||null===(d=r.left)||void 0===d?void 0:d.filter((function(t){return t!==e.field_name}))})}})):(Ee((0,l.Z)((0,l.Z)({},be),{},{options:(0,l.Z)((0,l.Z)({},null===be||void 0===be?void 0:be.options),{},{left:[null!==(u=null===be||void 0===be||null===(s=be.options)||void 0===s?void 0:s.left)&&void 0!==u?u:[],e.field_name]})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ie,compBluePrintId:be.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===be||void 0===be?void 0:be.options),{},{left:[].concat((0,o.Z)(null!==(m=null===be||void 0===be||null===(p=be.options)||void 0===p?void 0:p.left)&&void 0!==m?m:[]),[e.field_name])})}}))},component:be})})}))})),Ke=(0,a.Z)(He,2),Xe=Ke[0],Ge=Ke[1];(0,i.useEffect)((function(){var e,t,n=Rn.find(Rn.allPass([Rn.propEq("_uuid",ie)]))(null!==(e=null===ge||void 0===ge||null===(t=ge.selectedStep)||void 0===t?void 0:t.component_blueprints)&&void 0!==e?e:[]);Ee(n)}),[null===ge||void 0===ge||null===(p=ge.selectedStep)||void 0===p?void 0:p.component_blueprints,oe]);var Ye=(0,i.useCallback)((function(){De(!0),(0,ue.vG)(be.id).pipe((0,d.P)()).subscribe({next:function(e){De(!1);var t=e.fields.map((function(e){var t,n,l,o,a,i=be.selected_fields.find((function(t){return t.id===e.id}));return i?(i.options=null===e||void 0===e?void 0:e.options,i):(Ne({title:"Change in fields found, please save this step"}),qe(!0),{data_type:null===e||void 0===e||null===(t=e.field_type)||void 0===t?void 0:t.data_type,data_type_name:null===e||void 0===e||null===(n=e.field_type)||void 0===n?void 0:n.name,field_name:null!==(l=null===e||void 0===e?void 0:e.value)&&void 0!==l?l:null===e||void 0===e||null===(o=e.field_type)||void 0===o?void 0:o.name,id:e.id,index:e.index,mandatory:!1,options:null!==(a=null===e||void 0===e?void 0:e.options)&&void 0!==a?a:[],process_step_blueprint_field_id:e.id})}));t.length<be.selected_fields.length&&(Ne({title:"A field was removed, please save this step"}),qe(!0)),be.selected_fields=t,he({type:c.Cb.updateComponentAtStep,value:be}),Ge((function(){var e;return 0===(null===be||void 0===be||null===(e=be.selected_fields)||void 0===e?void 0:e.length)?[]:Rn.sortWith([Rn.ascend(Rn.prop("index"))])(be.selected_fields).map((function(e,t){var n,a,i;return(0,l.Z)({},{id:"row-".concat(e.id),component:zn.createElement(qn,{key:"field-".concat(null===e||void 0===e?void 0:e.id).concat(t),fieldId:null===e||void 0===e?void 0:e.id,compId:oe,compUUID:ie,componentTitle:null===be||void 0===be?void 0:be.title,isKeyClicked:function(){Ee((0,l.Z)((0,l.Z)({},be),{},{options:(0,l.Z)((0,l.Z)({},null===be||void 0===be?void 0:be.options),{},{key:e.field_name})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ie,compBluePrintId:be.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===be||void 0===be?void 0:be.options),{},{key:e.field_name})}})},isKey:(null===be||void 0===be||null===(n=be.options)||void 0===n?void 0:n.key)===e.field_name,isLeft:!(null===be||void 0===be||null===(a=be.options)||void 0===a||null===(i=a.left)||void 0===i||!i.find((function(t){return t===e.field_name}))),isLeftClicked:function(){var t,n,a,i,r,d,u,s,m,p;null!==be&&void 0!==be&&null!==(t=be.options)&&void 0!==t&&null!==(n=t.left)&&void 0!==n&&n.find((function(t){return t===e.field_name}))?(Ee((0,l.Z)((0,l.Z)({},be),{},{options:(0,l.Z)((0,l.Z)({},null===be||void 0===be?void 0:be.options),{},{left:null===be||void 0===be||null===(a=be.options)||void 0===a||null===(i=a.left)||void 0===i?void 0:i.filter((function(t){return t!==e.field_name}))})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ie,compBluePrintId:be.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===be||void 0===be?void 0:be.options),{},{left:null===be||void 0===be||null===(r=be.options)||void 0===r||null===(d=r.left)||void 0===d?void 0:d.filter((function(t){return t!==e.field_name}))})}})):(Ee((0,l.Z)((0,l.Z)({},be),{},{options:(0,l.Z)((0,l.Z)({},null===be||void 0===be?void 0:be.options),{},{left:[null!==(u=null===be||void 0===be||null===(s=be.options)||void 0===s?void 0:s.left)&&void 0!==u?u:[],e.field_name]})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ie,compBluePrintId:be.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===be||void 0===be?void 0:be.options),{},{left:[].concat((0,o.Z)(null!==(m=null===be||void 0===be||null===(p=be.options)||void 0===p?void 0:p.left)&&void 0!==m?m:[]),[e.field_name])})}}))},component:be})})}))})),Ee((0,l.Z)((0,l.Z)({},be),{},{selected_fields:t}))},error:function(e){De(!1)}})}),[he]),Je=(0,i.useCallback)((function(){he({type:c.Cb.removeComponentFromStep,value:{uuid:ie}})}),[ie]);(0,i.useEffect)((function(){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e||n&&!Qt||(t&&(!0===t&&(t=Jt),e=e.querySelector(t)),null!=e&&requestAnimationFrame((function(){e&&(-1==e.tabIndex&&null==e.getAttribute("tabindex")&&(e.tabIndex=-1),en()||(e.setAttribute(Yt,""),Gt||nn()),e.focus({preventScroll:!0}))})))}(null===ve||void 0===ve?void 0:ve.current,!0)}),[null===be||void 0===be?void 0:be.title]);var Qe=(0,i.useMemo)((function(){return[{Header:"Component",columns:[{Header:"Component",accessor:"component"}]}]}),[]);return zn.createElement(f.sm,{key:oe+ae,className:ln,"comp-in-edit-mode":je?"true":null,"app-variant":(null===(v=we.title)||void 0===v?void 0:v.length)>0||(null===(y=we.status)||void 0===y?void 0:y.length)>0?"error":"normal",onClickOutside:function(){Ie(!0)}},zn.createElement(f.gc,{title:"".concat(1==(null===be||void 0===be||null===(g=be.options)||void 0===g?void 0:g.allowMultipleInputs)?"Transaction":!0===(null===be||void 0===be||null===(h=be.options)||void 0===h?void 0:h.asReport)?"Report":!0===(null===be||void 0===be||null===(C=be.options)||void 0===C?void 0:C.asDashboard)?"Dashboard":!0===(null===be||void 0===be||null===(S=be.options)||void 0===S?void 0:S.asModuleList)?"Main List":"Component",":")}),zn.createElement("div",{className:on},zn.createElement("div",{className:an},zn.createElement("div",{className:rn},zn.createElement("p",{className:dn,onClick:function(){return pe(be.id)}},null===be||void 0===be?void 0:be.name),zn.createElement("div",{className:Nn},je&&zn.createElement(f.zx,{light:!0,icon:zn.createElement(V.G,{icon:z.Mdf,style:{width:"20px",height:"30px"}}),style:{height:"30px"},clicked:function(){return ze(!0)}}),je&&zn.createElement(f.zx,{loadingIn:Fe,light:!0,icon:zn.createElement("img",{src:Oe.Fd}),style:{height:"30px"},clicked:function(){return Ye()}}),je&&zn.createElement(f.zx,{light:!0,style:{height:"30px"},title:"Remove",clicked:function(){return Je()}}),zn.createElement("div",{className:un,onClick:function(){qe((function(e){return!e}))}},zn.createElement(Oe.Kn,{style:{transform:je?"rotate(180deg)":"rotate(0deg)"}})))),(null===(b=we.title)||void 0===b?void 0:b.length)>0&&zn.createElement("span",{className:On},we.title))),Ve&&zn.createElement(f.U7,{hasCloseIcon:!0,onClose:function(){return ze(!1)},scrollable:!0,shadowedContainerStyle:{minWidth:"500px",width:"100%"},isOpen:Ve,blured:!0},zn.createElement("div",{style:{backgroundColor:"rgb(246, 244, 236)",width:"inherit"}},zn.createElement("div",{className:Dn,style:{display:"flex",margin:"150px 50px 50px 50px"}},zn.createElement("div",{className:An,style:{margin:"30px 0 0 0"}},zn.createElement(Vn.g,{component:be,selectedComponent:{id:"",name:""},isDraft:!0,setTaskProcessContext:function(){},processTaskContext:{components:[],newStepComponents:[]}}))))),je&&zn.createElement("div",{style:{flex:1,width:"100%"}},zn.createElement(f.jL,{ref:ve,ungrouped:!0,title:"Drag to arrange Component Fields:",columned:!0,withAckButton:!1},zn.createElement("br",null),zn.createElement(Wn.z0,null,zn.createElement(Wn.iA,{columns:Qe,data:Xe,onhandleDragEnd:function(e){e.map((function(e,t){he({type:c.Cb.updateComponentFieldIndexKeyValue,value:{compBluePrintUUID:e.component.props.compUUID,compBluePrintId:e.component.props.compId,fieldId:e.component.props.fieldId,index:t}})})),Ge(e)}}))),zn.createElement(f.pd,{id:"moduleList",title:"Use as Transactions List",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ge&&void 0!==ge&&null!==(E=ge.selectedStep)&&void 0!==E&&null!==(_=E.options)&&void 0!==_&&_.templateName||1!=(null===ge||void 0===ge||null===(Z=ge.selectedStep)||void 0===Z?void 0:Z.rank)||1==(null===be||void 0===be||null===(w=be.options)||void 0===w?void 0:w.asDashboard)||1==(null===be||void 0===be||null===(N=be.options)||void 0===N?void 0:N.asReport)?"none":""},value:null!==(L=null===be||void 0===be||null===(I=be.options)||void 0===I?void 0:I.asModuleList)&&void 0!==L&&L,toggleSelected:function(e){Ee((0,l.Z)((0,l.Z)({},be),{},{options:(0,l.Z)((0,l.Z)({},null===be||void 0===be?void 0:be.options),{},{asReport:!1,asDashboard:!1,asModuleList:e})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ie,compBluePrintId:be.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===be||void 0===be?void 0:be.options),{},{asReport:!1,asDashboard:!1,asModuleList:e})}})}}),zn.createElement(f.pd,{id:"asReport",title:"Use as a report?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ge&&void 0!==ge&&null!==(x=ge.selectedStep)&&void 0!==x&&null!==(M=x.options)&&void 0!==M&&M.templateName||1!=(null===ge||void 0===ge||null===(O=ge.selectedStep)||void 0===O?void 0:O.rank)||1==(null===be||void 0===be||null===(k=be.options)||void 0===k?void 0:k.asModuleList)||1==(null===be||void 0===be||null===(T=be.options)||void 0===T?void 0:T.asDashboard)?"none":""},value:null!==(P=null===be||void 0===be||null===(B=be.options)||void 0===B?void 0:B.asReport)&&void 0!==P&&P,toggleSelected:function(e){Ee((0,l.Z)((0,l.Z)({},be),{},{options:(0,l.Z)((0,l.Z)({},null===be||void 0===be?void 0:be.options),{},{asModuleList:!1,asDashboard:!1,asReport:e})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ie,compBluePrintId:be.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===be||void 0===be?void 0:be.options),{},{asModuleList:!1,asDashboard:!1,asReport:e})}})}}),zn.createElement(f.pd,{id:"asDashboard",title:"View as dashboard?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ge&&void 0!==ge&&null!==(F=ge.selectedStep)&&void 0!==F&&null!==(D=F.options)&&void 0!==D&&D.templateName||1!=(null===ge||void 0===ge||null===(A=ge.selectedStep)||void 0===A?void 0:A.rank)||1==(null===be||void 0===be||null===(W=be.options)||void 0===W?void 0:W.asModuleList)||1==(null===be||void 0===be||null===(R=be.options)||void 0===R?void 0:R.asReport)?"none":""},value:null!==(U=null===be||void 0===be||null===(j=be.options)||void 0===j?void 0:j.asDashboard)&&void 0!==U&&U,toggleSelected:function(e){Ee((0,l.Z)((0,l.Z)({},be),{},{options:(0,l.Z)((0,l.Z)({},null===be||void 0===be?void 0:be.options),{},{asReport:!1,asModuleList:!1,asDashboard:e})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ie,compBluePrintId:be.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===be||void 0===be?void 0:be.options),{},{asReport:!1,asModuleList:!1,asDashboard:e})}})}}),zn.createElement(f.pd,{id:"multipleInputs",title:"Allow multiple inputs?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ge&&void 0!==ge&&null!==(q=ge.selectedStep)&&void 0!==q&&null!==(H=q.options)&&void 0!==H&&H.templateName||1==(null===be||void 0===be||null===(K=be.options)||void 0===K?void 0:K.asModuleList)||1==(null===be||void 0===be||null===(X=be.options)||void 0===X?void 0:X.asReport)||1==(null===be||void 0===be||null===(G=be.options)||void 0===G?void 0:G.asDashboard)?"none":be.selected_fields.filter((function(e){var t;return null===(t=e.options)||void 0===t?void 0:t.mapToItem})).length>0&&be.selected_fields.find((function(e){return"Transaction List"===e.data_type_name}))?"":"none"},value:null!==(Y=null===be||void 0===be||null===(J=be.options)||void 0===J?void 0:J.allowMultipleInputs)&&void 0!==Y&&Y,toggleSelected:function(e){Ee((0,l.Z)((0,l.Z)({},be),{},{options:(0,l.Z)((0,l.Z)({},null===be||void 0===be?void 0:be.options),{},{allowMultipleInputs:e})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ie,compBluePrintId:be.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===be||void 0===be?void 0:be.options),{},{allowMultipleInputs:e})}})}}),zn.createElement(f.pd,{id:"showAll",title:"Show component to all?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ge&&void 0!==ge&&null!==(Q=ge.selectedStep)&&void 0!==Q&&null!==($=Q.options)&&void 0!==$&&$.templateName?"none":""},value:!ke,toggleSelected:function(e){Te(!e)}}),zn.createElement(f.jL,{style:{display:null!==ge&&void 0!==ge&&null!==(ee=ge.selectedStep)&&void 0!==ee&&null!==(te=ee.options)&&void 0!==te&&te.templateName?"none":ke?"":"none"},ref:ve,ungrouped:!0,title:"Only show this component to:",columned:!0,withAckButton:!1},zn.createElement("br",null),zn.createElement(se.Cm,{tagEmplacement:"inlined",searchable:!1,items:re,groupedBy:"department",groupname:"department",triggerType:"chevron",initialSelectedValues:null===be||void 0===be||null===(ne=be.options)||void 0===ne||null===(le=ne.showOnly)||void 0===le?void 0:le.map((function(e){return re.find((function(t){return t.value===e}))})),className:Tn,inputClassName:Pn,molclassname:Bn,moliclassname:Fn,onChange:function(e){Ee((0,l.Z)((0,l.Z)({},be),{},{options:(0,l.Z)((0,l.Z)({},null===be||void 0===be?void 0:be.options),{},{showOnly:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ie,compBluePrintId:be.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===be||void 0===be?void 0:be.options),{},{showOnly:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))})}})}}))))}),(function(e,t){return t.props===e.props})),qn=(0,i.memo)((function(e){var t,n,l,o,r,d,u,s,m,p,v,f=e.fieldId,y=e.compId,g=e.compUUID,h=e.componentTitle,C=e.isKeyClicked,S=(e.isKey,e.component,e.isLeftClicked),b=(e.isLeft,(0,c._M)()),E=(0,a.Z)(b,2),_=E[0],Z=E[1],w=(0,i.useState)(!1),N=(0,a.Z)(w,2),L=N[0],I=N[1],x=(0,i.useCallback)((function(){var e,t,n,l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Rn.find(Rn.propEq("_uuid",e))(t)}(g,null!==(e=null===_||void 0===_||null===(t=_.selectedStep)||void 0===t?void 0:t.component_blueprints)&&void 0!==e?e:[]);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Rn.find(Rn.propEq("id",e))(t)}(f,null!==(n=null===l||void 0===l?void 0:l.selected_fields)&&void 0!==n?n:[])}),[y,f,null===_||void 0===_||null===(t=_.selectedStep)||void 0===t?void 0:t.component_blueprints]),M=function(e){return I(e)},O=(0,i.useState)(x()),k=(0,a.Z)(O,2),T=k[0],P=k[1];(0,i.useEffect)((function(){P(x())}),[x,_.selectedStep.component_blueprints]);var B=(0,i.useCallback)((function(){var e,t;M(!1),(null===(e=null!==(t=null===h||void 0===h?void 0:h.split(", "))&&void 0!==t?t:[])||void 0===e?void 0:e.some((function(e){return(null===e||void 0===e?void 0:e.toLowerCase())==(null===T||void 0===T?void 0:T.field_name.toLowerCase())})))&&M(!0)}),[h,null===T||void 0===T?void 0:T.field_name]);(0,i.useEffect)((function(){B()}),[]),(0,i.useEffect)((function(){var e,t;M(!1),(null===(e=null!==(t=null===h||void 0===h?void 0:h.split(", "))&&void 0!==t?t:[])||void 0===e?void 0:e.some((function(e){return(null===e||void 0===e?void 0:e.toLowerCase())==(null===T||void 0===T?void 0:T.field_name.toLowerCase())})))&&M(!0)}),[y,h,B,null===T||void 0===T?void 0:T.field_name,null===_||void 0===_||null===(n=_.selectedStep)||void 0===n?void 0:n.component_blueprints]);var F=(0,i.useCallback)((function(e){!L&&(null===y||void 0===y?void 0:y.length)>0&&Z({type:c.Cb.updateComponentFieldKeyValue,value:{compBluePrintUUID:g,compBluePrintId:y,isInherited:!1,fieldId:f,visible:e,index:null===T||void 0===T?void 0:T.index,mandatory:0!=e&&("output"!==T.data_type&&(null===T||void 0===T?void 0:T.mandatory))}})}),[y,g,null===T||void 0===T?void 0:T.mandatory,f,L,Z,null===T||void 0===T?void 0:T.index]),D=(0,i.useCallback)((function(e){!L&&(null===y||void 0===y?void 0:y.length)>0&&Z({type:c.Cb.updateComponentFieldKeyValue,value:{compBluePrintUUID:g,compBluePrintId:y,isInherited:!1,fieldId:f,mandatory:"output"!==T.data_type&&e,index:null===T||void 0===T?void 0:T.index,visible:1==e||(null===T||void 0===T?void 0:T.visible)}})}),[y,g,null===T||void 0===T?void 0:T.visible,f,L,Z,null===T||void 0===T?void 0:T.index]);return zn.createElement("div",{className:sn,"app-variant":L?"read-only":"editable","app-color":null!==T&&void 0!==T&&T.visible?"active":"inactive",tabIndex:"0"},zn.createElement("div",{className:cn},zn.createElement("p",{className:mn},null===T||void 0===T?void 0:T.field_name),zn.createElement("p",{className:pn},(null===T||void 0===T?void 0:T.mandatory)&&"*")),zn.createElement("p",{className:Sn},T.data_type_name),zn.createElement("span",{className:vn},zn.createElement("div",{className:fn,onClick:function(){D(!(null!==T&&void 0!==T&&T.mandatory))}},"output"!==T.data_type&&"ID"!==T.data_type_name&&zn.createElement("span",{className:yn},null!==T&&void 0!==T&&T.mandatory?zn.createElement(Oe.H_,{className:gn}):zn.createElement("div",{className:hn})),"output"!==T.data_type&&"ID"!==T.data_type_name&&zn.createElement("p",{className:Cn},L?"":"Required")),"output"!==T.data_type&&"ID"!==T.data_type_name&&zn.createElement(V.G,{icon:z.DD4,style:{marginRight:"5px",color:(null===_||void 0===_||null===(l=_.selectedStep)||void 0===l||null===(o=l.component_blueprints)||void 0===o||null===(r=o.find((function(e){return e.id===y})))||void 0===r||null===(d=r.options)||void 0===d?void 0:d.key)===(null===T||void 0===T?void 0:T.field_name)?"lightgray":"black"},onClick:C}),zn.createElement(V.G,{icon:z.AiD,style:{marginRight:"5px",color:null!==_&&void 0!==_&&null!==(u=_.selectedStep)&&void 0!==u&&null!==(s=u.component_blueprints)&&void 0!==s&&null!==(m=s.find((function(e){return e.id===y})))&&void 0!==m&&null!==(p=m.options)&&void 0!==p&&null!==(v=p.left)&&void 0!==v&&v.find((function(e){return e===(null===T||void 0===T?void 0:T.field_name)}))?"black":"lightgray"},onClick:S}),zn.createElement("div",{className:bn,onClick:function(){F(!(null!==T&&void 0!==T&&T.visible))}},void 0==(null===T||void 0===T?void 0:T.visible)||null!==T&&void 0!==T&&T.visible?zn.createElement(Oe.Ch,null):zn.createElement(Oe.vV,null))))})),Hn=function(e){var t,n=e.onComponentSelect,l=e.blueprint_components,o=(0,i.useState)(l),r=(0,a.Z)(o,1)[0],d=(0,i.useState)(!0),u=(0,a.Z)(d,2),s=u[0],c=u[1],m=(0,i.useState)({}),p=(0,a.Z)(m,2),f=p[0],y=p[1];return zn.createElement("div",{className:Ln},s?zn.createElement("div",{className:In,"app-display-variant":s?"table-row":"none"},zn.createElement("div",{className:xn},zn.createElement(se.yV,{placeholder:"Select component to attach ...",items:r.map((function(e){return{value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.name,type:!0===(null===e||void 0===e?void 0:e.readonly)?"Template":(0,v.m)(null===e||void 0===e?void 0:e.name)}})),id:"select-step-new-blueprint-component",initialSelectedValues:[],groupedBy:"type",groupname:"type",inputStyle:{cursor:"pointer"},className:kn,inputClassName:Pn,molclassname:Bn,moliclassname:Fn,onChange:function(e){(null===e||void 0===e?void 0:e.length)>0?y(e[0]):y({value:"",label:""})}},zn.createElement(V.G,{className:"fa-icon",icon:z.ptq,style:{marginRight:"20px",color:"gray"}})),(null===f||void 0===f||null===(t=f.value)||void 0===t?void 0:t.length)>0&&zn.createElement("button",{type:"button",className:Mn},zn.createElement(Oe.H_,{onClick:function(){n(f),c((function(e){return!e}))}})))):zn.createElement("p",{style:{textAlign:"center",marginBottom:"auto",color:"var(--app-color-gray-light)",fontFamily:"var(--app-text-main-font)",fontSize:"16px",marginTop:"20px",lineHeight:"32px"}},"Finish adding your previous component to add another."))},Kn=n(64468),Xn="StepData_multiselectWithSearch__FVnWX",Gn="StepData_smoMultiselectParent__kAn4t",Yn="StepData_selectMenuItem__i040a",Jn="StepData_inputClassName__U3j-5",Qn="StepData_peoplePositionsSelect__FZEAk",$n="StepData_peoplePositionsSelectInput__4N5AT",el="StepData_peoplePositionsSelectMenuOverlay__VU2s4",tl="StepData_peoplePositionsSelectMenuOverlayItem__xI2Zj",nl=(0,i.createRef)(null),ll={parentSteps:{id:"parentStep",title:"Parent Step",placeholder:"Select steps here...",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},stepName:{id:"stepName",title:"Step Name",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},guidance:{id:"guidance",title:"Description",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},rank:{id:"rank",title:"Rank",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},newComponents:{id:"newComponents",title:"Components to be used in this step",defaultHighlighted:!0,readOnly:!0,otherContent:!0,withAckButton:!1,useContext:c.QJ},pathwayOptions:{id:"pathwayOptions",title:"Branch to the following steps",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},isFinalStep:{id:"isFinalStep",title:"Is this the final step of this workflow?",ungrouped:!0,withAckButton:!1,useContext:c.QJ},stepTemplate:{id:"stepTemplate",title:"Custom Template",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},showStepAll:{id:"showStep",title:"Show step to all?",ungrouped:!0,withAckButton:!1,useContext:c.QJ},showStepAuthor:{id:"showStepAuthor",title:"Only show step to author?",ungrouped:!0,withAckButton:!1,useContext:c.QJ},showAsTabbed:{id:"showAsTabbed",title:"Use tabs for components?",ungrouped:!0,withAckButton:!1,useContext:c.QJ},deleteOnBack:{id:"deleteOnBack",title:"Delete step inputs made on back?",ungrouped:!0,withAckButton:!1,useContext:c.QJ}},ol=n(74369),al=n(32086),il=n(67861),rl=["percentualWidth","children","style"],dl=function(e){var t=e.percentualWidth,n=e.children,o=e.style,a=(0,Kt.Z)(e,rl);return il.createElement("div",(0,Xt.Z)({style:(0,l.Z)({width:t},o)},a),n)},ul=(0,r.$j)((function(e){var t=e.flowReducer;return{blueprints:t.blueprints,allStatutes:t.allStatutes,selectedProcess:t.selectedProcess,selectedProStep:t.selectedProStep,companyData:t.companyData,companyPositionsArray:t.companyPositionsArray}}),(function(e){return{onSetSelectedProStep:function(t){return e((0,m.Sc)(t))},onSetSelectedProStepOptions:function(t){return e((0,m.Jk)(t))}}}))((function(e){var t,n,r,u,s,m,y,g,h,C,S,b,E,_,Z,w,N,L,I,x,M,O,k,T,P,B,F,D,A,W,V,z,R,U,j,q,H,K,X,G,Y,J,Q=e.onSetSelectedProStep,$=e.selectedProcess,ee=e.companyPositionsArray,te=e.blueprints,ne=(e.companyData,e.onEditChange),le=void 0===ne?function(){}:ne,oe=(0,c._M)(),ae=(0,a.Z)(oe,2),ie=ae[0],re=ae[1],de=(0,i.useState)([]),ue=(0,a.Z)(de,2),ce=ue[0],me=ue[1],pe=(0,i.useState)(!1),ve=(0,a.Z)(pe,2),fe=ve[0],ye=ve[1],ge=(0,i.useState)([]),he=(0,a.Z)(ge,2),Ce=(he[0],he[1]),Se=(0,i.useState)(!1),be=(0,a.Z)(Se,2),Ee=(be[0],be[1]),_e=(0,i.useState)([]),Ze=(0,a.Z)(_e,2),we=(Ze[0],Ze[1]),Ne=(0,i.useState)(null!==(t=null===(n=ie.selectedStep)||void 0===n||null===(r=n.options)||void 0===r?void 0:r.useCustomTemplate)&&void 0!==t&&t),Le=(0,a.Z)(Ne,2),Ie=Le[0],xe=(Le[1],(0,i.useState)({parentSteps:"",stepName:"",estimatedTime:"",guidance:"",inheritedComponents:"",newComponents:"",pathwayOptions:""})),Me=(0,a.Z)(xe,2),ke=Me[0],Te=Me[1],Pe=(0,v.DJ)();(0,i.useEffect)((function(){var e,t;0==(null===(e=ie.selectedStep)||void 0===e||null===(t=e.options)||void 0===t?void 0:t.is_start_next_process)&&re({type:c.Cb.updateSelectedStepPathways,value:(0,o.Z)(ie.selectedStep.pathway_steps)})}),[null===(u=ie.selectedStep)||void 0===u||null===(s=u.options)||void 0===s?void 0:s.is_start_next_process]),(0,i.useEffect)((function(){Fe()}),[ie.selectedStep]),(0,i.useEffect)((function(){ye(!0),(0,p.hI)({processId:$.id,parentsOnly:1}).pipe((0,d.P)()).subscribe({next:function(e){var t,n;(null===e||void 0===e?void 0:e.length)>0?Pe()&&me((0,o.Z)(Pt.Z(ol.Z((function(e,t){return e.concat({rank:t.rank,label:t.name,value:t.id})}),[]),al.Z(Rt.Z("id",null===(n=ie.selectedStep)||void 0===n?void 0:n.id)))(e))):null!==(t=ie.selectedStep)&&void 0!==t&&t.isNewStep&&!zt.Z(Rt.Z("is_start",!0))(null===ie||void 0===ie?void 0:ie.steps)&&Pe()&&me([]);Pe()&&ye(!1),Pe()&&Be()},error:function(e){Pe()&&ye(!1)}})}),[]);var Be=function(){var e,t,n;"newDefaultStep"!==(null===(e=ie.selectedStep)||void 0===e?void 0:e.id)&&""!==(null===ie||void 0===ie||null===(t=ie.selectedStep)||void 0===t?void 0:t.id)&&(Ee(!0),(0,p.hI)({processId:$.id,pathways:1,forStepId:null===(n=ie.selectedStep)||void 0===n?void 0:n.id}).pipe((0,d.P)()).subscribe({next:function(e){if(e)try{var t,n,l,a,i,r,d=al.Z(Rt.Z("id",null===ie||void 0===ie||null===(t=ie.selectedStep)||void 0===t?void 0:t.id),null!==(n=null===e||void 0===e?void 0:e.steps)&&void 0!==n?n:[]),u=null!==(l=al.Z(Rt.Z("id",$.id),null!==(a=e.processes)&&void 0!==a?a:[]))&&void 0!==l?l:[],s=[].concat((0,o.Z)(null!==(i=null===d||void 0===d?void 0:d.map((function(e){return{value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.name,rank:null===e||void 0===e?void 0:e.rank,icon:Oe.CH,type:"step"}})))&&void 0!==i?i:[]),(0,o.Z)(null!==(r=null===u||void 0===u?void 0:u.map((function(e){return{value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.name,icon:Oe.IR,type:"process"}})))&&void 0!==r?r:[]));s&&(Ee(!1),Ce(s),Ee(!1)),we([].concat((0,o.Z)(d),(0,o.Z)(u)))}catch(c){Ee(!1)}else me([]),Ee(!1)},error:function(e){Ee(!1)}}))},Fe=(0,i.useCallback)((function(){}),[ie.steps,ie.selectedStep]),De=(0,o.Z)(ol.Z((function(e,t){return e.concat({value:t.id,label:t.name})}),[])(null!==(m=null===ie||void 0===ie||null===(y=ie.selectedStep)||void 0===y?void 0:y.parent_steps)&&void 0!==m?m:[])),Ae=null===ie||void 0===ie||null===(g=ie.selectedStep)||void 0===g||null===(h=g.pathway_processes)||void 0===h?void 0:h.concat(null===ie||void 0===ie||null===(C=ie.selectedStep)||void 0===C?void 0:C.pathway_steps),We=((null===Ae||void 0===Ae?void 0:Ae.length)>0&&(null===(S=qt.Z(Ae))||void 0===S||S.map((function(e){return null===e||void 0===e?void 0:e.name})).join(", ")),(0,i.useCallback)((function(){var e,t,n,o,a,i,r,d,u,s,c,m,p,v,f,y,g,h,C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",S={parentSteps:"Step must be connected to at least one other step",stepName:"Step name is mandatory",guidance:"Short description of step is mandatory",inheritedComponents:"Some inherited component have missing required information",newComponents:"Some new component have missing required informations",pathwayOptions:"Error inside Pathway Options"},b=(0,l.Z)({},ke);if(C)switch(C){case"stepName":b.stepName="string"==typeof(null===ie||void 0===ie||null===(e=ie.selectedStep)||void 0===e?void 0:e.name)&&(null===ie||void 0===ie||null===(t=ie.selectedStep)||void 0===t||null===(n=t.name)||void 0===n?void 0:n.length)>0?"":S.stepName;break;case"guidance":b.guidance="string"==typeof(null===ie||void 0===ie||null===(o=ie.selectedStep)||void 0===o?void 0:o.guidance)&&(null===ie||void 0===ie||null===(a=ie.selectedStep)||void 0===a||null===(i=a.guidance)||void 0===i?void 0:i.length)>0?"":S.guidance;break;case"newComponents":var E,_,Z,w,N;b.newComponents=Array.isArray(null===ie||void 0===ie||null===(E=ie.selectedStep)||void 0===E?void 0:E.component_blueprints)?S.newComponents:"";var L=null===ie||void 0===ie||null===(_=ie.selectedStep)||void 0===_||null===(Z=_.component_blueprints)||void 0===Z?void 0:Z.find((function(e){var t;return!(null!==e&&void 0!==e&&e.status)||""==(null===e||void 0===e?void 0:e.status)||""==(null===e||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id)}));L&&(b.newComponents="Invalid status in new blueprints components");var I=null===ie||void 0===ie||null===(w=ie.selectedStep)||void 0===w||null===(N=w.component_blueprints)||void 0===N?void 0:N.find((function(e){return!(null!==e&&void 0!==e&&e.title)||""==(null===e||void 0===e?void 0:e.title)}));I&&(b.newComponents+="\nInvalid title in new blueprints components");break;case"pathwayOptions":b.pathwayOptions=Array.isArray(null===ie||void 0===ie||null===(r=ie.selectedStep)||void 0===r?void 0:r.pathway_steps)&&Array.isArray(null===ie||void 0===ie||null===(d=ie.selectedStep)||void 0===d?void 0:d.pathway_processes)?"":S.pathwayOptions;break;default:b.stepName="string"==typeof(null===ie||void 0===ie||null===(u=ie.selectedStep)||void 0===u?void 0:u.name)&&(null===ie||void 0===ie||null===(s=ie.selectedStep)||void 0===s||null===(c=s.name)||void 0===c?void 0:c.length)>0?"":S.stepName,b.guidance="string"==typeof(null===ie||void 0===ie||null===(m=ie.selectedStep)||void 0===m?void 0:m.guidance)&&(null===ie||void 0===ie||null===(p=ie.selectedStep)||void 0===p||null===(v=p.guidance)||void 0===v?void 0:v.length)>0?"":S.guidance,b.inheritedComponents=Array.isArray(null===ie||void 0===ie||null===(f=ie.selectedStep)||void 0===f?void 0:f.component_blueprints)?"":S.inheritedComponents,b.newComponents=Array.isArray(null===ie||void 0===ie||null===(y=ie.selectedStep)||void 0===y?void 0:y.component_blueprints)?"":S.newComponents,b.pathwayOptions=Array.isArray(null===ie||void 0===ie||null===(g=ie.selectedStep)||void 0===g?void 0:g.pathway_steps)&&Array.isArray(null===ie||void 0===ie||null===(h=ie.selectedStep)||void 0===h?void 0:h.pathway_processes)?"":S.pathwayOptions}return Te(b),b}),[null===ie||void 0===ie?void 0:ie.selectedStep,ke])),Ve=!zt.Z(Rt.Z("is_start",!0))(al.Z(Rt.Z("id",ie.selectedStep.id),null===ie||void 0===ie?void 0:ie.steps))||1==(null===ie||void 0===ie||null===(b=ie.selectedStep)||void 0===b?void 0:b.is_start);return il.createElement("div",null,il.createElement(dl,{percentualWidth:"100%",style:{marginBottom:"10px"}},il.createElement(f.Lb,{title:"Step Name"}),il.createElement(f.n2,(0,Xt.Z)({},ll.stepName,{title:"",value:null===(E=ie.selectedStep)||void 0===E?void 0:E.name,sectionError:ke.stepName,onOpenChanged:function(e){!e&&We("stepName")}}),il.createElement(f.WH,{onControlTouched:function(){},placeholder:"Insert step name...",text:null===(_=ie.selectedStep)||void 0===_?void 0:_.name,onTextChanged:function(e){re({type:c.Cb.updateSelectedStepKeyValue,value:{name:e}}),Q({name:e})}}))),il.createElement(dl,{percentualWidth:"100%"},il.createElement(f.Lb,{title:"Description"}),il.createElement(f.n2,(0,Xt.Z)({},ll.guidance,{title:"",value:null===(Z=ie.selectedStep)||void 0===Z?void 0:Z.guidance,sectionError:ke.guidance}),il.createElement(f.WH,{plcHoffset:"0px",text:null===(w=ie.selectedStep)||void 0===w?void 0:w.guidance,placeholder:"Add description for step here...",onTextChanged:function(e){re({type:c.Cb.updateSelectedStepKeyValue,value:{guidance:e}}),Q({guidance:e})}}))),il.createElement(dl,{percentualWidth:"100%",style:{display:1==Ve?"none":""}},il.createElement(f.Lb,{title:"Connect Step To"}),il.createElement(f.n2,(0,Xt.Z)({},ll.parentSteps,{title:"",readOnly:Ve,value:(null===(N=ie.selectedStep)||void 0===N||null===(L=N.parent_steps)||void 0===L?void 0:L.length)>0?ol.Z((function(e,t){return e.concat(t.name)}),[])(qt.Z(null===(I=ie.selectedStep)||void 0===I?void 0:I.parent_steps)).map((function(e,t){return il.createElement(Kn.Vp,{key:"tag"+t},e)})):Ve?il.createElement(Kn.Vp,null,"Start of Workflow"):null,sectionError:ke.parentSteps,onOpenChanged:function(e){!e&&!Ve&&We("parentSteps")}}),fe&&il.createElement("span",{style:{display:"flex",width:"100%",justifyContent:"center",alignItems:"center"}},il.createElement(f.$j,{size:30,type:"ThreeDots"})),(null===ce||void 0===ce?void 0:ce.length)>0&&!Ve&&il.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"X",tagType:"step-plated",tagEmplacement:"inlined",triggerType:"eyeglass",initialSelectedItems:De,placeholder:"Search steps here...",className:Xn,inputClassName:Jn,molclassname:Gn,moliclassname:Yn,menuOverlayListItemStyle:{padding:"10px",maxWidth:"100%"},onChange:function(e){re({type:c.Cb.updateSelectedStepParentSteps,value:(0,o.Z)(ol.Z((function(e,t){return e.concat({rank:t.rank,name:t.label,id:t.value})}),[])(e))}),setTimeout(Fe(),0)},items:ce}),0!=(null===ce||void 0===ce?void 0:ce.length)||fe||1!=(null===ie||void 0===ie?void 0:ie.selectedStep.isNewStep)?null:il.createElement(Kn.Vp,{tagType:"step-plated"},"Start of Workflow"))),il.createElement(dl,{percentualWidth:"100%",style:{marginTop:"20px"}},il.createElement(f.Lb,{title:ll.newComponents.title}),il.createElement(Un,{onEditChange:function(e,t){return le(e,t)},showAddButton:!Ie,selectedProcess:$,blueprints:te,companyPositionsArray:ee})),il.createElement(dl,{percentualWidth:"100%",style:{marginTop:"20px"}},il.createElement(f.pd,(0,Xt.Z)({},ll.showAsTabbed,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null!==(x=null===(M=ie.selectedStep)||void 0===M||null===(O=M.options)||void 0===O?void 0:O.tabbed)&&void 0!==x&&x,toggleSelected:function(e){var t,n;re({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,l.Z)((0,l.Z)({},null===(t=ie.selectedStep)||void 0===t?void 0:t.options),{},{tabbed:e})}}),Q({options:(0,l.Z)((0,l.Z)({},null===(n=ie.selectedStep)||void 0===n?void 0:n.options),{},{tabbed:e})})}}))),il.createElement(dl,{percentualWidth:"100%",style:{marginTop:"20px",display:1==(null===(k=ie.selectedStep)||void 0===k?void 0:k.is_end)||1==(null===(T=ie.selectedStep)||void 0===T?void 0:T.is_start)?"none":""}},il.createElement(f.pd,(0,Xt.Z)({},ll.deleteOnBack,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null!==(P=null===(B=ie.selectedStep)||void 0===B||null===(F=B.options)||void 0===F?void 0:F.deleteOnBack)&&void 0!==P&&P,toggleSelected:function(e){var t,n;re({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,l.Z)((0,l.Z)({},null===(t=ie.selectedStep)||void 0===t?void 0:t.options),{},{deleteOnBack:e})}}),Q({options:(0,l.Z)((0,l.Z)({},null===(n=ie.selectedStep)||void 0===n?void 0:n.options),{},{deleteOnBack:e})})}}))),il.createElement(dl,{percentualWidth:"100%",style:{marginTop:"20px",display:1==(null===(D=ie.selectedStep)||void 0===D?void 0:D.is_end)?"none":""}},il.createElement(f.pd,(0,Xt.Z)({},ll.showStepAll,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null===(A=null===(W=ie.selectedStep)||void 0===W||null===(V=W.options)||void 0===V?void 0:V.showStepAll)||void 0===A||A,toggleSelected:function(e){var t,n;re({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,l.Z)((0,l.Z)({},null===(t=ie.selectedStep)||void 0===t?void 0:t.options),{},{showOnly:[],showStepAll:e})}}),Q({options:(0,l.Z)((0,l.Z)({},null===(n=ie.selectedStep)||void 0===n?void 0:n.options),{},{showOnly:[],showStepAll:e})})}}))),il.createElement(dl,{percentualWidth:"100%",style:{marginTop:"20px",display:0==(null===(z=ie.selectedStep)||void 0===z||null===(R=z.options)||void 0===R?void 0:R.showStepAll)?"":"none"}},il.createElement(f.pd,(0,Xt.Z)({},ll.showStepAuthor,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null!==(U=null===(j=ie.selectedStep)||void 0===j||null===(q=j.options)||void 0===q?void 0:q.showStepAuthor)&&void 0!==U&&U,toggleSelected:function(e){var t,n;re({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,l.Z)((0,l.Z)({},null===(t=ie.selectedStep)||void 0===t?void 0:t.options),{},{showOnly:[],showStepAuthor:e})}}),Q({options:(0,l.Z)((0,l.Z)({},null===(n=ie.selectedStep)||void 0===n?void 0:n.options),{},{showOnly:[],showStepAuthor:e})})}}))),il.createElement(f.jL,{style:{display:0==(null===(H=ie.selectedStep)||void 0===H||null===(K=H.options)||void 0===K?void 0:K.showStepAll)?"":"none",paddingLeft:"10px"},ungrouped:!0,title:"Only show this step to:",columned:!0,withAckButton:!1},il.createElement("br",null),il.createElement(se.Cm,{tagEmplacement:"inlined",searchable:!1,items:ee,groupedBy:"department",groupname:"department",triggerType:"chevron",initialSelectedValues:null===(X=ie.selectedStep)||void 0===X||null===(G=X.options)||void 0===G||null===(Y=G.showOnly)||void 0===Y?void 0:Y.map((function(e){return ee.find((function(t){return t.value===e}))})),className:Qn,inputClassName:$n,molclassname:el,moliclassname:tl,onChange:function(e){var t,n;re({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,l.Z)((0,l.Z)({},null===(t=ie.selectedStep)||void 0===t?void 0:t.options),{},{showStepAuthor:!1,showOnly:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))})}}),Q({options:(0,l.Z)((0,l.Z)({},null===(n=ie.selectedStep)||void 0===n?void 0:n.options),{},{showStepAuthor:!1,showOnly:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))})})}})),il.createElement(f.pd,(0,Xt.Z)({},ll.isFinalStep,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null===(J=ie.selectedStep)||void 0===J?void 0:J.is_end,toggleSelected:function(e){var t,n;1==e?(Q({child_steps:[]}),re({type:c.Cb.updateSelectedStepKeyValue,value:{is_end:e,options:(0,l.Z)((0,l.Z)({},null===(t=ie.selectedStep)||void 0===t?void 0:t.options),{},{showOnly:[],showStepAll:!0})}}),Q({is_end:e,options:(0,l.Z)((0,l.Z)({},null===(n=ie.selectedStep)||void 0===n?void 0:n.options),{},{showOnly:[],showStepAll:!0})})):(re({type:c.Cb.updateSelectedStepKeyValue,value:{is_end:e}}),Q({is_end:e}))}})))})),sl="StepModal_host__e9qAE",cl="StepModal_titleContainer__rQtrC",ml="StepModal_contentContainer__ySA3D",pl="StepModal_saveButtonContainer__ysY+S",vl="StepModal_controls2__7XszY",fl=(n(55859),n(67861)),yl=(0,i.memo)((function(e){var t,n,r,u,s,y,g,h,C,S,b,E,_,Z,w,N,L,I,x,M=(0,i.useState)(""),O=(0,a.Z)(M,2),T=O[0],B=(O[1],e.visible),F=e.onClose,D=e.onSave,A=e.selectedProcess,W=e.companyProcesses,V=e.shadowedContainerStyle,z=void 0===V?{minWidth:"500px",width:""===T?"34%":"90%"}:V,U=e.onBoardingCompleted,j=e.onEditChange,q=void 0===j?function(){}:j,H=(0,c._M)(),K=(0,a.Z)(H,2),X=K[0],G=K[1],Y=(0,i.useState)(X.selectedStep),J=(0,a.Z)(Y,1)[0],Q=(0,c.QJ)(),$=(0,a.Z)(Q,2)[1],ee=(0,i.useState)(!1),te=(0,a.Z)(ee,2),ne=te[0],le=te[1],oe=(0,i.useState)(!1),ae=(0,a.Z)(oe,2),ie=ae[0],re=ae[1],ue=(0,i.useState)(""),se=(0,a.Z)(ue,2),ce=se[0],me=se[1],pe=e.onBoardingModalsVisibility,ve=(e.isOnboarding,pe.eightModalVisible),fe=pe.tenthModalVisible,ye=(0,i.useCallback)((function(e){G({type:c.Cb.unsetSelectedStep}),F&&F(e)}),[F,G]),ge=(0,i.useCallback)((function(e,t){return $({open:!0,activeElement:e,errors:(0,kt.Z)({},e,t)})}),[$]),he=(0,i.useCallback)((function(e){var t,n,l,o,a,i=!0,r=[];0==e.is_start&&0==(null===e||void 0===e||null===(t=e.parent_steps)||void 0===t?void 0:t.length)&&(i=!1,r.push((0,kt.Z)({},null===ll||void 0===ll||null===(o=ll.parent_steps)||void 0===o?void 0:o.id,"Invalid parent(s)")),ge(null===ll||void 0===ll||null===(a=ll.parentSteps)||void 0===a?void 0:a.id,"Invalid parent(s)"));return 1==e.is_start&&(null===(n=e.parent_steps)||void 0===n?void 0:n.length)>0&&(i=!1,r.push((0,kt.Z)({},ll.parentSteps.id,"Invalid parent(s)")),ge(ll.parentSteps.id,"Invalid parent(s)")),(null===(l=e.name)||void 0===l?void 0:l.length)<1&&(i=!1,r.push((0,kt.Z)({},ll.stepName.id,"Invalid name")),ge(ll.stepName.id)),i}),[null===X||void 0===X||null===(t=X.selectedStep)||void 0===t?void 0:t.component_blueprints,ge]),Ce=(0,i.useCallback)((function(){re(!0),(0,p.hI)({processId:null===A||void 0===A?void 0:A.id}).pipe((0,d.P)()).subscribe({next:function(e){if(e.length>0){G({type:c.Cb.setAllSteps,value:Pt.Z(Bt.Z(Ft.Z("rank")),Dt.Z(At.Z(Wt.Z("component_blueprints"),Dt.Z((function(e){return Tt.Z("_uuid",(0,v.mR)(),e)})))))(e)})}},error:function(e){re(!1)}})}),[A.id,G]),Se=(0,i.useCallback)((function(){var e=X.selectedStep;if(he(e)){var t,n,a,i,r,u,s,c;re(!0);var m=Pt.Z(Vt.Z(["id"]),zt.Z(Rt.Z("is_start",!0)))(X.steps),v=(null===m||void 0===m?void 0:m.length)>0&&m==(null===e||void 0===e?void 0:e.id)&&0===(null===e||void 0===e||null===(t=e.parent_steps)||void 0===t?void 0:t.length),f={name:null===e||void 0===e?void 0:e.name,guidance:null===e||void 0===e?void 0:e.guidance,procedure_id:null===e||void 0===e?void 0:e.procedure_id,duration:null===e||void 0===e?void 0:e.duration,is_start:v||(null===e||void 0===e?void 0:e.is_start),is_end:e.is_end,options:(0,l.Z)((0,l.Z)({},e.options),{},{layout:null!==(n=null===e||void 0===e?void 0:e.layout)&&void 0!==n?n:{}}),parent_steps:(0,o.Z)(Dt.Z(Vt.Z(["id"]))(null===e||void 0===e?void 0:e.parent_steps)),pathway_steps:null!==(a=null===e||void 0===e||null===(i=e.pathway_processes)||void 0===i?void 0:i.map((function(e){return e.id})))&&void 0!==a?a:[],pathway_processes:null!==(r=null===e||void 0===e||null===(u=e.pathway_processes)||void 0===u?void 0:u.map((function(e){return e.id})))&&void 0!==r?r:[],component_blueprints:(0,o.Z)(e.component_blueprints.map((function(e){return(0,l.Z)((0,l.Z)({},Ut.Z(["_uuid"])(e)),{},{selected_fields:(0,o.Z)(Dt.Z(jt.Z(["id","index","mandatory","visible","procedure_step_blueprint_field_id"]))(e.selected_fields))})}))),rank:+(null!==(s=null===e||void 0===e||null===(c=e.parent_steps)||void 0===c?void 0:c.reduce((function(e,t){return e<=+t.rank?e=+(null===t||void 0===t?void 0:t.rank):null}),0))&&void 0!==s?s:0)+1};(0,p.Ac)(f).pipe((0,d.P)()).subscribe({next:function(e){ve?k.h.dispatch((0,R.$6)({ninthModalVisible:!0})):fe&&k.h.dispatch((0,R.$6)({eleventhModalVisible:!0})),Ce(),re(!1),U?ye(!0):D()},error:function(e){re(!1)}})}}),[X,he,Ce,ye]),be=(0,i.useCallback)((function(){var e=X.selectedStep;if(he(e)){var t,n,a,i,r,u,s,f;re(!0);var y=Pt.Z(Vt.Z(["id"]),zt.Z(Rt.Z("is_start",!0)))(X.steps),g=(null===y||void 0===y?void 0:y.length)>0&&y==(null===e||void 0===e?void 0:e.id)&&0===(null===e||void 0===e||null===(t=e.parent_steps)||void 0===t?void 0:t.length),h=(0,l.Z)({name:null===e||void 0===e||null===(n=e.name)||void 0===n?void 0:n.trim(),guidance:null===e||void 0===e?void 0:e.guidance,procedure_id:null===e||void 0===e?void 0:e.procedure_id,duration:null===e||void 0===e?void 0:e.duration,is_start:g||(null===e||void 0===e?void 0:e.is_start),is_end:e.is_end,options:(0,l.Z)((0,l.Z)({},e.options),{},{layout:null!==(a=null===e||void 0===e?void 0:e.layout)&&void 0!==a?a:{}}),parent_steps:qt.Z((0,o.Z)(Dt.Z(Vt.Z(["id"]))(null===e||void 0===e?void 0:e.parent_steps))),pathway_steps:null!==(i=null===e||void 0===e||null===(r=e.pathway_steps)||void 0===r?void 0:r.map((function(e){return e.id})))&&void 0!==i?i:[],pathway_processes:null!==(u=null===e||void 0===e||null===(s=e.pathway_processes)||void 0===s?void 0:s.map((function(e){return e.id})))&&void 0!==u?u:[],component_blueprints:(0,o.Z)(e.component_blueprints.map((function(e){return(0,l.Z)((0,l.Z)({},Ut.Z(["_uuid"])(e)),{},{status:null,selected_fields:(0,o.Z)(Dt.Z(jt.Z(["id","index","mandatory","visible","procedure_step_blueprint_field_id"]))(e.selected_fields))})}))),rank:+e.rank},Ht.Z({ranking_steps:null===(f=Dt.Z(Ht.Z({id:Vt.Z(["id"]),rank:de.Z("rank")})).ranking_steps)||void 0===f?void 0:f.map((function(e){var t;return{id:e.id,rank:null!==(t=e.rank)&&void 0!==t?t:1e3}}))})(X.steps));(0,p.T5)(h,e.id,!0).pipe((0,d.P)()).subscribe({next:function(t){if(t.length>0){G({type:c.Cb.setAllSteps,value:Pt.Z(Bt.Z(Ft.Z("rank")),Dt.Z(At.Z(Wt.Z("component_blueprints"),Dt.Z((function(e){return Tt.Z("_uuid",(0,v.mR)(),e)})))))(t)})}k.h.dispatch((0,m.an)([].concat((0,o.Z)(W.filter((function(t){return t.id!==e.procedure_id}))),[(0,l.Z)((0,l.Z)({},A),{},{steps:t})]),1)),re(!1),ye(!0)},error:function(e){me(e.data),re(!1)}})}}),[ye,X.selectedStep,X.steps,Ce,G,he]),Ee=(0,i.useCallback)((function(){var e,t,n,l,o,a,i={},r="Please connect to a step",d="Step name is mandatory";(null===X||void 0===X?void 0:X.steps.length)>0&&(i.parentSteps=zt.Z(Rt.Z("is_start",!0))(null===X||void 0===X?void 0:X.steps)&&(null===X||void 0===X||null===(l=X.selectedStep)||void 0===l||null===(o=l.parent_steps)||void 0===o?void 0:o.length)>0||1==(null===X||void 0===X||null===(a=X.selectedStep)||void 0===a?void 0:a.is_start)?"":r);i.stepName="string"==typeof(null===X||void 0===X||null===(e=X.selectedStep)||void 0===e?void 0:e.name)&&(null===X||void 0===X||null===(t=X.selectedStep)||void 0===t||null===(n=t.name)||void 0===n?void 0:n.length)>0?"":d;var u,s=Object.values(i).every((function(e){return""===e}));((null===X||void 0===X?void 0:X.steps.length)>0&&ge(ll.parentSteps.id,i.parentSteps),ge(ll.parentSteps.id,i.parentSteps),ge(ll.stepName.id,i.stepName),ge(ll.newComponents.id,i.newComponents),s)||me("".concat(null!==(u=i.stepName)&&void 0!==u?u:""," ").concat(i.parentSteps));return s}),[ne,null===X||void 0===X||null===(n=X.selectedStep)||void 0===n?void 0:n.pathway_processes,null===X||void 0===X||null===(r=X.selectedStep)||void 0===r?void 0:r.pathway_steps,null===X||void 0===X||null===(u=X.selectedStep)||void 0===u?void 0:u.component_blueprints,null===X||void 0===X||null===(s=X.selectedStep)||void 0===s?void 0:s.name,null===X||void 0===X||null===(y=X.selectedStep)||void 0===y||null===(g=y.parent_steps)||void 0===g?void 0:g.length,null===X||void 0===X?void 0:X.steps]),_e=(0,i.useCallback)((0,Ot.Z)((0,Mt.Z)().mark((function e(){var t;return(0,Mt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(le(!0),Ee()){e.next=4;break}return e.abrupt("return");case 4:null!==X&&void 0!==X&&null!==(t=X.selectedStep)&&void 0!==t&&t.isNewStep?Se():be();case 5:case"end":return e.stop()}}),e)}))),[Ee,J,Se,be]),Ze=(0,i.useCallback)((function(){var e;(null===J||void 0===J||null===(e=J.id)||void 0===e?void 0:e.length)>0&&("newDefaultStep"===(null===J||void 0===J?void 0:J.id)&&ye(),1!=J.is_start?(0,p.HP)(null===J||void 0===J?void 0:J.id).pipe((0,d.P)()).subscribe({next:function(e){var t;Ce(),G({type:c.Cb.removeStepById,value:null===(t=X.selectedStep)||void 0===t?void 0:t.id}),ye(!0)},error:function(){}}):me("First step cannot be deleted. Delete the procedure instead"))}),[ye,null===(h=X.selectedStep)||void 0===h?void 0:h.id,Ce,null===J||void 0===J?void 0:J.id,J.is_start,G]);return fl.createElement(f.U7,{scrollable:!0,shadowedContainerStyle:z,isOpen:B,blured:!0},fl.createElement("div",{style:{display:"flex"}},fl.createElement("div",{style:{width:""===T?"100%":"30%"}},fl.createElement("div",{className:sl},e.children,fl.createElement("div",{id:"scrollableDiv",ref:nl,className:ml},U&&fl.createElement("div",{className:cl},fl.createElement("p",null,"newDefaultStep"!==(null===X||void 0===X||null===(C=X.selectedStep)||void 0===C?void 0:C.id)&&""!==(null===X||void 0===X||null===(S=X.selectedStep)||void 0===S?void 0:S.id)?"Edit Step #".concat(null===X||void 0===X||null===(b=X.selectedStep)||void 0===b?void 0:b.rank):"New Step")),fl.createElement("div",{style:{flex:1}},fl.createElement(ul,{onEditChange:function(e,t){return q(e,t)},selectedProcess:A})),ce&&fl.createElement(P.Z,{message:ce,onClick:function(){return me("")}}),fl.createElement("div",{className:U?pl:vl},!U&&fl.createElement(f.zx,{clear:!0,title:"",clicked:function(){}}),F&&!U&&fl.createElement(f.zx,{light:!0,title:"Back",clicked:ye}),F&&U&&fl.createElement(f.zx,{title:"Close",clicked:ye}),(null===X||void 0===X||null===(E=X.selectedStep)||void 0===E||null===(_=E.name)||void 0===_?void 0:_.length)>3&&!U&&fl.createElement(f.zx,{title:null!==X&&void 0!==X&&null!==(Z=X.selectedStep)&&void 0!==Z&&Z.isNewStep?"Save":"Update",loading:ie,clicked:_e}),(null===X||void 0===X||null===(w=X.selectedStep)||void 0===w||null===(N=w.name)||void 0===N?void 0:N.length)>3&&U&&fl.createElement(f.zx,{light:!0,title:null!==X&&void 0!==X&&null!==(L=X.selectedStep)&&void 0!==L&&L.isNewStep?"Save":"Update",loading:ie,clicked:_e}),"newDefaultStep"!==(null===X||void 0===X||null===(I=X.selectedStep)||void 0===I?void 0:I.id)&&""!==(null===X||void 0===X||null===(x=X.selectedStep)||void 0===x?void 0:x.id)&&fl.createElement(f.zx,{light:!0,title:"Delete",clicked:Ze})))))))})),gl=(0,r.$j)((function(e){var t=e.flowReducer;return{allStatutes:t.allStatutes,selectedProcess:t.selectedProcess,companyProcesses:t.companyProcesses,onBoardingCompleted:t.onBoardingCompleted,onBoardingModalsVisibility:e.modalsReducer.onBoardingModalsVisibility}}),(function(e){return{onSetSelectedProStep:function(t){return e((0,m.Sc)(t))}}}))(yl),hl=n(67861),Cl=function(e){var t,n=(0,te.s0)(),r=(e.onClose,e.selectedProcess),s=e.onResetSelectedProStep,g=e.blueprints,h=e.allModules,C=e.companyProcesses,S=e.workflowTemplates,b=e.onBoardingModalsVisibility,E=(0,i.useState)(!1),_=((0,a.Z)(E,2)[1],(0,i.useState)(!1)),Z=(0,a.Z)(_,2),w=Z[0],N=Z[1],L=(0,i.useState)(!1),I=(0,a.Z)(L,2),x=I[0],M=I[1],O=(0,i.useState)(!1),P=(0,a.Z)(O,2),B=P[0],F=P[1],D=(0,i.useState)(!1),A=(0,a.Z)(D,2),W=A[0],V=A[1],z=(0,i.useState)(!1),U=(0,a.Z)(z,2),j=U[0],H=U[1],K=(0,i.useState)(!1),X=(0,a.Z)(K,2),G=X[0],Y=X[1],J=(0,i.useState)(!1),Q=(0,a.Z)(J,2),$=Q[0],ee=Q[1],le=(0,i.useState)(!1),ae=(0,a.Z)(le,2),ie=ae[0],re=ae[1],de=(0,u.aL)(),se=(0,a.Z)(de,2),ce=(se[0],se[1]),me=(0,c._M)(),pe=(0,a.Z)(me,2),ve=pe[0],fe=(pe[1],(0,i.useState)(!1)),ye=(0,a.Z)(fe,2),ge=ye[0],he=ye[1],Ce=(0,i.useState)(!1),Se=(0,a.Z)(Ce,2),be=Se[0],Ee=Se[1],_e=(0,i.useState)(),Ze=(0,a.Z)(_e,2),we=Ze[0],Ne=Ze[1];document.title="".concat(r.name," | ").concat(v.iC);var Le=function(){1==ie&&((0,p.zJ)(r.id).pipe((0,d.P)()).subscribe({}),(0,ue.d7)(v.KI,v.RI).pipe((0,d.P)()).subscribe({})),k.h.dispatch((0,m.IW)(!0)),k.h.dispatch((0,m.Xc)({show:!1,message:""})),n("/dashboard")};return(0,i.useEffect)((function(){var e,t,n,l,o;""!==(null===r||void 0===r?void 0:r.name)&&((null===r||void 0===r||null===(e=r.steps)||void 0===e?void 0:e.length)>0||(null===r||void 0===r?void 0:r.steps)>0||(null===ve||void 0===ve||null===(t=ve.steps)||void 0===t?void 0:t.length)>0)?0===(null===(n=h.filter((function(e){return e.procedure.id===(null===r||void 0===r?void 0:r.id)})))||void 0===n?void 0:n.length)?k.h.dispatch((0,m.Xc)({show:!0,message:"You can now create modules. Modules are pages where your users can interact with the workflows and components you created. This is where transactions are created."})):(null===(l=h.filter((function(e){return e.procedure.id===(null===r||void 0===r?void 0:r.id)})))||void 0===l?void 0:l.length)>0&&1==(null===r||void 0===r||null===(o=r.steps)||void 0===o?void 0:o.length)&&k.h.dispatch((0,m.Xc)({show:!0,message:"To edit your step, click the box of your target step. The edit step modal will appear. There you can edit and update your step."})):""!==(null===r||void 0===r?void 0:r.name)&&(null===g||void 0===g?void 0:g.length)>0?1==r.created&&k.h.dispatch((0,m.Xc)({show:!0,message:"You have just created ".concat(null===r||void 0===r?void 0:r.name," workflow and modules. Kindly configure Modules. After doing this you can now use your workflow module.")})):""===(null===r||void 0===r?void 0:r.name)&&0==S.length&&(null===g||void 0===g?void 0:g.length)>0?(k.h.dispatch((0,m.Xc)({show:!0,message:"To begin building your Workflow, click the Edit button, enter name, description and save. You can also build components before creating your workflow."})),M(!0)):""===(null===r||void 0===r?void 0:r.name)&&S.length>0&&(null===g||void 0===g?void 0:g.length)>0?Ee(!0):0===(null===g||void 0===g?void 0:g.length)&&""===(null===r||void 0===r?void 0:r.name)&&k.h.dispatch((0,m.Xc)({show:!0,message:"To begin buiding your Workflow, start by creating blueprint components. Components are field data that you can use to gather information on your steps",action:function(){V(!0)}}))}),[h,r,g]),hl.createElement(hl.Fragment,null,hl.createElement("div",{className:xt.Z.host},hl.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},hl.createElement("div",{style:T.tq?{padding:"0 0 0 10px",position:"fixed",bottom:"0"}:{padding:"0 0 0 10px"}},hl.createElement(f.zx,{title:"Close",clicked:function(){return Le()}})),hl.createElement("div",{style:T.tq?{display:"flex"}:{xposition:"flex",right:"0",top:"0",display:"flex",flexDirection:"row",padding:"0 10px 0 0px"}},hl.createElement(bl,{onAddNewProcess:function(){M(!0)}}),""!==(null===r||void 0===r?void 0:r.name)&&(null===ve||void 0===ve||null===(t=ve.steps)||void 0===t?void 0:t.length)>0&&""!==(null===r||void 0===r?void 0:r.name)&&hl.createElement(El,{onAddNewModule:function(){(null===b||void 0===b?void 0:b.eleventhModalVisible)&&k.h.dispatch((0,R.$6)({twelvthModalVisible:!0})),ee(!0)}}),hl.createElement(Sl,{onAddNewComponent:function(){Ne(void 0),ce({type:u.qY.resetSelectedBlueprintComponent}),V(!0)}}),0===h.filter((function(e){return e.procedure.id===(null===r||void 0===r?void 0:r.id)})).length&&""!==(null===r||void 0===r?void 0:r.name)&&hl.createElement(f.j3,{permissions:[f.po.blueprints.process.delete]},hl.createElement(f.zx,{light:!0,title:"Delete",clicked:function(){return F(!0)}}),hl.createElement("span",{className:xt.Z.control})),hl.createElement(f.zx,{light:!0,icon:hl.createElement("img",{src:Oe.Fd}),style:{width:"50px"},clicked:function(){he(!0),(0,p.zJ)(r.id).pipe((0,d.P)()).subscribe({next:function(e){k.h.dispatch((0,m.Xu)(e)),k.h.dispatch((0,m.an)([].concat((0,o.Z)(C.filter((function(t){return t.id!==e.id}))),[e]),1)),he(!1)}}),(0,ue.d7)(v.KI,v.RI).pipe((0,d.P)()).subscribe({})},loading:ge}))),(null===g||void 0===g?void 0:g.length)>0&&hl.createElement("div",{className:xt.Z.processNameContainer}),hl.createElement(ne.Z,{edit:!1,onEditStep:function(){(null===b||void 0===b?void 0:b.ninthModalVisible)&&k.h.dispatch((0,R.$6)({tenthModalVisible:!0})),N(!0)},onEditStepEnded:w,updateParent:function(e,t,n){!function(e,t,n){var l=null===ve||void 0===ve?void 0:ve.steps.find((function(t){return t.id===e}));if(l){he(!0);var a={name:l.name,parent_steps:1==n?qt.Z([].concat((0,o.Z)(qt.Z((0,o.Z)(Dt.Z(Vt.Z(["id"]))(null===l||void 0===l?void 0:l.parent_steps)))),[t])):qt.Z((0,o.Z)(Dt.Z(Vt.Z(["id"]))(null===l||void 0===l?void 0:l.parent_steps.filter((function(e){return e.id!==t})))))};(0,p.T5)(a,l.id,!0).pipe((0,d.P)()).subscribe({next:function(e){(0,p.zJ)(r.id).pipe((0,d.P)()).subscribe({next:function(e){return k.h.dispatch((0,m.Xu)(e))}}),he(!1)},error:function(e){he(!1)}})}}(e,t,n)},updateStep:function(e){!function(e){var t=e;if(t){he(!0);var n={options:null===t||void 0===t?void 0:t.options};(0,p.T5)(n,t.id,!0).pipe((0,d.P)()).subscribe({next:function(e){k.h.dispatch((0,m.an)([].concat((0,o.Z)(C.filter((function(e){return e.id!==t.procedure_id}))),[(0,l.Z)((0,l.Z)({},r),{},{steps:e})]),1))}})}}(e)}})),w&&hl.createElement(gl,{visible:w,onClose:function(e){re(e),s(),N(!1),M(!1),Y(!1)},onEditChange:function(e,t){V(!0),Ne(e)}}),B&&hl.createElement(f.U7,{isOpen:B,onClose:function(){return F(!1)},backdropColor:!0,blured:!0,shadowedContainerStyle:{minWidth:"600px",width:T.tq?"100%":"40%",height:"160px"}},hl.createElement("div",{className:xt.Z.deleteModalContainer},hl.createElement("div",{className:xt.Z.deleteModalTextContainer},hl.createElement("p",{className:xt.Z.deteteModalText},"Are you sure you want to delete this workflow?")),hl.createElement("div",{className:xt.Z.deleteModalButtonContainer},hl.createElement(f.zx,{title:"Delete",clicked:function(){return function(){var e;!(null!==r&&void 0!==r&&null!==(e=r.id)&&void 0!==e&&e.length)>0||(he(!0),(0,p.vo)(null===r||void 0===r?void 0:r.id).pipe((0,d.P)()).subscribe({next:function(e){F(!1),he(!1),re(!0),Le()},error:function(e){he(!1),F(!1)}}))}()},loading:ge}),hl.createElement(f.zx,{light:!0,title:"No, Go back",clicked:function(){return F(!1)}})))),W&&hl.createElement(It,{selectedComponent:we,visible:W,onClose:function(e){re(e),V(!1)},onUpdate:function(e){k.h.dispatch((0,m.an)(C.filter((function(e){return e.id!==r.id})),1))}}),j&&hl.createElement(It,{visible:j,onClose:function(){M(!1),Ee(!0),H(!1)},onUpdate:function(){k.h.dispatch((0,m.an)(C.filter((function(e){return e.id!==r.id})),1))}}),$&&hl.createElement(y.ZP,{onClose:function(){return ee(!1)},isOpen:$,modalStyle:{maxWidth:"500px"},selectedProcessId:null===r||void 0===r?void 0:r.id}),x&&hl.createElement(q,{onCreate:function(){M(!1),N(!0)},onClose:function(){return M(!1)},isOpen:x,modalStyle:{maxWidth:"500px"},selectedProcessId:null===r||void 0===r?void 0:r.id,selectedProcess:r,shadowedContainerStyle:{width:T.tq?"100%":"30%"}}),G&&hl.createElement(q,{onCreate:function(){M(!1),N(!0)},onClose:function(){n("/")},isOpen:G,modalStyle:{maxWidth:"500px"},selectedProcessId:null===r||void 0===r?void 0:r.id,selectedProcess:r,shadowedContainerStyle:{width:T.tq?"100%":"30%"}}),be&&hl.createElement(oe,{isOpen:be,onCreateBlank:function(){Y(!0),Ee(!1)},onClose:function(){Ee(!1)},gotoProcess:function(e){M(!1),Ee(!1),k.h.dispatch((0,m.Xu)({name:null===e||void 0===e?void 0:e.name,description:null===e||void 0===e?void 0:e.description,id:e.id,is_pinned:null===e||void 0===e?void 0:e.is_pinned,user_id:null===e||void 0===e?void 0:e.user_id,registered:!0,type:null===e||void 0===e?void 0:e.type,steps:null===e||void 0===e?void 0:e.steps,shared_positions:null===e||void 0===e?void 0:e.shared_positions,created:!0}))},gotoComponents:function(){M(!1),Ee(!1),H(!0),ce({type:u.qY.resetSelectedBlueprintComponent})},modalStyle:{maxWidth:"500px"},selectedProcessId:null===r||void 0===r?void 0:r.id,selectedProcess:r,shadowedContainerStyle:{width:"65%",minWidth:"400px"}}))},Sl=function(e){var t=e.onAddNewComponent;return hl.createElement(f.zx,{light:!0,title:"Component",clicked:t})},bl=function(e){var t=e.onAddNewProcess;return hl.createElement(f.zx,{light:!0,title:"Edit",clicked:t})},El=function(e){var t=e.onAddNewModule;return hl.createElement(f.zx,{titleStyle:{fontWeight:"bold"},title:"Module",clicked:t,style:{backgroundColor:"var(--app-color-blue)"}})},_l=(0,r.$j)((function(e){var t=e.flowReducer;return{selectedProcess:t.selectedProcess,blueprints:t.blueprints,allModules:t.allModules,companyProcesses:t.companyProcesses,workflowTemplates:t.workflowTemplates,onBoardingModalsVisibility:e.modalsReducer.onBoardingModalsVisibility}}),(function(e){return{onSetSelectedProStep:function(t){return e((0,m.Sc)(t))},onResetSelectedProStep:function(){return e((0,m.wv)())}}}))((function(e){return hl.createElement(s.jm,null,hl.createElement(c.FZ,null,hl.createElement(c.s_,null,hl.createElement(u.ij,null,hl.createElement(u.Xr,null,hl.createElement(Cl,e))))))}))},51481:function(e,t,n){n.d(t,{Mk:function(){return m},_5:function(){return f},km:function(){return p},qp:function(){return v},vr:function(){return y},xJ:function(){return g},yW:function(){return c}});var l=n(1413),o=n(50981),a=n.n(o),i=n(95256),r=n(88374),d=n(88827),u=n(30994),s=n(96332),c=function(e){var t=d.h.getState().authReducer.sessionSettings.last_access_token,n=(0,l.Z)((0,l.Z)({},u.ns.tasks.getTaskById(t,e)),{},{handlerEnabled:!0});return new i.y((function(e){(0,s.b)(n).then((function(t){var n,l;200===(null===t||void 0===t?void 0:t.status)&&null!==t&&void 0!==t&&t.data&&null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.data&&(e.next(null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.data),e.complete())})).catch((function(t){e.error(t)}))}))},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=d.h.getState().authReducer.sessionSettings.last_access_token,c=d.h.getState().flowReducer,m=c.lastUpdates,p=c.allTasks,v=c.axiosAbort,f=(0,l.Z)((0,l.Z)({},u.ns.tasks.getAllTasksCreatedByUser(n,e)),{},{handlerEnabled:!0,signal:v.signal});return new i.y((function(e){t||a()((0,o.now)()).diff(a()(m.tasks),"minutes")>10||0===p.length?(0,s.b)(f).then((function(t){var n;if(200===(null===t||void 0===t?void 0:t.status)&&null!==t&&void 0!==t&&t.data&&null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.data){var l,o=null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.data;d.h.dispatch((0,r.rh)(o)),e.next(o),e.complete()}})).catch((function(t){e.error(t)})):e.complete()}))},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=d.h.getState().authReducer.sessionSettings.last_access_token,c=d.h.getState().flowReducer,m=c.lastUpdates,p=c.allTasks,v=c.axiosAbort,f=(0,l.Z)((0,l.Z)({},u.ns.tasks.getAllTasks(n,e)),{},{handlerEnabled:!0,signal:v.signal});return new i.y((function(e){t||a()((0,o.now)()).diff(a()(m.tasks),"minutes")>10||0===p.length?(0,s.b)(f).then((function(t){var n;if(200===(null===t||void 0===t?void 0:t.status)&&null!==t&&void 0!==t&&t.data&&null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.data){var a,i=null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.data;d.h.dispatch((0,r.rh)(i)),d.h.dispatch((0,r.C2)((0,l.Z)((0,l.Z)({},m),{},{tasks:(0,o.now)()}))),e.next(i),e.complete()}})).catch((function(t){e.error(t)})):e.complete()}))},v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=d.h.getState().authReducer.sessionSettings.last_access_token,m=(0,l.Z)((0,l.Z)({},u.ns.tasks.getAllCompletedTasks(c,e,t)),{},{handlerEnabled:!0}),p=d.h.getState().flowReducer,v=p.lastUpdates,f=p.allCompletedTasks;return new i.y((function(t){n||a()((0,o.now)()).diff(a()(v.allCompletedTasks),"minutes")>10||0===f.data.length?(0,s.b)(m).then((function(n){var l;if(200===(null===n||void 0===n?void 0:n.status)&&null!==n&&void 0!==n&&n.data&&null!==n&&void 0!==n&&null!==(l=n.data)&&void 0!==l&&l.data){var o=null===n||void 0===n?void 0:n.data;d.h.dispatch((0,r.cL)(o,e)),t.next(o),t.complete()}})).catch((function(e){t.error(e)})):t.complete()}))},f=function(e){var t=d.h.getState().authReducer.sessionSettings.last_access_token,n=new FormData,o=(0,l.Z)({},u.ns.tasks.deleteTask(t,e)),a=(0,l.Z)((0,l.Z)({},o),{},{headers:(0,l.Z)({},o.headers),data:n,handlerEnabled:!0});return new i.y((function(t){return(0,s.b)(a).then((function(n){200===(null===n||void 0===n?void 0:n.status)&&null!==n&&void 0!==n&&n.data&&(d.h.dispatch((0,r.Xc)({show:!0,message:"You have successfully deleted the task",color:"red"})),d.h.dispatch((0,r.OQ)(e)),t.next(n.data),t.complete())})).catch((function(e){t.error(e)}))}))},y=function(e){var t,n,o=d.h.getState().authReducer.sessionSettings.last_access_token,a=new FormData;a.append("name",e.taskName),a.append("description",e.taskDescription),a.append("due_date",e.dueDate),null!==e&&void 0!==e&&null!==(t=e.newAssignee)&&void 0!==t&&t.assignee_id&&a.append("assignee_id",e.newAssignee.assignee_id),e.taskProcess&&a.append("procedure_id",null===(n=e.taskProcess)||void 0===n?void 0:n.id),e.add_info&&a.append("add_info",JSON.stringify(e.add_info));var c=(0,l.Z)((0,l.Z)({},u.ns.tasks.createTask(o)),{},{data:a,handlerEnabled:!0});return new i.y((function(e){return(0,s.b)(c).then((function(t){var n;if(null!==t&&void 0!==t&&t.data&&null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.data){var l,o=null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.data;d.h.dispatch((0,r.Pb)(o)),d.h.dispatch((0,r.Xc)({show:!0,message:"You have successfully created a new task"})),e.next(o),e.complete()}})).catch((function(t){e.error(t)}))}))},g=function(e,t){var n,o=d.h.getState().authReducer.sessionSettings.last_access_token,a={name:e.name,description:e.description,due_date:e.due_date,assignee_id:e.assignee_id,status:null!==(n=null===e||void 0===e?void 0:e.status)&&void 0!==n?n:""};e.add_info&&(a.add_info=JSON.stringify(e.add_info));var c=(0,l.Z)((0,l.Z)({},u.ns.tasks.editTask(o,t)),{},{data:a,forwardAllErrors:!0});return new i.y((function(e){return(0,s.b)(c).then((function(t){var n;if(null!==t&&void 0!==t&&t.data&&null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.data){var l,o=null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.data;d.h.dispatch((0,r.eT)(o)),e.next(o),e.complete()}})).catch((function(t){e.error(t)}))}))}},22590:function(e,t){t.Z={host:"ProcessInfo_host__+oaqg",processControls:"ProcessInfo_processControls__2tdBF",sharePosition:"ProcessInfo_sharePosition__FqHsX",addStep:"ProcessInfo_addStep__uYhIL",addComponent:"ProcessInfo_addComponent__ZNJnb",buttonWrapper:"ProcessInfo_buttonWrapper__TYYT4",addStepTooltip:"ProcessInfo_addStepTooltip__rWSLm",addComponentTooltip:"ProcessInfo_addComponentTooltip__x6Vlz",messageContainer:"ProcessInfo_messageContainer__Ymk+d",title:"ProcessInfo_title__6a6i3",message:"ProcessInfo_message__kMz1c",customCheckbox:"ProcessInfo_customCheckbox__OHBxP",checkmark:"ProcessInfo_checkmark__jqo8a",closeButton:"ProcessInfo_closeButton__Xqtn-",control:"ProcessInfo_control__tSGLd",processNameContainer:"ProcessInfo_processNameContainer__EsIer",tutorialWrapper:"ProcessInfo_tutorialWrapper__Ijpgx",tutorialContainer:"ProcessInfo_tutorialContainer__6VGmK",processChartWrapper:"ProcessInfo_processChartWrapper__Q4jCW","react-tabs__tab--selected":"ProcessInfo_react-tabs__tab--selected__kT6jO","css-1hwfws3":"ProcessInfo_css-1hwfws3__oWVI5","css-1okebmr-indicatorSeparator":"ProcessInfo_css-1okebmr-indicatorSeparator__-YC+I","css-1gsw4b3":"ProcessInfo_css-1gsw4b3__9qcid","process-name":"ProcessInfo_process-name__nJ2CH","process-description":"ProcessInfo_process-description__C24Ws",container:"ProcessInfo_container__0EX6d",arrow_type2:"ProcessInfo_arrow_type2__VA3Ze","combined-shape":"ProcessInfo_combined-shape__WjWTZ","saved-description":"ProcessInfo_saved-description__Z5PuF",helper:"ProcessInfo_helper__7xoR9","rectangle-copy-4":"ProcessInfo_rectangle-copy-4__yjPo2",rectangle:"ProcessInfo_rectangle__kG0GD","rectangle-2":"ProcessInfo_rectangle-2__g+vZ8","rectangle-copy-3":"ProcessInfo_rectangle-copy-3__27bVn","new-step-modal":"ProcessInfo_new-step-modal__ur8v3","process-name-container":"ProcessInfo_process-name-container__noEII","input-search":"ProcessInfo_input-search__WA0Hv","editable-rectangle":"ProcessInfo_editable-rectangle__GgZ++",shareProcessHost:"ProcessInfo_shareProcessHost__k6ClQ",shareModalCloseButtonContainer:"ProcessInfo_shareModalCloseButtonContainer__4RcY9",shareModalCloseButton:"ProcessInfo_shareModalCloseButton__d19L0",shareModalClosebuttonImage:"ProcessInfo_shareModalClosebuttonImage__ctaAE",shareImage:"ProcessInfo_shareImage__MMQSA",shareProcessTitle:"ProcessInfo_shareProcessTitle__NcNb-",selectComponentContainer:"ProcessInfo_selectComponentContainer__ZGHp7",selectComponentTite:"ProcessInfo_selectComponentTite__HIPH3",selectComponent:"ProcessInfo_selectComponent__AqNdw",selectClearControlsClassName:"ProcessInfo_selectClearControlsClassName__2JBX7",selectListContainer:"ProcessInfo_selectListContainer__P13gF",shareButtonContainer:"ProcessInfo_shareButtonContainer__EmjbT",multiSelectContainer:"ProcessInfo_multiSelectContainer__cJOx5",multiselectComponent:"ProcessInfo_multiselectComponent__gZpac",multiSelectSearchInput:"ProcessInfo_multiSelectSearchInput__YmtV7",multiSelectMenuOverlayList:"ProcessInfo_multiSelectMenuOverlayList__MgB5l",multiSelectMenuOverlayListItem:"ProcessInfo_multiSelectMenuOverlayListItem__gW5lT",showTutorialContainer:"ProcessInfo_showTutorialContainer__pHXUK",deleteModalContainer:"ProcessInfo_deleteModalContainer__zJS6K",deleteModalTextContainer:"ProcessInfo_deleteModalTextContainer__23irp",deleteModalImage:"ProcessInfo_deleteModalImage__blHCS",deteteModalText:"ProcessInfo_deteteModalText__fp5WW",deleteModalButtonContainer:"ProcessInfo_deleteModalButtonContainer__dBunM",deleteModalCancelButton:"ProcessInfo_deleteModalCancelButton__9lDvo",errorContainer:"ProcessInfo_errorContainer__50zTL",paragraphNameContainer:"ProcessInfo_paragraphNameContainer__qBr8V",paragraphDescriptionContainer:"ProcessInfo_paragraphDescriptionContainer__1YFKM",rightSideContainer:"ProcessInfo_rightSideContainer__NWma5",usersHost:"ProcessInfo_usersHost__kRtg+"}}}]);
//# sourceMappingURL=9645.d7a3ac8d.chunk.js.map