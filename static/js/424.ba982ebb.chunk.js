"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[424],{87424:function(e,t,a){a.r(t),a.d(t,{default:function(){return O}});var n=a(74165),l=a(93433),c=a(15861),i=a(29439),r=a(67861),o=(a(60940),"CheckoutPage_checkoutPageHost__O6Y0r"),s="CheckoutPage_checkoutTop__a8Ke9",u="CheckoutPage_checkoutContent__jV+8M",m="CheckoutPage_checkoutLeftContainer__uCaxb",d="CheckoutPage_pageTitle__qI+QM",p="CheckoutPage_sectionTitle__5+HAr",v="CheckoutPage_inputRow__zQJ2Y",y="CheckoutPage_inputContainer__B0SjF",g="CheckoutPage_cardContainer__NY+g4",h="CheckoutPage_inputField__Wz1Ve",E="CheckoutPage_checkoutRightContainer__sSAwU",f="CheckoutPage_productsContainer__2SOt1",_="CheckoutPage_products__DuYZP",b="CheckoutPage_planContainer__fk9gT",C="CheckoutPage_planTitle__ymDCz",N="CheckoutPage_price__YeVwJ",x="CheckoutPage_planDetails__PYyTM",P="CheckoutPage_priceDetails__9FXhe",w="CheckoutPage_payButton__xJ0+0",k="CheckoutPage_planTitleBlue__wP0eR",S="CheckoutPage_endingMessage__qtIa5",Z="CheckoutPage_phoneIInput__sSySJ",L="CheckoutPage_phoneContainer__pnf9K",D=a(40694),T=a(23280),Y=a(27658),q=a(34710),A=a(11577),I=a(10904),R=a(89293),B=a(66180),M=a.n(B),H=(a(33500),a(50981)),j=a.n(H),F=a(30994),V=a(88374),z=a(39518),J=a(73500),W=a(88827),O=(a(59565),(0,a(87381).J)("pk_test_"),function(e){var t,a,B,O,K,Q,X,G=(0,T.s0)(),$=e.onSuccess,ee=e.onClose,te=void 0===ee?function(){return G("/billing-info")}:ee,ae=e.subscriptionInfo,ne=void 0===ae?{}:ae,le=e.companyData,ce=void 0===le?{email:""}:le,ie=e.paymentPath,re=void 0===ie?"payments":ie,oe=e.withBack,se=void 0===oe||oe,ue=e.label,me=void 0===ue?"Plan":ue,de=e.onError,pe=void 0===de?function(){}:de,ve=(0,z.v9)((function(e){return e.flowReducer})),ye=ve.payable,ge=(ve.billable,(0,z.v9)((function(e){return e.authReducer}))),he=(ge.authenticatedUser,(0,r.useRef)()),Ee=(0,z.I0)(),fe=(0,r.useState)(""),_e=(0,i.Z)(fe,2),be=_e[0],Ce=_e[1],Ne=(0,r.useState)(""),xe=(0,i.Z)(Ne,2),Pe=xe[0],we=xe[1],ke=(0,r.useState)(""),Se=(0,i.Z)(ke,2),Ze=Se[0],Le=Se[1],De=(0,r.useState)(""),Te=(0,i.Z)(De,2),Ye=Te[0],qe=Te[1],Ae=(0,r.useState)(""),Ie=(0,i.Z)(Ae,2),Re=Ie[0],Be=Ie[1],Me=(0,r.useState)(""),He=(0,i.Z)(Me,2),je=He[0],Fe=He[1],Ve=(0,r.useState)(""),ze=(0,i.Z)(Ve,2),Je=ze[0],We=ze[1],Oe=(0,r.useState)(""),Ue=(0,i.Z)(Oe,2),Ke=Ue[0],Qe=Ue[1],Xe=(0,r.useState)(""),Ge=(0,i.Z)(Xe,2),$e=Ge[0],et=Ge[1],tt=(0,r.useState)(""),at=(0,i.Z)(tt,2),nt=at[0],lt=at[1],ct=(0,r.useState)("4343434343434345"),it=(0,i.Z)(ct,2),rt=it[0],ot=it[1],st=(0,r.useState)(""),ut=(0,i.Z)(st,2),mt=ut[0],dt=ut[1],pt=(0,r.useState)(""),vt=(0,i.Z)(pt,2),yt=vt[0],gt=vt[1],ht=(0,r.useState)(""),Et=(0,i.Z)(ht,2),ft=Et[0],_t=Et[1],bt=(0,r.useState)(!1),Ct=(0,i.Z)(bt,2),Nt=Ct[0],xt=Ct[1],Pt=(0,r.useState)(""),wt=(0,i.Z)(Pt,2),kt=wt[0],St=wt[1],Zt=(0,r.useState)(!1),Lt=(0,i.Z)(Zt,2),Dt=Lt[0],Tt=Lt[1],Yt=(0,r.useState)(""),qt=(0,i.Z)(Yt,2),At=qt[0],It=qt[1],Rt=(0,r.useState)(!1),Bt=(0,i.Z)(Rt,1)[0],Mt=(0,T.TH)(),Ht=(0,r.useState)(null!==(t=null===Mt||void 0===Mt||null===(a=Mt.state)||void 0===a?void 0:a.subscriptionInfo)&&void 0!==t?t:ne),jt=(0,i.Z)(Ht,1)[0],Ft=(0,r.useState)(null!==(B=null===Mt||void 0===Mt||null===(O=Mt.state)||void 0===O?void 0:O.companyData)&&void 0!==B?B:ce),Vt=((0,i.Z)(Ft,1)[0],function(){var e=(0,c.Z)((0,n.Z)().mark((function e(t){var a,c,i,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(St(""),""!==F.lw||""!==nt){e.next=4;break}return St("Please enter card owner name."),e.abrupt("return");case 4:if(t.preventDefault(),St(""),a=[],""===be&&a.push("first name"),""===Pe&&a.push("last name"),""===ft&&a.push("email"),""===Ze&&a.push("full address"),""===Ye&&a.push("city"),""===Re&&a.push("postal Code"),""===$e&&""===F.lw&&a.push("phone Number"),!(a.length>0)){e.next=20;break}return a=a.map((function(e,t){return r.createElement("li",{key:t},e)})),c=function(){return r.createElement(r.Fragment,null,r.createElement("span",null,"Please fill in all input fields:"),r.createElement("ul",null,a))},xt(!1),St(c),e.abrupt("return");case 20:""!==F.lw&&(o=null!==(i=null===ne||void 0===ne?void 0:ne.ref)&&void 0!==i?i:(0,R.mR)(),Ee((0,V.zt)({id:o,subscriptionInfo:jt})),xt(!0),(0,Y.JE)("begin-module"===re||"begin-mobile"===re?'[{"amount":'.concat(100*(null===jt||void 0===jt?void 0:jt.plan_price),',"currency":"PHP","description":"').concat(null===jt||void 0===jt?void 0:jt.ref,'","name":"Payment-').concat(null===jt||void 0===jt?void 0:jt.ref,'","quantity":1}]'):"wallet"===re?'[{"amount":'.concat(100*(null===jt||void 0===jt?void 0:jt.plan_price),',"currency":"PHP","description":"').concat(null===jt||void 0===jt?void 0:jt.user_id,'","name":"Wallet","quantity":1}]'):"[".concat(jt.billable_users.map((function(e){return'{"amount":'.concat(100*(null===jt||void 0===jt?void 0:jt.plan_price),',"currency":"PHP","description":"').concat(e.id,'","name":"Subscription-').concat(e.first_name," ").concat(e.last_name,'","quantity":1}')})).toString(),"]"),'{"address":{"line1":"'.concat(Ze,'","city":"').concat(Ye,'","state":"').concat(Je,'","postal_code":"').concat(Re,'","country": "PH"},"name":"').concat(be," ").concat(Pe,'","email":"').concat(ft,'"}'),'"'.concat(F.Hf,"#/").concat(re,"/").concat(o,'"'),'"'.concat(o,'"'),"begin-module"===re||"begin-mobile"===re?"Payment":"wallet"===re?"Wallet":"Subscription").pipe((0,A.P)()).subscribe({next:function(e){var t;if(null!==(t=e.data)&&void 0!==t&&t.attributes){var a,n=[].concat((0,l.Z)(ye),[{user_id:jt.user_id,amount:null===jt||void 0===jt?void 0:jt.total,currency:"PHP",paymentID:o,id:null===jt||void 0===jt?void 0:jt.id,product:null===jt||void 0===jt?void 0:jt.plan,description:null===jt||void 0===jt?void 0:jt.description,session:null===(a=e.data)||void 0===a?void 0:a.id}]);W.h.dispatch((0,V.Wy)(n)),window.location.replace(e.data.attributes.checkout_url)}},complete:function(){},error:function(e){xt(!1),St("Payment error.Please contact your administrator"),pe("Payment error.Please contact your administrator")}}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return r.createElement("div",{className:o},se&&r.createElement("div",{className:s},r.createElement(D.Z,{clicked:te,title:"Back"})),r.createElement("div",{className:u,style:{padding:J.tq?"15px":""}},r.createElement("div",{className:m,style:{width:J.tq?"100%":"",display:jt?"":"none"}},r.createElement("p",{className:d},"Complete your Purchase"),r.createElement("p",{className:p,style:{marginTop:"50px"}},"Payment Information"),r.createElement("div",{style:{display:""===F.lw?"":"none",margin:"20px 0"}},r.createElement("div",{className:v},r.createElement("div",{className:y},r.createElement(I.Lb,{title:"Name on Card *"}),r.createElement("input",{value:nt,onChange:function(e){return lt(e.target.value)},type:"text",name:"state",className:h}))),r.createElement("div",{className:v},F.lw&&r.createElement("div",{className:y,style:{display:"flex"}},r.createElement("div",{className:g},r.createElement(I.Lb,{title:"Card Number"}),r.createElement("input",{value:rt,required:!0,minLength:16,maxLength:16,onChange:function(e){return ot(e.target.value)},type:"text",name:"state",className:h})),r.createElement("div",{className:g,style:{width:"30%"}},r.createElement(I.Lb,{title:"Expiry"}),r.createElement("input",{value:mt,required:!0,placeholder:"MM / YY",onChange:function(e){return dt(e.target.value)},type:"month",name:"state",className:h})),r.createElement("div",{className:g,style:{width:"10%",marginRight:"0px"}},r.createElement(I.Lb,{title:"CVC"}),r.createElement("input",{value:yt,required:!0,minLength:3,maxLength:3,placeholder:"CVC",onChange:function(e){return gt(e.target.value)},type:"integer",name:"state",className:h}))))),r.createElement("form",{ref:he,style:{display:!0===Bt?"none":""}},r.createElement("div",{className:v,style:{flexDirection:J.tq?"column":"row"}},r.createElement("div",{className:y},r.createElement(I.Lb,{title:"First Name"}),r.createElement("input",{value:be,onChange:function(e){return Ce(e.target.value)},style:{marginRight:"30px"},type:"text",name:"first-name",className:h})),r.createElement("div",{className:y},r.createElement(I.Lb,{title:"Last Name"}),r.createElement("input",{value:Pe,onChange:function(e){return we(e.target.value)},type:"text",name:"last-name",className:h}))),r.createElement("div",{className:v,style:{flexDirection:J.tq?"column":"row"}},r.createElement("div",{className:y},r.createElement(I.Lb,{title:"Email"}),r.createElement("input",{value:ft,onChange:function(e){return _t(e.target.value)},style:{marginRight:"30px"},type:"text",name:"email",className:h}))),r.createElement("div",{className:v,style:{flexDirection:J.tq?"column":"row"}},r.createElement("div",{className:y},r.createElement(I.Lb,{title:"Full Address"}),r.createElement("input",{value:Ze,onChange:function(e){return Le(e.target.value)},style:{marginRight:"30px"},type:"text",name:"full-address",className:h}))),r.createElement("div",{className:v,style:{flexDirection:J.tq?"column":"row"}},r.createElement("div",{className:y},r.createElement(I.Lb,{title:"City"}),r.createElement("input",{value:Ye,onChange:function(e){return qe(e.target.value)},style:{marginRight:"30px"},type:"text",name:"city",className:h})),r.createElement("div",{className:y},r.createElement(I.Lb,{title:"Postal Code"}),r.createElement("input",{value:Re,onChange:function(e){return Be(e.target.value)},type:"text",name:"postal-code",className:h}))),r.createElement("div",{className:v,style:{flexDirection:J.tq?"column":"row"}},r.createElement("div",{className:y},r.createElement(I.Lb,{title:"Country"}),r.createElement("input",{value:je,onChange:function(e){return Fe(e.target.value)},type:"text",name:"country",className:h})),r.createElement("div",{className:y},r.createElement(I.Lb,{title:"State"}),r.createElement("input",{value:Je,onChange:function(e){return We(e.target.value)},type:"text",name:"state",className:h}))),r.createElement("div",{className:v,style:{display:""===F.lw?"":"none"}},r.createElement("div",{className:y},r.createElement(I.Lb,{title:"VAT/TAX ID"}),r.createElement("input",{value:Ke,onChange:function(e){return Qe(e.target.value)},style:{marginRight:"30px"},type:"text",name:"vat",className:h})),r.createElement("div",{className:y},r.createElement(I.Lb,{title:"Phone"}),r.createElement("div",{className:L},r.createElement(M(),{country:"ph",value:$e,onChange:function(e){return et(e)},inputClass:Z,specialLabel:"",placeholder:"Enter number here...",inputStyle:{border:"none",width:"100%"}})))))),r.createElement("div",{className:E},r.createElement("div",{className:f},r.createElement("p",{className:_},"Products"),r.createElement("div",{className:b},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"10px"}},jt?r.createElement("p",{className:C},null===jt||void 0===jt?void 0:jt.plan):r.createElement("p",{className:C},Mt.state.price.description),jt?r.createElement("p",{className:N},null===jt||void 0===jt?void 0:jt.currency," ",null===jt||void 0===jt?void 0:jt.plan_price):r.createElement("p",{className:N},Mt.state.price.currency," ",Mt.state.price.price)),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"5px",marginBottom:"5px"}},jt&&r.createElement("p",{className:x},me),jt&&r.createElement("p",{className:P},null===jt||void 0===jt?void 0:jt.dlabel))),(null===jt||void 0===jt?void 0:jt.onetime)&&r.createElement("div",{className:b},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"10px"}},r.createElement("p",{className:C},"Admin Fee"),r.createElement("p",{className:N},null===jt||void 0===jt?void 0:jt.currency," ",null!==(K=null===jt||void 0===jt?void 0:jt.onetime)&&void 0!==K?K:0)),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"5px",marginBottom:"5px"}},jt&&r.createElement("p",{className:x},"Others"),jt&&r.createElement("p",{className:P},"/month"))),r.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",margin:"5%"}}),r.createElement("div",{style:{display:void 0===(null===jt||void 0===jt||null===(Q=jt.billable_users)||void 0===Q?void 0:Q.length)?"none":"flex",justifyContent:"space-between",margin:"5%",marginBottom:"0px"}},r.createElement("p",{className:C},"Number of users to bill"),r.createElement("p",{className:N},null===jt||void 0===jt?void 0:jt.billable_users.length)),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",margin:"5%",marginBottom:"20px"}},r.createElement("p",{className:k},"Total (due today)"),jt?r.createElement("p",{className:k},null===jt||void 0===jt?void 0:jt.currency," ",null===jt||void 0===jt?void 0:jt.total):r.createElement("p",{className:k},Mt.state.price.currency," ",Mt.state.price.price)),r.createElement(D.Z,{className:w,disabled:Nt,title:"Pay Now",clicked:jt?Vt:function(){var e;St(""),xt(!0),(0,Y.Ul)(Mt.state.service_name,Mt.state.price.price_code,null!==(e=Mt.state.price.duration)&&void 0!==e?e:null).pipe((0,A.P)()).subscribe({next:function(e){It(e.data.stripe_id),Tt(!0),(0,q.aK)().pipe((0,A.P)()).subscribe({}),xt(!1)},error:function(e){void 0!=e.data?St(e.data.message.message):St("Payment error. Please check your card."),xt(!1)}})},loading:Nt,style:{backgroundColor:""!==be&&""!==Pe&&""!==Ze&&""!==Ye&&""!==Re&&""!==je&&""!==Je?"":"black"}}),r.createElement("div",{className:S,style:{display:void 0===(null===jt||void 0===jt||null===(X=jt.billable_users)||void 0===X?void 0:X.length)?"none":"flex"}},r.createElement("p",null,""!==F.lw?"Payments by":"You can cancel your plan anytime. Your yearly recurrent payment starts on ".concat(j()(new Date((0,H.now)())).add(1,"years").format("MMMM Do, YYYY"),". You will be billed monthly for the number of Employees in your account.")),r.createElement("img",{src:"https://files.readme.io/7586db8-small-paymongo_api_white.png",style:{height:"40px",width:"160px"}})),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",margin:"5%",marginBottom:"0px",color:"red"}},kt&&r.createElement("div",null,kt))))),Dt&&r.createElement(U,{message:At,onSuccess:$}))}),U=function(e){var t=e.setCompletedModal,a=e.message,n=e.onSuccess;return r.createElement(I.U7,{isOpen:!0,shadowedContainerStyle:{width:"35%",minWidth:"500px",minHeight:"400px"},onClose:function(){return t(!1)},scrollable:!0,blured:!0},r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.createElement("p",{style:{marginTop:"50px",fontSize:"32px",color:"#4A4A4A",marginBottom:"5px",textAlign:"center"}},"Your subscription to ".concat(R.iC," was successful!")),r.createElement("p",{style:{width:"300px",fontFamily:"var(--app-text-main-font)",fontSize:"16px",color:"#4A4A4A",textAlign:"center",marginBottom:"20px"}},"Your payment reference is ".concat(a),r.createElement("br",null),r.createElement("br",null),"You can look for this in your invoices list in the billing page ",r.createElement("br",null),r.createElement("br",null),r.createElement("span",{style:{fontWeight:"700"}},"Thank you for your purchase!")),r.createElement(D.Z,{style:{width:"200px"},clicked:function(){n(a)},title:"View Invoices"})))}}}]);
//# sourceMappingURL=424.ba982ebb.chunk.js.map