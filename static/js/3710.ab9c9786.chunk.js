(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[3710,7905],{48630:function(e,n,l){"use strict";l.d(n,{X:function(){return g}});var o=l(4942),i=l(87462),t=l(45987),d=l(67861),a=l(64468),u="Checkbox_host__MtZZg",r="Checkbox_checkmarkContainer__7m7hu",v="Checkbox_input__fK+n4",s="Checkbox_checkboxControl__TezWV",c="Checkbox_checkboxControlIcon__5qzo9",p="Checkbox_checkboxLabel__lacXH",m="Checkbox_checkboxDisabled__Qo2Ag",f=l(85692),_=l(47144),y=l.n(_),h=["checkboxLabel","hasMandatoryIndicator","disabled","errormessage"];var g=(0,d.forwardRef)((function(e,n){var l=e.checkboxLabel,_=e.hasMandatoryIndicator,g=e.disabled,b=e.errormessage,x=(0,t.Z)(e,h);return d.createElement(a.__,{hasMandatoryIndicator:_,className:y()(u,(0,o.Z)({},m,g)),"app-checkbox-error":b&&(null===b||void 0===b?void 0:b.length)>0?"error":"false"},d.createElement("span",{className:y()(r)},d.createElement("input",(0,i.Z)({ref:n,className:y()(v),type:"checkbox",disabled:g},x)),d.createElement("span",{className:y()(s)},d.createElement(f.MK,{className:y()(c)}))),d.createElement("span",{className:y()(p)},l))}))},41131:function(e,n,l){"use strict";l.d(n,{C6:function(){return ze},ij:function(){return Re},_G:function(){return Ue},HR:function(){return Fe},ZP:function(){return Le}});var o=l(4942),i=l(1413),t=l(93433),d=l(29439),a=l(67861),u="CustomTemplateModule_section__S+Ga8",r="CustomTemplateModule_accordionContainer__Eooxm",v="CustomTemplateModule_active__x9Y6U",s="CustomTemplateModule_content__3auE3",c="CustomTemplateModule_itemsDetail__9ldd4",p=l(47144),m=l.n(p),f=l(27436),_=l(39518),y=l(89293),h=l(88550),g=l(51330),b=l(73500),x=l(46415),E=l(14170),C={mobilepopup:"CustomSportsClub_mobilepopup__efO50",mobilepopupopen:"CustomSportsClub_mobilepopupopen__R9HZu",mobilePopupActionContainer:"CustomSportsClub_mobilePopupActionContainer__9+kzH",filtersContainer:"CustomSportsClub_filtersContainer__GwQ7c",centerDiv:"CustomSportsClub_centerDiv__oTWCq",fieldInput:"CustomSportsClub_fieldInput__ZHED4"},w=l(6073),Z=l(12308),M=l(11577),S=l(85692),k=l(12075),I=l(52902),N=l(32588),T=l(50981),D=l.n(T),P=l(88827),A=l(88374),O=l(93389),L=l(58535),z=l(17951),R=l(63864),U=l(27658),F=l(9825),W=l.n(F),q=(0,_.$j)((function(e){var n=e.authReducer,l=(n.authenticatedUser.position,n.authenticatedUser),o=e.sessionReducer.user,i=e.flowReducer;return{begunModule:i.begunModule,allModules:i.allModules,companyData:i.companyData,companyUsersArray:i.companyUsersArray,companyPositionsArray:i.companyPositionsArray,components:i.components,authenticatedUser:l,user:o,companyProcesses:i.companyProcesses}}))((function(e){var n,l,u,r,v,s,c,p,m,f,_,g,T,L,R,U,F,W,q,B,Y,j,V,G,J,K,Q,X,$,ee=e.begunModule,ne=e.allModules,le=e.companyData,oe=e.companyUsersArray,ie=e.goto,te=e.components,de=e.authenticatedUser,ae=e.user,ue=e.companyProcesses,re=(e.template,e.title),ve=e.selectedComponent,se=e.setSelectedComponent,ce=(e.step,(0,a.useState)(!1)),pe=(0,d.Z)(ce,2),me=pe[0],fe=pe[1],_e=(0,a.useState)((null===(n=ve.shared_users)||void 0===n||null===(l=n.filter((function(e){return(null===e||void 0===e?void 0:e.id)===(null===de||void 0===de?void 0:de.id)})))||void 0===l?void 0:l.length)>0),ye=(0,d.Z)(_e,2),he=ye[0],ge=ye[1],be=(0,a.useState)((null===(u=ve.component_items)||void 0===u||null===(r=u.filter((function(e){var n,l;return(null===e||void 0===e?void 0:e.value)===(null===de||void 0===de?void 0:de.id)&&"Join"===(null===e||void 0===e?void 0:e.type)&&(null===e||void 0===e?void 0:e.item_code)===(null===ee||void 0===ee||null===(n=ee.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.id)})))||void 0===r?void 0:r.length)>0),xe=(0,d.Z)(be,2),Ee=xe[0],Ce=xe[1],we=(0,a.useState)(!1),Ze=(0,d.Z)(we,2),Me=Ze[0],Se=Ze[1],ke=(0,a.useState)(!1),Ie=(0,d.Z)(ke,2),Ne=Ie[0],Te=Ie[1],De=(0,a.useState)(!1),Pe=(0,d.Z)(De,2),Ae=(Pe[0],Pe[1]),Oe=(0,a.useState)(!1),Le=(0,d.Z)(Oe,2),ze=(Le[0],Le[1]),Re=(0,h.pQ)(),Ue=(0,d.Z)(Re,2),Fe=(Ue[0],Ue[1]),We=(null===de||void 0===de?void 0:de.id)===(null===ve||void 0===ve||null===(v=ve.created_by)||void 0===v?void 0:v.id),qe=1===(null===ve||void 0===ve||null===(s=ve.component_items)||void 0===s?void 0:s.filter((function(e){return"Moderator"===e.type&&(null===e||void 0===e?void 0:e.value)===(null===de||void 0===de?void 0:de.id)})).length),Be=We||qe,Ye=null!==(c=ve.component_fields.find((function(e){return"Private"===e.field_name})))&&void 0!==c&&c,He=null!==(p=null===(m=ve.component_fields.find((function(e){return"My Community"===e.field_name})))||void 0===m?void 0:m.value)&&void 0!==p?p:"Metro Manila",je=null===(f=ve.component_fields.find((function(e){return"Club Description"===e.field_name})))||void 0===f?void 0:f.value,Ve="Yes"===(null===(_=ve.component_fields.find((function(e){return"Basketball"===e.field_name})))||void 0===_?void 0:_.value)?"Basketball":"Yes"===(null===(g=ve.component_fields.find((function(e){return"Pickleball"===e.field_name})))||void 0===g?void 0:g.value)?"Pickleball":"All Sports",Ge=null===ne||void 0===ne?void 0:ne.find((function(e){return"Meets"===(null===e||void 0===e?void 0:e.name)}));return a.createElement("div",null,a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:b.tq?"18px":"20px",fontWeight:"bold",marginTop:b.tq?"":"50px"}},null===re||void 0===re?void 0:re.toUpperCase()),a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"12px",marginTop:"5px"}},"".concat(Ye?"Private":"Public"," \u25e6 ").concat(Ve," \u25e6 ").concat(He)),je&&a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"12px",margin:"40px 0"}},"".concat(je)),he&&!Be&&a.createElement("p",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"14px",fontWeight:"bold",marginTop:"30px"}},"You are a member of this club"),Be&&a.createElement("p",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"14px",fontWeight:"bold",marginTop:"30px"}},qe?"You are a moderator of this club":"You are the admin of this club"),a.createElement(x.mQ,{style:{width:"100%",fontSize:b.tq?"16px":"20px",marginTop:"20px"}},a.createElement(x.td,{style:{fontFamily:"var(--app-text-mobile-font)",fontSsize:b.tq?"14px":"16px"}},Be&&a.createElement(x.OK,null,"DETAILS"),a.createElement(x.OK,null,"MEMBERS"),Ge&&a.createElement(x.OK,null,"MEETS")),Be&&a.createElement(x.x4,{id:"DETAILS"},a.createElement("div",{style:{width:"100%",minHeight:"50vh",overflow:"auto"}},e.children)),a.createElement(x.x4,{id:"MEMBERS"},a.createElement("div",{style:{width:"100%",minHeight:"100vh",overflow:"auto",ppadding:b.tq?"":"0 30%"}},a.createElement("div",{className:C.centeredDiv,style:{justifyContent:"left",width:b.tq?"inherit":"80%",fontSize:"14px",marginTop:"20px"}},a.createElement("div",{style:{fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},"Club Admin"),a.createElement("div",{className:C.filtersContainer},a.createElement(N.Z,{simple:!0,photo:null!==(T=null===ve||void 0===ve||null===(L=ve.created_by)||void 0===L?void 0:L.photo)&&void 0!==T?T:"https://s3-symbol-logo.tradingview.com/logo-yazilim--600.png",email:"Founded club: ".concat(D()(new Date(ve.created_date)).format("DD MMM YYYY")),position:null!==(R=null===de||void 0===de||null===(U=de.options)||void 0===U?void 0:U.info)&&void 0!==R?R:"",firstName:a.createElement("div",{style:{fontWeight:"bold"}},"".concat(null===ve||void 0===ve||null===(F=ve.created_by)||void 0===F?void 0:F.first_name," ").concat(null===ve||void 0===ve||null===(W=ve.created_by)||void 0===W?void 0:W.last_name)),cardClicked:function(){},width:"100%"}))),(null===ve||void 0===ve||null===(q=ve.shared_users)||void 0===q?void 0:q.length)>0&&a.createElement(a.Fragment,null,a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},"Members ( ".concat(null===ve||void 0===ve||null===(B=ve.shared_users)||void 0===B?void 0:B.length," )")),a.createElement(Z.default,{className:C.sharesTable,withColumns:!1,modern:!0,columns:["User","Photo","Bio","Pay"],list:null===ve||void 0===ve||null===(Y=ve.shared_users)||void 0===Y?void 0:Y.map((function(e){var n,l,t,d,u,r=oe.find((function(n){return n.id===e.id})),v=null===ve||void 0===ve||null===(n=ve.component_items)||void 0===n?void 0:n.find((function(e){return"Moderator"===e.type&&(null===e||void 0===e?void 0:e.value)===(null===r||void 0===r?void 0:r.id)}));return r?(u={},(0,o.Z)(u,"User",a.createElement("div",{style:{fontWeight:"bold"}},"".concat(null===r||void 0===r?void 0:r.first_name," ").concat(null===r||void 0===r?void 0:r.last_name))),(0,o.Z)(u,"Photo",null!==(l=null===r||void 0===r?void 0:r.photo)&&void 0!==l?l:null===le||void 0===le?void 0:le.logo),(0,o.Z)(u,"Bio",null!==(t=null===r||void 0===r||null===(d=r.options)||void 0===d?void 0:d.info)&&void 0!==t?t:""),(0,o.Z)(u,"Pay",We?a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"}},v?a.createElement(E.zx,{title:"Remove as Moderator",clicked:function(){var e,n,l;fe(!0),(0,w.KL)((0,i.Z)((0,i.Z)({},ve),{},{component_items:null===ve||void 0===ve||null===(e=ve.component_items)||void 0===e?void 0:e.filter((function(e){return!("Moderator"===e.type&&(null===e||void 0===e?void 0:e.value)===(null===r||void 0===r?void 0:r.id))}))}),ve.id,null===(n=ve.shared_users)||void 0===n?void 0:n.map((function(e){return e.id})),ve.title,null===ve||void 0===ve?void 0:ve.is_complete,null===ve||void 0===ve||null===(l=ve.shared_positions)||void 0===l?void 0:l.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){se(null===e||void 0===e?void 0:e.data),fe(!1)},error:function(){return fe(!1)}})},style:{width:"100%"},titleStyle:{fontSize:"10px"}}):a.createElement(E.zx,{title:"Add as Moderator",clicked:function(){var e,n,l;fe(!0),(0,w.np)({index:null===ve||void 0===ve||null===(e=ve.component_items)||void 0===e?void 0:e.length,item_code:null===ee||void 0===ee||null===(n=ee.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.id,type:"Moderator",value:null===r||void 0===r?void 0:r.id},ve.id).subscribe({next:function(e){se(null===e||void 0===e?void 0:e.data),fe(!1)},error:function(){return fe(!1)}})},style:{width:"100%"},titleStyle:{fontSize:"10px"}}),a.createElement(E.zx,{icon:a.createElement(k.G,{icon:I.$aW,style:{width:"15px",height:"15px"}}),clicked:function(){var e;fe(!0),(0,w.KL)((0,i.Z)((0,i.Z)({},ve),{},{component_items:ve.component_items.filter((function(e){return e.value!==(null===r||void 0===r?void 0:r.id)}))}),ve.id,ve.shared_users.filter((function(e){return e.id!==(null===r||void 0===r?void 0:r.id)})).map((function(e){return e.id})),re,null===ve||void 0===ve?void 0:ve.is_complete,null===ve||void 0===ve||null===(e=ve.shared_positions)||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){var n;ve.shared_users=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.shared_users,se(ve),ge(!1),fe(!1)},error:function(){return fe(!1)}})},style:{width:"50px",backgroundColor:"red",color:"white"},titleStyle:{fontSize:"10px"},loading:me})):a.createElement("div",{style:{fontWeight:"bold"}}," ",v?"Club Moderator":""," ")),u):{User:null===e||void 0===e?void 0:e.id}}))})),Be&&(null===ve||void 0===ve||null===(j=ve.component_items)||void 0===j?void 0:j.filter((function(e){return"Invite"===e.type})).length)>0&&a.createElement(a.Fragment,null,a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},"Invited ( ".concat(null===ve||void 0===ve||null===(V=ve.component_items)||void 0===V?void 0:V.filter((function(e){return"Invite"===e.type})).length," )")),a.createElement(Z.default,{className:C.sharesTable,withColumns:!1,modern:!0,columns:["User","Photo","Bio"],list:null===ve||void 0===ve||null===(G=ve.component_items)||void 0===G||null===(J=G.filter((function(e){return"Invite"===e.type})))||void 0===J?void 0:J.map((function(e){var n,l,i,t,d=oe.find((function(n){return n.id===e.value}));return t={},(0,o.Z)(t,"User","".concat(null===d||void 0===d?void 0:d.first_name," ").concat(null===d||void 0===d?void 0:d.last_name)),(0,o.Z)(t,"Photo",null!==(n=null===d||void 0===d?void 0:d.photo)&&void 0!==n?n:null===le||void 0===le?void 0:le.logo),(0,o.Z)(t,"Bio",null!==(l=null===d||void 0===d||null===(i=d.options)||void 0===i?void 0:i.info)&&void 0!==l?l:""),t}))})),Be&&(null===ve||void 0===ve||null===(K=ve.component_items)||void 0===K?void 0:K.filter((function(e){return"Join"===e.type})).length)>0&&a.createElement(a.Fragment,null,a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},"Requests to Join ( ".concat(null===ve||void 0===ve||null===(Q=ve.component_items)||void 0===Q?void 0:Q.filter((function(e){return"Join"===e.type})).length," )")),a.createElement(Z.default,{className:C.sharesTable,withColumns:!1,modern:!0,columns:["User","Photo","Requests"],list:null===ve||void 0===ve||null===(X=ve.component_items)||void 0===X||null===($=X.filter((function(e){return"Join"===e.type})))||void 0===$?void 0:$.map((function(e){var n,l,d,u,r=oe.find((function(n){return n.id===e.value}));return r?(u={},(0,o.Z)(u,"User",a.createElement("div",{style:{fontWeight:"bold"}},"".concat(null===r||void 0===r?void 0:r.first_name," ").concat(null===r||void 0===r?void 0:r.last_name))),(0,o.Z)(u,"Photo",null!==(n=null===r||void 0===r?void 0:r.photo)&&void 0!==n?n:null===le||void 0===le?void 0:le.logo),(0,o.Z)(u,"Requests",Be?null!==ve&&void 0!==ve&&null!==(l=ve.component_items)&&void 0!==l&&l.find((function(e){return"Payments"===e.type&&(null===e||void 0===e?void 0:e.value)===(null===r||void 0===r?void 0:r.id)}))?"Paid":a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"}},a.createElement("p",{style:{width:"50%"}},null===r||void 0===r||null===(d=r.options)||void 0===d?void 0:d.info),a.createElement(E.zx,{title:"Accept",clicked:function(){var n,l,o;fe(!0),(0,w.KL)((0,i.Z)((0,i.Z)({},ve),{},{component_items:ve.component_items.filter((function(n){return n.id!==e.id}))}),ve.id,[].concat((0,t.Z)(null!==(n=null===(l=ve.shared_users)||void 0===l?void 0:l.map((function(e){return e.id})))&&void 0!==n?n:[]),[null===r||void 0===r?void 0:r.id]),ve.title,null===ve||void 0===ve?void 0:ve.is_complete,null===ve||void 0===ve||null===(o=ve.shared_positions)||void 0===o?void 0:o.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){fe(!1),se(null===e||void 0===e?void 0:e.data)},error:function(){return fe(!1)}})},style:{width:"100%",backgroundColor:"blue"},titleStyle:{fontSize:"10px"},loading:me}),a.createElement(E.zx,{title:"Decline",clicked:function(){var n,l;fe(!0),(0,w.KL)((0,i.Z)((0,i.Z)({},ve),{},{component_items:ve.component_items.filter((function(n){return n.id!==e.id}))}),ve.id,null===(n=ve.shared_users)||void 0===n?void 0:n.map((function(e){return e.id})),ve.title,null===ve||void 0===ve?void 0:ve.is_complete,null===ve||void 0===ve||null===(l=ve.shared_positions)||void 0===l?void 0:l.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){se(null===e||void 0===e?void 0:e.data),fe(!1)},error:function(){return fe(!1)}})},style:{width:"100%",backgroundColor:"red"},titleStyle:{fontSize:"10px"},loading:me})):""),u):{User:null===e||void 0===e?void 0:e.id}}))})),!(he||Ee||Be)&&Ye&&a.createElement(E.zx,{title:"Request to Join Club",clicked:function(){var e,n,l;fe(!0),(0,w.np)({index:null===ve||void 0===ve||null===(e=ve.component_items)||void 0===e?void 0:e.length,item_code:null===ee||void 0===ee||null===(n=ee.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.id,type:"Join",value:null===de||void 0===de?void 0:de.id},ve.id).subscribe({next:function(){Ce(!0),fe(!1)},error:function(){return fe(!1)}})},style:{width:"100%",backgroundColor:"green"},loading:me}),!(he||Be)&&!Ye&&a.createElement(E.zx,{title:"Join Club",clicked:function(){var e,n,l;fe(!0),(0,w.KL)((0,i.Z)((0,i.Z)({},ve),{},{component_items:ve.component_items.filter((function(e){return("Invite"===e.type||"Join"===e.type)&&e.value!==de.id}))}),ve.id,[].concat((0,t.Z)(null!==(e=null===(n=ve.shared_users)||void 0===n?void 0:n.map((function(e){return e.id})))&&void 0!==e?e:[]),[null===de||void 0===de?void 0:de.id]),re,null===ve||void 0===ve?void 0:ve.is_complete,null===ve||void 0===ve||null===(l=ve.shared_positions)||void 0===l?void 0:l.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){var n;ve.shared_users=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.shared_users,ge(!0),fe(!1)},error:function(){return fe(!1)}})},style:{width:"100%",backgroundColor:"blue"},loading:me}),Be&&a.createElement(E.zx,{title:"Invite People",clicked:function(){Te(!0)},style:{width:b.tq?"100%":"300px",backgroundColor:"green"},loading:me}),he&&!Be&&a.createElement(E.zx,{title:"Leave Club",clicked:function(){var e;fe(!0),(0,w.KL)((0,i.Z)((0,i.Z)({},ve),{},{component_items:ve.component_items.filter((function(e){return e.value!==(null===de||void 0===de?void 0:de.id)}))}),ve.id,ve.shared_users.filter((function(e){return e.id!==(null===de||void 0===de?void 0:de.id)})).map((function(e){return e.id})),re,null===ve||void 0===ve?void 0:ve.is_complete,null===ve||void 0===ve||null===(e=ve.shared_positions)||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){var n;ve.shared_users=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.shared_users,se(ve),ge(!1),fe(!1)},error:function(){return fe(!1)}})},style:{width:b.tq?"100%":"300px",backgroundColor:"red"},loading:me}))),Ge&&a.createElement(x.x4,{id:"MEETS"},a.createElement("div",{style:{width:"100%",minHeight:"60vh",overflow:"auto",zIndex:"-1"}},a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"}},a.createElement(E.zx,{light:!0,style:{display:Be?"":"none"},clicked:function(){Se(!0)},icon:a.createElement("img",{src:S.IH})})),!Me&&a.createElement(H,{events:te.filter((function(e){return"Expired"!==e.status&&e.module_id===(null===Ge||void 0===Ge?void 0:Ge.id)})),isAdmin:Be,onEventClick:function(e){var n=te.find((function(n){return n.id===(null===e||void 0===e?void 0:e.event_id)}));ie&&(0,z.navigateToTransaction)(ue,se,Ae,le,n,Fe,de,ee,ae,ne,ze,oe,Ge)}})))),a.createElement("div",{className:Ne?C.mobilepopupopen:C.mobilepopup,style:{display:Ne?"":"none"}},a.createElement("div",{style:{width:"100%",height:"50vh",backgroundColor:"white",opacity:"0.9"},onClick:function(){return Te(!1)}}),a.createElement("div",{className:C.mobilePopupActionContainer,style:{padding:"20px"}},a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},"Invite"),a.createElement(Z.default,{className:C.sharesTable,withColumns:!1,modern:!0,columns:["User","Photo","Bio"],list:oe.filter((function(e){var n,l,o;return!(null!==ve&&void 0!==ve&&null!==(n=ve.shared_users)&&void 0!==n&&null!==(l=n.map((function(e){return e.id})))&&void 0!==l&&l.includes(e.id)||null!==ve&&void 0!==ve&&null!==(o=ve.component_items.filter((function(e){return"Invite"===e.type})).map((function(e){return e.value})))&&void 0!==o&&o.includes(e.id))})).map((function(e){var n,l,i,t;return t={},(0,o.Z)(t,"User","".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name)),(0,o.Z)(t,"Photo",null!==(n=null===e||void 0===e?void 0:e.photo)&&void 0!==n?n:null===le||void 0===le?void 0:le.logo),(0,o.Z)(t,"Bio",null!==(l=null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.info)&&void 0!==l?l:""),(0,o.Z)(t,"id",e.id),t})),onListItemClick:function(e){var n,l,o;fe(!0),(0,w.np)({index:null===ve||void 0===ve||null===(n=ve.component_items)||void 0===n?void 0:n.length,item_code:null===ee||void 0===ee||null===(l=ee.processModule)||void 0===l||null===(o=l.module)||void 0===o?void 0:o.id,type:"Invite",value:null===e||void 0===e?void 0:e.id},ve.id).subscribe({next:function(){fe(!1)},error:function(){return fe(!1)}})}}))),a.createElement("div",{className:Me?C.mobilepopupopen:C.mobilepopup,style:{display:Me?"":"none"}},a.createElement("div",{style:{width:"100%",height:"50vh",backgroundColor:"white",opacity:"0.9"},onClick:function(){return Se(!1)}}),a.createElement("div",{className:C.mobilePopupActionContainer},a.createElement(E.zx,{title:"Create one-off meet",style:{width:"100%"},clicked:function(){var e=function(e){var n,l,o,d,a,u,r=e.steps.filter((function(n){var l,o,i,t,d,a;return void 0==(null===n||void 0===n||null===(l=n.options)||void 0===l?void 0:l.showStepAll)||1==(null===n||void 0===n||null===(o=n.options)||void 0===o?void 0:o.showStepAll)||0==(null===n||void 0===n||null===(i=n.options)||void 0===i?void 0:i.showStepAll)&&(null===n||void 0===n||null===(t=n.options)||void 0===t||null===(d=t.showOnly)||void 0===d?void 0:d.filter((function(e){return de.positions.map((function(e){return e.id})).indexOf(e)>-1})).length)>0||(null===n||void 0===n||null===(a=n.options)||void 0===a?void 0:a.showStepAuthor)&&(null===de||void 0===de?void 0:de.id)===(null===e||void 0===e?void 0:e.user_id)})).map((function(e,n){return(0,i.Z)((0,i.Z)({},e),{},{rank:n+1})}));P.h.dispatch((0,A.q4)(e)),P.h.dispatch((0,A.an)([e],y.Qc)),P.h.dispatch((0,A.q4)((0,i.Z)((0,i.Z)({},e),{},{completeSteps:e.steps,steps:r,stepIndex:2,module_id:Ge.id,module:Ge,isUpdating:!1}))),Fe({action:h._U.setCurrentStep,value:null===e||void 0===e?void 0:e.steps[2]}),Fe({action:h._U.setModuleItems,value:ve.component_items}),Fe({action:h._U.setModuleNewStepComponents,value:[]}),Fe({action:h._U.setComponents,value:[]});var v=(0,t.Z)(null!==(n=null===(l=r[2])||void 0===l?void 0:l.component_blueprints)&&void 0!==n?n:[]);if((null===v||void 0===v?void 0:v.length)>0){var s,c,p=null===(s=v.find((function(e){return e.selected_fields.find((function(e){return"Club"===e.field_name}))})))||void 0===s?void 0:s.selected_fields.find((function(e){return"Club"===e.field_name}));p&&(p.value=re),(p=null===(c=v.find((function(e){return e.selected_fields.find((function(e){return"Sport"===e.field_name}))})))||void 0===c?void 0:c.selected_fields.find((function(e){return"Sport"===e.field_name})))&&(p.value=Ve),Fe({action:h._U.setComponentBlueprints,value:v}),Fe({action:h._U.setModuleNewStepComponents,value:v})}(null===ee||void 0===ee||null===(o=ee.processModule)||void 0===o||null===(d=o.steps)||void 0===d?void 0:d.length)>0&&(null===ee||void 0===ee||null===(a=ee.processModule)||void 0===a||null===(u=a.steps)||void 0===u||u.filter((function(e){var n;return null===e||void 0===e||null===(n=e.component_blueprints)||void 0===n?void 0:n.filter((function(e){return e.selected_fields.filter((function(e){return e.value=void 0}))}))})))};ue.find((function(e){return e.id===Ge.procedure.id}))?(e(ue.find((function(e){return e.id===Ge.procedure.id}))),Se(!1)):(fe(!0),(0,O.zJ)(Ge.procedure.id).pipe((0,M.P)()).subscribe({next:function(n){fe(!1),e(n),Se(!1)},error:function(e){}}))}}))))})),B=function(e){var n,l,u,r,v,s,c,p,m,f,h,g,P,A,O,L,z,F,q,B,Y,H,j,V,G,J,K,Q,X,$,ee,ne,le,oe,ie,te,de,ae,ue,re,ve=e.selectedComponent,se=e.begunModule,ce=e.goto,pe=(0,_.v9)((function(e){return e.flowReducer})),me=pe.companyData,fe=pe.companyUsersArray,_e=pe.components,ye=(0,_.v9)((function(e){return e.authReducer})),he=ye.authenticatedUser,ge=(0,a.useState)(!1),be=(0,d.Z)(ge,2),xe=be[0],Ee=be[1],Ce=(0,a.useState)((null===ve||void 0===ve||null===(n=ve.shared_users)||void 0===n||null===(l=n.filter((function(e){return(null===e||void 0===e?void 0:e.id)===(null===he||void 0===he?void 0:he.id)})))||void 0===l?void 0:l.length)>0),we=(0,d.Z)(Ce,2),Ze=we[0],Me=we[1],Se=(0,a.useState)((null===ve||void 0===ve||null===(u=ve.component_items)||void 0===u||null===(r=u.filter((function(e){var n,l;return(null===e||void 0===e?void 0:e.value)===(null===he||void 0===he?void 0:he.id)&&("Request"===(null===e||void 0===e?void 0:e.type)||"Waitlist"===(null===e||void 0===e?void 0:e.type))&&(null===e||void 0===e?void 0:e.item_code)===(null===se||void 0===se||null===(n=se.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.id)})))||void 0===r?void 0:r.length)>0),ke=(0,d.Z)(Se,2),Ie=ke[0],Ne=ke[1],Te=(0,a.useState)(null===ve||void 0===ve?void 0:ve.component_fields.find((function(e){return"Status"===e.field_name}))),De=(0,d.Z)(Te,1)[0],Pe=(0,a.useState)(null===ve||void 0===ve||null===(v=ve.component_items)||void 0===v?void 0:v.find((function(e){return"Payments"===e.type&&(null===e||void 0===e?void 0:e.value)===(null===he||void 0===he?void 0:he.id)}))),Ae=(0,d.Z)(Pe,2),Oe=Ae[0],Le=Ae[1],ze=(0,a.useState)(""),Re=(0,d.Z)(ze,2),Ue=Re[0],Fe=Re[1],We=(0,a.useState)(!1),qe=(0,d.Z)(We,2),Be=qe[0],Ye=qe[1],He=(0,a.useState)({type:"Match"}),je=(0,d.Z)(He,2),Ve=je[0],Ge=je[1],Je=(0,a.useState)(),Ke=(0,d.Z)(Je,2),Qe=Ke[0],Xe=Ke[1],$e=(null===he||void 0===he?void 0:he.id)===(null===ve||void 0===ve||null===(s=ve.created_by)||void 0===s?void 0:s.id),en=(null===ve||void 0===ve||null===(c=ve.component_fields.find((function(e){return"Sport"===e.field_name})))||void 0===c||c.value,null===ve||void 0===ve||null===(p=ve.component_fields.find((function(e){return"Type"===e.field_name})))||void 0===p||p.value,null===ve||void 0===ve||null===(m=ve.component_fields.find((function(e){return"Notes"===e.field_name})))||void 0===m||m.value,null===ve||void 0===ve?void 0:ve.component_fields.find((function(e){return"Club"===e.field_name}))),nn=_e.find((function(e){var n;return e.module_id===(null===en||void 0===en||null===(n=en.options)||void 0===n?void 0:n.module_id)&&(null===e||void 0===e?void 0:e.component_fields.find((function(e){return e.value===(null===en||void 0===en?void 0:en.value)})))})),ln=(null===nn||void 0===nn||nn.component_fields.find((function(e){return"Value Button"===e.data_type_name&&(null===e||void 0===e?void 0:e.value)})),f=null===nn||void 0===nn||null===(h=nn.component_fields.find((function(e){return"My Community"===e.field_name})))||void 0===h?void 0:h.value,null!==(g=null===ve||void 0===ve?void 0:ve.component_fields.find((function(e){return"Private"===e.field_name})))&&void 0!==g&&g),on="".concat(D()(new Date(null===ve||void 0===ve||null===(P=ve.component_fields.find((function(e){return"Meet Date"===e.field_name})))||void 0===P?void 0:P.value)).format("DD MMM YYYY hh:mm A")),tn=null===ve||void 0===ve?void 0:ve.component_fields.find((function(e){return"Fee"===e.field_name})),dn=function(){return a.createElement("div",null,!(Ze||$e)&&!ln&&!("Closed"===(null===ve||void 0===ve?void 0:ve.status)||"Done"===(null===ve||void 0===ve?void 0:ve.status)||"Cancelled"===(null===ve||void 0===ve?void 0:ve.status)||"Expired"===(null===ve||void 0===ve?void 0:ve.status))&&a.createElement(E.zx,{title:"Join Meet",clicked:function(){var e,n,l;Ee(!0),(0,w.KL)((0,i.Z)((0,i.Z)({},ve),{},{component_items:ve.component_items.filter((function(e){return e.value!==he.id&&"Unavailable"===e.type}))}),ve.id,[].concat((0,t.Z)(null!==(e=null===(n=ve.shared_users)||void 0===n?void 0:n.map((function(e){return e.id})))&&void 0!==e?e:[]),[null===he||void 0===he?void 0:he.id]),null===ve||void 0===ve?void 0:ve.title,null===ve||void 0===ve?void 0:ve.is_complete,null===ve||void 0===ve||null===(l=ve.shared_positions)||void 0===l?void 0:l.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){var n;ve.shared_users=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.shared_users,Me(!0),Ee(!1)},error:function(){return Ee(!1)}})},style:{width:b.tq?"100%":"300px",backgroundColor:"green"},loading:xe}),!Ze&&$e&&!("Closed"===(null===ve||void 0===ve?void 0:ve.status)||"Done"===(null===ve||void 0===ve?void 0:ve.status)||"Cancelled"===(null===ve||void 0===ve?void 0:ve.status)||"Expired"===(null===ve||void 0===ve?void 0:ve.status))&&a.createElement(E.zx,{title:"Participate as Player",clicked:function(){var e,n,l;Ee(!0),(0,w.KL)((0,i.Z)((0,i.Z)({},ve),{},{component_items:ve.component_items.filter((function(e){return e.value!==he.id&&"Unavailable"===e.type}))}),ve.id,[].concat((0,t.Z)(null!==(e=null===(n=ve.shared_users)||void 0===n?void 0:n.map((function(e){return e.id})))&&void 0!==e?e:[]),[null===he||void 0===he?void 0:he.id]),null===ve||void 0===ve?void 0:ve.title,null===ve||void 0===ve?void 0:ve.is_complete,null===ve||void 0===ve||null===(l=ve.shared_positions)||void 0===l?void 0:l.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){var n;ve.shared_users=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.shared_users,Me(!0),Ee(!1)},error:function(){return Ee(!1)}})},style:{width:b.tq?"100%":"300px",backgroundColor:"green"},loading:xe}),Ze&&tn&&!$e&&!Oe&&a.createElement(E.zx,{disabled:+(null===he||void 0===he?void 0:he.wallet)<+(null===tn||void 0===tn?void 0:tn.value),title:"Pay ".concat(null===tn||void 0===tn?void 0:tn.field_name),clicked:function(){+(null===he||void 0===he?void 0:he.wallet)>+(null===tn||void 0===tn?void 0:tn.value)?(Ee(!0),(0,U.e_)({user_id:he.id,id:(0,y.mR)(),total:-+(null===tn||void 0===tn?void 0:tn.value),product:"PY-".concat(null===ve||void 0===ve?void 0:ve.id),notes:"Wallet",quantity:1}).pipe((0,M.P)()).subscribe({next:function(){var e,n,l,o,i;he.wallet=+(+(null!==(e=null===he||void 0===he?void 0:he.wallet)&&void 0!==e?e:0)-+(null===tn||void 0===tn?void 0:tn.value)),(0,w.np)({index:null===ve||void 0===ve||null===(n=ve.component_items)||void 0===n?void 0:n.length,item_code:null===se||void 0===se||null===(l=se.processModule)||void 0===l||null===(o=l.module)||void 0===o?void 0:o.id,type:"Payments",value:null===he||void 0===he?void 0:he.id,alt_value:null===ve||void 0===ve||null===(i=ve.created_by)||void 0===i?void 0:i.id,total:null===tn||void 0===tn?void 0:tn.value},ve.id).subscribe({next:function(e){var n,l;Le(null===e||void 0===e||null===(n=e.component_items)||void 0===n?void 0:n.find((function(e){return"Payments"===e.type&&(null===e||void 0===e?void 0:e.value)===(null===he||void 0===he?void 0:he.id)}))),(0,U.e_)({user_id:null===ve||void 0===ve||null===(l=ve.created_by)||void 0===l?void 0:l.id,id:(0,y.mR)(),total:+(null===tn||void 0===tn?void 0:tn.value),product:"CR-".concat(null===ve||void 0===ve?void 0:ve.id),notes:"Wallet",quantity:1}).pipe((0,M.P)()).subscribe({next:function(){return Ee(!1)},error:function(){return Ee(!1)}})},error:function(){return Ee(!1)}})}})):Fe("Insufficient wallet balance. ( Available: ".concat(null===he||void 0===he?void 0:he.wallet,")"))},style:{width:b.tq?"100%":"300px",backgroundColor:"green"},loading:xe}),Ue&&a.createElement("p",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"14px",fontWeight:"bold"},onClick:function(){return Fe("")}},Ue),Ze&&!$e&&!("Closed"===(null===ve||void 0===ve?void 0:ve.status)||"Done"===(null===ve||void 0===ve?void 0:ve.status)||"Cancelled"===(null===ve||void 0===ve?void 0:ve.status)||"Expired"===(null===ve||void 0===ve?void 0:ve.status))&&a.createElement(E.zx,{title:"Cant Join",clicked:function(){var e,n,l,o,d,a,u;Ee(!0),(0,w.KL)((0,i.Z)((0,i.Z)({},ve),{},{component_items:[].concat((0,t.Z)(null!==(e=null===ve||void 0===ve?void 0:ve.component_items)&&void 0!==e?e:[]),[{index:null===ve||void 0===ve||null===(n=ve.component_items)||void 0===n?void 0:n.length,item_code:null===se||void 0===se||null===(l=se.processModule)||void 0===l||null===(o=l.module)||void 0===o?void 0:o.id,type:"Unavailable",value:null===he||void 0===he?void 0:he.id}])}),ve.id,null===(d=ve.shared_users)||void 0===d||null===(a=d.filter((function(e){return e.id!==(null===he||void 0===he?void 0:he.id)})))||void 0===a?void 0:a.map((function(e){return e.id})),null===ve||void 0===ve?void 0:ve.title,null===ve||void 0===ve?void 0:ve.is_complete,null===ve||void 0===ve||null===(u=ve.shared_positions)||void 0===u?void 0:u.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){var n,l;ve.shared_users=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.shared_users,ve.component_items=null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.component_items,Me(!1),Ee(!1)},error:function(){return Ee(!1)}})},style:{width:b.tq?"100%":"300px"},loading:xe}),!(Ze||$e)&&!Ie&&ln&&!("Closed"===(null===ve||void 0===ve?void 0:ve.status)||"Done"===(null===ve||void 0===ve?void 0:ve.status)||"Cancelled"===(null===ve||void 0===ve?void 0:ve.status)||"Expired"===(null===ve||void 0===ve?void 0:ve.status))&&a.createElement(E.zx,{title:"Request to Join Meet",clicked:function(){var e,n,l;Ee(!0),(0,w.np)({index:null===ve||void 0===ve||null===(e=ve.component_items)||void 0===e?void 0:e.length,item_code:null===se||void 0===se||null===(n=se.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.id,type:"Request",value:null===he||void 0===he?void 0:he.id},ve.id).subscribe({next:function(){Ne(!0),Ee(!1)},error:function(){return Ee(!1)}})},style:{width:b.tq?"100%":"300px",backgroundColor:"var(--app-color-blue)"},loading:xe}))},an=function(){var e,n,l,o,d,u=[].concat((0,t.Z)(fe),[he]).find((function(e){return e.id===Ve.value})),r=[].concat((0,t.Z)(fe),[he]).find((function(e){return e.id===Ve.alt_value})),v=JSON.parse(Ve.item_code);return a.createElement("div",{className:C.mobilePopupActionContainer},a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"18px",fontWeight:"bold"}},null===v||void 0===v?void 0:v.round),a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"12px",marginTop:"5px"}},"Date: ".concat(D()(null===v||void 0===v?void 0:v.date).format("DD MMMM YYYY HH:mm"))),a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"12px",marginTop:"5px"}},"Venue: ".concat(null===v||void 0===v?void 0:v.court)),a.createElement("hr",null),a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"}},a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",marginRight:"20px",width:"50%"}},"".concat(null!==(e=null===u||void 0===u?void 0:u.first_name)&&void 0!==e?e:"Player"," ").concat(null!==(n=null===u||void 0===u?void 0:u.last_name)&&void 0!==n?n:"1")),a.createElement("p",{style:{textAlign:"right",fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",marginRight:"20px",width:"50%"}},"".concat(null!==(l=null===r||void 0===r?void 0:r.first_name)&&void 0!==l?l:"Player"," ").concat(null!==(o=null===r||void 0===r?void 0:r.last_name)&&void 0!==o?o:"2"))),null===v||void 0===v||null===(d=v.matches)||void 0===d?void 0:d.map((function(e,n){return a.createElement("div",{key:n,style:{display:"flex",justifyContent:"space-between",width:"100%"}},a.createElement("input",{defaultValue:null===e||void 0===e?void 0:e.p1,style:{textAlign:"center",width:"50px",height:"50px",margin:"10px"},onChange:function(n){e.p1=n.target.value,Ve.item_code=JSON.stringify(v)}}),a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)"}},"SET ",e.set),a.createElement("input",{defaultValue:null===e||void 0===e?void 0:e.p2,style:{textAlign:"center",width:"50px",height:"50px",margin:"10px"},onChange:function(n){e.p2=n.target.value,Ve.item_code=JSON.stringify(v)}}))})),a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},($e||u.id===he.id||r.id===he.id)&&a.createElement(E.zx,{light:!0,style:{display:"",backgroundColor:"rgb(246,244,236)"},clicked:function(){Ee(!0),(0,w.np)(Ve,ve.id).subscribe({next:function(e){ve.component_items=e.data.component_items,Ee(!1),Ye(!1)},error:function(){return Ee(!1)}})},title:"UPDATE",loading:xe}),($e||u.id===he.id||r.id===he.id)&&a.createElement(E.zx,{light:!0,style:{display:"",backgroundColor:"rgb(246,244,236)"},clicked:function(){var e;v.matches.push({p1:0,p2:0,set:(null===v||void 0===v||null===(e=v.matches)||void 0===e?void 0:e.length)+1}),Ge((0,i.Z)((0,i.Z)({},Ve),{},{item_code:JSON.stringify(v)}))},title:"ADD SET"})))};return a.createElement("div",null,a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:b.tq?"18px":"20px",fontWeight:"bold",marginTop:b.tq?"":"50px"}},null===ve||void 0===ve||null===(A=ve.title)||void 0===A?void 0:A.toUpperCase()),a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"12px",marginTop:"5px"}},on),a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},Ze&&!$e&&a.createElement("p",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"14px",fontWeight:"bold",marginTop:"30px"}},"You are a participant of this meet"),$e&&a.createElement("p",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"14px",fontWeight:"bold",marginTop:"30px"}},"You are the organizer of this meet"),!$e&&tn&&a.createElement("p",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"14px",fontWeight:"bold",marginTop:"30px"}},Oe?"PAID":"FEE (".concat(null===tn||void 0===tn?void 0:tn.value,")"))),a.createElement(x.mQ,{style:{width:"100%",fontSize:b.tq?"16px":"20px",marginTop:"20px"}},a.createElement(x.td,{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:b.tq?"14px":"16px"}},a.createElement(x.OK,null,"DETAILS"),a.createElement(x.OK,null,"PARTICIPANTS"),!("New"===ve.status||"None"===ve.status||"Reopen"===ve.status)&&a.createElement(x.OK,null,"GAMES")),a.createElement(x.x4,{id:"DETAILS"},a.createElement("div",{style:{width:"100%",minHeight:"60vh",overflow:"auto"}},a.createElement("div",{className:C.centeredDiv,style:{width:"inherit",fontSize:"14px",marginTop:"20px"}},e.children,$e&&"Expired"!==(null===ve||void 0===ve?void 0:ve.status)&&a.createElement("div",{style:{width:"100%",display:""}},a.createElement(R.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},className:C.multiselectComponent,visible:!0,mandatory:!1,value:null===De||void 0===De?void 0:De.value,items:null===De||void 0===De||null===(O=De.options)||void 0===O||null===(L=O.list)||void 0===L?void 0:L.map((function(e){return{label:e,value:e}})),onChange:function(e){var n,l;ve.status=e,De.value=e,Ee(!0),(0,w.KL)(ve,ve.id,null===(n=ve.shared_users)||void 0===n?void 0:n.map((function(e){return e.id})),null===ve||void 0===ve?void 0:ve.title,null===ve||void 0===ve?void 0:ve.is_complete,null===ve||void 0===ve||null===(l=ve.shared_positions)||void 0===l?void 0:l.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){Ee(!1)},error:function(){return Ee(!1)}})},fieldLabel:"Status",placeholder:"Select status..."}))))),a.createElement(x.x4,{id:"PARTICIPANTS"},a.createElement("div",{style:{justifyContent:"left",width:b.tq?"100%":"60%",minHeight:"50vh",overflow:"auto",ppadding:b.tq?"":"0 30%"}},!$e&&a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},"Organizer"),!$e&&a.createElement("div",{className:C.filtersContainer},a.createElement(N.Z,{simple:!0,photo:null!==(z=null===he||void 0===he?void 0:he.photo)&&void 0!==z?z:"https://s3-symbol-logo.tradingview.com/logo-yazilim--600.png",email:"",position:null!==(F=null===he||void 0===he||null===(q=he.options)||void 0===q?void 0:q.info)&&void 0!==F?F:"",firstName:a.createElement("div",{style:{fontWeight:"bold"}},"".concat(null===ve||void 0===ve||null===(B=ve.created_by)||void 0===B?void 0:B.first_name," ").concat(null===ve||void 0===ve||null===(Y=ve.created_by)||void 0===Y?void 0:Y.last_name)),cardClicked:function(){},width:"100%"})),(null===ve||void 0===ve||null===(H=ve.shared_users)||void 0===H?void 0:H.length)>0&&a.createElement(a.Fragment,null,a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},"Participants ( ".concat(null===ve||void 0===ve||null===(j=ve.shared_users)||void 0===j?void 0:j.length," )")),a.createElement(Z.default,{className:C.sharesTable,withColumns:!1,modern:!0,columns:["User","Photo","Bio","Pay"],list:null===ve||void 0===ve||null===(V=ve.shared_users)||void 0===V?void 0:V.map((function(e){var n,l,i,t,d,u=fe.find((function(n){return n.id===e.id}));return u?(d={},(0,o.Z)(d,"User",a.createElement("div",{style:{fontWeight:"bold"}},"".concat(null===u||void 0===u?void 0:u.first_name," ").concat(null===u||void 0===u?void 0:u.last_name))),(0,o.Z)(d,"Photo",null!==(n=null===u||void 0===u?void 0:u.photo)&&void 0!==n?n:null===me||void 0===me?void 0:me.logo),(0,o.Z)(d,"Bio",null!==(l=null===u||void 0===u||null===(i=u.options)||void 0===i?void 0:i.info)&&void 0!==l?l:""),(0,o.Z)(d,"Pay",tn&&$e?null!==ve&&void 0!==ve&&null!==(t=ve.component_items)&&void 0!==t&&t.find((function(e){return"Payments"===e.type&&(null===e||void 0===e?void 0:e.value)===(null===u||void 0===u?void 0:u.id)}))?"Paid":a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},a.createElement("p",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"14px",fontWeight:"bold"}},"Unpaid"),a.createElement(E.zx,{title:"Remove",clicked:function(){var e,n;Ee(!0),(0,w.KL)(ve,ve.id,null===(e=ve.shared_users)||void 0===e?void 0:e.filter((function(e){return e.id!==(null===u||void 0===u?void 0:u.id)})).map((function(e){return e.id})),null===ve||void 0===ve?void 0:ve.title,null===ve||void 0===ve?void 0:ve.is_complete,null===ve||void 0===ve||null===(n=ve.shared_positions)||void 0===n?void 0:n.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){var n;ve.component_items=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.component_items,Me(!1),Ee(!1)},error:function(){return Ee(!1)}})},style:{width:"100px"},loading:xe})):""),d):{User:null===e||void 0===e?void 0:e.id}}))})),$e&&(null===ve||void 0===ve||null===(G=ve.component_items)||void 0===G?void 0:G.filter((function(e){return"Unavailable"===e.type})).length)>0&&a.createElement(a.Fragment,null,a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},"Unavailable ( ".concat(null===ve||void 0===ve||null===(J=ve.component_items)||void 0===J?void 0:J.filter((function(e){return"Unavailable"===e.type})).length," )")),a.createElement(Z.default,{className:C.sharesTable,withColumns:!1,modern:!0,columns:["User","Photo","Bio"],list:null===ve||void 0===ve||null===(K=ve.component_items)||void 0===K||null===(Q=K.filter((function(e){return"Unavailable"===e.type})))||void 0===Q?void 0:Q.map((function(e){var n,l,i,t,d=fe.find((function(n){return n.id===e.value}));return t={},(0,o.Z)(t,"User","".concat(null===d||void 0===d?void 0:d.first_name," ").concat(null===d||void 0===d?void 0:d.last_name)),(0,o.Z)(t,"Photo",null!==(n=null===d||void 0===d?void 0:d.photo)&&void 0!==n?n:null===me||void 0===me?void 0:me.logo),(0,o.Z)(t,"Bio",null!==(l=null===d||void 0===d||null===(i=d.options)||void 0===i?void 0:i.info)&&void 0!==l?l:""),t}))})),$e&&(null===ve||void 0===ve||null===(X=ve.component_items)||void 0===X?void 0:X.filter((function(e){return"Request"===e.type||"Waitlist"===e.type})).length)>0&&a.createElement(a.Fragment,null,a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},"Request to Join ( ".concat(null===ve||void 0===ve||null===($=ve.component_items)||void 0===$?void 0:$.filter((function(e){return"Request"===e.type||"Waitlist"===e.type})).length," )")),null===ve||void 0===ve||null===(ee=ve.component_items)||void 0===ee||null===(ne=ee.filter((function(e){return"Request"===e.type||"Waitlist"===e.type})))||void 0===ne?void 0:ne.map((function(e,n){var l=fe.find((function(n){return n.id===e.value}));return a.createElement("div",{key:n,style:{display:"flex"},className:C.filtersContainer},a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",width:"200px",marginRight:"20px"}},"".concat(null===l||void 0===l?void 0:l.first_name," ").concat(null===l||void 0===l?void 0:l.last_name)),a.createElement(E.zx,{title:"Approve",clicked:function(){var e,n,o;Ee(!0),(0,w.KL)((0,i.Z)((0,i.Z)({},ve),{},{component_items:ve.component_items.filter((function(e){return e.value!==l.id&&("Request"===e.type||"Waitlist"===e.type)}))}),ve.id,[].concat((0,t.Z)(null!==(e=null===(n=ve.shared_users)||void 0===n?void 0:n.map((function(e){return e.id})))&&void 0!==e?e:[]),[null===l||void 0===l?void 0:l.id]),null===ve||void 0===ve?void 0:ve.title,null===ve||void 0===ve?void 0:ve.is_complete,null===ve||void 0===ve||null===(o=ve.shared_positions)||void 0===o?void 0:o.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){var n,l;ve.shared_users=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.shared_users,ve.component_items=null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.component_items,Ee(!1)},error:function(){return Ee(!1)}})},style:{width:"100px",backgroundColor:"green",fontSize:"10px"},titleStyle:{fontSize:"10px"},loading:xe}),a.createElement(E.zx,{title:"Decline",clicked:function(){var e,n;Ee(!0),(0,w.KL)((0,i.Z)((0,i.Z)({},ve),{},{component_items:ve.component_items.filter((function(e){return e.value!==l.id&&("Request"===e.type||"Waitlist"===e.type)}))}),ve.id,null===(e=ve.shared_users)||void 0===e?void 0:e.map((function(e){return e.id})),null===ve||void 0===ve?void 0:ve.title,null===ve||void 0===ve?void 0:ve.is_complete,null===ve||void 0===ve||null===(n=ve.shared_positions)||void 0===n?void 0:n.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){var n;ve.component_items=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.component_items,Me(!1),Ee(!1)},error:function(){return Ee(!1)}})},style:{width:"100px"},titleStyle:{fontSize:"10px"},loading:xe}),"Request"===e.type?a.createElement(E.zx,{title:"Waitlist",clicked:function(){Ee(!0),(0,w.np)((0,i.Z)((0,i.Z)({},e),{},{type:"Waitlist"}),ve.id).subscribe({next:function(n){e.type="Waitlist",Ee(!1)},error:function(){return Ee(!1)}})},style:{width:"100px",backgroundColor:"orange"},titleStyle:{fontSize:"10px"},loading:xe}):a.createElement("p",{style:{fontSize:"16px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold"}},"Waitlisted"))}))),Ie&&a.createElement(a.Fragment,null,a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},(null===(le=ve.component_items)||void 0===le||null===(oe=le.filter((function(e){var n,l;return(null===e||void 0===e?void 0:e.value)===(null===he||void 0===he?void 0:he.id)&&"Request"===(null===e||void 0===e?void 0:e.type)&&(null===e||void 0===e?void 0:e.item_code)===(null===se||void 0===se||null===(n=se.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.id)})))||void 0===oe?void 0:oe.length)>0?"Pending Request":"Waitlisted"),a.createElement("div",{className:C.filtersContainer},a.createElement(N.Z,{simple:!0,photo:null!==(ie=null===he||void 0===he?void 0:he.photo)&&void 0!==ie?ie:"https://s3-symbol-logo.tradingview.com/logo-yazilim--600.png",email:"",position:null!==(te=null===he||void 0===he||null===(de=he.options)||void 0===de?void 0:de.info)&&void 0!==te?te:"",firstName:a.createElement("div",{style:{fontWeight:"bold"}},"".concat(null===he||void 0===he?void 0:he.first_name," ").concat(null===he||void 0===he?void 0:he.last_name)),cardClicked:function(){},width:"100%"}))),a.createElement(dn,null))),!("New"===ve.status||"None"===ve.status||"Reopen"===ve.status)&&a.createElement(x.x4,{id:"GAMES"},a.createElement("div",{style:{width:"100%",minHeight:"50vh",overflow:"auto",padding:b.tq?"":"0 30%"}},ce&&$e&&a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"}},a.createElement(E.zx,{light:!0,style:{display:""},clicked:function(){Ye(!0),Ge({type:"Match"})},icon:a.createElement("img",{src:S.IH})})),a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},"Matches ( ".concat(null===ve||void 0===ve||null===(ae=ve.component_items)||void 0===ae?void 0:ae.filter((function(e){return"Match"===e.type})).length," )")),null===ve||void 0===ve||null===(ue=ve.component_items)||void 0===ue||null===(re=ue.filter((function(e){return"Match"===e.type})))||void 0===re?void 0:re.map((function(e,n){var l,o,i,d,u=[].concat((0,t.Z)(fe),[he]).find((function(n){return n.id===e.value})),r=[].concat((0,t.Z)(fe),[he]).find((function(n){return n.id===e.alt_value})),v=JSON.parse(e.item_code),s=v.matches.map((function(e){return"  ".concat(e.p1,"-").concat(e.p2,"  ")})).toString();return a.createElement("div",{key:n,className:C.filtersContainer,onClick:function(){ce&&(Ge(e),Ye(!0))}},a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"space-between"}},a.createElement("div",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",marginRight:"20px"}},"".concat(null===v||void 0===v?void 0:v.round)),a.createElement("div",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",marginRight:"20px"}},"".concat(s))),a.createElement("hr",{style:{border:"0.5px solid var(--app-color-gray-light)"}}),a.createElement("div",{style:{display:"flex",marginTop:"5px",width:"100%",justifyContent:"space-between"}},a.createElement("div",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",marginRight:"20px"}},"".concat(null!==(l=null===r||void 0===r?void 0:r.first_name)&&void 0!==l?l:"Player"," ").concat(null!==(o=null===r||void 0===r?void 0:r.last_name)&&void 0!==o?o:"1")),a.createElement("div",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",marginRight:"20px"}},"".concat(null!==(i=null===u||void 0===u?void 0:u.first_name)&&void 0!==i?i:"Player"," ").concat(null!==(d=null===u||void 0===u?void 0:u.last_name)&&void 0!==d?d:"2"))))}))),a.createElement("div",{className:Be?C.mobilepopupopen:C.mobilepopup,style:{display:Be?"":"none"}},a.createElement("div",{style:{width:"100%",height:"20vh",backgroundColor:"white",opacity:"0.9"},onClick:function(){return Ye(!1)}}),null!==Ve&&void 0!==Ve&&Ve.id?a.createElement(an,null):a.createElement("div",{className:C.mobilePopupActionContainer},a.createElement(R.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},className:C.multiselectComponent,visible:!0,mandatory:!1,items:ve.shared_users.map((function(e,n){var l=fe.find((function(n){return n.id===e.id}));return l?{label:"".concat(null===l||void 0===l?void 0:l.first_name," ").concat(null===l||void 0===l?void 0:l.last_name),value:e.id}:{label:"Player ".concat(n+1),value:n}})),onChange:function(e){Ge((0,i.Z)((0,i.Z)({},Ve),{},{value:e}))},fieldLabel:"Player 1",placeholder:"Select player 1"}),a.createElement(R.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},className:C.multiselectComponent,visible:!0,mandatory:!1,items:ve.shared_users.map((function(e){var n=fe.find((function(n){return n.id===e.id}));return{label:"".concat(n.first_name," ").concat(n.last_name),value:e.id}})),onChange:function(e){Ge((0,i.Z)((0,i.Z)({},Ve),{},{alt_value:e}))},fieldLabel:"Player 2",placeholder:"Select player 2"}),a.createElement(R.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},className:C.multiselectComponent,visible:!0,mandatory:!1,items:[{label:"Round 1",value:"Round 1"},{label:"Round 2",value:"Round 2"},{label:"Round 3",value:"Round 3"},{label:"Round 4",value:"Round 4"},{label:"Round 5",value:"Round 5"},{label:"Round 6",value:"Round 6"},{label:"Round 7",value:"Round 7"},{label:"Round 8",value:"Round 8"},{label:"Round 9",value:"Round 9"}],onChange:function(e){var n,l=JSON.parse(null!==(n=null===Ve||void 0===Ve?void 0:Ve.item_code)&&void 0!==n?n:"{}");l.round=e,l.matches=[{p1:0,p2:0,set:1}],Ge((0,i.Z)((0,i.Z)({},Ve),{},{item_code:JSON.stringify(l)}))},fieldLabel:"Round",placeholder:"Select Round"}),a.createElement("label",{className:C.fieldLabel,style:{color:"var(--app-color-gray-light",fontSize:"12px",marginTop:"10px"}},"Date and Time"),a.createElement("div",{className:C.filtersContainer,style:{height:"60px",border:"2px solid var(--app-color-gray-lighter)",padding:"10px",marginTop:"10px"}},a.createElement(W(),{showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,customInput:a.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",padding:"5px",border:"0px solid var(--app-color-gray-lighter)",backgroundColor:"rgb(246,244,236)"}},a.createElement(k.G,{icon:I.WRo,style:{marginLeft:"10px",width:"14px",height:"14px"}}),a.createElement("input",{value:Qe?D()(Qe).format("DD MMMM YYYY HH:mm"):"",disabled:!0,type:"text",style:{flex:1,outline:"none",fontFamily:"var(--app-text-main-font)",fontSize:"16px",fontWeight:"bold",lineHeight:"20px",color:"#4A4A4A",textAlign:"left",maxWidth:"98%",border:"0px",backgroundColor:"rgb(246,244,236)"},onChange:function(e){}})),className:C.singleInputContainer,selected:Qe?new Date(D()(Qe)):(0,T.now)(),onChange:function(e){if(e>(0,T.now)()){var n;Xe(e);var l=JSON.parse(null!==(n=null===Ve||void 0===Ve?void 0:Ve.item_code)&&void 0!==n?n:"{}");l.date=e,l.matches=[{p1:0,p2:0,set:1}],Ge((0,i.Z)((0,i.Z)({},Ve),{},{item_code:JSON.stringify(l)}))}}})),a.createElement(R.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},className:C.multiselectComponent,visible:!0,mandatory:!1,items:[{label:"Court 1",value:"Court 1"},{label:"Court 2",value:"Court 2"},{label:"Court 3",value:"Court 3"},{label:"Court 4",value:"Court 4"},{label:"Court 5",value:"Court 5"},{label:"Court 6",value:"Court 6"},{label:"Court 7",value:"Court 7"},{label:"Court 8",value:"Court 8"},{label:"Court 9",value:"Court 9"}],onChange:function(e){var n,l=JSON.parse(null!==(n=null===Ve||void 0===Ve?void 0:Ve.item_code)&&void 0!==n?n:"{}");l.court=e,l.matches=[{p1:0,p2:0,set:1}],Ge((0,i.Z)((0,i.Z)({},Ve),{},{item_code:JSON.stringify(l)}))},fieldLabel:"Court",placeholder:"Select Court"}),(null===Ve||void 0===Ve?void 0:Ve.value)&&(null===Ve||void 0===Ve?void 0:Ve.alt_value)&&(null===Ve||void 0===Ve?void 0:Ve.item_code)&&a.createElement(E.zx,{title:"Create match",style:{width:"100%"},clicked:function(){var e;Ee(!0),(0,w.np)((0,i.Z)((0,i.Z)({},Ve),{},{index:null===ve||void 0===ve||null===(e=ve.component_items)||void 0===e?void 0:e.length}),ve.id).subscribe({next:function(e){ve.component_items=e.data.component_items,Ee(!1),Ye(!1)},error:function(){return Ee(!1)}})},loading:xe}))))))},Y=function(e){var n=e.begunModule,l=e.authenticatedUser,o=(e.user,e.template,(0,_.v9)((function(e){return e.flowReducer}))),u=(o.companyData,o.companyUsersArray,o.components),r=(o.companyPositionsArray,o.allModules,o.companyProcesses,(0,a.useState)(!1)),v=(0,d.Z)(r,2),s=v[0],c=v[1],p=u.filter((function(e){return e.module_id===n.processModule.module_id&&e.component_items.find((function(e){return"Invite"===e.type&&e.value===l.id}))})).map((function(e){return(0,i.Z)((0,i.Z)({},e.component_items.find((function(e){return"Invite"===e.type&&e.value===l.id}))),{},{club:e})}));return a.createElement("div",{style:{width:"100%",padding:"0 20px",fontFamily:"var(--app-text-main-font)"}},null===p||void 0===p?void 0:p.map((function(e,n){return a.createElement("div",{className:C.filtersContainer,key:n,style:{border:"0"}},a.createElement(N.Z,{photo:"https://s3-symbol-logo.tradingview.com/logo-yazilim--600.png",firstName:a.createElement("div",{style:{fontWeight:"bold"}},"".concat(e.club.title)),position:"has invited you to join their club",email:"",ccardClicked:function(){var n,o,d,a,u;c(!0),(0,w.KL)((0,i.Z)((0,i.Z)({},e.club),{},{component_items:e.club.component_items.filter((function(n){return n.id!==e.id}))}),e.club.id,[].concat((0,t.Z)(null!==(n=null===(o=e.club.shared_users)||void 0===o?void 0:o.map((function(e){return e.id})))&&void 0!==n?n:[]),[null===l||void 0===l?void 0:l.id]),e.club.title,null===(d=e.club)||void 0===d?void 0:d.is_complete,null===e||void 0===e||null===(a=e.club)||void 0===a||null===(u=a.shared_positions)||void 0===u?void 0:u.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(n){var l;e.club.shared_users=null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.shared_users,c(!1)},error:function(){return c(!1)}})},width:"100%"},a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},a.createElement(E.zx,{title:"Accept",clicked:function(){var n,o,d,a,u;c(!0),(0,w.KL)((0,i.Z)((0,i.Z)({},e.club),{},{component_items:e.club.component_items.filter((function(n){return n.id!==e.id}))}),e.club.id,[].concat((0,t.Z)(null!==(n=null===(o=e.club.shared_users)||void 0===o?void 0:o.map((function(e){return e.id})))&&void 0!==n?n:[]),[null===l||void 0===l?void 0:l.id]),e.club.title,null===(d=e.club)||void 0===d?void 0:d.is_complete,null===e||void 0===e||null===(a=e.club)||void 0===a||null===(u=a.shared_positions)||void 0===u?void 0:u.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(n){var l;e.club.shared_users=null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.shared_users,c(!1)},error:function(){return c(!1)}})},style:{width:"80px",backgroundColor:"blue"},titleStyle:{fontSize:"12px"},loading:s}),a.createElement(E.zx,{title:"Decline",clicked:function(){var n,l,o,t;c(!0),(0,w.KL)((0,i.Z)((0,i.Z)({},e.club),{},{component_items:e.club.component_items.filter((function(n){return n.id!==e.id}))}),e.club.id,null===(n=e.club.shared_users)||void 0===n?void 0:n.map((function(e){return e.id})),e.club.title,null===(l=e.club)||void 0===l?void 0:l.is_complete,null===e||void 0===e||null===(o=e.club)||void 0===o||null===(t=o.shared_positions)||void 0===t?void 0:t.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){c(!1)},error:function(){return c(!1)}})},style:{width:"80px",backgroundColor:"red"},titleStyle:{fontSize:"12px"},loading:s}))))})))},H=function(e){var n=e.events,l=e.onEventClick,o=e.isAdmin,i=void 0===o||o,t=(0,a.useState)("day"),u=(0,d.Z)(t,2),r=u[0],v=u[1];return a.createElement(L.Scheduler,{style:{fontFamily:"var(--app-text-main-font)",fontSize:"30px"},events:null===n||void 0===n?void 0:n.map((function(e){var n,l,o=null===(n=e.component_fields.find((function(e){return"Meet Date"===e.field_name&&"Date"===e.data_type_name})))||void 0===n?void 0:n.value,i=null===(l=e.component_fields.find((function(e){return"Ends"===e.field_name&&"Date"===e.data_type_name})))||void 0===l?void 0:l.value;return{event_id:e.id,title:e.title,start:new Date(Date.parse(o)),end:new Date(Date.parse(i)),admin_id:e.id,editable:!1,deletable:!1}})),agenda:!0,navigation:i,alwaysShowAgendaDays:!1,view:r,onEventClick:l,onViewChange:function(e){return v(e)}})},j=function(e){var n,l,u,r,v,s,c,p=e.selectedComponent,m=e.begunModule,f=e.goto,g=e.setSelectedComponent,N=(0,_.v9)((function(e){return e.flowReducer})),T=N.companyData,D=N.companyUsersArray,L=N.components,F=N.allModules,W=N.companyProcesses,q=(0,_.v9)((function(e){return e.authReducer})),B=q.authenticatedUser,Y=(0,a.useState)(!1),j=(0,d.Z)(Y,2),V=j[0],G=j[1],J=(0,a.useState)(!1),K=(0,d.Z)(J,2)[1],Q=(0,h.pQ)(),X=(0,d.Z)(Q,2)[1],$=(0,a.useState)(null===p||void 0===p||null===(n=p.component_items)||void 0===n?void 0:n.find((function(e){return"Payments"===e.type&&(null===e||void 0===e?void 0:e.value)===(null===B||void 0===B?void 0:B.id)}))),ee=(0,d.Z)($,2),ne=ee[0],le=(ee[1],(0,a.useState)("")),oe=(0,d.Z)(le,2),ie=oe[0],te=oe[1],de=(0,a.useState)(!1),ae=(0,d.Z)(de,2),ue=ae[0],re=ae[1],ve=(0,a.useState)(!1),se=(0,d.Z)(ve,2),ce=(se[0],se[1]),pe=(0,a.useState)([]),me=(0,d.Z)(pe,2),fe=me[0],_e=me[1],ye=(0,a.useState)({type:"Service"}),he=(0,d.Z)(ye,2),ge=he[0],be=he[1],xe=(null===B||void 0===B?void 0:B.id)===(null===p||void 0===p||null===(l=p.created_by)||void 0===l?void 0:l.id),Ee=(null===p||void 0===p||p.component_fields.find((function(e){return"Club"===e.field_name})),null===F||void 0===F?void 0:F.find((function(e){return"Meets"===(null===e||void 0===e?void 0:e.name)})));return a.createElement("div",null,a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:b.tq?"18px":"20px",fontWeight:"bold",marginTop:b.tq?"":"50px"}},null===p||void 0===p||null===(u=p.title)||void 0===u?void 0:u.toUpperCase()),a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},xe&&a.createElement("p",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"14px",fontWeight:"bold",marginTop:"30px"}},"You are the admin of this facility")),a.createElement(x.mQ,{style:{width:"100%",fontSize:b.tq?"12px":"20px",marginTop:"20px"},onSelect:function(e){3==e&&(0,U.GP)().pipe((0,M.P)()).subscribe({next:function(e){_e(e.data)},error:function(){}})}},a.createElement(x.td,{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:b.tq?"10px":"16px"}},a.createElement(x.OK,null,"INFO"),a.createElement(x.OK,null,"ACTIVITIES"),a.createElement(x.OK,null,"SERVICES"),a.createElement(x.OK,null,"PURCHASES")),a.createElement(x.x4,{id:"DETAILS"},a.createElement("div",{style:{width:"100%",minHeight:"60vh",overflow:"auto"}},a.createElement("div",{className:C.centeredDiv,style:{width:"inherit",fontSize:"14px",marginTop:"20px"}},e.children))),a.createElement(x.x4,{id:"ACTIVITIES"},a.createElement("div",{style:{width:"100%",minHeight:"60vh",overflow:"auto",zIndex:"-1"}},a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"}},a.createElement(E.zx,{light:!0,style:{display:xe?"":"none"},clicked:function(){var e=function(e){var n,l,o,d,a,u,r=e.steps.filter((function(n){var l,o,i,t,d,a;return void 0==(null===n||void 0===n||null===(l=n.options)||void 0===l?void 0:l.showStepAll)||1==(null===n||void 0===n||null===(o=n.options)||void 0===o?void 0:o.showStepAll)||0==(null===n||void 0===n||null===(i=n.options)||void 0===i?void 0:i.showStepAll)&&(null===n||void 0===n||null===(t=n.options)||void 0===t||null===(d=t.showOnly)||void 0===d?void 0:d.filter((function(e){return B.positions.map((function(e){return e.id})).indexOf(e)>-1})).length)>0||(null===n||void 0===n||null===(a=n.options)||void 0===a?void 0:a.showStepAuthor)&&(null===B||void 0===B?void 0:B.id)===(null===e||void 0===e?void 0:e.user_id)})).map((function(e,n){return(0,i.Z)((0,i.Z)({},e),{},{rank:n+1})}));P.h.dispatch((0,A.q4)(e)),P.h.dispatch((0,A.an)([e],y.Qc)),P.h.dispatch((0,A.q4)((0,i.Z)((0,i.Z)({},e),{},{completeSteps:e.steps,steps:r,stepIndex:2,module_id:Ee.id,module:Ee,isUpdating:!1}))),X({action:h._U.setCurrentStep,value:null===e||void 0===e?void 0:e.steps[2]}),X({action:h._U.setModuleItems,value:p.component_items}),X({action:h._U.setModuleNewStepComponents,value:[]}),X({action:h._U.setComponents,value:[]});var v=(0,t.Z)(null!==(n=null===(l=r[2])||void 0===l?void 0:l.component_blueprints)&&void 0!==n?n:[]);if((null===v||void 0===v?void 0:v.length)>0){var s,c=null===(s=v.find((function(e){return e.selected_fields.find((function(e){return"Sport"===e.field_name}))})))||void 0===s?void 0:s.selected_fields.find((function(e){return"Sport"===e.field_name}));c&&(c.value="Basketball"),X({action:h._U.setComponentBlueprints,value:v}),X({action:h._U.setModuleNewStepComponents,value:v})}(null===m||void 0===m||null===(o=m.processModule)||void 0===o||null===(d=o.steps)||void 0===d?void 0:d.length)>0&&(null===m||void 0===m||null===(a=m.processModule)||void 0===a||null===(u=a.steps)||void 0===u||u.filter((function(e){var n;return null===e||void 0===e||null===(n=e.component_blueprints)||void 0===n?void 0:n.filter((function(e){return e.selected_fields.filter((function(e){return e.value=void 0}))}))})))};W.find((function(e){return e.id===Ee.procedure.id}))?e(W.find((function(e){return e.id===Ee.procedure.id}))):(G(!0),(0,O.zJ)(Ee.procedure.id).pipe((0,M.P)()).subscribe({next:function(n){G(!1),e(n)},error:function(e){}}))},icon:a.createElement("img",{src:S.IH})})),a.createElement(H,{events:L.filter((function(e){return"Expired"!==e.status&&e.module_id===(null===Ee||void 0===Ee?void 0:Ee.id)})),isAdmin:xe,onEventClick:function(e){var n=L.find((function(n){return n.id===(null===e||void 0===e?void 0:e.event_id)}));f&&(0,z.navigateToTransaction)(W,g,ce,T,n,X,B,m,B,F,K,D,Ee)}}))),a.createElement(x.x4,{id:"SERVICES"},a.createElement("div",{style:{width:"100%",minHeight:"60vh",overflow:"auto",padding:b.tq?"":"0 30%"}},a.createElement("div",{className:C.centeredDiv,style:{width:"inherit",fontSize:"14px",marginTop:"20px"}},xe&&a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"}},a.createElement(E.zx,{light:!0,style:{display:""},clicked:function(){re(!0),be({type:"Service"})},icon:a.createElement("img",{src:S.IH,loading:V})})),(null===p||void 0===p||null===(r=p.component_items)||void 0===r?void 0:r.filter((function(e){return"Service"===e.type})).length)>0&&a.createElement(a.Fragment,null,a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},"Merchandise and Services"),ie&&a.createElement("p",{style:{fontFamily:"var(--app-text-mobile-font)",color:"green",fontSize:"14px",fontWeight:"bold"},onClick:function(){return te("")}},ie),a.createElement(Z.default,{className:C.sharesTable,withColumns:!1,modern:!0,columns:["value","description","quantity","item_code","photo","controls"],list:null===p||void 0===p||null===(v=p.component_items)||void 0===v||null===(s=v.filter((function(e){return"Service"===e.type})))||void 0===s?void 0:s.map((function(e,n){var l;return e.qty=null!==(l=null===e||void 0===e?void 0:e.qty)&&void 0!==l?l:1,{item_code:null===e||void 0===e?void 0:e.item_code,value:null===e||void 0===e?void 0:e.value,quantity:null===e||void 0===e?void 0:e.total,description:null===e||void 0===e?void 0:e.alt_value,photo:null===e||void 0===e?void 0:e.quantity,controls:a.createElement("div",{style:{display:"flex",justifyContent:"left",justifyItems:"center",alignContent:"center",alignItems:"center"}},!xe&&a.createElement(E.zx,{light:!0,title:"Purchase",disabled:void 0===(null===B||void 0===B?void 0:B.wallet)||(null===B||void 0===B?void 0:B.wallet)<+(null===e||void 0===e?void 0:e.total),clicked:function(){G(!0),(0,U.e_)({user_id:B.id,id:(0,y.mR)(),total:-+(null===e||void 0===e?void 0:e.total)*(null===e||void 0===e?void 0:e.qty),product:"".concat(null===e||void 0===e?void 0:e.alt_value),notes:"Purchases",quantity:null===e||void 0===e?void 0:e.qty}).pipe((0,M.P)()).subscribe({next:function(){var n;B.wallet=+(+(null!==(n=null===B||void 0===B?void 0:B.wallet)&&void 0!==n?n:0)+ne),G(!1),te("You have bought ".concat(e.qty,"x ").concat(null===e||void 0===e?void 0:e.alt_value,". You may claim the item/s")),window.scrollTo({top:0,behavior:"smooth"})},error:function(){return G(!1)}})},loading:0===n&&V}),!xe&&a.createElement("input",{type:"number",defaultValue:null===e||void 0===e?void 0:e.qty,style:{textAlign:"center",width:"50px",height:"40px",margin:"0 10px 0 0",fontFamily:"var(--app-text-main-font)",fontSize:"16px"},onChange:function(n){e.qty=+n.target.value}}),xe&&a.createElement(E.zx,{light:!0,icon:a.createElement(k.G,{icon:I.$aW,style:{width:"20px",height:"16px"}}),disabled:void 0===(null===B||void 0===B?void 0:B.wallet)||(null===B||void 0===B?void 0:B.wallet)<+(null===e||void 0===e?void 0:e.total),clicked:function(){var n,l,o;G(!0),(0,w.KL)((0,i.Z)((0,i.Z)({},p),{},{component_items:null===p||void 0===p||null===(n=p.component_items)||void 0===n?void 0:n.filter((function(n){return(null===n||void 0===n?void 0:n.id)!==(null===e||void 0===e?void 0:e.id)}))}),p.id,null===(l=p.shared_users)||void 0===l?void 0:l.map((function(e){return e.id})),p.title,null===p||void 0===p?void 0:p.is_complete,null===p||void 0===p||null===(o=p.shared_positions)||void 0===o?void 0:o.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){g(null===e||void 0===e?void 0:e.data),G(!1)},error:function(){return G(!1)}})}}))}}))})),a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},"Note: Some products and services here may require credits to be available in your app wallet")))),a.createElement(x.x4,{id:"PURCHASES"},a.createElement("div",{style:{width:"100%",minHeight:"60vh",overflow:"auto",padding:b.tq?"":"0 25%"}},ie&&a.createElement("p",{style:{fontFamily:"var(--app-text-mobile-font)",color:"green",fontSize:"14px",fontWeight:"bold"},onClick:function(){return te("")}},ie),a.createElement(Z.default,{className:C.sharesTable,modern:!0,columns:["Item","Cost","Quantity","Sold To"].concat(xe?["Options"]:[]),list:null===fe||void 0===fe||null===(c=fe.filter((function(e){return"Purchases"===e.stripe_status&&(xe?e.user_id!==(null===B||void 0===B?void 0:B.id):e.user_id===(null===B||void 0===B?void 0:B.id))})))||void 0===c?void 0:c.map((function(e,n){var l,i;return i={Item:e.stripe_product,Cost:Math.abs(+(null===e||void 0===e?void 0:e.stripe_price)),Quantity:null===e||void 0===e?void 0:e.quantity},(0,o.Z)(i,"Sold To",null===(l=D.find((function(n){return n.id===(null===e||void 0===e?void 0:e.user_id)})))||void 0===l?void 0:l.first_name),(0,o.Z)(i,"Options",fe.find((function(n){return n.stripe_id===e.id}))?null:a.createElement("div",{style:{display:"flex",justifyContent:"left",justifyItems:"center",alignContent:"center",alignItems:"center"}},xe&&a.createElement(E.zx,{light:!0,title:"Release",disabled:void 0===(null===B||void 0===B?void 0:B.wallet)||(null===B||void 0===B?void 0:B.wallet)<+(null===e||void 0===e?void 0:e.total),clicked:function(){G(!0),(0,U.e_)({user_id:B.id,id:null===e||void 0===e?void 0:e.id,total:-+(null===e||void 0===e?void 0:e.stripe_price),product:"".concat(null===e||void 0===e?void 0:e.stripe_product),notes:"Purchases",quantity:null===e||void 0===e?void 0:e.quantity}).pipe((0,M.P)()).subscribe({next:function(n){var l;_e([].concat((0,t.Z)(fe),[n])),B.wallet=+(+(null!==(l=null===B||void 0===B?void 0:B.wallet)&&void 0!==l?l:0)+ +(null===n||void 0===n?void 0:n.stripe_price)),te("You have sold ".concat(e.qty,"x ").concat(null===e||void 0===e?void 0:e.stripe_product)),G(!1),window.scrollTo({top:0,behavior:"smooth"})},error:function(){return G(!1)}})},loading:0===n&&V}))),i}))})))),a.createElement("div",{className:ue?C.mobilepopupopen:C.mobilepopup,style:{display:ue?"":"none"}},a.createElement("div",{style:{width:"100%",height:"20vh",backgroundColor:"white",opacity:"0.9"},onClick:function(){return re(!1)}}),a.createElement("div",{className:C.mobilePopupActionContainer},a.createElement(R.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},className:C.multiselectComponent,visible:!0,mandatory:!1,items:[{label:"Court Rental",value:"Court Rental"},{label:"Equipment Rental",value:"Equipment Rental"},{label:"Food",value:"Food"},{label:"Others",value:"Others"}],onChange:function(e){be((0,i.Z)((0,i.Z)({},ge),{},{item_code:e}))},fieldLabel:"Service Type",placeholder:"Select Service"}),a.createElement("label",{className:C.fieldLabel,style:{color:"var(--app-color-gray-light",fontSize:"12px",marginTop:"10px"}},"Name"),a.createElement("input",{type:"text",className:C.fieldInput,onChange:function(e){be((0,i.Z)((0,i.Z)({},ge),{},{value:e.target.value}))}}),a.createElement("label",{className:C.fieldLabel,style:{color:"var(--app-color-gray-light",fontSize:"12px",marginTop:"10px"}},"Description"),a.createElement("input",{type:"text",className:C.fieldInput,onChange:function(e){be((0,i.Z)((0,i.Z)({},ge),{},{alt_value:e.target.value}))}}),a.createElement("label",{className:C.fieldLabel,style:{color:"var(--app-color-gray-light",fontSize:"12px",marginTop:"10px"}},"Photo"),a.createElement("input",{type:"text",className:C.fieldInput,onChange:function(e){be((0,i.Z)((0,i.Z)({},ge),{},{quantity:e.target.value}))}}),a.createElement("label",{className:C.fieldLabel,style:{color:"var(--app-color-gray-light",fontSize:"12px",marginTop:"10px"}},"Price"),a.createElement("input",{type:"number",className:C.fieldInput,onChange:function(e){be((0,i.Z)((0,i.Z)({},ge),{},{total:e.target.value}))}}),(null===ge||void 0===ge?void 0:ge.value)&&(null===ge||void 0===ge?void 0:ge.alt_value)&&(null===ge||void 0===ge?void 0:ge.item_code)&&a.createElement(E.zx,{title:"Add service",style:{width:"100%"},clicked:function(){var e;G(!0),(0,w.np)((0,i.Z)((0,i.Z)({},ge),{},{index:null===p||void 0===p||null===(e=p.component_items)||void 0===e?void 0:e.length}),p.id).subscribe({next:function(e){p.component_items=e.data.component_items,G(!1),re(!1)},error:function(){return G(!1)}})},loading:V}))))},V=l(35606),G=l(79544),J=l(98032),K=l(74369),Q=l(13397),X=l(85841),$=l(22781),ee=l(3295),ne=l(12892),le=l(7924),oe=l(41756),ie=l.n(oe),te=(l(16207),"CustomGeneric_accordionContainer__sELnZ"),de=l(48963),ae={itemsTable:"CustomHR_itemsTable__HAV5Z",inputValue:"CustomHR_inputValue__OSYPp",multiselectComponent:"CustomHR_multiselectComponent__m25o5",dropdownComponent:"CustomHR_dropdownComponent__l2dQs",dropdownComponent_ii:"CustomHR_dropdownComponent_ii__pPeh5",title:"CustomHR_title__qfol-",subtitle:"CustomHR_subtitle__yCda9",timer:"CustomHR_timer__iWj0M",centerDiv:"CustomHR_centerDiv__Yvw6F",avatarUrlImg:"CustomHR_avatarUrlImg__k-p8m"},ue=l(60534),re=l(75105),ve=l(10103),se=((0,_.$j)((function(e){var n=e.authReducer,l=(n.authenticatedUser.position,n.authenticatedUser),o=e.sessionReducer.user,i=e.flowReducer;return{begunModule:i.begunModule,allModules:i.allModules,companyData:i.companyData,companyUsersArray:i.companyUsersArray,companyPositionsArray:i.companyPositionsArray,components:i.components,authenticatedUser:l,user:o,companyProcesses:i.companyProcesses}}))((function(e){var n=e.title;return a.createElement("div",{className:te},a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:b.tq?"18px":"20px",fontWeight:"bold",marginTop:b.tq?"":"50px"}},n))})),function(e){var n,l,i,u,r,v=e.selectedComponent,s=e.component_blueprint,c=e.isUpdating,p=void 0===c||c,m=(0,_.v9)((function(e){return e.flowReducer})),f=m.components,g=(0,a.useState)("month"),C=(0,d.Z)(g,2),w=C[0],Z=C[1],M=(0,a.useState)((0,X.v)(new Date,{weekStartsOn:1})),N=(0,d.Z)(M,2),P=N[0],A=N[1],O=(0,a.useState)((0,$.z)(P,{weekStartsOn:1})),L=(0,d.Z)(O,2),z=L[0],U=L[1],F=(0,h.pQ)(),q=(0,d.Z)(F,2)[1],B=new Date,Y=(0,a.useState)(v.component_items.filter((function(e){return(0,ee.WU)(e.value,"MM/yyyy")===(0,ee.WU)(B,"MM/yyyy")}))),H=(0,d.Z)(Y,2),j=H[0],Q=H[1],oe=function(e){var n,l=e.type,o=e.itm,i=e.edit,d=void 0===i||i;return a.createElement(a.Fragment,null,("Start Time"===l||"all"===l)&&d&&a.createElement(ie,{showTimeSelect:!0,value:o.value,style:{width:"100%",border:"1px solid black",fontSize:"14px"},handleDate:function(e){o.value=e,null!==o&&void 0!==o&&o.alt_value&&null!==o&&void 0!==o&&o.value&&(o.total=(D()(new Date(o.alt_value),"DD/MM/YYYY").diff(D()(new Date(o.value),"DD/MM/YYYY"),"minutes")/60).toFixed(2),q({action:h._U.setModuleItems,value:[].concat((0,t.Z)(v.component_items.filter((function(e){return e.id!==o.id}))),[o])})),Q([].concat((0,t.Z)(j.filter((function(e){return e.id!==o.id}))),[o]))}}),("End Time"===l||"all"===l)&&d&&a.createElement(ie,{showTimeSelect:!0,value:o.alt_value,style:{width:"100%",border:"1px solid black",fontSize:"14px"},handleDate:function(e){o.alt_value=e,null!==o&&void 0!==o&&o.alt_value&&null!==o&&void 0!==o&&o.value&&(o.total=(D()(new Date(o.alt_value),"DD/MM/YYYY").diff(D()(new Date(o.value),"DD/MM/YYYY"),"minutes")/60).toFixed(2),q({action:h._U.setModuleItems,value:[].concat((0,t.Z)(v.component_items.filter((function(e){return e.id!==o.id}))),[o])})),Q([].concat((0,t.Z)(j.filter((function(e){return e.id!==o.id}))),[o]))}}),("Duration"===l||"all"===l)&&d&&a.createElement("input",{defaultValue:null!==(n=null===o||void 0===o?void 0:o.total)&&void 0!==n?n:0,type:"number",className:ae.inputValue,style:{fontWeight:"bold",fontSize:"14px",border:"0.3px dashed gray",height:"45px",width:"100%",margin:"20px 0",paddingLeft:"10px"},onBlur:function(e){o.total!==e.target.value&&(o.total=e.target.value,q({action:h._U.setModuleItems,value:[].concat((0,t.Z)(v.component_items.filter((function(e){return e.id!==o.id}))),[o])}))}}),("Work Details"===l||"all"===l)&&d&&a.createElement("input",{defaultValue:o.item_code,className:ae.inputValue,style:{fontWeight:"bold",fontSize:"14px",border:"0.3px dashed gray",height:"48px",width:(b.tq,"100%"),minWidth:"300px",paddingLeft:"10px"},onBlur:function(e){o.item_code!==e.target.value&&(o.item_code=e.target.value,q({action:h._U.setModuleItems,value:[].concat((0,t.Z)(v.component_items.filter((function(e){return e.id!==o.id}))),[o])}))}}),("Project"===l||"all"===l)&&d&&a.createElement("div",{style:{border:null!==e&&void 0!==e&&e.disabled?"none":"0.3px dashed gray",minWidth:b.tq?"":"200px",padding:"6px 0"}},a.createElement(R.Z,{value:null===o||void 0===o?void 0:o.quantity,titleProps:{fontSize:"14px",color:"var(--app-color-gray-light)"},className:ae.dropdownComponent,visible:!0,mandatory:!1,items:f.filter((function(e){var n;return e.component_fields.filter((function(e){var n;return e.component_blueprint_id===(null===re||void 0===re||null===(n=re.options)||void 0===n?void 0:n.component_id)})).length>0||e.module_id===(null===re||void 0===re||null===(n=re.options)||void 0===n?void 0:n.module_id)})).map((function(e){var n,l,o="";return null===re||void 0===re||null===(n=re.options)||void 0===n||null===(l=n.names)||void 0===l||l.map((function(n){var l,i;return o=""===o?null===(l=e.component_fields.find((function(e){return e.field_name===n})))||void 0===l?void 0:l.value:"".concat(o," ").concat(null===(i=e.component_fields.find((function(e){return e.field_name===n})))||void 0===i?void 0:i.value)})),{label:o=""!==o&&o?o:e.title,value:o}})),onChange:function(e){o.quantity=e,o.alt_value||(o.alt_value=new Date),o.value||(o.value=new Date),q({action:h._U.setModuleItems,value:[].concat((0,t.Z)(v.component_items.filter((function(e){return e.id!==o.id}))),[o])})}},a.createElement("input",{value:null===o||void 0===o?void 0:o.quantity,className:ae.inputValue,style:{fontWeight:"bold",fontSize:"14px"},readOnly:!0}))),("Actions"===l||"all"===l)&&a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",width:"50px"}},a.createElement(k.G,{icon:I.$aW,onClick:function(){q({action:h._U.setModuleItems,value:j.filter((function(e){return e.id!==o.id}))}),Q(j.filter((function(e){return e.id!==o.id})))}})),!d&&a.createElement("input",{value:"Duration"===l?null===o||void 0===o?void 0:o.total:"Start Time"===l?o.value?D()(o.value).format("DD MMMM YYYY HH:mm"):"":"End Time"===l?o.value?D()(o.alt_value).format("DD MMMM YYYY HH:mm"):"":"Project"===l?null===o||void 0===o?void 0:o.quantity:"Work Details"===l?null===o||void 0===o?void 0:o.item_code:"",className:ae.inputValue,style:{color:"black",fontWeight:"bold",fontSize:"14px",border:"0px dashed gray",padding:"24px 5px",width:"100%"},readOnly:!0}))},ie=function(e){var n,l;return a.createElement("div",{style:{width:"100%",padding:"6px 10px",border:null!==e&&void 0!==e&&e.disabled?"0px dashed gray":"0.3px dashed var(--app-color-gray-light)",alignContent:"center"}},a.createElement(W(),{selected:null!==e&&void 0!==e&&e.value?new Date(null===e||void 0===e?void 0:e.value):new Date,showTimeSelect:null!==(n=e.showTimeSelect)&&void 0!==n&&n,timeFormat:"HH:mm",timeIntervals:15,customInput:a.createElement("div",{style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",padding:"5px 0",border:"0px solid var(--app-color-gray-lighter)"}},a.createElement("input",{value:e.value?D()(e.value).format(null!==(l=e.format)&&void 0!==l?l:"DD MMMM YYYY HH:mm"):"",className:ae.inputValue,type:"text",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",fontFamily:"var(--app-text-main-font)",fontSize:"14px",fontWeight:"bold",lineHeight:"20px",color:"#4A4A4A",textAlign:"left",maxWidth:"98%",border:"0px"},onChange:function(e){}}),a.createElement(k.G,{icon:I.WRo,style:{margin:"0 10px",width:"14px",height:"14px"}})),className:ae.singleInputContainer,onChange:function(n){e.handleDate(n)}}))},re=null===s||void 0===s||null===(n=s.selected_fields)||void 0===n?void 0:n.find((function(e){return"Record"===e.data_type_name&&"Project"===e.field_name}));return a.createElement("div",{className:te},re?a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:b.tq?"18px":"20px",fontWeight:"normal",marginTop:b.tq?"":"50px",padding:"20px"}},e.children,a.createElement(x.mQ,{style:{width:"100%",fontSize:b.tq?"16px":"20px",marginTop:"20px"},onSelect:function(e){1===e?(Q(v.component_items),A((0,X.v)(new Date,{weekStartsOn:1})),U((0,$.z)(new Date,{weekStartsOn:1})),Z("week")):(Q(v.component_items),Z("all"))}},a.createElement(x.td,{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"18px",fontWeight:"bold"}},a.createElement(x.OK,null,a.createElement("p",null,"BY TIME")),a.createElement(x.OK,null,a.createElement("p",null,"BY PROJECT"))),a.createElement(x.x4,{id:"TIMESHEETS"},a.createElement("div",{style:{width:"100%",overflow:"auto"}},a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",padding:"20px"}},p&&a.createElement(E.zx,{light:!0,style:{display:""},clicked:function(){var e,n;Z(!1),setTimeout((function(){return Z("today")}),1);var l=new Date;Q([].concat((0,t.Z)(v.component_items.filter((function(e){return(0,ee.WU)(e.value,"d/MM/yyyy")===(0,ee.WU)(l,"d/MM/yyyy")}))),[{index:null!==(e=null===(n=v.component_items)||void 0===n?void 0:n.length)&&void 0!==e?e:0,item_code:"",value:(0,T.now)(),alt_value:"",total:0,quantity:"",id:(0,y.mR)()}]))},icon:a.createElement("img",{src:S.IH})}),w&&a.createElement("div",{style:{display:"flex"}},a.createElement(R.Z,{value:null===(l=[{label:"All",value:"all"},{label:"Today",value:"today"},{label:"This Week",value:"week"},{label:"This Month",value:"month"},{label:"Select Month",value:"select"},{label:"Custom Date",value:"custom"}].find((function(e){return e.value===w})))||void 0===l?void 0:l.label,className:b.tq?"":ae.multiselectComponent,visible:!0,mandatory:!1,items:[{label:"All",value:"all"},{label:"Today",value:"today"},{label:"This Week",value:"week"},{label:"This Month",value:"month"},{label:"Select Month",value:"select"},{label:"Custom Date",value:"custom"}],onChange:function(e){"week"===e?Q(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d/MM/yyyy",l=arguments.length>2?arguments[2]:void 0,o=null!==l&&void 0!==l?l:new Date,i=(0,$.z)(o,{weekStartsOn:1}),t=(0,ne.D)({start:i,end:o}).map((function(e){return(0,ee.WU)(e,n)}));return e.filter((function(e){return t.includes("".concat((0,ee.WU)(e.value,n)))}))}(v.component_items)):"today"===e?Q(v.component_items.filter((function(e){return(0,ee.WU)(e.value,"d/MM/yyyy")===(0,ee.WU)(B,"d/MM/yyyy")}))):"month"===e?Q(v.component_items.filter((function(e){return(0,ee.WU)(e.value,"MM/yyyy")===(0,ee.WU)(B,"MM/yyyy")}))):"custom"===e?(A(B),Q(v.component_items.filter((function(e){return(0,ee.WU)(e.value,"d/MM/yyyy")===(0,ee.WU)(new Date,"d/MM/yyyy")})))):"all"===e&&Q(v.component_items),Z(e)}}),"select"===w&&a.createElement(R.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},className:b.tq?"":ae.multiselectComponent,visible:!0,mandatory:!1,items:[{label:"January",value:"01"},{label:"February",value:"02"},{label:"March",value:"03"},{label:"April",value:"04"},{label:"May",value:"05"},{label:"June",value:"06"},{label:"July",value:"07"},{label:"August",value:"08"},{label:"September",value:"09"},{label:"October",value:"10"},{label:"November",value:"11"},{label:"December",value:"12"}],onChange:function(e){Q(v.component_items.filter((function(n){return(0,ee.WU)(n.value,"MM")===e})))}}),"custom"===w&&a.createElement("div",{style:{display:"flex",hheight:"50px",alignItems:"center",width:"300px"}},a.createElement(ie,{value:P,style:{width:"100%",border:"1px solid black"},format:"DD MMMM YYYY",handleDate:function(e){A(e),Q(v.component_items.filter((function(n){return(0,ee.WU)(n.value,"d/MM/yyyy")===(0,ee.WU)(e,"d/MM/yyyy")})))}})))),null!==v&&void 0!==v&&v.id?a.createElement(ue.Z,{style:{width:"100%"},tableHostSimple:de.Z.itemsContainer_ii,columns:p?["Start Time","End Time","Work Details","Project","Duration","Actions"]:["Start Time","End Time","Work Details","Project","Duration"],list:null===(i=V.Z([G.Z(J.Z("value"))])(j.filter((function(e){return null!==e.alt_value}))))||void 0===i?void 0:i.map((function(e){var n;return n={},(0,o.Z)(n,"All",a.createElement(oe,{itm:e,type:"all"})),(0,o.Z)(n,"Start Time",a.createElement(oe,{itm:e,type:"Start Time",edit:p})),(0,o.Z)(n,"End Time",a.createElement(oe,{itm:e,type:"End Time",edit:p})),(0,o.Z)(n,"Duration",a.createElement(oe,{itm:e,type:"Duration",edit:p})),(0,o.Z)(n,"Work Details",a.createElement(oe,{itm:e,type:"Work Details",edit:p})),(0,o.Z)(n,"Project",a.createElement(oe,{itm:e,type:"Project",edit:p})),(0,o.Z)(n,"Actions",a.createElement(oe,{itm:e,type:"Actions",edit:p})),(0,o.Z)(n,"id",e.id),n})),footer:[a.createElement("br",{key:0}),a.createElement("br",{key:1}),a.createElement("br",{key:2}),a.createElement("input",{key:4,readOnly:!0,className:ae.inputValue,style:{fontWeight:"bold",padding:"20px 0 20px 10px"},defaultValue:"Totals:"}),a.createElement("input",{key:4,readOnly:!0,className:ae.inputValue,style:{fontWeight:"bold",padding:"20px 0"},defaultValue:"".concat(K.Z((function(e,n){return+e+ +n.total}),0,null!==(u=j.filter((function(e){return null!==e.item_code&&null!==e.alt_value})))&&void 0!==u?u:[]).toFixed(2))})].concat(p?[a.createElement("br",{key:5})]:[])}):e.children)),a.createElement(x.x4,{id:"BY PROJECT"},a.createElement("div",{style:{width:"100%",overflow:"auto"}},a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",width:"100%",padding:"20px"}},a.createElement("div",{style:{display:"flex",height:"50px",alignItems:"center",width:"auto"}},a.createElement(R.Z,{value:null===(r=[{label:"This Week",value:"week"},{label:"This Month",value:"month"},{label:"Select Month",value:"select"},{label:"Custom Date",value:"custom"}].find((function(e){return e.value===w})))||void 0===r?void 0:r.label,className:ae.multiselectComponent,visible:!0,mandatory:!1,items:[{label:"This Week",value:"week"},{label:"This Month",value:"month"},{label:"Select Month",value:"select"},{label:"Custom Date",value:"custom"}],onChange:function(e){if("week"===e){var n=(0,X.v)(new Date,{weekStartsOn:1});A(n),U((0,$.z)(n,{weekStartsOn:1}))}Z(e)}}),"select"===w&&a.createElement(R.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},className:b.tq?"":ae.multiselectComponent,visible:!0,mandatory:!1,items:[{label:"January",value:"00"},{label:"February",value:"01"},{label:"March",value:"02"},{label:"April",value:"03"},{label:"May",value:"04"},{label:"June",value:"05"},{label:"July",value:"06"},{label:"August",value:"07"},{label:"September",value:"08"},{label:"October",value:"09"},{label:"November",value:"10"},{label:"December",value:"11"}],onChange:function(e){var n=(0,ee.WU)(new Date,"yyyy"),l=new Date(n,+e,1),o=(0,le.V)(l);A(o),U(l)}}),"custom"===w&&a.createElement("div",{style:{display:"flex",height:"50px",alignItems:"center",width:"300px"}},a.createElement(ie,{value:P,style:{width:"100%",border:"1px solid black"},format:"DD MMMM YYYY",handleDate:function(e){var n=(0,X.v)(e,{weekStartsOn:1});A(n),U((0,$.z)(n,{weekStartsOn:1}))}})))),null!==v&&void 0!==v&&v.id?a.createElement(ue.Z,{style:{width:"100%"},tableHostSimple:de.Z.itemsContainer_ii,columns:["Project"].concat("select"===w?["".concat((0,ee.WU)(z,"MMM"))]:"month"===w?["".concat((0,ee.WU)(new Date,"MMM"))]:(0,ne.D)({start:z,end:P}).map((function(e){return(0,ee.WU)(e,"E MMM d")}))),list:f.filter((function(e){var n;return e.component_fields.filter((function(e){var n;return e.component_blueprint_id===(null===re||void 0===re||null===(n=re.options)||void 0===n?void 0:n.component_id)})).length>0||e.module_id===(null===re||void 0===re||null===(n=re.options)||void 0===n?void 0:n.module_id)})).map((function(e){var n,l,o="";null===re||void 0===re||null===(n=re.options)||void 0===n||null===(l=n.names)||void 0===l||l.map((function(n){var l,i;return o=""===o?null===(l=e.component_fields.find((function(e){return e.field_name===n})))||void 0===l?void 0:l.value:"".concat(o," ").concat(null===(i=e.component_fields.find((function(e){return e.field_name===n})))||void 0===i?void 0:i.value)})),o=""!==o&&o?o:e.title;var i={Project:a.createElement("input",{defaultValue:o,className:ae.inputValue,style:{fontSize:p?"15px":"14px",fontWeight:"bold",width:b.tq?"100%":"300px",height:"40px",margin:"10px 0"},readOnly:!0})};return"month"===w?i["".concat((0,ee.WU)(new Date,"MMM"))]=a.createElement("input",{defaultValue:j.filter((function(e){return e.quantity===o&&"".concat((0,ee.WU)(e.value,"MMM"))==="".concat((0,ee.WU)(new Date,"MMM"))})).map((function(e){return null===e||void 0===e?void 0:e.total})).reduce((function(e,n){return e+ +n}),0),className:ae.inputValue,style:{fontSize:p?"15px":"14px",fontWeight:"bold",height:"40px",textAlign:"left",margin:"10px 0"},readOnly:!0}):"select"===w?i["".concat((0,ee.WU)(z,"MMM"))]=a.createElement("input",{defaultValue:j.filter((function(e){return e.quantity===o&&"".concat((0,ee.WU)(e.value,"MMM"))==="".concat((0,ee.WU)(z,"MMM"))})).map((function(e){return null===e||void 0===e?void 0:e.total})).reduce((function(e,n){return e+ +n}),0),className:ae.inputValue,style:{fontSize:p?"15px":"14px",fontWeight:"bold",height:"40px",textAlign:"left",margin:"10px 0"},readOnly:!0}):(0,ne.D)({start:z,end:P}).map((function(e){return i["".concat((0,ee.WU)(e,"E MMM d"))]=a.createElement("input",{defaultValue:j.filter((function(n){return n.quantity===o&&"".concat((0,ee.WU)(n.value,"E MMM d"))==="".concat((0,ee.WU)(e,"E MMM d"))})).map((function(e){return null===e||void 0===e?void 0:e.total})).reduce((function(e,n){return e+ +n}),0),className:ae.inputValue,style:{fontSize:p?"15px":"14px",fontWeight:"bold",width:"150px",height:"40px",textAlign:"left",margin:"10px 0",border:p?"0.5px dashed black":"none"},onBlur:function(n){var l=j.find((function(n){return n.quantity===o&&null===n.item_code&&"".concat((0,ee.WU)(null===n||void 0===n?void 0:n.value,"E MMM d"))==="".concat((0,ee.WU)(e,"E MMM d"))}));if(l)l.total=n.target.value,q({action:h._U.updateModuleItems,value:l}),Q([].concat((0,t.Z)(j.filter((function(e){return e.id!==l.id}))),[l]));else{var i={value:D()(e).format("YYYY-MM-DD HH:mm:ss"),total:n.target.value,quantity:o,id:(0,y.mR)()};q({action:h._U.addModuleItems,value:i}),Q([].concat((0,t.Z)(j),[i]))}}})})),i}))}):e.children)))):a.createElement("p",null,"This custom template requires a Transaction List component"))}),ce=function(e){var n,l,i,u,r,v,s,c=e.selectedComponent,p=(e.begunModule,e.goto,e.component_blueprint),m=e.isUpdating,f=void 0===m||m,g=(0,_.v9)((function(e){return e.flowReducer})),C=(g.companyData,g.companyUsersArray,g.components,(0,_.v9)((function(e){return e.authReducer}))),Z=C.authenticatedUser,M=(0,a.useState)(!1),N=(0,d.Z)(M,2),T=(N[0],N[1],(0,a.useState)((null===c||void 0===c||null===(n=c.component_items)||void 0===n?void 0:n.filter((function(e){return!(null!==e&&void 0!==e&&e.quantity)})).length)>0?null===c||void 0===c||null===(l=c.component_items)||void 0===l?void 0:l.filter((function(e){return!(null!==e&&void 0!==e&&e.quantity)})):null===c||void 0===c?void 0:c.component_items)),P=(0,d.Z)(T,2),A=P[0],O=P[1],L=(0,a.useState)((null===c||void 0===c||null===(i=c.component_items)||void 0===i?void 0:i.filter((function(e){return!(null!==e&&void 0!==e&&e.quantity)})).length)>0?"forapproval":"all"),z=(0,d.Z)(L,2),U=z[0],F=z[1],q=(0,a.useState)((0,X.v)(new Date,{weekStartsOn:1})),B=(0,d.Z)(q,2),Y=B[0],H=B[1],j=(0,a.useState)((0,$.z)(Y,{weekStartsOn:1})),Q=(0,d.Z)(j,2),ne=(Q[0],Q[1],(0,h.pQ)()),le=(0,d.Z)(ne,2),oe=(le[0],le[1]),ie=function(e){var n,l,o,i;return a.createElement("div",{style:{width:"100%",margin:"30px 0",border:null!==e&&void 0!==e&&e.disabled?"0px dashed gray":"0.5px dashed gray",alignContent:"center",padding:"8px 0"}},null!==e&&void 0!==e&&e.disabled?a.createElement("div",{style:{fontSize:"14px",fontWeight:"bold",border:"0px dashed gray"}},e.value?D()(e.value).format(null!==(n=e.format)&&void 0!==n?n:"DD MMMM YYYY HH:mm"):""):a.createElement(W(),{disabled:null!==(l=null===e||void 0===e?void 0:e.disabled)&&void 0!==l&&l,selected:null!==e&&void 0!==e&&e.value?new Date(null===e||void 0===e?void 0:e.value):new Date,showTimeSelect:null!==(o=e.showTimeSelect)&&void 0!==o&&o,timeFormat:"HH:mm",timeIntervals:15,customInput:a.createElement("div",{style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",padding:"5px",border:"0px solid var(--app-color-gray-lighter)"}},a.createElement("input",{value:e.value?D()(e.value).format(null!==(i=e.format)&&void 0!==i?i:"DD MMMM YYYY HH:mm"):"",className:ae.inputValue,type:"text",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",fontFamily:"var(--app-text-main-font)",fontSize:"14px",lineHeight:"20px",color:"#4A4A4A",textAlign:"left",maxWidth:"98%",border:"0px",fontWeight:"bold"},onChange:function(e){}}),a.createElement(k.G,{icon:I.WRo,style:{margin:"0 10px",width:"14px",height:"14px"}})),className:ae.singleInputContainer,onChange:function(n){e.handleDate(n)}}))},re=null===p||void 0===p||null===(u=p.selected_fields)||void 0===u?void 0:u.find((function(e){return"Dropdown"===e.data_type_name&&"Type"===e.field_name}));return a.createElement("div",{className:te},re?a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:b.tq?"18px":"20px",fontWeight:"normal",marginTop:b.tq?"":"50px",padding:"20px"}},e.children,a.createElement(x.mQ,{style:{width:"100%",fontSize:b.tq?"16px":"20px",marginTop:"20px"}},a.createElement(x.td,{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"22px"}},a.createElement(x.OK,null,"Leaves"),a.createElement(x.OK,{onChange:function(){O(c.component_items),F("all")}},"Balances")),a.createElement(x.x4,{id:"LEAVES"},a.createElement("div",{style:{width:"100%",overflow:"auto"}},a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",padding:"20px"}},f&&a.createElement(E.zx,{light:!0,style:{display:""},clicked:function(){var e;O([].concat((0,t.Z)(A),[{index:null!==(e=null===A||void 0===A?void 0:A.length)&&void 0!==e?e:0,item_code:"",value:"",alt_value:"",total:0,quantity:"",id:(0,y.mR)()}]))},icon:a.createElement("img",{src:S.IH})}),a.createElement("div",{style:{display:"flex"}},a.createElement(R.Z,{value:null===(r=[{label:"All",value:"all"},{label:"For Approval",value:"forapproval"},{label:"Approved",value:"approved"},{label:"Disapproved",value:"disapproved"},{label:"Select Month",value:"select"}].find((function(e){return e.value===U})))||void 0===r?void 0:r.label,className:b.tq?"":ae.multiselectComponent,visible:!0,mandatory:!1,items:[{label:"All",value:"all"},{label:"For Approval",value:"forapproval"},{label:"Approved",value:"approved"},{label:"Disapproved",value:"disapproved"},{label:"Select Month",value:"select"}],onChange:function(e){"forapproval"===e?O(c.component_items.filter((function(e){return!(null!==e&&void 0!==e&&e.quantity)}))):"approved"===e?O(c.component_items.filter((function(e){return 1===+e.quantity}))):"disapproved"===e?O(c.component_items.filter((function(e){return 9===+e.quantity}))):"custom"===e?(H(new Date),O(c.component_items.filter((function(e){return(0,ee.WU)(e.value,"d/MM/yyyy")===(0,ee.WU)(new Date,"d/MM/yyyy")})))):"all"===e&&O(c.component_items),F(e)}}),"select"===U&&a.createElement(R.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},className:b.tq?"":ae.multiselectComponent,visible:!0,mandatory:!1,items:[{label:"January",value:"01"},{label:"February",value:"02"},{label:"March",value:"03"},{label:"April",value:"04"},{label:"May",value:"05"},{label:"June",value:"06"},{label:"July",value:"07"},{label:"August",value:"08"},{label:"September",value:"09"},{label:"October",value:"10"},{label:"November",value:"11"},{label:"December",value:"12"}],onChange:function(e){O(c.component_items.filter((function(n){return(0,ee.WU)(n.value,"MM")===e})))}}),"custom"===U&&a.createElement("div",{style:{display:"flex",height:"50px",alignItems:"center",width:"300px"}},a.createElement(ie,{value:Y,style:{width:"100%",border:"1px solid black"},format:"DD MMMM YYYY",handleDate:function(e){H(e),O(c.component_items.filter((function(n){return(0,ee.WU)(n.value,"d/MM/yyyy")===(0,ee.WU)(e,"d/MM/yyyy")})))}})))),null!==c&&void 0!==c&&c.id?a.createElement(ue.Z,{style:{width:"100%"},tableHostSimple:de.Z.itemsContainer_ii,layeredColumns:[{label:"Date From"},{label:"Date To"},{label:"Details"},{label:"Type"},{label:"Duration"},{label:"Status"},{label:"Actions"}],list:null===(v=V.Z([G.Z(J.Z("index"))])(A))||void 0===v?void 0:v.map((function(n,l){var i,d,u,r,v=1===+n.quantity||9===+n.quantity;return r={},(0,o.Z)(r,"Date From",a.createElement(ie,{disabled:v||!f,showTimeSelect:!0,value:n.value,style:{width:"100%",border:"1px solid black"},handleDate:function(e){n.value=e,null!==n&&void 0!==n&&n.alt_value&&null!==n&&void 0!==n&&n.value&&(n.total=(D()(new Date(n.alt_value),"DD/MM/YYYY").diff(D()(new Date(n.value),"DD/MM/YYYY"),"minutes")/60).toFixed(2),document.getElementById("Duration".concat(l)).value=n.total,oe({action:h._U.setModuleItems,value:[].concat((0,t.Z)(c.component_items.filter((function(e){return e.id!==n.id}))),[n])})),O([].concat((0,t.Z)(A.filter((function(e){return e.id!==n.id}))),[n]))}})),(0,o.Z)(r,"Date To",a.createElement(ie,{disabled:v||!f,showTimeSelect:!0,value:n.alt_value,style:{width:"100%",border:"1px solid black"},handleDate:function(e){n.alt_value=e,null!==n&&void 0!==n&&n.alt_value&&null!==n&&void 0!==n&&n.value&&(n.total=(D()(new Date(n.alt_value),"DD/MM/YYYY").diff(D()(new Date(n.value),"DD/MM/YYYY"),"minutes")/60).toFixed(2),document.getElementById("Duration".concat(l)).value=n.total,oe({action:h._U.setModuleItems,value:[].concat((0,t.Z)(c.component_items.filter((function(e){return e.id!==n.id}))),[n])})),O([].concat((0,t.Z)(A.filter((function(e){return e.id!==n.id}))),[n]))}})),(0,o.Z)(r,"Duration",v||!f?a.createElement("div",{style:{fontSize:"14px",fontWeight:"bold"}},null!==(i=null===n||void 0===n?void 0:n.total)&&void 0!==i?i:0):a.createElement("input",{disabled:1===+n.quantity||9===+n.quantity,defaultValue:null!==(d=null===n||void 0===n?void 0:n.total)&&void 0!==d?d:0,id:"Duration".concat(l),className:ae.inputValue,style:{fontWeight:"bold",border:"0.5px dashed gray",height:"50px",width:"100%"},onBlur:function(e){n.total!==e.target.value&&(n.total=e.target.value,oe({action:h._U.setModuleItems,value:[].concat((0,t.Z)(c.component_items.filter((function(e){return e.id!==n.id}))),[n])})),O([].concat((0,t.Z)(A.filter((function(e){return e.id!==n.id}))),[n]))}})),(0,o.Z)(r,"Details",v||!f?a.createElement("div",{style:{fontSize:"14px",fontWeight:"bold"}},null===n||void 0===n?void 0:n.item_code):a.createElement("input",{defaultValue:n.item_code,disabled:1===+n.quantity||9===+n.quantity,className:ae.inputValue,style:{fontWeight:"bold",border:"0.5px dashed gray",height:b.tq?"100px":"50px",width:b.tq?"100%":"300px"},onBlur:function(e){n.item_code!==e.target.value&&(n.item_code=e.target.value,oe({action:h._U.setModuleItems,value:[].concat((0,t.Z)(c.component_items.filter((function(e){return e.id!==n.id}))),[n])}))}})),(0,o.Z)(r,"Status",a.createElement("div",{style:{fontSize:f?"15px":"14px",fontWeight:"bold"}},1===+n.quantity?"Approved":9===+n.quantity?"Disapproved":"For Approval")),(0,o.Z)(r,"Type",v||!f?a.createElement("div",{style:{fontSize:"14px",fontWeight:"bold"}},null===n||void 0===n?void 0:n.type):a.createElement("div",{style:{border:null!==e&&void 0!==e&&e.disabled?"0px dashed gray":"0.5px dashed gray",width:b.tq?"100%":"240px",pointerEvents:1===+n.quantity||9===+n.quantity?"none":"",padding:"9px 0"}},a.createElement(R.Z,{value:null===n||void 0===n?void 0:n.type,titleProps:{fontSize:"14px",color:"var(--app-color-gray-light)"},className:ae.dropdownComponent,visible:!0,mandatory:!1,items:null===(u=re.options)||void 0===u?void 0:u.list.map((function(e){return{label:e,value:e}})),onChange:function(e){n.type=e,oe({action:h._U.setModuleItems,value:[].concat((0,t.Z)(c.component_items.filter((function(e){return e.id!==n.id}))),[n])})}},a.createElement("input",{value:null===n||void 0===n?void 0:n.type,className:ae.inputValue,style:{fontWeight:"bold",border:"0px dashed gray",paddingLeft:"10px"},readOnly:!0})))),(0,o.Z)(r,"Actions",a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",paddingTop:"10px",minWidth:"50px"}},Z.id===c.created_by.id&&a.createElement(k.G,{icon:I.u8Q,onClick:function(){n.quantity=1,oe({action:h._U.setModuleItems,value:[].concat((0,t.Z)(c.component_items.filter((function(e){return e.id!==n.id}))),[n])}),O([].concat((0,t.Z)(A.filter((function(e){return e.id!==n.id}))),[n])),null!==c&&void 0!==c&&c.id&&(0,w.np)(n,c.id).subscribe({})},style:{color:1===+n.quantity?"var(--app-color-gray-lightest)":"green",cursor:"pointer",pointerEvents:1===+n.quantity?"none":""}}),Z.id===c.created_by.id&&a.createElement(k.G,{icon:I.QWY,onClick:function(){n.quantity=9,oe({action:h._U.setModuleItems,value:[].concat((0,t.Z)(c.component_items.filter((function(e){return e.id!==n.id}))),[n])}),O([].concat((0,t.Z)(A.filter((function(e){return e.id!==n.id}))),[n])),null!==c&&void 0!==c&&c.id&&(0,w.np)(n,c.id).subscribe({})},style:{color:9===+n.quantity?"var(--app-color-gray-lightest)":"red",cursor:"pointer",pointerEvents:9===+n.quantity?"none":""}}),a.createElement(k.G,{icon:I.$aW,onClick:function(){oe({action:h._U.setModuleItems,value:A.filter((function(e){return e.id!==n.id}))}),O(A.filter((function(e){return e.id!==n.id})))},style:{color:0!==+n.quantity?"var(--app-color-gray-lightest)":"black",cursor:"pointer",pointerEvents:0!==+n.quantity?"none":""}}))),(0,o.Z)(r,"id",n.id),r}))}):e.children)),a.createElement(x.x4,{id:"BALANCES"},a.createElement("div",{style:{width:"100%",overflow:"auto"}},null!==c&&void 0!==c&&c.id?a.createElement(ue.Z,{style:{width:"100%"},tableHostSimple:de.Z.itemsContainer_ii,modern:!!b.tq,layeredColumns:[{label:"Type"},{label:"Allocated"},{label:"For Approval"},{label:"Availed"},{label:"Balance"}],list:null===(s=re.options)||void 0===s?void 0:s.list.map((function(e){var n,l,i,t,d,u,r,v;return v={Type:a.createElement("input",{className:ae.inputValue,defaultValue:e,style:{fontWeight:"bold",fontSize:f?"15px":"14px",height:"40px",width:"100%"},readOnly:!0}),Allocated:a.createElement("input",{className:ae.inputValue,defaultValue:null!==(n=null===(l=c.component_fields.find((function(n){return n.field_name===e})))||void 0===l?void 0:l.value)&&void 0!==n?n:"0",style:{fontWeight:"bold",fontSize:f?"15px":"14px",height:"40px",width:"100%"},readOnly:!0})},(0,o.Z)(v,"For Approval",a.createElement("input",{className:ae.inputValue,defaultValue:"".concat(K.Z((function(e,n){return+e+ +n.total}),0,null!==(i=c.component_items.filter((function(n){return n.type===e&&0===+n.quantity})))&&void 0!==i?i:[]).toFixed(2)),style:{fontWeight:"bold",fontSize:f?"15px":"14px",height:"40px",width:"100%"},readOnly:!0})),(0,o.Z)(v,"Availed",a.createElement("input",{className:ae.inputValue,defaultValue:"".concat(K.Z((function(e,n){return+e+ +n.total}),0,null!==(t=c.component_items.filter((function(n){return n.type===e&&1===+n.quantity})))&&void 0!==t?t:[]).toFixed(2)),style:{fontWeight:"bold",fontSize:f?"15px":"14px",height:"40px",width:"100%"},readOnly:!0})),(0,o.Z)(v,"Balance",a.createElement("input",{className:ae.inputValue,defaultValue:"".concat((+(null!==(d=null===(u=c.component_fields.find((function(n){return n.field_name===e})))||void 0===u?void 0:u.value)&&void 0!==d?d:0)-K.Z((function(e,n){return+e+ +n.total}),0,null!==(r=c.component_items.filter((function(n){return n.type===e&&1===+n.quantity})))&&void 0!==r?r:[])).toFixed(2)),style:{fontWeight:"bold",fontSize:f?"15px":"14px",height:"40px",width:"100%"},readOnly:!0})),v}))}):e.children)))):a.createElement("p",null,"Note: This custom template requires a Transaction List component"))},pe=function(e){var n,l,u,r,v,s,c,p=e.selectedComponent,m=(e.begunModule,e.goto,e.component_blueprint),f=e.isUpdating,g=void 0===f||f,C=(0,_.v9)((function(e){return e.authReducer})),w=C.authenticatedUser,M=(0,a.useState)(!1),N=(0,d.Z)(M,2),T=(N[0],N[1],(0,a.useState)((null===p||void 0===p||null===(n=p.component_items)||void 0===n?void 0:n.length)>0?p.component_items:[{item_code:"",value:"",alt_value:"",type:"goal",id:(0,y.mR)()}])),D=(0,d.Z)(T,2),P=D[0],A=D[1],O=(0,a.useState)("goal"),L=(0,d.Z)(O,2),z=L[0],U=L[1],F=(0,h.pQ)(),W=(0,d.Z)(F,2),q=(W[0],W[1]),B={clipboard:{matchers:[]},toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],["link","image","video","formula"],[{header:[1,2,3,4,5,6,!1]}],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{size:["small",!1,"large","huge"]}]]},Y=["header","font","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image"],H=function(){return a.createElement(E.zx,{light:!0,style:{display:""},clicked:function(){var e;A([].concat((0,t.Z)(P),[{index:null!==(e=null===P||void 0===P?void 0:P.length)&&void 0!==e?e:0,type:z,item_code:"",value:"",alt_value:"",total:"",quantity:"",id:(0,y.mR)()}]))},icon:a.createElement("img",{src:S.IH})})},j=function(e){var n;return a.createElement(ie(),{modules:null!==e&&void 0!==e&&e.showToolbar?B:(0,i.Z)((0,i.Z)({},B),{},{toolbar:!1}),style:{fontFamily:"var(--app-text-main-font)",minHeight:"200px"},readOnly:null!==(n=null===e||void 0===e?void 0:e.readOnly)&&void 0!==n&&n,formats:Y,defaultValue:null===e||void 0===e?void 0:e.value,onChange:null===e||void 0===e?void 0:e.onChange,onBlur:null===e||void 0===e?void 0:e.onBlur,theme:"snow"})},G=null===m||void 0===m||null===(l=m.selected_fields)||void 0===l?void 0:l.find((function(e){return"Dropdown"===e.data_type_name&&"Goal"===e.field_name})),K=null===m||void 0===m||null===(u=m.selected_fields)||void 0===u?void 0:u.find((function(e){return"Dropdown"===e.data_type_name&&"KPI"===e.field_name}));return a.createElement("div",{className:te},G&&K?a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:b.tq?"18px":"20px",fontWeight:"bold",marginTop:b.tq?"":"50px",padding:"20px"}},e.children,a.createElement(x.mQ,{style:{width:"100%",fontSize:b.tq?"16px":"20px",marginTop:"20px"},onSelect:function(e){U(1===e?"kpi":"goal")}},a.createElement(x.td,{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:b.tq?"14px":"16px"}},a.createElement(x.OK,null,a.createElement("p",null,"TARGET GOALS")),a.createElement(x.OK,null,a.createElement("p",null,"KEY PERFORMANCE INDICATORS"))),a.createElement(x.x4,{id:"TARGET GOALS"},a.createElement("div",{style:{width:"100%",overflow:"auto"}},p.created_by.id===w.id&&a.createElement("div",{style:{display:"flex",justifyContent:"left"}},g&&H()),null!==p&&void 0!==p&&p.id&&p.created_by.id===w.id?a.createElement(Z.default,{modern:!!b.tq,columns:["Goal","Description","Result","Employee Comment"].concat(g?["Actions"]:[]),list:null===(r=V.Z([Q.Z(J.Z("value"))])(P.filter((function(e){return"goal"===e.type}))))||void 0===r?void 0:r.map((function(e,n){var l,i,d,u,r;return r={},(0,o.Z)(r,"Goal",a.createElement("div",{style:{pointerEvents:g?"":"none"}},a.createElement("div",{style:{border:"0.5px dashed gray",minWidth:b.tq?"":"300px",width:"auto"}},a.createElement(R.Z,{value:null===e||void 0===e?void 0:e.item_code,className:ae.dropdownComponent,visible:!0,mandatory:!1,items:null===(l=G.options)||void 0===l?void 0:l.list.map((function(e){return{label:e,value:e}})),onChange:function(n){e.item_code=n,q({action:h._U.setModuleItems,value:[].concat((0,t.Z)(p.component_items.filter((function(n){return n.id!==e.id}))),[e])})}})),a.createElement("textarea",{defaultValue:e.value,className:ae.inputValue,style:{fontWeight:"bold",fontSize:"16px",border:"0.5px dashed gray",minHeight:"150px",width:"100%",paddingLeft:"20px",marginTop:"10px"},placeholder:"Goal Item",onBlur:function(n){e.value!==n.target.value&&(e.value=n.target.value,q({action:h._U.setModuleItems,value:[].concat((0,t.Z)(p.component_items.filter((function(n){return n.id!==e.id}))),[e])}))}}))),(0,o.Z)(r,"Description",a.createElement("div",{style:{border:"0.5px dashed gray",width:"auto",pointerEvents:g?"":"none"}},a.createElement(j,{showToolbar:!(b.tq||!g),value:null!==(i=null===e||void 0===e?void 0:e.alt_value)&&void 0!==i?i:"",onBlur:function(){q({action:h._U.setModuleItems,value:[].concat((0,t.Z)(p.component_items.filter((function(n){return n.id!==e.id}))),[e])})},onChange:function(n){e.alt_value=n}}))),(0,o.Z)(r,"Result",a.createElement("div",{style:{border:"0.5px dashed gray",width:"auto",pointerEvents:g?"":"none"}},a.createElement(j,{showToolbar:!(b.tq||!g),value:null!==(d=null===e||void 0===e?void 0:e.quantity)&&void 0!==d?d:"",onBlur:function(){q({action:h._U.setModuleItems,value:[].concat((0,t.Z)(p.component_items.filter((function(n){return n.id!==e.id}))),[e])})},onChange:function(n){e.quantity=n}}))),(0,o.Z)(r,"Employee Comment",a.createElement("div",{style:{border:"0px dashed gray",pointerEvents:g?"":"none"}},a.createElement(j,{value:null!==(u=null===e||void 0===e?void 0:e.total)&&void 0!==u?u:"",readOnly:!0,showToolbar:!1}))),(0,o.Z)(r,"Actions",a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},a.createElement(k.G,{icon:I.$aW,onClick:function(){q({action:h._U.setModuleItems,value:P.filter((function(n){return n.id!==e.id}))}),A(P.filter((function(n){return n.id!==e.id})))},style:{cursor:"pointer",width:"30px"}}))),(0,o.Z)(r,"id",e.id),r}))}):a.createElement("br",null),null!==p&&void 0!==p&&p.id&&p.assigned_to.id===w.id?a.createElement(Z.default,{modern:!0,className:ae.itemsTable,columns:["Goal","Goal Item","Description","Result","Comments"],list:null===(v=V.Z([Q.Z(J.Z("type"))])(P.filter((function(e){return"goal"===e.type}))))||void 0===v?void 0:v.map((function(e,n){var l,i,d;return d={},(0,o.Z)(d,"Goal",a.createElement("input",{defaultValue:e.item_code,className:ae.inputValue,style:{border:"0.5px dashed gray",padding:"10px",margin:"10px",fontWeight:"bold",fontSize:"16px",width:"100%"},readOnly:!0})),(0,o.Z)(d,"Goal Item",a.createElement("div",{style:{width:"auto"}},a.createElement("textarea",{defaultValue:e.value,className:ae.inputValue,style:{border:"0.5px dashed gray",height:"auto",minHeight:"100px",width:"100%",padding:"10px",margin:"10px",fontWeight:"bold",fontSize:"16px"},readOnly:!0}))),(0,o.Z)(d,"Description",a.createElement("div",{style:{border:"0.5px dashed gray",width:"auto"}},a.createElement(j,{value:null!==(l=null===e||void 0===e?void 0:e.alt_value)&&void 0!==l?l:"",readOnly:!0,showToolbar:!1}))),(0,o.Z)(d,"Owner",a.createElement("div",{style:{border:"0.5px dashed gray",width:"auto"}},a.createElement("textarea",{defaultValue:e.quantity,className:ae.inputValue,style:{fontWeight:"bolder",border:"1px dashed gray",minHeight:"50px",width:"100%",paddingLeft:"10px",margin:"10px"},disabled:!0}))),(0,o.Z)(d,"Comments",a.createElement("div",{style:{border:"0.5px dashed gray"}},a.createElement(j,{showToolbar:!b.tq,value:null!==(i=null===e||void 0===e?void 0:e.total)&&void 0!==i?i:"",onBlur:function(){q({action:h._U.setModuleItems,value:[].concat((0,t.Z)(p.component_items.filter((function(n){return n.id!==e.id}))),[e])})},onChange:function(n){e.total=n}}))),(0,o.Z)(d,"id",e.id),d}))}):a.createElement("br",null))),a.createElement(x.x4,{id:"KPI"},a.createElement("div",{style:{width:"100%",overflow:"auto"}},p.created_by.id===w.id&&a.createElement("div",{style:{display:"flex",justifyContent:"left"}},g&&H()),null!==p&&void 0!==p&&p.id&&p.created_by.id===w.id?a.createElement(Z.default,{modern:!!b.tq,className:ae.itemsTable,columns:["KPI","KPI Elements","Owner","Comments"].concat(g?["Actions"]:[]),list:null===(s=V.Z([Q.Z(J.Z("value"))])(P.filter((function(e){return"kpi"===e.type}))))||void 0===s?void 0:s.map((function(e,n){var l,i,d,u,r;return r={},(0,o.Z)(r,"KPI",a.createElement("div",{style:{pointerEvents:g?"":"none"}},a.createElement("div",{style:{border:"0.5px dashed gray",minWidth:b.tq?"":"300px",width:"auto"}},a.createElement(R.Z,{value:null===e||void 0===e?void 0:e.item_code,className:ae.dropdownComponent,visible:!0,mandatory:!1,items:null===(l=K.options)||void 0===l?void 0:l.list.map((function(e){return{label:e,value:e}})),onChange:function(n){e.item_code=n,q({action:h._U.setModuleItems,value:[].concat((0,t.Z)(p.component_items.filter((function(n){return n.id!==e.id}))),[e])})}})),a.createElement("textarea",{defaultValue:e.value,className:ae.inputValue,style:{fontWeight:"bold",fontSize:"16px",border:"0.5px dashed gray",minHeight:"150px",width:"100%",paddingLeft:"20px",marginTop:"10px"},placeholder:"KPI Item",onBlur:function(n){e.value!==n.target.value&&(e.value=n.target.value,q({action:h._U.setModuleItems,value:[].concat((0,t.Z)(p.component_items.filter((function(n){return n.id!==e.id}))),[e])}))}}))),(0,o.Z)(r,"KPI Elements",a.createElement("div",{style:{border:"0.5px dashed gray",width:"auto",pointerEvents:g?"":"none"}},a.createElement(j,{showToolbar:!(b.tq||!g),value:null!==(i=null===e||void 0===e?void 0:e.alt_value)&&void 0!==i?i:"",onBlur:function(n){q({action:h._U.setModuleItems,value:[].concat((0,t.Z)(p.component_items.filter((function(n){return n.id!==e.id}))),[e])})},onChange:function(n){e.alt_value=n}}))),(0,o.Z)(r,"Owner",a.createElement("div",{style:{border:"0.5px dashed gray",width:"auto",pointerEvents:g?"":"none"}},a.createElement(j,{showToolbar:!(b.tq||!g),value:null!==(d=null===e||void 0===e?void 0:e.quantity)&&void 0!==d?d:"",onBlur:function(n){q({action:h._U.setModuleItems,value:[].concat((0,t.Z)(p.component_items.filter((function(n){return n.id!==e.id}))),[e])})},onChange:function(n){e.quantity=n}}))),(0,o.Z)(r,"Comments",a.createElement("div",{style:{border:"0.5px dashed gray",pointerEvents:g?"":"none"}},a.createElement(j,{showToolbar:!(b.tq||!g),value:null!==(u=null===e||void 0===e?void 0:e.total)&&void 0!==u?u:"",onBlur:function(n){q({action:h._U.setModuleItems,value:[].concat((0,t.Z)(p.component_items.filter((function(n){return n.id!==e.id}))),[e])})},onChange:function(n){e.total=n}}))),(0,o.Z)(r,"Actions",a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},a.createElement(k.G,{icon:I.$aW,onClick:function(){q({action:h._U.setModuleItems,value:P.filter((function(n){return n.id!==e.id}))}),A(P.filter((function(n){return n.id!==e.id})))},style:{cursor:"pointer"}}))),(0,o.Z)(r,"id",e.id),r}))}):a.createElement("br",null),null!==p&&void 0!==p&&p.id&&p.assigned_to.id===w.id?a.createElement(Z.default,{modern:!0,className:ae.itemsTable,columns:["KPI","KPI Item","KPI Element","Result","Owner"],list:null===(c=V.Z([Q.Z(J.Z("type"))])(P.filter((function(e){return"kpi"===e.type}))))||void 0===c?void 0:c.map((function(e,n){var l,i,t,d;return d={},(0,o.Z)(d,"KPI",a.createElement("input",{defaultValue:e.item_code,className:ae.inputValue,style:{fontWeight:"bold",border:"0.5px dashed gray",padding:"10px",minHeight:"50px",margin:"10px",fontSize:"16px",width:"100%"},readOnly:!0})),(0,o.Z)(d,"KPI Item",a.createElement("div",{style:{width:"auto"}},a.createElement("textarea",{defaultValue:e.value,className:ae.inputValue,style:{border:"0.5px dashed gray",height:"auto",minHeight:"100px",width:"100%",paddingLeft:"10px",margin:"10px",fontWeight:"bold",fontSize:"16px"},readOnly:!0}))),(0,o.Z)(d,"KPI Element",a.createElement("div",{style:{border:"0.5px dashed gray",width:"auto"}},a.createElement(j,{value:null!==(l=null===e||void 0===e?void 0:e.alt_value)&&void 0!==l?l:"",readOnly:!0,showToolbar:!1}))),(0,o.Z)(d,"Owner",a.createElement("div",{style:{border:"0.5px dashed gray",width:"auto"}},a.createElement(j,{value:null!==(i=null===e||void 0===e?void 0:e.quantity)&&void 0!==i?i:"",readOnly:!0,showToolbar:!1}))),(0,o.Z)(d,"Comments",a.createElement("div",{style:{border:"0px dashed gray",width:"auto"}},a.createElement(j,{value:null!==(t=null===e||void 0===e?void 0:e.total)&&void 0!==t?t:"",readOnly:!0,showToolbar:!1}))),(0,o.Z)(d,"id",e.id),d}))}):a.createElement("br",null))))):a.createElement("p",null,"Note: This custom template requires a Transaction List component"))},me=function(e){var n,l,u,r=e.selectedComponent,v=e.authenticatedUser,s=e.component_blueprint,c=e.isUpdating,p=void 0===c||c,m=(0,_.v9)((function(e){return e.flowReducer})),f=m.companyUsersArray,y=(0,h.pQ)(),g=(0,d.Z)(y,2),x=g[0],C=g[1],Z=(0,a.useState)(D()()),M=(0,d.Z)(Z,2),N=M[0],T=M[1],P=(0,a.useState)(),A=(0,d.Z)(P,2),O=A[0],L=A[1],z=(0,a.useState)(),U=(0,d.Z)(z,2),F=U[0],W=U[1],q=(0,a.useState)(),B=(0,d.Z)(q,2),Y=B[0],H=B[1],j=(0,a.useState)(""),K=(0,d.Z)(j,2),Q=K[0],X=K[1],$=(0,a.useState)(!1),ee=(0,d.Z)($,2),ne=ee[0],le=ee[1],oe=(0,a.useState)(f),ie=(0,d.Z)(oe,2),se=ie[0],ce=ie[1];(0,a.useEffect)((function(){var e=setInterval((function(){T(D()())}),1e3);return function(){window.clearInterval(e)}}),[]),(0,a.useEffect)((function(){f.length<2&&(0,re.AW)(!0).pipe((0,ve.q)(1)).subscribe({next:function(e){ce([]),setTimeout((function(){return ce([].concat((0,t.Z)(e),[v]))}),10)}})}),[]);var pe=null===s||void 0===s||null===(n=s.selected_fields)||void 0===n?void 0:n.find((function(e){return"People"===e.data_type_name&&"Employee"===e.field_name}));return a.createElement("div",{className:te},O&&(null===Y||void 0===Y?void 0:Y.id)&&a.createElement(E.U7,{hasCloseIcon:!0,isOpen:!!O,onClose:function(){W(void 0),L(void 0)},shadowedContainerStyle:{border:"5px black",backgroundColor:"",width:b.tq?"100%":"200px"}},a.createElement("p",{className:ae.title},"Enter ID:"),a.createElement("input",{id:"Log Password",type:"password",style:{fontWeight:"bold",border:"2px solid gray",height:"50px",fontSize:"20px"},onChange:function(e){return W("")}}),F&&a.createElement("p",null,F),a.createElement(E.zx,{title:"LOG",clicked:function(){document.getElementById("Log Password").value===Y.id.replace(/\D/g,"").slice(-5)?(le(!0),(0,w.KL)((0,i.Z)((0,i.Z)({},r),{},{component_items:[].concat((0,t.Z)(x.items),[O])})).subscribe({error:function(e){le(!1),L(void 0)},next:function(){le(!1),C({action:h._U.addModuleItems,value:O}),L(void 0)}}),W(void 0)):W("Incorrect ID entered")}})),a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:b.tq?"18px":"20px",fontWeight:"bold",display:null!==r&&void 0!==r&&r.id?"":"none",padding:"10px"}},e.children,pe?a.createElement("div",{className:ae.centerDiv,style:{width:"100%",height:"auto",display:"flex",flexDirection:b.tq?"column":"row",alignItems:"flex-start"}},a.createElement("div",{style:{width:b.tq?"100%":"30%",padding:"20px"}},a.createElement("div",{id:"date_header"},"".concat(N.format("DD MMMM YYYY dddd"))),a.createElement("label",{className:ae.timer,id:"timer_count",style:{fontSize:p||b.tq?"":"40px"}},N.format("HH:mm:ss")),a.createElement("div",{className:ae.centerDiv,style:{width:"100%"}},(null===Y||void 0===Y?void 0:Y.photo)&&a.createElement("img",{src:null===Y||void 0===Y?void 0:Y.photo,className:ae.avatarUrlImg}),f.length>0&&se.length>0&&a.createElement(a.Fragment,null,a.createElement("p",{style:{fontSize:"20p"}},null===pe||void 0===pe?void 0:pe.field_name),a.createElement("div",{style:{display:"flex",border:"1px dashed gray",width:"100%"}},a.createElement(R.Z,{className:ae.dropdownComponent,visible:!0,mandatory:!1,items:f.filter((function(e){var n;return(null===e||void 0===e||null===(n=e.positions)||void 0===n?void 0:n.filter((function(e){var n,l;return null===pe||void 0===pe||null===(n=pe.options)||void 0===n||null===(l=n.position_id)||void 0===l?void 0:l.includes(null===e||void 0===e?void 0:e.id)})).length)>0})).map((function(e){return{label:"".concat(e.first_name," ").concat(e.last_name),value:e.id,user:e}})),onChange:function(e){var n;H(f.find((function(n){return n.id===e}))),0===(null===x||void 0===x||null===(n=x.items)||void 0===n?void 0:n.length)&&r.component_items.length>0&&C({action:h._U.setModuleItems,value:r.component_items})}}),f.length<3&&a.createElement(E.zx,{clear:!0,icon:a.createElement("img",{src:S.Fd,style:{width:"20px",height:"20px"}}),style:{width:"30px",height:"20px"},clicked:function(){le(!0),(0,re.AW)(!0).pipe((0,ve.q)(1)).subscribe({next:function(e){le(!1),ce([]),setTimeout((function(){return ce([].concat((0,t.Z)(e),[v]))}),10)}})},loading:ne}))),a.createElement("p",{style:{fontSize:"20p"}},"Remarks (Optional)"),a.createElement("input",{className:ae.inputValue,style:{fontWeight:"bold",border:"1px dashed gray",height:"40px",width:"100%"},onBlur:function(e){X(e.target.value)}}),(null===r||void 0===r?void 0:r.id)&&a.createElement(a.Fragment,null,a.createElement("div",{style:{width:"100%",padding:"8px"}},a.createElement(E.zx,{style:{width:"100%",height:"16vh",backgroundColor:"green",margin:"0px",padding:"0"},loading:ne,clicked:function(){if(null!==Y&&void 0!==Y&&Y.id){var e,n,l=V.Z([G.Z(J.Z("index"))])(null===x||void 0===x?void 0:x.items).find((function(e){return e.quantity===Y.id})),o={};if(null!==l&&void 0!==l&&l.alt_value||null!==l&&void 0!==l&&l.value)o={index:null===x||void 0===x||null===(e=x.items)||void 0===e?void 0:e.length,item_code:"".concat(Y.first_name," ").concat(Y.last_name),quantity:Y.id,value:null!==l&&void 0!==l&&l.value?"":new Date,alt_value:null!==l&&void 0!==l&&l.alt_value?"":new Date,total:Q};else o={index:null===x||void 0===x||null===(n=x.items)||void 0===n?void 0:n.length,item_code:"".concat(Y.first_name," ").concat(Y.last_name),quantity:Y.id,value:new Date,alt_value:"",total:Q};(null===v||void 0===v?void 0:v.id)===Y.id?(le(!0),(0,w.KL)((0,i.Z)((0,i.Z)({},r),{},{component_items:[].concat((0,t.Z)(x.items),[o])})).subscribe({error:function(e){le(!1),L(void 0)},next:function(){le(!1),C({action:h._U.addModuleItems,value:o}),L(void 0)}})):L(o)}}},a.createElement("div",{className:ae.centerDiv,style:{width:"inherit",display:"flex",flexDirection:"column",alignContent:"center"}},a.createElement(k.G,{icon:I.Ual,style:{width:"50px",height:"50px"}}),a.createElement("p",null,"Clock In / Out")))),a.createElement("div",{style:{display:"flex",width:"100%"}},a.createElement(E.zx,{style:{width:"100%",height:"16vh",backgroundColor:"orange",margin:"5px",padding:"0"},clicked:function(){if(null!==Y&&void 0!==Y&&Y.id){var e,n={index:null===x||void 0===x||null===(e=x.items)||void 0===e?void 0:e.length,item_code:"".concat(Y.first_name," ").concat(Y.last_name),quantity:Y.id,value:new Date,alt_value:"",total:Q};(null===v||void 0===v?void 0:v.id)===Y.id?(le(!0),(0,w.KL)((0,i.Z)((0,i.Z)({},r),{},{component_items:[].concat((0,t.Z)(x.items),[n])})).subscribe({error:function(e){le(!1),L(void 0)},next:function(){le(!1),C({action:h._U.addModuleItems,value:n}),L(void 0)}})):L(n)}}},a.createElement("div",{className:ae.centerDiv,style:{width:"inherit",display:"flex",flexDirection:"column",alignContent:"center"}},a.createElement(k.G,{icon:I.uF7,style:{width:"50px",height:"50px"}}),a.createElement("p",null,"Clock In"))),a.createElement(E.zx,{style:{width:"100%",height:"16vh",backgroundColor:"blue",margin:"5px",padding:"0"},clicked:function(){if(null!==Y&&void 0!==Y&&Y.id){var e,n={index:null===x||void 0===x||null===(e=x.items)||void 0===e?void 0:e.length,item_code:"".concat(Y.first_name," ").concat(Y.last_name),quantity:Y.id,alt_value:new Date,value:"",total:Q};(null===v||void 0===v?void 0:v.id)===Y.id?(le(!0),(0,w.KL)((0,i.Z)((0,i.Z)({},r),{},{component_items:[].concat((0,t.Z)(x.items),[n])})).subscribe({error:function(e){le(!1),L(void 0)},next:function(){le(!1),C({action:h._U.addModuleItems,value:n}),L(void 0)}})):L(n)}}},a.createElement("div",{className:ae.centerDiv,style:{width:"inherit",display:"flex",flexDirection:"column",alignContent:"center"}},a.createElement(k.G,{icon:I.f8k,style:{width:"50px",height:"50px"}}),a.createElement("p",null,"Clock Out"))))))),Y&&a.createElement("div",{style:{width:b.tq?"100%":"70%",margin:"0 10px"}},a.createElement(ue.Z,{style:{width:"100%"},tableHostSimple:de.Z.itemsContainer_ii,columns:b.tq?["Time In","Time Out"]:(p?["Employee"]:[]).concat(["Time In","Time Out","Remarks"]),list:null!==x&&void 0!==x&&x.items?null===(l=V.Z([G.Z(J.Z("index"))])(null===x||void 0===x||null===(u=x.items)||void 0===u?void 0:u.filter((function(e){return e.quantity===(null===Y||void 0===Y?void 0:Y.id)}))))||void 0===l?void 0:l.map((function(n,l){var i,t,d;return d={Employee:a.createElement("div",{style:{padding:"20px 0"}},n.item_code)},(0,o.Z)(d,"Time In",a.createElement("div",{style:{padding:"20px 0"}},null!==n&&void 0!==n&&n.value?D()(n.value).format(null!==(i=e.format)&&void 0!==i?i:"DD MMMM YYYY HH:mm"):"")),(0,o.Z)(d,"Time Out",a.createElement("div",{style:{padding:"20px 0"}},null!==n&&void 0!==n&&n.alt_value?D()(n.alt_value).format(null!==(t=e.format)&&void 0!==t?t:"DD MMMM YYYY HH:mm"):"")),(0,o.Z)(d,"Remarks",a.createElement("div",{style:{padding:"20px 0"}},n.total)),d})):[]}))):a.createElement("p",null,"Note: This custom template requires a People component named Employee")))},fe=l(74165),_e=l(15861),ye={itemsTable:"CustomRoutes_itemsTable__9GNyT",inputValue:"CustomRoutes_inputValue__mE20S",multiselectComponent:"CustomRoutes_multiselectComponent__JWLpx",dropdownComponent:"CustomRoutes_dropdownComponent__1P3Wa",dropdownComponent_ii:"CustomRoutes_dropdownComponent_ii__5Cecx",title:"CustomRoutes_title__yxO4J",subtitle:"CustomRoutes_subtitle__aarjQ",dropdownContainer:"CustomRoutes_dropdownContainer__LcpSg",currencyInput:"CustomRoutes_currencyInput__Axdwe",tmiClassName:"CustomRoutes_tmiClassName__k+Nse",templateNotes:"CustomRoutes_templateNotes__ZU+Al"},he=l(68218),ge=l(84634),be=l(60179),xe=l(37390),Ee=l(11217),Ce=(l(11712),(0,_.$j)((function(e){var n=e.authReducer,l=(n.authenticatedUser.position,n.authenticatedUser),o=e.sessionReducer.user,i=e.flowReducer;return{begunModule:i.begunModule,allModules:i.allModules,companyData:i.companyData,companyUsersArray:i.companyUsersArray,companyPositionsArray:i.companyPositionsArray,components:i.components,authenticatedUser:l,user:o,companyProcesses:i.companyProcesses}}))((function(e){var n,l,u,r,v,s,c,p,m,f,g,x,C,w,M,S,N,P,O,L,z,U,F,W,q,B,Y,H,j,V,G,J,K,Q=e.components,X=e.component,$=e.selectedComponent,ee=e.children,ne=(0,_.I0)(),le=(0,_.v9)((function(e){return e.flowReducer})),oe=le.companyData,ie=le.map,de=(0,h.pQ)(),ae=(0,d.Z)(de,2),ue=ae[0],re=ae[1],ve=(0,a.useState)({}),se=(0,d.Z)(ve,2),ce=se[0],pe=se[1],me=(0,a.useState)([]),Ce=(0,d.Z)(me,2),we=(Ce[0],Ce[1]),Ze=(0,a.useState)(),Me=(0,d.Z)(Ze,2),Se=Me[0],ke=Me[1],Ie=(0,a.useState)(),Ne=(0,d.Z)(Ie,2),Te=Ne[0],De=Ne[1],Pe=(0,a.useState)(!1),Ae=(0,d.Z)(Pe,2),Oe=Ae[0],Le=Ae[1],ze=(0,a.useState)(!0),Re=(0,d.Z)(ze,2),Ue=Re[0],Fe=Re[1],We=(0,a.useState)(ue.items.length>0),qe=(0,d.Z)(We,2),Be=qe[0],Ye=qe[1],He=X.selected_fields.find((function(e){var n;return"item_code"===(null===(n=e.options)||void 0===n?void 0:n.mapToItem)&&"Record"===e.data_type_name&&"Customer"===e.field_name})),je=X.selected_fields.find((function(e){var n;return"alt_value"===(null===(n=e.options)||void 0===n?void 0:n.mapToItem)&&"Dropdown"===e.data_type_name&&"Status"===e.field_name})),Ve=X.selected_fields.find((function(e){return"Map"===e.data_type_name})),Ge=Q.filter((function(e){return e.component_fields.filter((function(e){var n;return e.component_blueprint_id===(null===He||void 0===He||null===(n=He.options)||void 0===n?void 0:n.component_id)})).length>0})),Je=(0,a.useState)(null===Ge||void 0===Ge?void 0:Ge.filter((function(e){return!ue.items.map((function(e){return e.item_code})).includes(e.title)&&e.component_fields.find((function(e){return"Pin"===e.data_type_name&&e.value}))}))),Ke=(0,d.Z)(Je,2),Qe=Ke[0],Xe=Ke[1],$e=(0,a.useState)(X.selected_fields.find((function(e){var n;return"Pin"===e.data_type_name&&!0===(null===(n=e.options)||void 0===n?void 0:n.destination)}))),en=(0,d.Z)($e,1)[0],nn=(0,a.useState)(null===(n=ue.newStepComponents.find((function(e){return e.selected_fields.find((function(e){return"Number"===e.data_type_name&&"Stopover"===e.field_name}))})))||void 0===n?void 0:n.selected_fields.find((function(e){return"Number"===e.data_type_name&&"Stopover"===e.field_name}))),ln=(0,d.Z)(nn,1)[0],on=(0,a.useMemo)((function(){return[{Header:"View",columns:[{Header:"View",accessor:"view"}]}]}),[]),tn=null===(l=ue.currentStep)||void 0===l?void 0:l.component_blueprints.findIndex((function(e){return e.id===(null===X||void 0===X?void 0:X.id)})),dn=function(e,n){var l,o,i,d=(0,t.Z)(null!==(l=null===(o=ue.currentStep)||void 0===o?void 0:o.component_blueprints)&&void 0!==l?l:[]),a=null===(i=d[tn])||void 0===i?void 0:i.selected_fields[n];"Number"===(null===a||void 0===a?void 0:a.data_type_name)?Number(+e)?a.value=e:""===e&&(a.value=""):null!==a&&void 0!==a&&a.data_type_name&&(a.value=e),null!==a&&void 0!==a&&a.value&&a.mandatory&&(a.errors=""),re({action:h._U.setComponentBlueprints,value:d}),re({action:h._U.setModuleNewStepComponents,value:d})};return a.createElement("div",{className:te},a.createElement("div",{style:{display:"flex",width:"100%",flexDirection:b.tq?"column":"row"}},a.createElement("div",{style:{width:b.tq?"100%":"20%",padding:"140px 10px 0 10px"}},a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},!0===(null===en||void 0===en?void 0:en.visible)&&a.createElement("div",null,"Route:"),ue.items.length>0&&a.createElement(k.G,{icon:I.XTR,onClick:function(){re({action:h._U.setModuleItems,value:[]}),ne((0,A.wM)({routes:{},pins:""}))},style:{cursor:"pointer"}})),ue.items.length>0?a.createElement(be.zx,null,!0===(null===en||void 0===en?void 0:en.visible)&&a.createElement("div",{style:{border:"1px dashed gray",padding:"5px",cursor:"pointer"},onClick:function(){var e,n,l,o=JSON.parse(null!==(e=null===en||void 0===en?void 0:en.value)&&void 0!==e?e:"{}");null!==o&&void 0!==o&&o.source&&(ne((0,A.wM)({pins:[{position:{lat:null===o||void 0===o||null===(n=o.source)||void 0===n?void 0:n.lat,lng:null===o||void 0===o||null===(l=o.source)||void 0===l?void 0:l.lng},type:"OriginMarker"}]})),ne((0,A.wM)({zoom:17})))}},a.createElement("p",null,"Start"),a.createElement("p",{style:{fontSize:"12px"}},"".concat(null!==(u=null===(r=JSON.parse(null!==(s=null===en||void 0===en?void 0:en.value)&&void 0!==s?s:"{}"))||void 0===r||null===(v=r.source)||void 0===v?void 0:v.address)&&void 0!==u?u:"Please set start"))),a.createElement(be.iA,{columns:on,data:null===ue||void 0===ue?void 0:ue.items.map((function(e,n){var l,o,i,t,d,u,r,v,s,c=JSON.parse(null!==(l=null===e||void 0===e?void 0:e.quantity)&&void 0!==l?l:"{}"),p=JSON.parse(null!==(o=e[null===je||void 0===je||null===(i=je.options)||void 0===i?void 0:i.mapToItem])&&void 0!==o?o:"{}"),m=JSON.parse(null!==(t=null===e||void 0===e?void 0:e.value)&&void 0!==t?t:"{}");return{id:e.id,view:a.createElement("div",{style:{border:e.isOpen?"1px dashed blue":"1px dashed gray",padding:"5px 5px 10px 5px"}},e.isOpen&&a.createElement("div",{style:{display:"flex",justifyContent:"right"}},a.createElement(k.G,{icon:I.$aW,onClick:function(){re({action:h._U.removeModuleItems,value:e})},style:{cursor:"pointer"}})),a.createElement("p",{style:{cursor:"pointer"},onClick:function(){var n;if(e.isOpen=!(null!==(n=null===e||void 0===e?void 0:e.isOpen)&&void 0!==n&&n),re({action:h._U.setModuleItems,value:ue.items}),e.isOpen){var l,o;ne((0,A.wM)({pins:[{position:{lat:null===m||void 0===m||null===(l=m.source)||void 0===l?void 0:l.lat,lng:null===m||void 0===m||null===(o=m.source)||void 0===o?void 0:o.lng},type:"Pin"}]})),ne((0,A.wM)({zoom:17}))}else{if(null!==en&&void 0!==en&&en.value){var i,t,d,a,u,r,v=JSON.parse(null!==(i=null===en||void 0===en?void 0:en.value)&&void 0!==i?i:"{}");ne((0,A.wM)({pins:[{position:{lat:null===v||void 0===v||null===(t=v.source)||void 0===t?void 0:t.lat,lng:null===v||void 0===v||null===(d=v.source)||void 0===d?void 0:d.lng},type:"OriginMarker"},{position:{lat:null===v||void 0===v||null===(a=v.destination)||void 0===a?void 0:a.lat,lng:null===v||void 0===v||null===(u=v.destination)||void 0===u?void 0:u.lng},type:"DestinationMarker"}].concat(null===ue||void 0===ue||null===(r=ue.items)||void 0===r?void 0:r.map((function(e){var n,l,o,i=JSON.parse(null!==(n=e.value)&&void 0!==n?n:"{}");return{position:{lat:null===i||void 0===i||null===(l=i.source)||void 0===l?void 0:l.lat,lng:null===i||void 0===i||null===(o=i.source)||void 0===o?void 0:o.lng},type:"Pin"}})))}))}else{var s;ne((0,A.wM)({pins:null===ue||void 0===ue||null===(s=ue.items)||void 0===s?void 0:s.map((function(e){var n,l,o,i=JSON.parse(null!==(n=e.value)&&void 0!==n?n:"{}");return{position:{lat:null===i||void 0===i||null===(l=i.source)||void 0===l?void 0:l.lat,lng:null===i||void 0===i||null===(o=i.source)||void 0===o?void 0:o.lng},type:"Pin"}}))}))}Ye(!1),ne((0,A.wM)({zoom:null}))}}},a.createElement("span",{style:{fontSize:"12px"}},"".concat(n+1,". ")),"".concat(e.item_code)),a.createElement("p",{style:{fontSize:"14px"}},"".concat(null===m||void 0===m||null===(d=m.source)||void 0===d?void 0:d.address)),e.isOpen&&a.createElement("div",null,Object.keys(c).map((function(e,n){return a.createElement("p",{style:{fontSize:"12px"},key:n},"".concat(e,": ").concat(D()(c[e]).format("DD MMMM YYYY HH:mm")))})),a.createElement("p",null,"Notes"),a.createElement("textarea",{defaultValue:null===p||void 0===p?void 0:p.notes,className:ye.templateNotes,onChange:function(e){return p.notes=e.target.value}}),a.createElement("p",null,"Status"),je&&a.createElement(R.Z,{visible:!0,items:null===je||void 0===je||null===(u=je.options)||void 0===u?void 0:u.list.map((function(e){return{label:e,value:e}})),className:ye.dropdownClassContainer,onChange:function(n){var l,o;p.status=n,e[null===je||void 0===je||null===(l=je.options)||void 0===l?void 0:l.mapToItem]=JSON.stringify(p),c[n]=(0,T.now)(),e.quantity=JSON.stringify(c),null!==Ve&&void 0!==Ve&&null!==(o=Ve.options)&&void 0!==o&&o.realtime&&null!==$&&void 0!==$&&$.id?navigator.geolocation.getCurrentPosition((function(l){var o={},i={lat:l.coords.latitude,lng:l.coords.longitude,id:"10"};o[n]=i,e.total=JSON.stringify(o),re({action:h._U.setModuleItems,value:ue.items}),$.lat=l.coords.latitude,$.lng=l.coords.longitude})):re({action:h._U.setModuleItems,value:ue.items})},selectionType:null===je||void 0===je||null===(r=je.options)||void 0===r?void 0:r.type,backgroundColor:null!==je&&void 0!==je&&null!==(v=je.options)&&void 0!==v&&v.valueC&&null!==je&&void 0!==je&&je.value?null===je||void 0===je||null===(s=je.options)||void 0===s?void 0:s.valueC:"",value:void 0===(null===p||void 0===p?void 0:p.status)||null===(null===p||void 0===p?void 0:p.status)?"":null===p||void 0===p?void 0:p.status}))),item:e}})),onhandleDragEnd:function(e){Fe(!1),Le(!0),setTimeout((function(){return Le(!1)}),10),re({action:h._U.setModuleItems,value:e.map((function(e,n){return(0,i.Z)((0,i.Z)({},e.item),{},{index:n})}))})}}),!0===(null===en||void 0===en?void 0:en.visible)&&a.createElement("div",{style:{border:"1px dashed gray",marginTop:"10px",cursor:"pointer"},onClick:function(){var e,n,l,o=JSON.parse(null!==(e=null===en||void 0===en?void 0:en.value)&&void 0!==e?e:"{}");null!==o&&void 0!==o&&o.destination&&(ne((0,A.wM)({pins:[{position:{lat:null===o||void 0===o||null===(n=o.destination)||void 0===n?void 0:n.lat,lng:null===o||void 0===o||null===(l=o.destination)||void 0===l?void 0:l.lng},type:"DestinationMarker"}]})),ne((0,A.wM)({zoom:17})))}},a.createElement("p",null,"End"),a.createElement("p",{style:{fontSize:"12px"}},"".concat(null!==(c=null===(p=JSON.parse(null!==(f=null===en||void 0===en?void 0:en.value)&&void 0!==f?f:"{}"))||void 0===p||null===(m=p.destination)||void 0===m?void 0:m.address)&&void 0!==c?c:"Please set end")))):a.createElement("div",null,a.createElement("p",{style:{fontSize:"14px"}},"None found."),a.createElement("p",{style:{fontSize:"14px"}},"Add using filters below. Click Add to Route or Add All to Route to add pin/s. Set a starting and end point. When done press Generate Route. You can also set Optimize Route Order to No and drag pins manually.")),(null===ie||void 0===ie||null===(g=ie.routes)||void 0===g||null===(x=g.DRIVE)||void 0===x?void 0:x.length)>0&&(null===ue||void 0===ue||null===(C=ue.items)||void 0===C?void 0:C.length)>0&&a.createElement("div",{style:{margin:"40px 0"}},a.createElement("p",{style:{fontSize:"12px"}},"Route Distance: ".concat(+(null===ie||void 0===ie||null===(w=ie.routes)||void 0===w||null===(M=w.DRIVE[0])||void 0===M?void 0:M.distanceMeters)/1e3," km")),a.createElement("p",{style:{fontSize:"12px"}},"No of Stopover: ".concat(ue.items.length," ")),a.createElement("p",{style:{fontSize:"12px"}},"Time per Stopover: ".concat(+(null===ln||void 0===ln?void 0:ln.value)/60," min")),a.createElement("p",{style:{fontSize:"12px"}},"Total Duration: ".concat(((+(null===ie||void 0===ie||null===(S=ie.routes)||void 0===S||null===(N=S.DRIVE[0])||void 0===N||null===(P=N.duration)||void 0===P?void 0:P.replace("s",""))+ +(null===ln||void 0===ln?void 0:ln.value)*ue.items.length)/3600).toFixed(2)," hr"))),(null===ue||void 0===ue||null===(O=ue.items)||void 0===O?void 0:O.length)>1&&(null===en||void 0===en?void 0:en.value)&&a.createElement("div",null,!Oe&&a.createElement(E.pd,{id:"optimizeWaypointOrder?",title:"Optimize Route Order",ungrouped:!0,withAckButton:!1,value:Ue,style:{margin:"20px 0px 20px 0px",width:"auto"},toggleSelected:function(e){Fe(!!e)}}),a.createElement(E.zx,{title:"Generate Routes",style:{width:"100%",backgroundColor:"darkblue",textAlign:"left",marginTop:"50px"},clicked:(0,_e.Z)((0,fe.Z)().mark((function e(){var n,l,t,d,a,u,r,v,s,c,p,m,f,_,y,g,b,x,E,C,w,Z,M,S;return(0,fe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===en||void 0===en||!en.value){e.next=9;break}return u={},r=JSON.parse(null!==(n=null===en||void 0===en?void 0:en.value)&&void 0!==n?n:"{}"),e.next=5,(0,Ee.s)({origin:{location:{latLng:{latitude:r.source.lat,longitude:r.source.lng}}},destination:{location:{latLng:{latitude:r.destination.lat,longitude:r.destination.lng}}},intermediates:null===ue||void 0===ue||null===(l=ue.items)||void 0===l?void 0:l.map((function(e){var n,l,o,i=JSON.parse(null!==(n=e.value)&&void 0!==n?n:"{}");return{location:{latLng:{latitude:null===i||void 0===i||null===(l=i.source)||void 0===l?void 0:l.lat,longitude:null===i||void 0===i||null===(o=i.source)||void 0===o?void 0:o.lng}}}})),computeAlternativeRoutes:"false",optimizeWaypointOrder:Ue?"true":"false",travelMode:xe.jk[0],routingPreference:"traffic_aware",extraComputations:["TRAFFIC_ON_POLYLINE"]},null===oe||void 0===oe||null===(t=oe.misc_info)||void 0===t?void 0:t.map);case 5:null!==(v=e.sent)&&void 0!==v&&null!==(d=v.routes)&&void 0!==d&&d.DRIVE&&null!==v&&void 0!==v&&null!==(s=v.routes)&&void 0!==s&&null!==(c=s.DRIVE[0])&&void 0!==c&&c.legs&&(null===v||void 0===v||(null===(p=v.routes)||void 0===p||delete p.DRIVE[0].legs)),u[xe.jk[0]]=[],(null===v||void 0===v||null===(a=v.routes)||void 0===a?void 0:a.length)>0&&(null!==(m=v.routes[0])&&void 0!==m&&m.optimizedIntermediateWaypointIndex&&re({action:h._U.setModuleItems,value:null===(M=v.routes[0])||void 0===M||null===(S=M.optimizedIntermediateWaypointIndex)||void 0===S?void 0:S.map((function(e,n){return(0,i.Z)((0,i.Z)({},ue.items[+e]),{},{index:n})}))}),u[xe.jk[0]]=[null===v||void 0===v?void 0:v.routes[0]],ne((0,A.wM)({routes:u,pins:[{position:{lat:null===r||void 0===r||null===(f=r.source)||void 0===f?void 0:f.lat,lng:null===r||void 0===r||null===(_=r.source)||void 0===_?void 0:_.lng},type:"OriginMarker"},{position:{lat:null===r||void 0===r||null===(y=r.destination)||void 0===y?void 0:y.lat,lng:null===r||void 0===r||null===(g=r.destination)||void 0===g?void 0:g.lng},type:"DestinationMarker"}].concat(null===ue||void 0===ue||null===(b=ue.items)||void 0===b?void 0:b.map((function(e){var n,l,o,i=JSON.parse(null!==(n=e.value)&&void 0!==n?n:"{}");return{position:{lat:null===i||void 0===i||null===(l=i.source)||void 0===l?void 0:l.lat,lng:null===i||void 0===i||null===(o=i.source)||void 0===o?void 0:o.lng},type:"Pin"}})))})),dn(JSON.stringify((0,i.Z)((0,i.Z)({},ie),{},{routes:(0,o.Z)({},xe.jk[0],[null===v||void 0===v?void 0:v.routes[0]]),pins:[{position:{lat:null===r||void 0===r||null===(x=r.source)||void 0===x?void 0:x.lat,lng:null===r||void 0===r||null===(E=r.source)||void 0===E?void 0:E.lng},type:"OriginMarker"},{position:{lat:null===r||void 0===r||null===(C=r.destination)||void 0===C?void 0:C.lat,lng:null===r||void 0===r||null===(w=r.destination)||void 0===w?void 0:w.lng},type:"DestinationMarker"}].concat(null===ue||void 0===ue||null===(Z=ue.items)||void 0===Z?void 0:Z.map((function(e){var n,l,o,i=JSON.parse(null!==(n=e.value)&&void 0!==n?n:"{}");return{position:{lat:null===i||void 0===i||null===(l=i.source)||void 0===l?void 0:l.lat,lng:null===i||void 0===i||null===(o=i.source)||void 0===o?void 0:o.lng},type:"Pin"}})))})),Ve.index));case 9:case"end":return e.stop()}}),e)})))})),(null===ue||void 0===ue||null===(L=ue.items)||void 0===L?void 0:L.length)>1&&!0===!(null!==en&&void 0!==en&&en.visible)&&a.createElement("div",null,a.createElement(E.zx,{title:"Save Map",loading:Oe,style:{width:"100%",backgroundColor:"darkblue",textAlign:"left",marginTop:"50px"},clicked:function(){var e;dn(JSON.stringify((0,i.Z)((0,i.Z)({},ie),{},{pins:null===ue||void 0===ue||null===(e=ue.items)||void 0===e?void 0:e.map((function(e){var n,l,o,i=JSON.parse(null!==(n=e.value)&&void 0!==n?n:"{}");return{position:{lat:null===i||void 0===i||null===(l=i.source)||void 0===l?void 0:l.lat,lng:null===i||void 0===i||null===(o=i.source)||void 0===o?void 0:o.lng},type:"Pin"}}))})),Ve.index),Le(!0),setTimeout((function(){return Le(!1)}),1e3)}}))),a.createElement("div",{style:{width:b.tq?"100%":"80%"}},a.createElement("div",{style:{display:"flex",justifyContent:"right",padding:"20px 5px 10px 10px"}},a.createElement(k.G,{icon:Be?I.byT:I.tAh,onClick:function(){Ye(!Be),ne((0,A.wM)({zoom:null}))},style:{cursor:"pointer"}})),a.createElement("div",{style:{height:"auto",width:"100%",pointerEvents:Be?"none":""}},ee))),a.createElement("div",{style:{display:"flex",flexDirection:b.tq?"column":"row",width:"100%",padding:"20px"}},a.createElement("div",{style:{width:"20%",padding:"20px 10px 0 10px"}},a.createElement("div",{style:{disabled:!0,width:"250px",display:"flex",flexDirection:"column",marginRight:"0px",mmarginTop:"".concat(280+60*(null!==(z=null===ue||void 0===ue||null===(U=ue.items)||void 0===U?void 0:U.length)&&void 0!==z?z:1),"px"),fontSize:"18px"}},"Filters:",(null===He||void 0===He||null===(F=He.options)||void 0===F||null===(W=F.filters)||void 0===W?void 0:W.length)>0&&a.createElement("div",{className:ye.dropdownContainer},a.createElement(E.rk,{items:Ge?he.Z(ge.Z("value"))(Ge.map((function(e){var n=e.component_fields.find((function(e){var n;return e.field_name===(null===He||void 0===He||null===(n=He.options)||void 0===n?void 0:n.filters[0])}));return{label:null===n||void 0===n?void 0:n.value,value:null===n||void 0===n?void 0:n.value,component:e}}))):[],onChange:function(e){var n,l,i,t;we([]),pe((0,o.Z)({},null===He||void 0===He||null===(n=He.options)||void 0===n?void 0:n.filters[0],e.value)),Xe([]),De(!1),ke(!1),setTimeout((function(){return ke(!0)}),10),Xe(null===Ge||void 0===Ge||null===(l=Ge.filter((function(e){return!ue.items.map((function(e){return e.item_code})).includes(e.title)&&e.component_fields.find((function(e){return"Pin"===e.data_type_name&&e.value}))})))||void 0===l?void 0:l.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0}))),re({action:h._U.setModuleNewStepComponents,value:null!==(i=null===(t=ue.currentStep)||void 0===t?void 0:t.component_blueprints)&&void 0!==i?i:[]})},placeholder:null===He||void 0===He||null===(q=He.options)||void 0===q?void 0:q.filters[0],moliclassname:ye.componentsSelectMenuOverlayListItem,className:ye.currencyInput,tmiClassName:ye.tmiClassName})),a.createElement("div",{style:{height:"10px"}}),(null===He||void 0===He||null===(B=He.options)||void 0===B||null===(Y=B.filters)||void 0===Y?void 0:Y.length)>1&&!b.tq&&Se&&a.createElement("div",{className:ye.dropdownContainer},a.createElement(E.rk,{items:ce[null===He||void 0===He||null===(H=He.options)||void 0===H?void 0:H.filters[0]]?he.Z(ge.Z("value"))(Ge.map((function(e){var n=e.component_fields.find((function(e){var n;return e.field_name===(null===He||void 0===He||null===(n=He.options)||void 0===n?void 0:n.filters[1])}));return{label:null===n||void 0===n?void 0:n.value,value:null===n||void 0===n?void 0:n.value,component:e}})).filter((function(e){return e.component.component_fields.filter((function(e){var n,l;return e.value===ce[null===He||void 0===He||null===(n=He.options)||void 0===n?void 0:n.filters[0]]&&e.field_name===(null===He||void 0===He||null===(l=He.options)||void 0===l?void 0:l.filters[0])})).length>0}))):[],onChange:function(e){var n,l,t,d;De(!1),setTimeout((function(){return De(!0)}),10),re({action:h._U.setModuleNewStepComponents,value:null!==(n=null===(l=ue.currentStep)||void 0===l?void 0:l.component_blueprints)&&void 0!==n?n:[]}),pe((0,i.Z)((0,i.Z)({},ce),{},(0,o.Z)({},null===He||void 0===He||null===(t=He.options)||void 0===t?void 0:t.filters[1],e.value))),Xe(null===Ge||void 0===Ge||null===(d=Ge.filter((function(e){return!ue.items.map((function(e){return e.item_code})).includes(e.title)&&e.component_fields.find((function(e){return"Pin"===e.data_type_name&&e.value}))})))||void 0===d?void 0:d.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0})).filter((function(e){var n;return(null===(n=e.component_fields.filter((function(e){var n;return e.value===ce[null===He||void 0===He||null===(n=He.options)||void 0===n?void 0:n.filters[0]]})))||void 0===n?void 0:n.length)>0})))},placeholder:null===He||void 0===He||null===(j=He.options)||void 0===j?void 0:j.filters[1],style:{fontSize:"16px"},moliclassname:ye.componentsSelectMenuOverlayListItem,tmiClassName:ye.tmiClassName})),a.createElement("div",{style:{height:"10px"}}),(null===He||void 0===He||null===(V=He.options)||void 0===V||null===(G=V.filters)||void 0===G?void 0:G.length)>2&&!b.tq&&Te&&a.createElement("div",{className:ye.dropdownContainer},a.createElement(E.rk,{items:ce[null===He||void 0===He||null===(J=He.options)||void 0===J?void 0:J.filters[1]]?he.Z(ge.Z("value"))(Qe.map((function(e){var n=e.component_fields.find((function(e){var n;return e.field_name===(null===He||void 0===He||null===(n=He.options)||void 0===n?void 0:n.filters[2])}));return{label:null===n||void 0===n?void 0:n.value,value:null===n||void 0===n?void 0:n.value,component:e}})).filter((function(e){return e.component.component_fields.filter((function(e){var n,l;return e.value===ce[null===He||void 0===He||null===(n=He.options)||void 0===n?void 0:n.filters[1]]&&e.field_name===(null===He||void 0===He||null===(l=He.options)||void 0===l?void 0:l.filters[1])})).length>0}))):[],onChange:function(e){var n,l,t,d;re({action:h._U.setModuleNewStepComponents,value:null!==(n=null===(l=ue.currentStep)||void 0===l?void 0:l.component_blueprints)&&void 0!==n?n:[]}),pe((0,i.Z)((0,i.Z)({},ce),{},(0,o.Z)({},null===He||void 0===He||null===(t=He.options)||void 0===t?void 0:t.filters[1],e.value))),Xe(null===Ge||void 0===Ge||null===(d=Ge.filter((function(e){return!ue.items.map((function(e){return e.item_code})).includes(e.title)&&e.component_fields.find((function(e){return"Pin"===e.data_type_name&&e.value}))})))||void 0===d?void 0:d.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0})).filter((function(e){var n;return(null===(n=e.component_fields.filter((function(e){var n;return e.value===ce[null===He||void 0===He||null===(n=He.options)||void 0===n?void 0:n.filters[0]]})))||void 0===n?void 0:n.length)>0})))},placeholder:null===He||void 0===He||null===(K=He.options)||void 0===K?void 0:K.filters[2],style:{fontSize:"16px"},moliclassname:ye.componentsSelectMenuOverlayListItem,tmiClassName:ye.tmiClassName})))),a.createElement("div",{style:{width:b.tq?"100%":"80%"}},a.createElement(Z.default,{className:ye.itemsTable,modern:!!b.tq,columns:["Name","Address","Action"],list:null===Qe||void 0===Qe?void 0:Qe.map((function(e){var n,l,o=null===(n=e.component_fields.find((function(e){return"Pin"===e.data_type_name})))||void 0===n?void 0:n.value,i=JSON.parse(null!==o&&void 0!==o?o:"{}");return{id:e.id,location:null===i||void 0===i?void 0:i.source,Name:a.createElement("div",{style:{textAlign:"left",padding:"10px",cursor:"pointer"}},e.title),Action:a.createElement(E.zx,{title:!0===(null===en||void 0===en?void 0:en.visible)?"Add to Route":"Add to Map",clicked:function(){var n,l,t={id:(0,y.mR)(),item_code:e.title,value:o,alt_value:"{}",quantity:"{}",total:"{}",isOpen:!0};re({action:h._U.addModuleItems,value:t}),Xe(Qe.filter((function(n){return n.id!==e.id}))),ne((0,A.wM)({pins:[{position:{lat:null===i||void 0===i||null===(n=i.source)||void 0===n?void 0:n.lat,lng:null===i||void 0===i||null===(l=i.source)||void 0===l?void 0:l.lng}}]}))},titleStyle:{fontSize:"12px"},style:{height:"30px",width:"140px"}}),Address:a.createElement("div",{style:{textAlign:"left",padding:"10px"}},null===(l=i.source)||void 0===l?void 0:l.address)}})),onListItemClick:function(e){var n,l;ne((0,A.wM)({pins:[{position:{lat:null===(n=e.location)||void 0===n?void 0:n.lat,lng:null===(l=e.location)||void 0===l?void 0:l.lng},type:"Pin"}]}))}}),Qe.length>1&&a.createElement("div",{style:{display:"flex",justifyContent:"right",padding:"20px 5px 0 10px"}},a.createElement(E.zx,{title:!0===(null===en||void 0===en?void 0:en.visible)?"Add All to Route":"Add All to Map",style:{height:"30px",width:"140px",backgroundColor:"darkgreen"},titleStyle:{fontSize:"12px"},clicked:function(){var e=Qe.map((function(e){var n,l=null===(n=e.component_fields.find((function(e){return"Pin"===e.data_type_name})))||void 0===n?void 0:n.value;return{id:(0,y.mR)(),item_code:e.title,value:l,alt_value:"{}",quantity:"{}",total:"{}"}}));ne((0,A.wM)({pins:null===e||void 0===e?void 0:e.map((function(e){var n,l,o,i=JSON.parse(null!==(n=e.value)&&void 0!==n?n:"{}");return{position:{lat:null===i||void 0===i||null===(l=i.source)||void 0===l?void 0:l.lat,lng:null===i||void 0===i||null===(o=i.source)||void 0===o?void 0:o.lng},type:"Pin"}}))})),re({action:h._U.setModuleItems,value:[].concat((0,t.Z)(ue.items),(0,t.Z)(e))}),Xe([])}})))))}))),we=l(67598),Ze=l(67861),Me=function(e){var n,l,a,u,r,v,s,c,p,m,f,_,g,x,C,Z,M,k,I,N,T,D,P,A,O,L=(0,h.pQ)(),z=(0,d.Z)(L,2),R=z[0],U=z[1],F=e.user,W=e.favorites,q=e.creating,B=e.items,Y=e.templateName,H=e.field,j=e.showSecond,V=e.listItems,G=e.orderItems,J=e.setShowSecond,Q=e.components,X=e.template,$=e.component,ee=e.showFavorites,ne=e.companyData,le=e.setShowFavorites,oe=e.setListItems,ie=e.setOrderItems,te=e.setSelectedItems,ae=e.selectedItems,re=null!==(n=null===X||void 0===X||null===(l=X.config.find((function(e){return"quantity"===e.key})))||void 0===l?void 0:l.label)&&void 0!==n?n:"Quantity",ve=null!==(a=null===X||void 0===X||null===(u=X.config.find((function(e){return"alt_value"===e.key})))||void 0===u?void 0:u.label)&&void 0!==a?a:"Actual",se=null!==(r=null===X||void 0===X||null===(v=X.config.find((function(e){return"item_code"===e.key})))||void 0===v?void 0:v.label)&&void 0!==r?r:"Product ID",ce=null!==(s=null===X||void 0===X?void 0:X.list)&&void 0!==s?s:[],pe=function(e){var n,l=[];e.filter((function(e){var n=null===B||void 0===B?void 0:B.find((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.component_id})))||void 0===l?void 0:l.length)>0}));n&&(l=[].concat((0,t.Z)(l),[n]))})),oe(l),ie(null===(n=l)||void 0===n?void 0:n.map((function(e){var n={};return $.selected_fields.filter((function(l){var t,d;"Text"!==l.data_type_name&&"Number"!==l.data_type_name||(n=(0,i.Z)((0,i.Z)({},n),{},(0,o.Z)({},l.field_name,null!==(t=null===(d=e.component_fields.find((function(e){return e.field_name===l.field_name})))||void 0===d?void 0:d.value)&&void 0!==t?t:0)))})),n})))},me=function(e,n,l){var o,i=e.component_fields.find((function(e){var n;return e.field_name===(null===$||void 0===$||null===(n=$.options)||void 0===n?void 0:n.key)})),t=null===R||void 0===R||null===(o=R.items)||void 0===o?void 0:o.find((function(e){return e.item_code===i.value}));if(void 0===t){var d,a,u,r={alt_value:null!==(d=G[n][ve])&&void 0!==d?d:0,quantity:null!==(a=G[n][re])&&void 0!==a?a:0,item_code:i.value,id:(0,y.mR)(),value:null!==(u=parseFloat(l*+G[n][re]).toFixed(2))&&void 0!==u?u:0};U({action:h._U.addModuleItems,value:r})}else{var v;if(0==+G[n][re])U({action:h._U.removeModuleItems,value:t});else t.quantity=G[n][re],t.alt_value=G[n][ve],t.value=null!==(v=parseFloat(l*+G[n][re]).toFixed(2))&&void 0!==v?v:0,U({action:h._U.updateModuleItems,value:t})}};return Ze.createElement("div",{style:{width:"100%",justifyContent:"center"}},Ze.createElement("div",null,Ze.createElement("div",{style:{display:"flex",flexDirection:"row",marginTop:"50px",width:"100%"}},Ze.createElement("div",{style:{disabled:!0,width:"250px",display:b.tq?"none":"flex",flexDirection:"column",marginRight:"20px",marginTop:"".concat(280+60*(null!==(c=null===R||void 0===R||null===(p=R.items)||void 0===p?void 0:p.length)&&void 0!==c?c:1),"px"),fontSize:"18px"}},"Filters:",(null===H||void 0===H||null===(m=H.options)||void 0===m||null===(f=m.filters)||void 0===f?void 0:f.length)>0&&Ze.createElement("div",{className:we.Z.dropdownContainer},Ze.createElement(E.rk,{items:B?he.Z(ge.Z("value"))(B.map((function(e){var n=e.component_fields.find((function(e){var n;return e.field_name===(null===H||void 0===H||null===(n=H.options)||void 0===n?void 0:n.filters[0])}));return{label:null===n||void 0===n?void 0:n.value,value:null===n||void 0===n?void 0:n.value,component:e}}))):[],onChange:function(e){var n,l,t;le(!1),ie([]),te((0,o.Z)({},null===H||void 0===H||null===(n=H.options)||void 0===n?void 0:n.filters[0],e.value)),oe([]),J(!1),setTimeout((function(){return J(!0)}),10),oe(null===B||void 0===B?void 0:B.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0}))),U({action:h._U.setModuleNewStepComponents,value:null!==(l=null===(t=R.currentStep)||void 0===t?void 0:t.component_blueprints)&&void 0!==l?l:[]}),ie(null===B||void 0===B?void 0:B.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0})).map((function(e){var n={};return $.selected_fields.filter((function(l){var t,d;"Text"!==l.data_type_name&&"Number"!==l.data_type_name||(n=(0,i.Z)((0,i.Z)({},n),{},(0,o.Z)({},l.field_name,null!==(t=null===(d=e.component_fields.find((function(e){return e.field_name===l.field_name})))||void 0===d?void 0:d.value)&&void 0!==t?t:0)))})),n})))},placeholder:null===H||void 0===H||null===(_=H.options)||void 0===_?void 0:_.filters[0],moliclassname:we.Z.componentsSelectMenuOverlayListItem,className:we.Z.currencyInput})),Ze.createElement("div",{style:{height:"10px"}}),(null===H||void 0===H||null===(g=H.options)||void 0===g||null===(x=g.filters)||void 0===x?void 0:x.length)>1&&!b.tq&&j&&Ze.createElement("div",{className:we.Z.dropdownContainer},Ze.createElement(E.rk,{items:ae[null===H||void 0===H||null===(C=H.options)||void 0===C?void 0:C.filters[0]]?he.Z(ge.Z("value"))(B.map((function(e){var n=e.component_fields.find((function(e){var n;return e.field_name===(null===H||void 0===H||null===(n=H.options)||void 0===n?void 0:n.filters[1])}));return{label:null===n||void 0===n?void 0:n.value,value:null===n||void 0===n?void 0:n.value,component:e}})).filter((function(e){return e.component.component_fields.filter((function(e){var n,l;return e.value===ae[null===H||void 0===H||null===(n=H.options)||void 0===n?void 0:n.filters[0]]&&e.field_name===(null===H||void 0===H||null===(l=H.options)||void 0===l?void 0:l.filters[0])})).length>0}))):[],onChange:function(e){var n,l,t;le(!1),U({action:h._U.setModuleNewStepComponents,value:null!==(n=null===(l=R.currentStep)||void 0===l?void 0:l.component_blueprints)&&void 0!==n?n:[]}),te((0,i.Z)((0,i.Z)({},ae),{},(0,o.Z)({},null===H||void 0===H||null===(t=H.options)||void 0===t?void 0:t.filters[1],e.value))),ie(null===B||void 0===B?void 0:B.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0})).filter((function(e){var n;return(null===(n=e.component_fields.filter((function(e){var n;return e.value===ae[null===H||void 0===H||null===(n=H.options)||void 0===n?void 0:n.filters[0]]})))||void 0===n?void 0:n.length)>0})).map((function(e){var n={};return $.selected_fields.filter((function(l){var t,d;"Text"!==l.data_type_name&&"Number"!==l.data_type_name||(n=(0,i.Z)((0,i.Z)({},n),{},(0,o.Z)({},l.field_name,null!==(t=null===(d=e.component_fields.find((function(e){return e.field_name===l.field_name})))||void 0===d?void 0:d.value)&&void 0!==t?t:0)))})),n}))),oe(null===B||void 0===B?void 0:B.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0})).filter((function(e){var n;return(null===(n=e.component_fields.filter((function(e){var n;return e.value===ae[null===H||void 0===H||null===(n=H.options)||void 0===n?void 0:n.filters[0]]})))||void 0===n?void 0:n.length)>0})))},placeholder:null===H||void 0===H||null===(Z=H.options)||void 0===Z?void 0:Z.filters[1],style:{fontSize:"16px"},moliclassname:we.Z.componentsSelectMenuOverlayListItem}))),Ze.createElement("div",{style:{display:"flex",flexDirection:"column",width:b.tq?"100%":"80%"}},Ze.createElement("p",null,"Orders"),Ze.createElement(ue.Z,{tableHostSimple:de.Z.itemsContainer_ii,style:{width:"100%"},highlights:"var(--app-color-gray-lighter)",columns:b.tq?null===ne||void 0===ne||null===(M=ne.misc_info)||void 0===M||null===(k=M.templatesData.find((function(e){return e.name===Y})).config)||void 0===k?void 0:k.filter((function(e){return"Text"===e.value||"Number"===e.value||"Connector"===e.value})).map((function(e){return e.label})).slice(0,2):null===ne||void 0===ne||null===(I=ne.misc_info)||void 0===I||null===(N=I.templatesData.find((function(e){return e.name===Y})).config)||void 0===N?void 0:N.filter((function(e){return"Text"===e.value||"Number"===e.value||"Connector"===e.value})).map((function(e){return e.label})),footer:b.tq?["Totals",Ze.createElement("div",{className:we.Z.templateInformation,key:1,style:{padding:"20px 5px"}},"".concat(K.Z((function(e,n){var l;return null!==(l=+e+ +n.quantity)&&void 0!==l?l:0}),0,null!==(T=null===R||void 0===R?void 0:R.items)&&void 0!==T?T:[])))]:["Totals:",Ze.createElement("div",{key:1,className:we.Z.templateInformation,style:{padding:"20px 5px"}},"".concat(K.Z((function(e,n){var l;return null!==(l=+e+ +n.quantity)&&void 0!==l?l:0}),0,null!==(D=null===R||void 0===R?void 0:R.items)&&void 0!==D?D:[]))),Ze.createElement("div",{key:2,className:we.Z.templateInformation,style:{padding:"20px 5px"}},"".concat(K.Z((function(e,n){var l;return+e+(isNaN(+n.alt_value)?0:null!==(l=+n.alt_value)&&void 0!==l?l:0)}),0,null!==(P=null===R||void 0===R?void 0:R.items)&&void 0!==P?P:[])))],list:null===R||void 0===R||null===(A=R.items)||void 0===A?void 0:A.map((function(e){var n,l,i,t=e.item_code,d=null!==(n=e.quantity)&&void 0!==n?n:0,a=null!==(l=e.alt_value)&&void 0!==l?l:0;return i={List:Ze.createElement("div",{className:we.Z.templateInformation,style:{display:"flex",flex:"1"}},Ze.createElement("div",{style:{width:"40%"}},t),Ze.createElement("div",{style:{width:"20%"}},d))},(0,o.Z)(i,null===$||void 0===$?void 0:$.options.key,Ze.createElement("div",{className:we.Z.templateInformation},Ze.createElement("span",null,t))),(0,o.Z)(i,"Quantity",Ze.createElement("div",{className:we.Z.templateInformation,style:{padding:"20px 5px"}},Ze.createElement("span",null,d))),(0,o.Z)(i,"Actual",Ze.createElement("div",{className:we.Z.templateInformation},Ze.createElement("span",null,a))),(0,o.Z)(i,"id",e.id),(0,o.Z)(i,"code",t),i})),onListItemClick:function(e){ie(null===B||void 0===B?void 0:B.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.code})))||void 0===l?void 0:l.length)>0})).map((function(e){var n,l={};$.selected_fields.filter((function(n){var t,d;"Text"!==n.data_type_name&&"Number"!==n.data_type_name||(l=(0,i.Z)((0,i.Z)({},l),{},(0,o.Z)({},n.field_name,null!==(t=null===(d=e.component_fields.find((function(e){return e.field_name===n.field_name})))||void 0===d?void 0:d.value)&&void 0!==t?t:0)))}));var t=null===R||void 0===R||null===(n=R.items)||void 0===n?void 0:n.find((function(e){return e.item_code===l[se]}));return l[ve]=t.alt_value,l[re]=t.quantity,l}))),oe(null===Q||void 0===Q?void 0:Q.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.code})))||void 0===l?void 0:l.length)>0})))}}),Ze.createElement("br",null),Ze.createElement("div",{className:we.Z.searchContainer,style:{display:ee?"none":""}},Ze.createElement(S.O,null),Ze.createElement("input",{placeholder:"Search",className:we.Z.searchInput,onChange:function(e){var n,l,t;(null===(n=e.target.value)||void 0===n?void 0:n.length)>1?(ie(null===(t=Q.filter((function(e){return e.component_fields.filter((function(e){return e.component_blueprint_id===H.options.component_id})).length>0})))||void 0===t?void 0:t.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value.includes(e.target.value)})))||void 0===l?void 0:l.length)>0})).map((function(e){var n={};return $.selected_fields.filter((function(l){var t,d;"Text"!==l.data_type_name&&"Number"!==l.data_type_name||(n=(0,i.Z)((0,i.Z)({},n),{},(0,o.Z)({},l.field_name,null!==(t=null===(d=e.component_fields.find((function(e){return e.field_name===l.field_name})))||void 0===d?void 0:d.value)&&void 0!==t?t:0)))})),n}))),oe(null===B||void 0===B?void 0:B.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value.includes(e.target.value)})))||void 0===l?void 0:l.length)>0})))):0==(null===(l=e.target.value)||void 0===l?void 0:l.length)&&(ie([]),oe([]))}})),Ze.createElement(ue.Z,{tableHostSimple:de.Z.itemsContainer_ii,style:{width:"100%"},columns:b.tq?[null!==(O=null===$||void 0===$?void 0:$.name)&&void 0!==O?O:"Item"]:(0,t.Z)(ce),list:V.map((function(e,n){var l,o,i,d,a,u,r,v,s,c="".concat(null===(l=e.component_fields.find((function(e){return"Name"===e.field_name})))||void 0===l?void 0:l.value),p="".concat(null===(o=e.component_fields.find((function(e){return"Range"===e.field_name})))||void 0===o?void 0:o.value),m="".concat(null===(i=e.component_fields.find((function(e){return"Application"===e.field_name})))||void 0===i?void 0:i.value),f=null===(d=e.component_fields.find((function(e){return"Link"===e.data_type_name&&"Picture"!==e.field_name})))||void 0===d?void 0:d.value,_=null===(a=e.component_fields.find((function(e){return"Link"===e.data_type_name&&"Picture"===e.field_name})))||void 0===a?void 0:a.value,y=null===ne||void 0===ne||null===(u=ne.misc_info)||void 0===u?void 0:u.templatesData.find((function(e){return"Battery Order Template"===e.name})).config.find((function(e){return e.label===(null===$||void 0===$?void 0:$.options.key)})),h=null===R||void 0===R||null===(r=R.items)||void 0===r?void 0:r.find((function(e){return e[y.key]===G[n][null===$||void 0===$?void 0:$.options.key]})),g=h?+h.quantity:0,b=h?+h.alt_value:0,x={};return ce.filter((function(n){var l,o;x[n]=Ze.createElement("div",{className:we.Z.templateInformation},"".concat(null!==(l=null===(o=e.component_fields.find((function(e){return e.field_name===n})))||void 0===o?void 0:o.value)&&void 0!==l?l:""))})),x[null!==(v=null===$||void 0===$?void 0:$.name)&&void 0!==v?v:"Item"]=Ze.createElement("div",null,Ze.createElement("div",{style:{display:"flex"}},Ze.createElement("div",{style:{display:"",width:"70%"}},Ze.createElement("div",{className:we.Z.templateInformation},c)),Ze.createElement("input",{autoComplete:"off",className:we.Z.templateInput,style:{border:"1px solid var(--app-color-gray-light)",width:"30%",height:"30px"},placeholder:g,onChange:function(e){+e.target.value>-1&&(G[n][re]=+e.target.value)},onBlur:function(){ie((0,t.Z)(G)),me(e,n,0)}}))),x.Quantity=q?Ze.createElement("div",{className:we.Z.templateAddBox},Ze.createElement(E.zx,{clear:!0,className:we.Z.templatePlus,clicked:function(){g>0&&(G[n][re]=g-1,G[n][ve]=b-1,ie((0,t.Z)(G)),me(e,n,0))}},"-"),Ze.createElement("input",{autoComplete:"off",className:we.Z.templateInput,placeholder:h?h.quantity:0,onChange:function(e){+e.target.value>-1&&(G[n][re]=+e.target.value,G[n][ve]=+e.target.value)},onBlur:function(){ie((0,t.Z)(G)),me(e,n,0)}}),Ze.createElement(E.zx,{clear:!0,className:we.Z.templatePlus,clicked:function(){G[n][re]=g+1,G[n][ve]=b+1,ie((0,t.Z)(G)),me(e,n,0)}},"+")):Ze.createElement("div",{className:we.Z.templateInput},h?h.quantity:0),x.Action=Ze.createElement(E.zx,{title:(null===(s=W.filter((function(e){return e.component_id===c})))||void 0===s?void 0:s.length)>0?"Remove from Favorites":"Add to Favorites",clicked:function(){var e;(null===(e=W.filter((function(e){return e.component_id===c})))||void 0===e?void 0:e.length)>0?(0,w.Ni)(W.find((function(e){return e.component_id===c})).id).subscribe({next:function(){pe(W.filter((function(e){return e.component_id!==c})))}}):(0,w.Ic)(F.id,c,"components").subscribe({})},titleStyle:{fontSize:"12px"},style:{width:"200px",height:"30px"}}),x.Info=Ze.createElement("img",{alt:"lg",src:_,className:we.Z.templatePicture,onClick:function(){return window.open(f,"_blank")}}),x.Name=Ze.createElement("div",{className:we.Z.templateInformation},c),x.Application=Ze.createElement("div",{className:we.Z.templateInformation},m),x.Range=Ze.createElement("div",{className:we.Z.templateInformation},p),x.Actual=Ze.createElement("div",{className:we.Z.templateAddBox,style:{padding:"0 10px 0 10px",border:q?"0":"1px solid var(--app-color-gray-lighter)"}},Ze.createElement("input",{disabled:q,autoComplete:"off",className:we.Z.templateInput,placeholder:b,onChange:function(e){+e.target.value>-1&&(G[n][ve]=+e.target.value,G[n][re]=g)},onBlur:function(){ie((0,t.Z)(G)),me(e,n,0)}})),x}))}),0===(null===V||void 0===V?void 0:V.length)&&Ze.createElement("p",{style:{fontSize:b.tq?"16px":""}},"Please select an item"),Ze.createElement(E.zx,{light:!0,title:ee?"Hide Favorites":"Show Favorites",clicked:function(){le(!ee),!1===ee?pe(W):(ie([]),oe([]))},style:{width:"180px",display:b.tq?"none":""}}))),b.tq&&Ze.createElement("div",{className:we.Z.dropdownContainer},Ze.createElement(E.rk,{items:he.Z(ge.Z("value"))(B.map((function(e){var n=e.component_fields.find((function(e){var n;return e.field_name===(null===H||void 0===H||null===(n=H.options)||void 0===n?void 0:n.filters[0])}));return{label:null===n||void 0===n?void 0:n.value,value:null===n||void 0===n?void 0:n.value,component:e}}))),onChange:function(e){var n,l,t;le(!1),ie([]),te((0,o.Z)({},null===H||void 0===H||null===(n=H.options)||void 0===n?void 0:n.filters[0],e.value)),oe([]),J(!1),setTimeout((function(){return J(!0)}),10),oe(null===B||void 0===B?void 0:B.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0}))),U({action:h._U.setModuleNewStepComponents,value:null!==(l=null===(t=R.currentStep)||void 0===t?void 0:t.component_blueprints)&&void 0!==l?l:[]}),ie(null===B||void 0===B?void 0:B.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0})).map((function(e){var n={};return $.selected_fields.filter((function(l){var t,d;"Text"!==l.data_type_name&&"Number"!==l.data_type_name||(n=(0,i.Z)((0,i.Z)({},n),{},(0,o.Z)({},l.field_name,null!==(t=null===(d=e.component_fields.find((function(e){return e.field_name===l.field_name})))||void 0===d?void 0:d.value)&&void 0!==t?t:0)))})),n})))},style:{fontSize:"16px"},moliclassname:we.Z.componentsSelectMenuOverlayListItem})),Ze.createElement("br",null)))},Se=function(e){var n,l,a,u,r,v,s,c,p,m,f,_,g,x,C,w,Z,M,k,I,N,T,D,P=(0,h.pQ)(),A=(0,d.Z)(P,2),O=A[0],L=A[1],z=e.creating,R=e.showSecond,U=e.listItems,F=e.orderItems,W=e.setShowSecond,q=e.components,B=e.template,Y=e.component,H=e.showFavorites,j=e.begunModule,V=e.setShowFavorites,G=e.setListItems,J=e.setOrderItems,Q=e.setSelectedItems,X=e.selectedItems,$=Y.selected_fields.find((function(e){return"Record"===e.data_type_name})),ee=q.filter((function(e){var n;return(null===(n=e.component_fields.filter((function(e){var n;return e.component_blueprint_id===(null===$||void 0===$||null===(n=$.options)||void 0===n?void 0:n.component_id)})))||void 0===n?void 0:n.length)>0})),ne=function(e,n,l,d,a,u){var r;if("Number"===n)return z?Ze.createElement("input",{autoComplete:"off",type:"number",className:we.Z.templateIIInput,style:{border:"1px solid var(--app-color-gray-light)",width:"50%",height:"30px"},placeholder:null!==e&&void 0!==e?e:"0",onChange:function(e){+e.target.value>-1&&(F[l][a]=+e.target.value,F[l][u]=+e.target.value)},onBlur:function(){J((0,t.Z)(F)),function(e,n,l){var t,d,a,u,r=e.component_fields.find((function(e){var n;return e.field_name===(null===B||void 0===B||null===(n=B.key)||void 0===n?void 0:n.label)})),v=null===O||void 0===O||null===(t=O.items)||void 0===t?void 0:t.find((function(e){var n;return e[null===B||void 0===B||null===(n=B.key)||void 0===n?void 0:n.key]===r.value}));if(void 0===v){if(void 0==+(null===(d=F[n])||void 0===d?void 0:d.quantity)||+(null===(a=F[n])||void 0===a?void 0:a.quantity)>0){var s={};null===B||void 0===B||B.slist.filter((function(e){var l,t,d;s=(0,i.Z)((0,i.Z)({},s),{},(d={},(0,o.Z)(d,e.key,null!==(l=F[n][e.key])&&void 0!==l?l:""),(0,o.Z)(d,"id",(0,y.mR)()),(0,o.Z)(d,"options",null!==(t=null===e||void 0===e?void 0:e.options)&&void 0!==t?t:{}),d))})),L({action:h._U.addModuleItems,value:s})}}else 0==+(null===(u=F[n])||void 0===u?void 0:u.quantity)?L({action:h._U.removeModuleItems,value:v}):(null===B||void 0===B||B.slist.filter((function(e){v[e.key]=F[n][e.key]})),L({action:h._U.updateModuleItems,value:v}))}(d,l)}}):Ze.createElement("div",{className:we.Z.templateInput},null!==(r=e.value)&&void 0!==r?r:"0");if("Action"===n)return Ze.createElement("div",null);if("Link"===n){var v="".concat(e);return null!==v&&void 0!==v&&v.includes(".jpg")||null!==v&&void 0!==v&&v.includes(".png")||null!==v&&void 0!==v&&v.includes(".jpeg")?Ze.createElement("img",{alt:"lg",src:v,className:we.Z.templateIIPicture}):Ze.createElement("p",{className:we.Z.templateURL,onClick:function(){return window.open(v,"_blank")}},"View")}return"Info"===n||"Text"===n?Ze.createElement("div",{className:we.Z.templateInformation,style:{textAlign:"center"}},null!==e&&void 0!==e?e:""):Ze.createElement("div",null,null!==e&&void 0!==e?e:"")};return Ze.createElement("div",{style:{width:"100%",justifyContent:"center"}},Ze.createElement("div",{style:{margin:"auto",width:"inherit"}},Ze.createElement("div",{style:{width:"inherit"}},Ze.createElement("p",null,null!==(n=null===B||void 0===B||null===(l=B.config)||void 0===l||null===(a=l.find((function(e){return"tlist"===e.key})))||void 0===a?void 0:a.label)&&void 0!==n?n:"ORDERS:"),Ze.createElement(ue.Z,{className:we.Z.itemsTable_ii,style:{width:(null===B||void 0===B||null===(u=B.tlist)||void 0===u?void 0:u.length)>4?"100%":"70%"},highlights:"var(--app-color-gray-lighter)",columns:b.tq?null===B||void 0===B?void 0:B.tlist.filter((function(e){var n;return"Number"===e.value||e.key===(null===B||void 0===B||null===(n=B.key)||void 0===n?void 0:n.key)||"Info"===e.value||"Text"===e.value})).map((function(e){return e.label})):null===B||void 0===B||null===(r=B.tlist)||void 0===r?void 0:r.map((function(e){return e.label})),footer:["Items ".concat(null===O||void 0===O||null===(v=O.items)||void 0===v?void 0:v.length),"".concat(K.Z((function(e,n){var l;return null!==(l=+e+ +n.quantity)&&void 0!==l?l:0}),0,null!==(s=null===O||void 0===O?void 0:O.items)&&void 0!==s?s:[]))],list:null===O||void 0===O||null===(c=O.items)||void 0===c?void 0:c.map((function(e){var n={id:e.id};return null===B||void 0===B||B.tlist.filter((function(l){n=(0,i.Z)((0,i.Z)({},n),{},(0,o.Z)({},l.label,e[l.key]))})),n})),onListItemClick:function(e){J(null===ee||void 0===ee?void 0:ee.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){var l;return n.value===e[null===B||void 0===B||null===(l=B.key)||void 0===l?void 0:l.label]})))||void 0===l?void 0:l.length)>0})).map((function(e){var n={};return null===B||void 0===B||B.slist.filter((function(l){var t,d,a,u,r;n=(0,i.Z)((0,i.Z)({},n),{},(r={},(0,o.Z)(r,l.label,null!==(t=null===(d=e.component_fields.find((function(e){return e.field_name===l.label})))||void 0===d?void 0:d.value)&&void 0!==t?t:0),(0,o.Z)(r,l.key,null!==(a=null===(u=e.component_fields.find((function(e){return e.field_name===l.label})))||void 0===u?void 0:u.value)&&void 0!==a?a:0),r))})),n}))),G(null===ee||void 0===ee?void 0:ee.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){var l;return n.value===e[null===B||void 0===B||null===(l=B.key)||void 0===l?void 0:l.label]})))||void 0===l?void 0:l.length)>0})))}}),Ze.createElement("br",null),Ze.createElement("div",{style:{width:"100%",display:b.tq?"":H?"none":"flex",flexDirection:"row",justifyContent:"center",fontSize:"18px"}},(null===$||void 0===$||null===(p=$.options)||void 0===p||null===(m=p.filters)||void 0===m?void 0:m.length)>0&&Ze.createElement("div",{className:we.Z.dropdownContainer,style:{border:"1px solid var(--app-color-gray-dark)",width:b.tq?"100%":"25%"}},Ze.createElement(E.rk,{items:ee?he.Z(ge.Z("value"))(ee.map((function(e){var n=e.component_fields.find((function(e){var n;return e.field_name===(null===$||void 0===$||null===(n=$.options)||void 0===n?void 0:n.filters[0])}));return{label:null===n||void 0===n?void 0:n.value,value:null===n||void 0===n?void 0:n.value,component:e}}))):[],onChange:function(e){var n,l,t;V(!1),J([]),Q((0,o.Z)({},null===$||void 0===$||null===(n=$.options)||void 0===n?void 0:n.filters[0],e.value)),G([]),W(!1),setTimeout((function(){return W(!0)}),10),G(null===ee||void 0===ee?void 0:ee.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0}))),L({action:h._U.setModuleNewStepComponents,value:null!==(l=null===(t=O.currentStep)||void 0===t?void 0:t.component_blueprints)&&void 0!==l?l:[]}),J(null===ee||void 0===ee?void 0:ee.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0})).map((function(e){var n={};return null===B||void 0===B||B.slist.filter((function(l){var t,d,a,u=null!==(t=null===(d=e.component_fields.find((function(e){return e.field_name===l.label})))||void 0===d?void 0:d.value)&&void 0!==t?t:"";n=(0,i.Z)((0,i.Z)({},n),{},(a={},(0,o.Z)(a,l.label,u),(0,o.Z)(a,l.key,u),a))})),n})))},placeholder:null===$||void 0===$||null===(f=$.options)||void 0===f?void 0:f.filters[0],moliclassname:we.Z.componentsSelectMenuOverlayListItem,style:{fontSize:"16px"},className:we.Z.currencyInput})),(null===$||void 0===$||null===(_=$.options)||void 0===_||null===(g=_.filters)||void 0===g?void 0:g.length)>1&&!b.tq&&R&&Ze.createElement("div",{className:we.Z.dropdownContainer,style:{marginLeft:"10px",border:"1px solid var(--app-color-gray-dark)",width:"25%"}},Ze.createElement(E.rk,{items:X[null===$||void 0===$||null===(x=$.options)||void 0===x?void 0:x.filters[0]]?he.Z(ge.Z("value"))(ee.map((function(e){var n=e.component_fields.find((function(e){var n;return e.field_name===(null===$||void 0===$||null===(n=$.options)||void 0===n?void 0:n.filters[1])}));return{label:null===n||void 0===n?void 0:n.value,value:null===n||void 0===n?void 0:n.value,component:e}})).filter((function(e){return e.component.component_fields.filter((function(e){var n,l;return e.value===X[null===$||void 0===$||null===(n=$.options)||void 0===n?void 0:n.filters[0]]&&e.field_name===(null===$||void 0===$||null===(l=$.options)||void 0===l?void 0:l.filters[0])})).length>0}))):[],onChange:function(e){var n,l,t;V(!1),L({action:h._U.setModuleNewStepComponents,value:null!==(n=null===(l=O.currentStep)||void 0===l?void 0:l.component_blueprints)&&void 0!==n?n:[]}),Q((0,i.Z)((0,i.Z)({},X),{},(0,o.Z)({},null===$||void 0===$||null===(t=$.options)||void 0===t?void 0:t.filters[1],e.value))),J(null===ee||void 0===ee?void 0:ee.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0})).filter((function(e){var n;return(null===(n=e.component_fields.filter((function(e){var n;return e.value===X[null===$||void 0===$||null===(n=$.options)||void 0===n?void 0:n.filters[0]]})))||void 0===n?void 0:n.length)>0})).map((function(e){var n={};return null===B||void 0===B||B.slist.filter((function(l){var t,d,a,u=null!==(t=null===(d=e.component_fields.find((function(e){return e.field_name===l.label})))||void 0===d?void 0:d.value)&&void 0!==t?t:0;n=(0,i.Z)((0,i.Z)({},n),{},(a={},(0,o.Z)(a,l.label,u),(0,o.Z)(a,l.key,u),a))})),n}))),G(null===ee||void 0===ee?void 0:ee.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0})).filter((function(e){var n;return(null===(n=e.component_fields.filter((function(e){var n;return e.value===X[null===$||void 0===$||null===(n=$.options)||void 0===n?void 0:n.filters[0]]})))||void 0===n?void 0:n.length)>0})))},placeholder:null===$||void 0===$||null===(C=$.options)||void 0===C?void 0:C.filters[1],style:{fontSize:"16px"},moliclassname:we.Z.componentsSelectMenuOverlayListItem}))),Ze.createElement("div",{className:we.Z.searchContainer,style:{display:H?"none":"",width:b.tq?"100%":"400px"}},Ze.createElement(S.O,null),Ze.createElement("input",{placeholder:"Search",className:we.Z.searchInput,onChange:function(e){var n,l;(null===(n=e.target.value)||void 0===n?void 0:n.length)>1?(G(null===ee||void 0===ee?void 0:ee.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value.includes(e.target.value)})))||void 0===l?void 0:l.length)>0}))),J(null===ee||void 0===ee?void 0:ee.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value.includes(e.target.value)})))||void 0===l?void 0:l.length)>0})).map((function(e){var n={};return null===B||void 0===B||B.slist.filter((function(l){var t,d,a,u=null!==(t=null===(d=e.component_fields.find((function(e){return e.field_name===l.label})))||void 0===d?void 0:d.value)&&void 0!==t?t:"";n=(0,i.Z)((0,i.Z)({},n),{},(a={},(0,o.Z)(a,l.label,u),(0,o.Z)(a,l.key,u),a))})),n})))):0==(null===(l=e.target.value)||void 0===l?void 0:l.length)&&(J([]),G([]))}})),Ze.createElement(ue.Z,{className:we.Z.mobileTable_ii,style:{width:b.tq||(null===B||void 0===B||null===(w=B.slist)||void 0===w?void 0:w.length)>4?"100%":"70%"},tableHostSimple:we.Z.tableHostSimple,columns:b.tq?null===B||void 0===B?void 0:B.slist.filter((function(e){var n;return"Number"===e.value||e.key===(null===B||void 0===B||null===(n=B.key)||void 0===n?void 0:n.key)})).map((function(e){return e.label})):(null===(Z=j.processModule.module.options)||void 0===Z||null===(M=Z.computes)||void 0===M?void 0:M.length)>0?[].concat((0,t.Z)(null!==(k=null===B||void 0===B?void 0:B.slist.map((function(e){return e.label})))&&void 0!==k?k:[]),(0,t.Z)(null!==(I=null===(N=j.processModule.module.options)||void 0===N||null===(T=N.computes)||void 0===T?void 0:T.map((function(e){var n,l=null===(n=q.filter((function(n){return n.module_id===e.module_id})))||void 0===n?void 0:n.find((function(n){return n.component_fields.filter((function(n){return n.procedure_step_blueprint_field_id===e.field_id})).length>0}));return(null===l||void 0===l?void 0:l.component_fields.find((function(n){return n.procedure_step_blueprint_field_id===e.field_id}))).field_name})))&&void 0!==I?I:[])):(0,t.Z)(null!==(D=null===B||void 0===B?void 0:B.slist.map((function(e){return e.label})))&&void 0!==D?D:[]),list:U.map((function(e,n){var l,o,i,t,d,a={};null===B||void 0===B||null===(l=B.slist)||void 0===l||l.filter((function(l){var o,i;a[l.label]=ne("".concat(null!==(o=null===(i=e.component_fields.find((function(e){return e.field_name===l.label})))||void 0===i?void 0:i.value)&&void 0!==o?o:""),l.value,n,e,l.key,l.label)}));var u,r,v=null!==(o=null===O||void 0===O||null===(i=O.items)||void 0===i?void 0:i.find((function(e){var l,o;return e[null===B||void 0===B||null===(l=B.key)||void 0===l?void 0:l.key]===F[n][null===B||void 0===B||null===(o=B.key)||void 0===o?void 0:o.key]})))&&void 0!==o?o:void 0;(void 0!==v&&Object.keys(v).filter((function(l){var o,i=null===B||void 0===B||null===(o=B.slist)||void 0===o?void 0:o.find((function(e){return e.key===l}));i&&(a[i.label]=ne(v[l],i.value,n,e,i.key,i.label))})),(null===(t=j.processModule.module.options)||void 0===t||null===(d=t.computes)||void 0===d?void 0:d.length)>0)&&(null===(u=j.processModule.module.options)||void 0===u||null===(r=u.computes)||void 0===r||r.map((function(n){var l,o=null===q||void 0===q||null===(l=q.filter((function(e){return e.module_id===n.module_id})))||void 0===l?void 0:l.find((function(n){return n.component_fields.filter((function(n){var l,o;return n.value===(null!==(l=null===(o=e.component_fields.find((function(e){var n;return e.field_name===(null===B||void 0===B||null===(n=B.key)||void 0===n?void 0:n.label)})))||void 0===o?void 0:o.value)&&void 0!==l?l:"#$")})).length>0})),i=null===o||void 0===o?void 0:o.component_fields.find((function(e){return e.procedure_step_blueprint_field_id===n.field_id}));i&&(a[i.field_name]=null===i||void 0===i?void 0:i.value)})));return a}))}),0===(null===U||void 0===U?void 0:U.length)&&Ze.createElement("p",null,"No Items Selected"))),Ze.createElement("br",null))},ke=l(6341),Ie=l(32086),Ne=l(8284),Te=l(9204),De=l(4292),Pe=l(25403),Ae=(l(68140),l(60940),l(95007)),Oe=(0,a.memo)((function(e){var n,l,o,i,t=e.component,u=e.allComponents,r=e.components,v=e.favorites,s=void 0===v?[]:v,c=e.user,p=e.companyData,m=e.selectedComponent,f=e.templateName,_=e.begunModule,y=e.nextButtonClicked,h=e.isMandatoryError,b=e.index,x=e.component_blueprint,E=e.setIsMandatoryError,C=e.editMode,w=e.blueprints,Z=e.allModules,M=e.authenticatedUser,S=e.companyUsersArray,k=e.companyPositionsArray,I=e.products,N=(0,a.useState)({}),T=(0,d.Z)(N,2),D=T[0],P=T[1],A=(0,a.useState)([]),O=(0,d.Z)(A,2),L=O[0],z=O[1],R=(0,a.useState)([]),U=(0,d.Z)(R,2),F=U[0],W=U[1],q=(0,a.useState)([]),B=(0,d.Z)(q,2),H=B[0],j=B[1],V=(0,a.useState)(null!==(n=+localStorage.getItem("timer"))&&void 0!==n?n:0),G=(0,d.Z)(V,2),J=G[0],K=G[1],Q=(0,a.useState)(null===t||void 0===t||null===(l=t.selected_fields)||void 0===l?void 0:l.filter((function(e){return"Record"===e.data_type_name}))),X=(0,d.Z)(Q,2),$=X[0],ee=(X[1],(0,a.useState)(!1)),ne=(0,d.Z)(ee,2),le=ne[0],oe=ne[1],ie=(0,a.useState)(),te=(0,d.Z)(ie,2),de=te[0],ae=te[1],ue=(0,a.useState)(),re=(0,d.Z)(ue,2),ve=re[0],fe=re[1],_e=(0,a.useState)(!1),ye=(0,d.Z)(_e,2),he=ye[0],ge=ye[1],be=t.selected_fields.find((function(e){return"Filters"===e.data_type_name||"Record"===e.data_type_name})),xe=r.filter((function(e){return e.component_fields.filter((function(e){var n;return e.component_blueprint_id===(null===be||void 0===be||null===(n=be.options)||void 0===n?void 0:n.component_id)})).length>0})),Ee=(null===m||void 0===m||null===(o=m.created_by)||void 0===o?void 0:o.id)===c.id||void 0===(null===m||void 0===m?void 0:m.created_by),we=null===p||void 0===p||null===(i=p.misc_info)||void 0===i?void 0:i.templatesData.find((function(e){return e.name===f}));return"Scoresheet Template"===f?null!==m&&void 0!==m&&m.id?a.createElement(ke.tF,{showSecond:de,listItems:F,orderItems:L,selectedComponent:m,action:ve,setAction:fe,setShowSecond:ae,components:r,records:$,template:we,component:t,allComponents:u,generalArray:H,showFavorites:le,setGeneralArray:j,setTimer:K,timer:J,index:b,begunModule:_,companyData:p,setShowFavorites:oe,loading:he,setLoading:ge,setListItems:W,setOrderItems:z,setSelectedItems:P,selectedItems:D}):a.createElement("p",null,"Need to save this transaction first before the scoresheet is made available"):"Meets Template"===f?a.createElement("div",{style:{width:"100%"}}):"Club Template"===f?a.createElement(Y,{allModules:Z,components:r,begunModule:_,authenticatedUser:M,companyUsersArray:S}):"Sports Facility Template"===f?a.createElement("div",null,e.children):"Battery Order Template"===f?a.createElement(Me,{showSecond:de,listItems:F,orderItems:L,selectedComponent:m,action:ve,setAction:fe,setShowSecond:ae,components:r,records:$,template:we,component:t,allComponents:u,generalArray:H,showFavorites:le,setGeneralArray:j,setTimer:K,timer:J,index:b,begunModule:_,companyData:p,setShowFavorites:oe,loading:he,setLoading:ge,setListItems:W,setOrderItems:z,setSelectedItems:P,selectedItems:D,templateName:f,items:xe,field:be,user:c,favorites:s,creating:Ee}):"Order Template"===f?a.createElement(Se,{showSecond:de,listItems:F,orderItems:L,selectedComponent:m,action:ve,setAction:fe,setShowSecond:ae,components:r,records:$,template:we,component:t,allComponents:u,generalArray:H,showFavorites:le,setGeneralArray:j,setTimer:K,timer:J,index:b,begunModule:_,companyData:p,setShowFavorites:oe,loading:he,setLoading:ge,setListItems:W,setOrderItems:z,setSelectedItems:P,selectedItems:D,templateName:f,items:xe,field:be,user:c,favorites:s,creating:Ee}):"Routes Template"===f?a.createElement(Ce,{component:t,selectedComponent:m,component_blueprint:x,title:f},a.createElement(g.Z,{editMode:C,nextButtonClicked:y,isMandatoryError:h,blueprintIndex:b,setIsMandatoryError:E,blueprints:w,component:x,companyData:p,components:r,allModules:Z,products:I,authenticatedUser:M,selectedComponent:m,companyUsersArray:S,companyPositionsArray:k,begunModule:_})):"Timesheet Template"===f?null!==m&&void 0!==m&&m.id?a.createElement(se,{selectedComponent:m,component_blueprint:x,title:f}):a.createElement("div",null):"Leaves Template"===f?null!==m&&void 0!==m&&m.id?a.createElement(ce,{selectedComponent:m,component_blueprint:x,title:f}):a.createElement("div",null):"KPI Template"===f?null!==m&&void 0!==m&&m.id?a.createElement(pe,{selectedComponent:m,component_blueprint:x,title:f}):a.createElement("div",null):"Clock In Template"===f?(window.clearInterval(+localStorage.getItem("timer")),a.createElement(me,{template:we,companyUsersArray:S,selectedComponent:m,component_blueprint:x,begunModule:_,companyData:p,authenticatedUser:M,title:f})):a.createElement("div",{style:{width:"100%"}},a.createElement(g.Z,{editMode:C,nextButtonClicked:y,isMandatoryError:h,blueprintIndex:b,setIsMandatoryError:E,blueprints:w,component:x,companyData:p,components:r,allModules:Z,products:I,authenticatedUser:M,selectedComponent:m,companyUsersArray:S,companyPositionsArray:k,begunModule:_}))})),Le=(0,_.$j)((function(e){var n=e.authReducer.authenticatedUser,l=e.flowReducer;return{authenticatedUser:n,favorites:l.favorites,begunModule:l.begunModule}}))((function(e){var n,l,o=e.component,c=e.blueprintIndex,p=e.setIsMandatoryError,_=e.companyData,g=e.components,b=e.favorites,x=e.products,E=e.authenticatedUser,C=e.begunModule,w=e.selectedComponent,Z=e.setSelectedComponent,M=e.templateName,S=e.editMode,k=e.blueprints,I=e.allModules,N=e.companyUsersArray,T=e.companyPositionsArray,D=e.nextButtonClicked,P=e.isMandatoryError,A=e.index,O=e.component_blueprint,L=(0,h.pQ)(),z=(0,d.Z)(L,2),R=z[0],U=z[1],F=(0,a.useState)(v),W=(0,d.Z)(F,1)[0],q=(0,a.useState)(""),B=(0,d.Z)(q,2),Y=B[0],H=B[1],j=(0,a.useRef)(null),V=null===(n=R.currentStep)||void 0===n||null===(l=n.component_blueprints)||void 0===l?void 0:l.findIndex((function(e){return e.id===(null===o||void 0===o?void 0:o.id)})),G=function(){var e;null!==o&&void 0!==o&&null!==(e=o.selected_fields)&&void 0!==e&&e.some((function(e){var n;return!0===e.mandatory&&!0===e.visible&&(!e.value||(null===e||void 0===e||null===(n=e.value)||void 0===n?void 0:n.length)<1)}))?p(!0):p(!1)},J=function(e){var n=R.components.find((function(e){return e.selected_fields.filter((function(e){return"Formula"===e.data_type_name})).length>0}));if(void 0!==n){var l=n.selected_fields.find((function(e){return"Formula"===e.data_type_name})),d=(0,y.LV)(l.options,o.selected_fields.filter((function(e){return l.options.list.includes(e.field_name)})),[].concat((0,t.Z)(R.components),[e]));l.value="".concat(d.toString())}else{var a=R.currentStep.component_blueprints.find((function(e){return e.selected_fields.filter((function(e){return"Formula"===e.data_type_name})).length>0}));if(void 0!==a){var u=a.selected_fields.find((function(e){return"Formula"===e.data_type_name})),r=(0,y.LV)(u.options,o.selected_fields.filter((function(e){return u.options.list.includes(e.field_name)})),[].concat((0,t.Z)(R.components),[e]));u.value="".concat(r.toString());var v=JSON.parse(JSON.stringify((0,i.Z)((0,i.Z)({},a),{},{temp_id:(0,y.mR)(),selected_fields:a.selected_fields})));U({action:h._U.addModuleComponents,value:v})}}},K=function(e,n){var l,o,i,d=(0,t.Z)(null!==(l=null===(o=R.currentStep)||void 0===o?void 0:o.component_blueprints)&&void 0!==l?l:[]),a=null===(i=d[V])||void 0===i?void 0:i.selected_fields[n];"Number"===(null===a||void 0===a?void 0:a.data_type_name)?Number(+e)?a.value=e:""===e&&(a.value=""):a.value=e,a.value&&a.mandatory&&(a.errors=""),G(),U({action:h._U.setComponentBlueprints,value:d}),U({action:h._U.setModuleNewStepComponents,value:d})},Q=(0,a.useCallback)((function(e,n,l){var o,i,d,a=(0,t.Z)(null!==(o=null===(i=R.currentStep)||void 0===i?void 0:i.component_blueprints)&&void 0!==o?o:[]),u=null===(d=a[V])||void 0===d?void 0:d.selected_fields[n];u.options.country_code=null===e||void 0===e?void 0:e.countryCode,u.options.country_name=null===e||void 0===e?void 0:e.name,u.options.country_prefix="+".concat(null===e||void 0===e?void 0:e.dialCode),U({action:h._U.setComponentBlueprints,value:a}),U({action:h._U.setModuleNewStepComponents,value:a}),K(l,n)}),[]),X=(0,a.useCallback)((function(e,n){var l,o,i,d=(0,t.Z)(null!==(l=null===(o=R.currentStep)||void 0===o?void 0:o.component_blueprints)&&void 0!==l?l:[]),a=null===(i=d[V])||void 0===i?void 0:i.selected_fields[n];a.options.currency_type=null===e||void 0===e?void 0:e.label,a.options.currency_value=null===e||void 0===e?void 0:e.value,a.options.symbol=null===e||void 0===e?void 0:e.symbol,U({action:h._U.setComponentBlueprints,value:d}),U({action:h._U.setModuleNewStepComponents,value:d})}),[]);return(0,a.useEffect)((function(){var e;U({action:h._U.setModuleNewStepComponents,value:null===(e=R.currentStep)||void 0===e?void 0:e.component_blueprints})}),[R.currentStep]),a.createElement("div",{id:"accordion",className:u,key:c},a.createElement("div",{className:m()(r,W),"app-variant-has-error":Y?"error":""},a.createElement("div",{ref:j,style:{maxHeight:W===v?"":"0px",display:"flex"},className:s},a.createElement(Oe,{templateName:M,component:o,handleInputChange:K,handlePrefixChange:Q,handleCurrencyChange:X,checkIfAreMandatoryErrored:G,handleCheckbox:function(e,n){var l,o,i,d=(0,t.Z)(null!==(l=null===(o=R.currentStep)||void 0===o?void 0:o.component_blueprints)&&void 0!==l?l:[]),a=null===(i=d[V])||void 0===i?void 0:i.selected_fields[n];a.value=e,a.value&&a.mandatory&&(a.errors=""),U({action:h._U.setComponentBlueprints,value:d}),U({action:h._U.setModuleNewStepComponents,value:d}),G()},isInherited:!1,indexInContextArray:V,handleLocationChange:function(e,n){var l,o,i,d=(0,t.Z)(null!==(l=null===(o=R.currentStep)||void 0===o?void 0:o.component_blueprints)&&void 0!==l?l:[]);(null===(i=d[V])||void 0===i?void 0:i.selected_fields[n]).value="".concat(e.lat,", ").concat(e.lng),U({action:h._U.setComponentBlueprints,value:d}),U({action:h._U.setModuleNewStepComponents,value:d})},processTaskContext:R,setTaskProcessContext:U,companyData:_,components:function(){var e,n,l=null===(e=R.components.find((function(e){return e.selected_fields.filter((function(e){var n,l;return"Global"===e.data_type_name&&1==e.visible&&e.field_name===(null===(n=o.selected_fields.find((function(e){return("Filters"===e.data_type_name||"Record"===e.data_type_name)&&1==e.visible})))||void 0===n||null===(l=n.options)||void 0===l?void 0:l.global)})).length>0})))||void 0===e||null===(n=e.selected_fields.find((function(e){return"Global"===e.data_type_name})))||void 0===n?void 0:n.value;return l?g.filter((function(e){return e.component_fields.filter((function(e){var n,i,t;return(null===e||void 0===e||null===(n=e.value)||void 0===n?void 0:n.toUpperCase())===(null===l||void 0===l?void 0:l.toUpperCase())&&e.field_name===(null===(i=o.selected_fields.find((function(e){return"Filters"===e.data_type_name||"Record"===e.data_type_name})))||void 0===i||null===(t=i.options)||void 0===t?void 0:t.global)})).length>0})):g}(),products:x,saveButtonAction:function(){var e=JSON.parse(JSON.stringify((0,i.Z)((0,i.Z)({},o),{},{temp_id:(0,y.mR)(),selected_fields:o.selected_fields})));J(e),U({action:h._U.addModuleComponents,value:e}),H(""),o.selected_fields.map((function(e,n){K("",n)})),U({action:h._U.setModuleNewStepComponents,value:(0,t.Z)(Ie.Z((function(e){return e.selected_fields.filter((function(e){return""===e.value})).length>0}),(0,t.Z)(Ie.Z(Ne.Z("id",o.id))(R.newStepComponents))))})},updateFormula:J,favorites:b,user:E,begunModule:C,selectedComponent:w,setSelectedComponent:Z,allComponents:g,nextButtonClicked:D,isMandatoryError:P,index:A,component_blueprint:O,setIsMandatoryError:p,editMode:S,blueprints:k,allModules:I,authenticatedUser:E,companyUsersArray:N,companyPositionsArray:T}))),Y&&(null===Y||void 0===Y?void 0:Y.message)&&a.createElement(f.Z,{message:Y.message}))})),ze=a.forwardRef((function(e,n){var l,o,i,t,u,r,v,s=e.begunModule,c=e.goto,p=e.companyData,m=e.selectedComponent,f=e.setSelectedComponent,_=(e.companyUsersArray,e.companyPositionsArray,e.components),y=void 0===_?[]:_,h=e.step,g=e.print,b=void 0!==g&&g,x=(0,a.useState)(0),E=(0,d.Z)(x,2),C=E[0],w=E[1],Z=(0,a.useState)(),M=(0,d.Z)(Z,2),S=M[0],k=M[1],I=(0,a.useState)(),N=(0,d.Z)(I,2),T=N[0],D=N[1],P=(0,a.useState)([]),A=(0,d.Z)(P,2),O=A[0],L=A[1],z=(0,a.useState)([]),R=(0,d.Z)(z,2),U=R[0],F=R[1],W=(0,a.useState)([]),Y=(0,d.Z)(W,2),H=Y[0],V=Y[1],G=null===s||void 0===s||null===(l=s.processModule)||void 0===l||null===(o=l.completeSteps)||void 0===o||null===(i=o.find((function(e){var n;return(null===e||void 0===e||null===(n=e.component_blueprints)||void 0===n?void 0:n.filter((function(e){return e.selected_fields.filter((function(e){return"Template"===e.data_type_name})).length>0})).length)>0})))||void 0===i||null===(t=i.component_blueprints.find((function(e){return e.selected_fields.find((function(e){return"Template"===e.data_type_name&&1==e.visible}))})))||void 0===t||null===(u=t.selected_fields.find((function(e){return"Template"===e.data_type_name&&1==e.visible})))||void 0===u?void 0:u.field_name,J=null===p||void 0===p||null===(r=p.misc_info)||void 0===r?void 0:r.templatesData.find((function(e){return e.name===G})),K=(0,a.useState)(null===m||void 0===m||null===(v=m.component_fields)||void 0===v?void 0:v.filter((function(e){return"Record"===e.data_type_name}))),Q=(0,d.Z)(K,2),X=Q[0],$=Q[1];return"Scoresheet Template"===G?a.createElement(ke.mr,{setRecords:$,selectedComponent:m,template:J,setListItems:F,components:y,setOrderItems:L,setSelectedIndex:k,records:X,listItems:U,orderItems:O,begunModule:s,selectedTabIndex:C,setSelectedTabIndex:w,selectedItems:T,setSelectedItems:D,selectedIndex:S,generalArray:H,setGeneralArray:V,print:b}):"Sports Facility Template"===G?a.createElement(j,{selectedComponent:m,setSelectedComponent:f},e.children):"Player Profile Template"===G?a.createElement(ke.yX,{selectedComponent:m,template:J,components:y,setListItems:F,begunModule:s,listItems:U}):"League Template"===G?a.createElement(ke.Dr,{selectedComponent:m,template:J,components:y}):"Club Template"===G?a.createElement(q,{title:m.title,selectedComponent:m,setSelectedComponent:f,step:h,template:J,goto:c},e.children):"Meets Template"===G?a.createElement(B,{selectedComponent:m,begunModule:s,goto:c},e.children):"Clock In Template"===G||"Jobs Create Template"===G?a.createElement("div",null,e.children):a.createElement("div",null,e.children,e.payments,e.creator,e.shares)})),Re=function(e){var n,l,o,i,t=e.templateName,d=e.selectedComponent,u=e.component_blueprint,r=e.template,v=e.companyUsersArray,s=e.begunModule,p=e.companyData,m=e.authenticatedUser;return"Timesheet Template"===t?a.createElement("div",{className:c},(null===d||void 0===d?void 0:d.id)&&a.createElement(se,{selectedComponent:d,component_blueprint:u,title:t,isUpdating:!1},a.createElement("div",{style:{margin:"0 0 50px 0",fontSize:"20px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)"}},null===(n=s.processModule.module)||void 0===n?void 0:n.name))):"Leaves Template"===t?null!==d&&void 0!==d&&d.id?a.createElement("div",{className:c},a.createElement(ce,{selectedComponent:d,component_blueprint:u,title:t,isUpdating:!1},a.createElement("div",{style:{margin:"0 0 50px 0",fontSize:"20px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)"}},null===(l=s.processModule.module)||void 0===l?void 0:l.name))):a.createElement("div",null):"KPI Template"===t?a.createElement("div",{className:c},a.createElement(pe,{selectedComponent:d,component_blueprint:u,title:t,isUpdating:!1},a.createElement("div",{style:{margin:"0 0 50px 0",fontSize:"20px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)"}},null===(o=s.processModule.module)||void 0===o?void 0:o.name))):"Clock In Template"===t?a.createElement("div",{className:c},a.createElement(me,{template:r,companyUsersArray:v,selectedComponent:d,component_blueprint:u,begunModule:s,companyData:p,authenticatedUser:m,title:t,isUpdating:!1},a.createElement("div",{style:{margin:"0 0 50px 0",fontSize:"20px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)"}},null===(i=s.processModule.module)||void 0===i?void 0:i.name))):a.createElement("div",null,e.children)},Ue=function(e,n,l){var i,d,a,u,r,v,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],c=arguments.length>4?arguments[4]:void 0,p=arguments.length>5?arguments[5]:void 0,m=Ae.utils.book_new(),f=Ae.utils.json_to_sheet([]),_=Ae.utils.json_to_sheet([]),h=[];if(null!==n&&void 0!==n&&null!==(i=n.selected_fields)&&void 0!==i&&null!==(d=i.find((function(e){return"Transaction List"===e.data_type_name})))&&void 0!==d&&null!==(a=d.options)&&void 0!==a&&a.simple){var g=n.selected_fields.filter((function(e){var n;return null===(n=e.options)||void 0===n?void 0:n.mapToItem})).map((function(e){return e.field_name}));h=c.map((function(e){var n={};return s.forEach((function(l){if((0,y.sO)(e[l])){var o=JSON.parse(e[l]);Object.keys(null!==o&&void 0!==o?o:[]).forEach((function(e){return n[e]=o[e]}))}})),Object.assign.apply(Object,[{}].concat((0,t.Z)(g.map((function(e){return(0,o.Z)({},e,n[e])})))))}))}else{var b,x=null===n||void 0===n||null===(b=n.selected_fields)||void 0===b?void 0:b.filter((function(e){var n;return null===(n=e.options)||void 0===n?void 0:n.mapToItem})).map((function(e){return e.options.mapToItem}));h=c.map((function(e){return Object.assign.apply(Object,[{}].concat((0,t.Z)(x.map((function(n){return(0,o.Z)({},n,e[n])})))))}))}(Ae.utils.sheet_add_aoa(f,[n.selected_fields.filter((function(e){var n;return null===(n=e.options)||void 0===n?void 0:n.mapToItem})).map((function(e){return e.field_name}))]),Ae.utils.sheet_add_json(f,h,{origin:"A2",skipHeader:!0}),(null===e||void 0===e||null===(u=e.component_fields)||void 0===u?void 0:u.length)>0)&&(Ae.utils.sheet_add_json(_,null===e||void 0===e||null===(v=e.component_fields)||void 0===v?void 0:v.filter((function(e){return null===e||void 0===e?void 0:e.value})).map((function(e){return{item_code:e.field_name,value:null===e||void 0===e?void 0:e.value}})),{origin:"A2",skipHeader:!0}),Ae.utils.book_append_sheet(m,_,"Information"));return Ae.utils.book_append_sheet(m,f,"".concat(null===(r=p.processModule.module)||void 0===r?void 0:r.name)),(0,Ae.writeFile)(m,"".concat(null===e||void 0===e?void 0:e.title).concat((0,T.now)(),".xlsx")),0},Fe=function(e,n,l){var d;if(null!==n&&void 0!==n&&null!==(d=n.reports)&&void 0!==d&&d.find((function(e){return"Poll Report Template"===(null===e||void 0===e?void 0:e.field_name)&&"Template"===(null===e||void 0===e?void 0:e.data_type_name)}))){var a=(0,t.Z)(V.Z([Q.Z(J.Z("index"))])(Te.Z((function(e){return e}),(0,t.Z)(new Set(Te.Z((function(e){return e}),De.Z(Pe.Z("selected_fields",De.Z(Pe.Z("component_blueprints",l.processModule.completeSteps)))))))))).filter((function(e){var n;return"Radio"===e.data_type_name&&(null===(n=e.options)||void 0===n?void 0:n.list)})).reduce((function(e,n){var l,o;return e.concat(null===(l=n.options)||void 0===l||null===(o=l.list)||void 0===o?void 0:o.map((function(e){return{key:n.field_name,value:e}})))}),[]);return console.log(a,e),a.map((function(l){return n.reports.filter((function(e){return"Template"!==e.data_type_name})).reduce((function(n,t){return"item_code"===t.options.mapToItem?(0,i.Z)((0,i.Z)({},n),{},(0,o.Z)({},t.field_name,l.value)):"value"===t.options.mapToItem?(0,i.Z)((0,i.Z)({},n),{},(0,o.Z)({},t.field_name,l.key)):(0,i.Z)((0,i.Z)({},n),{},(0,o.Z)({},t.field_name,e.filter((function(e){return e[l.key]===l.value})).length))}),{})}))}return e}},17951:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return xn},navigateToTransaction:function(){return En}});var o=l(93433),i=l(4942),t=l(1413),d=l(29439),a=l(67861),u=l(23280),r=l(40694),v=l(88374),s=l(93389),c=l(6073),p=l(89293),m=l(88827),f=l(10103),_=l(11577),y=l(1542),h=l(14170),g=l(88550),b=l(73500),x=l(39518),E=l(50981),C=l.n(E),w=l(43984),Z=l(52902),M=l(12075),S=l(87462),k=l(45987),I=l(65019),N=l(59401),T=l(85692),D=l(34710),P=l(49119),A=l(12308),O=l(41131),L=l(27436),z=l(63864),R=l(60534),U=l(63077),F=l(79492),W=l.n(F),q=l(4358),B=(l(83381),l(66918)),Y=l(49523),H=l(25403),j=l(4292),V=l(9204),G=l(32086),J=l(53431),K=l(68218),Q=l(84634),X=l(35606),$=l(79544),ee=l(98032),ne=l(62169),le=l(13397),oe=l(88346),ie=l(8284),te=l(97606),de=l(3616),ae=l(90421),ue=l(7538),re=l(77802),ve=(l(67055),l(71901),l(87424)),se=l(27658),ce=l(44408),pe=l(23910),me=(l(56120),l(37704),l(72666),l(68623),l(3863),l(95361),l(46415)),fe=(l(60940),{ProcessModuleContainer:"ProcessModule_ProcessModuleContainer__FsiP8",modalLabelHeader:"ProcessModule_modalLabelHeader__RSEXx",processStepHost:"ProcessModule_processStepHost__jnVYj",saveButton:"ProcessModule_saveButton__GOKiK",processModuleContainer:"ProcessModule_processModuleContainer__T-efO",renderComponentContainer:"ProcessModule_renderComponentContainer__MQMoJ",accordionModuleContainer:"ProcessModule_accordionModuleContainer__QQQn5",detailContainer:"ProcessModule_detailContainer__yrECc",leftCardMargin:"ProcessModule_leftCardMargin__+5cc+",centeredCardMargin:"ProcessModule_centeredCardMargin__8ns+o",centeredSpinner:"ProcessModule_centeredSpinner__T1+25",emptyElementsSection:"ProcessModule_emptyElementsSection__LP79x",stepCounter:"ProcessModule_stepCounter__BLQiH",clockIcon:"ProcessModule_clockIcon__Iq90d",stepTitle:"ProcessModule_stepTitle__92AhY",stepGuidanceSmaller:"ProcessModule_stepGuidanceSmaller__fbek+",stepTitleSmaller:"ProcessModule_stepTitleSmaller__o-RAS",stepGuidance:"ProcessModule_stepGuidance__VN9ID",inputContainer:"ProcessModule_inputContainer__ov5HE",selectInput:"ProcessModule_selectInput__gIlsq",multiselectWithSearch:"ProcessModule_multiselectWithSearch__HPDWF",smoMultiselectParent:"ProcessModule_smoMultiselectParent__XMpxu",selectMenuItem:"ProcessModule_selectMenuItem__D9YuM",inputClassName:"ProcessModule_inputClassName__FaizJ",toggleMenuInputButton:"ProcessModule_toggleMenuInputButton__u2LB6",goToNextStep:"ProcessModule_goToNextStep__5FEFk",nextStepsContainer:"ProcessModule_nextStepsContainer__0lDZ4",nextStepImageContainer:"ProcessModule_nextStepImageContainer__ESZoP",nextStepWrapper:"ProcessModule_nextStepWrapper__8aQAo",tasksTableHost:"ProcessModule_tasksTableHost__jF7kU",headerContainer:"ProcessModule_headerContainer__B9M39",content:"ProcessModule_content__TwxRx","react-grid-layout":"ProcessModule_react-grid-layout__kuSHy",layoutJSON:"ProcessModule_layoutJSON__swsUL",columns:"ProcessModule_columns__74Ypn","react-grid-item":"ProcessModule_react-grid-item__SV1zr","react-grid-placeholder":"ProcessModule_react-grid-placeholder__RsO19",resizing:"ProcessModule_resizing__lsJHw",static:"ProcessModule_static__fjtpd",text:"ProcessModule_text__JRaDx",minMax:"ProcessModule_minMax__n6Nqc",add:"ProcessModule_add__73-R8","react-grid-dragHandleExample":"ProcessModule_react-grid-dragHandleExample__ifaCX",cssTransforms:"ProcessModule_cssTransforms__Tj9J0","react-draggable-dragging":"ProcessModule_react-draggable-dragging__df7gg","react-resizable-handle":"ProcessModule_react-resizable-handle__HFiOI",singleButton:"ProcessModule_singleButton__VBAVx",menuRightButtons:"ProcessModule_menuRightButtons__YMGk1",menuButtons:"ProcessModule_menuButtons__t3peI",menuAccordionButtons:"ProcessModule_menuAccordionButtons__IwPeb",detailLabel:"ProcessModule_detailLabel__ujv54",subLabel:"ProcessModule_subLabel__ljjWe",modalHeaderTitle:"ProcessModule_modalHeaderTitle__20ZkP",p:"ProcessModule_p__fq5W3",itemsTable:"ProcessModule_itemsTable__Lhi8m",sharesTable:"ProcessModule_sharesTable__0LY0Q",peoplePositionsSelect:"ProcessModule_peoplePositionsSelect__3PUST",peoplePositionsSelectInput:"ProcessModule_peoplePositionsSelectInput__uW3vb",peoplePositionsSelectMenuOverlay:"ProcessModule_peoplePositionsSelectMenuOverlay__7WF9K",peoplePositionsSelectMenuOverlayItem:"ProcessModule_peoplePositionsSelectMenuOverlayItem__thx5T",deleteText:"ProcessModule_deleteText__LHcJR",deleteButton:"ProcessModule_deleteButton__Vd-mb",searchContainer:"ProcessModule_searchContainer__7U0ti",searchInput:"ProcessModule_searchInput__21v+N",emailInput:"ProcessModule_emailInput__OSseh",actionsContainer:"ProcessModule_actionsContainer__dN4VO",detailButton:"ProcessModule_detailButton__hsMZQ",detailButtonTitleContainer:"ProcessModule_detailButtonTitleContainer__9vGQV",fetchingLatestP:"ProcessModule_fetchingLatestP__w43Ah",modalTitle:"ProcessModule_modalTitle__ZzDzz",modalSubTitle:"ProcessModule_modalSubTitle__iCPup",dropdownSelectComponent:"ProcessModule_dropdownSelectComponent__fwabj",dropdownSelectComponentL:"ProcessModule_dropdownSelectComponentL__UjHu+",dropdownSelectOperation:"ProcessModule_dropdownSelectOperation__Z0sof",dropdownSelectReport:"ProcessModule_dropdownSelectReport__VhkMx",cardTitle:"ProcessModule_cardTitle__5UI1u",customButton:"ProcessModule_customButton__EmZ3f",fieldRowContainer:"ProcessModule_fieldRowContainer__w-2m5",templateInformation:"ProcessModule_templateInformation__diTyj",emulatedFlexGap:"ProcessModule_emulatedFlexGap__0zLFx",selectAndMultiselectHost:"ProcessModule_selectAndMultiselectHost__heH79",selectAndMultiselectHostTiles:"ProcessModule_selectAndMultiselectHostTiles__iC2AB",section:"ProcessModule_section__wECKG",accordionContainer:"ProcessModule_accordionContainer__ivI1e",active:"ProcessModule_active__krZBG",title:"ProcessModule_title__ePgXX",customTitleInput:"ProcessModule_customTitleInput__ONvpq",icon:"ProcessModule_icon__OW9E6",loaderContainer:"ProcessModule_loaderContainer__zN3G3",host:"ProcessModule_host__95lCJ",iconsContainer:"ProcessModule_iconsContainer__ktO+d",rotate:"ProcessModule_rotate__gwBr5",fieldTypeInput:"ProcessModule_fieldTypeInput__+x8RA",fieldMapInput:"ProcessModule_fieldMapInput__TyyrY",fieldTypeDate:"ProcessModule_fieldTypeDate__yjKi1",labelInput:"ProcessModule_labelInput__HMbSI",accordion:"ProcessModule_accordion__Er3uD",regularAccordion:"ProcessModule_regularAccordion__FpzQa",singleInputContainer:"ProcessModule_singleInputContainer__jGXcH",dateInputContainer:"ProcessModule_dateInputContainer__gXUmg",inputContainerClassName:"ProcessModule_inputContainerClassName__T8Rwy",phoneIInput:"ProcessModule_phoneIInput__DrOHj",currencySelectContainer:"ProcessModule_currencySelectContainer__w+Q8U",currencySymbol:"ProcessModule_currencySymbol__hnqlD",currencySelectComponent:"ProcessModule_currencySelectComponent__DiSZQ",currencySelectMenuOverlayList:"ProcessModule_currencySelectMenuOverlayList__eWmgR",currencySelectMenuOverlayListItem:"ProcessModule_currencySelectMenuOverlayListItem__HJNGm",currencySearchInput:"ProcessModule_currencySearchInput__QNuK3",currencyClearControlsClassName:"ProcessModule_currencyClearControlsClassName__cQ2JL",currencyInputContainerClassName:"ProcessModule_currencyInputContainerClassName__jjeME",currencyInput:"ProcessModule_currencyInput__ockL5",peopleContainer:"ProcessModule_peopleContainer__qhRGZ",peopleBooleansOptions:"ProcessModule_peopleBooleansOptions__1QKZY",peoplePositionSelectContainer:"ProcessModule_peoplePositionSelectContainer__Dek6h",unfocusableWrapper:"ProcessModule_unfocusableWrapper__lYnko",menuOverlayList:"ProcessModule_menuOverlayList__stXtG",menuOverlayListItem:"ProcessModule_menuOverlayListItem__q5Cp8",menuOverlayListItemInput:"ProcessModule_menuOverlayListItemInput__mGtmf",menuOverlayListItemInputContainerClassName:"ProcessModule_menuOverlayListItemInputContainerClassName__c2qiO",openSelectWithSearchHost:"ProcessModule_openSelectWithSearchHost__GVLkU",openSelectWithSearch:"ProcessModule_openSelectWithSearch__zQUZm",dropdownClassContainer:"ProcessModule_dropdownClassContainer__4rFl4",dropdownHeightClassContainer:"ProcessModule_dropdownHeightClassContainer__6Rqku",fieldTypeTextarea:"ProcessModule_fieldTypeTextarea__9rSMB",fullLengthTextarea:"ProcessModule_fullLengthTextarea__eYuTp",filtersContainer:"ProcessModule_filtersContainer__ZXr-v",filtersContainerII:"ProcessModule_filtersContainerII__7cIxb",customMenuOverlayListItemCheckboxCheckedMark:"ProcessModule_customMenuOverlayListItemCheckboxCheckedMark__vi6VV",customMenuOverlayListItemNormalCheckedMark:"ProcessModule_customMenuOverlayListItemNormalCheckedMark__U5+ho",checkbox:"ProcessModule_checkbox__iHQvz",listContainer:"ProcessModule_listContainer__gwweI",tableHostMobile:"ProcessModule_tableHostMobile__j-DPP",tableHostSimple:"ProcessModule_tableHostSimple__Vct0M",action:"ProcessModule_action__iCvd1",mobileTable_ii:"ProcessModule_mobileTable_ii__vrooR",centerDiv:"ProcessModule_centerDiv__DT2hU",calendar:"ProcessModule_calendar__dkHMo",multiselectComponent:"ProcessModule_multiselectComponent__nKtu7",multiselectComponentNoBorder:"ProcessModule_multiselectComponentNoBorder__E-5tg",infoTitle:"ProcessModule_infoTitle__ZuUto",mappopup:"ProcessModule_mappopup__jQF6G",popup:"ProcessModule_popup__UhrxE",ratingsDiv:"ProcessModule_ratingsDiv__CRzxP",slider:"ProcessModule_slider__Le7zs",ratingsInput:"ProcessModule_ratingsInput__TJzIX",swiperslide:"ProcessModule_swiperslide__rHvXl",dashboardCard:"ProcessModule_dashboardCard__8GAEl",buttonsContainer:"ProcessModule_buttonsContainer__IZ5YN"}),_e=l(58535),ye=l(9825),he=l.n(ye),ge=l(79633),be=l(94667),xe=l(47144),Ee=l.n(xe),Ce=l(75105),we=l(66180),Ze=l.n(we),Me=l(29960),Se=l(81235),ke=l(84878),Ie=l(13845),Ne=l(67861),Te=l(66918),De={selectProcess:{id:"selectedProcess",title:"Select Workflow",tooltipText:"Select target process for this map",defaultHighlighted:!0,withAckButton:!1,useContext:Ie.fG},selectBlueprint:{id:"selectedComponentBlueprint",title:"Select source of map pins",tooltipText:"Select target source pins for this map",defaultHighlighted:!0,withAckButton:!1,useContext:Ie.fG},selectComponent:{id:"selectedComponent",title:"Select Component",tooltipText:"Select target component for this map",defaultHighlighted:!0,withAckButton:!1,useContext:Ie.fG},selectFields:{id:"selectedFields",title:"Filter by",tooltipText:"Select target filter for this map",defaultHighlighted:!0,withAckButton:!1,useContext:Ie.fG},selectItem:{id:"selectedItem",title:"Select Item",tooltipText:"Select target item for this map",defaultHighlighted:!0,withAckButton:!1,useContext:Ie.fG},selectRoutingMethod:{id:"selectedRouting",title:"Select Routing",tooltipText:"Select target routing method for this map",defaultHighlighted:!0,withAckButton:!1,useContext:Ie.fG}},Pe=(0,x.$j)((function(e){return{companyProcesses:e.flowReducer.companyProcesses}}))((function(e){var n=e.companyProcesses,l=(e.mapkey,e.zoom),i=void 0===l?11:l,u=(0,a.useState)({name:"",icon:"",fields:"",components:""}),r=(0,d.Z)(u,2),v=r[0],s=r[1],p=(0,a.useState)([]),m=(0,d.Z)(p,2),f=m[0],y=(m[1],(0,a.useState)([])),g=(0,d.Z)(y,2),b=g[0],x=g[1],E=(0,a.useState)([]),C=(0,d.Z)(E,2),w=C[0],Z=C[1],M=(0,a.useState)([]),k=(0,d.Z)(M,2),I=k[0],N=k[1],T=(0,a.useState)([]),D=(0,d.Z)(T,2),P=D[0],A=D[1],O=(0,a.useState)([]),L=(0,d.Z)(O,2),z=L[0],R=L[1],U=(0,a.useState)({value:"",blueprint:{}}),F=(0,d.Z)(U,2),W=F[0],q=F[1],B=(0,a.useState)({value:"",process:{}}),Y=(0,d.Z)(B,2),H=Y[0],j=Y[1],V=(0,a.useState)({value:"",field:{}}),G=(0,d.Z)(V,2),J=G[0],K=G[1],Q=(0,a.useState)({value:"",item:{}}),X=(0,d.Z)(Q,2),$=X[0],ee=X[1],ne=(0,a.useState)([]),le=(0,d.Z)(ne,2),oe=le[0],ie=le[1],te=(null===n||void 0===n?void 0:n.length)>0?n.map((function(e){return{label:e.name,value:e.id}})):[],de=function(e){var n=e.text,l=e.tooltip;return Ne.createElement("div",{className:ke.Z.circle},Ne.createElement("span",{className:ke.Z.circleText,title:l},n))};(0,a.useEffect)((function(){ue()}),[]);var ae=(0,a.useCallback)((function(e,n){var l=e.filter((function(e){return e.component.component_fields.filter((function(e){return e.value===n.value})).length>0})),o=[];return l.map((function(e){var n=e.component.component_fields.find((function(e){return"Pin"===e.field_name}));if(void 0!=n&&n.value){var l=Te.split(",",n.value);o.push({id:e.id,title:e.label,lat:+l[0],lng:+l[1]})}})),{components:l,pins:o}})),ue=(0,a.useCallback)((function(){(0,c.d7)().pipe((0,_.P)()).pipe((0,_.P)()).subscribe({next:function(e){var n=e.data.length>0?Te.sortBy(Te.prop("name"),e.data.filter((function(e){return e.fields.filter((function(e){return"Pin"===e.name})).length>0}))):[];x(n.map((function(e){return{label:e.name,value:e.id,blueprint:e}})))},error:function(e){}})}));return Ne.createElement("div",{style:{height:"auto",width:"100%",padding:"20px"}},Ne.createElement(Ie.ij,null,Ne.createElement("div",{style:{height:"80vh",width:"100%"}},Ne.createElement(Se.ZP,{bootstrapURLKeys:{key:"",language:"en",region:"US"},center:{lat:-33.8149597,lng:150.9171779},defaultZoom:i,distanceToMouse:function(e,n){if(e&&n)return Math.sqrt((e.x-n.x)*(e.x-n.x)+(e.y-n.y)*(e.y-n.y))}},oe.map((function(e){var n=e.lat,l=e.lng,o=e.id,i=e.title;return Ne.createElement(de,{key:o,lat:n,lng:l,tooltip:i})})))),Ne.createElement("br",null),Ne.createElement("div",{style:{minWidth:"50%"}},Ne.createElement(h.n2,(0,S.Z)({},De.selectBlueprint,{value:W.value,placeholder:"Select blueprint...",sectionError:v.icon,onOpenChanged:function(){}}),Ne.createElement(h.rk,{items:b,defaultSelected:"",className:ke.Z.selectComponent,molclassname:ke.Z.selectMenuOverlayList,moliclassname:ke.Z.selectMenuOverlayListItem,placeholder:"Select blueprint...",onChange:function(e){var n=e.blueprint.fields.filter((function(e){return"Pin"!=e.name}));q({value:e.label,blueprint:e.blueprint}),N((0,o.Z)(n.map((function(e){return{label:e.value,value:e.id,field:e}})))),ie([]),K({value:"",field:{}}),ee({value:"",item:{}}),j({value:"",process:{}});var l=[];f.map((function(e){var n=e.component.component_fields.find((function(e){return"Pin"===e.field_name}));if(void 0!=n&&n.value){var o=Te.split(",",n.value);l.push({id:e.id,title:e.label,lat:+o[0],lng:+o[1]})}})),ie([].concat(l))}})),Ne.createElement(h.n2,(0,S.Z)({},De.selectFields,{value:J.value,placeholder:"Select field...",sectionError:v.icon,onOpenChanged:function(){}}),Ne.createElement(h.rk,{items:I,iconValue:!0,defaultSelected:"",className:ke.Z.selectComponent,molclassname:ke.Z.selectMenuOverlayList,moliclassname:ke.Z.selectMenuOverlayListItem,placeholder:"Select field...",onChange:function(e){K({value:e.label,field:e.field});var n=f.filter((function(n){return n.component.component_fields.filter((function(n){return n.component_blueprint_id===e.field.component_blueprint_id})).length>0})),l=[];n.map((function(n){var o=n.component.component_fields.find((function(n){return n.field_name===e.label}));void 0!=o&&("People"===o.data_type_name||"Record"===o.data_type_name?l.push({label:o.value.split(",")[0],value:o.value,id:o.id,component:n.component}):l.push({label:o.value,value:o.value,id:o.id,component:n.component}))})),A((0,o.Z)(new Map(l.map((function(e){return[e.label,e]}))).values())),Z(n),ie([]),ee({value:"",item:{}}),j({value:"",process:{}})}})),Ne.createElement(h.n2,(0,S.Z)({},De.selectItem,{value:$.value,placeholder:"Select item...",sectionError:v.icon,onOpenChanged:function(){}}),Ne.createElement(h.rk,{items:P,iconValue:!0,defaultSelected:"",className:ke.Z.selectComponent,molclassname:ke.Z.selectMenuOverlayList,moliclassname:ke.Z.selectMenuOverlayListItem,placeholder:"Select item...",onChange:function(e){var n=ae(w,e);ee({value:e.label,id:e.id,item:e}),R(te.filter((function(e){return(0,o.Z)(n.components.map((function(e){return e.component.procedure_id}))).some((function(n){return e.value===n}))}))),ie((0,o.Z)(n.pins)),j({value:"",process:{}})}})),Ne.createElement(h.n2,(0,S.Z)({},De.selectProcess,{value:H.value,placeholder:"Select workflow...",sectionError:v.icon,onOpenChanged:function(){s((function(e){return(0,t.Z)((0,t.Z)({},e),{},{icon:""})}))}}),Ne.createElement(h.rk,{items:z,iconValue:!0,defaultSelected:"",className:ke.Z.selectComponent,molclassname:ke.Z.selectMenuOverlayList,moliclassname:ke.Z.selectMenuOverlayListItem,placeholder:"Select workflow...",onChange:function(e){var n=ae(w.filter((function(n){return n.component.procedure_id===e.value})),{value:$.item.value});j({id:e.value,value:e.label}),ie((0,o.Z)(n.pins))}})),Ne.createElement(h.n2,(0,S.Z)({},De.selectRoutingMethod,{placeholder:"Select routing method...",sectionError:v.icon,onOpenChanged:function(){}}),Ne.createElement(h.rk,{items:[{label:"By Manual Routing",value:"Method 1"},{label:"Automated - by distance",value:"Method 2"},{label:"By sales visit time",value:"Method 3"}],iconValue:!0,defaultSelected:"",className:ke.Z.selectComponent,molclassname:ke.Z.selectMenuOverlayList,moliclassname:ke.Z.selectMenuOverlayListItem,placeholder:"Select routing method...",onChange:function(){}})))))})),Ae=l(20777),Oe=l(91426),Le=l(48630),ze=l(32588),Re=(l(68140),l(27426)),Ue=l(51481),Fe=l(31266),We=l(84952),qe=l(30519),Be=l(32562),Ye=l(41757),He=l(456),je=["height","start","onClick"],Ve=["height","start","onClick"],Ge=["height","start","onClick"],Je=(0,a.memo)((function(e){var n,l,o,i,u,r,v,c=e.step,p=e.isMandatoryError,m=e.nextButtonClicked,f=e.setIsMandatoryError,y=e.begunModule,g=e.companyData,b=e.components,x=e.isEditing,w=e.companyUsersArray,Z=e.products,M=e.selectedComponent,S=e.goToNextStep,k=e.authenticatedUser,I=(e.setIsCompleted,e.companyPositionsArray),N=e.blueprints,T=e.allModules,D=e.editMode,A=e.isProcessorOnly,L=((0,P.WidthProvider)(P.Responsive),(0,a.useState)(null===(n=null===M||void 0===M?void 0:M.is_complete)||void 0===n||n)),R=((0,d.Z)(L,1)[0],[]),U=(null===c||void 0===c||null===(l=c.component_blueprints)||void 0===l?void 0:l.length)>0?null===c||void 0===c?void 0:c.component_blueprints.map((function(e,n){var l=e.selected_fields.find((function(e){return"Template"===e.data_type_name&&1==e.visible})),o=e.selected_fields.find((function(e){return"Video"===e.data_type_name&&1==e.visible}));return l?a.createElement("div",{key:n,style:{padding:"0px"}},a.createElement(O.ZP,{templateName:l.field_name,nextButtonClicked:m,isMandatoryError:p,blueprintIndex:n,setIsMandatoryError:f,component:e,companyData:g,components:b,products:Z,selectedComponent:M})):e.selected_fields.filter((function(e){return 1==e.visible})).length>0?a.createElement("div",{key:n,className:fe.renderComponentContainer},a.createElement(Qe,{editMode:D,nextButtonClicked:m,isMandatoryError:p,blueprintIndex:n,setIsMandatoryError:f,blueprints:N,component:e,companyData:g,components:b,allModules:T,products:Z,authenticatedUser:k,selectedComponent:M,companyUsersArray:w,companyPositionsArray:I,begunModule:y,isProcessorOnly:A}),(null===M||void 0===M?void 0:M.id)&&(null===o||void 0===o?void 0:o.value)&&C()(null===o||void 0===o?void 0:o.value)<=(0,E.now)()&&(0,E.now)()<C()(null===o||void 0===o?void 0:o.value).add("minutes",10)&&a.createElement(Qe,{editMode:D,nextButtonClicked:m,isMandatoryError:p,blueprintIndex:n,setIsMandatoryError:f,blueprints:N,component:(0,t.Z)((0,t.Z)({},e),{},{name:"Video Call",selected_fields:[(0,t.Z)((0,t.Z)({},o),{},{options:(0,t.Z)((0,t.Z)({},o.options),{},{start:!0})})]}),companyData:g,components:b,allModules:T,products:Z,authenticatedUser:k,selectedComponent:M,companyUsersArray:w,companyPositionsArray:I,begunModule:y,shouldDisplay:!0,isEnabled:!0})):a.createElement("div",{key:n,className:fe.emptyElementsSection})})):a.createElement("div",{className:fe.emptyElementsSection}),F=a.createElement(me.mQ,{style:{width:"100%",marginTop:"50px",minHeight:"30vh"}},a.createElement(me.td,null,null===c||void 0===c?void 0:c.component_blueprints.filter((function(e){return e.selected_fields.filter((function(n){var l,o;return 1==n.visible&&"Emails"!==n.data_type_name&&(void 0===(null===(l=e.options)||void 0===l?void 0:l.showOnly)||0==(null===(o=e.options)||void 0===o?void 0:o.showOnly.length)||k.positions.filter((function(n){var l,o;return null===(l=e.options)||void 0===l||null===(o=l.showOnly)||void 0===o?void 0:o.includes(n.id)})).length>0)})).length>0})).map((function(e,n){return a.createElement(me.OK,{key:n},a.createElement("p",{style:{padding:"",fontSize:"18px",color:"var(--app-color-gray-dark)",fontWeight:"normal",fontFamily:"var(--app-text-font-mobile)",transform:"scaleY(1.1)"}},e.name))}))),(null===c||void 0===c||null===(o=c.component_blueprints)||void 0===o?void 0:o.length)>0?null===c||void 0===c?void 0:c.component_blueprints.filter((function(e){return e.selected_fields.filter((function(n){var l,o;return 1==n.visible&&"Emails"!==n.data_type_name&&(void 0===(null===(l=e.options)||void 0===l?void 0:l.showOnly)||0==(null===(o=e.options)||void 0===o?void 0:o.showOnly.length)||k.positions.filter((function(n){var l,o;return null===(l=e.options)||void 0===l||null===(o=l.showOnly)||void 0===o?void 0:o.includes(n.id)})).length>0)})).length>0})).map((function(e,n){var l=e.selected_fields.find((function(e){return"Template"===e.data_type_name&&1==e.visible})),o=e.selected_fields.find((function(e){return"Video"===e.data_type_name&&1==e.visible}));return l?a.createElement(me.x4,{key:n},a.createElement(O.ZP,{templateName:l.field_name,nextButtonClicked:m,isMandatoryError:p,blueprintIndex:n,setIsMandatoryError:f,component:e,companyData:g,components:b,products:Z,selectedComponent:M,component_blueprint:e,editMode:D,blueprints:N,allModules:T,authenticatedUser:k,companyUsersArray:w,companyPositionsArray:I,begunModule:y})):e.selected_fields.filter((function(e){return 1==e.visible})).length>0?a.createElement(me.x4,{key:n,style:{margin:"30px 0 0 0",padding:"30px 3px"}},a.createElement(Qe,{editMode:D,nextButtonClicked:m,isMandatoryError:p,blueprintIndex:n,setIsMandatoryError:f,blueprints:N,component:e,companyData:g,components:b,allModules:T,products:Z,authenticatedUser:k,selectedComponent:M,companyUsersArray:w,companyPositionsArray:I,begunModule:y}),(null===M||void 0===M?void 0:M.id)&&(null===o||void 0===o?void 0:o.value)&&C()(null===o||void 0===o?void 0:o.value)<=(0,E.now)()&&(0,E.now)()<C()(null===o||void 0===o?void 0:o.value).add("minutes",10)&&a.createElement(Qe,{editMode:D,nextButtonClicked:m,isMandatoryError:p,blueprintIndex:n,setIsMandatoryError:f,blueprints:N,component:(0,t.Z)((0,t.Z)({},e),{},{name:"Video Call",selected_fields:[(0,t.Z)((0,t.Z)({},o),{},{options:(0,t.Z)((0,t.Z)({},o.options),{},{start:!0})})]}),companyData:g,components:b,allModules:T,products:Z,authenticatedUser:k,selectedComponent:M,companyUsersArray:w,companyPositionsArray:I,begunModule:y,shouldDisplay:!0,isEnabled:!0})):a.createElement(me.x4,null)})):a.createElement(me.x4,null)),W=(0,a.useState)({currentBreakpoint:"lg",compactType:"vertical",mounted:!1,layouts:{lg:c.options.layout},editing:x}),q=(0,d.Z)(W,2),B=q[0],Y=q[1];return a.createElement("div",{style:{width:"inherit"}},a.createElement(h.j3,{permissions:[h.po.processes.create]},a.createElement("button",{onClick:function(){R=B.layouts.lg.map((function(e){return(0,t.Z)((0,t.Z)({},e),{},{static:!1})})),Y((0,t.Z)((0,t.Z)({},B),{},{layouts:{lg:R},editing:!B.editing}))},hidden:!B.editing},"Edit Layout"),a.createElement("button",{onClick:function(){var e=R.map((function(e){return(0,t.Z)((0,t.Z)({},e),{},{static:!0})}));(0,s.T5)({options:(0,t.Z)((0,t.Z)({},c.options),{},{layout:e})},c.id,!0).pipe((0,_.P)()).subscribe({next:function(n){Y((0,t.Z)((0,t.Z)({},B),{},{layouts:{lg:e},editing:!B.editing}))},error:function(e){Y((0,t.Z)((0,t.Z)({},B),{},{layouts:{lg:c.options.layout},editing:!B.editing}))},complete:function(){}})},hidden:!B.editing},"Save Layout")),null!==c&&void 0!==c&&null!==(i=c.options)&&void 0!==i&&i.tabbed?F:U,(null===(u=y.processModule.module)||void 0===u?void 0:u.options.forSpecificUsers)&&(null===c||void 0===c?void 0:c.is_end)&&a.createElement("div",{style:{height:"100px"}}),(null===c||void 0===c||null===(r=c.pathway_steps)||void 0===r?void 0:r.length)>0&&function(){var e=c.pathway_steps.map((function(e){return{label:"".concat(e.name),value:e.id}})),n=w.map((function(e){return{label:"".concat(e.first_name," ").concat(e.last_name),value:e.id}}));return a.createElement("div",{className:fe.emptyElementsSection,style:{width:"60%",padding:"20px 20px 20px 20px",height:"".concat(n.length*n.length>4?70:200,"px")}},a.createElement(z.Z,{visible:!0,mandatory:!1,items:e,onChange:function(e){S(e)},placeholder:"Continue to this step..."}))}(),(null===c||void 0===c||null===(v=c.pathway_processes)||void 0===v?void 0:v.length)>0&&function(){var e=c.pathway_processes.map((function(e){return{label:"".concat(e.name),value:e.id}})),n=w.map((function(e){return{label:"".concat(e.first_name," ").concat(e.last_name),value:e.id}}));return a.createElement("div",{className:fe.emptyElementsSection,style:{width:"60%",padding:"20px 20px 20px 20px",height:"".concat(n.length*n.length>4?70:200,"px")}},a.createElement(z.Z,{visible:!0,mandatory:!1,items:e,onChange:function(){},placeholder:"Continue to this process..."}))}(),e.children)})),Ke=a.forwardRef((function(e,n){var l,u,r,v,s,c,m,f,_,y,h,g=e.begunModule,x=e.allModules,E=e.companyData,C=e.setSelectedComponent,w=e.selectedComponent,Z=e.companyUsersArray,M=e.companyPositionsArray,S=e.print,k=e.components,I=void 0===k?[]:k,N=(e.user,e.bypassCustom),T=void 0!==N&&N,D=e.goto,P=(0,a.useState)([]),L=(0,d.Z)(P,2),z=L[0],R=L[1],U=null===g||void 0===g||null===(l=g.processModule)||void 0===l||null===(u=l.completeSteps)||void 0===u?void 0:u.find((function(e){var n;return(null===(n=e.component_blueprints)||void 0===n?void 0:n.filter((function(e){return e.selected_fields.filter((function(e){return"Template"===e.data_type_name})).length>0})).length)>0&&0==T}));(0,a.useEffect)((function(){var l,i,d,u=[];if(K.Z(Q.Z("group"))(null!==(l=null===w||void 0===w?void 0:w.component_fields)&&void 0!==l?l:[]).map((function(e){u=[].concat((0,o.Z)(u),[{id:e.component_blueprint_id,selected_fields:oe.Z(ie.Z("group",e.group))(w.component_fields)}])})),(null===g||void 0===g||null===(i=g.processModule)||void 0===i||null===(d=i.completeSteps)||void 0===d?void 0:d.length)>0){var r,v,s,c,p,m,f=[a.createElement("div",{key:0,style:{display:null!==e&&void 0!==e&&e.noHeader?"none":""}},S&&a.createElement("p",{className:fe.detailLabel},E.display_name)),U?a.createElement("div",{key:1}):F()];if(g.processModule.completeSteps.map((function(e){e.component_blueprints.filter((function(e){var n,l;return 0==(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.asModuleList)||void 0==(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.asModuleList)})).map((function(n,l){var i,d,r,v,s,c,p=null!==(i=null===w||void 0===w||null===(d=w.component_fields)||void 0===d?void 0:d.filter((function(e){return e.component_blueprint_id===n.id})))&&void 0!==i?i:[],m=!(null===p||void 0===p||!p.find((function(e){return!(""===e.value||void 0===e.value||null===e.value)})));(null===p||void 0===p?void 0:p.length)>0&&(null===(r=n.selected_fields)||void 0===r?void 0:r.filter((function(e){return 1==e.visible})).length)>0&&(null!==n.options?!1!==n.options.allowMultipleInputs&&void 0!==n.options.allowMultipleInputs&&null!==n.options.allowMultipleInputs||(f=[].concat((0,o.Z)(f),[a.createElement("div",{key:f.length,style:{display:m?"":"none"}},a.createElement(tn,{step:e,isInherited:!1,nextButtonClicked:function(){},isMandatoryError:!1,stepId:e.id,blueprintIndex:l,setIsMandatoryError:function(){},component:(0,t.Z)((0,t.Z)({},n),{},{created_date:w.created_date,values:null!==(v=null===(s=u.find((function(e){return e.id===n.id})))||void 0===s?void 0:s.selected_fields)&&void 0!==v?v:[]}),begunModule:g,allModules:x,companyData:E,components:u,allComponents:I,companyUsersArray:Z,status:null===w||void 0===w?void 0:w.status,selectedComponent:w}))])):f=[].concat((0,o.Z)(f),[a.createElement("div",{key:f.length},a.createElement(tn,{step:e,isInherited:!1,nextButtonClicked:function(){},isMandatoryError:!1,stepId:e.id,blueprintIndex:l,setIsMandatoryError:function(){},component:(0,t.Z)((0,t.Z)({},n),{},{created_date:w.created_date,values:null===(c=u.find((function(e){return e.id===n.id})))||void 0===c?void 0:c.selected_fields}),begunModule:g,allModules:x,companyData:E,components:u,allComponents:I,companyUsersArray:Z,status:null===w||void 0===w?void 0:w.status,selectedComponent:w}))]))}))})),U)return void R(a.createElement(O.C6,{ref:n,begunModule:g,allModules:x,companyData:E,components:I,selectedComponent:w,setSelectedComponent:C,companyUsersArray:Z,companyPositionsArray:M,goto:D},f,a.createElement(un,{component:w}),a.createElement(an,{component:w,show:null===g||void 0===g||null===(r=g.processModule)||void 0===r||null===(v=r.module)||void 0===v||null===(s=v.options)||void 0===s?void 0:s.anonymous})));R([].concat((0,o.Z)(f),[a.createElement(un,{component:w,key:f.length+1}),a.createElement(an,{component:w,key:f.length+2,show:null===g||void 0===g||null===(c=g.processModule)||void 0===c||null===(p=c.module)||void 0===p||null===(m=p.options)||void 0===m?void 0:m.anonymous})]))}}),[w]);var F=function(){var e,n,l,o,d,u,r,v,s,c,m,f,_,y,h,x,C,Z,M=null===g||void 0===g||null===(e=g.processModule)||void 0===e||null===(n=e.completeSteps)||void 0===n?void 0:n.find((function(e){return e.component_blueprints.filter((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return"item_code"===(null===(n=e.options)||void 0===n?void 0:n.mapToItem)||"Transactions Field"===e.data_type_name||"Template"===e.data_type_name||"Transaction List"===e.data_type_name})).length)>0})).length>0})),S=null!==(l=null!==(o=null!==(d=null!==(u=null===M||void 0===M||null===(r=M.component_blueprints)||void 0===r?void 0:r.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){return"Transaction List"===e.data_type_name})).length)>0})))&&void 0!==u?u:null===M||void 0===M||null===(v=M.component_blueprints)||void 0===v?void 0:v.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return"item_code"===(null===(n=e.options)||void 0===n?void 0:n.mapToItem)})).length)>0})))&&void 0!==d?d:null===M||void 0===M||null===(s=M.component_blueprints)||void 0===s?void 0:s.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){return"Transactions Field"===e.data_type_name})).length)>0})))&&void 0!==o?o:null===M||void 0===M||null===(c=M.component_blueprints)||void 0===c?void 0:c.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){return"Template"===e.data_type_name})).length)>0})))&&void 0!==l?l:void 0,k=S?null===(m=S.selected_fields)||void 0===m||null===(f=m.find((function(e){return"Template"===e.data_type_name})))||void 0===f?void 0:f.field_name:"",I=null===E||void 0===E||null===(_=E.misc_info)||void 0===_||null===(y=_.templatesData)||void 0===y?void 0:y.find((function(e){return e.name===k})),N=I?(null===I||void 0===I||null===(h=I.tlist)||void 0===h?void 0:h.length)>0?null===I||void 0===I?void 0:I.tlist:null===(x=I.config)||void 0===x?void 0:x.filter((function(e){return"Text"===e.value||"Number"===e.value||"Connector"===e.value})):S?S.selected_fields.filter((function(e){var n,l,o;return!(""===(null===(n=e.options)||void 0===n?void 0:n.mapToItem)||void 0==(null===(l=e.options)||void 0===l?void 0:l.mapToItem)||null==(null===(o=e.options)||void 0===o?void 0:o.mapToItem))})):[];return(null===w||void 0===w||null===(C=w.component_items)||void 0===C?void 0:C.length)>0&&a.createElement("div",{className:fe.accordionContainer,style:{border:b.tq?"0":"",marginTop:"10px",padding:b.tq?"10px":"",backgroundColor:"var(--app-color-gray-lightest)"}},a.createElement(A.default,{modern:!0,className:fe.listContainer,isReport:!1,"app-variant-is-mobile":"true",title:"Items",columns:N?N.map((function(e){return I?e.label:e.field_name})):["Product ID","Quantity","Price"],list:null===w||void 0===w||null===(Z=w.component_items)||void 0===Z?void 0:Z.map((function(e){var n,l,o,d,u,r,v,s,c,m,f,_,y,h,g,b,x,E,C,w,Z,M,S,k,T,D,P,A,O;if((null===I||void 0===I||null===(n=I.tlist)||void 0===n?void 0:n.length)>0){var L={};return I.tlist.filter((function(n){L=(0,t.Z)((0,t.Z)({},L),{},(0,i.Z)({},null===n||void 0===n?void 0:n.label,e[null===n||void 0===n?void 0:n.key]))})),L}var z=e.item_code,R=e.quantity,U=null!==(l=e.alt_value)&&void 0!==l?l:0,F=null!==(o=e.value)&&void 0!==o?o:0,W=null!==(d=e.total)&&void 0!==d?d:0,q={};return(0,p.sO)(e.item_code)&&(q=(0,t.Z)((0,t.Z)({},q),JSON.parse(e.item_code))),(0,p.sO)(e.quantity)&&(q=(0,t.Z)((0,t.Z)({},q),JSON.parse(e.quantity))),(0,p.sO)(e.alt_value)&&(q=(0,t.Z)((0,t.Z)({},q),JSON.parse(e.alt_value))),(0,p.sO)(e.value)&&(q=(0,t.Z)((0,t.Z)({},q),JSON.parse(e.value))),(0,p.sO)(e.total)&&(q=(0,t.Z)((0,t.Z)({},q),JSON.parse(e.total))),void 0!=I?(0,t.Z)((g={},(0,i.Z)(g,null!==(u=null===(r=I.config.find((function(e){return"item_code"===e.key})))||void 0===r?void 0:r.label)&&void 0!==u?u:"Item Code",a.createElement("div",{className:fe.templateInformation},z)),(0,i.Z)(g,null!==(v=null===(s=I.config.find((function(e){return"value"===e.key})))||void 0===s?void 0:s.label)&&void 0!==v?v:"Price",a.createElement("div",{className:fe.templateInformation},F)),(0,i.Z)(g,null!==(c=null===(m=I.config.find((function(e){return"total"===e.key})))||void 0===m?void 0:m.label)&&void 0!==c?c:"Total",a.createElement("div",{className:fe.templateInformation},W)),(0,i.Z)(g,null!==(f=null===(_=I.config.find((function(e){return"quantity"===e.key})))||void 0===_?void 0:_.label)&&void 0!==f?f:"Quantity",a.createElement("div",{className:fe.templateInformation},R)),(0,i.Z)(g,null!==(y=null===(h=I.config.find((function(e){return"alt_value"===e.key})))||void 0===h?void 0:h.label)&&void 0!==y?y:"Discount",a.createElement("div",{className:fe.templateInformation},U)),(0,i.Z)(g,"id",e.id),g),q):null!==N&&void 0!==N&&N.find((function(e){var n,l,o,i,t;return"item_code"===(null===(n=e.options)||void 0===n?void 0:n.mapToItem)||"value"===(null===(l=e.options)||void 0===l?void 0:l.mapToItem)||"total"===(null===(o=e.options)||void 0===o?void 0:o.mapToItem)||"quantity"===(null===(i=e.options)||void 0===i?void 0:i.mapToItem)||"alt_value"===(null===(t=e.options)||void 0===t?void 0:t.mapToItem)}))?(0,t.Z)((A={},(0,i.Z)(A,null!==(b=null===(x=N.find((function(e){var n;return"item_code"===(null===(n=e.options)||void 0===n?void 0:n.mapToItem)})))||void 0===x?void 0:x.field_name)&&void 0!==b?b:"Product ID",a.createElement("div",{className:fe.templateInformation},z)),(0,i.Z)(A,null!==(E=null===(C=N.find((function(e){var n;return"value"===(null===(n=e.options)||void 0===n?void 0:n.mapToItem)})))||void 0===C?void 0:C.field_name)&&void 0!==E?E:"Price",a.createElement("div",{className:fe.templateInformation},F)),(0,i.Z)(A,null!==(w=null===(Z=N.find((function(e){var n;return"total"===(null===(n=e.options)||void 0===n?void 0:n.mapToItem)})))||void 0===Z?void 0:Z.field_name)&&void 0!==w?w:"Total",a.createElement("div",{className:fe.templateInformation},W)),(0,i.Z)(A,null!==(M=null===(S=N.find((function(e){var n;return"quantity"===(null===(n=e.options)||void 0===n?void 0:n.mapToItem)})))||void 0===S?void 0:S.field_name)&&void 0!==M?M:"Quantity",a.createElement("div",{className:fe.templateInformation},R)),(0,i.Z)(A,null!==(k=null===(T=N.find((function(e){var n;return"alt_value"===(null===(n=e.options)||void 0===n?void 0:n.mapToItem)})))||void 0===T?void 0:T.field_name)&&void 0!==k?k:"Discount",a.createElement("div",{className:fe.templateInformation},U)),(0,i.Z)(A,null!==(D=null===(P=N.find((function(e){var n;return"alt_value"===(null===(n=e.options)||void 0===n?void 0:n.mapToItem)})))||void 0===P?void 0:P.field_name)&&void 0!==D?D:"Actual",a.createElement("div",{className:fe.templateInformation},U)),(0,i.Z)(A,"id",e.id),A),q):(O={},(0,i.Z)(O,"Product ID",z),(0,i.Z)(O,"Quantity",R),(0,i.Z)(O,"Price",F),O)})),onListItemClick:function(e){}}))},W=a.createElement("div",{style:{display:b.tq?"none":""}},((null===w||void 0===w||null===(r=w.shared_users)||void 0===r?void 0:r.length)>0||(null===w||void 0===w||null===(v=w.shared_positions)||void 0===v?void 0:v.length)>0)&&a.createElement("div",{className:fe.accordionContainer},a.createElement("p",{className:fe.cardTitle},"Shares"),a.createElement("div",{style:{display:"flex"}},(null===w||void 0===w||null===(s=w.shared_positions)||void 0===s?void 0:s.length)>0&&a.createElement(A.default,{className:fe.sharesTable,columns:["Position"],list:null===w||void 0===w||null===(c=w.shared_positions)||void 0===c?void 0:c.map((function(e){var n,l=M.find((function(n){return n.value===e.id}));return(0,i.Z)({},"Position",null!==(n=null===l||void 0===l?void 0:l.label)&&void 0!==n?n:"")}))}),(null===w||void 0===w||null===(m=w.shared_users)||void 0===m?void 0:m.length)>0&&a.createElement(A.default,{className:fe.sharesTable,columns:["User"],list:null===w||void 0===w||null===(f=w.shared_users)||void 0===f?void 0:f.map((function(e){var n=Z.find((function(n){return n.id===e.id}));return(0,i.Z)({},"User","".concat(null===n||void 0===n?void 0:n.first_name," ").concat(null===n||void 0===n?void 0:n.last_name))}))}))));return a.createElement("div",{ref:n,style:{userSelect:"none",padding:S?"50px 120px 50px 100px":"50px 10px 10px 10px",alignSelf:"center",width:"100%"}},z,(null===g||void 0===g||null===(_=g.processModule)||void 0===_||null===(y=_.module)||void 0===y||null===(h=y.options)||void 0===h?void 0:h.forSpecificUsers)&&W)})),Qe=function(e){var n,l,i,u,r,v,s,c,m,f,_,y,x,E,w,Z,M,S,k,I,N,D,P,A=e.allModules,O=e.component,z=e.blueprintIndex,R=e.nextButtonClicked,U=e.setIsMandatoryError,F=e.companyUsersArray,W=e.companyData,q=e.components,B=e.products,Y=e.authenticatedUser,H=e.begunModule,j=e.blueprints,V=e.selectedComponent,J=e.companyPositionsArray,K=e.editMode,Q=e.isProcessorOnly,X=e.shouldDisplay,$=void 0===X?(!1===(null===O||void 0===O||null===(n=O.options)||void 0===n?void 0:n.useCustomTemplate)||void 0===(null===O||void 0===O||null===(l=O.options)||void 0===l?void 0:l.useCustomTemplate))&&(void 0===(null===O||void 0===O||null===(i=O.options)||void 0===i?void 0:i.showOnly)||(!((null===O||void 0===O||null===(u=O.options)||void 0===u||null===(r=u.showOnly)||void 0===r?void 0:r.length)>0)||(null===O||void 0===O||null===(v=O.options)||void 0===v||null===(s=v.showOnly)||void 0===s?void 0:s.filter((function(e){var n;return(null===Y||void 0===Y||null===(n=Y.positions)||void 0===n?void 0:n.filter((function(n){return n.id===e})).length)>0})).length)>0)):X,ee=e.isEnabled,ne=void 0===ee?void 0===(null===V||void 0===V?void 0:V.id)||((null===V||void 0===V||null===(c=V.created_by)||void 0===c?void 0:c.id)===Y.id||(void 0===(null===H||void 0===H||null===(m=H.processModule)||void 0===m||null===(f=m.module)||void 0===f||null===(_=f.options)||void 0===_?void 0:_.strict)||0==(null===H||void 0===H||null===(y=H.processModule)||void 0===y||null===(x=y.module)||void 0===x||null===(E=x.options)||void 0===E?void 0:E.strict)||void 0!==(null===O||void 0===O||null===(w=O.options)||void 0===w?void 0:w.showOnly)&&((null===O||void 0===O||null===(Z=O.options)||void 0===Z||null===(M=Z.showOnly)||void 0===M?void 0:M.length)>0&&(null===O||void 0===O||null===(S=O.options)||void 0===S||null===(k=S.showOnly)||void 0===k?void 0:k.filter((function(e){var n;return(null===Y||void 0===Y||null===(n=Y.positions)||void 0===n?void 0:n.filter((function(n){return n.id===e})).length)>0})).length)>0))):ee,le=(0,g.pQ)(),oe=(0,d.Z)(le,2),te=oe[0],de=oe[1],ae=(0,a.useState)(fe.active),ue=(0,d.Z)(ae,2),re=ue[0],ve=(ue[1],(0,a.useState)(!1)),se=(0,d.Z)(ve,2),ce=se[0],pe=se[1],me=(0,a.useState)(""),_e=(0,d.Z)(me,2),ye=_e[0],he=_e[1],ge=(0,a.useState)(C()()),be=(0,d.Z)(ge,2),xe=be[0],Ce=be[1],we=(0,a.useRef)(null),Ze=null===(I=te.currentStep)||void 0===I?void 0:I.component_blueprints.findIndex((function(e){return e.id===O.id}));(0,a.useEffect)((function(){Me()}),[R]),(0,a.useEffect)((function(){if(null!==O&&void 0!==O&&O.selected_fields.find((function(e){return"Clock"===e.data_type_name&&!0===e.visible}))){var e=setInterval((function(){Ce(C()())}),1e3);return function(){window.clearInterval(e)}}}),[]);var Me=function(){var e;null!==O&&void 0!==O&&null!==(e=O.selected_fields)&&void 0!==e&&e.some((function(e){var n;return!0===e.mandatory&&!0===e.visible&&(!e.value||(null===e||void 0===e||null===(n=e.value)||void 0===n?void 0:n.length)<1)}))?U(!0):U(!1)},Se=(0,a.useCallback)((function(){var e,n,l,i=(0,o.Z)(null!==(e=null===(n=te.currentStep)||void 0===n?void 0:n.component_blueprints)&&void 0!==e?e:[]),d=null===(l=i[Ze])||void 0===l?void 0:l.selected_fields;Me(),i[Ze].selected_fields=null===d||void 0===d?void 0:d.map((function(e){return(0,t.Z)((0,t.Z)({},e),{},{errors:!0!==e.mandatory||e.value?"":"Field is mandatory"})})),de({action:g._U.setComponentBlueprints,value:i}),de({action:g._U.setModuleNewStepComponents,value:i})}),[te.currentStep]),ke=function(e,n){var l,i,t,d=(0,o.Z)(null!==(l=null===(i=te.currentStep)||void 0===i?void 0:i.component_blueprints)&&void 0!==l?l:[]),a=null===(t=d[Ze])||void 0===t?void 0:t.selected_fields[n];"Number"===(null===a||void 0===a?void 0:a.data_type_name)?Number(+e)?a.value=e:""===e&&(a.value=""):null!==a&&void 0!==a&&a.data_type_name&&(a.value=e),null!==a&&void 0!==a&&a.value&&a.mandatory&&(a.errors=""),Me(),de({action:g._U.setComponentBlueprints,value:d}),de({action:g._U.setModuleNewStepComponents,value:d})},Ie=(0,a.useCallback)((function(e,n,l){var i,t,d,a=(0,o.Z)(null!==(i=null===(t=te.currentStep)||void 0===t?void 0:t.component_blueprints)&&void 0!==i?i:[]),u=null===(d=a[Ze])||void 0===d?void 0:d.selected_fields[n];u.options.country_code=null===e||void 0===e?void 0:e.countryCode,u.options.country_name=null===e||void 0===e?void 0:e.name,u.options.country_prefix="+".concat(null===e||void 0===e?void 0:e.dialCode),de({action:g._U.setComponentBlueprints,value:a}),de({action:g._U.setModuleNewStepComponents,value:a}),ke(l,n)}),[te]),Ne=(0,a.useCallback)((function(e,n){var l,i,t,d=(0,o.Z)(null!==(l=null===(i=te.currentStep)||void 0===i?void 0:i.component_blueprints)&&void 0!==l?l:[]),a=null===(t=d[Ze])||void 0===t?void 0:t.selected_fields[n];a.options.currency_type=null===e||void 0===e?void 0:e.label,a.options.currency_value=null===e||void 0===e?void 0:e.value,a.options.symbol=null===e||void 0===e?void 0:e.symbol,de({action:g._U.setComponentBlueprints,value:d}),de({action:g._U.setModuleNewStepComponents,value:d})}),[te]),Te=O.selected_fields.filter((function(e){return"Transaction List"===e.data_type_name||"Step List"===e.data_type_name||"Pin"===e.data_type_name})).length>0;return a.createElement("div",{id:"accordion",className:fe.accordionModuleContainer,key:z,style:{width:Te?"100%":"",border:Q&&ne?"4px solid var(--app-color-gray-lighter)":Te?"0":"",boxShadow:b.tq?Te?"0 var(--app-color-white-lightest)":"":1==(null===T.Nb||void 0===T.Nb||null===(N=T.Nb.options)||void 0===N?void 0:N.popup)?"0 var(--app-color-white-lightest)":"",display:$?"":"none",pointerEvents:ne?"":"none"}},a.createElement("div",{className:Ee()(fe.accordionContainer,re),"app-variant-has-error":ye?"error":"",style:{border:b.tq?"0":"",padding:b.tq?"0":"",margin:b.tq?"0":""}},a.createElement("div",{ref:we,style:{maxHeight:re===fe.active?"":"0px",display:"flex"},className:fe.content},a.createElement(en,{blueprints:j,component:O,selectedComponent:V,handleInputChange:ke,handlePrefixChange:Ie,handleCurrencyChange:Ne,checkIfAreMandatoryErrored:Me,handleCheckbox:function(e,n){var l,i,t,d=(0,o.Z)(null!==(l=null===(i=te.currentStep)||void 0===i?void 0:i.component_blueprints)&&void 0!==l?l:[]),a=null===(t=d[Ze])||void 0===t?void 0:t.selected_fields[n];a&&(a.value=e,null!==a&&void 0!==a&&a.value&&a.mandatory&&(a.errors=""),de({action:g._U.setComponentBlueprints,value:d}),de({action:g._U.setModuleNewStepComponents,value:d}),Me())},isInherited:!1,indexInContextArray:Ze,handleLocationChange:function(e,n){var l,i,t,d=(0,o.Z)(null!==(l=null===(i=te.currentStep)||void 0===i?void 0:i.component_blueprints)&&void 0!==l?l:[]);(null===(t=d[Ze])||void 0===t?void 0:t.selected_fields[n]).value="".concat(e.lat,", ").concat(e.lng),de({action:g._U.setComponentBlueprints,value:d}),de({action:g._U.setModuleNewStepComponents,value:d})},processTaskContext:te,begunModule:H,setTaskProcessContext:de,companyData:W,companyUsersArray:F,companyPositionsArray:J,components:q,products:B,allModules:A,editMode:K,clock:xe})),a.createElement("div",{style:{paddingLeft:"10px"}},a.createElement("div",{onClick:function(){var e;if(Se(),null===O||void 0===O||null===(e=O.selected_fields)||void 0===e||!e.some((function(e){var n;return!0===e.mandatory&&!0===e.visible&&(!e.value||(null===e||void 0===e||null===(n=e.value)||void 0===n?void 0:n.length)<1)}))){var n={},l=O.selected_fields.map((function(e){var l,o;if("Formula"===e.data_type_name){var i,d,a,u,r=(0,p.LV)(e.options,O.selected_fields.filter((function(n){return e.options.list.includes(n.field_name)})),te.components,null!==(i=te.items)&&void 0!==i?i:[],null!==(d=null===te||void 0===te?void 0:te.newStepComponents)&&void 0!==d?d:[]);if(null!==e&&void 0!==e&&null!==(a=e.options)&&void 0!==a&&a.mapToItem)n[null===e||void 0===e||null===(u=e.options)||void 0===u?void 0:u.mapToItem]="".concat(r);return(0,t.Z)((0,t.Z)({},e),{},{value:"".concat(r)})}null!==e&&void 0!==e&&null!==(l=e.options)&&void 0!==l&&l.mapToItem&&(n[null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.mapToItem]="".concat(null===e||void 0===e?void 0:e.value));return e}));if(Object.keys(n).length>0){var i,d=null===(i=te.items)||void 0===i?void 0:i.find((function(e){return e.item_code===n.item_code}));void 0===d?de({action:g._U.addModuleItems,value:(0,t.Z)((0,t.Z)({},n),{},{id:(0,p.mR)()})}):0==n.quantity?de({action:g._U.removeModuleItems,value:d}):de({action:g._U.updateModuleItems,value:(0,t.Z)((0,t.Z)({},d),n)})}else{var a=JSON.parse(JSON.stringify((0,t.Z)((0,t.Z)({},O),{},{temp_id:(0,p.mR)(),selected_fields:l})));de({action:g._U.addModuleComponents,value:a})}pe(!1),he(""),O.selected_fields.map((function(e,n){ke("",n)})),de({action:g._U.setModuleNewStepComponents,value:(0,o.Z)(G.Z((function(e){return e.selected_fields.filter((function(e){return""===e.value})).length>0}),(0,o.Z)(G.Z(ie.Z("id",O.id))(te.newStepComponents))))})}},className:fe.iconsContainer,style:{display:null===(null===O||void 0===O?void 0:O.options)?"none":!0===(null===O||void 0===O||null===(D=O.options)||void 0===D?void 0:D.allowMultipleInputs)?"":"none"}},ce?a.createElement("div",{className:fe.loaderContainer},a.createElement(Ae.Z,{type:b.G6?"Watch":"Puff",color:"var(--app-color-gray-dark)",secondaryColor:"gray",radius:32,height:32,width:"32px"})):a.createElement(h.zx,{light:!0},a.createElement(T.mm,null))))),ye&&(null===ye||void 0===ye||null===(P=ye.errors)||void 0===P?void 0:P.title)&&a.createElement(L.Z,{message:ye.errors.title}),ye&&(null===ye||void 0===ye?void 0:ye.message)&&a.createElement(L.Z,{message:ye.message}))};function Xe(e){return null!==e&&void 0!==e&&e.country_prefix?null===e||void 0===e?void 0:e.country_prefix:null!==e&&void 0!==e&&e.currency_value?(null===e||void 0===e?void 0:e.currency_value)+" ":""}var $e=function(e,n,l,i,t){var d,a,u,r=null===(u=(0,o.Z)(null!==(d=null===(a=t.currentStep)||void 0===a?void 0:a.component_blueprints)&&void 0!==d?d:[])[l])||void 0===u?void 0:u.selected_fields[i];switch(e){case"Link":!function(e){var n;try{n=new URL(e)}catch(l){return!1}return"http:"===n.protocol||"https:"===n.protocol}(n)?r.errors="This field should contain a link!":r.errors="";break;case"E-mail":case"Email":new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(n)?r.errors="":r.errors="This field should contain an valid email address!";break;case"Phone":new RegExp(/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/im).test(n)?r.errors="":r.errors="This field should contain an valid phone number!";break;case"Email Recipient":new RegExp(/^([a-z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*)(([, ]+[a-z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])\.([a-z0-9]([a-z0-9-]*[a-z0-9]))*)?)*$/).test(n)?r.errors="":r.errors="This field should contain an valid email address!"}},en=(0,a.memo)((function(e){var n,l,u,r,w,I=e.component,N=e.selectedComponent,P=e.handleInputChange,O=e.indexInContextArray,L=e.handleCheckbox,U=e.processTaskContext,F=e.setTaskProcessContext,W=e.isInherited,B=e.checkIfAreMandatoryErrored,V=e.handlePrefixChange,J=e.handleCurrencyChange,ne=e.handleLocationChange,oe=e.companyData,ve=e.components,se=e.begunModule,me=e.blueprints,ye=e.companyUsersArray,xe=e.companyPositionsArray,Ee=e.allModules,we=e.editMode,Se=e.clock,ke=(0,a.useState)(ye.map((function(e){return{label:e.first_name+" "+e.last_name,value:e.id,user:e}}))),Ie=(0,d.Z)(ke,2),Ne=Ie[0],Te=Ie[1],De=(0,x.v9)((function(e){return e.authReducer})),Ae=De.authenticatedUser,Ye=(0,x.v9)((function(e){return e.sessionReducer})),He=Ye.user,Je=(0,x.v9)((function(e){return e.flowReducer})),Ke=Je.currentLocation,Qe=Je.allTasks,en=Je.companyProcesses,ln=(0,a.useState)(!1),tn=(0,d.Z)(ln,2),dn=tn[0],an=tn[1],un=(0,a.useState)(new Date),vn=(0,d.Z)(un,2),sn=vn[0],cn=vn[1],pn=(0,a.useState)([new Date,new Date(C()().add(7,"days"))]),mn=(0,d.Z)(pn,2),fn=mn[0],_n=mn[1],yn=(0,d.Z)(fn,2),hn=yn[0],gn=yn[1],bn=(0,a.useState)(""),xn=(0,d.Z)(bn,2),En=xn[0],Cn=xn[1],wn=(0,a.useState)([{label:"",value:""}]),Zn=(0,d.Z)(wn,2),Mn=Zn[0],Sn=Zn[1],kn=(0,a.useState)(!0),In=(0,d.Z)(kn,2),Nn=In[0],Tn=In[1],Dn=(0,a.useState)(!0),Pn=(0,d.Z)(Dn,2),An=Pn[0],On=Pn[1],Ln=(0,a.useState)({source:!1,destination:!1}),zn=(0,d.Z)(Ln,2),Rn=zn[0],Un=zn[1],Fn=(0,a.useState)("50px"),Wn=(0,d.Z)(Fn,2),qn=Wn[0],Bn=Wn[1],Yn=(0,a.useState)(Array(12).fill("")),Hn=(0,d.Z)(Yn,2),jn=Hn[0],Vn=Hn[1],Gn=(0,a.useState)({candidates:[]}),Jn=(0,d.Z)(Gn,2),Kn=Jn[0],Qn=Jn[1],Xn=(0,a.useState)(!1),$n=(0,d.Z)(Xn,2),el=$n[0],nl=$n[1],ll=(0,a.useState)({}),ol=(0,d.Z)(ll,2),il=ol[0],tl=ol[1],dl=(0,a.useState)("day"),al=(0,d.Z)(dl,2),ul=al[0],rl=al[1],vl=(0,a.useState)({}),sl=(0,d.Z)(vl,2),cl=sl[0],pl=sl[1],ml=((0,a.useRef)(),(0,a.useState)(!1)),fl=(0,d.Z)(ml,2),_l=fl[0],yl=fl[1],hl=function(){yl(!_l)},gl=function(e,n){_n(e),P(e,n)},bl=function(e,n){cn(e),P(e,n)},xl=(0,a.useCallback)((function(e){void 0!==e&&(0==Ne.length?an(!0):an(!1),(0,Ce.n0)(e).pipe((0,_.P)()).subscribe({next:function(e){Te(e),an(!1)}}))}),[]),El=(0,a.useCallback)((function(){0==xe.length?an(!0):an(!1),(0,D.hj)().pipe((0,_.P)(1)).subscribe({})}),[]),Cl=(0,a.useCallback)((function(e){var n;if(0!=(null===e||void 0===e||null===(n=e.analyze)||void 0===n?void 0:n.length)&&void 0!=(null===e||void 0===e?void 0:e.analyze)){var l={role:"user",parts:[{text:e.analyze}]};1==(null===e||void 0===e?void 0:e.current)?l.parts=[].concat((0,o.Z)(l.parts),[{text:JSON.stringify({table:"Transaction",data:(0,t.Z)((0,t.Z)((0,t.Z)({},U.components.map((function(e){var n={};return e.selected_fields.filter((function(e){return n=(0,t.Z)((0,t.Z)({},n),{},(0,i.Z)({},e.field_name,e.value))})),n}))),U.newStepComponents.map((function(e){var n={};return e.selected_fields.filter((function(e){return n=(0,t.Z)((0,t.Z)({},n),{},(0,i.Z)({},e.field_name,e.value))})),n}))),{},{items:U.items.map((function(e){return{item:e.item_code,quantity:+e.quantity,value:e.value}}))})})}]):(void 0!==e.module_id&&(l.parts=[].concat((0,o.Z)(l.parts),[{text:JSON.stringify({table:Ee.find((function(n){return n.id===e.module_id})).name,data:ve.filter((function(n){return n.module_id===e.module_id})).map((function(e){var n,l={};return e.component_fields.filter((function(e){return l=(0,t.Z)((0,t.Z)({},l),{},(0,i.Z)({},e.field_name,e.value))})),(0,t.Z)((0,t.Z)({},l),{},{created_date:e.created_date,created_by:null===(n=e.created_by)||void 0===n?void 0:n.id,items:null===e||void 0===e?void 0:e.component_items.map((function(e){return{item:e.item_code,quantity:+e.quantity,value:e.value}}))})}))})}])),void 0!==e.module2_id&&(l.parts=[].concat((0,o.Z)(l.parts),[{text:JSON.stringify({table:Ee.find((function(n){return n.id===e.module2_id})).name,data:ve.filter((function(n){return n.module_id===e.module2_id})).map((function(e){var n,l={};return e.component_fields.filter((function(e){return l=(0,t.Z)((0,t.Z)({},l),{},(0,i.Z)({},e.field_name,e.value))})),(0,t.Z)((0,t.Z)({},l),{},{created_date:e.created_date,created_by:null===(n=e.created_by)||void 0===n?void 0:n.id,items:null===e||void 0===e?void 0:e.component_items.map((function(e){return{item:e.item_code,quantity:+e.quantity,value:e.value}}))})}))})}])),void 0!==e.module3_id&&(l.parts=[].concat((0,o.Z)(l.parts),[{text:JSON.stringify({table:Ee.find((function(n){return n.id===e.module3_id})).name,data:ve.filter((function(n){return n.module_id===e.module3_id})).map((function(e){var n,l={};return e.component_fields.filter((function(e){return l=(0,t.Z)((0,t.Z)({},l),{},(0,i.Z)({},e.field_name,e.value))})),(0,t.Z)((0,t.Z)({},l),{},{created_date:e.created_date,created_by:null===(n=e.created_by)||void 0===n?void 0:n.id,items:null===e||void 0===e?void 0:e.component_items.map((function(e){return{item:e.item_code,quantity:+e.quantity,value:e.value}}))})}))})}]))),Qn({candidates:[]}),an(!0),(0,be.hd)(JSON.stringify(l)).pipe((0,_.P)()).subscribe({next:function(e){an(!1),Qn(e)},error:function(e){Qn({candidates:[{content:{parts:[{text:JSON.stringify(e)}]}}]}),an(!1)}})}else Qn({candidates:[{content:{parts:[{text:"Enter a question that I could answer"}]}}]})}),[]),wl=function(e){var n=e.field_name;return I.selected_fields.findIndex((function(e){return e.field_name===n}))},Zl=function(e){var n=I.selected_fields.filter((function(e){return"Info"===e.data_type_name})),l=ve.find((function(n){return n.id===e}));n.map((function(n){var o;null===n||void 0===n||null===(o=n.options)||void 0===o||o.list.map((function(o){var i,t,d=null===(i=l.component_fields)||void 0===i?void 0:i.find((function(e){return e.field_name===o})),a=wl({field_name:o});-1!=a&&(null===(t=l.component_fields)||void 0===t?void 0:t.length)>0&&(I.selected_fields[a].value=d?d.value:"",n.value=e)}))})),I.selected_fields.filter((function(e){return"Global"===e.data_type_name&&1==e.visible})).map((function(e){var n,o,i=null===(n=l.component_fields)||void 0===n?void 0:n.find((function(n){return n.field_name===e.field_name})),t=wl({field_name:e.field_name});-1!=t&&(null===(o=l.component_fields)||void 0===o?void 0:o.length)>0&&i&&(I.selected_fields[t].value=null===i||void 0===i?void 0:i.value)}))},Ml=function(e){var n,l,o,i,t,d,a,u=null===(n=se.processModule.module)||void 0===n||null===(l=n.options)||void 0===l?void 0:l.global;u||(u=null===(o=U.components.find((function(n){return n.selected_fields.filter((function(n){var l,o;return"Global"===n.data_type_name&&1==n.visible&&n.field_name===(null===(l=I.selected_fields.find((function(n){return n.data_type_name===e&&1==n.visible})))||void 0===l||null===(o=l.options)||void 0===o?void 0:o.global)})).length>0})))||void 0===o||null===(i=o.selected_fields.find((function(e){return"Global"===e.data_type_name})))||void 0===i?void 0:i.value);u||(u=null===(t=Y.Z(H.Z("component_blueprints"),j.Z)(se.processModule.completeSteps).find((function(n){return n.selected_fields.filter((function(n){var l,o;return n.field_name===(null===(l=I.selected_fields.find((function(n){return n.data_type_name===e&&1==n.visible})))||void 0===l||null===(o=l.options)||void 0===o?void 0:o.global)&&"Value"===n.data_type_name})).length>0})))||void 0===t||null===(d=t.selected_fields.find((function(e){return"Value"===e.data_type_name})))||void 0===d||null===(a=d.options)||void 0===a?void 0:a.value);return u?ve.filter((function(n){return n.component_fields.filter((function(n){var l,o;return n.value===u&&n.field_name===(null===(l=I.selected_fields.find((function(n){return n.data_type_name===e})))||void 0===l||null===(o=l.options)||void 0===o?void 0:o.global)})).length>0})):ve},Sl=function(e){var n,l,t,d,u,r,v,s,c,m,f,_,y,g,b,x,E,w,S,k,N,T,D,A,R,F,q,Y,H,j,V,J,K,Q,X,$,ee,ne,le,ie,te,de,ae,ue,re,se,ce,pe,me,_e,ye,ge,be,xe,Ee,Ce,we,Ze,Me=e.field,Se=(e.enabled,e.index),ke=e.isItem,Ie=void 0!==ke&&ke,Te=e.handleItem,De=(e.withLabel,e.edit),Pe=void 0===De||De,Ae=e.item;if("Dropdown"===(null===Me||void 0===Me?void 0:Me.data_type_name)&&(null===Me||void 0===Me||null===(n=Me.options)||void 0===n||null===(l=n.list)||void 0===l?void 0:l.length)>0)return Pe?a.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-light)"}},a.createElement(z.Z,{key:Se,visible:Me.visible,mandatory:Me.mandatory,items:null===Me||void 0===Me||null===(A=Me.options)||void 0===A?void 0:A.list.map((function(e){return{label:e,value:e}})),className:fe.dropdownClassContainer,error:Me.errors,onChange:function(e){Ie?Te(e,Se):L(e,Se)},selectionType:null===Me||void 0===Me||null===(R=Me.options)||void 0===R?void 0:R.type,fieldIcon:Me.icon,backgroundColor:null!==Me&&void 0!==Me&&null!==(F=Me.options)&&void 0!==F&&F.valueC&&null!==Me&&void 0!==Me&&Me.value?null===Me||void 0===Me||null===(q=Me.options)||void 0===q?void 0:q.valueC:"",value:void 0===Me.value||null===Me.value?"":Me.value})):a.createElement("div",null,null===Me||void 0===Me?void 0:Me.value);if("Radio"===(null===Me||void 0===Me?void 0:Me.data_type_name)&&(null===Me||void 0===Me||null===(t=Me.options)||void 0===t||null===(d=t.list)||void 0===d?void 0:d.length)>0)return a.createElement("div",{style:{width:"100%",border:"0px solid var(--app-color-gray-light)",padding:"20px",fontSize:"16px"}},null===Me||void 0===Me||null===(Y=Me.options)||void 0===Y?void 0:Y.list.map((function(e){return a.createElement(a.Fragment,null,a.createElement("input",{style:{margin:"0 10px"},type:"radio",id:e,name:Me.field_name,value:e,checked:(null===Me||void 0===Me?void 0:Me.value)===e,onChange:function(e){var n,l;Ie?Te(null===(n=e.target)||void 0===n?void 0:n.value,Se):L(null===(l=e.target)||void 0===l?void 0:l.value,Se)}}),a.createElement("label",{for:e},e))})));if("Checkbox"===(null===Me||void 0===Me?void 0:Me.data_type_name))return Pe?a.createElement("input",{type:"checkbox",defaultChecked:null!==(H=Me.value)&&void 0!==H&&H,onChange:function(e){Ie?Te(e.target.checked,Se):L(e.target.checked,Se)}}):a.createElement("input",{type:"checkbox",checked:null!==(j=Me.value)&&void 0!==j&&j,readOnly:!0});if("Formula"===(null===Me||void 0===Me?void 0:Me.data_type_name)&&(null===Me||void 0===Me||null===(u=Me.options)||void 0===u||null===(r=u.operator)||void 0===r?void 0:r.length)>0){var Oe,Le,ze,Re,Ue,Fe=U.newStepComponents.filter((function(e){return null===e.options||(void 0===e.allowMultipleInputs||!1===e.options.allowMultipleInputs)})),We=(0,p.LV)(null===Me||void 0===Me?void 0:Me.options,I.selected_fields.filter((function(e){return Me.options.list.includes(e.field_name)&&!e.options.mapToItem})),[].concat((0,o.Z)(U.components.filter((function(e){return Fe.every((function(n){return n.id!==e.id}))}))),(0,o.Z)(G.Z((function(e){return e.selected_fields.filter((function(e){return""===(null===e||void 0===e?void 0:e.value)})).length>0}),Fe))),null!==(Oe=null===U||void 0===U?void 0:U.items)&&void 0!==Oe?Oe:[],null!==(Le=null===U||void 0===U?void 0:U.newStepComponents)&&void 0!==Le?Le:[]);return void 0!==We&&(Me.value=We),"bar"===(null===Me||void 0===Me||null===(ze=Me.options)||void 0===ze?void 0:ze.display)?a.createElement("div",{style:{margin:"20px",display:"flex",height:"30px",width:"100%"}},a.createElement("label",{className:fe.fieldTypeInput,style:{width:"20%"}},null===Me||void 0===Me?void 0:Me.field_name),a.createElement("div",{style:{height:"20px",width:"80%",backgroundColor:null===Me||void 0===Me||null===(Re=Me.options)||void 0===Re?void 0:Re.maxC,display:"flex",flexDirection:"column"}},a.createElement("input",{value:We||0,className:fe.fieldTypeInput,name:Me.field_name,disabled:!0,style:{color:"transparent",height:"20px",width:"".concat(+We/+Me.options.max*100,"%"),backgroundColor:null===Me||void 0===Me||null===(Ue=Me.options)||void 0===Ue?void 0:Ue.barC}}))):We||""}if("Item Formula"===(null===Me||void 0===Me?void 0:Me.data_type_name)&&(null===Me||void 0===Me||null===(v=Me.options)||void 0===v||null===(s=v.operator)||void 0===s?void 0:s.length)>0){var qe,Be,Ye,He=(0,p.LV)(null===Me||void 0===Me?void 0:Me.options,I.selected_fields.filter((function(e){return Me.options.list.includes(e.field_name)&&e.options.mapToItem})),[],[],Ae,!0);return"bar"===(null===Me||void 0===Me||null===(qe=Me.options)||void 0===qe?void 0:qe.display)?a.createElement("div",{style:{margin:"20px",display:"flex",height:"30px",width:"100%"}},a.createElement("label",{className:fe.fieldTypeInput,style:{width:"20%"}},null===Me||void 0===Me?void 0:Me.field_name),a.createElement("div",{style:{height:"20px",width:"100%",backgroundColor:null===Me||void 0===Me||null===(Be=Me.options)||void 0===Be?void 0:Be.maxC,display:"flex",flexDirection:"column"}},a.createElement("input",{value:He||0,className:fe.fieldTypeInput,name:Me.field_name,disabled:!0,style:{color:"transparent",height:"20px",width:"".concat(+He/+Me.options.max*100,"%"),backgroundColor:null===Me||void 0===Me||null===(Ye=Me.options)||void 0===Ye?void 0:Ye.barC}}))):He||""}if("Record"===(null===Me||void 0===Me?void 0:Me.data_type_name)&&(null===Me||void 0===Me||null===(c=Me.options)||void 0===c||null===(m=c.component_id)||void 0===m?void 0:m.length)>0){var je,Ve,Ge,Je,Ke,Qe,$e,en,ln,on,tn,an,un=(null!==Me&&void 0!==Me&&null!==(je=Me.options)&&void 0!==je&&je.global?Ml(null===Me||void 0===Me?void 0:Me.data_type_name):ve).filter((function(e){var n;return e.component_fields.filter((function(e){var n;return e.component_blueprint_id===(null===Me||void 0===Me||null===(n=Me.options)||void 0===n?void 0:n.component_id)})).length>0||e.module_id===(null===Me||void 0===Me||null===(n=Me.options)||void 0===n?void 0:n.module_id)})).map((function(e){var n,l,o,t,d="";return null===Me||void 0===Me||null===(n=Me.options)||void 0===n||null===(l=n.names)||void 0===l||l.map((function(n){var l,o;return d=""===d?null===(l=e.component_fields.find((function(e){return e.field_name===n})))||void 0===l?void 0:l.value:"".concat(d," ").concat(null===(o=e.component_fields.find((function(e){return e.field_name===n})))||void 0===o?void 0:o.value)})),(0,i.Z)({label:""===d?e.title:d,value:e.id,component:e},null===Me||void 0===Me||null===(o=Me.options)||void 0===o?void 0:o.output,null===(t=e.component_fields.find((function(e){var n;return e.field_name===(null===Me||void 0===Me||null===(n=Me.options)||void 0===n?void 0:n.output)})))||void 0===t?void 0:t.value)}));if(un.length>0)if(Me.value){if(an=null===un||void 0===un?void 0:un.find((function(e){var n;return e[null===Me||void 0===Me||null===(n=Me.options)||void 0===n?void 0:n.output]===Me.value}))){var rn,vn;Zl(an.value);var cn=(0,o.Z)(null!==(rn=null===(vn=U.currentStep)||void 0===vn?void 0:vn.component_blueprints)&&void 0!==rn?rn:[]);cn&&(U.newStepComponents=cn)}}else if(1==un.length&&1==(null===Me||void 0===Me?void 0:Me.mandatory)&&(an=un[0])){var pn,mn;Zl(an.value);var fn=(0,o.Z)(null!==(pn=null===(mn=U.currentStep)||void 0===mn?void 0:mn.component_blueprints)&&void 0!==pn?pn:[]);fn&&(U.newStepComponents=fn)}return Pe?a.createElement("div",{style:{width:"inherit",border:"1px solid gray",minWidth:"300px"}},a.createElement(z.Z,{key:Se,visible:null===Me||void 0===Me?void 0:Me.visible,mandatory:null===Me||void 0===Me?void 0:Me.mandatory,items:un,loading:dn,error:"",className:fe.dropdownClassContainer,onChange:function(e){var n,l,o,i,t,d;e&&(null===Me||void 0===Me||null===(t=Me.options)||void 0===t||null===(d=t.list)||void 0===d||d.map((function(n){var l,o,i=wl({field_name:n});-1!=i&&(I.selected_fields[i].value=null!==(l=null===(o=un.find((function(n){return n.value===e})).component.component_fields.find((function(e){return e.field_name===n})))||void 0===o?void 0:o.value)&&void 0!==l?l:"",I.selected_fields[i].disabled=!0)})));oe.start=!0,Zl(e),Ie?Te(null!==(n=null===un||void 0===un?void 0:un.find((function(n){return n.value===e}))[null===Me||void 0===Me||null===(l=Me.options)||void 0===l?void 0:l.output])&&void 0!==n?n:null,Se):L(null!==(o=null===un||void 0===un?void 0:un.find((function(n){return n.value===e}))[null===Me||void 0===Me||null===(i=Me.options)||void 0===i?void 0:i.output])&&void 0!==o?o:null,Se)},selectionType:(null===Me||void 0===Me||null===(Ve=Me.options)||void 0===Ve?void 0:Ve.selection.length)>0?null===Me||void 0===Me||null===(Ge=Me.options)||void 0===Ge?void 0:Ge.selection:null===Me||void 0===Me||null===(Je=Me.options)||void 0===Je?void 0:Je.type,backgroundColor:null!==Me&&void 0!==Me&&null!==(Ke=Me.options)&&void 0!==Ke&&Ke.valueC&&null!==Me&&void 0!==Me&&Me.value?null===Me||void 0===Me||null===(Qe=Me.options)||void 0===Qe?void 0:Qe.valueC:"",value:null!==($e=null===(en=an)||void 0===en?void 0:en.label)&&void 0!==$e?$e:""})):a.createElement("div",{style:{backgroundColor:null!==Me&&void 0!==Me&&null!==(ln=Me.options)&&void 0!==ln&&ln.valueC?null===Me||void 0===Me||null===(on=Me.options)||void 0===on?void 0:on.valueC:""}},null===(tn=an)||void 0===tn?void 0:tn.label)}if("People"===(null===Me||void 0===Me?void 0:Me.data_type_name)&&(null===Me||void 0===Me||null===(f=Me.options)||void 0===f||null===(_=f.position_id)||void 0===_?void 0:_.length)>0){var _n,yn,bn,xn,En,Cn,wn=Ne.find((function(e){return e.label===(null===Me||void 0===Me?void 0:Me.value)}));return a.createElement("div",{style:{display:"flex",justifyContent:"center"}},Pe&&a.createElement("div",{style:{width:"300px",border:"1px solid var(--app-color-gray-light)",height:"38px"}},a.createElement(z.Z,{onFocus:function(){var e;return 0==Ne.length&&xl(null===Me||void 0===Me||null===(e=Me.options)||void 0===e?void 0:e.position_id)},visible:!0,mandatory:null===Me||void 0===Me?void 0:Me.mandatory,className:fe.dropdownClassContainer,items:Ne.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.user)||void 0===n||null===(l=n.positions)||void 0===l?void 0:l.filter((function(e){var n,l;return null===Me||void 0===Me||null===(n=Me.options)||void 0===n||null===(l=n.position_id)||void 0===l?void 0:l.includes(null===e||void 0===e?void 0:e.id)})).length)>0})),value:"single"===(null===Me||void 0===Me||null===(_n=Me.options)||void 0===_n?void 0:_n.type)?null===(yn=Ne.find((function(e){var n,l;return e.label===(null!==Me&&void 0!==Me&&null!==(n=Me.options)&&void 0!==n&&n.mapToItem?null===Me||void 0===Me?void 0:Me.value:null===(l=I.selected_fields[Se])||void 0===l?void 0:l.value)})))||void 0===yn?void 0:yn.label:null!==Me&&void 0!==Me&&null!==(bn=Me.options)&&void 0!==bn&&bn.mapToItem?null===Me||void 0===Me?void 0:Me.value:null===(xn=I.selected_fields[Se])||void 0===xn?void 0:xn.value,loading:dn,error:null===Me||void 0===Me?void 0:Me.errors,onChange:function(e){var n;if("single"===(null===Me||void 0===Me||null===(n=Me.options)||void 0===n?void 0:n.type)){var l=Ne.find((function(n){return n.value===e}));Ie?Te(null===l||void 0===l?void 0:l.label,Se):L(null===l||void 0===l?void 0:l.label,Se)}else Ie?Te(e,Se):L(e,Se)},selectionType:null===Me||void 0===Me||null===(En=Me.options)||void 0===En?void 0:En.type,fieldIcon:null===Me||void 0===Me?void 0:Me.icon})),wn&&a.createElement("div",{className:fe.avatarContentContainer},a.createElement("img",{alt:"lg",src:null===wn||void 0===wn||null===(Cn=wn.user)||void 0===Cn?void 0:Cn.photo,className:fe.avatarUrlImg})))}return"file"===Me.data_type?a.createElement(nn,{field_id:Me.id,value:null===Me||void 0===Me?void 0:Me.value,isInherited:W,checkIfAreMandatoryErrored:B,options:null===Me||void 0===Me?void 0:Me.options,index:Se,indexInContextArray:O}):"date"===Me.data_type||null!==Me&&void 0!==Me&&null!==(y=Me.options)&&void 0!==y&&y.country_code||null!==Me&&void 0!==Me&&null!==(g=Me.options)&&void 0!==g&&g.currency_type||"Number"===Me.data_type_name?Pe||"bar"===(null===Me||void 0===Me||null===(V=Me.options)||void 0===V?void 0:V.display)?a.createElement("div",{className:fe.fieldTypeInput,style:{paddingLeft:Pe?"":"0px",border:Pe?"1px solid var(--app-color-gray-light)":"none",height:"auto"}},"date"===Me.data_type?"Range"===(null===Me||void 0===Me||null===(J=Me.options)||void 0===J?void 0:J.type)?a.createElement(h.$m,{inputContainerClassName:fe.inputContainerClassName,dateChangeHandler:function(e){return gl(e,Se)},startDate:hn,endDate:gn}):null!==Me&&void 0!==Me&&null!==(K=Me.options)&&void 0!==K&&K.time?a.createElement("div",{style:{width:"100%",height:"auto",border:"0"}},a.createElement(he(),{selected:null!==Me&&void 0!==Me&&Me.value?new Date(null===Me||void 0===Me?void 0:Me.value):new Date,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,customInput:a.createElement("div",{style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",padding:"5px 0",border:"0px solid var(--app-color-gray-lighter)"}},a.createElement("input",{value:Me.value?C()(Me.value).format("DD MMMM YYYY HH:mm"):"",className:fe.inputValue,type:"text",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",fontFamily:"var(--app-text-main-font)",fontSize:"14px",fontWeight:"bold",lineHeight:"20px",color:"#4A4A4A",textAlign:"left",maxWidth:"98%",border:"0px"},onChange:function(e){}}),a.createElement(M.G,{icon:Z.WRo,style:{margin:"0 10px",width:"14px",height:"14px"}})),className:fe.singleInputContainer,onChange:function(e){Te(e,Se)}})):a.createElement(h.X9,{value:null!==Me&&void 0!==Me&&Me.value?C()(new Date(null===Me||void 0===Me?void 0:Me.value)).format("Do MMMM YYYY"):"",dateChangeHandler:function(e){Ie?Te(e,Se):bl(e,Se)},selected:new Date(C()(sn,"YYYY-MM-DD")),iconClassName:fe.calendar,inputContainerClassName:fe.singleInputContainer,inputStyle:{textAlign:"left",border:"none",fontSize:"16px",margin:"0px 0 0px"},hasCalendarIcon:!0}):Pe&&a.createElement("input",{type:Me.data_type,onBlur:function(e){Ie?Te(e.target.value,Se):P(e.target.value,Se)},id:Me.field_name,autoComplete:"none",defaultValue:null===Me||void 0===Me?void 0:Me.value,className:fe.fieldTypeInput,name:Me.field_name,style:{height:"33px",backgroundColor:null!==Me&&void 0!==Me&&null!==(Q=Me.options)&&void 0!==Q&&Q.valueC?null===Me||void 0===Me||null===(X=Me.options)||void 0===X?void 0:X.valueC:"",minWidth:Ie?"100px":"",border:"0px"},disabled:null!==($=null===Me||void 0===Me?void 0:Me.disabled)&&void 0!==$&&$}),"bar"===(null===Me||void 0===Me||null===(ee=Me.options)||void 0===ee?void 0:ee.display)&&"Number"===(null===Me||void 0===Me?void 0:Me.data_type_name)&&a.createElement("div",{style:{height:Pe?"5px":"20px",border:"none",width:"100%",backgroundColor:null===Me||void 0===Me||null===(ne=Me.options)||void 0===ne?void 0:ne.maxC,display:"flex",flexDirection:"row"}},a.createElement("input",{value:"",className:fe.fieldTypeInput,name:Me.field_name,style:{color:"transparent",border:"0px",height:Pe?"5px":"20px",width:"".concat(+(null===Me||void 0===Me?void 0:Me.value)/+Me.options.max*100,"%"),backgroundColor:null!==Me&&void 0!==Me&&Me.value?"0"===(null===Me||void 0===Me?void 0:Me.value)?"transparent":null===Me||void 0===Me||null===(le=Me.options)||void 0===le?void 0:le.barC:"transparent"},disabled:!0}))):a.createElement("div",{style:{backgroundColor:null!==Me&&void 0!==Me&&null!==(ie=Me.options)&&void 0!==ie&&ie.valueC?null===Me||void 0===Me||null===(te=Me.options)||void 0===te?void 0:te.valueC:"",minWidth:Ie?"200px":""}},"date"===(null===Me||void 0===Me?void 0:Me.data_type)?null!==Me&&void 0!==Me&&Me.value?C()(null===Me||void 0===Me?void 0:Me.value).format(null!==Me&&void 0!==Me&&null!==(de=Me.options)&&void 0!==de&&de.time?"DD MMMM YYYY HH:mm":"DD MMMM YYYY"):"":null===Me||void 0===Me?void 0:Me.value):"Long Text"===Me.data_type_name?Pe?a.createElement("textarea",{className:fe.fieldTypeTextarea,style:{minWidth:Ie?"300px":"",border:"0px solid var(--app-color-gray-light)"},type:Me.data_type,defaultValue:null!==Me&&void 0!==Me&&null!==(ae=Me.options)&&void 0!==ae&&ae.mapToItem?null===Me||void 0===Me?void 0:Me.value:null!==(ue=I.selected_fields[Se])&&void 0!==ue&&ue.value?null===(re=I.selected_fields[Se])||void 0===re?void 0:re.value:""===Xe(null===Me||void 0===Me?void 0:Me.options)?"":Xe(null===Me||void 0===Me?void 0:Me.options),onFocus:function(){},disabled:null!==(se=null===(ce=I.selected_fields[Se])||void 0===ce?void 0:ce.disabled)&&void 0!==se&&se,autoComplete:"none",onBlur:function(e){Ie?Te(e.target.value,Se):P(e.target.value,Se)},name:Me.field_name}):a.createElement("div",{style:{backgroundColor:null!==Me&&void 0!==Me&&null!==(pe=Me.options)&&void 0!==pe&&pe.valueC?null===Me||void 0===Me||null===(me=Me.options)||void 0===me?void 0:me.valueC:"",minWidth:Ie?"300px":""}},null===Me||void 0===Me?void 0:Me.value):"Link"===Me.data_type_name?Pe?a.createElement("div",{style:{width:"inherit",display:"flex",flexDirection:"column"}},a.createElement("input",{type:Me.data_type,onBlur:function(e){Ie?Te(e.target.value,Se):P(e.target.value,Se)},autoComplete:"none",defaultValue:null!==Me&&void 0!==Me&&null!==(_e=Me.options)&&void 0!==_e&&_e.mapToItem?null===Me||void 0===Me?void 0:Me.value:null!==(ye=I.selected_fields[Se])&&void 0!==ye&&ye.value?null===(ge=I.selected_fields[Se])||void 0===ge?void 0:ge.value:""===Xe(null===Me||void 0===Me?void 0:Me.options)?"":Xe(null===Me||void 0===Me?void 0:Me.options),className:fe.fieldTypeInput,style:{border:"0px solid var(--app-color-gray-light)"},name:Me.field_name,disabled:null!==(be=null===(xe=I.selected_fields[Se])||void 0===xe?void 0:xe.disabled)&&void 0!==be&&be})):((null===Me||void 0===Me||null===(Ee=Me.value)||void 0===Ee?void 0:Ee.includes("jpg"))||(null===Me||void 0===Me||null===(Ce=Me.value)||void 0===Ce?void 0:Ce.includes("jpeg"))||(null===Me||void 0===Me||null===(we=Me.options)||void 0===we?void 0:we.image)||(null===Me||void 0===Me||null===(Ze=Me.value)||void 0===Ze?void 0:Ze.includes("png")))&&a.createElement("img",{className:fe.avatarUrlImg,alt:"lg",onError:function(e){return e.target.src="https://i.quotev.com/b2gtjqawaaaa.jpg"},src:null===Me||void 0===Me?void 0:Me.value}):Pe?a.createElement("input",{type:Me.data_type,onBlur:function(e){Ie?Te(e.target.value,Se):P(e.target.value,Se)},autoComplete:"none",defaultValue:null!==Me&&void 0!==Me&&null!==(b=Me.options)&&void 0!==b&&b.mapToItem?null===Me||void 0===Me?void 0:Me.value:null!==(x=I.selected_fields[Se])&&void 0!==x&&x.value?null===(E=I.selected_fields[Se])||void 0===E?void 0:E.value:""===Xe(null===Me||void 0===Me?void 0:Me.options)?"":Xe(null===Me||void 0===Me?void 0:Me.options),className:fe.fieldTypeInput,style:{minWidth:Ie?"300px":"",border:"0px solid var(--app-color-gray-light)",backgroundColor:null!==Me&&void 0!==Me&&null!==(w=Me.options)&&void 0!==w&&w.valueC?null===Me||void 0===Me||null===(S=Me.options)||void 0===S?void 0:S.valueC:""},name:Me.field_name,disabled:null!==(k=null===(N=I.selected_fields[Se])||void 0===N?void 0:N.disabled)&&void 0!==k&&k}):a.createElement("div",{style:{backgroundColor:null!==Me&&void 0!==Me&&null!==(T=Me.options)&&void 0!==T&&T.valueC?null===Me||void 0===Me||null===(D=Me.options)||void 0===D?void 0:D.valueC:"",minWidth:Ie?"200px":""}},null===Me||void 0===Me?void 0:Me.value)},kl=(null===I||void 0===I||null===(n=I.selected_fields)||void 0===n?void 0:n.length)>0&&(null===I||void 0===I||null===(l=I.selected_fields)||void 0===l?void 0:l.sort((function(e,n){return e.index-n.index})).map((function(e,n){var l,u,r,x,w,be,ke,Ie,De,Ye,Je,ln,tn,un,vn,pn,mn,fn,_n,yn,bn,xn,wn,Zn,kn,In,Dn,Pn,Ln,zn,Fn,Wn,Yn,Hn,Gn,Jn,Xn,$n,ll,ol,dl,al,vl,sl,ml,fl,yl,kl,Il,Nl,Tl,Dl,Pl,Al,Ol,Ll,zl,Rl,Ul,Fl,Wl,ql,Bl,Yl,Hl="";if((null===e||void 0===e||null===(l=e.options)||void 0===l||null===(u=l.fieldToMatch)||void 0===u?void 0:u.length)>0){var jl,Vl,Gl,Jl,Kl,Ql,Xl,$l,eo,no,lo,oo,io,to,ao,uo,ro,vo,so,co,po,mo,fo,_o,yo=I.selected_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.fieldToMatch)}));if(yo&&(null===e||void 0===e||null===(jl=e.options)||void 0===jl||null===(Vl=jl.valueToMatch)||void 0===Vl?void 0:Vl.length)>0&&(null===e||void 0===e||null===(Gl=e.options)||void 0===Gl||null===(Jl=Gl.actionToPerform)||void 0===Jl?void 0:Jl.length)>0&&(null===e||void 0===e||null===(Kl=e.options)||void 0===Kl||null===(Ql=Kl.initialState)||void 0===Ql?void 0:Ql.length)>0)if(null!==e&&void 0!==e&&null!==(eo=e.options)&&void 0!==eo&&null!==(no=eo.valueToMatch)&&void 0!==no&&no.split(",").includes(null===yo||void 0===yo?void 0:yo.value))"hide"===(null===e||void 0===e||null===(lo=e.options)||void 0===lo?void 0:lo.actionToPerform)?e.visible=!1:"visible"===(null===e||void 0===e||null===(oo=e.options)||void 0===oo?void 0:oo.actionToPerform)?e.visible=!0:"mandatory"===(null===e||void 0===e||null===(io=e.options)||void 0===io?void 0:io.actionToPerform)?(e.mandatory=!0,e.visible=!0):"optional"===(null===e||void 0===e||null===(to=e.options)||void 0===to?void 0:to.actionToPerform)?(e.mandatory=!1,e.visible=!0):"visman"===(null===e||void 0===e||null===(ao=e.options)||void 0===ao?void 0:ao.actionToPerform)?(e.mandatory=!0,e.visible=!0):"disable"===(null===e||void 0===e||null===(uo=e.options)||void 0===uo?void 0:uo.actionToPerform)&&(Hl="none");else"hidden"===(null===e||void 0===e||null===(ro=e.options)||void 0===ro?void 0:ro.initialState)?e.visible=!1:"visible"===(null===e||void 0===e||null===(vo=e.options)||void 0===vo?void 0:vo.initialState)?e.visible=!0:"mandatory"===(null===e||void 0===e||null===(so=e.options)||void 0===so?void 0:so.initialState)?(e.mandatory=!0,e.visible=!0):"optional"===(null===e||void 0===e||null===(co=e.options)||void 0===co?void 0:co.initialState)?(e.mandatory=!1,e.visible=!0):"visman"===(null===e||void 0===e||null===(po=e.options)||void 0===po?void 0:po.actionToPerform)?(e.mandatory=!0,e.visible=!0):"disable"===(null===e||void 0===e||null===(mo=e.options)||void 0===mo?void 0:mo.actionToPerform)&&(Hl="none");if(yo&&(null===e||void 0===e||null===(Xl=e.options)||void 0===Xl||null===($l=Xl.valueToMatch2)||void 0===$l?void 0:$l.length)>0)if(null!==e&&void 0!==e&&null!==(fo=e.options)&&void 0!==fo&&null!==(_o=fo.valueToMatch2)&&void 0!==_o&&_o.split(",").includes(null===yo||void 0===yo?void 0:yo.value)){var ho,go,bo,xo,Eo,Co,wo,Zo,Mo,So,ko,Io;if((null===e||void 0===e||null===(ho=e.options)||void 0===ho||null===(go=ho.value)||void 0===go?void 0:go.length)>0)if("Text"===(null===e||void 0===e?void 0:e.data_type_name))e.value=null===e||void 0===e||null===(Eo=e.options)||void 0===Eo?void 0:Eo.value;else if("Date"===(null===e||void 0===e?void 0:e.data_type_name)){var No,To,Do,Po,Ao,Oo;if(0==(null===e||void 0===e||null===(No=e.value)||void 0===No?void 0:No.length)||void 0==(null===e||void 0===e?void 0:e.value))"today"===(null===e||void 0===e||null===(To=e.options)||void 0===To?void 0:To.value)?e.value=new Date(C()((0,E.now)())):"tomorrow"===(null===e||void 0===e||null===(Do=e.options)||void 0===Do?void 0:Do.value)?e.value=new Date(C()((0,E.now)()).add(1,"days")):"week"===(null===e||void 0===e||null===(Po=e.options)||void 0===Po?void 0:Po.value)?e.value=new Date(C()((0,E.now)()).add(1,"weeks")):"month"===(null===e||void 0===e||null===(Ao=e.options)||void 0===Ao?void 0:Ao.value)&&(e.value=new Date(C()((0,E.now)()).add(1,"months"))),"none"===(null===e||void 0===e||null===(Oo=e.options)||void 0===Oo?void 0:Oo.value)&&(e.value=void 0)}if((null===e||void 0===e||null===(bo=e.options)||void 0===bo||null===(xo=bo.actionToPerform2)||void 0===xo?void 0:xo.length)>0)"hide"===(null===e||void 0===e||null===(Co=e.options)||void 0===Co?void 0:Co.actionToPerform2)?e.visible=!1:"visible"===(null===e||void 0===e||null===(wo=e.options)||void 0===wo?void 0:wo.actionToPerform2)?e.visible=!0:"mandatory"===(null===e||void 0===e||null===(Zo=e.options)||void 0===Zo?void 0:Zo.actionToPerform2)?(e.mandatory=!0,e.visible=!0):"optional"===(null===e||void 0===e||null===(Mo=e.options)||void 0===Mo?void 0:Mo.actionToPerform2)?(e.mandatory=!1,e.visible=!0):"visman"===(null===e||void 0===e||null===(So=e.options)||void 0===So?void 0:So.actionToPerform2)?(e.mandatory=!0,e.visible=!0):"disable"===(null===e||void 0===e||null===(ko=e.options)||void 0===ko?void 0:ko.actionToPerform2)?Hl="none":"enable"===(null===e||void 0===e||null===(Io=e.options)||void 0===Io?void 0:Io.actionToPerform2)&&(Hl="")}}if("Record"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(r=e.options)||void 0===r||null===(x=r.component_id)||void 0===x?void 0:x.length)>0){var Lo,zo,Ro,Uo,Fo,Wo,qo,Bo,Yo,Ho,jo,Vo,Go,Jo,Ko,Qo,Xo,$o,ei,ni,li,oi,ii,ti,di,ai,ui,ri,vi,si,ci,pi,mi,fi,_i,yi,hi,gi,bi,xi,Ei,Ci,wi=(null!==e&&void 0!==e&&null!==(Lo=e.options)&&void 0!==Lo&&Lo.global?Ml(null===e||void 0===e?void 0:e.data_type_name):ve).filter((function(n){var l;return n.component_fields.filter((function(n){var l;return n.component_blueprint_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.component_id)})).length>0||n.module_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.module_id)})),Zi=wi.map((function(n){var l,o,t,d,a="";return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.names)||void 0===o||o.map((function(e){var l,o;return a=""===a?null===(l=n.component_fields.find((function(n){return n.field_name===e})))||void 0===l?void 0:l.value:"".concat(a," ").concat(null===(o=n.component_fields.find((function(n){return n.field_name===e})))||void 0===o?void 0:o.value)})),(0,i.Z)({label:""===a?n.title:a,value:n.id,component:n},null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.output,null===(d=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})))||void 0===d?void 0:d.value)}));if((null===e||void 0===e||null===(zo=e.options)||void 0===zo||null===(Ro=zo.filters)||void 0===Ro?void 0:Ro.length)>0){if((null===wi||void 0===wi?void 0:wi.length)>0)if(e.value){if(Ci=wi.find((function(n){return n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)&&n.value===e.value}))}))){var Mi,Si,ki;Zl(null===(Mi=Ci)||void 0===Mi?void 0:Mi.id);var Ii=(0,o.Z)(null!==(Si=null===(ki=U.currentStep)||void 0===ki?void 0:ki.component_blueprints)&&void 0!==Si?Si:[]);Ii&&(U.newStepComponents=Ii)}}else if(1==Zi.length&&(Ci=wi[0])){var Ni,Ti,Di;Zl(null===(Ni=Ci)||void 0===Ni?void 0:Ni.id);var Pi=(0,o.Z)(null!==(Ti=null===(Di=U.currentStep)||void 0===Di?void 0:Di.component_blueprints)&&void 0!==Ti?Ti:[]);Pi&&(U.newStepComponents=Pi)}if(1==Zi.length||e.value){var Ai,Oi,Li,zi;if((null===e||void 0===e||null===(Ai=e.options)||void 0===Ai?void 0:Ai.filters.length)>0)Mn[null===e||void 0===e||null===(Li=e.options)||void 0===Li?void 0:Li.filters[0]]=K.Z(Q.Z("value"))(wi.map((function(n){var l=null===n||void 0===n?void 0:n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})).filter((function(n){var l;return(null===(l=n.component)||void 0===l?void 0:l.component_fields.filter((function(n){var l,o;return n.value===(null===(l=Ci)||void 0===l||null===(o=l.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])})))||void 0===o?void 0:o.value)})).length)>0})));if((null===e||void 0===e||null===(Oi=e.options)||void 0===Oi?void 0:Oi.filters.length)>1)Mn[null===e||void 0===e||null===(zi=e.options)||void 0===zi?void 0:zi.filters[1]]=K.Z(Q.Z("value"))(wi.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[2])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})).filter((function(n){var l;return(null===(l=n.component)||void 0===l?void 0:l.component_fields.filter((function(n){var l,o;return n.value===(null===(l=Ci)||void 0===l||null===(o=l.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])})))||void 0===o?void 0:o.value)})).length)>0})))}}else if(Zi.length>0)if(e.value){if(Ci=null===Zi||void 0===Zi?void 0:Zi.find((function(n){var l;return n[null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output]===e.value}))){var Ri,Ui;Zl(Ci.value);var Fi=(0,o.Z)(null!==(Ri=null===(Ui=U.currentStep)||void 0===Ui?void 0:Ui.component_blueprints)&&void 0!==Ri?Ri:[]);Fi&&(U.newStepComponents=Fi)}}else if(1==Zi.length&&1==(null===e||void 0===e?void 0:e.mandatory)&&(Ci=Zi[0])){var Wi,qi;Zl(Ci.value);var Bi=(0,o.Z)(null!==(Wi=null===(qi=U.currentStep)||void 0===qi?void 0:qi.component_blueprints)&&void 0!==Wi?Wi:[]);Bi&&(U.newStepComponents=Bi)}return!Ci&&null!==e&&void 0!==e&&e.value?a.createElement("div",{key:n},"A record ( ".concat(null===e||void 0===e?void 0:e.value," ) was previously selected but not found. Press the refresh button on the upper right side to retrieve the missing record. If record is still not found, please check with your admin.")):(null===e||void 0===e||null===(Uo=e.options)||void 0===Uo||null===(Fo=Uo.filters)||void 0===Fo?void 0:Fo.length)>0?a.createElement("div",{key:n,style:{width:"100%",display:null!==e&&void 0!==e&&e.visible?"":"none",pointerEvents:Hl,border:"1px dashed gray",fontSize:"16px",color:"var(--app-color-gray-dark)",padding:"20px",marginBottom:"10px",backgroundColor:"var(--app-color-gray-lightest)"}},null===me||void 0===me||null===(Wo=me.find((function(n){var l;return n.id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.component_id)})))||void 0===Wo?void 0:Wo.name,a.createElement("br",null),a.createElement("br",null),(null===e||void 0===e||null===(qo=e.options)||void 0===qo||null===(Bo=qo.filters)||void 0===Bo?void 0:Bo.length)>0&&a.createElement(z.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)"},className:fe.multiselectComponent,visible:null===e||void 0===e?void 0:e.visible,mandatory:1==(null===e||void 0===e||null===(Yo=e.options)||void 0===Yo||null===(Ho=Yo.filters)||void 0===Ho?void 0:Ho.length)&&(null===e||void 0===e?void 0:e.mandatory),items:K.Z(Q.Z("value"))(wi.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}}))),loading:dn,error:1==(null===e||void 0===e||null===(jo=e.options)||void 0===jo||null===(Vo=jo.filters)||void 0===Vo?void 0:Vo.length)?null===e||void 0===e?void 0:e.errors:"",onChange:function(l){var o,t,d,a,u;(null===e||void 0===e||null===(o=e.options)||void 0===o||null===(t=o.filters)||void 0===t?void 0:t.length)>1?(L(void 0,n),On(!1),Tn(!1),setTimeout((function(){Tn(!0),On(!0)}),10),Sn((0,i.Z)({},null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.filters[0],K.Z(Q.Z("value"))(wi.map((function(n){var o=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])}));return{label:null===o||void 0===o?void 0:o.value,value:null===o||void 0===o?void 0:o.value,component:n,selected:l}})).filter((function(n){return n.component.component_fields.filter((function(n){var o;return n.value===l&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[0])})).length>0})))))):(Bn("50px"),L(null!==(a=wi.find((function(e){return e.value===l}))[null===e||void 0===e||null===(u=e.options)||void 0===u?void 0:u.output])&&void 0!==a?a:null,n),Zl(wi.find((function(e){return e.value===l})).component.id))},fieldLabel:null===e||void 0===e||null===(Go=e.options)||void 0===Go?void 0:Go.filters[0],value:Ci?null===(Jo=Ci.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])})))||void 0===Jo?void 0:Jo.value:""}),a.createElement("div",{style:{display:null!==e&&void 0!==e&&e.visible?"":"none",marginBottom:"10px"}},(null===e||void 0===e||null===(Ko=e.options)||void 0===Ko||null===(Qo=Ko.filters)||void 0===Qo?void 0:Qo.length)>1&&Nn&&a.createElement(z.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)"},className:fe.multiselectComponent,visible:null===e||void 0===e?void 0:e.visible,mandatory:2==(null===e||void 0===e||null===(Xo=e.options)||void 0===Xo||null===($o=Xo.filters)||void 0===$o?void 0:$o.length)&&(null===e||void 0===e?void 0:e.mandatory),items:null!==(ei=Mn[null===e||void 0===e||null===(ni=e.options)||void 0===ni?void 0:ni.filters[0]])&&void 0!==ei?ei:[],loading:dn,onClicked:function(e){return Bn(e?"180px":"50px")},onChange:function(l){var o,d,a,u,r,v,s,c,p;(null===e||void 0===e||null===(o=e.options)||void 0===o||null===(d=o.filters)||void 0===d?void 0:d.length)>2?(On(!1),setTimeout((function(){return On(!0)}),10),Sn((0,t.Z)((0,t.Z)({},Mn),{},(0,i.Z)({},null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.filters[1],null!==(u=K.Z(Q.Z("value"))(wi.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[2])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})).filter((function(n){return n.component.component_fields.filter((function(n){var o;return n.value===l&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[1])})).length>0})).filter((function(n){return n.component.component_fields.filter((function(n){var l,o;return n.value===Mn[null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0]][0].component.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])})).value&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[0])})).length>0}))))&&void 0!==u?u:[])))):(Bn("50px"),oe.start=!0,L(null!==(r=null===(v=Mn[null===e||void 0===e||null===(c=e.options)||void 0===c?void 0:c.filters[0]])||void 0===v||null===(s=v.find((function(e){return e.value===l})))||void 0===s?void 0:s.component.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})).value)&&void 0!==r?r:null,n),Zl(Mn[null===e||void 0===e||null===(p=e.options)||void 0===p?void 0:p.filters[0]].find((function(e){return e.value===l})).component.id),On(!1),Tn(!1),setTimeout((function(){Tn(!0),On(!0)}),10))},fieldLabel:null===e||void 0===e||null===(li=e.options)||void 0===li?void 0:li.filters[1],value:Ci?null===(oi=Ci.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])})))||void 0===oi?void 0:oi.value:""})),a.createElement("div",{style:{display:null!==e&&void 0!==e&&e.visible?"":"none",marginBottom:"10px"}},(null===e||void 0===e||null===(ii=e.options)||void 0===ii||null===(ti=ii.filters)||void 0===ti?void 0:ti.length)>2&&An&&a.createElement(z.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)"},className:fe.multiselectComponent,visible:null===e||void 0===e?void 0:e.visible,mandatory:3==(null===e||void 0===e||null===(di=e.options)||void 0===di||null===(ai=di.filters)||void 0===ai?void 0:ai.length)&&(null===e||void 0===e?void 0:e.mandatory),items:null!==(ui=Mn[null===e||void 0===e||null===(ri=e.options)||void 0===ri?void 0:ri.filters[1]])&&void 0!==ui?ui:[],loading:dn,onClicked:function(e){return Bn(e?"180px":"50px")},onChange:function(l){var o,i,t,d,a;Bn("50px"),oe.start=!0,L(null!==(o=null===(i=Mn[null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.filters[1]])||void 0===i||null===(t=i.find((function(e){return e.value===l})))||void 0===t?void 0:t.component.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})).value)&&void 0!==o?o:null,n),Zl(Mn[null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.filters[1]].find((function(e){return e.value===l})).component.id)},fieldLabel:null===e||void 0===e||null===(vi=e.options)||void 0===vi?void 0:vi.filters[2],value:Ci?null===(si=Ci.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[2])})))||void 0===si?void 0:si.value:""}))):"Tiles"===(null===e||void 0===e||null===(ci=e.options)||void 0===ci?void 0:ci.selection)?a.createElement(ge.Z,{enabled:Hl,width:"100%",style:{border:"0"},editMode:we,showWidth:function(n){e.field_options=(0,t.Z)((0,t.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:(null===(pi=e.errors)||void 0===pi?void 0:pi.length)>0?"".concat(e.errors,". Try to select again"):"",notes:null===e||void 0===e||null===(mi=e.options)||void 0===mi?void 0:mi.notes},a.createElement("div",{style:{width:"100%"}},a.createElement(A.default,{rowStyleSelected:{border:"2px solid black"},initialSelected:Zi.map((function(n){var l;return n[null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output]})).indexOf(null===e||void 0===e?void 0:e.value),modern:!0,isReport:!1,className:fe.listContainer,"app-variant-is-mobile":"true",columns:null===e||void 0===e||null===(fi=e.options)||void 0===fi?void 0:fi.names,list:Zi.map((function(e){var n=e;return e.component.component_fields.filter((function(e){n[e.field_name]=e.value})),n})),onListItemClick:function(l){var o,i,t,d,a;l&&(null===e||void 0===e||null===(a=e.options)||void 0===a||a.list.map((function(e){var n,o,i=wl({field_name:e});-1!=i&&(I.selected_fields[i].value=null!==(n=null===(o=l.component.component_fields.find((function(n){return n.field_name===e})))||void 0===o?void 0:o.value)&&void 0!==n?n:"",I.selected_fields[i].disabled=!0)})));hl(),Zl(l),L(null!==(o=null===Zi||void 0===Zi||null===(i=Zi.find((function(e){return e.value===l.value})))||void 0===i||null===(t=i.component.component_fields)||void 0===t||null===(d=t.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})))||void 0===d?void 0:d.value)&&void 0!==o?o:null,n)}}))):a.createElement(ge.Z,{titleProps:{fontSize:"14px",color:"var(--app-color-gray-dark)",fontWeight:"normal",paddingLeft:"5px"},enabled:Hl,width:"100%",style:{marginTop:"0px",border:"0px solid var(--app-color-gray-lighter)",padding:"5px",marginBottom:"10px",backgroundColor:"var(--app-color-gray-lightest)"},editMode:we,showWidth:function(n){e.field_options=(0,t.Z)((0,t.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:me.find((function(n){var l;return n.id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.component_id)})).name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:(null===(_i=e.errors)||void 0===_i?void 0:_i.length)>0?"".concat(e.errors,". Try to select again"):"",notes:null===e||void 0===e||null===(yi=e.options)||void 0===yi?void 0:yi.notes},a.createElement("div",{style:{width:"inherit"}},a.createElement(z.Z,{key:n,visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,items:Zi,loading:dn,error:"",className:fe.dropdownClassContainer,onClicked:function(e){return Bn(e?"100px":"50px")},onChange:function(l){var o,i;oe.start=!0,Bn("50px"),Zl(l),L(null!==(o=null===Zi||void 0===Zi?void 0:Zi.find((function(e){return e.value===l}))[null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.output])&&void 0!==o?o:null,n)},selectionType:(null===e||void 0===e||null===(hi=e.options)||void 0===hi?void 0:hi.selection.length)>0?null===e||void 0===e||null===(gi=e.options)||void 0===gi?void 0:gi.selection:null===e||void 0===e||null===(bi=e.options)||void 0===bi?void 0:bi.type,value:null!==(xi=null===(Ei=Ci)||void 0===Ei?void 0:Ei.label)&&void 0!==xi?xi:""})))}if("Filters"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(w=e.options)||void 0===w||null===(be=w.component_id)||void 0===be?void 0:be.length)>0){var Yi,Hi,ji,Vi,Gi,Ji,Ki,Qi,Xi,$i,et,nt,lt,ot,it,tt,dt,at,ut,rt,vt,st,ct,pt,mt,ft,_t,yt,ht,gt,bt=(null!==e&&void 0!==e&&null!==(Yi=e.options)&&void 0!==Yi&&Yi.global?Ml(null===e||void 0===e?void 0:e.data_type_name):ve).filter((function(n){return n.component_fields.filter((function(n){var l;return n.component_blueprint_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.component_id)})).length>0})),xt=bt.map((function(n){var l,o;return(0,i.Z)({label:n.title,value:n.id,component:n},null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output,null===(o=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})))||void 0===o?void 0:o.value)}));if(bt.length>0){if(e.value){if(gt=bt.find((function(n){return n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)&&n.value===e.value}))}))){var Et,Ct,wt;Zl(null===(Et=gt)||void 0===Et?void 0:Et.id);var Zt=(0,o.Z)(null!==(Ct=null===(wt=U.currentStep)||void 0===wt?void 0:wt.component_blueprints)&&void 0!==Ct?Ct:[]);Zt&&(U.newStepComponents=Zt)}}else if(1==xt.length&&1==(null===e||void 0===e?void 0:e.mandatory)&&(gt=bt[0])){var Mt,St,kt;Zl(null===(Mt=gt)||void 0===Mt?void 0:Mt.id);var It=(0,o.Z)(null!==(St=null===(kt=U.currentStep)||void 0===kt?void 0:kt.component_blueprints)&&void 0!==St?St:[]);It&&(U.newStepComponents=It)}if(1==xt.length||e.value){var Nt,Tt,Dt,Pt;if((null===e||void 0===e||null===(Nt=e.options)||void 0===Nt?void 0:Nt.filters.length)>0)Mn[null===e||void 0===e||null===(Dt=e.options)||void 0===Dt?void 0:Dt.filters[0]]=K.Z(Q.Z("value"))(bt.map((function(n){var l=null===n||void 0===n?void 0:n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})));if((null===e||void 0===e||null===(Tt=e.options)||void 0===Tt?void 0:Tt.filters.length)>1)Mn[null===e||void 0===e||null===(Pt=e.options)||void 0===Pt?void 0:Pt.filters[1]]=K.Z(Q.Z("value"))(bt.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[2])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})))}}return!gt&&null!==e&&void 0!==e&&e.value?a.createElement("div",{key:n},"A record ( ".concat(null===e||void 0===e?void 0:e.value," ) was previously selected but not found. Press the refresh button on the upper right side to retrieve the missing record. If record is still not found, please check with your admin.")):a.createElement("div",{key:n,style:{width:"100%",display:null!==e&&void 0!==e&&e.visible?"":"none",pointerEvents:Hl,border:"1px dashed gray",fontSize:"16px",color:"var(--app-color-gray-dark)",marginBottom:"10px",padding:"20px",backgroundColor:"var(--app-color-gray-lightest)"}},me.find((function(n){var l;return n.id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.component_id)})).name,a.createElement("br",null),a.createElement("br",null),(null===e||void 0===e||null===(Hi=e.options)||void 0===Hi||null===(ji=Hi.filters)||void 0===ji?void 0:ji.length)>0&&a.createElement(z.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)"},className:fe.multiselectComponent,visible:null===e||void 0===e?void 0:e.visible,mandatory:1==(null===e||void 0===e||null===(Vi=e.options)||void 0===Vi||null===(Gi=Vi.filters)||void 0===Gi?void 0:Gi.length)&&(null===e||void 0===e?void 0:e.mandatory),items:K.Z(Q.Z("value"))(bt.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}}))),loading:dn,error:1==(null===e||void 0===e||null===(Ji=e.options)||void 0===Ji||null===(Ki=Ji.filters)||void 0===Ki?void 0:Ki.length)?null===e||void 0===e?void 0:e.errors:"",onChange:function(l){var o,t,d,a,u;(null===e||void 0===e||null===(o=e.options)||void 0===o||null===(t=o.filters)||void 0===t?void 0:t.length)>1?(L(void 0,n),On(!1),Tn(!1),setTimeout((function(){Tn(!0),On(!0)}),10),Sn((0,i.Z)({},null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.filters[0],K.Z(Q.Z("value"))(bt.map((function(n){var o=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])}));return{label:null===o||void 0===o?void 0:o.value,value:null===o||void 0===o?void 0:o.value,component:n,selected:l}})).filter((function(n){return n.component.component_fields.filter((function(n){var o;return n.value===l&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[0])})).length>0})))))):(Bn("50px"),L(null!==(a=bt.find((function(e){return e.value===l}))[null===e||void 0===e||null===(u=e.options)||void 0===u?void 0:u.output])&&void 0!==a?a:null,n),Zl(bt.find((function(e){return e.value===l})).component.id))},fieldLabel:null===e||void 0===e||null===(Qi=e.options)||void 0===Qi?void 0:Qi.filters[0],value:gt?null===(Xi=gt.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])})))||void 0===Xi?void 0:Xi.value:""}),a.createElement("div",{style:{display:null!==e&&void 0!==e&&e.visible?"":"none",marginBottom:"10px"}},(null===e||void 0===e||null===($i=e.options)||void 0===$i||null===(et=$i.filters)||void 0===et?void 0:et.length)>1&&Nn&&a.createElement(z.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)"},className:fe.multiselectComponent,visible:null===e||void 0===e?void 0:e.visible,mandatory:2==(null===e||void 0===e||null===(nt=e.options)||void 0===nt||null===(lt=nt.filters)||void 0===lt?void 0:lt.length)&&(null===e||void 0===e?void 0:e.mandatory),items:null!==(ot=Mn[null===e||void 0===e||null===(it=e.options)||void 0===it?void 0:it.filters[0]])&&void 0!==ot?ot:[],loading:dn,error:2==(null===e||void 0===e||null===(tt=e.options)||void 0===tt||null===(dt=tt.filters)||void 0===dt?void 0:dt.length)?null===e||void 0===e?void 0:e.errors:"",onClicked:function(e){return Bn(e?"180px":"50px")},onChange:function(l){var o,d,a,u,r,v,s,c,p;(null===e||void 0===e||null===(o=e.options)||void 0===o||null===(d=o.filters)||void 0===d?void 0:d.length)>2?(On(!1),setTimeout((function(){return On(!0)}),10),Sn((0,t.Z)((0,t.Z)({},Mn),{},(0,i.Z)({},null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.filters[1],null!==(u=K.Z(Q.Z("value"))(bt.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[2])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})).filter((function(n){return n.component.component_fields.filter((function(n){var o;return n.value===l&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[1])})).length>0})).filter((function(n){return n.component.component_fields.filter((function(n){var l,o;return n.value===Mn[null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0]][0].component.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])})).value&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[0])})).length>0}))))&&void 0!==u?u:[])))):(hl(),Bn("50px"),oe.start=!0,L(null!==(r=null===(v=Mn[null===e||void 0===e||null===(c=e.options)||void 0===c?void 0:c.filters[0]])||void 0===v||null===(s=v.find((function(e){return e.value===l})))||void 0===s?void 0:s.component.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})).value)&&void 0!==r?r:null,n),Zl(Mn[null===e||void 0===e||null===(p=e.options)||void 0===p?void 0:p.filters[0]].find((function(e){return e.value===l})).component.id))},fieldLabel:null===e||void 0===e||null===(at=e.options)||void 0===at?void 0:at.filters[1],value:gt?null===(ut=gt.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])})))||void 0===ut?void 0:ut.value:""})),a.createElement("div",{style:{display:null!==e&&void 0!==e&&e.visible?"":"none",marginBottom:"10px"}},(null===e||void 0===e||null===(rt=e.options)||void 0===rt||null===(vt=rt.filters)||void 0===vt?void 0:vt.length)>2&&An&&a.createElement(z.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)"},className:fe.multiselectComponent,visible:null===e||void 0===e?void 0:e.visible,mandatory:3==(null===e||void 0===e||null===(st=e.options)||void 0===st||null===(ct=st.filters)||void 0===ct?void 0:ct.length)&&(null===e||void 0===e?void 0:e.mandatory),items:null!==(pt=Mn[null===e||void 0===e||null===(mt=e.options)||void 0===mt?void 0:mt.filters[1]])&&void 0!==pt?pt:[],loading:dn,error:3==(null===e||void 0===e||null===(ft=e.options)||void 0===ft||null===(_t=ft.filters)||void 0===_t?void 0:_t.length)?null===e||void 0===e?void 0:e.errors:"",onClicked:function(e){return Bn(e?"180px":"50px")},onChange:function(l){var o,i,t,d,a;Bn("50px"),oe.start=!0,L(null!==(o=null===(i=Mn[null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.filters[1]])||void 0===i||null===(t=i.find((function(e){return e.value===l})))||void 0===t?void 0:t.component.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})).value)&&void 0!==o?o:null,n),Zl(Mn[null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.filters[1]].find((function(e){return e.value===l})).component.id)},fieldLabel:null===e||void 0===e||null===(yt=e.options)||void 0===yt?void 0:yt.filters[2],value:gt?null===(ht=gt.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[2])})))||void 0===ht?void 0:ht.value:""})))}if("Global"===(null===e||void 0===e?void 0:e.data_type_name)||"Connector"===(null===e||void 0===e?void 0:e.data_type_name)||"Emails"===(null===e||void 0===e?void 0:e.data_type_name)||"Template"===(null===e||void 0===e?void 0:e.data_type_name));else if("Action Button"!==(null===e||void 0===e?void 0:e.data_type_name)){var At,Ot,Lt,zt,Rt,Ut,Ft,Wt,qt,Bt,Yt,Ht,jt,Vt,Gt,Jt;if("GoogleAI Assistant"===(null===e||void 0===e?void 0:e.data_type_name))return a.createElement("div",{key:n,style:{display:e.visible?"":"none",color:"var(--app-color-gray-dark)",height:"inherit",width:"100%",flexDirection:"column",marginTop:"50px"}},a.createElement(ge.Z,{enabled:Hl,width:null!==(At=null===e||void 0===e||null===(Ot=e.field_options)||void 0===Ot?void 0:Ot.width)&&void 0!==At?At:"100%",editMode:we,showWidth:function(n){e.field_options=(0,t.Z)((0,t.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:"".concat(null===e||void 0===e||null===(Lt=e.options)||void 0===Lt?void 0:Lt.description),fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(zt=e.options)||void 0===zt?void 0:zt.notes},a.createElement("textarea",{className:fe.fullLengthTextarea,type:e.data_type,onFocus:function(){},disabled:e.options.fixed,autoComplete:"none",onChange:function(e){P(e.target.value,n)},placeholder:"Enter your question here",value:1==e.options.fixed?null===e||void 0===e||null===(Rt=e.options)||void 0===Rt?void 0:Rt.analyze:e.value})),a.createElement("div",{style:{display:"flex"}},a.createElement(h.zx,{light:!0,loading:dn,title:"Ask",clicked:function(){0==e.options.fixed&&(e.options.analyze=e.value),Cl(e.options)}},a.createElement("img",{src:"https://ai.google/static/images/share.png",height:"90px",width:"140px"})),(null===Kn||void 0===Kn?void 0:Kn.candidates.length)>0&&a.createElement(h.zx,{title:"Clear",clicked:function(){Qn({candidates:[]}),P(void 0,n)}})));if("Chart"===e.data_type_name)return a.createElement(ge.Z,{width:"100%",key:n,fieldLabel:e.field_name,fieldIcon:e.icon,editMode:we,notes:null===e||void 0===e||null===(Ut=e.options)||void 0===Ut?void 0:Ut.notes,isProcess:!0,visible:e.visible,error:e.errors,customIconBgColor:"white"},a.createElement("div",{className:"grid grid-cols-12 gap-4 md:gap-6 2xl:gap-7.5",style:{width:"inherit"}},"Line"===(null===e||void 0===e||null===(Ft=e.options)||void 0===Ft?void 0:Ft.orientation)&&a.createElement(Fe.Z,{series:[{name:"Product One",data:[23,11,22,27,13,22,37,21,44,22,30,45]},{name:"Product Two",data:[30,25,36,30,45,35,64,52,59,36,39,51]}]}),"Column"===(null===e||void 0===e||null===(Wt=e.options)||void 0===Wt?void 0:Wt.orientation)&&a.createElement(We.Z,{series:[{name:"Sales",data:[44,55,41,67,22,43,65]},{name:"Revenue",data:[13,23,20,8,13,27,15]}]}),"Donut"===(null===e||void 0===e||null===(qt=e.options)||void 0===qt?void 0:qt.orientation)&&a.createElement(qe.Z,{series:[65,34,12,56],labels:["Desktop","Tablet","Mobile","AI"]})));if("Info"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(ke=e.options)||void 0===ke||null===(Ie=ke.list)||void 0===Ie?void 0:Ie.length)>0&&(null===e||void 0===e||null===(De=e.options)||void 0===De||null===(Ye=De.component_id)||void 0===Ye?void 0:Ye.length)>0){var Kt,Qt,Xt,$t,ed,nd,ld,od,id,td=ve.find((function(n){return n.id===(null===e||void 0===e?void 0:e.value)})),dd={};if(td)null===e||void 0===e||null===(id=e.options)||void 0===id||id.list.map((function(e,n){var l,o,i,t;if(0==td.component_fields.length)return a.createElement("div",{key:n});var d,u=td.component_fields.find((function(n){return n.field_name===e}));"Link"===(null===u||void 0===u?void 0:u.data_type_name)&&(null!==(l="".concat(null===u||void 0===u?void 0:u.value))&&void 0!==l&&l.includes("jpg")||null!==u&&void 0!==u&&null!==(o=u.options)&&void 0!==o&&o.image||null!==(i="".concat(null===u||void 0===u?void 0:u.value))&&void 0!==i&&i.includes("jpeg")||null!==(t="".concat(null===u||void 0===u?void 0:u.value))&&void 0!==t&&t.includes("png"))?dd[e]=a.createElement("div",{key:n,onClick:function(){return window.open(null===u||void 0===u?void 0:u.value,"_blank")}},a.createElement("img",{alt:"lg",src:null===u||void 0===u?void 0:u.value,style:{width:"30px",height:"30px",cursor:"pointer"}})):dd[e]=null!==(d=null===u||void 0===u?void 0:u.value)&&void 0!==d?d:""}));return td&&("rows"===(null===e||void 0===e||null===(Kt=e.options)||void 0===Kt?void 0:Kt.orientation)?a.createElement(ge.Z,{style:{border:"0"},width:"100%",key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:!0,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(Qt=e.options)||void 0===Qt?void 0:Qt.notes},a.createElement(R.Z,{className:fe.mobileTable_ii,style:{width:"100%"},tableHostSimple:fe.tableHostSimple,columns:null!==(Xt=null===e||void 0===e||null===($t=e.options)||void 0===$t?void 0:$t.list)&&void 0!==Xt?Xt:[],list:[dd]})):a.createElement("div",{style:{width:"inherit"},key:n},td&&a.createElement(h.zx,{light:!0,title:"Show Information",style:{width:"100%",backgroundColor:"var(--app-color-blue)",color:"white"},clicked:function(){return hl()}}),hl&&a.createElement(on,{title:"Information:",nav:_l,openNav:hl},a.createElement("div",{style:{color:"var(--app-color-gray-dark)",height:"inherit",width:"100%",display:null!==e&&void 0!==e&&e.visible?"":"none"}},Object.keys(dd).length>0&&(null===e||void 0===e||null===(ed=e.options)||void 0===ed?void 0:ed.list.map((function(n,l){var o,i,t,d,u,r,v;if(0==td.component_fields.length)return a.createElement("div",{key:l});var s=td.component_fields.find((function(e){return e.field_name===n}));return l<3?a.createElement("div",{key:l},a.createElement("div",{className:fe.actionsContainer,style:{fontSize:(n.length>10||s.value.length,"12px")}},a.createElement("div",null,n,":"),a.createElement("div",{style:{fontWeight:"bold"}},s?s.value:"")),a.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}})):a.createElement("div",{style:{border:"0"},key:l,fieldLabel:n,fieldIcon:e.icon,isProcess:!0,visible:!0,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.notes},"Link"===(null===s||void 0===s?void 0:s.data_type_name)&&(null!==(i="".concat(null===s||void 0===s?void 0:s.value))&&void 0!==i&&i.includes("jpg")||null!==(t="".concat(null===s||void 0===s?void 0:s.value))&&void 0!==t&&t.includes("jpeg")||null!==s&&void 0!==s&&null!==(d=s.options)&&void 0!==d&&d.image||null!==(u="".concat(null===s||void 0===s?void 0:s.value))&&void 0!==u&&u.includes("png"))?a.createElement("div",{onClick:function(){return window.open(null===s||void 0===s?void 0:s.value,"_blank")}},a.createElement("img",{alt:"lg",src:null===s||void 0===s?void 0:s.value,style:{width:"50%",height:"100%",cursor:"pointer"}})):null!==e&&void 0!==e&&null!==(r=e.value)&&void 0!==r&&r.includes("pdf")?a.createElement("div",{style:{width:"inherit"},onClick:function(){return window.open(null===s||void 0===s?void 0:s.value,"_blank")}},a.createElement("embed",{src:"".concat(null===s||void 0===s?void 0:s.value,"#toolbar=0&navpanes=0&scrollbar=0&zoom=100%"),width:"100%",height:"1000px"})):(null===s||void 0===s||null===(v=s.value)||void 0===v?void 0:v.length)<50||void 0===s?a.createElement("input",{onBlur:function(n){return $e(e.data_type_name,n.target.value,O,l,U)},type:e.data_type,value:s?s.value:"",autoComplete:"none",className:fe.fieldTypeInput,name:e.field_name,disabled:!0,style:{border:"1px dashed rgba(234, 231, 231, 0.91)",height:"40px",fontSize:"18px",backgroundColor:"rgba(234, 231, 231, 0.91)"}}):a.createElement("textarea",{className:fe.fieldTypeTextarea,type:e.data_type,value:s?s.value:"",onFocus:function(){},autoComplete:"none",onChange:function(e){},disabled:!0,style:{backgroundColor:"rgba(234, 231, 231, 0.91)",height:"auto",fontSize:"18px"}}))}))),!0===(null===I||void 0===I||null===(nd=I.options)||void 0===nd?void 0:nd.allowMultipleInputs)&&(null===(ld=se.processModule.module.options)||void 0===ld||null===(od=ld.computes)||void 0===od?void 0:od.map((function(n,l){var o,i,t=null===ve||void 0===ve||null===(o=ve.filter((function(e){return e.module_id===n.module_id})))||void 0===o?void 0:o.find((function(n){return n.component_fields.filter((function(n){var l,o;return n.value===(null!==(l=null===(o=td.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.key)})))||void 0===o?void 0:o.value)&&void 0!==l?l:"#$")})).length>0})),d=null===t||void 0===t?void 0:t.component_fields.find((function(e){return e.procedure_step_blueprint_field_id===n.field_id}));return a.createElement(ge.Z,{style:{display:d?"":"none",border:"0"},key:l,fieldLabel:null===d||void 0===d?void 0:d.field_name,fieldIcon:e.icon,isProcess:!0,visible:!0,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.notes},a.createElement("input",{onBlur:function(n){return $e(e.data_type_name,n.target.value,O,l,U)},type:e.data_type,value:null===d||void 0===d?void 0:d.value,autoComplete:"none",className:fe.fieldTypeInput,name:e.field_name,disabled:!0,style:{border:"1px dashed rgba(234, 231, 231, 0.91)",height:"40px",fontSize:"18px",backgroundColor:"rgba(234, 231, 231, 0.91)"}}))}))),a.createElement("br",null),a.createElement(h.zx,{clicked:function(){return hl()},title:"Close",style:{width:"100%",backgroundColor:"orange"}})))))}if("Details"===(null===e||void 0===e?void 0:e.data_type_name)){var ad,ud,rd,vd,sd,cd,pd,md=null===(ad=U.components.find((function(n){return n.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.key)&&n.value}))})))||void 0===ad||null===(ud=ad.selected_fields)||void 0===ud?void 0:ud.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.key)})),fd=ve.find((function(n){var l;return n.module_id===(null===(l=e.options)||void 0===l?void 0:l.module_id)&&n.component_fields.find((function(n){var l;return n.value===(null===md||void 0===md?void 0:md.value)&&n.field_name===(null===(l=e.options)||void 0===l?void 0:l.key)}))}));if(!fd){var _d,yd,hd=null===(_d=U.components.find((function(n){return n.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.key)&&n.value}))})))||void 0===_d||null===(yd=_d.selected_fields)||void 0===yd?void 0:yd.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.key)}));hd&&(fd=ve.find((function(n){var l;return n.module_id===(null===(l=e.options)||void 0===l?void 0:l.module_id)&&n.component_fields.find((function(n){var l;return n.value===(null===hd||void 0===hd?void 0:hd.value)&&n.field_name===(null===(l=e.options)||void 0===l?void 0:l.key)}))})))}return a.createElement("div",{style:{width:"100%"}},fd?a.createElement(R.Z,{modern:!(!b.tq&&null!==e&&void 0!==e&&null!==(rd=e.options)&&void 0!==rd&&rd.table),tableHostSimple:fe.itemsContainer_ii,style:{width:"100%"},layeredColumns:null===e||void 0===e||null===(vd=e.options)||void 0===vd||null===(sd=vd.fields)||void 0===sd?void 0:sd.map((function(e){return{label:e}})),list:[(null!==(cd=null===(pd=fd)||void 0===pd?void 0:pd.component_fields)&&void 0!==cd?cd:[]).reduce((function(e,n){return(0,t.Z)((0,t.Z)({},e),{},(0,i.Z)({},n.field_name,n.value))}),{})]}):"No information found")}if("Module"===(null===e||void 0===e?void 0:e.data_type_name)&&null!==(Je=e.options)&&void 0!==Je&&Je.module_id){var gd,bd,xd,Ed,Cd,wd,Zd,Md=Ee.find((function(n){return n.id===e.options.module_id}));return a.createElement(a.Fragment,null,a.createElement("div",{style:{width:"inherit"}},a.createElement("div",{className:fe.iconsContainer,style:{display:"flex",alignContent:"space-between",justifyContent:"space-between",width:"100%"}},!(null!==(gd=(null===N||void 0===N?void 0:N.status)===(null===(bd=se.processModule)||void 0===bd||null===(xd=bd.module)||void 0===xd||null===(Ed=xd.options)||void 0===Ed?void 0:Ed.lock))&&void 0!==gd?gd:null===oe||void 0===oe||null===(Cd=oe.misc_info)||void 0===Cd?void 0:Cd.lock)&&a.createElement(h.zx,{light:!0,title:null===e||void 0===e?void 0:e.field_name,message:"Preparing ".concat(Md.name," entry..."),loading:dn,clicked:function(){an(!0),(0,s.zJ)(Md.procedure.id).pipe((0,_.P)()).subscribe({next:function(n){var l;if(null!==e&&void 0!==e&&null!==(l=e.options)&&void 0!==l&&l.cmp){var o,i,d,a,u=null===n||void 0===n||null===(o=n.steps)||void 0===o?void 0:o.find((function(e){return e.component_blueprints.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.allowMultipleInputs)&&(null===(l=e.selected_fields)||void 0===l?void 0:l.find((function(e){return"Transaction List"===e.data_type_name})))})).length>0})),r=null===u||void 0===u||null===(i=u.component_blueprints)||void 0===i?void 0:i.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){return"Transaction List"===e.data_type_name&&!0===e.visible})).length)>0})),s={};if(null===r||void 0===r||null===(d=r.selected_fields)||void 0===d||d.filter((function(e){var n;return null===(n=e.options)||void 0===n?void 0:n.mapToItem})).forEach((function(e){var n,l=te.Z(ie.Z("field_name",e.field_name),j.Z(H.Z("selected_fields",U.components.concat(U.newStepComponents))));l&&(null===l||void 0===l?void 0:l.data_type_name)===e.data_type_name&&(s[null===(n=e.options)||void 0===n?void 0:n.mapToItem]=l.value)})),Object.values(s).length>0)(0,c.r6)(null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.cmp).pipe((0,_.P)()).subscribe({next:function(l){var o,i;(0,c.np)((0,t.Z)((0,t.Z)({},s),{},{index:null===(o=l.component_items)||void 0===o?void 0:o.length,id:(0,p.mR)()}),null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.cmp).pipe((0,_.P)()).subscribe({next:function(o){an(!1),m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},n),{},{completeSteps:n.steps,steps:n.steps,stepIndex:0,module_id:e.options.module_id,module:Ee.find((function(n){return n.id===e.options.module_id})),selectedComponent:l}))),F({action:g._U.setModuleItems,value:[]}),F({action:g._U.setModuleNewStepComponents,value:[]}),F({action:g._U.setComponents,value:[]})},error:function(){},complete:function(){}})},error:function(){}});else an(!1)}else an(!1),U.components=[],e.options.fields.filter((function(e){var l,o,i=null===(l=te.Z(ie.Z("field_name",e),j.Z(H.Z("selected_fields",U.components))))||void 0===l?void 0:l.value;null===(o=n.steps)||void 0===o||o.forEach((function(n){var l;null===n||void 0===n||null===(l=n.component_blueprints)||void 0===l||l.filter((function(e){var n;return!(null!==(n=e.options)&&void 0!==n&&n.asModuleList)})).forEach((function(n){var l=n.selected_fields.find((function(n){return n.field_name===e}));l&&(l.value=i)})),n.component_blueprints.find((function(n){return n.selected_fields.filter((function(n){return n.field_name===e})).length>0}))&&F({action:g._U.addModuleComponents,value:n.component_blueprints.filter((function(n){return n.selected_fields.filter((function(n){return n.field_name===e})).length>0}))})}))})),m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},n),{},{completeSteps:n.steps,steps:n.steps,stepIndex:1,module_id:e.options.module_id,isUpdating:!0,module:Ee.find((function(n){return n.id===e.options.module_id}))}))),F({action:g._U.setCurrentStep,value:n.steps[1]}),F({action:g._U.setModuleItems,value:[]}),F({action:g._U.setModuleNewStepComponents,value:[]})}})}}),(null===e||void 0===e||null===(wd=e.options)||void 0===wd?void 0:wd.showL)&&a.createElement(h.zx,{light:!0,clicked:function(){an(!0),(0,y.vC)(Md,p.Qc,p.R6,1).pipe((0,f.q)(1)).subscribe({next:function(e){var n;Md.lastUpdate=(0,E.now)(),Md.count=null!==(n=null===e||void 0===e?void 0:e.total)&&void 0!==n?n:0,an(!1)},complete:function(){},error:function(){return an(!1)}})},icon:a.createElement("img",{src:T.Fd}),loading:dn,message:"Fetching ".concat(Md.name,"...")})),(null===e||void 0===e||null===(Zd=e.options)||void 0===Zd?void 0:Zd.showL)&&a.createElement(A.default,{modern:!!b.tq,className:fe.itemsContainer,columns:["Transaction","Date Created","Status"],list:X.Z([$.Z(ee.Z("created_date"))])(ve.filter((function(e){return e.module_id===Md.id}))).filter((function(n){var l,o,i,t=null===(l=te.Z(ie.Z("field_name",null!==(o=null===(i=e.options)||void 0===i?void 0:i.key)&&void 0!==o?o:""),j.Z(H.Z("selected_fields",U.components))))||void 0===l?void 0:l.value;return n.component_fields.find((function(n){var l;return n.value===t&&n.field_name===(null===(l=e.options)||void 0===l?void 0:l.key)}))})).map((function(e){var n;return n={Transaction:e.title},(0,i.Z)(n,"Date Created","".concat(C()(new Date(e.created_date)).format("DD MMM YYYY h:mm a"))),(0,i.Z)(n,"Status",e.status),n})),onCellClick:function(n){var l;if(null!==e&&void 0!==e&&null!==(l=e.options)&&void 0!==l&&l.viewable){var o=ve.find((function(e){return e.id===n.data.id})),i=en.find((function(e){return e.id===Md.procedure.id&&e.steps.length>0}));i?(0,c.DA)(i,o,void 0,F,Ee,"New"===o.status||"None"===o.status||"Reopen"===o.status||Ae.id===i.user_id?1:0):(0,s.zJ)(Md.procedure.id).pipe((0,_.P)()).subscribe({next:function(e){(0,c.DA)(e,ve.find((function(e){return e.id===n.data.id})),void 0,F,Ee,"New"===o.status||"None"===o.status||"Reopen"===o.status||Ae.id===i.user_id?1:0)}})}}})))}if("Lookup"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(ln=e.options)||void 0===ln||null===(tn=ln.list)||void 0===tn?void 0:tn.length)>0&&(null===e||void 0===e||null===(un=e.options)||void 0===un||null===(vn=un.source_id)||void 0===vn?void 0:vn.length)>0&&null!==e&&void 0!==e&&null!==(pn=e.options)&&void 0!==pn&&null!==(mn=pn.target_id)&&void 0!==mn&&mn.length){var Sd,kd,Id,Nd,Td,Dd,Pd,Ad,Od,Ld,zd,Rd,Ud,Fd,Wd,qd,Bd,Yd,Hd=function(e,n){var l,o,i,t,d,a,u,r=null===(l=se.processModule.module)||void 0===l||null===(o=l.options)||void 0===o?void 0:o.global;return r||(r=null===(i=U.components.find((function(n){return n.selected_fields.filter((function(n){return 1==n.visible&&n.field_name===e})).length>0})))||void 0===i||null===(t=i.selected_fields.find((function(n){return n.field_name===e})))||void 0===t?void 0:t.value),r||(r=null===(d=Y.Z(H.Z("component_blueprints"),j.Z)(se.processModule.completeSteps).find((function(n){return n.selected_fields.filter((function(n){return n.field_name===e&&"Value"===n.data_type_name})).length>0})))||void 0===d||null===(a=d.selected_fields.find((function(n){return n.field_name===e})))||void 0===a||null===(u=a.options)||void 0===u?void 0:u.value),r?n.filter((function(n){return n[e]===r})):n}(null===e||void 0===e||null===(Sd=e.options)||void 0===Sd?void 0:Sd.global,function(e,n,l,i,d){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ve,r=u.filter((function(e){var n;return(null===(n=e.component_fields)||void 0===n?void 0:n.filter((function(e){return e.component_blueprint_id===l})).length)>0})),v=[];return u.filter((function(n){return n.component_fields.filter((function(n){return n.component_blueprint_id===e})).length>0})).map((function(e){var l={};i.map((function(n){var o;l[n]=null===(o=e.component_fields.find((function(e){return e.field_name===n})))||void 0===o?void 0:o.value}));var u=e.component_fields.find((function(e){return e.field_name===n}));void 0!==u&&r.filter((function(e){return e.component_fields.filter((function(e){return e.value===u.value&&e.field_name===n})).length>0})).map((function(n){var i,u,r,s=null!==(i=null===(u=n.component_fields.find((function(e){return-1!==a.indexOf(e.field_name)})))||void 0===u?void 0:u.value)&&void 0!==i?i:"",c={};a.length>0&&a.map((function(e){var l=n.component_fields.find((function(n){return n.field_name===e}));l&&(c[e]=l.value)}));var p={};d.length>0&&d.map((function(l){var o=n.component_fields.find((function(e){return e.field_name===l}));if(o)p[l]=o.value;else{var i=e.component_fields.find((function(e){return e.field_name===l}));i&&(p[l]=i.value)}})),v=[].concat((0,o.Z)(v),[(0,t.Z)((0,t.Z)((0,t.Z)({label:s,value:n.id,field:n,grouping:(null===(r=Object.values(l))||void 0===r?void 0:r.length)>0?Object.values(l)[0]:"Fields"},l),p),c)])}))})),v}(null===e||void 0===e||null===(kd=e.options)||void 0===kd?void 0:kd.source_id,null===e||void 0===e||null===(Id=e.options)||void 0===Id?void 0:Id.common_field,null===e||void 0===e||null===(Nd=e.options)||void 0===Nd?void 0:Nd.target_id,null===e||void 0===e||null===(Td=e.options)||void 0===Td?void 0:Td.sourceLabel,null===e||void 0===e||null===(Dd=e.options)||void 0===Dd?void 0:Dd.list,null!==(Pd=null===e||void 0===e||null===(Ad=e.options)||void 0===Ad?void 0:Ad.rlist)&&void 0!==Pd?Pd:[]));return a.createElement(ge.Z,{enabled:Hl,width:"100%",style:{border:"Tiles"===(null===e||void 0===e||null===(Od=e.options)||void 0===Od?void 0:Od.selection)?"0":"1px dashed gray"},titleProps:{fontSize:"14px",color:"var(--app-color-gray-dark)",fontWeight:"normal",paddingLeft:"5px"},editMode:we,showWidth:function(n){e.field_options=(0,t.Z)((0,t.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(Ld=e.options)||void 0===Ld?void 0:Ld.notes},a.createElement("div",{id:e.field_name,style:{width:"100%"}},"Dropdown"===(null===e||void 0===e||null===(zd=e.options)||void 0===zd?void 0:zd.selection)?a.createElement(q.yV,{items:Hd,groupedBy:"grouping",groupname:"grouping",triggerType:"chevron",title:En,className:fe.dropdownClassContainer,inputClassName:fe.peoplePositionsSelectInput,molclassname:fe.peoplePositionsSelectMenuOverlay,moliclassname:fe.peoplePositionsSelectMenuOverlayItem,notags:"true",onChange:function(l){var o;l.length>0&&(null===e||void 0===e||null===(o=e.options)||void 0===o||o.list.map((function(n){var o=wl({field_name:n});if(-1!=o){var i=ve.find((function(e){return e.id===l[0].value})),t=i.component_fields.find((function(e){return e.field_name===n}));if(void 0==t){var d=i.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.common_field)})),a=ve.find((function(n){return n.component_fields.filter((function(n){var l;return n.value===d.value&&n.component_blueprint_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.source_id)})).length>0}));if(void 0!=a){var u=a.component_fields.find((function(e){return e.field_name===n}));void 0!=u?(I.selected_fields[o].value=u.value,I.selected_fields[o].disabled=!0):I.selected_fields[o].value=""}else I.selected_fields[o].value=""}else I.selected_fields[o].value=t.value,I.selected_fields[o].disabled=!0}})),L("".concat(l[0].label,",").concat(l[0].value),n),Cn("".concat(l[0].grouping)))}}):"Tiles"===(null===e||void 0===e||null===(Rd=e.options)||void 0===Rd?void 0:Rd.selection)?a.createElement(q.qq,{items:Hd,columns:null===e||void 0===e||null===(Ud=e.options)||void 0===Ud?void 0:Ud.rlist,columnsG:null===e||void 0===e||null===(Fd=e.options)||void 0===Fd?void 0:Fd.sourceLabel,initialSelected:null===e||void 0===e?void 0:e.value,selectedItems:null!==e&&void 0!==e&&null!==(Wd=e.options)&&void 0!==Wd&&Wd.showAll?Hd:Mn,showAll:1==(null===e||void 0===e||null===(qd=e.options)||void 0===qd?void 0:qd.showAll),groupedBy:"grouping",groupname:"grouping",className:fe.peoplePositionsSelect,onGroupChange:function(e){Sn(Hd.filter((function(n){return n.grouping===e})))},onChange:function(l){var o;l&&(null===e||void 0===e||null===(o=e.options)||void 0===o||o.list.map((function(n){var o=wl({field_name:n});if(-1!=o){var i=ve.find((function(e){return e.id===l.value})),t=i.component_fields.find((function(e){return e.field_name===n}));if(void 0==t){var d=i.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.common_field)})),a=ve.find((function(n){return n.component_fields.filter((function(n){var l;return n.value===d.value&&n.component_blueprint_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.source_id)})).length>0}));if(void 0!=a){var u=a.component_fields.find((function(e){return e.field_name===n}));void 0!=u?(I.selected_fields[o].value=u.value,I.selected_fields[o].disabled=!0):I.selected_fields[o].value=""}else I.selected_fields[o].value=""}else I.selected_fields[o].value=t.value,I.selected_fields[o].disabled=!0}})),hl(),L("".concat(l.label,",").concat(l.value),n))}}):a.createElement("div",{className:fe.openSelectWithSearchHost},a.createElement(Oe.Z,{title:null===e||void 0===e||null===(Bd=e.options)||void 0===Bd?void 0:Bd.sourceLabel,triggerType:"eyeglass",className:fe.openSelectWithSearch,molclassname:fe.menuOverlayList,moliclassname:fe.menuOverlayListItem,inputClassName:fe.menuOverlayListItemInput,inputContainerClassName:fe.menuOverlayListItemInputContainerClassName,items:K.Z(Q.Z("grouping"))(Hd).map((function(e){return{label:e.grouping,value:e.grouping}})),onChange:function(n){document.getElementById(e.field_name).style.height="80px",Sn(Hd.filter((function(e){return e.grouping===n.value})))}}),a.createElement(Oe.Z,{title:null===e||void 0===e||null===(Yd=e.options)||void 0===Yd?void 0:Yd.referenceLabel,triggerType:"eyeglass",className:fe.openSelectWithSearch,molclassname:fe.menuOverlayList,moliclassname:fe.menuOverlayListItem,inputClassName:fe.menuOverlayListItemInput,inputContainerClassName:fe.menuOverlayListItemInputContainerClassName,items:Mn,onChange:function(l){var o;(document.getElementById(e.field_name).style.height="80px",l)&&(null===e||void 0===e||null===(o=e.options)||void 0===o||o.list.map((function(n){var o=wl({field_name:n});if(-1!=o){var i=ve.find((function(e){return e.id===l.value})),t=i.component_fields.find((function(e){return e.field_name===n}));if(void 0==t){var d=i.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.common_field)})),a=ve.find((function(n){return n.component_fields.filter((function(n){var l;return n.value===d.value&&n.component_blueprint_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.source_id)})).length>0}));if(void 0!=a){var u=a.component_fields.find((function(e){return e.field_name===n}));void 0!=u?(I.selected_fields[o].value=u.value,I.selected_fields[o].disabled=!0):I.selected_fields[o].value=""}else I.selected_fields[o].value=""}else I.selected_fields[o].value=t.value,I.selected_fields[o].disabled=!0}})),L("".concat(l.label,",").concat(l.value),n))}}))))}if(("Step List"===(null===e||void 0===e?void 0:e.data_type_name)||"Component List"===(null===e||void 0===e?void 0:e.data_type_name))&&(null===e||void 0===e||null===(fn=e.options)||void 0===fn||null===(_n=fn.list)||void 0===_n?void 0:_n.length)>0&&(null===e||void 0===e||null===(yn=e.options)||void 0===yn||null===(bn=yn.component_id)||void 0===bn?void 0:bn.length)>0)return a.createElement("div",{key:n,style:{width:"100%",display:1==e.visible?"":"none"}},a.createElement(A.default,{columns:null===e||void 0===e||null===(Bt=e.options)||void 0===Bt?void 0:Bt.list,list:(Yl=null===e||void 0===e?void 0:e.options,U.components.filter((function(e){return e.id===Yl.component_id})).map((function(e){return null===Yl||void 0===Yl?void 0:Yl.list.reduce((function(n,l){var o;return(0,t.Z)((0,t.Z)({},n),{},(o={},(0,i.Z)(o,l,e.selected_fields.find((function(e){return e.field_name===l})).value),(0,i.Z)(o,"temp_id",e.temp_id),o))}),{})}))),onListItemClick:function(e){F({action:g._U.removeModuleComponents,value:e.temp_id})}}));if("Checkbox"===(null===e||void 0===e?void 0:e.data_type_name))return a.createElement(ge.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},enabled:Hl,border:{border:"0",paddingTop:"40px"},notes:null===e||void 0===e||null===(Yt=e.options)||void 0===Yt?void 0:Yt.notes,editMode:we,width:"100%",showWidth:function(n){e.field_options=(0,t.Z)((0,t.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,visible:e.visible,mandatory:e.mandatory,error:e.errors,customIconBgColor:"white"},a.createElement(Le.X,{defaultChecked:null!==(Ht=e.value)&&void 0!==Ht&&Ht,checkboxLabel:null===e||void 0===e||null===(jt=e.options)||void 0===jt?void 0:jt.value,onChange:function(e){L(e.target.checked,n)}}));if("YesNo"===(null===e||void 0===e?void 0:e.data_type_name))return a.createElement(ge.Z,{enabled:Hl,style:{border:"0.5px dashed gray",padding:"10px"},width:"100%",editMode:we,key:n,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},a.createElement("div",{class:"checkbox-wrapper-21"},a.createElement("div",{style:{display:"flex",justifyContent:"space-between",margin:"20px 0px"}},a.createElement("input",{id:"check-23",type:"checkbox",checked:null!==(Vt=null===e||void 0===e?void 0:e.value)&&void 0!==Vt&&Vt,onChange:function(e){return L(e.target.checked,n)},style:{marginRight:"20px"}}),a.createElement("label",null,null!==(Gt=null===e||void 0===e||null===(Jt=e.options)||void 0===Jt?void 0:Jt.notes)&&void 0!==Gt?Gt:e.field_name))));if("Transaction List"===(null===e||void 0===e?void 0:e.data_type_name)&&null!==e&&void 0!==e&&null!==(xn=e.options)&&void 0!==xn&&xn.simple){var jd,Vd,Gd,Jd,Kd,Qd=X.Z([le.Z(ee.Z("index"))])(null!==(jd=null!==e&&void 0!==e&&null!==(Vd=e.options)&&void 0!==Vd&&Vd.type?U.items.filter((function(n){var l;return n.type===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.type)})):U.items)&&void 0!==jd?jd:[]);return a.createElement(ge.Z,{fieldLabel:null===e||void 0===e?void 0:e.field_name,enabled:Hl,width:"100%",editMode:we,showWidth:function(n){e.options=(0,t.Z)((0,t.Z)({},e.options),{},{width:"".concat(n,"px")})},style:{border:"0",padding:"0",marginTop:"50px"},key:n,visible:e.visible,notes:null===e||void 0===e||null===(Gd=e.options)||void 0===Gd?void 0:Gd.notes,error:(null===(Jd=e.errors)||void 0===Jd?void 0:Jd.length)>0?"".concat(e.errors):""},a.createElement("div",{style:{width:"inherit"}},a.createElement(A.default,{modern:!1,className:fe.itemsContainer,columns:null===I||void 0===I||null===(Kd=I.selected_fields)||void 0===Kd?void 0:Kd.filter((function(e){var n;return null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem})).map((function(e){return e.field_name})).concat(["Actions"]),list:null===Qd||void 0===Qd?void 0:Qd.map((function(e,n){var l,i;e.index=n;var d={index:n,Actions:a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",minWidth:"80px"}},!(null!==e&&void 0!==e&&e.edit)&&a.createElement(M.G,{icon:Z.IwR,onClick:function(){e.edit=!0,F({action:g._U.setModuleItems,value:[].concat((0,o.Z)(Qd.filter((function(n){return n.id!==e.id}))),[e])})}}),(null===e||void 0===e?void 0:e.edit)&&a.createElement(M.G,{icon:Z.EsX,onClick:function(){e.edit=!1,F({action:g._U.setModuleItems,value:[].concat((0,o.Z)(Qd.filter((function(n){return n.id!==e.id}))),[e])})}}),(null===e||void 0===e?void 0:e.edit)&&a.createElement(M.G,{icon:Z.$aW,onClick:function(){F({action:g._U.setModuleItems,value:Qd.filter((function(n){return n.id!==e.id}))})}}))};return(null!==(l=null===I||void 0===I||null===(i=I.selected_fields)||void 0===i?void 0:i.filter((function(e){var n;return null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem})))&&void 0!==l?l:[]).forEach((function(l){var i,u,r,v=(0,p.sO)(e[l.options.mapToItem])?JSON.parse(null!==(i=e[l.options.mapToItem])&&void 0!==i?i:"{}"):{};d[l.field_name]=a.createElement("div",{style:{padding:null!==e&&void 0!==e&&e.edit?"5px":""}},a.createElement(Sl,{item:e,index:n,enabled:!0,edit:null!==(u=null===e||void 0===e?void 0:e.edit)&&void 0!==u&&u,isItem:!0,field:(0,t.Z)((0,t.Z)({},l),{},{visible:!0,value:null!==(r=v[l.field_name])&&void 0!==r?r:""}),withLabel:!1,handleItem:function(n,i){v[l.field_name]=n,e[l.options.mapToItem]=JSON.stringify(v),F({action:g._U.setModuleItems,value:[].concat((0,o.Z)(U.items.filter((function(n){return n.id!==e.id}))),[e])})}}))})),d}))})))}if("Transaction List"!==(null===e||void 0===e?void 0:e.data_type_name)||null===e||void 0===e||null===(wn=e.options)||void 0===wn||!wn.map||null!==e&&void 0!==e&&null!==(Zn=e.options)&&void 0!==Zn&&Zn.simple){var Xd,$d,ea,na,la,oa,ia,ta,da,aa,ua,ra,va,sa,ca,pa,ma,fa,_a,ya,ha,ga,ba,xa,Ea,Ca,wa,Za,Ma,Sa,ka,Ia,Na,Ta,Da,Pa,Aa,Oa,La,za,Ra,Ua,Fa,Wa,qa,Ba,Ya;if("Clock"===(null===e||void 0===e?void 0:e.data_type_name))return a.createElement(ge.Z,{enabled:Hl,width:"100%",editMode:we,style:{},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(Xd=e.options)||void 0===Xd?void 0:Xd.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},a.createElement("div",{className:fe.centerDiv,style:{width:"100%",height:"auto",border:"1px dashed var(--app-color-gray-light)",padding:"50px",flexDirection:"column"}},a.createElement("p",{className:fe.timer},"".concat(Se.format("DD MMMM YYYY HH:mm:ss"))),a.createElement("div",{className:fe.centerDiv,style:{display:"flex",flexDirection:"row"}},a.createElement("input",{readOnly:!0,autoComplete:"off",value:null!==e&&void 0!==e&&e.value?C()(new Date(null===e||void 0===e?void 0:e.value)).format("MMM DD hh:mm:ss"):"",className:fe.currencyInput,style:{border:"1px solid black",maxWidth:"300px",marginRight:"10px"}}),a.createElement(h.zx,{light:!0,title:"Set",clicked:function(){P((0,E.now)(),n)}}))));if("ID"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(kn=e.options)||void 0===kn||null===(In=kn.id)||void 0===In?void 0:In.length)>0){var Ha,ja,Va=void 0===e.value||null===e.value?"".concat(null===e||void 0===e?void 0:e.options.id).concat(null===(null===oe||void 0===oe?void 0:oe.misc_info)?1:null!==(Ha=null===oe||void 0===oe?void 0:oe.misc_info[null===e||void 0===e?void 0:e.field_name])&&void 0!==Ha?Ha:1):e.value;return e.value=Va,U.id=Va,a.createElement(ge.Z,{titleProps:{fontSize:"14px",color:"var(--app-color-gray-dark)",fontWeight:"normal",paddingLeft:"5px"},width:"100%",style:{marginTop:"0px",border:"0px solid var(--app-color-gray-lighter)",padding:"5px",marginBottom:"10px",backgroundColor:"var(--app-color-gray-lightest)"},editMode:we,showWidth:function(n){e.field_options=(0,t.Z)((0,t.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,fieldIcon:e.icon,notes:null===e||void 0===e||null===(ja=e.options)||void 0===ja?void 0:ja.notes,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,customIconBgColor:"white"},a.createElement("div",{className:fe.fieldTypeInput,style:{border:"0",margin:"20px 0 0 0"}},e.value))}if("Notes"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Dn=e.options)||void 0===Dn||null===(Pn=Dn.value)||void 0===Pn?void 0:Pn.length)>0)return a.createElement(ge.Z,{titleProps:{fontSize:"14px",color:"var(--app-color-gray-dark)",fontWeight:"normal",paddingLeft:"5px"},enabled:Hl,width:"100%",editMode:we,showWidth:function(n){e.field_options=(0,t.Z)((0,t.Z)({},e.field_options),{},{width:"".concat(n,"px")})},style:{border:"0"},key:n,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:!1,error:e.errors},a.createElement("p",{key:n,className:fe.labelInput,style:{display:e.visible?"":"none"}},"".concat(null===e||void 0===e||null===($d=e.options)||void 0===$d?void 0:$d.value)));if("List Filter"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Ln=e.options)||void 0===Ln||null===(zn=Ln.value)||void 0===zn?void 0:zn.length)>0)return a.createElement(a.Fragment,null);if("Ratings"===(null===e||void 0===e?void 0:e.data_type_name))return a.createElement(a.Fragment,null);if("Value"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Fn=e.options)||void 0===Fn||null===(Wn=Fn.module_id)||void 0===Wn?void 0:Wn.length)>0&&(null===e||void 0===e||null===(Yn=e.options)||void 0===Yn||null===(Hn=Yn.component_id)||void 0===Hn?void 0:Hn.length)>0)return a.createElement(ge.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},width:"100%",style:{border:"0"},key:n,fieldLabel:e.field_name,fieldIcon:e.icon,editMode:we,showWidth:function(n){e.field_options=(0,t.Z)((0,t.Z)({},e.field_options),{},{width:"".concat(n,"px")})},notes:null===e||void 0===e||null===(ea=e.options)||void 0===ea?void 0:ea.notes,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,customIconBgColor:"white"},a.createElement("input",{value:null===e||void 0===e||null===(na=e.options)||void 0===na?void 0:na.value,className:fe.fieldTypeInput,name:e.field_name,disabled:!0}));if("URL"===e.data_type_name)return a.createElement(ge.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},border:{border:"0"},width:"100%",editMode:we,showWidth:function(n){e.field_options=(0,t.Z)((0,t.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,notes:null===e||void 0===e||null===(la=e.options)||void 0===la?void 0:la.notes,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,customIconBgColor:"white"},null!==e&&void 0!==e&&null!==(oa=e.options.value)&&void 0!==oa&&oa.includes("jpg")||null!==e&&void 0!==e&&null!==(ia=e.options.value)&&void 0!==ia&&ia.includes("jpeg")||null!==e&&void 0!==e&&null!==(ta=e.options)&&void 0!==ta&&ta.image||null!==e&&void 0!==e&&null!==(da=e.options.value)&&void 0!==da&&da.includes("png")?a.createElement("div",{onClick:function(){return window.open(null===e||void 0===e?void 0:e.options.value,"_blank")}},a.createElement("img",{alt:"lg",src:null===e||void 0===e?void 0:e.options.value,style:{width:"100%",height:"100%",cursor:"pointer"}})):null!==e&&void 0!==e&&null!==(aa=e.options.value)&&void 0!==aa&&aa.includes("pdf")?a.createElement("div",{style:{width:"inherit"},onClick:function(){return window.open(null===e||void 0===e?void 0:e.options.value,"_blank")}},a.createElement("embed",{src:"".concat(null===e||void 0===e?void 0:e.options.value,"#toolbar=0&navpanes=0&scrollbar=0&zoom=100%"),width:"100%",height:"1000px"})):a.createElement("div",{style:{width:"inherit"},onClick:function(){return window.open(null===e||void 0===e?void 0:e.options.value,"_blank")}},a.createElement("textarea",{disabled:!0,onChange:function(){},autoComplete:"none",value:null===(null===e||void 0===e?void 0:e.options.value)?"":null===e||void 0===e?void 0:e.options.value,className:fe.fieldTypeInput,style:{height:"auto",width:"inherit",cursor:"pointer"},name:e.field_name})));if("Formula"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Gn=e.options)||void 0===Gn||null===(Jn=Gn.operator)||void 0===Jn?void 0:Jn.length)>0){var Ga,Ja,Ka,Qa,Xa,$a=U.newStepComponents.filter((function(e){return null===e.options||(void 0===e.allowMultipleInputs||!1===e.options.allowMultipleInputs)})),eu=(0,p.LV)(null===e||void 0===e?void 0:e.options,I.selected_fields.filter((function(n){return e.options.list.includes(n.field_name)})),[].concat((0,o.Z)(U.components.filter((function(e){return $a.every((function(n){return n.id!==e.id}))}))),(0,o.Z)(G.Z((function(e){return e.selected_fields.filter((function(e){return""===e.value})).length>0}),$a))),null!==(Ga=null===U||void 0===U?void 0:U.items)&&void 0!==Ga?Ga:[],null!==(Ja=null===U||void 0===U?void 0:U.newStepComponents)&&void 0!==Ja?Ja:[]);return void 0!==eu&&0!==eu&&(e.value=eu),"bar"===(null===e||void 0===e||null===(Ka=e.options)||void 0===Ka?void 0:Ka.display)?a.createElement("div",{style:{margin:"20px",display:"flex",height:"30px",width:"100%"}},a.createElement("label",{className:fe.fieldTypeInput,style:{width:"20%"}},null===e||void 0===e?void 0:e.field_name),a.createElement("div",{style:{height:"30px",width:"100%",backgroundColor:null===e||void 0===e||null===(Qa=e.options)||void 0===Qa?void 0:Qa.maxC,display:"flex",flexDirection:"column"}},a.createElement("input",{value:eu||0,className:fe.fieldTypeInput,name:e.field_name,disabled:!0,style:{color:"transparent",height:"30px",width:"".concat(+eu/+e.options.max*100,"%"),backgroundColor:null===e||void 0===e||null===(Xa=e.options)||void 0===Xa?void 0:Xa.barC}})),a.createElement("label",{className:fe.fieldTypeInput,style:{width:"2%"}},"".concat(+eu/+e.options.max*100,"%"))):a.createElement(ge.Z,{titleProps:{fontSize:"14px",color:"var(--app-color-gray-dark)",fontWeight:"normal",paddingLeft:"5px"},width:"100%",style:{border:"0px dashed var(--app-color-gray-light)",padding:"5px",backgroundColor:"var(--app-color-gray-lightest)"},editMode:we,showWidth:function(n){e.field_options=(0,t.Z)((0,t.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,customIconBgColor:"white"},a.createElement("div",{style:{flexDirection:"column",width:"inherit"},key:n},a.createElement("input",{value:eu||0,className:fe.fieldTypeInput,name:e.field_name,readOnly:!0,style:{border:"0"}}),_l&&eu>0&&a.createElement(on,{title:"",nav:_l,openNav:hl},a.createElement("div",{style:{color:"var(--app-color-gray-dark)",height:"inherit",width:"100%",display:null!==e&&void 0!==e&&e.visible?"":"none"}},a.createElement("div",{key:n},a.createElement("div",{className:fe.actionsContainer,style:{fontSize:"20px"}},a.createElement("div",null,e.field_name,":"),a.createElement("div",{style:{fontWeight:"bolder"}},eu)),a.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}})),a.createElement("br",null),a.createElement(h.zx,{clicked:function(){return hl()},title:"Continue",style:{width:"100%"}})))))}if("Dropdown"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Xn=e.options)||void 0===Xn||null===($n=Xn.list)||void 0===$n?void 0:$n.length)>0)return a.createElement(ge.Z,{titleProps:{fontSize:"14px",color:"var(--app-color-gray-dark)",fontWeight:"normal",paddingLeft:"5px"},enabled:Hl,width:"100%",style:{marginTop:"0px",border:"0px solid var(--app-color-gray-lighter)",padding:"5px",marginBottom:"10px",backgroundColor:"var(--app-color-gray-lightest)"},editMode:we,showWidth:function(n){e.field_options=(0,t.Z)((0,t.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(ua=e.options)||void 0===ua?void 0:ua.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},a.createElement("div",{style:{width:"100%"}},a.createElement(z.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},key:n,visible:e.visible,mandatory:e.mandatory,items:null===e||void 0===e||null===(ra=e.options)||void 0===ra?void 0:ra.list.map((function(e){return{label:e,value:e}})),className:fe.dropdownClassContainer,error:e.errors,onClicked:function(e){return Bn(e?"180px":"50px")},onChange:function(e){Bn("50px"),L(e,n)},selectionType:null===e||void 0===e||null===(va=e.options)||void 0===va?void 0:va.type,fieldIcon:e.icon,value:void 0===e.value||null===e.value?"":e.value})));if("Payments"===(null===e||void 0===e?void 0:e.data_type_name))return a.createElement(ge.Z,{titleProps:{fontSize:"14px",color:"var(--app-color-gray-dark)",fontWeight:"normal",paddingLeft:"5px"},enabled:Hl,width:"100%",style:{backgroundColor:"var(--app-color-gray-lightest)"},editMode:we,showWidth:function(n){e.field_options=(0,t.Z)((0,t.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(sa=e.options)||void 0===sa?void 0:sa.notes,fieldIcon:e.icon,isProcess:!0,visible:!0,mandatory:e.mandatory,error:jn[n]},a.createElement("div",{style:{width:"100%",pointerEvents:!0===(null===se||void 0===se||null===(ca=se.processModule)||void 0===ca?void 0:ca.isUpdating)?"none":""}},null!==N&&void 0!==N&&null!==(pa=N.payments)&&void 0!==pa&&pa.stripe_id?a.createElement("div",{style:{padding:"10px 5px 10px 5px",width:"100%",border:"0px solid var(--app-color-gray-lighter)"}},"".concat(null===e||void 0===e?void 0:e.value,", ").concat(null===N||void 0===N||null===(ba=N.payments)||void 0===ba?void 0:ba.stripe_id.slice(0,6))):a.createElement(z.Z,{key:n,visible:e.visible,mandatory:e.mandatory,items:!0===(null===(ma=se.processModule)||void 0===ma||null===(fa=ma.module)||void 0===fa||null===(_a=fa.options)||void 0===_a?void 0:_a.credits)?[].concat((0,o.Z)(null!==(ya=null===e||void 0===e||null===(ha=e.options)||void 0===ha?void 0:ha.list.map((function(e){return{label:e,value:e}})))&&void 0!==ya?ya:[]),[{label:"Wallet",value:"Wallet"}]):null===e||void 0===e||null===(ga=e.options)||void 0===ga?void 0:ga.list.map((function(e){return{label:e,value:e}})),className:fe.dropdownClassContainer,error:e.errors,onClicked:function(e){return Bn(e?"180px":"50px")},onChange:function(l){if(l){var o,i,t,d,a,u,r,v,s,c,p,m,f,_,y,h,g,b,x=null===(o=U.newStepComponents.find((function(n){return n.selected_fields.filter((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)})).length>0})))||void 0===o||null===(i=o.selected_fields)||void 0===i?void 0:i.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)})),E=null===(t=U.components.find((function(n){return n.selected_fields.filter((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)})).length>0})))||void 0===t||null===(d=t.selected_fields)||void 0===d?void 0:d.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)})),C=null===(a=U.currentStep)||void 0===a||null===(u=a.component_blueprints)||void 0===u||null===(r=u.find((function(n){var l;return null===n||void 0===n||null===(l=n.selected_fields)||void 0===l?void 0:l.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)}))})))||void 0===r||null===(v=r.selected_fields)||void 0===v?void 0:v.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)}));if(jn[n]="",+(null!==(s=null===x||void 0===x?void 0:x.value)&&void 0!==s?s:0)>0)U.total=x.value,U.plan=x.value;else if(+(null!==(c=null===E||void 0===E?void 0:E.value)&&void 0!==c?c:0)>0)U.total=E.value,U.plan=E.value;else{if(!(+(null!==(p=null===C||void 0===C?void 0:C.value)&&void 0!==p?p:0)>0))return jn[n]="Please enter a payment amount in the designated field",Vn([]),void setTimeout((function(){return Vn(jn)}));U.total=C.value,U.plan=C.value}if(1==(null===(m=se.processModule)||void 0===m||null===(f=m.module)||void 0===f||null===(_=f.options)||void 0===_?void 0:_.credits)&&"Wallet"===l){if(+(null!==(b=He.wallet)&&void 0!==b?b:0)<+U.total)return jn[n]="Insufficient wallet balance",Vn([]),void setTimeout((function(){return Vn(jn)}))}else if(1==(null===(y=se.processModule)||void 0===y||null===(h=y.module)||void 0===h||null===(g=h.options)||void 0===g?void 0:g.credits)&&"Points"===l){var w,Z;if(+(null!==(w=null===(Z=He.options)||void 0===Z?void 0:Z.points)&&void 0!==w?w:0)<+U.total)return jn[n]="Insufficient points balance",Vn([]),void setTimeout((function(){return Vn(jn)}))}jn[n]="",Vn([]),setTimeout((function(){return Vn(jn)})),Bn("50px"),L(l,n)}},selectionType:"Dropdown",fieldIcon:e.icon,value:void 0===e.value||null===e.value?"":e.value,placeholder:""})));if("Positions"===(null===e||void 0===e?void 0:e.data_type_name)&&"multiple"===(null===e||void 0===e||null===(ll=e.options)||void 0===ll?void 0:ll.type))return a.createElement(ge.Z,{enabled:Hl,style:{height:"".concat((null===e||void 0===e||null===(xa=e.value)||void 0===xa?void 0:xa.split(",").length)>2?"160":"45","px"),marginBottom:"50px"},width:"100%",editMode:we,key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(Ea=e.options)||void 0===Ea?void 0:Ea.notes},a.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-dark)"}},a.createElement(z.Z,{onOpen:function(e){Bn("50px"===qn?"180px":"50px")},visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:fe.dropdownClassContainer,items:xe.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.value)})),value:e.value,loading:dn,error:null===e||void 0===e?void 0:e.errors,onChange:function(e){L(e,n)},selectionType:"multiple",fieldIcon:null===e||void 0===e?void 0:e.icon,placeholder:""})));if("Positions"===(null===e||void 0===e?void 0:e.data_type_name)&&null!==e&&void 0!==e&&null!==(ol=e.options)&&void 0!==ol&&ol.calendar){var nu,lu,ou,iu,tu,du,au,uu,ru,vu,su,cu,pu,mu,fu,_u,yu=JSON.parse(null!==(nu=null===e||void 0===e?void 0:e.value)&&void 0!==nu?nu:JSON.stringify({user:0})),hu=Qe.find((function(e){return e.id===(null===yu||void 0===yu?void 0:yu.task)})),gu=null===Qe||void 0===Qe?void 0:Qe.filter((function(e){var n,l,o,i;return(null===e||void 0===e||null===(n=e.add_info)||void 0===n?void 0:n.module_id)===(null===(l=se.processModule)||void 0===l?void 0:l.module_id)&&e.creator.id===(null===yu||void 0===yu?void 0:yu.user)&&!(null!==e&&void 0!==e&&null!==(o=e.assignee)&&void 0!==o&&o.id)&&C()((0,E.now)()).diff(C()(null===e||void 0===e||null===(i=e.add_info)||void 0===i?void 0:i.start),"seconds")<0}));return a.createElement(ge.Z,{enabled:Hl,style:{marginBottom:"50px"},width:"100%",editMode:we,key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(lu=e.options)||void 0===lu?void 0:lu.notes},a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},a.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-light)"}},a.createElement(z.Z,{onFocus:function(){return 0==xe.length&&El()},visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:"multiple"===(null===e||void 0===e||null===(ou=e.options)||void 0===ou?void 0:ou.type)?fe.dropdownHeightClassContainer:fe.dropdownClassContainer,value:null===(iu=xe.find((function(e){return e.value===(null===yu||void 0===yu?void 0:yu.pos)})))||void 0===iu?void 0:iu.label,loading:dn,items:xe.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.value)})),error:null===e||void 0===e?void 0:e.errors,onChange:function(e){e.length>0&&(yu.pos=void 0,yu.user=void 0,L(JSON.stringify(yu),n),(0,Ce.n0)([e]).pipe((0,f.q)(1)).subscribe({next:function(l){Te(l),setTimeout((function(){yu.pos=e,L(JSON.stringify(yu),n)}),0)}}))},selectionType:null===e||void 0===e||null===(tu=e.options)||void 0===tu?void 0:tu.type,fieldIcon:null===e||void 0===e?void 0:e.icon})),a.createElement("div",{style:{width:"100%"}},0==(null===Ne||void 0===Ne?void 0:Ne.length)&&a.createElement("p",null,"No ".concat(e.field_name," found")),!hu&&a.createElement(A.default,{initialSelected:null!==e&&void 0!==e&&e.value?Ne.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.user)||void 0===n||null===(l=n.positions)||void 0===l?void 0:l.filter((function(e){return(null===yu||void 0===yu?void 0:yu.pos)===(null===e||void 0===e?void 0:e.id)})).length)>0})).map((function(e){return e.value})).indexOf(null===yu||void 0===yu?void 0:yu.user):void 0,card:!0,isReport:!1,"app-variant-is-mobile":"true",columns:["Name","Info","About"].concat((0,o.Z)(null!==(du=null===oe||void 0===oe||null===(au=oe.misc_info)||void 0===au?void 0:au.profile)&&void 0!==du?du:["Rate"]),["Location","Photo","Ratings"]),list:Ne.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.user)||void 0===n||null===(l=n.positions)||void 0===l?void 0:l.filter((function(e){return(null===yu||void 0===yu?void 0:yu.pos)===(null===e||void 0===e?void 0:e.id)})).length)>0})).map((function(e){var n,l,o,i,d,u,r,v,s,c,p,m=null===e||void 0===e||null===(n=e.user)||void 0===n||null===(l=n.ratings)||void 0===l?void 0:l.map((function(e){return+e.ratings}));return(0,t.Z)((0,t.Z)({},null!==(o=null===(i=e.user)||void 0===i||null===(d=i.options)||void 0===d?void 0:d.add_info)&&void 0!==o?o:{}),{},{Name:"".concat(e.user.first_name," ").concat(e.user.last_name),Location:a.createElement("div",{style:{marginTop:"10px"}},null===(u=e.user)||void 0===u?void 0:u.city),About:null!==(r=null===(v=e.user.options)||void 0===v?void 0:v.info)&&void 0!==r?r:null===(s=e.user)||void 0===s?void 0:s.positions.map((function(e){return e.name})).toString().replace(",",", "),id:e.user.id,Photo:null!=(null===(c=e.user)||void 0===c?void 0:c.photo)?null===(p=e.user)||void 0===p?void 0:p.photo:null===oe||void 0===oe?void 0:oe.logo,Ratings:(null===m||void 0===m?void 0:m.length)>0&&a.createElement("div",{className:fe.simpleNames},Array(Math.round(de.Z(ae.Z,[ue.Z,re.Z])(m))).fill(0).map((function(e,n){return a.createElement(M.G,{key:n,icon:Z.Tab,style:{color:"var(--app-color-blue)"}})})),Array(5-Math.round(de.Z(ae.Z,[ue.Z,re.Z])(m))).fill(0).map((function(e,n){return a.createElement(M.G,{key:n,icon:Z.Tab,style:{color:"lightgray"}})})))})})),onListItemClick:function(e){if(e){var l=Ne.find((function(n){return n.value===e.id}));yu.user=null===l||void 0===l?void 0:l.value,L(JSON.stringify(yu),n),(0,Ue.Mk)(null===l||void 0===l?void 0:l.value,!0).pipe((0,f.q)(1)).subscribe({})}}},(null===gu||void 0===gu?void 0:gu.length)>0&&a.createElement("p",null,"Schedules"),(null===gu||void 0===gu?void 0:gu.length)>0&&a.createElement(pe.tq,{slidesPerView:3,centeredSlides:!0,spaceBetween:5,initialSlide:1,pagination:{clickable:!0,dynamicBullets:!0},modules:[ce.pt,ce.tl],className:"mySwiper",style:{border:"0.8px dashed gray",padding:"5px",height:"200px",display:(null===gu||void 0===gu?void 0:gu.length)>0?"":"none"}},null===gu||void 0===gu?void 0:gu.map((function(e,n){return a.createElement(pe.o5,{key:n+100,className:fe.swiperslide},a.createElement("div",{className:fe.dashboardCard,onClick:function(){nl(!0),tl(e)}},a.createElement("div",{style:{fontSize:"10px"}},C()(new Date(e.add_info.start)).format("h:mm a")),e.add_info.end!==e.add_info.start&&a.createElement("div",{style:{fontSize:"10px"}},C()(new Date(e.add_info.end)).format("h:mm a")),a.createElement("hr",{style:{border:"0.8px dashed gray"}}),a.createElement("p",{style:{fontSize:"12px",fontWeight:"bold"}},C()(new Date(e.add_info.start)).format("MMM")),a.createElement("div",{style:{fontSize:"20px",fontWeight:"bold"}},C()(new Date(e.add_info.start)).format("DD"))))})))),hu&&a.createElement(A.default,{modern:!0,isReport:!1,"app-variant-is-mobile":"true",columns:["Responsible",null!==(uu=null===e||void 0===e||null===(ru=e.options)||void 0===ru?void 0:ru.header)&&void 0!==uu?uu:"Name",null!==(vu=null===e||void 0===e||null===(su=e.options)||void 0===su?void 0:su.start)&&void 0!==vu?vu:"Date","Photo"],list:[hu].map((function(n){var l,o,t,d,a,u,r;return r={},(0,i.Z)(r,null!==(l=null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.header)&&void 0!==l?l:"Name",n.name),(0,i.Z)(r,null!==(t=null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.start)&&void 0!==t?t:"Date",C()(new Date(null===(a=n.add_info)||void 0===a?void 0:a.start)).format("MMM DD h:mm a")),(0,i.Z)(r,"Responsible","".concat(n.creator.first_name," ").concat(n.creator.last_name)),(0,i.Z)(r,"Photo",null===(u=n.creator)||void 0===u?void 0:u.photo),r})),onListItemClick:function(e){e&&(nl(!0),tl(hu))}}),el&&a.createElement(rn,{save:!1,modalVisible:el,heading:null!==(cu=null===e||void 0===e||null===(pu=e.options)||void 0===pu?void 0:pu.header)&&void 0!==cu?cu:il?"Update Calendar":"Create New Calendar",labels:null===e||void 0===e?void 0:e.options,task:il,isProcess:!0,blured:!1,onClose:function(){return nl(!1)},isEdit:!!il,statuses:null===e||void 0===e||null===(mu=e.options)||void 0===mu?void 0:mu.list,priority:null===e||void 0===e||null===(fu=e.options)||void 0===fu?void 0:fu.priority,span:null===e||void 0===e||null===(_u=e.options)||void 0===_u?void 0:_u.span,start_date:sn,onUpdate:function(l){if(l.creator.id!==(null===Ae||void 0===Ae?void 0:Ae.id)&&(null===l||void 0===l?void 0:l.assignee_id)===(null===Ae||void 0===Ae?void 0:Ae.id)){var o;if(U.assigned_to=l.creator.id,yu.task=null===l||void 0===l?void 0:l.id,null!==l&&void 0!==l&&null!==(o=l.add_info)&&void 0!==o&&o.value){var i,t,d,a,u,r,v,s,c;yu.value=null===l||void 0===l||null===(i=l.add_info)||void 0===i?void 0:i.value;var p,m=null===(t=U.components.find((function(n){return n.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))})))||void 0===t?void 0:t.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}));if(m)m.value=null===l||void 0===l||null===(p=l.add_info)||void 0===p?void 0:p.value;var f,_=null===(d=U.newStepComponents.find((function(n){return n.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))})))||void 0===d?void 0:d.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}));if(_)_.value=null===l||void 0===l||null===(f=l.add_info)||void 0===f?void 0:f.value;var y,h=null===(a=se.processModule)||void 0===a||null===(u=a.steps)||void 0===u||null===(r=u.find((function(n){var l;return null===(l=n.component_blueprints)||void 0===l?void 0:l.find((function(n){var l;return null===n||void 0===n||null===(l=n.selected_fields)||void 0===l?void 0:l.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))}))})))||void 0===r||null===(v=r.component_blueprints)||void 0===v||null===(s=v.find((function(n){var l;return null===n||void 0===n||null===(l=n.selected_fields)||void 0===l?void 0:l.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))})))||void 0===s||null===(c=s.selected_fields)||void 0===c?void 0:c.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}));if(h)h.value=null===l||void 0===l||null===(y=l.add_info)||void 0===y?void 0:y.value}L(JSON.stringify(yu),n)}}}))))}if("Positions"===(null===e||void 0===e?void 0:e.data_type_name))return a.createElement(ge.Z,{enabled:Hl,titleProps:{fontSize:"14px",color:"var(--app-color-gray-dark)",fontWeight:"normal",paddingLeft:"5px"},style:{marginTop:"0px",border:"0px solid var(--app-color-gray-lighter)",padding:"5px",marginBottom:"10px",backgroundColor:"var(--app-color-gray-lightest)"},width:"100%",editMode:we,key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(Ca=e.options)||void 0===Ca?void 0:Ca.notes},a.createElement("div",{style:{width:"100%",bborder:"1px dashed var(--app-color-gray-light)"}},a.createElement(z.Z,{visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:"multiple"===(null===e||void 0===e||null===(wa=e.options)||void 0===wa?void 0:wa.type)?fe.dropdownHeightClassContainer:fe.dropdownClassContainer,items:xe.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.value)})),value:null===(Za=xe.find((function(n){return n.value===e.value})))||void 0===Za?void 0:Za.label,loading:dn,error:null===e||void 0===e?void 0:e.errors,onChange:function(l){var o;L(l,n),null!==e&&void 0!==e&&null!==(o=e.options)&&void 0!==o&&o.addToPos&&(0,Ce.Vy)(Ae,(0,t.Z)((0,t.Z)({},null===Ae||void 0===Ae?void 0:Ae.options),{},{selPos:l})).pipe((0,_.P)()).subscribe({complete:function(){},next:function(e){(0,D.aT)(l,null===Ae||void 0===Ae?void 0:Ae.id).subscribe({complete:function(){},next:function(){var n;(Ae.options.selPos&&Ae.options.selPos!==l?(0,D._s)(Ae.options.selPos,null===Ae||void 0===Ae?void 0:Ae.id).subscribe({next:function(){window.scrollTo({top:0,behavior:"smooth"})}}):window.scrollTo({top:0,behavior:"smooth"}),null!==e&&void 0!==e&&e.user)||(Ae.options.selPos=null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.selPos)}})}})},selectionType:null===e||void 0===e||null===(Ma=e.options)||void 0===Ma?void 0:Ma.type,fieldIcon:null===e||void 0===e?void 0:e.icon})));if("Value Button"===(null===e||void 0===e?void 0:e.data_type_name))return a.createElement(ge.Z,{width:"100%",editMode:we,key:n,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,customIconBgColor:"white"},a.createElement(A.default,{rowStyleSelected:{border:null!==e&&void 0!==e&&e.value?"2px solid black":"1px dashed black"},initialSelected:(null===(Sa=e.options)||void 0===Sa?void 0:Sa.value)===(null===e||void 0===e?void 0:e.value)?0:void 0,modern:!0,isReport:!1,filtersContainer:fe.filtersContainerII,"app-variant-is-mobile":"true",columns:["Type","Description","Image"],list:[{Type:null===(ka=e.options)||void 0===ka?void 0:ka.label,Description:null!==(Ia=null===e||void 0===e||null===(Na=e.options)||void 0===Na?void 0:Na.notes)&&void 0!==Ia?Ia:e.field_name,Image:null===(Ta=e.options)||void 0===Ta?void 0:Ta.image}],onListItemClick:function(){var l;null!==e&&void 0!==e&&e.value?P(void 0,n):(null===I||void 0===I||null===(l=I.selected_fields)||void 0===l||l.filter((function(e){return"Value Button"===(null===e||void 0===e?void 0:e.data_type_name)})).map((function(e){e.value=void 0})),P(e.options.value,n))}}));if("Calendar"===(null===e||void 0===e?void 0:e.data_type_name))return a.createElement(ge.Z,{enabled:Hl,width:"100%",style:{width:"100%"},editMode:we,showWidth:function(n){e.field_options=(0,t.Z)((0,t.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(Da=e.options)||void 0===Da?void 0:Da.notes},a.createElement("div",{id:e.field_name,style:{width:"inherit",marginBottom:"160px"}},a.createElement(h.zx,{light:!0,clicked:function(){var e,n;an(!0),(0,Ue.Mk)(null!==(e=null===N||void 0===N||null===(n=N.created_by)||void 0===n?void 0:n.id)&&void 0!==e?e:Ae.id,!0).pipe((0,f.q)(1)).subscribe({next:function(){an(!1)}})},loading:dn,icon:a.createElement("img",{src:T.Fd})}),!(el||dn)&&a.createElement(_e.Scheduler,{events:Qe.length>0?null===Qe||void 0===Qe||null===(Pa=Qe.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.add_info)||void 0===n?void 0:n.module_id)===(null===(l=se.processModule)||void 0===l?void 0:l.module_id)})))||void 0===Pa?void 0:Pa.map((function(e){var n,l;return{event_id:e.id,title:e.description,start:new Date(Date.parse(null===(n=e.add_info)||void 0===n?void 0:n.start)),end:null!==e&&void 0!==e&&e.completed_at?new Date(Date.parse(e.completed_at)):new Date(Date.parse(null===(l=e.add_info)||void 0===l?void 0:l.end)),admin_id:2,color:"#50b500",editable:!1,deletable:!1}})):[],navigation:!0,view:ul,agenda:(null===N||void 0===N||null===(Aa=N.created_by)||void 0===Aa?void 0:Aa.id)!==Ae.id&&!(null===N||void 0===N||null===(Oa=N.created_by)||void 0===Oa||!Oa.id),day:{startHour:0,endHour:24,cellRenderer:function(e){e.height,e.start,e.onClick;var n=!1,l=(0,k.Z)(e,je);return a.createElement(h.zx,(0,S.Z)({style:{height:"100%",background:"transparent",cursor:"pointer"},clicked:function(){nl(!0),tl(void 0)},disabled:n},l))}},month:(null===N||void 0===N||null===(La=N.created_by)||void 0===La?void 0:La.id)!==Ae.id&&void 0!==(null===N||void 0===N?void 0:N.created_by)?null:{cellRenderer:function(e){e.height,e.start,e.onClick;var n=!1,l=(0,k.Z)(e,Ve);return a.createElement(h.zx,(0,S.Z)({style:{height:"100%",background:"transparent",cursor:"pointer"},clicked:function(){nl(!0),tl(void 0)},disabled:n},l))}},week:(null===N||void 0===N||null===(za=N.created_by)||void 0===za?void 0:za.id)!==Ae.id&&void 0!==(null===N||void 0===N?void 0:N.created_by)?null:{weekDays:[0,1,2,3,4,5],weekStartOn:6,startHour:0,endHour:25,step:60,cellRenderer:function(e){e.height;var n=e.start,l=(e.onClick,!1),o=(0,k.Z)(e,Ge);return a.createElement(h.zx,(0,S.Z)({style:{height:"100%",background:"transparent",cursor:"pointer"},clicked:function(){cn(n),nl(!0),tl(void 0)},disabled:l},o))}},onEventClick:function(e){nl(!0),tl(null===Qe||void 0===Qe?void 0:Qe.find((function(n){return n.id===e.event_id})))},onViewChange:function(e){return rl(e)}}),el&&a.createElement(rn,{modalVisible:el,heading:null!==e&&void 0!==e&&null!==(Ra=e.options)&&void 0!==Ra&&Ra.title?null===e||void 0===e||null===(Ua=e.options)||void 0===Ua?void 0:Ua.title:il?"Update Calendar":"Create New Calendar",task:il,isProcess:!0,blured:!1,onClose:function(){return nl(!1)},isEdit:!!il,statuses:null===e||void 0===e||null===(Fa=e.options)||void 0===Fa?void 0:Fa.list,priority:null===e||void 0===e||null===(Wa=e.options)||void 0===Wa?void 0:Wa.priority,span:null===e||void 0===e||null===(qa=e.options)||void 0===qa?void 0:qa.span,start_date:sn})));if("Video"===(null===e||void 0===e?void 0:e.data_type_name)&&null!==e&&void 0!==e&&null!==(dl=e.options)&&void 0!==dl&&dl.start)return a.createElement(ge.Z,{enabled:Hl,width:"100%",editMode:we,style:{backgroundColor:"var(--app-color-gray-lightest)"},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(Ba=e.options)||void 0===Ba?void 0:Ba.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},a.createElement("div",{style:{width:"100%",height:"auto",border:"0px solid var(--app-color-gray-light)"}},a.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",padding:"5px",border:"0px solid var(--app-color-gray-lighter)"}},a.createElement(M.G,{icon:Z.WRo,style:{width:"14px",height:"14px"}}),a.createElement("input",{value:e.value?C()(e.value).format("DD MMMM YYYY HH:mm"):"",disabled:!0,type:"text",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",fontFamily:"var(--app-text-font-mobile)",fontSize:"16px",lineHeight:"20px",color:"black",textAlign:"left",maxWidth:"98%",border:"0px"},onChange:function(e){}})),a.createElement(Be.Z,{payload:{name:null===N||void 0===N?void 0:N.id}})));if("Video"!==(null===e||void 0===e?void 0:e.data_type_name)||null!==e&&void 0!==e&&null!==(al=e.options)&&void 0!==al&&al.start){var bu,xu,Eu,Cu,wu,Zu,Mu,Su,ku,Iu,Nu,Tu,Du,Pu,Au,Ou,Lu,zu,Ru,Uu,Fu,Wu,qu,Bu,Yu,Hu,ju,Vu,Gu,Ju,Ku,Qu,Xu,$u,er,nr,lr,or,ir,tr,dr,ar,ur,rr,vr,sr,cr,pr,mr,fr,_r,yr,hr,gr,br;if("Radio"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(vl=e.options)||void 0===vl||null===(sl=vl.list)||void 0===sl?void 0:sl.length)>0)return a.createElement(ge.Z,{enabled:Hl,width:"100%",style:{backgroundColor:"var(--app-color-gray-lightest)",padding:"10px"},editMode:we,key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(bu=e.options)||void 0===bu?void 0:bu.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},a.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-light)",padding:"20px",fontSize:"16px",display:"flex",flexDirection:"column",marginTop:"10px"}},null===e||void 0===e||null===(xu=e.options)||void 0===xu?void 0:xu.list.map((function(l,o){return a.createElement("div",{key:o,style:{display:"flex",padding:"20px 0"}},a.createElement("input",{style:{margin:"0 20px"},type:"radio",id:l,name:e.field_name,value:l,checked:(null===e||void 0===e?void 0:e.value)===l,onChange:function(e){var l;return L(null===(l=e.target)||void 0===l?void 0:l.value,n)}}),a.createElement("label",{htmlFor:l,for:l},l))}))));if("People"===(null===e||void 0===e?void 0:e.data_type_name)&&null!==e&&void 0!==e&&null!==(ml=e.options)&&void 0!==ml&&ml.calendar){var xr,Er,Cr,wr,Zr,Mr,Sr,kr,Ir,Nr,Tr,Dr,Pr,Ar,Or,Lr,zr,Rr,Ur,Fr,Wr,qr=JSON.parse(null!==(xr=null===e||void 0===e?void 0:e.value)&&void 0!==xr?xr:JSON.stringify({user:0})),Br=Qe.find((function(e){return e.id===(null===qr||void 0===qr?void 0:qr.task)})),Yr=null===Qe||void 0===Qe?void 0:Qe.filter((function(n){var l,o,i,t,d,a,u,r;return(null!==n&&void 0!==n&&null!==(l=n.add_info)&&void 0!==l&&l.pos?null===e||void 0===e||null===(o=e.options)||void 0===o||null===(i=o.position_id)||void 0===i?void 0:i.includes(null===n||void 0===n||null===(t=n.add_info)||void 0===t?void 0:t.pos):null===n||void 0===n?void 0:n.id)&&(null===n||void 0===n||null===(d=n.add_info)||void 0===d?void 0:d.module_id)===(null===(a=se.processModule)||void 0===a?void 0:a.module_id)&&n.creator.id===(null===qr||void 0===qr?void 0:qr.user)&&!(null!==n&&void 0!==n&&null!==(u=n.assignee)&&void 0!==u&&u.id)&&C()((0,E.now)()).diff(C()(null===n||void 0===n||null===(r=n.add_info)||void 0===r?void 0:r.start),"seconds")<0}));return a.createElement(ge.Z,{titleProps:{fontSize:"14px",color:"var(--app-color-gray-dark)",fontWeight:"normal"},enabled:Hl,width:"100%",editMode:we,dragEnd:function(n){var l,o=null===(l=document.getElementById(null===I||void 0===I?void 0:I.name))||void 0===l?void 0:l.getBoundingClientRect();document.getElementById(e.field_name).style.position="absolute",document.getElementById(e.field_name).style.top="".concat(n.top-o.top,"px"),document.getElementById(e.field_name).style.left="".concat(n.left-o.left,"px")},key:n,fieldLabel:null===e||void 0===e?void 0:e.field_name,notes:null===e||void 0===e||null===(Er=e.options)||void 0===Er?void 0:Er.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},a.createElement("div",{style:{width:"100%"}},(null===e||void 0===e||null===(Cr=e.options)||void 0===Cr||null===(wr=Cr.dropdown)||void 0===wr?void 0:wr.length)>0&&a.createElement("div",{style:{width:"100%",border:"0.5px solid var(--app-color-gray-dark)"}},a.createElement(z.Z,{visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:fe.dropdownClassContainer,items:null===e||void 0===e||null===(Zr=e.options)||void 0===Zr||null===(Mr=Zr.dropdown)||void 0===Mr?void 0:Mr.map((function(e){return{label:e,value:e}})),value:null===qr||void 0===qr?void 0:qr.pos,error:null===e||void 0===e?void 0:e.errors,onChange:function(l){var o,i;l.length>0&&(qr.pos=void 0,qr.user=void 0,L(JSON.stringify(qr),n),Te([]),an(!0),(0,Ce.FY)(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.position_id,null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.filter,l).pipe((0,f.q)(1)).subscribe({next:function(e){an(!1),Te(e),setTimeout((function(){qr.pos=l,L(JSON.stringify(qr),n)}),0)},error:function(){return an(!1)}}))},selectionType:null===e||void 0===e||null===(Sr=e.options)||void 0===Sr?void 0:Sr.type,fieldIcon:null===e||void 0===e?void 0:e.icon})),0==(null===Ne||void 0===Ne?void 0:Ne.length)&&!dn&&a.createElement("p",null,"No ".concat(e.field_name," found")),0==(null===Ne||void 0===Ne?void 0:Ne.length)&&dn&&a.createElement("p",null,"Searching for ".concat(e.field_name)),!Br&&a.createElement(A.default,{rowStyleSelected:{border:"2px solid var(--app-color-gray-light)"},initialSelected:null!==e&&void 0!==e&&e.value?Ne.filter((function(n){var l,o;return(null===n||void 0===n||null===(l=n.user)||void 0===l||null===(o=l.positions)||void 0===o?void 0:o.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.id)})).length)>0})).map((function(e){return e.value})).indexOf(null===qr||void 0===qr?void 0:qr.user):void 0,card:!0,isReport:!1,"app-variant-is-mobile":"true",columns:["Name","Info","About"].concat((0,o.Z)(null!==(kr=null===oe||void 0===oe||null===(Ir=oe.misc_info)||void 0===Ir?void 0:Ir.profile)&&void 0!==kr?kr:["Rate"]),["Location","Photo","Ratings"]),list:Ne.filter((function(n){var l,o;return(null===n||void 0===n||null===(l=n.user)||void 0===l||null===(o=l.positions)||void 0===o?void 0:o.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.id)})).length)>0})).map((function(e){var n,l,o,i,d,u,r,v,s,c=null===e||void 0===e||null===(n=e.user)||void 0===n||null===(l=n.ratings)||void 0===l?void 0:l.map((function(e){return+e.ratings}));return(0,t.Z)((0,t.Z)({},null!==(o=null===(i=e.user)||void 0===i||null===(d=i.options)||void 0===d?void 0:d.add_info)&&void 0!==o?o:{}),{},{Name:"".concat(e.user.first_name," ").concat(e.user.last_name),Location:a.createElement("div",{style:{marginTop:"10px",fontWeight:"bolder",fontSize:"12px"}},null===(u=e.user)||void 0===u?void 0:u.city),Info:null===(r=e.user.options)||void 0===r?void 0:r.info,id:e.user.id,Photo:null!=(null===(v=e.user)||void 0===v?void 0:v.photo)?null===(s=e.user)||void 0===s?void 0:s.photo:null===oe||void 0===oe?void 0:oe.logo,Ratings:(null===c||void 0===c?void 0:c.length)>0&&a.createElement("div",{className:fe.simpleNames},Array(Math.round(de.Z(ae.Z,[ue.Z,re.Z])(c))).fill(0).map((function(e,n){return a.createElement(M.G,{key:n,icon:Z.Tab,style:{color:"var(--app-color-blue)"}})})),Array(5-Math.round(de.Z(ae.Z,[ue.Z,re.Z])(c))).fill(0).map((function(e,n){return a.createElement(M.G,{key:n,icon:Z.Tab,style:{color:"lightgray"}})})))})})),onListItemClick:function(e){if(e){var l=Ne.find((function(n){return n.value===e.id}));qr.user=null===l||void 0===l?void 0:l.value,L(JSON.stringify(qr),n),an(!0),(0,Ue.Mk)(null===l||void 0===l?void 0:l.value,!0).pipe((0,f.q)(1)).subscribe({next:function(){return an(!1)},error:function(){return an(!1)}})}}},(null===Yr||void 0===Yr?void 0:Yr.length)>0&&a.createElement("p",null,"Schedules"),(null===Yr||void 0===Yr?void 0:Yr.length)>0&&(null===Yr||void 0===Yr?void 0:Yr.length)>0?a.createElement(pe.tq,{slidesPerView:3,centeredSlides:!0,spaceBetween:10,initialSlide:1,pagination:{clickable:!0,dynamicBullets:!0},modules:[ce.pt,ce.tl],className:"mySwiper",style:{border:"0.8px dashed gray",padding:"5px",height:"200px",display:(null===Yr||void 0===Yr?void 0:Yr.length)>0?"":"none",zIndex:"0"}},null===(Nr=X.Z([le.Z(ee.Z("due_date"))])(Yr))||void 0===Nr?void 0:Nr.map((function(e,n){return a.createElement(pe.o5,{key:n+200,className:fe.swiperslide},a.createElement("div",{className:fe.dashboardCard,onClick:function(){nl(!0),tl(e)}},a.createElement("div",{style:{fontSize:"10px"}},C()(new Date(e.add_info.start)).format("h:mm a")),e.add_info.end!==e.add_info.start&&a.createElement("div",{style:{fontSize:"10px"}},C()(new Date(e.add_info.end)).format("h:mm a")),a.createElement("hr",{style:{border:"0.8px dashed gray"}}),a.createElement("p",{style:{fontSize:"12px",fontWeight:"bold"}},C()(new Date(e.add_info.start)).format("MMM")),a.createElement("div",{style:{fontSize:"20px",fontWeight:"bold"}},C()(new Date(e.add_info.start)).format("DD"))))}))):null!==qr&&void 0!==qr&&qr.user?a.createElement("p",{style:{fontSize:"12px",paddingLeft:"10px"}},dn?"Searching for Schedules":"No Schedules Found"):a.createElement("div",null)),a.createElement("div",{className:fe.centerDiv},!Br&&!(null!==e&&void 0!==e&&null!==(Tr=e.options)&&void 0!==Tr&&Tr.dropdown)&&(!(null!==e&&void 0!==e&&e.last_page)||1===(null===e||void 0===e?void 0:e.last_page))&&a.createElement(h.zx,{title:"More",style:{width:"30%"},clicked:function(){var l,o;(0,Ce.Wz)(null===(l=se.processModule.module)||void 0===l||null===(o=l.options)||void 0===o?void 0:o.positions,5,1).pipe((0,_.P)()).subscribe({next:function(l){e.last_page=null===l||void 0===l?void 0:l.last_page,Te(null===l||void 0===l?void 0:l.data),qr.user=void 0,L(JSON.stringify(qr),n)}})}}),!Br&&!(null!==e&&void 0!==e&&null!==(Dr=e.options)&&void 0!==Dr&&Dr.dropdown)&&(null===e||void 0===e?void 0:e.last_page)>1&&a.createElement("div",{style:{display:"flex"}},(0,o.Z)(Array(Math.ceil(+(null===e||void 0===e?void 0:e.last_page)))).map((function(l,o){return a.createElement(h.zx,{title:o+1,clear:!0,key:o,style:{width:"40px",display:o<18?"":"none"},titleContainer:fe.pageContainer,disabled:o==(null===e||void 0===e?void 0:e.page)-1,clicked:function(){var l,i;e.page=o+1,(0,Ce.Wz)(null===(l=se.processModule.module)||void 0===l||null===(i=l.options)||void 0===i?void 0:i.positions,5,null===e||void 0===e?void 0:e.page).pipe((0,_.P)()).subscribe({next:function(l){e.last_page=null===l||void 0===l?void 0:l.last_page,Te(null===l||void 0===l?void 0:l.data),qr.user=void 0,L(JSON.stringify(qr),n)}})}})})))),Br&&a.createElement(A.default,{modern:!0,isReport:!1,"app-variant-is-mobile":"true",columns:["Responsible",null!==(Pr=null===e||void 0===e||null===(Ar=e.options)||void 0===Ar?void 0:Ar.header)&&void 0!==Pr?Pr:"Name",null!==(Or=null===e||void 0===e||null===(Lr=e.options)||void 0===Lr?void 0:Lr.start)&&void 0!==Or?Or:"Date","Photo"],list:[Br].map((function(n){var l,o,t,d,a,u,r;return r={},(0,i.Z)(r,null!==(l=null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.header)&&void 0!==l?l:"Name",n.name),(0,i.Z)(r,null!==(t=null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.start)&&void 0!==t?t:"Date",C()(new Date(null===(a=n.add_info)||void 0===a?void 0:a.start)).format("MMM DD h:mm a")),(0,i.Z)(r,"Responsible","".concat(n.creator.first_name," ").concat(n.creator.last_name)),(0,i.Z)(r,"Position",""),(0,i.Z)(r,"Photo",null===(u=n.creator)||void 0===u?void 0:u.photo),r})),onListItemClick:function(e){e&&(nl(!0),tl(Br))}}),el&&a.createElement(rn,{save:!1,modalVisible:el,heading:null!==(zr=null===e||void 0===e||null===(Rr=e.options)||void 0===Rr?void 0:Rr.header)&&void 0!==zr?zr:il?"Update Calendar":"Create New Calendar",labels:null===e||void 0===e?void 0:e.options,task:il,isProcess:!0,blured:!1,onClose:function(){return nl(!1)},isEdit:!!il,statuses:null===e||void 0===e||null===(Ur=e.options)||void 0===Ur?void 0:Ur.list,priority:null===e||void 0===e||null===(Fr=e.options)||void 0===Fr?void 0:Fr.priority,span:null===e||void 0===e||null===(Wr=e.options)||void 0===Wr?void 0:Wr.span,start_date:sn,onUpdate:function(l){if(l.creator.id!==(null===Ae||void 0===Ae?void 0:Ae.id)&&(null===l||void 0===l?void 0:l.assignee_id)===(null===Ae||void 0===Ae?void 0:Ae.id)){var o;if(U.assigned_to=l.creator.id,qr.task=null===l||void 0===l?void 0:l.id,null!==l&&void 0!==l&&null!==(o=l.add_info)&&void 0!==o&&o.value){var i,t,d,a,u,r,v,s,c;qr.value=null===l||void 0===l||null===(i=l.add_info)||void 0===i?void 0:i.value;var p,m=null===(t=U.components.find((function(n){return n.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))})))||void 0===t?void 0:t.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}));if(m)m.value=null===l||void 0===l||null===(p=l.add_info)||void 0===p?void 0:p.value;var f,_=null===(d=U.newStepComponents.find((function(n){return n.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))})))||void 0===d?void 0:d.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}));if(_)_.value=null===l||void 0===l||null===(f=l.add_info)||void 0===f?void 0:f.value;var y,h=null===(a=se.processModule)||void 0===a||null===(u=a.steps)||void 0===u||null===(r=u.find((function(n){var l;return null===(l=n.component_blueprints)||void 0===l?void 0:l.find((function(n){var l;return null===n||void 0===n||null===(l=n.selected_fields)||void 0===l?void 0:l.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))}))})))||void 0===r||null===(v=r.component_blueprints)||void 0===v||null===(s=v.find((function(n){var l;return null===n||void 0===n||null===(l=n.selected_fields)||void 0===l?void 0:l.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))})))||void 0===s||null===(c=s.selected_fields)||void 0===c?void 0:c.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}));if(h)h.value=null===l||void 0===l||null===(y=l.add_info)||void 0===y?void 0:y.value}L(JSON.stringify(qr),n)}}})))}if("People"===(null===e||void 0===e?void 0:e.data_type_name)&&(!0===(null===e||void 0===e||null===(fl=e.options)||void 0===fl?void 0:fl.slider)||cl)&&(null===ye||void 0===ye?void 0:ye.length)>0)return a.createElement(ge.Z,{titleProps:{fontSize:"14px",color:"var(--app-color-gray-dark)",fontWeight:"normal",paddingLeft:"5px"},enabled:Hl,width:"100%",editMode:we,showWidth:function(n){e.field_options=(0,t.Z)((0,t.Z)({},e.field_options),{},{width:"".concat(n,"px")})},dragEnd:function(n){var l,o=null===(l=document.getElementById(null===I||void 0===I?void 0:I.name))||void 0===l?void 0:l.getBoundingClientRect();document.getElementById(e.field_name).style.position="absolute",document.getElementById(e.field_name).style.top="".concat(n.top-o.top,"px"),document.getElementById(e.field_name).style.left="".concat(n.left-o.left,"px")},key:n,notes:null===e||void 0===e||null===(Eu=e.options)||void 0===Eu?void 0:Eu.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},a.createElement(pe.tq,{slidesPerView:1,centeredSlides:!0,spaceBetween:10,initialSlide:0,pagination:{clickable:!0,dynamicBullets:!0},style:{zIndex:0},modules:[ce.pt,ce.tl],className:"mySwiper"},ye.filter((function(n){var l;return(null===n||void 0===n||null===(l=n.positions)||void 0===l?void 0:l.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.id)})).length)>0})).map((function(l,o){var d,u,r,v,s,c,p,m,f,_,y,h=null===l||void 0===l||null===(d=l.ratings)||void 0===d?void 0:d.map((function(e){return+e.ratings}));return a.createElement(pe.o5,{key:o,className:fe.swiperslide},a.createElement("div",{style:{padding:"20px",width:"100%"},onClick:function(){var o;e.open=null===e||void 0===e||!e.open,e.idx=n,null!==e&&void 0!==e&&null!==(o=e.options)&&void 0!==o&&o.skip?pl(e.open):L(null===l||void 0===l?void 0:l.id,n)}},a.createElement(ze.Z,{photo:null===l||void 0===l?void 0:l.photo,height:null!==e&&void 0!==e&&e.open?"auto":"300px",width:"100%",firstName:"".concat(null===l||void 0===l?void 0:l.first_name),lastName:"".concat(null===l||void 0===l?void 0:l.last_name),position:a.createElement("div",{style:{marginTop:"10px"}},null===l||void 0===l?void 0:l.city),email:null===(u=l.options)||void 0===u?void 0:u.info},(null===h||void 0===h?void 0:h.length)>0&&a.createElement("div",{className:fe.simpleNames},Array(Math.round(de.Z(ae.Z,[ue.Z,re.Z])(h))).fill(0).map((function(e,n){return a.createElement(M.G,{key:n,icon:Z.Tab,style:{height:"15px",width:"15px",color:"var(--app-color-blue)"}})})),Array(5-Math.round(de.Z(ae.Z,[ue.Z,re.Z])(h))).fill(0).map((function(e,n){return a.createElement(M.G,{key:n,icon:Z.Tab,style:{height:"15px",width:"15px",color:"lightgray"}})}))),a.createElement("div",{className:fe.simpleNames,style:{pointerEvents:"none",padding:"20px 10px 0 10px",color:"gray"}},(null===(r=e.options)||void 0===r?void 0:r.info)&&(null===e||void 0===e?void 0:e.open)&&(null===e||void 0===e?void 0:e.idx)==n&&a.createElement(a.Fragment,null,a.createElement("p",{style:{fontSize:"14px"}},"General Info:"),a.createElement(A.default,{rowStyleSelected:{border:"2px solid var(--app-color-gray-light)"},card:!0,isReport:!1,"app-variant-is-mobile":"true",columns:["First Name","Last Name","Phone","Address","City","Postal","Bio"],list:[l].map((function(e){var n,l,o,t,d,a,u;return u={},(0,i.Z)(u,"First Name","".concat(null!==(n=null===e||void 0===e?void 0:e.first_name)&&void 0!==n?n:"")),(0,i.Z)(u,"Last Name","".concat(null!==(l=null===e||void 0===e?void 0:e.last_name)&&void 0!==l?l:"")),(0,i.Z)(u,"Phone","".concat(null!==(o=null===e||void 0===e?void 0:e.phone)&&void 0!==o?o:"")),(0,i.Z)(u,"Address","".concat(null!==(t=null===e||void 0===e?void 0:e.address)&&void 0!==t?t:"")),(0,i.Z)(u,"City","".concat(null!==(d=null===e||void 0===e?void 0:e.city)&&void 0!==d?d:"")),(0,i.Z)(u,"Postal","".concat(null!==(a=null===e||void 0===e?void 0:e.postal)&&void 0!==a?a:"")),u}))})),(null===(v=e.options)||void 0===v?void 0:v.other)&&(null===e||void 0===e?void 0:e.open)&&(null===e||void 0===e?void 0:e.idx)==n&&Object.keys(null!==(s=null===l||void 0===l||null===(c=l.options)||void 0===c?void 0:c.add_info)&&void 0!==s?s:{}).length>1&&a.createElement(a.Fragment,null,a.createElement("p",{style:{fontSize:"14px"}},"More Info:"),a.createElement(A.default,{rowStyleSelected:{border:"2px solid var(--app-color-gray-light)"},card:!0,isReport:!1,"app-variant-is-mobile":"true",columns:Object.keys(null!==(p=null===l||void 0===l||null===(m=l.options)||void 0===m?void 0:m.add_info)&&void 0!==p?p:{}),list:[l].map((function(e){var n,l;return(0,t.Z)((0,t.Z)({},null!==(n=null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.add_info)&&void 0!==n?n:{}),{},{Rate:""})}))})),(null===(f=e.options)||void 0===f?void 0:f.info)&&(null===e||void 0===e?void 0:e.open)&&(null===l||void 0===l||null===(_=l.ratings)||void 0===_?void 0:_.length)>0&&a.createElement(a.Fragment,null,a.createElement("p",{style:{fontSize:"14px"}},"What other users say:"),a.createElement(A.default,{rowStyleSelected:{border:"2px solid var(--app-color-gray-light)"},card:!0,isReport:!1,columns:["Feedback"],list:null===l||void 0===l||null===(y=l.ratings)||void 0===y?void 0:y.map((function(e,n){return{Feedback:'"'.concat(e.comments,'"')}}))}))))))}))));if("People"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(yl=e.options)||void 0===yl||null===(kl=yl.position_id)||void 0===kl?void 0:kl.length)>0)return a.createElement(ge.Z,{titleProps:{fontSize:"14px",color:"var(--app-color-gray-dark)",fontWeight:"normal",paddingLeft:"5px"},enabled:Hl,width:"100%",style:{marginTop:"0px",border:"0px solid var(--app-color-gray-lighter)",padding:"5px",marginBottom:"10px",backgroundColor:"var(--app-color-gray-lightest)"},editMode:we,showWidth:function(n){e.field_options=(0,t.Z)((0,t.Z)({},e.field_options),{},{width:"".concat(n,"px")})},dragEnd:function(n){var l,o=null===(l=document.getElementById(null===I||void 0===I?void 0:I.name))||void 0===l?void 0:l.getBoundingClientRect();document.getElementById(e.field_name).style.position="absolute",document.getElementById(e.field_name).style.top="".concat(n.top-o.top,"px"),document.getElementById(e.field_name).style.left="".concat(n.left-o.left,"px")},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(Cu=e.options)||void 0===Cu?void 0:Cu.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},a.createElement("div",{style:{width:"100%"}},a.createElement(z.Z,{onOpen:function(e){Bn("50px"===qn?"180px":"50px")},onFocus:function(){var n;return 0==Ne.length&&xl(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.position_id)},visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},className:fe.dropdownClassContainer,items:Ne.filter((function(n){var l,o;return(null===n||void 0===n||null===(l=n.user)||void 0===l||null===(o=l.positions)||void 0===o?void 0:o.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.id)})).length)>0})),value:"single"===(null===e||void 0===e||null===(wu=e.options)||void 0===wu?void 0:wu.type)?null===(Zu=Ne.find((function(n){return n.label===(null===e||void 0===e?void 0:e.value)})))||void 0===Zu?void 0:Zu.label:e.value,loading:dn,error:null===e||void 0===e?void 0:e.errors,onChange:function(l){var o;if("single"===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.type)){var i,t,d=Ne.find((function(e){return e.value===l}));if(1==(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.email))e.email=null===d||void 0===d||null===(t=d.user)||void 0===t?void 0:t.email;L(null===d||void 0===d?void 0:d.label,n)}else L(l,n);Bn("50px")},onClicked:function(e){return Bn(e?"180px":"50px")},selectionType:null===e||void 0===e||null===(Mu=e.options)||void 0===Mu?void 0:Mu.type,fieldIcon:null===e||void 0===e?void 0:e.icon})));if("People"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Il=e.options)||void 0===Il||null===(Nl=Il.componentF)||void 0===Nl?void 0:Nl.length)>0&&(null===e||void 0===e||null===(Tl=e.options)||void 0===Tl||null===(Dl=Tl.componentO)||void 0===Dl?void 0:Dl.length)>0){var Hr,jr,Vr,Gr,Jr,Kr,Qr=null===(Hr=U.components.find((function(n){return n.selected_fields.filter((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.componentF)})).length>0})))||void 0===Hr?void 0:Hr.selected_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.componentF)})),Xr=ve.find((function(n){var l;return n.component_fields.filter((function(e){return e.value===(null===Qr||void 0===Qr?void 0:Qr.value)})).length>0&&n.module_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.module_id)})),$r=null===Xr||void 0===Xr?void 0:Xr.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.componentO)}));return a.createElement(ge.Z,{titleProps:{fontSize:"14px",color:"var(--app-color-gray-dark)",fontWeight:"normal",paddingLeft:"5px"},enabled:Hl,width:"100%",style:{marginTop:"0px",border:"0px solid var(--app-color-gray-lighter)",padding:"5px",marginBottom:"10px",backgroundColor:"var(--app-color-gray-lightest)"},editMode:we,showWidth:function(n){e.field_options=(0,t.Z)((0,t.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(jr=e.options)||void 0===jr?void 0:jr.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},a.createElement("div",{style:{width:"100%"}},a.createElement(z.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},onFocus:function(){var n;Bn("180px"),0==Ne.length&&xl(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.position_id)},visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:"multiple"===(null===e||void 0===e||null===(Vr=e.options)||void 0===Vr?void 0:Vr.type)?fe.dropdownHeightClassContainer:fe.dropdownClassContainer,items:Ne.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.user)||void 0===n||null===(l=n.positions)||void 0===l?void 0:l.filter((function(e){var n;return null===$r||void 0===$r||null===(n=$r.value)||void 0===n?void 0:n.split(",").includes(null===e||void 0===e?void 0:e.name)})).length)>0})),value:"single"===(null===e||void 0===e||null===(Gr=e.options)||void 0===Gr?void 0:Gr.type)?null===(Jr=Ne.find((function(n){return n.label===(null===e||void 0===e?void 0:e.value)})))||void 0===Jr?void 0:Jr.label:e.value,loading:dn,error:null===e||void 0===e?void 0:e.errors,onChange:function(l){var o;if("single"===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.type)){var i,t,d=Ne.find((function(e){return e.value===l}));if(1==(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.email))e.email=null===d||void 0===d||null===(t=d.user)||void 0===t?void 0:t.email;L(null===d||void 0===d?void 0:d.label,n)}else L(l,n);Bn("50px")},onClicked:function(e){return Bn(e?"180px":"50px")},selectionType:null===e||void 0===e||null===(Kr=e.options)||void 0===Kr?void 0:Kr.type,fieldIcon:null===e||void 0===e?void 0:e.icon,placeholder:"Select user..."})))}if("People"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Pl=e.options)||void 0===Pl||null===(Al=Pl.componentF)||void 0===Al?void 0:Al.length)>0&&(null===e||void 0===e||null===(Ol=e.options)||void 0===Ol||null===(Ll=Ol.componentUO)||void 0===Ll?void 0:Ll.length)>0){var ev,nv,lv,ov,iv,tv,dv=null===(ev=U.components.find((function(n){return n.selected_fields.filter((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.componentF)})).length>0})))||void 0===ev?void 0:ev.selected_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.componentF)})),av=ve.filter((function(n){var l;return n.module_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.module_id)})).find((function(e){return e.component_fields.filter((function(e){return(null===e||void 0===e?void 0:e.value)===(null===dv||void 0===dv?void 0:dv.value)})).length>0})),uv=av?null===av||void 0===av?void 0:av.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.componentUO)})):"";return a.createElement(ge.Z,{titleProps:{fontSize:"14px",color:"var(--app-color-gray-dark)",fontWeight:"normal",paddingLeft:"5px"},enabled:Hl,width:"100%",style:{marginTop:"0px",border:"0px solid var(--app-color-gray-lighter)",padding:"5px",marginBottom:"10px",backgroundColor:"var(--app-color-gray-lightest)"},editMode:we,showWidth:function(n){e.field_options=(0,t.Z)((0,t.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(nv=e.options)||void 0===nv?void 0:nv.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},a.createElement(z.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},onFocus:function(){var n;return 0==Ne.length&&xl(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.position_id)},visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:"multiple"===(null===e||void 0===e||null===(lv=e.options)||void 0===lv?void 0:lv.type)?fe.dropdownHeightClassContainer:fe.dropdownClassContainer,items:Ne.filter((function(e){var n;return null===uv||void 0===uv||null===(n=uv.value)||void 0===n?void 0:n.split(",").includes(null===e||void 0===e?void 0:e.label)})),value:"single"===(null===e||void 0===e||null===(ov=e.options)||void 0===ov?void 0:ov.type)?null===(iv=Ne.find((function(n){return n.label===(null===e||void 0===e?void 0:e.value)})))||void 0===iv?void 0:iv.label:e.value,loading:dn,error:null===e||void 0===e?void 0:e.errors,onChange:function(l){var o;if("single"===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.type)){var i,t,d=Ne.find((function(e){return e.value===l}));if(1==(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.email))e.email=null===d||void 0===d||null===(t=d.user)||void 0===t?void 0:t.email;L(null===d||void 0===d?void 0:d.label,n)}else L(l,n);Bn("50px")},onClicked:function(e){return Bn(e?"180px":"50px")},selectionType:null===e||void 0===e||null===(tv=e.options)||void 0===tv?void 0:tv.type,fieldIcon:null===e||void 0===e?void 0:e.icon,placeholder:"Select user..."}))}if("Status"===(null===e||void 0===e?void 0:e.data_type_name)){var rv,vv,sv,cv,pv,mv,fv,_v,yv,hv,gv,bv,xv,Ev,Cv,wv,Zv,Mv=(null===(rv=e.options)||void 0===rv||null===(vv=rv.list)||void 0===vv?void 0:vv.length)>0?null===(sv=e.options)||void 0===sv||null===(cv=sv.list)||void 0===cv?void 0:cv.map((function(e){return{label:e,value:e}})):1==(null===se||void 0===se||null===(pv=se.processModule)||void 0===pv||null===(mv=pv.module)||void 0===mv||null===(fv=mv.options)||void 0===fv?void 0:fv.asGraphical)?[{label:"Show",value:"Show"},{label:"Hide",value:"Hide"}]:(null===oe||void 0===oe||null===(_v=oe.misc_info)||void 0===_v||null===(yv=_v.status)||void 0===yv?void 0:yv.length)>0?null===oe||void 0===oe||null===(hv=oe.misc_info)||void 0===hv?void 0:hv.status:p.MO;if((null===oe||void 0===oe||null===(gv=oe.misc_info)||void 0===gv||null===(bv=gv.rules)||void 0===bv?void 0:bv.length)>0)null===oe||void 0===oe||null===(Zv=oe.misc_info)||void 0===Zv||Zv.rules.filter((function(e){return"status"===e.type})).filter((function(n){n.valueCondition===e.value&&(Mv="0"===n.allow?Mv.filter((function(l){var o;return n.values.concat(null===(o=e.options)||void 0===o?void 0:o.list).includes(l.value)})):Mv.filter((function(l){var o;return!n.values.concat(null===(o=e.options)||void 0===o?void 0:o.list).includes(l.value)})))}));return null!==se&&void 0!==se&&null!==(xv=se.processModule)&&void 0!==xv&&null!==(Ev=xv.module)&&void 0!==Ev&&null!==(Cv=Ev.options)&&void 0!==Cv&&Cv.canCancel&&(Mv=Mv.concat({label:"Request Cancellation",value:"Cancellation Request"})),a.createElement("div",{key:n,style:{width:"100%",pointerEvents:Hl,marginBottom:"10px",border:"0px dashed var(--app-color-gray-light)",padding:"5px",backgroundColor:"var(--app-color-gray-lightest)"}},a.createElement(z.Z,{titleProps:{fontSize:"14px",color:"var(--app-color-gray-dark)",fontWeight:"normal",paddingLeft:"5px"},className:fe.multiselectComponentNoBorder,style:{border:"0px"},key:n,visible:e.visible,mandatory:e.mandatory,value:null!==(wv=e.value)&&void 0!==wv?wv:"",items:Mv,error:e.errors,onClicked:function(e){return Bn(e?"180px":"50px")},onChange:function(e){oe.start=!0,Bn("50px"),L(e,n);var l=I.selected_fields.find((function(n){return"Date"===n.data_type_name&n.field_name===e}));l&&(l.value=new Date(C().now()))},fieldIcon:e.icon,fieldLabel:e.field_name}))}if("Profile"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(zl=e.options)||void 0===zl||null===(Rl=zl.type)||void 0===Rl?void 0:Rl.length)>0){var Sv,kv,Iv,Nv=Ae.id;if("creator"!==e.options.type&&"wallet"!==e.options.type||null===N||void 0===N||null===(Sv=N.created_by)||void 0===Sv||!Sv.id)if("creator"!==e.options.type&&"wallet"!==e.options.type||null!==N&&void 0!==N&&null!==(kv=N.created_by)&&void 0!==kv&&kv.id)if("owner"===e.options.type){var Tv;Nv=null!==N&&void 0!==N&&N.options?null===(Tv=JSON.parse(null===N||void 0===N?void 0:N.options))||void 0===Tv?void 0:Tv.owner:""}else{if("custom"!==e.options.type)return null;var Dv;Nv=null===e||void 0===e||null===(Dv=e.options)||void 0===Dv?void 0:Dv.id}else Nv=Ae.id;else Nv=N.user_id;return(null===(Iv=Nv)||void 0===Iv?void 0:Iv.length)>0?(null===ye||void 0===ye?void 0:ye.length)>0&&(null===ye||void 0===ye?void 0:ye.filter((function(e){return e.id===Nv})).map((function(n,l){var o,i,t,d,u,r;return a.createElement("div",{className:fe.centerDiv,key:l},"wallet"===e.options.type?a.createElement(A.default,{modern:!0,columns:["Name","Wallet","Email","Photo"],list:[{Name:"".concat(null===n||void 0===n?void 0:n.first_name," ").concat(null===n||void 0===n?void 0:n.last_name),Wallet:"".concat(null===(o=n.wallet)||void 0===o?void 0:o.toFixed(2)),Email:null===n||void 0===n?void 0:n.email,Photo:n.photo}]}):a.createElement(ze.Z,{photo:null===n||void 0===n?void 0:n.photo,noPhoto:0==(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.show),firstName:"".concat(null===n||void 0===n?void 0:n.first_name),lastName:"".concat(null===n||void 0===n?void 0:n.last_name),position:null===n||void 0===n||null===(t=n.positions)||void 0===t||null===(d=t.slice(0,1))||void 0===d?void 0:d.map((function(e){return e.name})),email:null===n||void 0===n?void 0:n.email,cardClicked:function(){},width:b.tq?"100%":""}),(null===e||void 0===e||null===(u=e.options)||void 0===u?void 0:u.notes)&&a.createElement("p",null,null===e||void 0===e||null===(r=e.options)||void 0===r?void 0:r.notes))}))):null}if("Pin"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Ul=e.options)||void 0===Ul||null===(Fl=Ul.pintype)||void 0===Fl?void 0:Fl.length)>0)return a.createElement(ge.Z,{style:{border:"0",width:"100%"},enabled:Hl,key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(Su=e.options)||void 0===Su?void 0:Su.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},null!==e&&void 0!==e&&null!==(ku=e.options)&&void 0!==ku&&ku.source||null!==(Iu=e.options)&&void 0!==Iu&&Iu.destination?a.createElement("div",{style:{color:"var(--app-color-gray-dark)",height:"inherit",width:"100%",display:null!==e&&void 0!==e&&e.visible?"":"none"}},a.createElement("div",{className:fe.filtersContainer,style:{color:"var(--app-color-gray-dark)",height:"inherit",width:"100%",display:null!==e&&void 0!==e&&e.visible?"":"none"}},a.createElement("div",{className:fe.actionsContainer,style:{fontSize:"12px"},onClick:function(){Un({source:!0,destination:!1,field:e,index:n})}},a.createElement("div",{style:{width:"30%",textAlign:"left"}},a.createElement(M.G,{icon:1==(null===e||void 0===e||null===(Nu=e.options)||void 0===Nu?void 0:Nu.destination)?Z.W3K:Z.opg,style:{width:"20px",height:"20px",marginRight:"5px",color:"blue"}}),1==(null===e||void 0===e||null===(Tu=e.options)||void 0===Tu?void 0:Tu.destination)?"From":"Pin",":"),a.createElement("div",{style:{width:"70%",textAlign:"left"}},null!==e&&void 0!==e&&e.value?null===(Du=JSON.parse(e.value))||void 0===Du||null===(Pu=Du.source)||void 0===Pu?void 0:Pu.address:"")),1==(null===e||void 0===e||null===(Au=e.options)||void 0===Au?void 0:Au.destination)&&a.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}),1==(null===e||void 0===e||null===(Ou=e.options)||void 0===Ou?void 0:Ou.destination)&&a.createElement("div",{className:fe.actionsContainer,style:{fontSize:"12px"},onClick:function(){Un({source:!1,destination:!0,field:e,index:n})}},a.createElement("div",{style:{width:"30%",textAlign:"left"}},a.createElement(M.G,{icon:Z.opg,style:{width:"20px",height:"20px",marginRight:"5px",color:"green"}}),"To",":"),a.createElement("div",{style:{width:"70%",textAlign:"left"}},null!==e&&void 0!==e&&e.value?null===(Lu=JSON.parse(e.value))||void 0===Lu||null===(zu=Lu.destination)||void 0===zu?void 0:zu.address:""))),(null===Rn||void 0===Rn?void 0:Rn.source)&&a.createElement(h.U7,{hasCloseIcon:!0,blured:!1,scrollable:!0,isOpen:Rn.source,shadowedContainerStyle:{width:"100%"},onClose:function(){return Un({source:!1,destination:!1})}},a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"30px"}},a.createElement("div",{className:fe.title},null!==(Ru=null===Rn||void 0===Rn||null===(Uu=Rn.field)||void 0===Uu?void 0:Uu.field_name)&&void 0!==Ru?Ru:"Origin:"),a.createElement(Me.Z,{zoom:null===Rn||void 0===Rn||null===(Fu=Rn.field)||void 0===Fu||null===(Wu=Fu.options)||void 0===Wu?void 0:Wu.zoom,value:null===(qu=JSON.parse(null!==(Bu=null===Rn||void 0===Rn||null===(Yu=Rn.field)||void 0===Yu?void 0:Yu.value)&&void 0!==Bu?Bu:JSON.stringify({source:{},destination:{}})))||void 0===qu?void 0:qu.source,onChange:function(l){var o,i,t,d,a,u,r,v,s,c,m=null!==Rn&&void 0!==Rn&&null!==(o=Rn.field)&&void 0!==o&&o.value?JSON.parse(null===Rn||void 0===Rn||null===(i=Rn.field)||void 0===i?void 0:i.value):{source:{lat:0,lng:0,address:""},destination:{lat:0,lng:0,address:""}};if(m.source.lat=l.geometry.location.lat,m.source.lng=l.geometry.location.lng,m.source.address=l.formatted_address,null!==Rn&&void 0!==Rn&&Rn.field&&(null===(t=e.options)||void 0===t||!t.compute))return P(JSON.stringify(m),Rn.index),void Un({source:!1,destination:!1});var f,_,y,h,g,b,x,E,C,w,Z,M,S=null===I||void 0===I||null===(d=I.selected_fields)||void 0===d?void 0:d.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)}));S||((S=null===(f=U.newStepComponents)||void 0===f||null===(_=f.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})).length)>0})))||void 0===_||null===(y=_.selected_fields)||void 0===y?void 0:y.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})))||(S=null===(h=U.components)||void 0===h||null===(g=h.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})).length)>0})))||void 0===g||null===(b=g.selected_fields)||void 0===b?void 0:b.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})))||(S=null===(x=se.processModule)||void 0===x||null===(E=x.steps[null!==(Z=null===(M=se.processModule)||void 0===M?void 0:M.stepIndex)&&void 0!==Z?Z:1].component_blueprints)||void 0===E||null===(C=E.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})).length)>0})))||void 0===C||null===(w=C.selected_fields)||void 0===w?void 0:w.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)}))));if(null!==m&&void 0!==m&&m.source&&null!==(a=e.options)&&void 0!==a&&a.compute&&0==(null===(u=e.options)||void 0===u?void 0:u.destination))m.distance=(0,p.Iw)(m.source.lat,m.source.lng,Ke.latitude,Ke.longitude),m.duration=0,S&&(S.value=m.distance,S.disabled=!0),P(JSON.stringify(m),n);else if(null!==(r=m.source)&&void 0!==r&&r.address&&null!==Rn&&void 0!==Rn&&null!==(v=Rn.field.options)&&void 0!==v&&v.compute){var k;null===(k=(0,Re.Y)(m.source.address,m.destination.address))||void 0===k||k.subscribe({next:function(e){var n;if((null===e||void 0===e||null===(n=e.routes)||void 0===n?void 0:n.length)>0){var l,o,i,t,d,a=e.routes[0];if((null===a||void 0===a||null===(l=a.legs)||void 0===l?void 0:l.length)>0)m.distance=(null===(o=a.legs[0])||void 0===o||null===(i=o.distance)||void 0===i?void 0:i.value)/1e3,m.duration=null===(t=a.legs[0])||void 0===t||null===(d=t.duration)||void 0===d?void 0:d.value,m.steps=a.legs[0].steps,S&&(S.value=m.distance,S.disabled=!0)}},error:function(e){m.distance=(0,p.Iw)(m.source.lat,m.source.lng,m.destination.lat,m.destination.lng),m.duration=0,S&&(S.value=m.distance,S.disabled=!0)}})}else null!==(s=m.source)&&void 0!==s&&s.address&&(m.distance=(0,p.Iw)(m.source.lat,m.source.lng,m.destination.lat,m.destination.lng),m.duration=0,S&&(S.value=m.distance));P(JSON.stringify(m),null!==(c=null===Rn||void 0===Rn?void 0:Rn.index)&&void 0!==c?c:n),Un({source:!1,destination:!1})},mapkey:null===(Hu=oe.misc_info)||void 0===Hu?void 0:Hu.map}))),(null===Rn||void 0===Rn?void 0:Rn.destination)&&a.createElement(h.U7,{hasCloseIcon:!0,blured:!1,scrollable:!0,isOpen:Rn.destination,shadowedContainerStyle:{width:"100%"},shadowedContainerClassname:fe.mappopup,onClose:function(){return Un({source:!1,destination:!1})}},a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},a.createElement("div",{className:fe.title},null!==(ju=null===Rn||void 0===Rn||null===(Vu=Rn.field)||void 0===Vu?void 0:Vu.field_name)&&void 0!==ju?ju:"Destination:"),a.createElement(Me.Z,{value:null===(Gu=JSON.parse(null!==(Ju=null===Rn||void 0===Rn||null===(Ku=Rn.field)||void 0===Ku?void 0:Ku.value)&&void 0!==Ju?Ju:JSON.stringify({source:{},destination:{}})))||void 0===Gu?void 0:Gu.destination,zoom:null===Rn||void 0===Rn||null===(Qu=Rn.field)||void 0===Qu||null===(Xu=Qu.options)||void 0===Xu?void 0:Xu.zoom,onChange:function(e){var n,l,o,i,t,d,a,u,r,v,s,c,m,f=null!==Rn&&void 0!==Rn&&null!==(n=Rn.field)&&void 0!==n&&n.value?JSON.parse(null===Rn||void 0===Rn||null===(l=Rn.field)||void 0===l?void 0:l.value):{destination:{lat:0,lng:0,address:""},source:{lat:0,lng:0,address:""}},_=null===I||void 0===I||null===(o=I.selected_fields)||void 0===o?void 0:o.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)}));_||((_=null===(a=U.newStepComponents)||void 0===a||null===(u=a.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})).length)>0})))||void 0===u||null===(r=u.selected_fields)||void 0===r?void 0:r.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})))||(_=null===(v=U.components)||void 0===v||null===(s=v.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})).length)>0})))||void 0===s||null===(c=s.selected_fields)||void 0===c?void 0:c.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)}))));(f.destination.lat=e.geometry.location.lat,f.destination.lng=e.geometry.location.lng,f.destination.address=e.formatted_address,null!==(i=f.destination)&&void 0!==i&&i.address&&null!==Rn&&void 0!==Rn&&null!==(t=Rn.field.options)&&void 0!==t&&t.compute)?null===(m=(0,Re.Y)(f.source.address,f.destination.address))||void 0===m||m.subscribe({next:function(e){var n;if((null===e||void 0===e||null===(n=e.routes)||void 0===n?void 0:n.length)>0){var l,o,i,t,d,a=e.routes[0];if((null===a||void 0===a||null===(l=a.legs)||void 0===l?void 0:l.length)>0)f.distance=(null===(o=a.legs[0])||void 0===o||null===(i=o.distance)||void 0===i?void 0:i.value)/1e3,f.duration=null===(t=a.legs[0])||void 0===t||null===(d=t.duration)||void 0===d?void 0:d.value,f.steps=a.legs[0].steps,_&&(_.value=f.distance)}},error:function(e){f.distance=(0,p.Iw)(f.source.lat,f.source.lng,f.destination.lat,f.destination.lng),f.duration=0,_&&(_.value=f.distance)}}):null!==(d=f.destination)&&void 0!==d&&d.address&&(f.distance=(0,p.Iw)(f.source.lat,f.source.lng,f.destination.lat,f.destination.lng),f.duration=0,_&&(_.value=f.distance));P(JSON.stringify(f),null===Rn||void 0===Rn?void 0:Rn.index),Un({source:!1,destination:!1})},mapkey:null===($u=oe.misc_info)||void 0===$u?void 0:$u.map})))):a.createElement(Me.Z,{zoom:null===Rn||void 0===Rn||null===(er=Rn.field)||void 0===er||null===(nr=er.options)||void 0===nr?void 0:nr.zoom,key:n,value:null===I||void 0===I?void 0:I.selected_fields[n].value,onLocationChange:function(e){return ne(e,n)},mapkey:null===(lr=oe.misc_info)||void 0===lr?void 0:lr.map}));if("Map"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Wl=e.options)||void 0===Wl||null===(ql=Wl.maptype)||void 0===ql?void 0:ql.length)>0)return a.createElement(ge.Z,{enabled:Hl,width:"100%",editMode:we,showWidth:function(n){e.field_options=(0,t.Z)((0,t.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(or=e.options)||void 0===or?void 0:or.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},a.createElement(Pe,{key:n,value:null===I||void 0===I?void 0:I.selected_fields[n].value,onLocationChange:function(e){return ne(e,n)}}));if("Summary"===(null===e||void 0===e?void 0:e.data_type_name)){var Pv,Av={};return U.components.map((function(e){return e.selected_fields.filter((function(e){return(null===e||void 0===e?void 0:e.value)&&!("Pin"===e.data_type_name||"Lookup"===e.data_type_name||"Record"===e.data_type_name||"Ratings"===e.data_type_name||"People"===e.data_type_name||"Positions"===e.data_type_name||"Notes"===e.data_type_name||"URL"===e.data_type_name||"Summary"===e.data_type_name||"Info"===e.data_type_name)&&1==e.visible})).map((function(e){var n,l;(0,p.gD)(null!==(n=null===e||void 0===e?void 0:e.value)&&void 0!==n?n:"")?Av[e.field_name]="":Av[e.field_name]="".concat(null!==(l=null===e||void 0===e?void 0:e.value)&&void 0!==l?l:"")}))})),(null!==(Pv=null===N||void 0===N?void 0:N.component_fields)&&void 0!==Pv?Pv:[]).filter((function(e){return(null===e||void 0===e?void 0:e.value)&&!("Pin"===e.data_type_name||"Lookup"===e.data_type_name||"Record"===e.data_type_name||"Ratings"===e.data_type_name||"People"===e.data_type_name||"Positions"===e.data_type_name||"Notes"===e.data_type_name||"URL"===e.data_type_name||"Summary"===e.data_type_name||"Info"===e.data_type_name)})).forEach((function(e){var n;return Av[e.field_name]="".concat(null!==(n=null===e||void 0===e?void 0:e.value)&&void 0!==n?n:"")})),U.newStepComponents.map((function(e){return e.selected_fields.filter((function(e){return!("Pin"===e.data_type_name||"Lookup"===e.data_type_name||"Record"===e.data_type_name||"Ratings"===e.data_type_name||"People"===e.data_type_name||"Positions"===e.data_type_name||"Notes"===e.data_type_name||"URL"===e.data_type_name)&&1==e.visible})).map((function(e){var n,l;(0,p.gD)(null!==(n=null===e||void 0===e?void 0:e.value)&&void 0!==n?n:"")?Av[e.field_name]="":Av[e.field_name]="".concat(null!==(l=null===e||void 0===e?void 0:e.value)&&void 0!==l?l:"")}))})),a.createElement(ge.Z,{enabled:Hl,width:"100%",editMode:we,style:{border:"0",backgroundColor:"var(--app-color-gray-lightest)"},key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},a.createElement("div",{key:n,style:{margin:"20px 10px",width:"100%"}},a.createElement(A.default,{modern:!0,columns:Object.keys(Av),list:[Av]})))}return"Currency"===(null===e||void 0===e?void 0:e.data_type_name)&&null!==e&&void 0!==e&&null!==(Bl=e.options)&&void 0!==Bl&&Bl.currency_type?a.createElement(ge.Z,{titleProps:{fontSize:"14px",color:"var(--app-color-gray-dark)",fontWeight:"normal",paddingLeft:"5px"},style:{border:"1px solid var(--app-color-gray-lighter)"},enabled:Hl,width:"100%",editMode:we,showWidth:function(n){e.field_options=(0,t.Z)((0,t.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(ir=e.options)||void 0===ir?void 0:ir.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},a.createElement("div",{style:{width:"inherit",display:"flex"}},a.createElement("div",{onClick:function(){return an(!dn)},className:fe.currencySymbol},null!==e&&void 0!==e&&null!==(tr=e.options)&&void 0!==tr&&tr.symbol?null===e||void 0===e||null===(dr=e.options)||void 0===dr?void 0:dr.symbol:""," "),dn&&a.createElement(h.Ld,{items:p.s3,defaultSelectedItem:{label:null===e||void 0===e||null===(ar=e.options)||void 0===ar?void 0:ar.currency_type,value:null===e||void 0===e||null===(ur=e.options)||void 0===ur?void 0:ur.country_code},triggerType:"chevron",className:fe.currencySelectComponent,inputClassName:fe.currencySearchInput,inputContainerClassName:fe.currencyInputContainerClassName,clearControlsClassName:fe.currencyClearControlsClassName,molclassname:fe.currencySelectMenuOverlayList,moliclassname:fe.currencySelectMenuOverlayListItem,onChange:function(e){U.currency=e.value,J(e,n),an(!1)}}),!dn&&a.createElement("input",{type:"number",autoComplete:"off",value:null!==(rr=I.selected_fields[n].value)&&void 0!==rr?rr:0,className:fe.currencyInput,onChange:function(e){P(e.target.value,n)}}))):a.createElement(ge.Z,{titleProps:{fontSize:"14px",color:"var(--app-color-gray-dark)",fontWeight:"normal",paddingLeft:"5px"},enabled:Hl,width:"100%",style:{marginTop:"0px",border:"0px solid var(--app-color-gray-lighter)",padding:"5px",marginBottom:"10px",backgroundColor:"var(--app-color-gray-lightest)"},editMode:we,showWidth:function(n){e.field_options=(0,t.Z)((0,t.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(vr=e.options)||void 0===vr?void 0:vr.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,customIconBgColor:"white"},"file"===e.data_type?a.createElement(nn,{notes:null===e||void 0===e||null===(sr=e.options)||void 0===sr?void 0:sr.notes,field_id:e.id,value:null===e||void 0===e?void 0:e.value,isInherited:W,checkIfAreMandatoryErrored:B,options:null===e||void 0===e?void 0:e.options,index:n,indexInContextArray:O}):"date"===e.data_type||null!==e&&void 0!==e&&null!==(cr=e.options)&&void 0!==cr&&cr.country_code||null!==e&&void 0!==e&&null!==(pr=e.options)&&void 0!==pr&&pr.currency_type||"Number"===e.data_type_name?a.createElement("div",{style:{width:"inherit"}},"date"===e.data_type?"Range"===(null===e||void 0===e||null===(mr=e.options)||void 0===mr?void 0:mr.type)?a.createElement(h.$m,{inputContainerClassName:fe.inputContainerClassName,dateChangeHandler:function(e){return gl(e,n)},startDate:hn,endDate:gn}):null!==e&&void 0!==e&&null!==(fr=e.options)&&void 0!==fr&&fr.time?a.createElement("div",{style:{width:"100%",height:"auto",border:"0"}},a.createElement(he(),{showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,customInput:a.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",padding:"5px",border:"0px solid var(--app-color-gray-lighter)"}},a.createElement("input",{value:e.value?C()(e.value).format("DD MMMM YYYY HH:mm"):"",readOnly:!0,type:"text",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",fontFamily:"var(--app-text-font-mobile)",fontSize:"16px",lineHeight:"20px",color:"#4A4A4A",textAlign:"left",maxWidth:"98%",border:"0px"},onChange:function(e){}}),a.createElement(M.G,{icon:Z.WRo,style:{marginLeft:"10px",width:"14px",height:"14px"}})),className:fe.singleInputContainer,selected:null!==e&&void 0!==e&&e.value?new Date(C()(null===e||void 0===e?void 0:e.value)):(0,E.now)(),onChange:function(e){e>(0,E.now)()&&bl(e,n)}})):a.createElement(h.X9,{toggleDP:function(e){return Bn(!0===e?"240px":"50px")},value:void 0==e.value?"":C()(new Date(e.value)).format("Do MMMM YYYY"),dateChangeHandler:function(e){return bl(e,n)},selected:new Date(C()(sn,"YYYY-MM-DD")),iconClassName:fe.calendar,inputContainerClassName:fe.singleInputContainer,inputStyle:{textAlign:"left",border:"none",height:"auto",fontSize:"16px"},hasCalendarIcon:!0}):null!==e&&void 0!==e&&null!==(_r=e.options)&&void 0!==_r&&_r.country_code?a.createElement("div",{style:{padding:"10px"}},a.createElement(Ze(),{specialLabel:"",value:I.selected_fields[n].value,country:null===e||void 0===e||null===(yr=e.options)||void 0===yr?void 0:yr.country_code,onChange:function(e,l,o){V(l,n,o.target.value)},inputClass:fe.phoneIInput,inputProps:{style:{border:"0"}}})):a.createElement("input",{onBlur:function(l){return $e(e.data_type_name,l.target.value,O,n,U)},type:e.data_type,onChange:function(e){P(e.target.value,n)},autoComplete:"none",value:I.selected_fields[n].value?I.selected_fields[n].value:""===Xe(null===e||void 0===e?void 0:e.options)?"":Xe(null===e||void 0===e?void 0:e.options),placeholder:"Number"===I.selected_fields[n].data_type_name?"0":"",className:fe.fieldTypeInput,style:{border:"0"},name:e.field_name,disabled:null!==(hr=I.selected_fields[n].disabled)&&void 0!==hr&&hr})):"Long Text"===e.data_type_name?a.createElement("textarea",{className:fe.fieldTypeTextarea,onBlur:function(l){return $e(e.data_type_name,l.target.value,O,n,U)},type:e.data_type,value:I.selected_fields[n].value?I.selected_fields[n].value:""===Xe(null===e||void 0===e?void 0:e.options)?"":Xe(null===e||void 0===e?void 0:e.options),onFocus:function(){},disabled:null!==(gr=I.selected_fields[n].disabled)&&void 0!==gr&&gr,autoComplete:"none",onChange:function(e){P(e.target.value,n)},placeholder:"Number"===I.selected_fields[n].data_type_name?"0":"",name:e.field_name,style:{border:"0"}}):a.createElement("input",{onBlur:function(l){return $e(e.data_type_name,l.target.value,O,n,U)},type:e.data_type,onChange:function(e){P(e.target.value,n)},autoComplete:"none",value:I.selected_fields[n].value?I.selected_fields[n].value:""===Xe(null===e||void 0===e?void 0:e.options)?"":Xe(null===e||void 0===e?void 0:e.options),placeholder:"Number"===I.selected_fields[n].data_type_name?"0":"",className:fe.fieldTypeInput,name:e.field_name,disabled:null!==(br=I.selected_fields[n].disabled)&&void 0!==br&&br,style:{border:"0"}}))}return a.createElement(ge.Z,{enabled:Hl,width:"100%",style:{backgroundColor:"var(--app-color-gray-lightest)",padding:"10px"},editMode:we,key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(Ya=e.options)||void 0===Ya?void 0:Ya.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},a.createElement("div",{style:{width:"100%",height:"auto",border:"0px solid var(--app-color-gray-light)"}},a.createElement(he(),{showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,customInput:a.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",padding:"5px",border:"0px solid var(--app-color-gray-lighter)",color:"black"}},a.createElement(M.G,{icon:Z.WRo,style:{marginLeft:"10px",width:"14px",height:"14px"}}),a.createElement("input",{disabled:!0,value:e.value?C()(e.value).format("DD MMMM YYYY HH:mm"):"",type:"text",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",fontFamily:"var(--app-text-font-mobile)",fontSize:"16px",lineHeight:"20px",color:"black",textAlign:"left",width:"80%",border:"0px"},onChange:function(e){}})),className:fe.singleInputContainer,selected:null!==e&&void 0!==e&&e.value?new Date(C()(null===e||void 0===e?void 0:e.value)):(0,E.now)(),onChange:function(e){e>(0,E.now)()&&bl(e,n)}})))}var Ov,Lv,zv,Rv,Uv,Fv,Wv=Object.entries(Object.assign({item_code:null,quantity:null,value:null,alt_value:null,total:null},e.options.map)).reduce((function(e,n){var l=(0,d.Z)(n,2),o=l[0],i=l[1];return null===i||(e[o]=i),e}),{});return a.createElement(ge.Z,{fieldLabel:null===e||void 0===e?void 0:e.field_name,enabled:Hl,width:"100%",editMode:we,showWidth:function(n){e.options=(0,t.Z)((0,t.Z)({},e.options),{},{width:"".concat(n,"px")})},style:{border:"0",padding:"0",marginTop:"50px"},key:n,visible:e.visible,notes:null===e||void 0===e||null===(Ov=e.options)||void 0===Ov?void 0:Ov.notes,error:(null===(Lv=e.errors)||void 0===Lv?void 0:Lv.length)>0?"".concat(e.errors):""},a.createElement(A.default,{modern:!!b.tq,className:fe.itemsContainer,columns:null===I||void 0===I||null===(zv=I.selected_fields)||void 0===zv?void 0:zv.filter((function(e){var n;return null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem})).map((function(e){return e.field_name})).concat(["Actions"]),list:null===(Rv=X.Z([le.Z(ee.Z("index"))])(null!==(Uv=null!==e&&void 0!==e&&null!==(Fv=e.options)&&void 0!==Fv&&Fv.type?U.items.filter((function(n){var l;return n.type===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.type)})):U.items)&&void 0!==Uv?Uv:[]))||void 0===Rv?void 0:Rv.map((function(e,n){e.index=n;var l={index:n,Actions:a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",minWidth:"80px"}},!(null!==e&&void 0!==e&&e.edit)&&a.createElement(M.G,{icon:Z.IwR,onClick:function(){e.edit=!0,F({action:g._U.setModuleItems,value:[].concat((0,o.Z)(U.items.filter((function(n){return n.id!==e.id}))),[e])})}}),(null===e||void 0===e?void 0:e.edit)&&a.createElement(M.G,{icon:Z.EsX,onClick:function(){e.edit=!1,F({action:g._U.setModuleItems,value:[].concat((0,o.Z)(U.items.filter((function(n){return n.id!==e.id}))),[e])})}}),(null===e||void 0===e?void 0:e.edit)&&a.createElement(M.G,{icon:Z.$aW,onClick:function(){F({action:g._U.setModuleItems,value:U.items.filter((function(n){return n.id!==e.id}))})}}))};return Object.entries(null!==Wv&&void 0!==Wv?Wv:[]).forEach((function(i){var d,u,r;l[i[1]]=a.createElement("div",{style:{padding:null!==e&&void 0!==e&&e.edit?"5px":""}},a.createElement(Sl,{index:n,enabled:!0,edit:null!==(d=null===e||void 0===e?void 0:e.edit)&&void 0!==d&&d,isItem:!0,item:e,field:(0,t.Z)((0,t.Z)({},null!==(u=null===I||void 0===I||null===(r=I.selected_fields)||void 0===r?void 0:r.find((function(e){var n;return(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)===i[0]})))&&void 0!==u?u:{}),{},{visible:!0,value:e[i[0]]}),withLabel:!1,handleItem:function(n,l){e[i[0]]!==n&&(e[i[0]]=n,F({action:g._U.setModuleItems,value:[].concat((0,o.Z)(U.items.filter((function(n){return n.id!==e.id}))),[e])}))}}))})),l}))}))}})));return a.createElement("div",{id:null===I||void 0===I?void 0:I.name,className:fe.emulatedFlexGap,style:{width:"100%",position:"relative",marginBottom:qn,padding:"30px 10px 10px 10px"}},kl,(null===Kn||void 0===Kn||null===(u=Kn.candidates)||void 0===u?void 0:u.length)>0&&a.createElement(ge.Z,{width:"80%",fieldLabel:"Response",visible:!0},a.createElement("textarea",{className:fe.fullLengthTextarea,type:"text",onFocus:function(){},disabled:!0,value:null===Kn||void 0===Kn||null===(r=Kn.candidates[0])||void 0===r||null===(w=r.content.parts[0])||void 0===w?void 0:w.text})))})),nn=function(e){e.notes;var n,l=e.options,i=e.field_id,t=e.index,u=e.indexInContextArray,r=e.value,v=e.checkIfAreMandatoryErrored,s=(0,a.useState)(),p=(0,d.Z)(s,2),m=p[0],f=p[1],_=(0,a.useState)(!1),y=(0,d.Z)(_,2),h=y[0],x=y[1],E=(0,g.pQ)(),C=(0,d.Z)(E,2),w=C[0],Z=C[1];return a.createElement("div",{style:{width:"inherit",flexDirection:"column",fontSize:"12px"}},a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flex:"1 1",overflow:"hidden",fontSize:"14px"}},a.createElement("u",{onClick:function(){var e;null===(e=document.getElementById("file-change-".concat(i)))||void 0===e||e.click()},style:{cursor:"pointer",marginLeft:"2px",wordWrap:"break-word"}},null!==m&&void 0!==m&&m.name||r?"File":"Click to upload file..."),a.createElement("input",{accept:"."+(null===l||void 0===l||null===(n=l.accepted_mimes)||void 0===n?void 0:n.replace(/,/g,",.")),type:"file",onChange:function(){return function(e){var n,l,d=document.getElementById("file-change-".concat(i)).files[0],a=((null===d||void 0===d?void 0:d.size)/1024/1024).toFixed(4),r=(e/1024).toFixed(4);x(!0);var s=(0,o.Z)(null!==(n=null===(l=w.currentStep)||void 0===l?void 0:l.component_blueprints)&&void 0!==n?n:[]);a>r?alert("File is too big!"):(0,c.kf)(d,i).subscribe({next:function(e){f(d),x(!1),s[u].selected_fields[t].value=null===e||void 0===e?void 0:e.file_url,s[u].selected_fields[t].value&&s[u].selected_fields[t].mandatory&&(s[u].selected_fields[t].errors=""),v(),Z({action:g._U.setComponentBlueprints,value:s}),Z({action:g._U.setModuleNewStepComponents,value:s})}})}(null===l||void 0===l?void 0:l.max_file_size)},style:{position:"absolute",visibility:"hidden",width:"0px"},id:"file-change-".concat(i),className:fe.fieldTypeInput}),h&&a.createElement(Ae.Z,{type:b.G6?"Watch":"Puff",color:"#4A4A4A",secondaryColor:"gray",radius:22,height:22,width:"22px"}),(null===m||void 0===m?void 0:m.type)&&a.createElement(ln,{fileType:null===m||void 0===m?void 0:m.type})))},ln=function(e){return"application/pdf"===(null===e||void 0===e?void 0:e.fileType)?a.createElement("img",{alt:"",src:T.ed}):a.createElement("img",{alt:"",src:T.dm})},on=(0,a.memo)((function(e){var n=e.children,l=e.nav,o=e.openNav,i=e.title;return a.createElement(h.U7,{onClose:o,blured:!1,scrollable:!0,isOpen:l,shadowedContainerStyle:{width:"100%",minWidth:"50%",minHeight:"400px"},shadowedContainerClassname:fe.popup},a.createElement("div",{style:{width:"inherit",height:"inherit"},onClick:o},i.length>0&&a.createElement("div",{className:fe.actionsContainer},a.createElement("p",{className:fe.infoTitle},i)),n))})),tn=function(e){var n,l,o,i=e.component,t=e.blueprintIndex,u=e.setSelectedComponent,r=e.selectedComponent,v=e.companyData,s=e.components,c=e.allComponents,p=e.companyUsersArray,m=e.user,f=e.status,_=(0,g.pQ)(),y=(0,d.Z)(_,1)[0],h=(0,a.useState)(fe.active),x=(0,d.Z)(h,1)[0],E=(0,a.useState)(""),C=(0,d.Z)(E,1)[0],w=null===(n=y.currentStep)||void 0===n?void 0:n.component_blueprints.findIndex((function(e){return e.id===i.id})),Z=i.selected_fields.filter((function(e){return"Pin"===e.data_type_name||"Map"===e.data_type_name})).length>0,M=null===r||void 0===r||null===(l=r.component_fields)||void 0===l?void 0:l.find((function(e){return"Action Button"===e.data_type_name}));return a.createElement("div",{id:"accordion",key:t,className:Ee()(fe.accordionContainer,x),"app-variant-has-error":C?"error":"",style:b.tq?Z?{padding:"0",border:"0"}:{border:"0"}:{}},a.createElement("p",{className:fe.cardTitle,style:{fontSize:"16px"}},null===i||void 0===i||null===(o=i.name)||void 0===o?void 0:o.toUpperCase(),":"),a.createElement(dn,{components:s,allComponents:c,component:i,handleInputChange:function(){},handlePrefixChange:function(){},handleCurrencyChange:function(){},checkIfAreMandatoryErrored:!1,handleCheckbox:function(){},isInherited:!1,indexInContextArray:w,handleLocationChange:function(){},processTaskContext:y,companyData:v,companyUsersArray:p,selectedComponent:r,setSelectedComponent:u,hasAction:M,user:m,status:f}))},dn=(0,a.memo)((function(e){var n,l,o=e.component,u=e.components,r=e.companyData,f=e.allComponents,y=e.companyUsersArray,w=e.setSelectedComponent,S=e.selectedComponent,k=e.hasAction,I=e.user,N=e.status,T=(0,x.v9)((function(e){return e.flowReducer})),D=T.allTasks,P=T.companyPositionsArray,O=T.allModules,L=T.begunModule,z=(0,g.pQ)(),R=(0,d.Z)(z,2),U=R[0],F=R[1],W=(0,a.useState)(!1),q=(0,d.Z)(W,2),Y=q[0],H=q[1],j=(0,a.useState)(0),V=(0,d.Z)(j,2),G=V[0],J=V[1],K=(0,a.useState)(!1),Q=(0,d.Z)(K,2),$=Q[0],ne=Q[1],oe=(0,a.useState)(!1),de=(0,d.Z)(oe,2),ae=de[0],ue=de[1],re=(null===o||void 0===o||null===(n=o.selected_fields)||void 0===n?void 0:n.length)>0&&X.Z([le.Z(ee.Z("index"))])(null===o||void 0===o||null===(l=o.selected_fields)||void 0===l?void 0:l.filter((function(e){return!0!==e.value||void 0!==(null===e||void 0===e?void 0:e.value)}))).map((function(e,n){var l,d,x,T;if((null===e||void 0===e||null===(l=e.options)||void 0===l||null===(d=l.list)||void 0===d?void 0:d.length)>0&&(null===e||void 0===e||null===(x=e.options)||void 0===x||null===(T=x.component_id)||void 0===T?void 0:T.length)>0&&("Step List"===(null===e||void 0===e?void 0:e.data_type_name)||"Component List"===(null===e||void 0===e?void 0:e.data_type_name)))return a.createElement("div",{key:n,style:{width:"100%"}},a.createElement(A.default,{modern:!0,columns:e.options.list,list:(be=e.options,u.filter((function(e){return e.id===be.component_id})).map((function(e){return null===be||void 0===be?void 0:be.list.reduce((function(n,l){var o;return(0,t.Z)((0,t.Z)({},n),{},(o={},(0,i.Z)(o,l,e.selected_fields.find((function(e){return e.field_name===l})).value),(0,i.Z)(o,"temp_id",e.temp_id),o))}),{})})))}));if("output"===e.data_type&&"Formula"!==e.data_type_name&&"Item Formula"!==e.data_type_name&&"Record"!==e.data_type_name&&"Filters"!==e.data_type_name)return null;if("Info"===e.data_type_name)return null;if("URL"===e.data_type_name)return null;if("Map"===e.data_type_name)return null;if("Lookup"===e.data_type_name)return null;if("Rewards"===e.data_type_name)return null;if("Summary"===e.data_type_name)return null;if("Ratings"===e.data_type_name)return null;if("ID"===e.data_type_name){var z,R,W=null!==(z=null===B||void 0===B?void 0:te.Z(null===B||void 0===B?void 0:ie.Z("field_name",e.field_name))(o.values))&&void 0!==z?z:null;return a.createElement("div",{key:n},a.createElement("div",{className:fe.actionsContainer,style:{fontSize:"12px"}},a.createElement("div",{style:{fontWeight:"normal",fontSize:"14px"}},e.field_name,":"),a.createElement("div",null,null===W||null===W.value?"":null===W||void 0===W||null===(R=W.value)||void 0===R?void 0:R.split(",")[0])),a.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}))}var q,j,V,K,Q,X,ee,le,oe,de,re,ve,se,ce,pe,me,_e,ye,he,be,xe=null!==(q=null===B||void 0===B?void 0:te.Z(null===B||void 0===B?void 0:ie.Z("field_name",null===e||void 0===e?void 0:e.field_name))(null!==(j=null===S||void 0===S?void 0:S.component_fields)&&void 0!==j?j:[]))&&void 0!==q?q:{},Ee=null===(V=xe)||void 0===V?void 0:V.value,Ce=null===o||void 0===o||null===(K=o.selected_fields)||void 0===K?void 0:K.find((function(e){return"Info"===e.data_type_name}));if(Ce){var we,Ze,Me=f.find((function(e){return(null===e||void 0===e?void 0:e.component_fields.filter((function(e){return e.component_blueprint_id===Ce.options.component_id&&e.value===Ee})).length)>0}));if(Me)return null===Ce||void 0===Ce||null===(we=Ce.options)||void 0===we||null===(Ze=we.list)||void 0===Ze?void 0:Ze.map((function(e,n){var l,o,i=null!==(l=null===(o=Me.component_fields.find((function(n){return n.field_name===e})))||void 0===o?void 0:o.value)&&void 0!==l?l:"";return a.createElement("div",{key:n},a.createElement("div",{className:fe.actionsContainer,style:{fontSize:"12px"}},a.createElement("div",{style:{fontWeight:"normal",fontSize:"14px"}},e,":"),a.createElement("div",null,i)),a.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}))}))}if("Pin"===e.data_type_name&&(null!==e&&void 0!==e&&e.value||Ee)){var Se,ke,Ie,Ne,Te,De,Pe,Ae,Oe,Le,Ue,Fe,We,qe,Ye,He,je,Ve,Ge,Je,Ke,Qe,Xe,$e,en,nn,ln,on,tn,dn,an,un,rn,vn=JSON.parse(null!==(Se=null===e||void 0===e?void 0:e.value)&&void 0!==Se?Se:Ee),sn=null===S||void 0===S||null===(ke=S.component_fields)||void 0===ke||null===(Ie=ke.find((function(e){return"Status"===e.data_type_name})))||void 0===Ie?void 0:Ie.value;if(void 0===xe)xe=null===(rn=S.component_fields)||void 0===rn?void 0:rn.find((function(e){return"Pin"===e.data_type_name}));return a.createElement("div",{key:n,style:{display:"",width:"100%"}},ae&&a.createElement(Re.Z,{mapkey:null===(Ne=r.misc_info)||void 0===Ne?void 0:Ne.map,pins:null!==vn&&void 0!==vn&&vn.realtime?null!==vn&&void 0!==vn&&null!==(Te=vn.destination)&&void 0!==Te&&Te.address?[(0,t.Z)((0,t.Z)({},vn.destination),{},{type:"destination"}),(0,t.Z)((0,t.Z)({},vn.source),{},{type:"source"}),(0,t.Z)((0,t.Z)({},vn.realtime),{},{type:"realtime"})]:[(0,t.Z)((0,t.Z)({},vn.source),{},{type:"source"}),(0,t.Z)((0,t.Z)({},vn.realtime),{},{type:"realtime"})]:null!==vn&&void 0!==vn&&null!==(De=vn.destination)&&void 0!==De&&De.address?[(0,t.Z)((0,t.Z)({},vn.destination),{},{type:"destination"}),(0,t.Z)((0,t.Z)({},vn.source),{},{type:"source"})]:[(0,t.Z)((0,t.Z)({},vn.source),{},{type:"source"})]}),a.createElement("div",{key:n,className:fe.filtersContainer,style:{color:"var(--app-color-gray-dark)",height:"inherit",width:"100%",display:null!==e&&void 0!==e&&e.visible?"":"none"}},a.createElement("div",{className:fe.actionsContainer,style:{fontSize:"12px"},onClick:function(){return ue(!ae)}},null!==vn&&void 0!==vn&&null!==(Pe=vn.destination)&&void 0!==Pe&&Pe.address?a.createElement("div",{style:{width:"50px",textAlign:"left",fontWeight:"normal",fontSize:"14px"}},"From:"):a.createElement(M.G,{icon:Z.opg,style:{color:"green",width:"20px",height:"20px"}}),a.createElement("div",{style:{width:"70%",textAlign:"right"}},vn.source.address)),(null===vn||void 0===vn||null===(Ae=vn.destination)||void 0===Ae?void 0:Ae.address)&&a.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}),(null===vn||void 0===vn||null===(Oe=vn.destination)||void 0===Oe?void 0:Oe.address)&&a.createElement("div",{className:fe.actionsContainer,style:{fontSize:"12px"}},a.createElement("div",{style:{width:"50px",textAlign:"left",fontWeight:"normal",fontSize:"14px"}},"To",":"),a.createElement("div",{style:{width:"70%",textAlign:"right"}},null===vn||void 0===vn||null===(Le=vn.destination)||void 0===Le?void 0:Le.address))),a.createElement(h.zx,{light:!0,title:0!=G?"Stop Location Updates":null!==e&&void 0!==e&&null!==(Ue=e.options)&&void 0!==Ue&&Ue.realtime?"Send Location Updates":"Update Location",clicked:function(){0===G?navigator.geolocation.getCurrentPosition((function(n){var l,o,i,t;vn&&(vn.realtime={lat:n.coords.latitude,lng:n.coords.longitude,id:"10"},e.value=JSON.stringify(vn),1==(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.realtime)?J(setInterval((function(){H(!0),(0,c.po)({component_id:S.id,index:e.index,value:JSON.stringify(vn),group:e.group,component_field_id:xe.id}).subscribe({next:function(e){H(!1)},error:function(){return H(!1)},complete:function(){}})}),+(null!==(o=null===(i=xe)||void 0===i||null===(t=i.options)||void 0===t?void 0:t.interval)&&void 0!==o?o:6e4))):(H(!0),(0,c.po)({component_id:S.id,index:xe.index,value:JSON.stringify(vn),group:xe.group,component_field_id:xe.id}).subscribe({next:function(e){H(!1)},error:function(){return H(!1)},complete:function(){}})))})):(window.clearInterval(G),J(0))},loading:Y,style:{width:"100%",display:"Closed"===(null===S||void 0===S?void 0:S.status)||"New"===(null===S||void 0===S?void 0:S.status)||"Reopen"===(null===S||void 0===S?void 0:S.status)||(null===S||void 0===S?void 0:S.status)===(null!==(Fe=null===(We=L.processModule)||void 0===We||null===(qe=We.module)||void 0===qe||null===(Ye=qe.options)||void 0===Ye?void 0:Ye.lock)&&void 0!==Fe?Fe:null===r||void 0===r||null===(He=r.misc_info)||void 0===He?void 0:He.lock)||"Closed"===sn||"New"===sn||"Reopen"===sn||sn===(null!==(je=null===(Ve=L.processModule)||void 0===Ve||null===(Ge=Ve.module)||void 0===Ge||null===(Je=Ge.options)||void 0===Je?void 0:Je.lock)&&void 0!==je?je:null===r||void 0===r||null===(Ke=r.misc_info)||void 0===Ke?void 0:Ke.lock)||"Cancelled"===sn?"none":k&&"user"===k.options.action&&(null===k||void 0===k?void 0:k.value)===(null===I||void 0===I?void 0:I.id)?"":"none"}}),ae&&a.createElement(h.zx,{light:!0,title:"Refresh location",clicked:function(){H(!0),(0,c.r6)(S.id).pipe((0,_.P)()).subscribe({next:function(e){w(e),H(!1)},error:function(){return H(!1)}})},loading:Y,style:{width:"100%",display:"Closed"===(null===S||void 0===S?void 0:S.sttaus)||"New"===(null===S||void 0===S?void 0:S.sttaus)||"Reopen"===(null===S||void 0===S?void 0:S.sttaus)||(null===S||void 0===S?void 0:S.status)===(null!==(Qe=null===(Xe=L.processModule)||void 0===Xe||null===($e=Xe.module)||void 0===$e||null===(en=$e.options)||void 0===en?void 0:en.lock)&&void 0!==Qe?Qe:null===r||void 0===r||null===(nn=r.misc_info)||void 0===nn?void 0:nn.lock)||"Closed"===sn||"New"===sn||"Reopen"===sn||sn===(null!==(ln=null===(on=L.processModule)||void 0===on||null===(tn=on.module)||void 0===tn||null===(dn=tn.options)||void 0===dn?void 0:dn.lock)&&void 0!==ln?ln:null===r||void 0===r||null===(an=r.misc_info)||void 0===an?void 0:an.lock)||"Cancelled"===sn?"none":k&&"user"===k.options.action&&null!==k&&void 0!==k&&k.value&&(null===S||void 0===S||null===(un=S.created_by)||void 0===un?void 0:un.id)===(null===I||void 0===I?void 0:I.id)?"":"none"}}))}if("Action Button"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Q=e.options)||void 0===Q||null===(X=Q.action)||void 0===X?void 0:X.length)>0)return null!==e&&void 0!==e&&e.value||Ee?a.createElement(ge.Z,{width:"100%",key:n,style:{flexDirection:"column",border:"0"},isProcess:!0,visible:void 0!==(null===e||void 0===e?void 0:e.value)||e.visible,mandatory:!1,error:e.errors},a.createElement("div",{className:fe.centeredDiv,style:{width:"inherit",fontSize:"14px",fontWeight:"normal"}},a.createElement("p",{style:{width:"inherit",fontSize:"12px",fontWeight:"bold"}},null!==e&&void 0!==e&&e.value||Ee?null!==(ce=e.options)&&void 0!==ce&&ce.notes?null===(pe=e.options)||void 0===pe?void 0:pe.notes:"".concat(e.field_name,":"):"user"===e.options.action?"Not yet assigned":"No status"),"user"===e.options.action&&(null===y||void 0===y?void 0:y.length)>0&&(null===y||void 0===y?void 0:y.filter((function(n){return n.id===(Ee||(null===e||void 0===e?void 0:e.value))})).map((function(e,n){var l,o,i,t,d,u;return a.createElement("div",{key:n,className:fe.filtersContainer,style:{fontSize:"12px"}},a.createElement(ze.Z,{ratings:(null===e||void 0===e||null===(l=e.ratings)||void 0===l?void 0:l.length)>0?null===e||void 0===e||null===(o=e.ratings)||void 0===o?void 0:o.map((function(e){return+e.ratings})):[],simple:!0,photo:e.photo,firstName:null===e||void 0===e?void 0:e.first_name,lastName:null===e||void 0===e?void 0:e.last_name,email:null===e||void 0===e||null===(i=e.positions)||void 0===i||null===(t=i.slice(0,1))||void 0===t?void 0:t.map((function(e){return e.name})),position:"",cardClicked:function(){return ne(!$)},width:"100%"}),$&&a.createElement("div",{style:{padding:"10px"}},a.createElement("h3",null,"User Feedback:"),(null===e||void 0===e||null===(d=e.ratings)||void 0===d?void 0:d.length)>0?null===e||void 0===e||null===(u=e.ratings)||void 0===u?void 0:u.map((function(e,n){return a.createElement("div",{className:fe.actionsContainer,key:n,style:{fontSize:"12px",marginBottom:"10px"}},a.createElement("div",{style:{width:"60%",textAlign:"left"}},'"'.concat(e.comments,'"')))})):null))}))))):null;if("Module"===e.data_type_name&&null!==e&&void 0!==e&&null!==(ee=e.options)&&void 0!==ee&&ee.detail){var cn,pn,mn,fn,_n,yn=O.find((function(n){return n.id===e.options.module_id}));return a.createElement("div",{className:fe.iconsContainer,style:{display:"flex",alignContent:"space-between",justifyContent:"center",width:"100%",margin:"40px 0"}},!((null===S||void 0===S?void 0:S.status)===(null!==(cn=null===L||void 0===L||null===(pn=L.processModule)||void 0===pn||null===(mn=pn.module)||void 0===mn||null===(fn=mn.options)||void 0===fn?void 0:fn.lock)&&void 0!==cn?cn:null===r||void 0===r||null===(_n=r.misc_info)||void 0===_n?void 0:_n.lock))&&a.createElement(h.zx,{style:{backgroundColor:"var(--app-color-blue)",width:"100%"},title:null===e||void 0===e?void 0:e.field_name,message:"Preparing ".concat(yn.name," entry..."),loading:Y,clicked:function(){H(!0),(0,s.zJ)(yn.procedure.id).pipe((0,_.P)()).subscribe({next:function(n){var l;if(null!==e&&void 0!==e&&null!==(l=e.options)&&void 0!==l&&l.cmp){var o,i,d,a,u=null===n||void 0===n||null===(o=n.steps)||void 0===o?void 0:o.find((function(e){return e.component_blueprints.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.allowMultipleInputs)&&(null===(l=e.selected_fields)||void 0===l?void 0:l.find((function(e){return"Transaction List"===e.data_type_name})))})).length>0})),r=null===u||void 0===u||null===(i=u.component_blueprints)||void 0===i?void 0:i.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){return"Transaction List"===e.data_type_name&&!0===e.visible})).length)>0})),s={};if(null===r||void 0===r||null===(d=r.selected_fields)||void 0===d||d.filter((function(e){var n;return null===(n=e.options)||void 0===n?void 0:n.mapToItem})).forEach((function(e){var n,l=S.component_fields.find((function(n){return n.field_name===e.field_name&&n.data_type_name===e.data_type_name}));l&&(s[null===(n=e.options)||void 0===n?void 0:n.mapToItem]=l.value)})),Object.values(s).length>0)(0,c.r6)(null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.cmp).pipe((0,_.P)()).subscribe({next:function(n){var l,o;(0,c.np)((0,t.Z)((0,t.Z)({},s),{},{index:null===(l=n.component_items)||void 0===l?void 0:l.length,id:(0,p.mR)()}),null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.cmp).pipe((0,_.P)()).subscribe({next:function(e){H(!1),m.h.dispatch((0,v.Xc)({show:!0,message:"Success, an item was added."}))},error:function(){},complete:function(){}})},error:function(){}});else H(!1)}else H(!1),U.components=[],e.options.fields.filter((function(e){var l,o,i=null===(l=S.component_fields.find((function(n){return n.field_name===e})))||void 0===l?void 0:l.value;null===(o=n.steps)||void 0===o||o.forEach((function(n){var l;null===n||void 0===n||null===(l=n.component_blueprints)||void 0===l||l.filter((function(e){var n;return!(null!==(n=e.options)&&void 0!==n&&n.asModuleList)})).forEach((function(n){var l=n.selected_fields.find((function(n){return n.field_name===e&&1==n.visible}));l&&(l.value=i)})),n.component_blueprints.find((function(n){return n.selected_fields.filter((function(n){return n.field_name===e})).length>0}))&&F({action:g._U.addModuleComponents,value:n.component_blueprints.filter((function(n){return n.selected_fields.filter((function(n){return n.field_name===e})).length>0}))})}))})),m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},n),{},{completeSteps:n.steps,steps:n.steps,stepIndex:1,module_id:e.options.module_id,module:O.find((function(n){return n.id===e.options.module_id}))}))),F({action:g._U.setCurrentStep,value:n.steps[1]}),F({action:g._U.setModuleItems,value:[]}),F({action:g._U.setModuleNewStepComponents,value:[]})}})}}))}if("Module"===e.data_type_name)return null;if("Link"===e.data_type_name){var hn,gn="".concat(Ee||(null===e||void 0===e?void 0:e.value));return a.createElement(ge.Z,{width:b.tq?"100%":"50%",style:{border:"0"},key:n,fieldIcon:e.icon,isProcess:!0,visible:void 0!==(null===e||void 0===e?void 0:e.value)||e.visible,mandatory:!1,error:e.errors,customIconBgColor:"white"},null!==gn&&void 0!==gn&&gn.includes("jpg")||null!==gn&&void 0!==gn&&gn.includes("jpeg")||null!==e&&void 0!==e&&null!==(hn=e.options)&&void 0!==hn&&hn.image||null!==gn&&void 0!==gn&&gn.includes("png")?a.createElement("div",{className:fe.accordionContainer,onClick:function(){return window.open(gn,"_blank")}},a.createElement("img",{alt:"lg",src:gn,style:{width:"100%",height:"100%",cursor:"pointer"}})):null!==gn&&void 0!==gn&&gn.includes("pdf")?a.createElement("div",{className:fe.accordionContainer,onClick:function(){return window.open(gn,"_blank")}},a.createElement("embed",{onClick:function(){return window.open(gn,"_blank")},src:"".concat(gn,"#toolbar=0&navpanes=0&scrollbar=0"),width:"400px",height:"500px"})):a.createElement("div",{style:{width:"inherit",textDecoration:"underline",textAlign:"center",cursor:"pointer"},onClick:function(){return window.open(Ee,"_blank")}},"Link"))}if("Checkbox"===e.data_type_name)return a.createElement("div",{key:n},a.createElement("div",{className:fe.actionsContainer,style:{fontSize:"12px"}},a.createElement("div",{style:{fontWeight:"normal",fontSize:"14px"}},e.options.value,":"),a.createElement("div",null,void 0===Ee?!0===(null===e||void 0===e?void 0:e.value)?"Yes":"No":1==Ee?"Yes":"No")),a.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}));if("Status"===e.data_type_name)return a.createElement("div",{key:n},a.createElement("div",{className:fe.actionsContainer,style:{fontSize:"12px"}},a.createElement("div",{style:{fontWeight:"normal",fontSize:"14px"}},"Status",":"),a.createElement("div",null,null!==(me=null===S||void 0===S?void 0:S.status)&&void 0!==me?me:Ee)),a.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}));if("Upload"===e.data_type_name)return a.createElement("div",{key:n},a.createElement("div",{className:fe.actionsContainer,style:{fontSize:"12px"}},a.createElement("div",{style:{fontWeight:"normal",fontSize:"14px"}},e.field_name,":"),(Ee||(null===e||void 0===e?void 0:e.value))&&a.createElement("a",{style:{fontFamily:"var(--app-text-font-mobile)"},key:n,href:Ee||(null===e||void 0===e?void 0:e.value),download:"Example-PDF-document",target:"_blank",rel:"noreferrer"},"Download File")),a.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}));if("Tiles"===(null===e||void 0===e||null===(le=e.options)||void 0===le?void 0:le.selection)){var bn,xn,En=f.find((function(n){return(null===n||void 0===n?void 0:n.component_fields.filter((function(n){return n.component_blueprint_id===e.options.component_id&&n.value===Ee})).length)>0}));if(En)return a.createElement("div",{key:n,className:fe.filtersContainer,style:{color:"var(--app-color-gray-dark)",height:"inherit",width:"100%",display:null!==e&&void 0!==e&&e.visible?"":"none"}},null===e||void 0===e||null===(bn=e.options)||void 0===bn||null===(xn=bn.names)||void 0===xn?void 0:xn.map((function(e,n){var l,o,i,t,d=null!==(l=null===(o=En.component_fields.find((function(n){return n.field_name===e})))||void 0===o?void 0:o.value)&&void 0!==l?l:"";return null!==d&&void 0!==d&&d.includes("jpg")||null!==d&&void 0!==d&&d.includes("jpeg")||null!==d&&void 0!==d&&d.includes("png")?a.createElement("div",{key:n,style:{width:"inherit",display:"flex",justifyContent:"right",marginBottom:"20px"}},a.createElement("img",{alt:"lg",src:d,style:{objectFit:"contain",width:"40px",height:"30px",cursor:"pointer"}})):a.createElement("div",{key:n},a.createElement("div",{className:fe.actionsContainer,style:{fontSize:"12px"}},a.createElement("div",{style:{width:"20%",textAlign:"left",fontWeight:"normal",fontSize:"14px"}},e,":"),a.createElement("div",{style:{width:"80%",textAlign:"right"}},null!==(i=null===(t=En.component_fields.find((function(n){return n.field_name===e})))||void 0===t?void 0:t.value)&&void 0!==i?i:"")),a.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}))})))}if("People"===e.data_type_name)if(e.options.calendar){var Cn,wn,Zn=JSON.parse(null!==(Cn=Ee)&&void 0!==Cn?Cn:null!==(wn=null===e||void 0===e?void 0:e.value)&&void 0!==wn?wn:JSON.stringify({})),Mn=y.find((function(e){return e.id===Zn.user}));if(Ee=Mn?"".concat(Mn.first_name," ").concat(Mn.last_name):"",null!==Zn&&void 0!==Zn&&Zn.task){var Sn,kn=D.find((function(e){return e.id===Zn.task}));return a.createElement("div",{key:n,style:{margin:"10px 0 10px 0",display:e.visible&&Ee?"":"none"}},a.createElement("div",{className:fe.actionsContainer,style:{fontSize:"12px"}},a.createElement("div",{style:{fontWeight:"normal",fontSize:"14px"}},e.field_name,":"),a.createElement("div",{style:{display:"flex",flexDirection:"column",textAlign:"right"}},a.createElement("div",null,Ee),kn&&"Closed"!==S.status&&a.createElement("div",null,null===kn||void 0===kn?void 0:kn.name),kn&&"Closed"!==S.status&&a.createElement("div",null,C()(new Date(null===kn||void 0===kn||null===(Sn=kn.add_info)||void 0===Sn?void 0:Sn.start)).format("DD MMM YYYY h:mm a")),(null===kn||void 0===kn?void 0:kn.status)&&"Closed"!==S.status&&a.createElement("div",null,null===kn||void 0===kn?void 0:kn.status))),a.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}))}}else{var In=y.find((function(n){var l;return n.id===(null!==(l=Ee)&&void 0!==l?l:e.value)}));Ee=In?"".concat(In.first_name," ").concat(In.last_name):""}if("Video"===e.data_type_name&&N===(null!==(oe=null===e||void 0===e||null===(de=e.options)||void 0===de?void 0:de.status)&&void 0!==oe?oe:"New")&&null!==e&&void 0!==e&&e.value&&C()(null===e||void 0===e?void 0:e.value)<=(0,E.now)()&&(0,E.now)()<C()(null===e||void 0===e?void 0:e.value).add("minutes",+(null!==(_e=null===e||void 0===e||null===(ye=e.options)||void 0===ye?void 0:ye.expiry)&&void 0!==_e?_e:30)))return a.createElement("div",{key:n,style:{width:"100%",fontSize:"12px",display:"flex",flexDirection:"column",justifyContent:"center"}},a.createElement("div",{style:{fontWeight:"normal",fontSize:"14px"}},e.field_name,":"),a.createElement("div",{style:{width:"100%",fontSize:"12px",display:"flex",flexDirection:"column",justifyContent:"center"}},a.createElement(Be.Z,{payload:{name:null===S||void 0===S?void 0:S.id}})));if("Clock"===e.data_type_name&&(Ee=C()(new Date(+Ee)).format("DD MMM YYYY h:mm a")),"Positions"===e.data_type_name)return a.createElement("div",{key:n,style:{margin:"10px 0 10px 0",display:e.visible&&Ee?"":"none"}},a.createElement("div",{className:fe.actionsContainer,style:{fontSize:"12px"}},a.createElement("div",{style:{fontWeight:"normal",fontSize:"14px"}},e.field_name,":"),a.createElement("div",{style:{textAlign:"right",width:"60%"}},null!==e&&void 0!==e&&e.value?null===(he=P.find((function(n){return n.value===(null===e||void 0===e?void 0:e.value)})))||void 0===he?void 0:he.label:"-")),a.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}));if("Details"===e.data_type_name&&null!==e&&void 0!==e&&null!==(re=e.options)&&void 0!==re&&re.key&&(null===e||void 0===e||null===(ve=e.options)||void 0===ve||null===(se=ve.fields)||void 0===se?void 0:se.length)>0){var Nn,Tn,Dn=f.find((function(n){return n.module_id===e.options.module_id&&n.component_fields.find((function(n){var l,o;return n.field_name===e.options.key&&n.value===(null===S||void 0===S||null===(l=S.component_fields)||void 0===l||null===(o=l.find((function(n){return n.field_name===e.options.key&&n.value})))||void 0===o?void 0:o.value)}))}));Ee=null===Dn||void 0===Dn||null===(Nn=Dn.component_fields)||void 0===Nn||null===(Tn=Nn.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.fields[0])})))||void 0===Tn?void 0:Tn.value}return a.createElement("div",{key:n,style:{margin:"10px 0 10px 0",display:e.visible&&Ee?"":"none"}},a.createElement("div",{className:fe.actionsContainer,style:{fontSize:"12px"}},a.createElement("div",{style:{fontWeight:"normal",fontSize:"14px"}},e.field_name,":"),a.createElement("div",{style:{textAlign:"right",width:"60%"}},null===Ee||void 0===Ee?null!==e&&void 0!==e&&e.value?"Date"===e.data_type_name||"Video"===e.data_type_name?"Invalid date"===C()(new Date(null===e||void 0===e?void 0:e.value)).format("DD MMM YYYY h:mm a")?"":C()(new Date(null===e||void 0===e?void 0:e.value)).format("DD MMM YYYY h:mm a"):null===e||void 0===e?void 0:e.value:"":"Date"===e.data_type_name||"Video"===e.data_type_name?"Invalid date"===C()(new Date(Ee)).format("DD MMM YYYY h:mm a")?"":C()(new Date(Ee)).format("DD MMM YYYY h:mm a"):Ee)),a.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}))}));return a.createElement("div",{style:{width:"100%",display:Y?"none":"",margin:"20px 0"}},re)})),an=function(e){var n,l,o,i,t=e.component,d=e.title,u=void 0===d?"Created by":d,r=e.show,v=void 0===r||r,s=(0,x.v9)((function(e){return e.flowReducer})),c=s.companyUsersArray.find((function(e){var n;return e.id===(null===(n=t.created_by)||void 0===n?void 0:n.id)}));return a.createElement("div",{className:fe.centeredDiv,style:{width:"inherit",fontSize:"14px",marginTop:"20px"}},a.createElement("div",{style:{fontFamily:"var(--app-text-font-mobile)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},u),a.createElement("div",{className:fe.filtersContainer},a.createElement(ze.Z,{title:"Created by:",simple:!0,photo:null!==(n=null===c||void 0===c?void 0:c.photo)&&void 0!==n?n:"https://s3-symbol-logo.tradingview.com/logo-yazilim--600.png",email:"Document Date: ".concat(C()(new Date(t.created_date)).format("DD MMM YYYY")),position:"Time: ".concat(C()(new Date(t.created_date)).format("h:mm a")),firstName:a.createElement("div",{style:{fontWeight:"bold"}},v?null===(l=t.created_by)||void 0===l?void 0:l.id.replace(/\D/g,"").slice(-5):"".concat(null===(o=t.created_by)||void 0===o?void 0:o.first_name," ").concat(null===(i=t.created_by)||void 0===i?void 0:i.last_name)),cardClicked:function(){},width:"100%"})))},un=function(e){var n,l,o,i,t,d,u,r,v,s,c,p,m,f,_=e.component,y=(0,x.v9)((function(e){return e.flowReducer})),h=y.companyData,g=(0,x.v9)((function(e){return e.authReducer})),b=g.authenticatedUser,E=null===_||void 0===_?void 0:_.component_fields.find((function(e){var n;return"Payments"===e.data_type_name&&("Done"===(null===_||void 0===_?void 0:_.status)||"Closed"===(null===_||void 0===_?void 0:_.status))&&(null===_||void 0===_||null===(n=_.created_by)||void 0===n?void 0:n.id)===(null===b||void 0===b?void 0:b.id)})),C=null===_||void 0===_?void 0:_.component_fields.find((function(e){var n;return e.field_name===(null===E||void 0===E||null===(n=E.options)||void 0===n?void 0:n.paymentField)}));return a.createElement("div",{className:fe.filtersContainer,style:{display:E?"":"none"}},null!==_&&void 0!==_&&_.payments?a.createElement("div",null,a.createElement("div",{className:fe.actionsContainer,style:{fontSize:"12px"}},a.createElement("div",null,"Payments:",":"),a.createElement("div",null,"".concat(null===(n=_.payments)||void 0===n?void 0:n.stripe_product,", ID: ").concat(null===(l=_.payments)||void 0===l?void 0:l.stripe_id.substring(0,5)))),a.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}),a.createElement("div",{className:fe.actionsContainer,style:{fontSize:"12px"}},a.createElement("div",null,"Amount Paid",":"),a.createElement("div",null,"".concat((+(null!==(o=null===(i=_.payments)||void 0===i?void 0:i.stripe_price)&&void 0!==o?o:0)).toFixed(2)))),a.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}),(null===(t=_.assigned_to)||void 0===t?void 0:t.id)===(null===b||void 0===b?void 0:b.id)&&a.createElement("div",{className:fe.actionsContainer,style:{fontSize:"12px"}},a.createElement("div",null,"Transaction Fees",":"),a.createElement("div",null,"".concat((+(null===(d=_.payments)||void 0===d?void 0:d.stripe_price)*(null!==(u=null===h||void 0===h||null===(r=h.misc_info)||void 0===r?void 0:r.rate)&&void 0!==u?u:.2)).toFixed(2))))):a.createElement("div",null,"Cash"===(null===E||void 0===E?void 0:E.value)&&a.createElement("div",{className:fe.actionsContainer,style:{fontSize:"12px"}},a.createElement("div",null,"Payments:",":"),a.createElement("div",null,"Cash")),"Cash"===(null===E||void 0===E?void 0:E.value)&&a.createElement("div",{className:fe.actionsContainer,style:{fontSize:"12px"}},a.createElement("div",null,"Cash Paid",":"),a.createElement("div",null,"".concat((+(null===C||void 0===C?void 0:C.value)).toFixed(2)))),"Cash"===(null===E||void 0===E?void 0:E.value)&&(null===(v=_.assigned_to)||void 0===v?void 0:v.id)===(null===b||void 0===b?void 0:b.id)&&a.createElement("div",{className:fe.actionsContainer,style:{fontSize:"12px"}},a.createElement("div",null,"Deducted from wallet",":"),a.createElement("div",null,"".concat((+(null===C||void 0===C?void 0:C.value)+ +(null===C||void 0===C?void 0:C.value)*(null!==(s=null===h||void 0===h||null===(c=h.misc_info)||void 0===c?void 0:c.rate)&&void 0!==s?s:.2)).toFixed(2)))),"Cash"===(null===E||void 0===E?void 0:E.value)&&(null===(p=_.assigned_to)||void 0===p?void 0:p.id)===(null===b||void 0===b?void 0:b.id)&&a.createElement("div",{className:fe.actionsContainer,style:{fontSize:"12px"}},a.createElement("div",null,"Total Fees",":"),a.createElement("div",null,"".concat((+(null===C||void 0===C?void 0:C.value)*(null!==(m=null===h||void 0===h||null===(f=h.misc_info)||void 0===f?void 0:f.rate)&&void 0!==m?m:.2)).toFixed(2)))),"Cash"!==(null===E||void 0===E?void 0:E.value)&&a.createElement("div",{className:fe.actionsContainer,style:{fontSize:"12px",fontWeight:"bold"}},a.createElement("div",null,"Payments:",":"),a.createElement("div",{style:{color:"red"}},"Pending"))))},rn=function(e){var n=m.h.getState().flowReducer.companyUsersArray,l=e.isEdit,o=e.modalVisible,i=e.heading,t=e.onClose,u=e.isProcess,r=e.setIsProcessBegin,s=e.task,c=e.priority,p=void 0===c||c,f=e.shadowedContainerStyle,y=e.statuses,g=e.start_date,b=e.span,x=e.labels,E=void 0===x?{}:x,C=e.onUpdate,w=void 0===C?function(){}:C,Z=e.save,M=void 0===Z||Z,S=(0,a.useState)(E),k=(0,d.Z)(S,1)[0],I=(0,a.useState)(u),N=(0,d.Z)(I,1)[0],T=(0,a.useState)(i),D=(0,d.Z)(T,1)[0];return(0,a.useEffect)((function(){var e=[];if(s){var l,o;if(!n.find((function(e){var n;return e.id===(null===s||void 0===s||null===(n=s.creator)||void 0===n?void 0:n.id)})))e=e.concat(null===(l=s.creator)||void 0===l?void 0:l.id);if(!n.find((function(e){var n;return e.id===(null===s||void 0===s||null===(n=s.assignee)||void 0===n?void 0:n.id)})))e=e.concat(null===(o=s.assignee)||void 0===o?void 0:o.id);e.length>0&&(0,Ce.VG)(e).pipe((0,_.P)()).subscribe({next:function(e){m.h.dispatch((0,v.NY)(n.concat(e)))}})}}),[]),a.createElement("div",null,a.createElement(h.U7,{scrollable:!0,shadowedContainerStyle:f||{width:"100%",minHeight:"100vh"},isOpen:o,onClose:function(){},blured:!1},a.createElement("div",null,a.createElement("p",{style:{fontFamily:"var(--app-text-font-mobile)",fontSize:"20px",fontWeight:"bold",color:"#4A4A4A",marginTop:"50px",marginBottom:"20px",textAlign:"center"}},null!==s&&void 0!==s&&s.completed_at?"Completed Task":D),a.createElement(vn,{labels:k,showPriority:p,statuses:y,task:s,setIsProcessBegin:r,setDisplayModal:t,isProcess:N,isEdit:l,onClose:function(){return t()},start_date:g,span:b,onUpdate:w,save:M}))))};function vn(e){var n,l,i,u,r,v,s,c,f,_,y,g,b,x,E,w,S,k,I,N,T,D,P,A,O,z,R,F,q,B,Y,H,j,V,G,J,K,Q,X,$,ee,ne,le,oe,ie,te,de,ae,ue,re,ve,se,ce,pe,me,_e,ye,be,xe,Ee,Ce,we,Ze,Me=m.h.getState().flowReducer,Se=Me.selectedProcess,ke=Me.companyUsersArray,Ie=Me.begunModule,Ne=Me.companyData,Te=m.h.getState().sessionReducer.user,De=e.isProcess,Pe=e.statuses,Ae=e.task,Oe=e.isEdit,Le=e.assigneeId,ze=e.setDisplayModal,Re=e.onClose,Fe=e.start_date,We=void 0===Fe?(new Date).setDate((new Date).getDate()):Fe,qe=e.span,Be=void 0===qe||qe,Ye=e.labels,He=e.onUpdate,je=void 0===He?function(){}:He,Ve=e.save,Ge=void 0===Ve||Ve,Je=(0,a.useState)(null!==Ae&&void 0!==Ae&&null!==(n=Ae.assignee)&&void 0!==n&&n.id?{assignee_id:null===Ae||void 0===Ae||null===(l=Ae.assignee)||void 0===l?void 0:l.id}:""),Ke=(0,d.Z)(Je,2),Qe=Ke[0],Xe=Ke[1],$e=(0,a.useState)(null!==Ae&&void 0!==Ae&&null!==(i=Ae.process)&&void 0!==i&&i.id?{process:null===Ae||void 0===Ae||null===(u=Ae.process)||void 0===u?void 0:u.id}:""),en=(0,d.Z)($e,2),nn=(en[0],en[1]),ln=(0,a.useState)((null===Ae||void 0===Ae?void 0:Ae.name)||""),on=(0,d.Z)(ln,2),tn=on[0],dn=on[1],an=(0,a.useState)((null===Ae||void 0===Ae?void 0:Ae.status)||""),un=(0,d.Z)(an,2),rn=un[0],vn=un[1],cn=(0,a.useState)((null===Ae||void 0===Ae?void 0:Ae.description)||""),pn=(0,d.Z)(cn,2),mn=pn[0],fn=pn[1],_n=(0,a.useState)(null!==Ae&&void 0!==Ae&&Ae.due_date?new Date(null===Ae||void 0===Ae?void 0:Ae.due_date):(new Date).setDate((new Date).getDate())+36e5),yn=(0,d.Z)(_n,2),hn=yn[0],gn=(yn[1],(0,a.useState)(null!==(r=null===Ae||void 0===Ae||null===(v=Ae.add_info)||void 0===v?void 0:v.pos)&&void 0!==r?r:null===Te||void 0===Te||null===(s=Te.positions[0])||void 0===s?void 0:s.id)),bn=(0,d.Z)(gn,2),xn=bn[0],En=bn[1],Cn=(0,a.useState)(null!==Ae&&void 0!==Ae&&null!==(c=Ae.add_info)&&void 0!==c&&c.start?new Date(null===Ae||void 0===Ae||null===(f=Ae.add_info)||void 0===f?void 0:f.start):We),wn=(0,d.Z)(Cn,2),Zn=wn[0],Mn=wn[1],Sn=(0,a.useState)(null!==Ae&&void 0!==Ae&&null!==(_=Ae.add_info)&&void 0!==_&&_.end?new Date(null===Ae||void 0===Ae||null===(y=Ae.add_info)||void 0===y?void 0:y.end):We),kn=(0,d.Z)(Sn,2),In=kn[0],Nn=kn[1],Tn=(0,a.useState)(null===Ae||void 0===Ae||null===(g=Ae.add_info)||void 0===g?void 0:g.value),Dn=(0,d.Z)(Tn,2),Pn=Dn[0],An=Dn[1],On=(0,a.useState)(""),Ln=(0,d.Z)(On,2),zn=Ln[0],Rn=Ln[1],Un=(0,a.useState)(!1),Fn=(0,d.Z)(Un,2),Wn=Fn[0],qn=Fn[1],Bn=(0,a.useState)(!1),Yn=(0,d.Z)(Bn,2),Hn=Yn[0],jn=Yn[1],Vn=(0,a.useState)(!1),Gn=(0,d.Z)(Vn,2),Jn=Gn[0],Kn=Gn[1],Qn=(0,a.useState)(!1),Xn=(0,d.Z)(Qn,2),$n=Xn[0],el=Xn[1],nl=(0,a.useState)(De),ll=(0,d.Z)(nl,2),ol=ll[0],il=(ll[1],(0,a.useState)((null===Ae||void 0===Ae||null===(b=Ae.add_info)||void 0===b?void 0:b.priority)||"")),tl=(0,d.Z)(il,2),dl=tl[0],al=(tl[1],(null===ke||void 0===ke?void 0:ke.length)>0?Oe&&(null===Ae||void 0===Ae||null===(x=Ae.creator)||void 0===x?void 0:x.id)!==Te.id?[{label:Te.first_name+" "+Te.last_name,value:Te.id}]:(null===Ye||void 0===Ye||null===(E=Ye.aList)||void 0===E?void 0:E.length)>0?ke.filter((function(e){var n;return(null===e||void 0===e||null===(n=e.positions)||void 0===n?void 0:n.filter((function(e){var n,l;return null===Ye||void 0===Ye||null===(n=Ye.options)||void 0===n||null===(l=n.aList)||void 0===l?void 0:l.includes(null===e||void 0===e?void 0:e.id)})).length)>0})).map((function(e){return{label:e.first_name+" "+e.last_name,value:e.id}})):ke.map((function(e){return{label:e.first_name+" "+e.last_name,value:e.id}})):[]);(0,a.useEffect)((function(){return Kn(!0),function(){Kn(!1)}}),[]),(0,a.useEffect)((function(){if(ol&&null!==Se&&void 0!==Se&&Se.id&&Jn){nn({procedure_id:Se.id}),fn(Se.description)}}),[ol,Jn,Se.description,Se.id]);var ul=Pe?Pe.map((function(e){return{label:e,value:e}})):[{label:"Ongoing",value:"Ongoing"},{label:"In Review",value:"In Review"},{label:"Approved",value:"Approved"},{label:"Postponed",value:"Postponed"},{label:"Moved",value:"Moved"},{label:"Cancelled",value:"Cancelled"}];return a.createElement("div",{className:fe.newTaskFormHost,style:{padding:"0 20px 0 20px"}},a.createElement(W(),{style:{flex:1}},a.createElement(ge.Z,{titleProps:{fontSize:"14px",color:"var(--app-color-gray-dark)",fontWeight:"normal",paddingLeft:"5px"},enabled:void 0===(null===Ae||void 0===Ae?void 0:Ae.id)||(null===Ae||void 0===Ae||!Ae.completed_at)&&Te.id===(null===Ae||void 0===Ae||null===(w=Ae.creator)||void 0===w?void 0:w.id),width:"100%",style:{marginTop:"0px",border:"0px solid var(--app-color-gray-lighter)",padding:"5px",marginBottom:"10px",backgroundColor:"var(--app-color-gray-lightest)"},editMode:!1,fieldLabel:null!==(S=null===Ye||void 0===Ye?void 0:Ye.title)&&void 0!==S?S:"Event Name",isProcess:!0,visible:!0,mandatory:!0,error:null===zn||void 0===zn||null===(k=zn.errors)||void 0===k?void 0:k.name},a.createElement("textarea",{className:fe.fieldTypeTextarea,type:"text",value:tn,readOnly:void 0!==(null===Ae||void 0===Ae?void 0:Ae.id)&&(!(null===Ae||void 0===Ae||!Ae.completed_at)||Te.id!==(null===Ae||void 0===Ae||null===(I=Ae.creator)||void 0===I?void 0:I.id)),autoComplete:"none",onChange:function(e){return dn(e.target.value)},placeholder:"",style:{height:"60px",border:"0"}})),a.createElement(ge.Z,{titleProps:{fontSize:"14px",color:"var(--app-color-gray-dark)",fontWeight:"normal",paddingLeft:"5px"},enabled:void 0===(null===Ae||void 0===Ae?void 0:Ae.id)||(null===Ae||void 0===Ae||!Ae.completed_at)&&Te.id===(null===Ae||void 0===Ae||null===(N=Ae.creator)||void 0===N?void 0:N.id),width:"100%",style:{marginTop:"0px",border:"0px solid var(--app-color-gray-lighter)",padding:"5px",marginBottom:"10px",backgroundColor:"var(--app-color-gray-lightest)"},editMode:!0,fieldLabel:null!==(T=null===Ye||void 0===Ye?void 0:Ye.description)&&void 0!==T?T:"Description",isProcess:!0,visible:(null!==Ae&&void 0!==Ae&&Ae.completed_at,!0),mandatory:!0,error:null===zn||void 0===zn||null===(D=zn.errors)||void 0===D?void 0:D.name},a.createElement("textarea",{className:fe.fieldTypeTextarea,style:{border:"0",minHeight:"160px"},readOnly:void 0!==(null===Ae||void 0===Ae?void 0:Ae.id)&&(!(null===Ae||void 0===Ae||!Ae.completed_at)||Te.id!==(null===Ae||void 0===Ae||null===(P=Ae.creator)||void 0===P?void 0:P.id)),required:null===zn||void 0===zn||null===(A=zn.errors)||void 0===A?void 0:A.description,value:mn,onChange:function(e){return fn(e.target.value)}})),a.createElement(ge.Z,{titleProps:{fontSize:"14px",color:"var(--app-color-gray-dark)",fontWeight:"normal",paddingLeft:"5px"},enabled:void 0===(null===Ae||void 0===Ae?void 0:Ae.id)||(null===Ae||void 0===Ae||!Ae.completed_at)&&Te.id===(null===Ae||void 0===Ae||null===(O=Ae.creator)||void 0===O?void 0:O.id),width:"100%",style:{marginTop:"0px",border:"0px solid var(--app-color-gray-lighter)",padding:"5px",marginBottom:"10px",backgroundColor:"var(--app-color-gray-lightest)"},editMode:!1,fieldLabel:null===Ye||void 0===Ye?void 0:Ye.valueL,isProcess:!0,visible:!(null===Ye||void 0===Ye||!Ye.valueL),mandatory:!0},a.createElement("div",null,a.createElement("input",{className:fe.fieldTypeInput,style:{border:"0"},readOnly:void 0!==(null===Ae||void 0===Ae?void 0:Ae.id)&&(!(null===Ae||void 0===Ae||!Ae.completed_at)||Te.id!==(null===Ae||void 0===Ae||null===(z=Ae.creator)||void 0===z?void 0:z.id)),value:Pn,onChange:function(e){return An(e.target.value)},onBlur:function(){var e,n,l;null!==Ie&&void 0!==Ie&&null!==(e=Ie.processModule)&&void 0!==e&&null!==(n=e.module)&&void 0!==n&&null!==(l=n.options)&&void 0!==l&&l.credits&&+Pn>+(null===Te||void 0===Te?void 0:Te.wallet)&&(An("0.00"),Rn({errors:{value:"You have insufficient funds in your wallet. You currently have ".concat(null===Te||void 0===Te?void 0:Te.wallet,".")}}))}}),zn&&(null===zn||void 0===zn||null===(R=zn.errors)||void 0===R?void 0:R.value)&&a.createElement(L.Z,{message:zn.errors.value,onClick:function(){return Rn("")}}))),a.createElement(ge.Z,{titleProps:{fontSize:"14px",color:"var(--app-color-gray-dark)",fontWeight:"normal",paddingLeft:"5px"},enabled:void 0===(null===Ae||void 0===Ae?void 0:Ae.id)||(null===Ae||void 0===Ae||!Ae.completed_at)&&Te.id===(null===Ae||void 0===Ae||null===(F=Ae.creator)||void 0===F?void 0:F.id),width:"100%",style:{marginTop:"0px",border:"0px solid var(--app-color-gray-lighter)",padding:"5px",marginBottom:"10px",backgroundColor:"var(--app-color-gray-lightest)"},editMode:!1,fieldLabel:null!==(q=null===Ye||void 0===Ye?void 0:Ye.start)&&void 0!==q?q:"Start Date",isProcess:!0,visible:!0,mandatory:!0,error:null===zn||void 0===zn||null===(B=zn.errors)||void 0===B?void 0:B.due_date},a.createElement(he(),{showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,readOnly:void 0!==(null===Ae||void 0===Ae?void 0:Ae.id)&&(!(null===Ae||void 0===Ae||!Ae.completed_at)||Te.id!==(null===Ae||void 0===Ae||null===(Y=Ae.creator)||void 0===Y?void 0:Y.id)),placeholderText:"Start Date",customInput:a.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch"}},a.createElement("input",{readOnly:!0,value:void 0!==(null===Ae||void 0===Ae?void 0:Ae.id)&&(null!==Ae&&void 0!==Ae&&Ae.completed_at||Te.id!==(null===Ae||void 0===Ae||null===(H=Ae.creator)||void 0===H?void 0:H.id))?"".concat(C()(Zn).format("DD MMMM YYYY HH:mm")):C()(Zn).format("DD MMMM YYYY HH:mm"),type:"text",required:null===zn||void 0===zn||null===(j=zn.errors)||void 0===j?void 0:j.startDate,id:"start-date",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",border:"none",fontFamily:"var(--app-text-font-mobile)",fontSize:"16px",fontWeight:"bold",lineHeight:"20px",color:"#4A4A4A",textAlign:(null===Zn||void 0===Zn?void 0:Zn.length)>0?"center":"left",maxWidth:"98%",backgroundColor:"transparent"},placeholder:"Start Date",onChange:function(e){}}),a.createElement(M.G,{icon:Z.WRo,style:{width:"14px",height:"14px"}})),className:fe.datePickerWrapper,selected:Zn,onChange:function(e){C()(e).diff(C()(In),"minutes")<1?Mn(e):(Mn(e),Nn(e))}})),a.createElement(ge.Z,{titleProps:{fontSize:"14px",color:"var(--app-color-gray-dark)",fontWeight:"normal",paddingLeft:"5px"},enabled:void 0===(null===Ae||void 0===Ae?void 0:Ae.id)||(null===Ae||void 0===Ae||!Ae.completed_at)&&Te.id===(null===Ae||void 0===Ae||null===(V=Ae.creator)||void 0===V?void 0:V.id),width:"100%",style:{marginTop:"0px",border:"0px solid var(--app-color-gray-lighter)",padding:"5px",marginBottom:"10px",backgroundColor:"var(--app-color-gray-lightest)"},editMode:!1,fieldLabel:null!==(G=null===Ye||void 0===Ye?void 0:Ye.end)&&void 0!==G?G:"End Date",isProcess:!0,visible:!0,mandatory:!0,error:null===zn||void 0===zn||null===(J=zn.errors)||void 0===J?void 0:J.due_date},a.createElement(he(),{showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,readOnly:void 0!==(null===Ae||void 0===Ae?void 0:Ae.id)&&(!(null===Ae||void 0===Ae||!Ae.completed_at)||Te.id!==(null===Ae||void 0===Ae||null===(K=Ae.creator)||void 0===K?void 0:K.id)),placeholderText:"End Date",customInput:a.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch"}},a.createElement("input",{readOnly:!0,value:C()(In).format("DD MMMM YYYY HH:mm"),type:"text",required:null===zn||void 0===zn||null===(Q=zn.errors)||void 0===Q?void 0:Q.endDate,id:"due-date",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",border:"none",fontFamily:"var(--app-text-font-mobile)",fontSize:"16px",fontWeight:"bold",lineHeight:"20px",color:"#4A4A4A",textAlign:(null===In||void 0===In?void 0:In.length)>0?"center":"left",maxWidth:"98%",backgroundColor:"transparent"},placeholder:"Due Date",onChange:function(e){}}),a.createElement(M.G,{icon:Z.WRo,style:{width:"14px",height:"14px"}})),className:fe.datePickerWrapper,selected:In,onChange:function(e){C()(e).diff(C()(Zn),"minutes")>0?!1===Be?C()(e).format("DD")===C()(In).format("DD")?Nn(e):Nn(In):Nn(e):Nn(In)}})),(null===Te||void 0===Te||null===(X=Te.positions)||void 0===X?void 0:X.length)>1&&(!(null!==Ae&&void 0!==Ae&&Ae.id)||(null===($=Ae.creator)||void 0===$?void 0:$.id)===Te.id)&&a.createElement("div",{style:{marginBottom:"10px"}},a.createElement("label",{style:{fontSize:"14px",color:"var(--app-color-gray-dark)",fontWeight:"normal",paddingLeft:"5px"}},a.createElement("p",null,"Role"),null!==Ae&&void 0!==Ae&&null!==(ee=Ae.add_info)&&void 0!==ee&&ee.pos||null!==Ae&&void 0!==Ae&&Ae.completed_at?a.createElement("div",null,a.createElement("input",{style:{marginTop:"auto",marginBottom:"auto",outline:"none",fontFamily:"var(--app-text-font-mobile)",fontSize:"16px",fontWeight:"bold",lineHeight:"20px",color:"#4A4A4A",padding:"10px",border:"1px solid var(--app-color-gray-lighter)",width:"100%",backgroundColor:"transparent"},defaultValue:null===Te||void 0===Te||null===(ne=Te.positions.find((function(e){var n;return e.id===(null===Ae||void 0===Ae||null===(n=Ae.add_info)||void 0===n?void 0:n.pos)})))||void 0===ne?void 0:ne.name,readOnly:!0})):a.createElement(U.ZP,{isSearchable:!1,key:"pos",styles:p.X2,defaultInputValue:"",components:{DropdownIndicator:p.ms},placeholder:"",options:null===Te||void 0===Te?void 0:Te.positions.map((function(e){return{label:e.name,value:e.id,pos:e}})),onChange:function(e){En(e.value)}}),a.createElement("div",{style:{fontWeight:"normal",margin:"10px"}},"Note: Your role when making this task")),zn&&(null===zn||void 0===zn||null===(le=zn.errors)||void 0===le?void 0:le.procedure_id)&&a.createElement(L.Z,{message:zn.errors.procedure_id})),a.createElement("div",{style:{marginBottom:"10px"}},a.createElement("label",{style:{fontSize:"14px",color:"var(--app-color-gray-dark)",fontWeight:"normal",paddingLeft:"5px"}},null!==(oe=null===Ye||void 0===Ye?void 0:Ye.assignee)&&void 0!==oe?oe:"Assignee",null!==Ae&&void 0!==Ae&&Ae.completed_at?a.createElement("div",null,a.createElement("input",{style:{cursor:"auto"},placeholder:(null===Ae||void 0===Ae?void 0:Ae.assignee.first_name)+" "+(null===Ae||void 0===Ae?void 0:Ae.assignee.last_name),readOnly:!0})):a.createElement(U.ZP,{isSearchable:!1,key:"Assignee",styles:p.X2,defaultInputValue:"",components:{DropdownIndicator:p.ms},placeholder:"",value:al[al.findIndex((function(e){return e.value===Qe.assignee_id}))],options:al.concat([{label:"None",value:""}]),onChange:function(e){e&&Xe((function(n){return(0,t.Z)((0,t.Z)({},n),{},{assignee_id:e.value})}))}})),zn&&(null===zn||void 0===zn||null===(ie=zn.errors)||void 0===ie?void 0:ie.assignee_id)&&a.createElement(L.Z,{message:zn.errors.assignee_id})),((null===Ae||void 0===Ae?void 0:Ae.completed_at)||Te.id===(null===Ae||void 0===Ae||null===(te=Ae.creator)||void 0===te?void 0:te.id))&&a.createElement("div",{style:{marginBottom:"10px"}},a.createElement("label",{style:{fontSize:"14px",color:"var(--app-color-gray-dark)",fontWeight:"normal",paddingLeft:"5px"}},"Status",null!==Ae&&void 0!==Ae&&Ae.completed_at?a.createElement("input",{style:{cursor:"auto"},placeholder:null!==(de=null===Ae||void 0===Ae?void 0:Ae.status)&&void 0!==de?de:"No status set",readOnly:!0}):Te.id===(null===Ae||void 0===Ae||null===(ae=Ae.creator)||void 0===ae?void 0:ae.id)?a.createElement(U.ZP,{onFocus:function(){return Rn("")},key:"status",isSearchable:!1,styles:p.X2,defaultInputValue:"",components:{DropdownIndicator:p.ms},placeholder:"",value:ul.find((function(e){return e.value===rn})),options:Te.id===(null===Ae||void 0===Ae||null===(ue=Ae.creator)||void 0===ue?void 0:ue.id)?[].concat((0,o.Z)(ul),[{label:null!==(re=null===(ve=Ie.processModule)||void 0===ve||null===(se=ve.module)||void 0===se||null===(ce=se.options)||void 0===ce?void 0:ce.lock)&&void 0!==re?re:null===Ne||void 0===Ne||null===(pe=Ne.misc_info)||void 0===pe?void 0:pe.lock,value:null!==(me=null===(_e=Ie.processModule)||void 0===_e||null===(ye=_e.module)||void 0===ye||null===(be=ye.options)||void 0===be?void 0:be.lock)&&void 0!==me?me:null===Ne||void 0===Ne||null===(xe=Ne.misc_info)||void 0===xe?void 0:xe.lock},{label:"No status",value:""}]):ul,onChange:function(e){return vn(e.value)}}):a.createElement("input",{style:{cursor:"auto"},placeholder:null!==(Ee=null===Ae||void 0===Ae?void 0:Ae.status)&&void 0!==Ee?Ee:"No status set",readOnly:!0})),zn&&(null===zn||void 0===zn||null===(Ce=zn.errors)||void 0===Ce?void 0:Ce.procedure_id)&&a.createElement(L.Z,{message:zn.errors.procedure_id})),zn&&(null===zn||void 0===zn?void 0:zn.message)&&a.createElement(L.Z,{message:zn.message})),null!==Ae&&void 0!==Ae&&Ae.completed_at?a.createElement("div",{className:fe.buttonsContainer},a.createElement(h.zx,{clicked:Re,className:fe.saveButton,title:"Close"})):Oe?a.createElement("div",{className:fe.buttonsContainer},a.createElement(h.zx,{clicked:Re,className:fe.saveButton,title:"Close"}),Ge&&Te.id===(null===(we=Ae.creator)||void 0===we?void 0:we.id)&&!(null!==Ae&&void 0!==Ae&&null!==(Ze=Ae.assignee)&&void 0!==Ze&&Ze.id)&&a.createElement(h.zx,{light:!0,clicked:function(){return el(!0)},className:fe.saveButton,title:"Delete"}),Ge&&a.createElement(h.zx,{light:!0,clicked:function(){return function(){var n,l;qn(!0);var o=Qe?Qe.assignee_id:Le;(0,Ue.xJ)({assignee_id:o,name:tn,description:mn,dueDate:C()(In).format("YYYY-MM-DD HH:mm"),status:null!==rn&&void 0!==rn?rn:"",add_info:(0,t.Z)((0,t.Z)({},null===e||void 0===e||null===(n=e.task)||void 0===n?void 0:n.add_info),{},{priority:null!==dl&&void 0!==dl?dl:"",start:Zn,end:In,value:Pn,pos:xn})},null===e||void 0===e||null===(l=e.task)||void 0===l?void 0:l.id).subscribe({next:function(e){je(e),qn(!1),ze(!1)},error:function(e){e&&(Rn(e.data),qn(!1))},complete:function(){}})}()},className:fe.saveButton,title:"Update",loading:Wn}),!Ge&&a.createElement(h.zx,{title:"Save",light:!0,clicked:function(){var n;je((0,t.Z)((0,t.Z)({},null===e||void 0===e?void 0:e.task),{},{assignee_id:Qe?Qe.assignee_id:Le,name:tn,description:mn,due_date:C()(hn).format("YYYY-MM-DD HH:mm"),status:null!==rn&&void 0!==rn?rn:"",add_info:(0,t.Z)((0,t.Z)({},null===e||void 0===e||null===(n=e.task)||void 0===n?void 0:n.add_info),{},{priority:null!==dl&&void 0!==dl?dl:"",start:Zn,end:In,value:Pn})})),ze(!1)},className:fe.saveButton})):a.createElement("div",{className:fe.buttonsContainer},a.createElement(h.zx,{clicked:Re,className:fe.saveButton,title:"Close"}),a.createElement(h.zx,{light:!0,clicked:function(){return qn(!0),void(0,Ue.vr)({newAssignee:Qe,taskProcess:null===Ie||void 0===Ie?void 0:Ie.processModule,taskName:tn,taskDescription:null!==mn&&void 0!==mn?mn:"-",dueDate:C()(In).format("YYYY-MM-DD HH:mm"),add_info:{module_id:null===Ie||void 0===Ie?void 0:Ie.processModule.module_id,priority:dl,start:Zn,end:In,value:Pn,pos:xn}}).subscribe({next:function(e){Re()},error:function(e){e&&(Rn(e.data),qn(!1))},complete:function(){qn(!1),!ol&&ze(!1)}})},className:fe.saveButton,title:"Save",loading:Wn})),$n&&a.createElement(sn,{taskId:Ae.id,isOpen:$n,removeTask:function(e){jn(!0),(0,Ue._5)(e).subscribe({next:function(e){jn(!1),el(!1)},error:function(e){jn(!1)},complete:function(){ze(!1)}})},loading:Hn,onClose:el}))}var sn=function(e){var n=e.isOpen,l=e.onClose,o=e.loading,i=e.removeTask,t=e.taskId;return a.createElement(h.U7,{isOpen:n,onClose:function(){return l(!1)},backdropColor:!0,blured:!0,scrollable:!0,shadowedContainerStyle:{width:"35%"}},a.createElement("div",null,a.createElement("p",{style:{textAlign:"center",fontSize:"20px",color:"#4A4A4A",fontFamily:"var(--app-text-font-mobile)"}},"Are you sure do you want to delete this task?"),a.createElement(h.zx,{loading:o,clicked:function(){return i(t)},title:"Yes, Delete",style:{fontWeight:"500",marginLeft:"auto",marginRight:"auto"}}),a.createElement("p",{style:{cursor:"pointer",textAlign:"center",fontSize:"16px",fontWeight:600,color:"#4A4A4A",fontFamily:"var(--app-text-font-mobile)"},onClick:function(){return l(!1)},className:"go-back-text"},"No, Go Back")))},cn=(0,x.$j)((function(e){var n=e.flowReducer,l=n.begunModule,o=n.allModules,i=n.companyData,t=n.components,d=n.rememberPath,a=n.lastUpdates,u=n.companyUsersArray,r=n.products,v=n.transactions,s=n.companyProcesses,c=n.companyPositionsArray,p=n.cart,m=n.blueprints,f=n.payable,_=n.allTasks,y=e.authReducer.authenticatedUser;return{user:e.sessionReducer.user,begunModule:l,allModules:o,companyData:i,components:t,rememberPath:d,lastUpdates:a,companyUsersArray:u,products:r,transactions:v,companyProcesses:s,companyPositionsArray:c,cart:p,blueprints:m,payable:f,authenticatedUser:y,allTasks:_}}),(function(e){return{onSetAuthenticatedUser:function(n){return e((0,w.IF)(n))}}}))((function(e){var n,l,r,s,w,S,k,P,O,R,U,F,W,B,oe,ie,te,de,ae,ue,re,ce,pe,me,_e,ye,he,ge,be,xe,Ee,we,Ze,Me,Se,ke,Ie,Ne,Te,De,Pe,Ae,Oe,Le,Re,Fe,We,qe,Be,je,Ve,Ge,Qe,Xe,$e,en,nn,ln,tn,dn,an,un,rn,vn,sn,cn,pn,mn,fn,_n,yn,hn,gn,bn,xn,En,Cn,wn,Zn,Mn,Sn,kn,In,Nn,Tn,Dn=e.navigateTo,Pn=void 0===Dn?{}:Dn,An=e.begunModule,On=e.user,Ln=e.cart,zn=e.selectedProcess,Rn=void 0===zn?{steps:[]}:zn,Un=e.allModules,Fn=e.companyData,Wn=e.components,qn=e.onCancel,Bn=void 0===qn?function(){}:qn,Yn=e.companyUsersArray,Hn=e.products,jn=e.companyPositionsArray,Vn=e.blueprints,Gn=e.paymentID,Jn=void 0===Gn?"":Gn,Kn=e.isEditing,Qn=void 0!==Kn&&Kn,Xn=e.payable,$n=e.selectedComponent,el=e.setSelectedComponent,nl=e.isProcessorOnly,ll=void 0!==nl&&nl,ol=e.companyProcesses,il=e.lastUpdates,tl=e.allTasks,dl=(0,x.v9)((function(e){return e.authReducer})),al=dl.authenticatedUser,ul=(0,a.useState)(!1),rl=(0,d.Z)(ul,2),vl=rl[0],sl=rl[1],cl=(0,a.useState)(1),pl=(0,d.Z)(cl,1)[0],ml=(0,a.useState)(!1),fl=(0,d.Z)(ml,2),_l=fl[0],yl=fl[1],hl=(0,a.useState)(!1),gl=(0,d.Z)(hl,2),bl=gl[0],xl=gl[1],El=(0,a.useState)(""),Cl=(0,d.Z)(El,2),wl=Cl[0],Zl=Cl[1],Ml=(0,a.useState)(!1),Sl=(0,d.Z)(Ml,2),kl=Sl[0],Il=Sl[1],Nl=(0,a.useState)(!1),Tl=(0,d.Z)(Nl,2),Dl=Tl[0],Pl=Tl[1],Al=(0,a.useState)(null===(n=null===$n||void 0===$n?void 0:$n.is_complete)||void 0===n||n),Ol=(0,d.Z)(Al,2),Ll=Ol[0],zl=Ol[1],Rl=(0,a.useState)([]),Ul=(0,d.Z)(Rl,2),Fl=Ul[0],Wl=Ul[1],ql=(0,a.useState)([]),Bl=(0,d.Z)(ql,2),Yl=Bl[0],Hl=Bl[1],jl=(0,a.useState)(!1),Vl=(0,d.Z)(jl,2),Gl=Vl[0],Jl=Vl[1],Kl=(0,a.useState)(!1),Ql=(0,d.Z)(Kl,2),Xl=Ql[0],$l=Ql[1],eo=(0,a.useState)(!1),no=(0,d.Z)(eo,2),lo=no[0],oo=no[1],io=(0,a.useState)(!1),to=(0,d.Z)(io,2),ao=to[0],uo=to[1],ro=(0,a.useState)(!1),vo=(0,d.Z)(ro,2),so=vo[0],co=vo[1],po=(0,a.useState)(!1),mo=(0,d.Z)(po,2),fo=mo[0],_o=mo[1],yo=(0,a.useState)(!1),ho=(0,d.Z)(yo,2),go=ho[0],bo=ho[1],xo=(0,a.useState)([]),Eo=(0,d.Z)(xo,2),Co=Eo[0],wo=Eo[1],Zo=(0,a.useState)([]),Mo=(0,d.Z)(Zo,2),So=Mo[0],ko=Mo[1],Io=(0,a.useState)([]),No=(0,d.Z)(Io,2),To=No[0],Do=No[1],Po=(0,a.useState)(!1),Ao=(0,d.Z)(Po,2),Oo=Ao[0],Lo=Ao[1],zo=(0,a.useState)(!1),Ro=(0,d.Z)(zo,2),Uo=Ro[0],Fo=Ro[1],Wo=(0,a.useState)(!1),qo=(0,d.Z)(Wo,2),Bo=qo[0],Yo=qo[1],Ho=(0,a.useState)(!1),jo=(0,d.Z)(Ho,2),Vo=jo[0],Go=jo[1],Jo=(0,a.useState)(5),Ko=(0,d.Z)(Jo,2),Qo=Ko[0],Xo=Ko[1],$o=(0,a.useState)(0),ei=(0,d.Z)($o,2),ni=ei[0],li=ei[1],oi=(0,a.useState)(!1),ii=(0,d.Z)(oi,2),ti=ii[0],di=ii[1],ai=(0,a.useState)(!1),ui=(0,d.Z)(ai,2)[1],ri=(0,a.useState)(!1),vi=(0,d.Z)(ri,2),si=vi[0],ci=vi[1],pi=(0,a.useState)(!1),mi=(0,d.Z)(pi,2),fi=mi[0],_i=mi[1],yi=(0,u.s0)(),hi=(null===Rn||void 0===Rn||null===(l=Rn.steps)||void 0===l?void 0:l.length)>0?null===Rn||void 0===Rn?void 0:Rn.steps[An.processModule.stepIndex]:{},gi=(null===Rn||void 0===Rn||null===(r=Rn.steps)||void 0===r?void 0:r.length)>0?null===Rn||void 0===Rn||null===(s=Rn.steps[An.processModule.stepIndex])||void 0===s?void 0:s.pathway_steps:[],bi=(null===Rn||void 0===Rn||null===(w=Rn.steps)||void 0===w?void 0:w.length)>0?null===(S=Rn.steps[An.processModule.stepIndex])||void 0===S?void 0:S.pathway_processes:[],xi=(0,a.useRef)(),Ei=(0,a.useRef)(),Ci=(0,g.pQ)(),wi=(0,d.Z)(Ci,2),Zi=wi[0],Mi=wi[1];(0,a.useEffect)((function(){var e,n;if(void 0===(null===An||void 0===An||null===(e=An.processModule)||void 0===e?void 0:e.isUpdating)){var l=Rn;if(l&&l.steps.length>0){var o,i=(0,t.Z)((0,t.Z)((0,t.Z)({},An.processModule),l),{},{steps:l.steps.filter((function(e){var n,o,i,t,d,a;return void 0==(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.showStepAll)||1==(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.showStepAll)||0==(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.showStepAll)&&(null===e||void 0===e||null===(t=e.options)||void 0===t||null===(d=t.showOnly)||void 0===d?void 0:d.filter((function(e){return al.positions.map((function(e){return e.id})).indexOf(e)>-1})).length)>0||(null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.showStepAuthor)&&(null===al||void 0===al?void 0:al.id)===(null===l||void 0===l?void 0:l.user_id)})).map((function(e,n){return(0,t.Z)((0,t.Z)({},e),{},{rank:n+1})}))});m.h.dispatch((0,v.q4)(i)),Mi({action:g._U.setCurrentStep,value:i.steps[null!==(o=An.processModule.stepIndex)&&void 0!==o?o:0]})}}else if(!0===(null===An||void 0===An||null===(n=An.processModule)||void 0===n?void 0:n.isUpdating)){var d;Mi({action:g._U.setCurrentStep,value:An.processModule.steps[null!==(d=An.processModule.stepIndex)&&void 0!==d?d:0]})}}),[]),(0,a.useEffect)((function(){var e=Yn.filter((function(e){return 0==e.departments.length})).map((function(e){return{label:"".concat(e.first_name," ").concat(e.last_name),value:e.id,department:"General",user:e}}));Yn.filter((function(e){return e.departments.length>0})).filter((function(n){n.departments.filter((function(l){e=[].concat((0,o.Z)(e),[{label:"".concat(n.first_name," ").concat(n.last_name),value:n.id,department:null===l||void 0===l?void 0:l.name,user:n}])}))})),ko(e)}),[Yn]),(0,a.useEffect)((function(){Xn.length>0&&""!==Jn&&Xn.map((function(e,n){var l;sl(!0),(0,se.e_)({user_id:al.id,id:null===e||void 0===e?void 0:e.id,total:-Math.abs(+(null!==(l=null===e||void 0===e?void 0:e.amount)&&void 0!==l?l:0)),product:null===e||void 0===e?void 0:e.product,notes:"Payment",quantity:1}).pipe((0,_.P)()).subscribe({next:function(){if(sl(!1),n+1==Xn.length){var e,l,o,i;if(Xn.filter((function(e){return e.paymentID===Jn})).length>0)_o((null===An||void 0===An||null===(e=An.processModule)||void 0===e||null===(l=e.module)||void 0===l||null===(o=l.options)||void 0===o||null===(i=o.message)||void 0===i?void 0:i.length)>0);m.h.dispatch((0,v.Wy)([])),Ti()}}})}))}),[Xn,Jn]),(0,a.useEffect)((function(){var e,n;if((null===An||void 0===An||null===(e=An.processModule)||void 0===e||null===(n=e.steps)||void 0===n?void 0:n.length)>0){var l,o,i={id:""},t=[],d=[];if(V.Z((function(e){e.component_fields.map((function(n){var l,o;e.procedure_id!==(null===He||void 0===He?void 0:He.id)&&(null!==(l=i=ol.find((function(n){return n.id===e.procedure_id})))&&void 0!==l&&l.steps&&(t=Y.Z(H.Z("component_blueprints"),j.Z)(null===(o=i)||void 0===o?void 0:o.steps),d=Y.Z(H.Z("selected_fields"),j.Z)(t)));var a,u=d.find((function(e){return e.procedure_step_blueprint_field_id===n.procedure_step_blueprint_field_id}));u&&(n.data_type_name=u.data_type_name,n.data_type=u.data_type,n.field_name=u.field_name,n.options=u.options,n.component_blueprint_id=null===(a=t.find((function(e){return e.selected_fields.filter((function(e){return e.procedure_step_blueprint_field_id===n.procedure_step_blueprint_field_id})).length>0})))||void 0===a?void 0:a.id)}))}),Wn.filter((function(e){return e.component_fields.filter((function(e){return void 0===(null===e||void 0===e?void 0:e.field_name)})).length>0}))),void 0!==(null===Pn||void 0===Pn?void 0:Pn.key))wo(Oi(null===An||void 0===An||null===(l=An.processModule)||void 0===l||null===(o=l.module)||void 0===o?void 0:o.id,Wn,Pn.value,Pn.key));else wo(Wn.filter((function(e){var n,l;return e.module_id===(null===An||void 0===An||null===(n=An.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.id)})))}}),[Pn,An,Wn]);var Si=(0,a.useCallback)((function(){var e=!1;return hi.component_blueprints.filter((function(e){var n,l;return null===e.options||(!1===(null===(n=e.options)||void 0===n?void 0:n.allowMultipleInputs)||void 0===(null===(l=e.options)||void 0===l?void 0:l.allowMultipleInputs))})).some((function(e){var n;return!0===(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){return"Summary"!==e.data_type_name&&"Profile"!==e.data_type_name&&"ID"!==e.data_type_name&&"Info"!==e.data_type_name&&"Notes"!==e.data_type_name&&"URL"!==e.data_type_name&&"Emails"!==e.data_type_name&&"Template"!==e.data_type_name&&"Global"!==e.data_type_name&&"Chart"!==e.data_type_name&&"Value"!==e.data_type_name})).some((function(e){var n;return!0===e.mandatory&&!0===e.visible&&(!e.value||(null===e||void 0===e||null===(n=e.value)||void 0===n?void 0:n.length)<1)})))}))&&(e=!0),!0===e?(xl(!0),!0):(Zl(""),xl(!1),!1)}),[hi]),ki=function(e){var n;Il(!0),Si()&&!1===(null===An||void 0===An||null===(n=An.processModule)||void 0===n?void 0:n.isUpdating)?Ai():Ni(e)},Ii=function(e){Zi.components=[],Zi.items=[],Zi.currentStep={},Zi.newStepComponents=[],An.processModule.steps.filter((function(e){return e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return e.value=void 0}))}))})),m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},An.processModule),{},{isUpdating:!1}))),Pl(!1),Il(!0),Ni(e),Fn.start=!1,(0,D.aK)().pipe((0,_.P)()).subscribe({next:function(){}})},Ni=function(e){Il(!1),xl(!1),yl(!1);var n={};if(void 0===e){if(void 0===(n=An.processModule.steps[An.processModule.stepIndex+1]))return void m.h.dispatch((0,v.Xc)({show:!0,message:"Misconfigured next step, please contact your administrator",color:"red",bottom:!0}));Mi({action:g._U.setCurrentStep,value:n}),m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},An.processModule),{},{stepIndex:An.processModule.stepIndex+1})))}else{if(void 0==(n=Rn.steps.find((function(n){return n.id===e}))))n=Rn.steps[An.processModule.stepIndex+1],m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},An.processModule),{},{stepIndex:An.processModule.stepIndex+1})));else{var l,i,d=Rn.steps[(null===(l=n)||void 0===l?void 0:l.rank)-1];if(void 0===d)return void m.h.dispatch((0,v.Xc)({show:!0,message:"Misconfigured next step, please contact your administrator",color:"red",bottom:!0}));m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},An.processModule),{},{stepIndex:(null===(i=n)||void 0===i?void 0:i.rank)-1})))}Mi({action:g._U.setCurrentStep,value:n})}var a=Zi.newStepComponents.filter((function(e){return null===e.options||(void 0===e.allowMultipleInputs||!1===e.options.allowMultipleInputs)}));Mi({action:g._U.setComponents,value:[].concat((0,o.Z)(Zi.components.filter((function(e){return a.every((function(n){return n.id!==e.id}))}))),(0,o.Z)(G.Z((function(e){return e.selected_fields.filter((function(e){return""===e.value})).length>0}),a)))}),Mi({action:g._U.setModuleNewStepComponents,value:n.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Status"===e.data_type_name||"ID"===e.data_type_name||"Value"===e.data_type_name})).length>0}))})},Ti=function(){var e,n,l,o;Mi({action:g._U.setModuleItems,value:[]}),Mi({action:g._U.setComponents,value:[]}),Mi({action:g._U.addModuleComponents,value:[]}),Mi({action:g._U.setModuleNewStepComponents,value:[]}),m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},null!==(e=null===An||void 0===An?void 0:An.processModule)&&void 0!==e?e:{}),{},{isUpdating:!1})));var i=(null===Rn||void 0===Rn||null===(n=Rn.steps)||void 0===n?void 0:n.length)>0&&!((null===Rn||void 0===Rn||null===(l=Rn.steps[0])||void 0===l||null===(o=l.component_blueprints)||void 0===o?void 0:o.filter((function(e){var n;return 1==(null===(n=e.options)||void 0===n?void 0:n.asModuleList)})).length)>0);Ii(ll||i?An.processModule.steps[0].id:An.processModule.steps[1].id)},Di=function(){var e,n,l,i,d,a,u,r,s,f,y,h,g,b;if(Si())return Zl("Fill up all the required fields"),window.scrollTo({top:0,behavior:"smooth"}),void yl(!1);var x,E=Zi.newStepComponents,w=[].concat((0,o.Z)(Zi.components.filter((function(e){return E.every((function(n){return n.id!==e.id}))}))),(0,o.Z)(G.Z((function(e){return e.selected_fields.filter((function(e){return""===e.value})).length>0}),E))),Z=[],M=[],S="",k="",I=!1,N="None",T={x:0},D=[],P=null===$n||void 0===$n?void 0:$n.status,A={},O=null!==An&&void 0!==An&&null!==(e=An.processModule)&&void 0!==e&&e.isUpdating?(null!==(n=J.Z(Math.max,H.Z("group",K.Z(Q.Z("group"))(null!==(l=null===$n||void 0===$n?void 0:$n.component_fields)&&void 0!==l?l:[]))))&&void 0!==n?n:-1)+1:0;w.map((function(e,n){var l,i,d,a,u,r,v=n,s=null===(l=e.selected_fields.filter((function(e){return"Record"===e.data_type_name||"Filters"===e.data_type_name})))||void 0===l?void 0:l.find((function(e){return+(null===e||void 0===e?void 0:e.group)>=0}));s&&null!==An&&void 0!==An&&null!==(i=An.processModule)&&void 0!==i&&i.isUpdating?v=s.group:null!==An&&void 0!==An&&null!==(d=An.processModule)&&void 0!==d&&d.isUpdating&&(v=O,O++),e.selected_fields.filter((function(e){return("Record"===e.data_type_name||"Filters"===e.data_type_name)&&!0===e.visible})).map((function(e,n){var l;if(null!==e.value&&void 0!==e.value&&1!=(null===(l=e.options)||void 0===l?void 0:l.skip)){var i,d;M=[].concat((0,o.Z)(M),[(0,t.Z)((0,t.Z)({},e),{},{index:n,group:v})]),S=e.value,A[e.field_name]=e.value;var a=null===(i=Wn.find((function(n){return n.component_fields.filter((function(n){var l;return n.component_blueprint_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.component_id)&&(null===n||void 0===n?void 0:n.value)===S})).length>0})))||void 0===i||null===(d=i.component_fields.find((function(e){return"Email Recipient"===e.data_type_name})))||void 0===d?void 0:d.value;a&&(x=a)}}));var c=null===(a=e.selected_fields.filter((function(e){return!("Record"===e.data_type_name||"Filters"===e.data_type_name)})))||void 0===a?void 0:a.find((function(e){return+(null===e||void 0===e?void 0:e.group)>=0}));c&&null!==An&&void 0!==An&&null!==(u=An.processModule)&&void 0!==u&&u.isUpdating?v=c.group:null!==An&&void 0!==An&&null!==(r=An.processModule)&&void 0!==r&&r.isUpdating&&(v=O,O++),e.selected_fields.filter((function(e){return!("Record"===e.data_type_name||"Filters"===e.data_type_name)})).map((function(e,n){var l,i,d,a;if(null!==e.value&&void 0!==e.value&&1!=(null===(l=e.options)||void 0===l?void 0:l.skip)){if(A[e.field_name]=e.value,"ID"===(null===e||void 0===e?void 0:e.data_type_name))null!==An&&void 0!==An&&null!==(d=An.processModule)&&void 0!==d&&d.isUpdating?M=[].concat((0,o.Z)(M),[(0,t.Z)((0,t.Z)({},e),{},{index:n,group:v})]):(M=[].concat((0,o.Z)(M),[(0,t.Z)((0,t.Z)({},e),{},{index:n,group:v,value:"".concat(null===e||void 0===e?void 0:e.options.id).concat(null===(null===Fn||void 0===Fn?void 0:Fn.misc_info)?1:null!==(a=null===Fn||void 0===Fn?void 0:Fn.misc_info[null===e||void 0===e?void 0:e.field_name])&&void 0!==a?a:1)})]),Z=[].concat((0,o.Z)(Z),["".concat(e.field_name)]));else if("Value"===(null===e||void 0===e?void 0:e.data_type_name)){var u;M=[].concat((0,o.Z)(M),[(0,t.Z)((0,t.Z)({},e),{},{index:n,value:null===e||void 0===e||null===(u=e.options)||void 0===u?void 0:u.value,group:v})])}else if("Email Recipient"===(null===e||void 0===e?void 0:e.data_type_name))M=[].concat((0,o.Z)(M),[(0,t.Z)((0,t.Z)({},e),{},{index:n,value:e.value.replace(/ /g,""),group:v})]);else if("Product Lookup"===e.data_type_name)M=(0,o.Z)(M);else if("Status"===e.data_type_name&&"Draft"===e.value&&1==Ll)I=!0,M=[].concat((0,o.Z)(M),[(0,t.Z)((0,t.Z)({},e),{},{index:n,value:"New",group:v})]),N="New";else if("Status"===e.data_type_name)M=[].concat((0,o.Z)(M),[(0,t.Z)((0,t.Z)({},e),{},{index:n,value:null===e||void 0===e?void 0:e.value,group:v})]),N=null===e||void 0===e?void 0:e.value;else if("Positions"===e.data_type_name&&!0===(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.share))M=[].concat((0,o.Z)(M),[(0,t.Z)((0,t.Z)({},e),{},{index:n,value:null===e||void 0===e?void 0:e.value,group:v})]),D=[null===e||void 0===e?void 0:e.value];else if("Pin"===e.data_type_name)M=[].concat((0,o.Z)(M),[(0,t.Z)((0,t.Z)({},e),{},{index:n,value:null===e||void 0===e?void 0:e.value,group:v})]);else if("Formula"===e.data_type_name){var r,s=null!==An&&void 0!==An&&null!==(r=An.processModule)&&void 0!==r&&r.isUpdating?(0,p.LV)(null===e||void 0===e?void 0:e.options,$n.component_fields.filter((function(n){var l;return null===(l=e.options)||void 0===l?void 0:l.list.includes(n.field_name)})),w,Zi.items):e.value;M=[].concat((0,o.Z)(M),[(0,t.Z)((0,t.Z)({},e),{},{index:n,value:s.toString(),group:v})])}else if("output"!==e.data_type){var c,m,f,_,y;if("People"===e.data_type_name)if(!0===(null===(y=e.options)||void 0===y?void 0:y.email)){var h,g,b=null===(h=So.find((function(n){return n.label===(null===e||void 0===e?void 0:e.value)})))||void 0===h||null===(g=h.user)||void 0===g?void 0:g.email;k=b?k.concat(k.length>0?",".concat(b):b):k,e.email=void 0}"email"===(null===e||void 0===e||null===(c=e.options)||void 0===c?void 0:c.actionToPerform2)&&null!==e&&void 0!==e&&null!==(m=e.options)&&void 0!==m&&null!==(f=m.valueToMatch2)&&void 0!==f&&null!==(_=f.split(","))&&void 0!==_&&_.includes(null===e||void 0===e?void 0:e.value)&&x&&(I=!0,k=k.concat(k.length>0?",".concat(x):x)),M=[].concat((0,o.Z)(M),[(0,t.Z)((0,t.Z)({},e),{},{index:n,group:v})])}}else if("Status"===(null===e||void 0===e?void 0:e.data_type_name))1==Ll?(M=[].concat((0,o.Z)(M),[(0,t.Z)((0,t.Z)({},e),{},{index:n,value:"New",group:v})]),N="New"):(M=[].concat((0,o.Z)(M),[(0,t.Z)((0,t.Z)({},e),{},{index:n,value:"Draft",group:v})]),N="Draft"),A[e.field_name]=e.value;else if("Action Button"===(null===e||void 0===e?void 0:e.data_type_name)){var E,C,S;M=(0,o.Z)(M),A[e.field_name]=e.value,"status"===(null===e||void 0===e||null===(E=e.options)||void 0===E?void 0:E.action)?N=e.value:"user"!==(null===(C=e.options)||void 0===C?void 0:C.action)&&"creator"!==(null===(S=e.options)||void 0===S?void 0:S.action)||($n.assigned_to=null===e||void 0===e?void 0:e.value)}}))}));var L,z,R,U,F,W,q,B,Y,j,V,X,$,ee,ne,le,oe,ie,te,de,ae,ue,re,ve,ce,pe="";if((null===(i=An.processModule)||void 0===i||null===(d=i.module)||void 0===d||null===(a=d.options)||void 0===a||null===(u=a.title)||void 0===u?void 0:u.length)>0){var me,fe,_e,ye,he,ge,be,xe,Ee,we,Ze,Me,Se,ke,Ie,Ne;if(null===(me=An.processModule)||void 0===me||null===(fe=me.module)||void 0===fe||null===(_e=fe.options)||void 0===_e||null===(ye=_e.title)||void 0===ye||ye.map((function(e){if("Info"!==e){var n,l,o,i,t=M.find((function(n){return n.field_name===e}));if("Date"===(null===t||void 0===t?void 0:t.data_type_name)||"Calendar"===(null===t||void 0===t?void 0:t.data_type_name))pe=""===pe?"".concat(C()(null===t||void 0===t?void 0:t.value).format("DD MMMM YYYY")):"".concat(null!==(n=pe)&&void 0!==n?n:"","  ").concat(C()(null===t||void 0===t?void 0:t.value).format("DD MMMM YYYY HH:mm"));else pe=""===pe?"".concat(null!==(l=null===t||void 0===t?void 0:t.value)&&void 0!==l?l:""):"".concat(null!==(o=pe)&&void 0!==o?o:"","  ").concat(null!==(i=null===t||void 0===t?void 0:t.value)&&void 0!==i?i:"")}else{var d,a=null===(d=An.processModule)||void 0===d?void 0:d.completeSteps.find((function(e){var n;return(null===(n=e.component_blueprints.filter((function(e){var n;return(null===(n=e.selected_fields.filter((function(e){return"Info"===e.data_type_name})))||void 0===n?void 0:n.length)>0})))||void 0===n?void 0:n.length)>0}));if(void 0!==a){var u,r,v,s,c,p,m,f,_,y=null===(u=a.component_blueprints)||void 0===u||null===(r=u.find((function(e){var n;return(null===(n=e.selected_fields.filter((function(e){return"Info"===e.data_type_name})))||void 0===n?void 0:n.length)>0})).selected_fields)||void 0===r?void 0:r.find((function(e){return"Info"===e.data_type_name})),h=Wn.find((function(e){var n;return(null===(n=e.component_fields.filter((function(e){return e.component_blueprint_id===y.options.component_id&&e.value===A[y.field_name]})))||void 0===n?void 0:n.length)>0}));if(h)if((null===y||void 0===y||null===(v=y.options)||void 0===v||null===(s=v.list)||void 0===s?void 0:s.length)>0)pe=""===pe?"".concat(null!==(c=null===(p=h.component_fields.find((function(e){var n;return e.field_name===(null===y||void 0===y||null===(n=y.options)||void 0===n?void 0:n.list[0])})))||void 0===p?void 0:p.value)&&void 0!==c?c:""):"".concat(null!==(m=pe)&&void 0!==m?m:"","  ").concat(null!==(f=null===(_=h.component_fields.find((function(e){var n;return e.field_name===(null===y||void 0===y||null===(n=y.options)||void 0===n?void 0:n.list[0])})))||void 0===_?void 0:_.value)&&void 0!==f?f:"")}}})),null!==(he=An.processModule)&&void 0!==he&&null!==(ge=he.module)&&void 0!==ge&&null!==(be=ge.options)&&void 0!==be&&be.title.find((function(e){return"UUID"===e})))pe="".concat(null===(Ze=An.processModule)||void 0===Ze||null===(Me=Ze.module)||void 0===Me?void 0:Me.name," #").concat(null!==An&&void 0!==An&&null!==(Se=An.processModule)&&void 0!==Se&&Se.isUpdating?$n.id.replace(/\D/g,"").slice(-5):(0,p.mR)().replace(/\D/g,"").slice(-5));if(null!==(xe=An.processModule)&&void 0!==xe&&null!==(Ee=xe.module)&&void 0!==Ee&&null!==(we=Ee.options)&&void 0!==we&&we.title.find((function(e){return"Module Name"===e})))pe=" ".concat(null===(ke=An.processModule)||void 0===ke||null===(Ie=ke.module)||void 0===Ie?void 0:Ie.name," - ").concat(null!==(Ne=pe)&&void 0!==Ne?Ne:"")}else{var Te,De,Pe;pe="".concat(null===(Te=An.processModule)||void 0===Te||null===(De=Te.module)||void 0===De?void 0:De.name," #").concat(null!==An&&void 0!==An&&null!==(Pe=An.processModule)&&void 0!==Pe&&Pe.isUpdating?$n.id.replace(/\D/g,"").slice(-5):(0,p.mR)().replace(/\D/g,"").slice(-5))}if(!0===(null===(r=An.processModule)||void 0===r||null===(s=r.module)||void 0===s||null===(f=s.options)||void 0===f?void 0:f.emailOutputs)){var Ae,Oe,Le,ze,Re,Fe=An.processModule.steps.find((function(e){var n;return(null===(n=e.component_blueprints.filter((function(e){var n;return(null===(n=e.selected_fields.filter((function(e){return"Info"===e.data_type_name&&1==e.options.email})))||void 0===n?void 0:n.length)>0})))||void 0===n?void 0:n.length)>0}));if(void 0!==Fe){var We,qe,Be=null===(We=Fe.component_blueprints)||void 0===We||null===(qe=We.find((function(e){var n;return(null===(n=e.selected_fields.filter((function(e){var n;return"Info"===e.data_type_name&&1==(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.email)})))||void 0===n?void 0:n.length)>0})).selected_fields)||void 0===qe?void 0:qe.find((function(e){var n;return"Info"===e.data_type_name&&!0===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.email)})),Ye=Wn.find((function(e){var n;return(null===(n=e.component_fields.filter((function(e){return e.component_blueprint_id===Be.options.component_id&&e.value===S})))||void 0===n?void 0:n.length)>0}));Ye&&(z=Be.id,L=Ye.id)}if(void 0!==(Fe=An.processModule.steps.find((function(e){var n;return!0===e.is_end&&(null===(n=e.component_blueprints.filter((function(e){var n;return(null===(n=e.selected_fields.filter((function(e){return"Emails"===e.data_type_name})))||void 0===n?void 0:n.length)>0})))||void 0===n?void 0:n.length)>0}))))(null===(Le=Fe.component_blueprints)||void 0===Le?void 0:Le.find((function(e){var n;return(null===(n=e.selected_fields.filter((function(e){return"Emails"===e.data_type_name})))||void 0===n?void 0:n.length)>0}))).selected_fields.filter((function(e){return"Emails"===e.data_type_name})).filter((function(e){var n;M.find((function(n){return n.value===e.options.valueToMatch&&n.field_name===e.options.fieldToMatch}))&&(x&&(R=e,I=!0,!0===(null===(n=e.options)||void 0===n?void 0:n.copyEmailRecip)&&(k=k.concat(k.length>0?",".concat(x):x))))}));if(k=""===k?[]:null!==(Ae=k.split(","))&&void 0!==Ae?Ae:[],To.length>0||k.length>0)k=null!==An&&void 0!==An&&null!==(ze=An.processModule)&&void 0!==ze&&ze.isUpdating?!0===I?[].concat((0,o.Z)(To),(0,o.Z)(k)):(0,o.Z)(To):[].concat((0,o.Z)(To),(0,o.Z)(k));if(k.length>0&&(T={emailTo:k}),z&&L&&(T=(0,t.Z)((0,t.Z)({},T),{},{info:z,target:L})),(null===(Oe=R)||void 0===Oe?void 0:Oe.id.length)>0)T=(0,t.Z)((0,t.Z)({},T),{},{template:null===(Re=R)||void 0===Re?void 0:Re.id})}if(!0===(null===(y=An.processModule)||void 0===y||null===(h=y.module)||void 0===h||null===(g=h.options)||void 0===g?void 0:g.rewards)&&P!==N){var He,je,Ve,Ge,Je,Ke,Qe=An.processModule.steps.find((function(e){var n;return(null===(n=e.component_blueprints.filter((function(e){var n;return(null===(n=e.selected_fields.filter((function(e){return"Rewards"===e.data_type_name})))||void 0===n?void 0:n.length)>0})))||void 0===n?void 0:n.length)>0}));if(void 0!==Qe)if((U=null===(He=Qe.component_blueprints)||void 0===He||null===(je=He.find((function(e){var n;return(null===(n=e.selected_fields.filter((function(e){return"Rewards"===e.data_type_name})))||void 0===n?void 0:n.length)>0})).selected_fields)||void 0===je?void 0:je.find((function(e){return"Rewards"===e.data_type_name}))).options.status===N)al.options.rewards=+(null!==(Ve=null===al||void 0===al||null===(Ge=al.options)||void 0===Ge?void 0:Ge.rewards)&&void 0!==Ve?Ve:0)+ +(null===(Je=U)||void 0===Je||null===(Ke=Je.options)||void 0===Ke?void 0:Ke.points)}(null===(b=M)||void 0===b?void 0:b.length)>0?(sl(!0),null!==An&&void 0!==An&&null!==(F=An.processModule)&&void 0!==F&&F.isUpdating?($n.options=T,$n.status=N,null!==Zi&&void 0!==Zi&&Zi.assigned_to&&($n.assigned_to={id:null===Zi||void 0===Zi?void 0:Zi.assigned_to}),(0,c.KL)((0,t.Z)((0,t.Z)({},$n),{},{selected_fields:(0,o.Z)(M),component_items:Zi.items}),$n.id,null===$n||void 0===$n||null===(W=$n.shared_users)||void 0===W?void 0:W.map((function(e){return null===e||void 0===e?void 0:e.id})),pe,Ll,(null===(q=An.processModule)||void 0===q||null===(B=q.module)||void 0===B||null===(Y=B.options)||void 0===Y||null===(j=Y.shares)||void 0===j?void 0:j.length)>0?[].concat((0,o.Z)(null!==(V=null===(X=An.processModule)||void 0===X||null===($=X.module)||void 0===$||null===(ee=$.options)||void 0===ee?void 0:ee.shares)&&void 0!==V?V:[]),(0,o.Z)(D)):[].concat((0,o.Z)(null!==(ne=null===$n||void 0===$n||null===(le=$n.shared_positions)||void 0===le?void 0:le.map((function(e){return null===e||void 0===e?void 0:e.id})))&&void 0!==ne?ne:[]),(0,o.Z)(D))).subscribe({next:function(e){var n,l,o,i,d,a,u,r;if(null!==(n=An.processModule)&&void 0!==n&&null!==(l=n.module)&&void 0!==l&&null!==(o=l.options)&&void 0!==o&&o.single)return localStorage.setItem(null===(a=An.processModule)||void 0===a?void 0:a.module.id,JSON.stringify(null===e||void 0===e?void 0:e.data)),void Ni(null===(u=An.processModule)||void 0===u||null===(r=u.steps[0])||void 0===r?void 0:r.id);var v=M.find((function(e){var n;return"People"===e.data_type_name&&!0===(null===(n=e.options)||void 0===n?void 0:n.calendar)}));if(v){var s,c,m=JSON.parse(null!==(s=null===v||void 0===v?void 0:v.value)&&void 0!==s?s:{task:0}),f=tl.find((function(e){return e.id===(null===m||void 0===m?void 0:m.task)}));if(f)(0,Ue.xJ)((0,t.Z)((0,t.Z)({},f),{},{assignee_id:null===e||void 0===e||null===(c=e.data.created_by)||void 0===c?void 0:c.id}),null===f||void 0===f?void 0:f.id).pipe((0,_.P)()).subscribe({complete:function(){}})}var y,h,g,b=M.find((function(e){return"Payments"===e.data_type_name})),x=M.find((function(e){var n;return e.field_name===(null===b||void 0===b||null===(n=b.options)||void 0===n?void 0:n.paymentField)}));if("Closed"!==(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.status)&&"Cancelled"!==(null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.status))if(!b||null!==e&&void 0!==e&&null!==(y=e.data.payments)&&void 0!==y&&y.stripe_id||"Cash"===(null===b||void 0===b?void 0:b.value)||"Wallet"===(null===b||void 0===b?void 0:b.value)||"Points"===(null===b||void 0===b?void 0:b.value)||al.id!==(null===$n||void 0===$n||null===(h=$n.created_by)||void 0===h?void 0:h.id))if(b){var E,C,w,Z,S,k;if(x&&"Cash"!==(null===b||void 0===b?void 0:b.value)&&N===(null!==(E=null===(C=An.processModule)||void 0===C||null===(w=C.module)||void 0===w||null===(Z=w.options)||void 0===Z?void 0:Z.lock)&&void 0!==E?E:null===(S=Fn.misc_info)||void 0===S?void 0:S.lock)&&al.id===(null===$n||void 0===$n||null===(k=$n.assigned_to)||void 0===k?void 0:k.id)&&P!==N){var I,T,D=+(null===x||void 0===x?void 0:x.value)-+(null===x||void 0===x?void 0:x.value)*+(null!==(I=null===Fn||void 0===Fn||null===(T=Fn.misc_info)||void 0===T?void 0:T.rate)&&void 0!==I?I:.2);(0,se.e_)({user_id:al.id,id:(0,p.mR)(),total:D,product:"CR-".concat(pe),notes:"Wallet",quantity:1}).pipe((0,_.P)()).subscribe({next:function(){var e;al.wallet=+(+(null!==(e=null===On||void 0===On?void 0:On.wallet)&&void 0!==e?e:0)+D),sl(!1),Ti(),Ui(),window.scrollTo({top:0,behavior:"smooth"})}})}else U?(0,Ce.Vy)(al,null===al||void 0===al?void 0:al.options).pipe((0,_.P)()).subscribe({next:function(){Ti(),Ui(),window.scrollTo({top:0,behavior:"smooth"})},complete:function(){}}):(Ti(),Ui(),window.scrollTo({top:0,behavior:"smooth"})),sl(!1)}else sl(!1),Ti(),Ui(),window.scrollTo({top:0,behavior:"smooth"});else Zi.total=+(null===x||void 0===x?void 0:x.value),Zi.plan=+(null===x||void 0===x?void 0:x.value),Zi.id=null===e||void 0===e||null===(g=e.data)||void 0===g?void 0:g.title,sl(!1),Fo(!0);else sl(!1),Ti(),Ui(),window.scrollTo({top:0,behavior:"smooth"})}})):(0,c.LM)({id:w[0].id,selected_fields:(0,o.Z)(M),component_items:Zi.items,options:T,status:N,assigned_to:null!==(oe=null===Zi||void 0===Zi?void 0:Zi.assigned_to)&&void 0!==oe?oe:""},"",An.processModule.module_id,Fl,pe,Ll,(null===(ie=An.processModule)||void 0===ie||null===(te=ie.module)||void 0===te||null===(de=te.options)||void 0===de||null===(ae=de.shares)||void 0===ae?void 0:ae.length)>0?[].concat((0,o.Z)(null!==(ue=null===(re=An.processModule)||void 0===re||null===(ve=re.module)||void 0===ve||null===(ce=ve.options)||void 0===ce?void 0:ce.shares)&&void 0!==ue?ue:[]),(0,o.Z)(D)):[].concat((0,o.Z)(Yl),(0,o.Z)(D))).subscribe({next:function(e){var n,l,o,i,d,a,u,r,s;if(null!==(n=An.processModule)&&void 0!==n&&null!==(l=n.module)&&void 0!==l&&null!==(o=l.options)&&void 0!==o&&o.single)return localStorage.setItem(null===(u=An.processModule)||void 0===u?void 0:u.module.id,JSON.stringify(e)),void Ni(null===(r=An.processModule)||void 0===r||null===(s=r.steps[0])||void 0===s?void 0:s.id);(null===(i=Z)||void 0===i?void 0:i.length)>0&&Pi(Z);var f=M.find((function(e){var n;return"People"===e.data_type_name&&!0===(null===(n=e.options)||void 0===n?void 0:n.calendar)}));if(f){var y,h,g,b=JSON.parse(null!==(y=null===f||void 0===f?void 0:f.value)&&void 0!==y?y:{task:0}),x=tl.find((function(e){return e.id===(null===b||void 0===b?void 0:b.task)}));if(x)(0,Ue.xJ)((0,t.Z)((0,t.Z)({},x),{},{assignee_id:null!==(h=null===e||void 0===e||null===(g=e.created_by)||void 0===g?void 0:g.id)&&void 0!==h?h:al.id}),null===x||void 0===x?void 0:x.id).pipe((0,_.P)()).subscribe({})}if(An.processModule.selectedComponent=e,"Closed"!==(null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.status)&&"Cancelled"!==(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.status))if(M.filter((function(e){return!("Cash"===(null===e||void 0===e?void 0:e.value)||"Wallet"===(null===e||void 0===e?void 0:e.value)||"Points"===(null===e||void 0===e?void 0:e.value))&&"Payments"===e.data_type_name})).length>0)sl(!1),Fo(!0);else if(M.filter((function(e){return("Wallet"===(null===e||void 0===e?void 0:e.value)||"Points"===(null===e||void 0===e?void 0:e.value))&&"Payments"===e.data_type_name})).length>0){var E,C=M.find((function(e){return"Payments"===e.data_type_name}));(0,se.e_)({user_id:al.id,id:null!==(E=null===e||void 0===e?void 0:e.id)&&void 0!==E?E:(0,p.mR)(),total:-Zi.total,product:"DB-".concat(pe),notes:"Wallet",quantity:1}).pipe((0,_.P)()).subscribe({next:function(){var n,l;(0,Ce.Vy)(al,(0,t.Z)((0,t.Z)({},null===al||void 0===al?void 0:al.options),{},{points:+(+(null!==(n=null===On||void 0===On||null===(l=On.options)||void 0===l?void 0:l.points)&&void 0!==n?n:0)-("Points"===(null===C||void 0===C?void 0:C.value)?+Zi.total:0))})).pipe((0,_.P)()).subscribe({next:function(n){var l,o,i,t,d,a,u,r,s,p;(sl(!1),al.options=n.options,null!==An&&void 0!==An&&null!==(l=An.processModule)&&void 0!==l&&null!==(o=l.steps)&&void 0!==o&&o.find((function(e){return e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Action Button"===e.data_type_name&&("user"===e.options.action||"creator"===e.options.action)})).length>0})).length>0})))?(bo((null===An||void 0===An||null===(i=An.processModule)||void 0===i||null===(t=i.module)||void 0===t||null===(d=t.options)||void 0===d||null===(a=d.message)||void 0===a?void 0:a.length)>0&&1==e.is_complete),li(setInterval((function(){(0,c.r6)(e.id).pipe((0,_.P)()).subscribe({next:function(e){var n;null!==e&&void 0!==e&&null!==(n=e.component_fields)&&void 0!==n&&n.find((function(e){return"Action Button"===e.data_type_name&&(null===e||void 0===e?void 0:e.value)}))&&(el(e),window.clearInterval(ni))},error:function(){window.clearInterval(ni)}})}),15e3))):_o((null===An||void 0===An||null===(u=An.processModule)||void 0===u||null===(r=u.module)||void 0===r||null===(s=r.options)||void 0===s||null===(p=s.message)||void 0===p?void 0:p.length)>0&&1==e.is_complete);m.h.dispatch((0,v.RV)({})),Ui(),Ti()}})}})}else{var w,S,k,I,N,T,D,P,A,O;if(sl(!1),null!==An&&void 0!==An&&null!==(w=An.processModule)&&void 0!==w&&null!==(S=w.steps)&&void 0!==S&&S.find((function(e){return e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Action Button"===e.data_type_name&&("user"===e.options.action||"creator"===e.options.action)})).length>0})).length>0})))bo((null===An||void 0===An||null===(k=An.processModule)||void 0===k||null===(I=k.module)||void 0===I||null===(N=I.options)||void 0===N||null===(T=N.message)||void 0===T?void 0:T.length)>0&&1==e.is_complete),li(setInterval((function(){(0,c.r6)(e.id).pipe((0,_.P)()).subscribe({next:function(e){var n;null!==e&&void 0!==e&&null!==(n=e.component_fields)&&void 0!==n&&n.find((function(e){return"Action Button"===e.data_type_name&&(null===e||void 0===e?void 0:e.value)}))&&(el(e),window.clearInterval(ni))},error:function(){window.clearInterval(ni)}})}),15e3));else _o((null===An||void 0===An||null===(D=An.processModule)||void 0===D||null===(P=D.module)||void 0===P||null===(A=P.options)||void 0===A||null===(O=A.message)||void 0===O?void 0:O.length)>0&&1==e.is_complete);m.h.dispatch((0,v.RV)({})),Ui(),Ti()}else{var L,z,R,U,F,W,q,B,Y,H;if(sl(!1),null!==An&&void 0!==An&&null!==(L=An.processModule)&&void 0!==L&&null!==(z=L.steps)&&void 0!==z&&z.find((function(e){return e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Action Button"===e.data_type_name&&("user"===e.options.action||"creator"===e.options.action)})).length>0})).length>0})))bo((null===An||void 0===An||null===(R=An.processModule)||void 0===R||null===(U=R.module)||void 0===U||null===(F=U.options)||void 0===F||null===(W=F.message)||void 0===W?void 0:W.length)>0&&1==e.is_complete),li(setInterval((function(){(0,c.r6)(e.id).pipe((0,_.P)()).subscribe({next:function(e){var n;null!==e&&void 0!==e&&null!==(n=e.component_fields)&&void 0!==n&&n.find((function(e){return"Action Button"===e.data_type_name&&(null===e||void 0===e?void 0:e.value)}))&&(el(e),window.clearInterval(ni))},error:function(){window.clearInterval(ni)}})}),15e3));else _o((null===An||void 0===An||null===(q=An.processModule)||void 0===q||null===(B=q.module)||void 0===B||null===(Y=B.options)||void 0===Y||null===(H=Y.message)||void 0===H?void 0:H.length)>0&&1==e.is_complete);m.h.dispatch((0,v.RV)({})),Ui(),Ti()}},complete:function(){},error:function(e){var n,l,o,i;null!==e&&void 0!==e&&e.data&&(null!==Z&&Pi(Z),_o((null===An||void 0===An||null===(n=An.processModule)||void 0===n||null===(l=n.module)||void 0===l||null===(o=l.options)||void 0===o||null===(i=o.message)||void 0===i?void 0:i.length)>0&&1==(null===e||void 0===e?void 0:e.data.is_complete)),m.h.dispatch((0,v.RV)({})),Ti())}})):(m.h.dispatch((0,v.Xc)({show:!0,message:"There are no items to be saved",color:"red"})),window.scrollTo({top:0,behavior:"smooth"}))},Pi=function(e){if((null===e||void 0===e?void 0:e.length)>0){var n,l=null!==(n=Fn.misc_info)&&void 0!==n?n:{};e.filter((function(e){var n;l[e]=+(null!==(n=l[e])&&void 0!==n?n:1)+1})),sl(!0),(0,D.x5)({misc_info:l}).pipe((0,_.P)()).subscribe({complete:function(){}})}},Ai=function(){Zl("Fill up all the required fields"),window.scrollTo({top:0,behavior:"smooth"}),yl(!1)},Oi=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],t=n.filter((function(n){return n.module_id===e})).filter((function(e){var n;return i.length>0?i.includes(e.id):""===l?e:e.title.includes(l)||(null===(n=e.component_fields.filter((function(e){var n,i,t,d,a;return"Record"===e.data_type_name?null===(n=Wn.find((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.field_name===e.options.output&&n.component_blueprint_id===e.options.component_id&&n.value===(null===e||void 0===e?void 0:e.value)})))||void 0===l?void 0:l.length)>0})))||void 0===n?void 0:n.component_fields.find((function(n){var l;return null===(l=e.options)||void 0===l?void 0:l.names.includes(n.field_name)})).value.includes(l):void 0!==o?("date"===e.data_type?null===(i=C()(new Date(null===e||void 0===e?void 0:e.value)))||void 0===i?void 0:i.format("DD MMM YYYY").includes(l):null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.includes(l))&&e.field_name===o:"date"===e.data_type?null===(d=C()(new Date(null===e||void 0===e?void 0:e.value)))||void 0===d?void 0:d.format("DD MMM YYYY").includes(l):null===e||void 0===e||null===(a=e.value)||void 0===a?void 0:a.includes(l)})))||void 0===n?void 0:n.length)>0}));return t},Li=function(e){var n,l,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Co,a=X.Z([$.Z(ee.Z("created_date"))])(d.filter((function(e){return e.created_by.id===(null===al||void 0===al?void 0:al.id)?e:"Expired"!==e.status}))).map((function(n){var l,o,d,a,u,r,v,s,c,m,f,_,y,h={};e.list.map((function(e){var l=n.component_fields.find((function(n){return n.field_name===e}));if(void 0!=l)if("People"===l.data_type_name)h=(0,t.Z)((0,t.Z)({},h),{},(0,i.Z)({},e,l.value));else if("Positions"===l.data_type_name)h=(0,t.Z)((0,t.Z)({},h),{},(0,i.Z)({},e,jn.find((function(e){return e.value===l.value})).label));else if("Date"===l.data_type_name){var o,d=new Date(null===l||void 0===l||null===(o=l.value)||void 0===o?void 0:o.split(",")[0]);h=(0,t.Z)((0,t.Z)({},h),{},(0,i.Z)({},e,C()(d).format("DD MMM YYYY")))}else if("Record"===l.data_type_name||"Component"===l.data_type_name){var a;h=(0,t.Z)((0,t.Z)({},h),{},(0,i.Z)({},e,b.tq?"".concat(null===l||void 0===l?void 0:l.value.slice(0,40)):"".concat(null===l||void 0===l?void 0:l.value))),null===(a=Wn.find((function(e){var n;return(null===(n=e.component_fields.filter((function(e){return e.field_name===l.options.output&&e.component_blueprint_id===l.options.component_id&&e.value===(null===l||void 0===l?void 0:l.value)})))||void 0===n?void 0:n.length)>0})))||void 0===a||a.component_fields.filter((function(e){h=(0,t.Z)((0,t.Z)({},h),{},(0,i.Z)({},e.field_name,b.tq?e.value.slice(0,40):e.value))}))}else if("Filters"===l.data_type_name){var u;h=(0,t.Z)((0,t.Z)({},h),{},(0,i.Z)({},e,b.tq?"".concat(null===l||void 0===l?void 0:l.value.slice(0,30)):"".concat(null===l||void 0===l?void 0:l.value))),null===(u=Wn.find((function(e){var n;return(null===(n=e.component_fields.filter((function(e){return e.field_name===l.options.output&&e.component_blueprint_id===l.options.component_id&&e.value===(null===l||void 0===l?void 0:l.value)})))||void 0===n?void 0:n.length)>0})))||void 0===u||u.component_fields.filter((function(e){h=(0,t.Z)((0,t.Z)({},h),{},(0,i.Z)({},e.field_name,b.tq?e.value.slice(0,40):e.value))}))}else if("Status"===l.data_type_name){var r,v,s,c,p,m;if(0==n.is_complete)h=(0,t.Z)((0,t.Z)({},h),{},(0,i.Z)({},e,"Draft"));else if(!((null===(r=An.processModule.module)||void 0===r||null===(v=r.options)||void 0===v?void 0:v.activeFor)>0&&C()((0,E.now)()).diff(C()(n.created_date),"minutes")>+(null===(s=An.processModule.module)||void 0===s||null===(c=s.options)||void 0===c?void 0:c.activeFor))||"New"!==n.status&&"Unassigned"!==n.status||null!==(p=n.assigned_to)&&void 0!==p&&p.id)h=(0,t.Z)((0,t.Z)({},h),{},(0,i.Z)({},e,"".concat(null!==(m=null===n||void 0===n?void 0:n.status)&&void 0!==m?m:null===l||void 0===l?void 0:l.value)));else h=(0,t.Z)((0,t.Z)({},h),{},(0,i.Z)({},e,"Expired"))}else{var f,_;h=(0,t.Z)((0,t.Z)({},h),{},(0,i.Z)({},e,b.tq?null===l||void 0===l||null===(f=l.value)||void 0===f?void 0:f.slice(0,40).split(",")[0]:null===l||void 0===l||null===(_=l.value)||void 0===_?void 0:_.split(",")[0]))}})),null===e||void 0===e||null===(l=e.com)||void 0===l||null===(o=l.selected_fields)||void 0===o||null===(d=o.filter((function(e){return"Details"===e.data_type_name})))||void 0===d||d.forEach((function(e){var n,l,o,i,t=h[null!==(n=null===(l=e.options)||void 0===l?void 0:l.field)&&void 0!==n?n:e.options.key],d=Wn.find((function(n){return n.module_id===e.options.module_id&&n.component_fields.find((function(n){return n.field_name===e.options.key&&n.value===t}))}));h[e.field_name]=null===(o=e.options)||void 0===o||null===(i=o.fields.map((function(e){var n,l;return null===d||void 0===d||null===(n=d.component_fields)||void 0===n||null===(l=n.find((function(n){return n.field_name===e})))||void 0===l?void 0:l.value})))||void 0===i?void 0:i.join(" ")})),(null===n||void 0===n||null===(a=n.component_items)||void 0===a?void 0:a.length)>0&&(h=(0,t.Z)((0,t.Z)({},h),{},(0,i.Z)({},"Total Qty",n.component_items.reduce((function(e,n){return e+ +n.quantity}),0)))),(null===n||void 0===n||null===(u=n.shared_positions)||void 0===u?void 0:u.length)>0&&(h=(0,t.Z)((0,t.Z)({},h),{},{Shares:null===n||void 0===n?void 0:n.shared_positions.map((function(e){var n;return null===(n=jn.find((function(n){return n.value===e.id})))||void 0===n?void 0:n.label})).toString()}));var g=new Date(n.created_date);return h=(0,t.Z)((0,t.Z)({},h),{},(_={id:n.id},(0,i.Z)(_,"Created By","".concat(null===n||void 0===n||null===(r=n.created_by)||void 0===r?void 0:r.first_name," ").concat(null===n||void 0===n||null===(v=n.created_by)||void 0===v?void 0:v.last_name)),(0,i.Z)(_,"Created Date",C()(g).format("DD MMM YYYY")),(0,i.Z)(_,"Assigned To","".concat(null!==(s=null===n||void 0===n||null===(c=n.assigned_to)||void 0===c?void 0:c.first_name)&&void 0!==s?s:""," ").concat(null!==(m=null===n||void 0===n||null===(f=n.assigned_to)||void 0===f?void 0:f.last_name)&&void 0!==m?m:"")),(0,i.Z)(_,"Title",n.title),(0,i.Z)(_,"items",n.component_items),(0,i.Z)(_,"Status",n.status),(0,i.Z)(_,An.processModule.module.name,n.title),_)),null===e||void 0===e||null===(y=e.reports)||void 0===y||y.filter((function(e){return"Formula"===e.data_type_name})).map((function(e){var l=(0,p.LV)(e.options,e.options.list.map((function(e){var n;return{value:null!==(n=h[e])&&void 0!==n?n:0}})),Wn.filter((function(e){var n,l;return e.module_id===(null===An||void 0===An||null===(n=An.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.id)})),null===n||void 0===n?void 0:n.component_items);h=(0,t.Z)((0,t.Z)({},h),{},(0,i.Z)({},e.field_name,"".concat(l)))})),h}));null===e||void 0===e||null===(n=e.reports)||void 0===n||n.filter((function(e){return"List Filter"===e.data_type_name})).map((function(e){a=a.filter((function(n){var l,o;return n[null===(l=e.options)||void 0===l?void 0:l.field]===(null===(o=e.options)||void 0===o?void 0:o.value)}))}));var u=null===e||void 0===e||null===(l=e.reports)||void 0===l?void 0:l.find((function(e){return"Transaction List"===e.data_type_name}));if(u){var r=[];a.map((function(e){e.items.filter((function(n){var l=(0,t.Z)({},e);Object.keys(u.options.map).map((function(e){l[u.options.map[e]]=n[e]})),r=[].concat((0,o.Z)(r),[l])})),delete e.items})),a=r}return a},zi=null===$n||void 0===$n||null===(k=$n.component_fields)||void 0===k||null===(P=k.find((function(e){return"Status"===e.data_type_name})))||void 0===P?void 0:P.value,Ri=(null===An||void 0===An||null===(O=An.processModule)||void 0===O||null===(R=O.steps)||void 0===R?void 0:R.length)>0?null===An||void 0===An||null===(U=An.processModule)||void 0===U||null===(F=U.steps)||void 0===F||null===(W=F.find((function(e){return(null===e||void 0===e?void 0:e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Action Button"===e.data_type_name})).length>0})).length)>0})))||void 0===W||null===(B=W.component_blueprints.find((function(e){var n;return(null===(n=e.selected_fields.filter((function(e){return"Action Button"===e.data_type_name})))||void 0===n?void 0:n.length)>0})))||void 0===B||null===(oe=B.options)||void 0===oe?void 0:oe.showOnly:[],Ui=function(){var e,n,l,o,i;el({}),Mi({action:g._U.setModuleItems,value:null!==(e=null===$n||void 0===$n?void 0:$n.component_items)&&void 0!==e?e:[]}),Mi({action:g._U.setModuleNewStepComponents,value:[]}),Mi({action:g._U.setComponents,value:[]}),(null===An||void 0===An||null===(n=An.processModule)||void 0===n||null===(l=n.steps)||void 0===l?void 0:l.length)>0&&(null===An||void 0===An||null===(o=An.processModule)||void 0===o||null===(i=o.steps)||void 0===i||i.filter((function(e){var n;return null===e||void 0===e||null===(n=e.component_blueprints)||void 0===n?void 0:n.filter((function(e){return e.selected_fields.filter((function(e){return e.value=void 0}))}))}))),m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},An.processModule),{},{selectedComponent:{id:""},stepIndex:ll||qi?0:1,isUpdating:!1})))},Fi=!!Array.isArray(null===An||void 0===An||null===(ie=An.processModule)||void 0===ie?void 0:ie.steps)&&(null===An||void 0===An||null===(te=An.processModule)||void 0===te||null===(de=te.steps)||void 0===de||null===(ae=de.find((function(e){var n;return(null===e||void 0===e||null===(n=e.component_blueprints)||void 0===n?void 0:n.filter((function(e){return e.selected_fields.filter((function(e){return"Ratings"===e.data_type_name})).length>0})).length)>0})))||void 0===ae||null===(ue=ae.component_blueprints)||void 0===ue||null===(re=ue.find((function(e){var n;return(null===(n=e.selected_fields.filter((function(e){return"Ratings"===e.data_type_name})))||void 0===n?void 0:n.length)>0})))||void 0===re||null===(ce=re.selected_fields)||void 0===ce?void 0:ce.find((function(e){return"Ratings"===e.data_type_name}))),Wi=null===Yn||void 0===Yn?void 0:Yn.find((function(e){var n,l,o,i;return e.id===(null===An||void 0===An||null===(n=An.processModule)||void 0===n||null===(l=n.selectedComponent)||void 0===l||null===(o=l.component_fields)||void 0===o||null===(i=o.find((function(e){var n;return e.field_name===(null===Fi||void 0===Fi||null===(n=Fi.options)||void 0===n?void 0:n.field)})))||void 0===i?void 0:i.value)})),qi=(null===Rn||void 0===Rn||null===(pe=Rn.steps)||void 0===pe?void 0:pe.length)>0&&!((null===Rn||void 0===Rn||null===(me=Rn.steps[0])||void 0===me||null===(_e=me.component_blueprints)||void 0===_e?void 0:_e.filter((function(e){var n;return 1==(null===(n=e.options)||void 0===n?void 0:n.asModuleList)})).length)>0),Bi=function(){var e,n,l,o,i,t,d,u,r;return a.createElement("div",{ref:Ei,className:fe.menuAccordionButtons},(0==qi&&An.processModule.stepIndex>1||1==qi&&An.processModule.stepIndex>0||(null===$n||void 0===$n?void 0:$n.title))&&a.createElement(h.zx,{title:"Cancel",light:!0,style:{width:"100%",display:null!==(e=An.processModule.module.options)&&void 0!==e&&e.single?"none":""},clicked:function(){Zi.components.length>0||Zi.newStepComponents.length>0?ci(!0):(An.processModule.back_array=[],Ni(qi?Rn.steps[0].id:Rn.steps[1].id),Lo(!1),Ui(),Bn())}}),(0==qi&&An.processModule.stepIndex>1||1==qi&&An.processModule.stepIndex>0)&&a.createElement(h.zx,{title:"Back",light:!0,style:{width:"100%"},clicked:function(){var e,n,l;if(1==An.processModule.stepIndex&&wo(Wn.filter((function(e){var n,l;return e.module_id===(null===An||void 0===An||null===(n=An.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.id)}))),1==(null===hi||void 0===hi||null===(e=hi.options)||void 0===e?void 0:e.deleteOnBack)&&hi.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"output"!==e.data_type})).map((function(e){e.value=void 0}))})),(null===An||void 0===An||null===(n=An.processModule)||void 0===n||null===(l=n.back_array)||void 0===l?void 0:l.length)>0){var o,i=null===An||void 0===An||null===(o=An.processModule)||void 0===o?void 0:o.back_array.pop();i&&Ni(i)}else{var t;Ni(null===(t=An.processModule.steps[An.processModule.stepIndex-1])||void 0===t?void 0:t.id)}}}),!0===(null===hi||void 0===hi?void 0:hi.is_end)?a.createElement(h.zx,{disabled:!1===(null===Fn||void 0===Fn?void 0:Fn.start),title:1==(null===An||void 0===An||null===(n=An.processModule)||void 0===n?void 0:n.isUpdating)?"Update":Ll&&null!==(l=null===An||void 0===An||null===(o=An.processModule)||void 0===o||null===(i=o.module)||void 0===i||null===(t=i.options)||void 0===t?void 0:t.save)&&void 0!==l?l:"Save",loading:vl,style:{width:"100%",marginLeft:"0px",display:null!==An&&void 0!==An&&null!==(d=An.processModule)&&void 0!==d&&null!==(u=d.module)&&void 0!==u&&null!==(r=u.options)&&void 0!==r&&r.nosave?"none":Zi.components.length>0||Zi.newStepComponents.length>0?"":"none"},clicked:function(){var e,n,l,o,i,t;return Oo?Zl("Saving is not allowed in Edit Mode"):1==(null===An||void 0===An||null===(e=An.processModule)||void 0===e||null===(n=e.module)||void 0===n||null===(l=n.options)||void 0===l?void 0:l.emailOutputs)&&1==(null===An||void 0===An||null===(o=An.processModule)||void 0===o||null===(i=o.module)||void 0===i||null===(t=i.options)||void 0===t?void 0:t.selectiveEmail)&&Ll?oo(!0):Di()}}):a.createElement(h.zx,{disabled:!1===(null===Fn||void 0===Fn?void 0:Fn.start),title:"Next",style:{width:"100%"},clicked:function(){var e,n,l,o,i,t,d,a,u;Array.isArray(null===An||void 0===An||null===(e=An.processModule)||void 0===e?void 0:e.back_array)||(An.processModule.back_array=[]),null===An||void 0===An||null===(n=An.processModule)||void 0===n||n.back_array.push(null===Zi||void 0===Zi||null===(l=Zi.currentStep)||void 0===l?void 0:l.id);var r,s,c,p,f,_=null===(o=hi.component_blueprints.find((function(e){return e.selected_fields.filter((function(e){var n,l;return"Dropdown"===e.data_type_name&&(null===(n=e.options)||void 0===n?void 0:n.jump1)&&"decision"===(null===(l=e.options)||void 0===l?void 0:l.type)})).length>0})))||void 0===o||null===(i=o.selected_fields)||void 0===i?void 0:i.find((function(e){var n;return"Dropdown"===e.data_type_name&&(null===(n=e.options)||void 0===n?void 0:n.jump1)})),y=null===(t=hi.component_blueprints.find((function(e){return e.selected_fields.filter((function(e){var n;return"Value Button"===e.data_type_name&&(null===(n=e.options)||void 0===n?void 0:n.jump1)})).length>0})))||void 0===t||null===(d=t.selected_fields)||void 0===d?void 0:d.filter((function(e){var n;return"Value Button"===e.data_type_name&&(null===(n=e.options)||void 0===n?void 0:n.jump1)}));if(null!==_&&void 0!==_&&null!==(a=_.options)&&void 0!==a&&a.jump1&&null!==_&&void 0!==_&&null!==(u=_.options)&&void 0!==u&&u.jump2)if(0==(null===_||void 0===_||null===(r=_.options)||void 0===r?void 0:r.list.indexOf(null===_||void 0===_?void 0:_.value)))ki(null===(c=ol.find((function(e){var n;return e.id===(null===_||void 0===_||null===(n=_.options)||void 0===n?void 0:n.process)})))||void 0===c||null===(p=c.steps)||void 0===p||null===(f=p.find((function(e){return e.id===(null===_||void 0===_?void 0:_.options.jump1)})))||void 0===f?void 0:f.id);else if(1==(null===_||void 0===_||null===(s=_.options)||void 0===s?void 0:s.list.indexOf(null===_||void 0===_?void 0:_.value))){var h,g,b;ki(null===(h=ol.find((function(e){var n;return e.id===(null===_||void 0===_||null===(n=_.options)||void 0===n?void 0:n.process)})))||void 0===h||null===(g=h.steps)||void 0===g||null===(b=g.find((function(e){return e.id===(null===_||void 0===_?void 0:_.options.jump2)})))||void 0===b?void 0:b.id)}else{var x,E;null===An||void 0===An||null===(x=An.processModule)||void 0===x||null===(E=x.back_array)||void 0===E||E.pop(),m.h.dispatch((0,v.Xc)({show:!0,message:"Please select a value for ".concat(null===_||void 0===_?void 0:_.field_name),color:"red",bottom:!1})),window.scrollTo({top:0,behavior:"smooth"})}else if((null===y||void 0===y?void 0:y.length)>0){var C,w,Z,M,S,k=y.filter((function(e){return void 0!==e.value}));if(1==k.length)ki(null===(C=ol.find((function(e){var n,l;return e.id===(null===(n=k[0])||void 0===n||null===(l=n.options)||void 0===l?void 0:l.process)})))||void 0===C||null===(w=C.steps)||void 0===w||null===(Z=w.find((function(e){var n;return e.id===(null===(n=k[0])||void 0===n?void 0:n.options.jump1)})))||void 0===Z?void 0:Z.id);else null===An||void 0===An||null===(M=An.processModule)||void 0===M||null===(S=M.back_array)||void 0===S||S.pop(),m.h.dispatch((0,v.Xc)({show:!0,message:"A selection is required",color:"red",bottom:!1})),window.scrollTo({top:0,behavior:"smooth"})}else if((null===hi||void 0===hi?void 0:hi.next_steps.length)>1||gi.length>1||bi.length>1)yl(!_l);else if(1===hi.next_steps.length){var I;ki(null===hi||void 0===hi||null===(I=hi.next_steps[0])||void 0===I?void 0:I.id)}else{var N;ki(null===(N=Rn.steps[Rn.steps.findIndex((function(e){return e.id===hi.id}))+1])||void 0===N?void 0:N.id)}}}),_l&&a.createElement("div",{className:fe.goToNextStep},null===hi||void 0===hi?void 0:hi.next_steps.map((function(e,n){return a.createElement("div",{key:n,onClick:function(){return ki(e.id)},className:fe.nextStepsContainer},a.createElement("div",{className:fe.nextStepImageContainer},a.createElement(M.G,{icon:Z.d63})),a.createElement("p",null,null===e||void 0===e?void 0:e.name))})),null===gi||void 0===gi?void 0:gi.map((function(e,n){return a.createElement("div",{key:n,onClick:function(){return ki(e.id)},className:fe.nextStepsContainer},a.createElement("div",{className:fe.nextStepImageContainer},a.createElement(M.G,{icon:Z.t3U})),a.createElement("p",null,null===e||void 0===e?void 0:e.name))})),null===bi||void 0===bi?void 0:bi.map((function(e,n){return a.createElement("div",{key:n,onClick:function(){return function(e){m.h.dispatch((0,v.pU)(e)),yl(!1)}(e)},className:fe.nextStepsContainer},a.createElement("div",{className:fe.nextStepImageContainer},a.createElement(M.G,{icon:Z.t3U})),a.createElement("p",null,null===e||void 0===e?void 0:e.name))}))))};return a.createElement(I.LN,null,a.createElement(N.sM,null,a.createElement("div",{className:fe.processStepHost,style:{backgroundColor:b.tq?"":!0===(null===hi||void 0===hi||null===(ye=hi.options)||void 0===ye?void 0:ye.popup)?"var(--app-color-white-lightest)":""}},a.createElement("div",{className:fe.leftCardMargin,"app-variant-is-mobile":b.tq?"true":"false"},a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"}},a.createElement("p",{className:fe.stepTitle},null===hi||void 0===hi?void 0:hi.name),(0==An.processModule.stepIndex||1==An.processModule.stepIndex)&&a.createElement(h.zx,{light:!0,clicked:function(){sl(!0);var e=Un.find((function(e){return e.id===An.processModule.module_id}));il.componentsByModule[e.name]=0,(0,y.vC)(e,p.Qc,1e3,1).pipe((0,f.q)(1)).subscribe({next:function(n){var l,i=null!==n&&void 0!==n&&n.data?null===n||void 0===n?void 0:n.data:n;m.h.dispatch((0,v.mK)(ne.Z(ee.Z("created_date"),[].concat((0,o.Z)(Wn.filter((function(e){return e.module_id!==An.processModule.module_id}))),(0,o.Z)(i))),p.KI)),sl(!1),e.lastUpdate=(0,E.now)(),e.count=null!==(l=null===n||void 0===n?void 0:n.total)&&void 0!==l?l:0},complete:function(){},error:function(){return sl(!1)}})},icon:a.createElement("img",{src:T.Fd}),loading:vl})),!ll&&(null===hi||void 0===hi||null===(he=hi.guidance)||void 0===he?void 0:he.length)>0&&a.createElement("label",{className:fe.stepGuidanceSmaller},null===hi||void 0===hi?void 0:hi.guidance),wl&&(bl||Oo)&&a.createElement(L.Z,{message:wl,onClick:function(){return Zl("")}}),1===pl&&void 0===(null===hi||void 0===hi?void 0:hi.component_blueprints)?a.createElement("div",{className:fe.centeredSpinner}):(null===hi||void 0===hi||null===(ge=hi.component_blueprints)||void 0===ge?void 0:ge.filter((function(e){var n;return 1==(null===(n=e.options)||void 0===n?void 0:n.asModuleList)})).length)>0?null===hi||void 0===hi||null===(be=hi.component_blueprints)||void 0===be?void 0:be.filter((function(e){var n,l,o;return 1==e.options.asModuleList&&(al.positions.filter((function(n){var l,o;return null===(l=e.options)||void 0===l||null===(o=l.showOnly)||void 0===o?void 0:o.includes(n.id)})).length>0||0==(null===(n=e.options)||void 0===n||null===(l=n.showOnly)||void 0===l?void 0:l.length)||void 0===(null===(o=e.options)||void 0===o?void 0:o.showOnly))})).map((function(e,n){var l,i,t;return a.createElement("div",{key:n,style:{width:"100%",padding:"0 10px 0 10px"}},a.createElement(A.default,{card:!0,className:fe.listContainer,isReport:!1,"app-variant-is-mobile":"true",columns:(0,o.Z)(new Set((null!==(l=null===(i=e.selected_fields.find((function(e){return 1==e.visible&&"Info"===e.data_type_name})))||void 0===i||null===(t=i.options)||void 0===t?void 0:t.list)&&void 0!==l?l:[]).concat(X.Z([le.Z(ee.Z("index"))])(e.selected_fields.filter((function(e){return 1==e.visible&&"Info"!==e.data_type_name}))).map((function(e){return e.field_name}))))).splice(0,3),list:Li({list:e.selected_fields.filter((function(e){return 1==e.visible||"Info"===e.data_type_name})).map((function(e){var n,l;return"Info"===e.data_type_name&&null!==(n=null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.key)&&void 0!==n?n:e.field_name}))}),onListItemClick:function(e){(null===e||void 0===e?void 0:e.id)===(null===ti||void 0===ti?void 0:ti.id)?di(!1):di(e)}},ti&&a.createElement("div",{style:{backgroundColor:"white"}},a.createElement(Ke,{ref:xi,begunModule:An,allModules:Un,companyData:Fn,components:Wn,selectedComponent:Co.find((function(e){return e.id===(null===ti||void 0===ti?void 0:ti.id)})),setSelectedComponent:el,companyUsersArray:Yn,print:Gl,step:T.Nb,companyPositionsArray:jn,user:On,goto:!1}))))})):1===pl&&void 0===hi.component_blueprints?a.createElement(a.Fragment,null,"No components in step"):a.createElement("div",{className:fe.processModuleContainer,"app-variant-is-mobile":b.tq?"true":"false"},a.createElement(h.U7,{blured:!1,scrollable:!1,isOpen:!b.tq&&(null!==(xe=null===hi||void 0===hi||null===(Ee=hi.options)||void 0===Ee?void 0:Ee.popup)&&void 0!==xe&&xe),shadowedContainerStyle:{width:"100%",minWidth:"50%"}},a.createElement(Je,{nextButtonClicked:kl,step:hi,setIsMandatoryError:xl,isMandatoryError:bl,begunModule:An,companyData:Fn,blueprints:Vn,components:Wn,products:Hn,authenticatedUser:al,isEditing:Qn,companyUsersArray:Yn,usersArray:So,setUsers:Wl,setPositions:Hl,setIsCompleted:zl,selectedComponent:$n,goToNextStep:Ni,companyPositionsArray:jn,cart:Ln,allModules:Un,editMode:Oo},a.createElement("div",{className:fe.menuRightButtons}),Bi())),(!0!==(null===hi||void 0===hi||null===(we=hi.options)||void 0===we?void 0:we.popup)||b.tq)&&a.createElement(Je,{nextButtonClicked:kl,step:hi,setIsMandatoryError:xl,isMandatoryError:bl,begunModule:An,companyData:Fn,blueprints:Vn,components:Wn,products:Hn,authenticatedUser:al,isEditing:Qn,companyUsersArray:Yn,usersArray:So,setUsers:Wl,setPositions:Hl,setIsCompleted:zl,selectedComponent:$n,goToNextStep:Ni,companyPositionsArray:jn,cart:Ln,allModules:Un,editMode:Oo,isProcessorOnly:ll},Bi())),si&&a.createElement(Ye.Z,{openModal:si,setOpenModal:ci,dialogHandler:function(){An.processModule.back_array=[],Ni(qi?Rn.steps[0].id:Rn.steps[1].id),Lo(!1),Ui(),Bn()},title:"You have unsaved items. Are you sure you want to cancel?",proceedTitle:"Yes",cancelTitle:"No, return back",loading:vl}),Xl&&a.createElement(h.U7,{isOpen:c.v7,onClose:function(){},backdropColor:!0,blured:!0,scrollable:!0,shadowedContainerStyle:{width:"100%"}},a.createElement("div",null,a.createElement("p",{className:fe.deleteText},"Are you sure you want to delete ".concat($n.title,"?")),a.createElement("div",{style:{display:"flex",justifyContent:"center"}},a.createElement(h.zx,{title:"Delete",clicked:function(){co(!0),(0,c.v7)($n.id).pipe((0,_.P)()).subscribe({next:function(){co(!1),Pl(!1),$l(!1)},complete:function(){},error:function(){co(!1),$l(!1)}})},loading:so}),a.createElement(h.zx,{title:"No",light:!0,clicked:function(){return $l(!1)}})))),ao&&a.createElement(h.U7,{isOpen:ao,onClose:function(){},backdropColor:!0,blured:!1,scrollable:!0,shadowedContainerStyle:{width:"100%"}},a.createElement("div",null,a.createElement("p",{className:fe.deleteText},"Cannot delete ".concat($n.title,". Some transactions and master data are using this item")),a.createElement("div",{style:{display:"flex",justifyContent:"center"}},a.createElement(h.zx,{title:"Close",light:!0,clicked:function(){return uo(!1)}}))))),fi&&a.createElement(Ye.Z,{openModal:fi,setOpenModal:_i,dialogHandler:function(){Fo(!1),_i(!1),m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},An.processModule),{},{stepIndex:0,isUpdating:!1})))},title:"No payments made. Do you want to pay later?",proceedTitle:"Yes",cancelTitle:"No, return back"}),Uo&&a.createElement(h.U7,{hasCloseIcon:!0,isOpen:Uo,onClose:function(){return _i(!0)},backdropColor:!0,blured:!1,scrollable:!0,shadowedContainerStyle:{width:"100%"}},a.createElement(ve.default,{label:" ",withBack:!1,paymentPath:"begin-mobile",onClose:function(){return Fo(!1)},companyData:Fn,subscriptionInfo:{user_id:al.id,ref:Zi.id,plan_price:null!==(Ze=null===Zi||void 0===Zi?void 0:Zi.plan)&&void 0!==Ze?Ze:0,currency:null!==(Me=null===Zi||void 0===Zi?void 0:Zi.currency)&&void 0!==Me?Me:"PHP",plan:"CC-".concat(Zi.id),total:null!==(Se=+(null===Zi||void 0===Zi?void 0:Zi.total))&&void 0!==Se?Se:0,billable_users:[al],duration:0,dlabel:Zi.id,id:null===An||void 0===An||null===(ke=An.processModule)||void 0===ke||null===(Ie=ke.selectedComponent)||void 0===Ie?void 0:Ie.id},onError:function(e){ui(!0),Zl(e),xl(!0),Fo(!1),m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},An.processModule),{},{stepIndex:0,isUpdating:!1})))}})),lo&&a.createElement(h.U7,{isOpen:lo,onClose:function(){return oo(!1)},backdropColor:!0,blured:!0,scrollable:!0,shadowedContainerStyle:{width:"100%"}},a.createElement("div",null,a.createElement(h.jL,{ungrouped:!0,title:"nonmanager"===al.user_type?"Type an email address to send copy of this transaction (optional)":"Select users to email this transaction (Optional)",columned:!0,withAckButton:!1},"nonmanager"===al.user_type?a.createElement("input",{placeholder:"Use comma, no space, for multiple email addresses",className:fe.emailInput,onChange:function(e){new RegExp(/^([a-z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*)(([, ]+[a-z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])\.([a-z0-9]([a-z0-9-]*[a-z0-9]))*)?)*$/).test(e.target.value)&&Do(e.target.value.split(","))}}):a.createElement(q.Cm,{id:"Users",tagEmplacement:"inlined",searchable:!1,items:So.filter((function(e){var n;return e.department===(null===(n=al.departments[0])||void 0===n?void 0:n.name)})),groupedBy:"department",groupname:"department",triggerType:"chevron",initialSelectedValues:[],className:fe.peoplePositionsSelect,inputClassName:fe.peoplePositionsSelectInput,molclassname:fe.peoplePositionsSelectMenuOverlay,moliclassname:fe.peoplePositionsSelectMenuOverlayItem,onChange:function(e){e.length>0?Do(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.user.email}))):Do([])}})),a.createElement("div",{style:{display:"flex",justifyContent:"center"}},a.createElement(h.zx,{title:"Back",light:!0,clicked:function(){return oo(!1)}}),a.createElement(h.zx,{disabled:!1===(null===Fn||void 0===Fn?void 0:Fn.start),title:null!==An&&void 0!==An&&null!==(Ne=An.processModule)&&void 0!==Ne&&Ne.isUpdating?"Update":Ll&&null!==(Te=null===An||void 0===An||null===(De=An.processModule)||void 0===De||null===(Pe=De.module)||void 0===Pe||null===(Ae=Pe.options)||void 0===Ae?void 0:Ae.save)&&void 0!==Te?Te:"Save",loading:vl,style:{width:"160px",marginLeft:"0px"},clicked:function(){oo(!1),Di()}})))),a.createElement(h.U7,{hasCloseIcon:!0,blured:!0,scrollable:!0,isOpen:(Dl||!0===(null===An||void 0===An||null===(Oe=An.processModule)||void 0===Oe?void 0:Oe.showDetail))&&void 0!==(null===$n||void 0===$n?void 0:$n.title),shadowedContainerStyle:{padding:"0 20px 20px 20px",width:"100%"},sshadowedContainerClassname:fe.popup,onClose:function(){Pl(!1),Jl(!1),m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},An.processModule),{},{showDetail:!1}))),ll?Ui():(wo(Wn.filter((function(e){var n,l;return e.module_id===(null===An||void 0===An||null===(n=An.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.id)}))),Ni(qi?Rn.steps[0].id:Rn.steps[1].id),Lo(!1),Ui(),Bn())}},a.createElement(Ke,{ref:xi,begunModule:An,allModules:Un,companyData:Fn,components:Wn,selectedComponent:$n,setSelectedComponent:el,companyUsersArray:Yn,print:Gl,step:T.Nb,companyPositionsArray:jn,user:On,goto:!0}),a.createElement("div",{className:fe.emulatedFlexGap,style:{width:"100%"}},(null===$n||void 0===$n||null===(Le=$n.component_fields)||void 0===Le?void 0:Le.length)>0&&a.createElement(a.Fragment,null,(0,p.cQ)(zi,Ri,$n,al,An,Fn)&&(null===An||void 0===An||null===(Re=An.processModule)||void 0===Re||null===(Fe=Re.steps)||void 0===Fe||null===(We=Fe.find((function(e){return e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Action Button"===e.data_type_name})).length>0})).length>0})))||void 0===We||null===(qe=We.component_blueprints.find((function(e){return e.selected_fields.filter((function(e){return"Action Button"===e.data_type_name})).length>0})))||void 0===qe?void 0:qe.selected_fields.filter((function(e){return"Action Button"===e.data_type_name})).map((function(e,n){var l,o,i,d;if("status"===e.options.action){var u,r,s,f,y,g,b,x,w,Z=(null===Fn||void 0===Fn||null===(u=Fn.misc_info)||void 0===u||null===(r=u.status)||void 0===r?void 0:r.length)>0?null===Fn||void 0===Fn||null===(s=Fn.misc_info)||void 0===s?void 0:s.status:p.MO;if((null===Fn||void 0===Fn||null===(f=Fn.misc_info)||void 0===f||null===(y=f.rules)||void 0===y?void 0:y.length)>0)null===Fn||void 0===Fn||null===(w=Fn.misc_info)||void 0===w||w.rules.filter((function(e){return"status"===e.type})).filter((function(n){n.valueCondition===e.value&&(Z="0"===n.allow?Z.filter((function(e){return n.values.includes(e.value)})):Z.filter((function(e){return!n.values.includes(e.value)})))}));return a.createElement("div",{key:n,style:{width:"100%",display:"user"===e.options.action&&null!==(g=$n.component_fields)&&void 0!==g&&null!==(b=g.find((function(n){return n.procedure_step_blueprint_field_id===e.procedure_step_blueprint_field_id})))&&void 0!==b&&b.value?"none":""}},a.createElement(z.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},className:fe.multiselectComponent,key:n,visible:e.visible,mandatory:e.mandatory,value:null!==(x=e.value)&&void 0!==x?x:"",items:Z,error:e.errors,onChange:function(n){var l,o,i,d;if(null!==(l=An.processModule)&&void 0!==l&&null!==(o=l.module)&&void 0!==o&&null!==(i=o.options)&&void 0!==i&&i.credits&&(n===(null===(d=Fn.options)||void 0===d?void 0:d.lock)||"Closed"===n)){var a,u,r,s,f,y,h,g,b,x,E=null===An||void 0===An||null===(a=An.processModule)||void 0===a||null===(u=a.steps)||void 0===u||null===(r=u.find((function(e){return e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Payments"===e.data_type_name})).length>0})).length>0})))||void 0===r||null===(s=r.component_blueprints.find((function(e){return e.selected_fields.filter((function(e){return"Payments"===e.data_type_name})).length>0})))||void 0===s?void 0:s.selected_fields.find((function(e){return"Payments"===e.data_type_name})),C=null===(f=Zi.newStepComponents.concat(Zi.components).find((function(e){return e.selected_fields.filter((function(e){var n;return e.field_name===(null===E||void 0===E||null===(n=E.options)||void 0===n?void 0:n.paymentField)})).length>0})))||void 0===f||null===(y=f.selected_fields)||void 0===y?void 0:y.find((function(e){var n;return e.field_name===(null===E||void 0===E||null===(n=E.options)||void 0===n?void 0:n.paymentField)})),w=0;if(null===(h=An.processModule)||void 0===h||null===(g=h.selectedComponent.payments)||void 0===g||!g.stripe_id)return Pl(!1),An.processModule.showDetail=!1,void m.h.dispatch((0,v.Xc)({show:!0,message:"Check support payment docs",color:"red",spinner:!1,bottom:!0}));if(!(+(null!==(b=null===C||void 0===C?void 0:C.value)&&void 0!==b?b:0)>0))return void m.h.dispatch((0,v.Xc)({show:!0,message:"No amount found",color:"red",spinner:!1,bottom:!0}));w=+(null!==(x=null===C||void 0===C?void 0:C.value)&&void 0!==x?x:0),"Cash"!==(null===E||void 0===E?void 0:E.value)&&(0,se.e_)({user_id:al.id,id:(0,p.mR)(),total:w,product:"CR-".concat(null===$n||void 0===$n?void 0:$n.title),notes:"Wallet",quantity:1}).pipe((0,_.P)()).subscribe({next:function(){var e;On.wallet=+(+(null!==(e=null===On||void 0===On?void 0:On.wallet)&&void 0!==e?e:0)+w)}})}Fn.start=!0,sl(!0),(0,c.C0)({component_id:$n.id,index:0,group:99,value:n,procedure_step_blueprint_field_id:e.procedure_step_blueprint_field_id}).subscribe({next:function(e){(0,c.zK)(null===$n||void 0===$n?void 0:$n.id,n).subscribe({next:function(e){sl(!1),Pl(!1),m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},An.processModule),{},{showDetail:!1})))}})},error:function(){},complete:function(){}})},fieldIcon:e.icon,fieldLabel:e.field_name,placeholder:"Select status..."}))}return a.createElement("div",{key:n,style:{width:"100%",display:null!==$n&&void 0!==$n&&$n.payments||null===$n||void 0===$n||!$n.component_fields.find((function(e){return"Payments"===e.data_type_name&&"Credit Card"===e.value}))?"":"none"}},a.createElement(h.zx,{light:!0,title:e.field_name,loading:vl,clicked:function(){if("user"===e.options.action||"creator"===e.options.action){var n,l,o,i,d,a,u,r,s;if(1==(null===(n=An.processModule)||void 0===n||null===(l=n.module)||void 0===l||null===(o=l.options)||void 0===o?void 0:o.activeFor)&&C()((0,E.now)()).diff(C()($n.created_date),"minutes")>+(null===(i=An.processModule)||void 0===i||null===(d=i.module)||void 0===d||null===(a=d.options)||void 0===a?void 0:a.activeFor))return void m.h.dispatch((0,v.Xc)({show:!0,message:"This transaction has already expired.",color:"red",spinner:!1,bottom:!0}));var f="user"===e.options.action?al:Yn.find((function(e){var n;return e.id===(null===(n=$n.created_by)||void 0===n?void 0:n.id)}));if(null!==(u=An.processModule)&&void 0!==u&&null!==(r=u.module)&&void 0!==r&&null!==(s=r.options)&&void 0!==s&&s.credits){var y,h,g,b,x,w,Z,M,S,k,I=null===An||void 0===An||null===(y=An.processModule)||void 0===y||null===(h=y.steps)||void 0===h||null===(g=h.find((function(e){return e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Payments"===e.data_type_name})).length>0})).length>0})))||void 0===g||null===(b=g.component_blueprints.find((function(e){return e.selected_fields.filter((function(e){return"Payments"===e.data_type_name})).length>0})))||void 0===b?void 0:b.selected_fields.find((function(e){return"Payments"===e.data_type_name}));if("Credit Card"===(null===I||void 0===I?void 0:I.value)&&(null===$n||void 0===$n||!$n.payments))return m.h.dispatch((0,v.Xc)({show:!0,message:"This ",color:"red",spinner:!1,bottom:!0})),An.processModule.showDetail=!1,void Pl(!1);var N=null===(x=Zi.newStepComponents.concat(Zi.components).find((function(e){return e.selected_fields.filter((function(e){var n;return e.field_name===(null===I||void 0===I||null===(n=I.options)||void 0===n?void 0:n.paymentField)})).length>0})))||void 0===x||null===(w=x.selected_fields)||void 0===w?void 0:w.find((function(e){var n;return e.field_name===(null===I||void 0===I||null===(n=I.options)||void 0===n?void 0:n.paymentField)})),T=0;if(void 0===(null===f||void 0===f?void 0:f.wallet)||0===(null===f||void 0===f?void 0:f.wallet))return m.h.dispatch((0,v.Xc)({show:!0,message:"You need to setup funds for your wallet",color:"red",spinner:!1,bottom:!0})),An.processModule.showDetail=!1,void Pl(!1);if(+(null!==(Z=null===N||void 0===N?void 0:N.value)&&void 0!==Z?Z:0)>0&&"Cash"===(null===I||void 0===I?void 0:I.value)){var D,P,A,O,L;if((null!==(D=+(null===f||void 0===f?void 0:f.wallet))&&void 0!==D?D:0)<+(null===N||void 0===N?void 0:N.value)+ +(null===N||void 0===N?void 0:N.value)*+(null!==(P=null===(A=Fn.misc_info)||void 0===A?void 0:A.rate)&&void 0!==P?P:.2))return m.h.dispatch((0,v.Xc)({show:!0,message:"Insufficient funds in wallet",color:"red",spinner:!1,bottom:!0})),An.processModule.showDetail=!1,void Pl(!1);T=null!==N&&void 0!==N&&N.value?+(null===N||void 0===N?void 0:N.value)+ +(null===N||void 0===N?void 0:N.value)*+(null!==(O=null===(L=Fn.misc_info)||void 0===L?void 0:L.rate)&&void 0!==O?O:.2):0}else if(!("Wallet"===(null===I||void 0===I?void 0:I.value)||"Points"===(null===I||void 0===I?void 0:I.value)||null!==(M=An.processModule)&&void 0!==M&&null!==(S=M.selectedComponent)&&void 0!==S&&null!==(k=S.payments)&&void 0!==k&&k.stripe_id))return Pl(!1),An.processModule.showDetail=!1,void m.h.dispatch((0,v.Xc)({show:!0,message:"Check support payment docs",color:"red",spinner:!1,bottom:!0}));"Cash"===(null===I||void 0===I?void 0:I.value)&&(0,se.e_)({user_id:al.id,id:(0,p.mR)(),total:-T,product:"DB-".concat(null===$n||void 0===$n?void 0:$n.title),notes:"Wallet",quantity:1}).pipe((0,_.P)()).subscribe({next:function(){var e;return f.wallet=+(+(null!==(e=null===f||void 0===f?void 0:f.wallet)&&void 0!==e?e:0)-T)},error:function(){return m.h.dispatch((0,v.Xc)({show:!0,message:"Purchase error encountered",color:"red",spinner:!1,bottom:!0}))}})}sl(!0),(0,c.C0)({component_id:$n.id,index:0,group:99,value:f.id,procedure_step_blueprint_field_id:e.procedure_step_blueprint_field_id}).subscribe({next:function(e){(0,c.dn)($n.id,f.id).subscribe({next:function(e){sl(!1),Pl(!1),m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},An.processModule),{},{showDetail:!1})))}})},error:function(){},complete:function(){}})}else"status"===e.options.action||"date"===e.options.action||e.options.action,sl(!1)},style:{backgroundColor:"green",color:"white",width:"100%",display:"user"===e.options.action&&null!==(l=$n.component_fields)&&void 0!==l&&null!==(o=l.find((function(n){return n.procedure_step_blueprint_field_id===e.procedure_step_blueprint_field_id})))&&void 0!==o&&o.value?"none":""}}),a.createElement(h.zx,{title:"Decline",light:!0,loading:vl,clicked:function(){var e,n;sl(!0);var l=$n.component_fields.find((function(e){var n;return"People"===e.data_type_name&&!0===(null===(n=e.options)||void 0===n?void 0:n.calendar)}));(0,c.KL)((0,t.Z)((0,t.Z)({},$n),{},{selected_fields:l?$n.component_fields.filter((function(e){return e.id!==l.id})):$n.component_fields,assigned_to:{id:""},status:"Unassigned"}),$n.id,null===(e=$n.shared_users)||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.id})),$n.title,$n.is_complete,null===(n=$n.shared_positions)||void 0===n?void 0:n.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({error:function(e){m.h.dispatch((0,v.Xc)({show:!0,message:"Errors found",color:"red"}))},next:function(e){m.h.dispatch((0,v.aT)($n.id)),sl(!1),Pl(!1),m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},An.processModule),{},{showDetail:!1})))},complete:function(){}})},style:{backgroundColor:"red",color:"white",width:"100%",display:"user"===e.options.action&&null!==(i=$n.component_fields)&&void 0!==i&&null!==(d=i.find((function(n){return n.procedure_step_blueprint_field_id===e.procedure_step_blueprint_field_id})))&&void 0!==d&&d.value?"none":""}}))})))),!(null!==An&&void 0!==An&&null!==(Be=An.processModule)&&void 0!==Be&&Be.canEdit)&&("Closed"===(null===An||void 0===An||null===(je=An.processModule)||void 0===je?void 0:je.status)||(null===An||void 0===An||null===(Ve=An.processModule)||void 0===Ve?void 0:Ve.status)===(null!==(Ge=null===(Qe=An.processModule)||void 0===Qe||null===(Xe=Qe.module)||void 0===Xe||null===($e=Xe.options)||void 0===$e?void 0:$e.lock)&&void 0!==Ge?Ge:null===Fn||void 0===Fn||null===(en=Fn.misc_info)||void 0===en?void 0:en.lock))&&(null===An||void 0===An||null===(nn=An.processModule.selectedComponent)||void 0===nn||null===(ln=nn.created_by)||void 0===ln?void 0:ln.id)===al.id&&(null===An||void 0===An||null===(tn=An.processModule)||void 0===tn||null===(dn=tn.steps)||void 0===dn?void 0:dn.find((function(e){return e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Ratings"===e.data_type_name})).length>0}))})))&&!(null!==An&&void 0!==An&&null!==(an=An.processModule.selectedComponent)&&void 0!==an&&an.component_fields.find((function(e){return"Ratings"===e.data_type_name})))&&Wi&&a.createElement(h.zx,{clear:!0,title:"Rate",style:{backgroundColor:"orange",color:"white",width:"100%"},clicked:function(){Yo(!0)}}),(null===(un=An.processModule)||void 0===un?void 0:un.canEdit)&&a.createElement(h.zx,{title:An.processModule.canEdit?"Edit":"Close",style:{width:"100%"},clicked:function(){Pl(!1),Jl(!1),m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},An.processModule),{},{showDetail:!1}))),An.processModule.canEdit||(ll?Ui():(wo(Wn.filter((function(e){var n,l;return e.module_id===(null===An||void 0===An||null===(n=An.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.id)}))),Ni(qi?Rn.steps[0].id:Rn.steps[1].id),Lo(!1),Ui(),Bn())),window.scrollTo({top:An.processModule.canEdit?1e3:0,behavior:"smooth"})}}),(null===An||void 0===An||null===(rn=An.processModule)||void 0===rn||null===(vn=rn.module)||void 0===vn||null===(sn=vn.options)||void 0===sn?void 0:sn.canCancel)&&("New"===$n.status||"Unassigned"===$n.status)&&!(null!==(cn=$n.assigned_to)&&void 0!==cn&&cn.id)&&a.createElement(h.zx,{loading:vl,title:"Cancel Transaction",style:{backgroundColor:"red",color:"white",width:"100%"},clear:!0,clicked:function(){sl(!0),(0,c.tE)(null===$n||void 0===$n?void 0:$n.id,"Cancelled").pipe((0,_.P)()).subscribe({complete:function(){},next:function(e){var n;if(sl(!1),null!==e&&void 0!==e&&null!==(n=e.data.payments)&&void 0!==n&&n.stripe_id){var l,o=Math.abs(+(null===e||void 0===e||null===(l=e.data.payments)||void 0===l?void 0:l.stripe_price));(0,se.e_)({user_id:al.id,id:(0,p.mR)(),total:o,product:"RF-".concat($n.title),notes:"Wallet",quantity:1}).pipe((0,_.P)()).subscribe({next:function(){var e;al.wallet=+(+(null!==(e=null===On||void 0===On?void 0:On.wallet)&&void 0!==e?e:0)+o),sl(!1),Pl(!1),Jl(!1),m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},An.processModule),{},{showDetail:!1}))),window.scrollTo({top:0,behavior:"smooth"})}})}else sl(!1),Pl(!1),Jl(!1),m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},An.processModule),{},{showDetail:!1}))),window.scrollTo({top:0,behavior:"smooth"})}})}}),(null===An||void 0===An||null===(pn=An.processModule)||void 0===pn||null===(mn=pn.module)||void 0===mn||null===(fn=mn.options)||void 0===fn?void 0:fn.canCancel)&&"Cancellation Request"===(null===$n||void 0===$n?void 0:$n.status)&&(null===al||void 0===al?void 0:al.id)===(null===$n||void 0===$n||null===(_n=$n.created_by)||void 0===_n?void 0:_n.id)&&a.createElement(h.zx,{loading:vl,title:"Allow Cancellation",style:{backgroundColor:"red",color:"white",width:"100%"},clear:!0,clicked:function(){var e;if(sl(!0),null!==(e=$n.payments)&&void 0!==e&&e.stripe_id){var n,l,o=Math.abs(null!==(n=+(null===$n||void 0===$n||null===(l=$n.payments)||void 0===l?void 0:l.stripe_price))&&void 0!==n?n:0);(0,se.e_)({user_id:al.id,id:(0,p.mR)(),total:o,product:"RF-".concat($n.title),notes:"Wallet",quantity:1}).pipe((0,_.P)()).subscribe({next:function(){var e;al.wallet=+(+(null!==(e=null===On||void 0===On?void 0:On.wallet)&&void 0!==e?e:0)+o),(0,c.tE)(null===$n||void 0===$n?void 0:$n.id,"Cancelled").pipe((0,_.P)()).subscribe({next:function(e){sl(!1),Pl(!1),Jl(!1),m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},An.processModule),{},{showDetail:!1}))),window.scrollTo({top:0,behavior:"smooth"})},complete:function(){}})}})}else(0,c.tE)(null===$n||void 0===$n?void 0:$n.id,"Refund").pipe((0,_.P)()).subscribe({complete:function(){},next:function(e){sl(!1),Pl(!1),Jl(!1),m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},An.processModule),{},{showDetail:!1}))),window.scrollTo({top:0,behavior:"smooth"})}})}}),(null===An||void 0===An||null===(yn=An.processModule)||void 0===yn||null===(hn=yn.module)||void 0===hn||null===(gn=hn.options)||void 0===gn?void 0:gn.canCancel)&&"Refund"===$n.status&&(null===al||void 0===al?void 0:al.id)===(null===(bn=$n.assigned_to)||void 0===bn?void 0:bn.id)&&a.createElement(h.zx,{loading:vl,title:"Refund",style:{backgroundColor:"red",color:"white",width:"100%"},clear:!0,clicked:function(){var e=$n.component_fields.find((function(e){var n;return"Payments"===e.data_type_name&&"Refund"===$n.status&&(null===(n=$n.assigned_to)||void 0===n?void 0:n.id)===(null===al||void 0===al?void 0:al.id)})),n=$n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)}));if(n){var l,o,i;sl(!0);var d=Math.abs(null!==(l=+(null===n||void 0===n?void 0:n.value))&&void 0!==l?l:0)+ +(null===n||void 0===n?void 0:n.value)*+(null!==(o=null===(i=Fn.misc_info)||void 0===i?void 0:i.rate)&&void 0!==o?o:.2);(0,se.e_)({user_id:al.id,id:(0,p.mR)(),total:d,product:"RF-".concat($n.title),notes:"Wallet",quantity:1}).pipe((0,_.P)()).subscribe({next:function(){var e;al.wallet=+(+(null!==(e=null===On||void 0===On?void 0:On.wallet)&&void 0!==e?e:0)+d),(0,c.tE)(null===$n||void 0===$n?void 0:$n.id,"Cancelled").pipe((0,_.P)()).subscribe({next:function(e){sl(!1),Pl(!1),Jl(!1),Ti(),Ui(),window.scrollTo({top:0,behavior:"smooth"})},complete:function(){}})}})}else sl(!1),Pl(!1),Jl(!1),m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},An.processModule),{},{showDetail:!1}))),window.scrollTo({top:0,behavior:"smooth"})}}))),Vo&&a.createElement(h.U7,{hasCloseIcon:!0,blured:!0,scrollable:!0,isOpen:Vo,shadowedContainerStyle:{borderTopLeftRadius:"30px",borderTopRightRadius:"30px",padding:"20px",width:"100%"},sshadowedContainerClassname:fe.popup,onClose:function(){Go(!1)}},a.createElement(Ke,{ref:xi,begunModule:An,allModules:Un,companyData:Fn,components:Wn,setSelectedComponent:el,selectedComponent:$n,companyUsersArray:Yn,print:Gl,step:T.Nb,companyPositionsArray:jn,user:On,goto:!0}),a.createElement("div",{className:fe.emulatedFlexGap,style:{width:"100%"}},a.createElement(h.zx,{title:"Close",style:{width:"100%"},clicked:function(){Go(!1)}}))),Bo&&a.createElement(h.U7,{isOpen:Bo,hasCloseIcon:!0,onClose:function(){return Yo(!1)},backdropColor:!0,blured:!1,scrollable:!0,shadowedContainerStyle:{width:"100%",height:"auto"}},a.createElement("div",{className:fe.ratingsDiv},a.createElement("h3",null,"Rate your experience"),a.createElement("h5",null,"Ratings and reviews of users are visible to everyone"),a.createElement(ze.Z,{photo:null===Wi||void 0===Wi?void 0:Wi.photo,firstName:null===Wi||void 0===Wi?void 0:Wi.first_name,lastName:null===Wi||void 0===Wi?void 0:Wi.last_name,email:null===Wi||void 0===Wi?void 0:Wi.email,position:null===Wi||void 0===Wi?void 0:Wi.phone,cardClicked:function(){},width:"100%"}),a.createElement("div",{className:fe.slider},a.createElement(h.zx,{clear:!0,clicked:function(){return Xo(1)}},a.createElement(M.G,{icon:Z.Tab,style:{color:Qo<1?"lightgray":"black",height:"30px",width:"30px"}})),a.createElement(h.zx,{clear:!0,clicked:function(){return Xo(2)}},a.createElement(M.G,{icon:Z.Tab,style:{color:Qo<2?"lightgray":"black",height:"30px",width:"30px"}})),a.createElement(h.zx,{clear:!0,clicked:function(){return Xo(3)}},a.createElement(M.G,{icon:Z.Tab,style:{color:Qo<3?"lightgray":"black",height:"30px",width:"30px"}})),a.createElement(h.zx,{clear:!0,clicked:function(){return Xo(4)}},a.createElement(M.G,{icon:Z.Tab,style:{color:Qo<4?"lightgray":"black",height:"30px",width:"30px"}})),a.createElement(h.zx,{clear:!0,clicked:function(){return Xo(5)}},a.createElement(M.G,{icon:Z.Tab,style:{color:Qo<5?"lightgray":"black",height:"30px",width:"30px"}}))),"Comments:",a.createElement("textarea",{type:"text",autoComplete:"none",className:fe.ratingsInput,name:"Comments",id:"Comments",style:{padding:"0 10px 0 10px",fontSize:"16px",backgroundColor:"rgba(234, 231, 231, 0.91)",marginBottom:"30px"}}),a.createElement(h.zx,{title:"Rate",clicked:function(){var e,n,l,o,i=null===An||void 0===An||null===(e=An.processModule)||void 0===e||null===(n=e.steps)||void 0===n||null===(l=n.find((function(e){return e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Ratings"===e.data_type_name})).length>0})).length>0})))||void 0===l||null===(o=l.component_blueprints.find((function(e){return e.selected_fields.filter((function(e){return"Ratings"===e.data_type_name})).length>0})).selected_fields)||void 0===o?void 0:o.find((function(e){return"Ratings"===e.data_type_name}));Wi&&(sl(!0),(0,c.C0)({component_id:$n.id,index:0,gropup:100,value:"".concat(document.getElementById("Comments").value,",").concat(Qo),procedure_step_blueprint_field_id:i.procedure_step_blueprint_field_id}).subscribe({complete:function(){},next:function(){(0,c.zK)($n.id,"Closed").subscribe({complete:function(){},next:function(e){(0,Ce.DV)(Wi,{ratings:Qo,comments:document.getElementById("Comments").value,component_id:$n.id}).pipe((0,_.P)()).subscribe({next:function(e){sl(!1),Yo(!1),m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},An.processModule),{},{showDetail:!1}))),el((0,t.Z)((0,t.Z)({},$n),{},{status:"Closed"}))},error:function(e){sl(!1),Yo(!1),m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},An.processModule),{},{showDetail:!1}))),Ui()},complete:function(){}})}})}}))}}))),go&&a.createElement(on,{title:"",nav:go,openNav:function(){window.clearInterval(ni),Jn?yi("/"):bo(!1)}},a.createElement("div",{style:{color:"var(--app-color-gray-dark)",height:"inherit",width:"100%"}},a.createElement("div",null,a.createElement("div",{style:{textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",padding:"0 20px 20px 20px"}},!(null!==$n&&void 0!==$n&&$n.assigned_to)&&a.createElement(h.$j,{type:"BallTriangle",color:"black",height:30,width:"30px"}),a.createElement("p",{className:fe.modalSubTitle},null!==$n&&void 0!==$n&&$n.assigned_to?"Your transaction has been assigned to:":"Waiting for ".concat(null!==(xn=null===$n||void 0===$n?void 0:$n.title)&&void 0!==xn?xn:"transaction"," to be assigned")),null!==$n&&void 0!==$n&&$n.assigned_to||"Unassigned"!==(null===$n||void 0===$n?void 0:$n.status)?(null===$n||void 0===$n?void 0:$n.assigned_to)&&a.createElement(ze.Z,{photo:null===$n||void 0===$n||null===(En=$n.assigned_to)||void 0===En?void 0:En.photo,height:"150px",width:b.tq?"100%":"80%",firstName:"".concat(null===$n||void 0===$n||null===(Cn=$n.assigned_to)||void 0===Cn?void 0:Cn.first_name," ").concat(null===$n||void 0===$n||null===(wn=$n.assigned_to)||void 0===wn?void 0:wn.last_name),email:null!==(Zn=null===$n||void 0===$n||null===(Mn=$n.assigned_to)||void 0===Mn?void 0:Mn.phone)&&void 0!==Zn?Zn:""}):a.createElement(ze.Z,{noPhoto:!0,height:"150px",width:b.tq?"100%":"80%",firstName:"Unassigned",email:"Please close and select another provider"})),a.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}})),a.createElement("br",null),a.createElement(h.zx,{clicked:function(){window.clearInterval(ni),bo(!1)},title:"Hide",style:{width:"100%"},loading:vl}))),fo&&a.createElement(h.U7,{isOpen:fo,hasCloseIcon:!0,onClose:function(){return Jn?yi("/"):_o(!1)},backdropColor:!0,blured:!1,scrollable:!0,shadowedContainerStyle:{width:"100%",height:"auto"}},a.createElement("div",{style:{textAlign:"center",padding:"20px"}},a.createElement("p",{className:fe.modalTitle},null===(Sn=An.processModule.module)||void 0===Sn?void 0:Sn.name),a.createElement("p",{className:fe.modalSubTitle},null!==(kn=null===An||void 0===An||null===(In=An.processModule)||void 0===In||null===(Nn=In.module)||void 0===Nn||null===(Tn=Nn.options)||void 0===Tn?void 0:Tn.message)&&void 0!==kn?kn:"Transaction saved"))))))})),pn=l(91605),mn=l(30994),fn=l(57650),_n=l(96079),yn=l(87453),hn=l(34665),gn={host:"DashboardMobile_host__FXUjc",dashboardPanel:"DashboardMobile_dashboardPanel__lXz07",headerContainer:"DashboardMobile_headerContainer__JAcuY",title:"DashboardMobile_title__UJq7q",modalTitle:"DashboardMobile_modalTitle__yR3Zx",singleButton:"DashboardMobile_singleButton__h-dk5",fieldRowContainer:"DashboardMobile_fieldRowContainer__VvOwp",fieldTypeInput:"DashboardMobile_fieldTypeInput__Qmlee",dashboardCard:"DashboardMobile_dashboardCard__uJUtM",componentCard:"DashboardMobile_componentCard__9UsrE",componentCardv2:"DashboardMobile_componentCardv2__EqNmf",imageCard:"DashboardMobile_imageCard__J6I0d",searchContainer:"DashboardMobile_searchContainer__nrcHL",searchInput:"DashboardMobile_searchInput__GQHtE",ongoingtx:"DashboardMobile_ongoingtx__tEDSh",dropdownSelectComponent:"DashboardMobile_dropdownSelectComponent__RUoXR",dropdownSelectMenuOverlayList:"DashboardMobile_dropdownSelectMenuOverlayList__T2zDR",dropdownSelectMenuOverlayListItem:"DashboardMobile_dropdownSelectMenuOverlayListItem__twu8t",dropdownInput:"DashboardMobile_dropdownInput__CB8Ta",dropdownClearControlsClassName:"DashboardMobile_dropdownClearControlsClassName__TMP-7",listContainer:"DashboardMobile_listContainer__ASOGR",dropdownListContainer:"DashboardMobile_dropdownListContainer__J4smE",dropDownButtonContainer:"DashboardMobile_dropDownButtonContainer__oeCll",searchResults:"DashboardMobile_searchResults__RB3VY",pageContainer:"DashboardMobile_pageContainer__ep2wY",emulatedFlexGap:"DashboardMobile_emulatedFlexGap__mHKc9",popup:"DashboardMobile_popup__wqxbT",profilepopup:"DashboardMobile_profilepopup__0SibL",userCardContainerTop:"DashboardMobile_userCardContainerTop__bT3XW",userCardInnerContainer:"DashboardMobile_userCardInnerContainer__u0yVs",avatarUrlImg:"DashboardMobile_avatarUrlImg__1MY4w",center:"DashboardMobile_center__wR7QQ",moduleTitle:"DashboardMobile_moduleTitle__itg2E",filtersContainer:"DashboardMobile_filtersContainer__Mz0UE",wallet:"DashboardMobile_wallet__QzTMZ",userPanelRows:"DashboardMobile_userPanelRows__XQVNr",actionsContainer:"DashboardMobile_actionsContainer__65lpT",appsTitle:"DashboardMobile_appsTitle__a80ai",stepTitle:"DashboardMobile_stepTitle__FV3ye",stepSubTitle:"DashboardMobile_stepSubTitle__s2cY7",listContainerAll:"DashboardMobile_listContainerAll__ZrR1O",listButton:"DashboardMobile_listButton__zpevX"},bn=(l(143),l(36832),l(66918)),xn=(0,x.$j)((function(e){var n=e.flowReducer,l=n.begunModule,o=n.allTasks,i=n.allCompletedTasks,t=n.allCompletedTasksPaginated,d=n.companyProcesses,a=n.allModules,u=n.components,r=n.companyData,v=n.companyUsersArray,s=n.blueprints,c=n.payable,p=n.lastUpdates,m=n.companyPositionsArray,f=n.showMessage,_=e.sessionReducer,y=_.user,h=_.authenticated;return{begunModule:l,allTasks:o,allCompletedTasks:i,allCompletedTasksPaginated:t,companyProcesses:d,allModules:a,components:u,companyData:r,companyUsersArray:v,user:y,authenticatedUser:e.authReducer.authenticatedUser,authenticated:h,blueprints:s,payable:c,lastUpdates:p,companyPositionsArray:m,showMessage:f}}),(function(e){return{onSetSelectedProcess:function(n){return e((0,v.Xu)(n))}}}))((function(e){var n,l,o,S,k,I,N,D,P,O,L,z,R,U,F,W,q,B,Y,H,j,V,G,J,K,Q,X,$,ee,ne,le,oe,ie,te,de;(0,fn.z2)();var ae=e.authenticated,ue=e.authenticatedUser,re=e.user,me=e.companyProcesses,fe=e.allModules,_e=e.components,ye=e.companyData,he=e.begunModule,ge=e.blueprints,be=e.payable,xe=e.companyUsersArray,Ee=e.lastUpdates,we=e.allTasks,Ze=e.companyPositionsArray,Me=e.showMessage,Se=(0,a.useState)(!1),ke=(0,d.Z)(Se,2),Ie=ke[0],Ne=ke[1],Te=(0,a.useState)({}),De=(0,d.Z)(Te,2),Pe=De[0],Ae=De[1],Oe=(0,a.useState)(!1),Le=(0,d.Z)(Oe,2),Re=Le[0],Fe=Le[1],We=(0,a.useState)(!1),qe=(0,d.Z)(We,2),Be=qe[0],Ye=qe[1],He=(0,a.useState)(!1),je=(0,d.Z)(He,2),Ve=je[0],Ge=je[1],Je=(0,a.useState)(!1),Ke=(0,d.Z)(Je,2),Qe=Ke[0],Xe=Ke[1],$e=(0,a.useState)(),en=(0,d.Z)($e,2),nn=en[0],ln=en[1],on=(0,a.useState)(!1),tn=(0,d.Z)(on,2),dn=(tn[0],tn[1]),an=(0,a.useState)({}),un=(0,d.Z)(an,2),vn=un[0],sn=un[1],xn=(0,a.useState)(!1),Cn=(0,d.Z)(xn,2),wn=Cn[0],Zn=Cn[1],Mn=(0,a.useState)({}),Sn=(0,d.Z)(Mn,2),kn=(Sn[0],Sn[1]),In=(0,a.useState)(!1),Nn=(0,d.Z)(In,2),Tn=Nn[0],Dn=Nn[1],Pn=(0,a.useState)(-1),An=(0,d.Z)(Pn,2),On=An[0],Ln=An[1],zn=(0,a.useState)([]),Rn=(0,d.Z)(zn,2),Un=Rn[0],Fn=Rn[1],Wn=(0,a.useState)(!1),qn=(0,d.Z)(Wn,2),Bn=qn[0],Yn=qn[1],Hn=(0,a.useState)(!1),jn=(0,d.Z)(Hn,2),Vn=jn[0],Gn=jn[1],Jn=(0,a.useState)(!1),Kn=(0,d.Z)(Jn,2),Qn=(Kn[0],Kn[1],(0,a.useState)(!1)),Xn=(0,d.Z)(Qn,2),$n=Xn[0],el=Xn[1],nl=(0,g.pQ)(),ll=(0,d.Z)(nl,2),ol=ll[0],il=ll[1],tl=(0,a.useState)(!(null===he||void 0===he||null===(n=he.processModule)||void 0===n||null===(l=n.module)||void 0===l||!l.id)&&(null===re||void 0===re||null===(o=re.positions)||void 0===o||null===(S=o.filter((function(e){var n,l,o,i;return(null===he||void 0===he||null===(n=he.processModule)||void 0===n||null===(l=n.module)||void 0===l||null===(o=l.options)||void 0===o||null===(i=o.processors)||void 0===i?void 0:i.indexOf(e.id))>-1})))||void 0===S?void 0:S.length)>0),dl=(0,d.Z)(tl,2),al=dl[0],ul=dl[1],rl=(0,x.I0)(),vl=((0,u.s0)(),(0,u.UO)()),sl=vl.paymentID,cl=vl.walletID;document.title="Dashboard | ".concat(p.iC," Mobile"),(0,a.useEffect)((function(){return window.addEventListener("scroll",(function(e){0==e.currentTarget.scrollY?el(!1):el(!0)})),function(){window.removeEventListener("scroll")}}),[]);var pl=(0,a.useCallback)((function(e,n,l){var o=function(o){var i,d,a,u,r,s,_,h,b,x,C,w,Z,M,S,k,I,N=o.steps.filter((function(e){var n,l,i,t,d,a;return void 0==(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.showStepAll)||1==(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.showStepAll)||0==(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.showStepAll)&&(null===e||void 0===e||null===(t=e.options)||void 0===t||null===(d=t.showOnly)||void 0===d?void 0:d.filter((function(e){return ue.positions.map((function(e){return e.id})).indexOf(e)>-1})).length)>0||(null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.showStepAuthor)&&(null===ue||void 0===ue?void 0:ue.id)===(null===o||void 0===o?void 0:o.user_id)})).map((function(e,n){return(0,t.Z)((0,t.Z)({},e),{},{rank:n+1})}));(m.h.dispatch((0,v.q4)(o)),m.h.dispatch((0,v.an)([o],p.Qc)),m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},o),{},{completeSteps:o.steps,steps:N,stepIndex:l?0:(null===o||void 0===o||null===(i=o.steps)||void 0===i?void 0:i.length)>0?(null===o||void 0===o||null===(d=o.steps[0])||void 0===d||null===(a=d.component_blueprints)||void 0===a?void 0:a.filter((function(e){var n;return 1==(null===(n=e.options)||void 0===n?void 0:n.asModuleList)})).length)>0?1:0:1,module_id:n.id,module:e.find((function(e){return e.id===n.id})),isUpdating:!1}))),il({action:g._U.setCurrentStep,value:null===o||void 0===o?void 0:o.steps[l?0:(null===o||void 0===o||null===(u=o.steps)||void 0===u?void 0:u.length)>0?(null===o||void 0===o||null===(r=o.steps[0])||void 0===r||null===(s=r.component_blueprints)||void 0===s?void 0:s.filter((function(e){var n;return 1==(null===(n=e.options)||void 0===n?void 0:n.asModuleList)})).length)>0?1:0:1]}),il({action:g._U.setModuleItems,value:Pe.component_items}),il({action:g._U.setModuleNewStepComponents,value:[]}),il({action:g._U.setComponents,value:[]}),(null===he||void 0===he||null===(_=he.processModule)||void 0===_||null===(h=_.steps)||void 0===h?void 0:h.length)>0&&(null===he||void 0===he||null===(b=he.processModule)||void 0===b||null===(x=b.steps)||void 0===x||x.filter((function(e){var n;return null===e||void 0===e||null===(n=e.component_blueprints)||void 0===n?void 0:n.filter((function(e){return e.selected_fields.filter((function(e){return e.value=void 0}))}))}))),(0,y.vC)(n,p.Qc,p.M4,1,!1).pipe((0,f.q)(1)).subscribe({next:function(e){var l;Ne(!1),n.lastUpdate=0,n.count=null!==(l=null===e||void 0===e?void 0:e.total)&&void 0!==l?l:0,(0,c.OQ)(!0,!1).pipe((0,f.q)(1)).subscribe({complete:function(){(0,c.ew)().pipe((0,f.q)(1)).subscribe({})}})}}),null===n||void 0===n||null===(C=n.options)||void 0===C||null===(w=C.supporting)||void 0===w||w.filter((function(e,l){var o,i;(0,y.vC)({id:e,name:null!==(o="".concat(null===fe||void 0===fe||null===(i=fe.find((function(n){return n.id===e})))||void 0===i?void 0:i.name).concat(l))&&void 0!==o?o:"".concat(null===n||void 0===n?void 0:n.name).concat(l)},p.Qc,p.R6,1).pipe((0,f.q)(1)).subscribe({next:function(o){var i,t;Ee.componentsByModule[null!==(i="".concat(null===fe||void 0===fe||null===(t=fe.find((function(n){return n.id===e})))||void 0===t?void 0:t.name).concat(l))&&void 0!==i?i:"".concat(null===n||void 0===n?void 0:n.name).concat(l)]=(0,E.now)()}})})),(null===n||void 0===n||null===(Z=n.options)||void 0===Z||null===(M=Z.positions)||void 0===M?void 0:M.length)>0)&&(0,Ce.n0)(null===n||void 0===n||null===(k=n.options)||void 0===k?void 0:k.positions,5*(null===n||void 0===n||null===(I=n.options)||void 0===I?void 0:I.positions.length)).pipe((0,f.q)(1)).subscribe({});if(null!==n&&void 0!==n&&null!==(S=n.options)&&void 0!==S&&S.single){var T=localStorage.getItem(n.id);(0,c.DA)(o,T?JSON.parse(T):_e.find((function(e){return e.module_id===n.id})),void 0,il,fe),Ae(T?JSON.parse(T):_e.find((function(e){return e.module_id===n.id})))}};me.find((function(e){return e.id===n.procedure.id}))?o(me.find((function(e){return e.id===n.procedure.id}))):(Ne(!0),(0,s.zJ)(n.procedure.id).pipe((0,_.P)()).subscribe({next:function(e){Ne(!1),o(e)},error:function(e){}}))}),[he]);(0,a.useEffect)((function(){rl((0,v.aV)())}),[]),(0,a.useEffect)((function(){history.pushState(null,null,location.href),window.onpopstate=function(e){history.go(1)},rl((0,v.tR)(!1)),rl((0,v.IW)(!1))}),[Ve]),(0,a.useEffect)((function(){if(ae){if("trial_ended"!==(null===ye||void 0===ye?void 0:ye.status)&&"inactive"!==(null===ye||void 0===ye?void 0:ye.status)&&(null===fe||void 0===fe?void 0:fe.length)>0){var e=null===fe||void 0===fe?void 0:fe.filter((function(e){var n;return!0===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.asMobileApp)}));if(1===(null===e||void 0===e?void 0:e.length)){var n,l,o=(null===re||void 0===re||null===(n=re.positions)||void 0===n||null===(l=n.filter((function(n){var l,o,i;return(null===(l=e[0])||void 0===l||null===(o=l.options)||void 0===o||null===(i=o.processors)||void 0===i?void 0:i.indexOf(n.id))>-1})))||void 0===l?void 0:l.length)>0;ul(o),pl(fe,e[0],o)}else if((null===e||void 0===e?void 0:e.length)>0){var i,t,d,a,u=ue.positions.find((function(e){return"1"===e.standards})),r=u&&e.find((function(e){return e.name===u.name})),s=(null===re||void 0===re||null===(i=re.positions)||void 0===i||null===(t=i.filter((function(n){var l,o,i;return(null===(l=e[0])||void 0===l||null===(o=l.options)||void 0===o||null===(i=o.processors)||void 0===i?void 0:i.indexOf(n.id))>-1})))||void 0===t?void 0:t.length)>0;if(r)s=(null===re||void 0===re||null===(d=re.positions)||void 0===d||null===(a=d.filter((function(e){var n,l;return(null===r||void 0===r||null===(n=r.options)||void 0===n||null===(l=n.processors)||void 0===l?void 0:l.indexOf(e.id))>-1})))||void 0===a?void 0:a.length)>0,pl(fe,r,s);else pl(fe,e[0],s);ul(s),Zn(!0)}}""===(null===re||void 0===re?void 0:re.id)&&(rl((0,w.ci)()),rl((0,v.mb)())),"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(e){m.h.dispatch((0,v.Rb)({latitude:e.coords.latitude,longitude:e.coords.longitude}))}))}}),[ae,fe]),(0,a.useEffect)((function(){fe.length>0&&fe.filter((function(e){var n;return void 0===me.find((function(n){var l;return n.id===(null===e||void 0===e||null===(l=e.procedure)||void 0===l?void 0:l.id)}))&&(0,s.zJ)(null===e||void 0===e||null===(n=e.procedure)||void 0===n?void 0:n.id).pipe((0,_.P)()).subscribe({})})),fe.length>0&&fe.filter((function(e){var n;return(C()((0,E.now)()).diff(C()(null!==(n=Ee.componentsByModule[e.name])&&void 0!==n?n:(0,E.now)()),"minutes")>10||void 0===Ee.componentsByModule[e.name]||0===_e.filter((function(n){return n.module_id===e.id})).length)&&(0,y.vC)(e,p.Qc,p.Zp,1,!1).pipe((0,f.q)(1)).subscribe({next:function(n){Ee.componentsByModule[e.name]=(0,E.now)()}})}))}),[fe]),(0,a.useEffect)((function(){ae&&((null===be||void 0===be?void 0:be.length)>0&&void 0!==cl&&void 0===sl&&be.find((function(e){return e.user_id===(null===ue||void 0===ue?void 0:ue.id)&&e.paymentID===cl}))&&(m.h.dispatch((0,v.Wy)(be.filter((function(e){return e.paymentID!==cl})))),(0,Ce.IC)().pipe((0,_.P)()).subscribe({next:function(e){var n;ue.wallet=null===e||void 0===e?void 0:e.wallet,ue.options=null===e||void 0===e?void 0:e.options,ue.departments=null===e||void 0===e?void 0:e.departments,ue.positions=null===e||void 0===e?void 0:e.positions,ue.pinned_modules=null===e||void 0===e?void 0:e.pinned_modules,null===hn.Fc||void 0===hn.Fc||null===(n=hn.Fc.saveUser)||void 0===n||n.call(hn.Fc,ue).then((function(){}))}}),Xe(!1),Ge(!1),Dn(!0)))}),[cl,ae]);var ml=(0,a.useCallback)((function(e){var n,l,o,i,d,u,s;return a.createElement("div",{className:"tabbar-section",style:{display:"inactive"===(null===ye||void 0===ye?void 0:ye.status)?"none":""}},e.children,a.createElement("div",{className:"mobile-nav"},a.createElement(r.Z,{clear:!0,loading:Ie,clicked:function(){var e,n,l;m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},he.processModule),{},{stepIndex:al||null!==(e=he.processModule)&&void 0!==e&&null!==(n=e.module)&&void 0!==n&&null!==(l=n.options)&&void 0!==l&&l.single?0:1,isUpdating:!1}))),fe.filter((function(e){var n;return!0===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.asMobileApp)})).length>1&&Zn(!0),Ge(!1),Xe(!1)}},a.createElement("div",{style:{color:"var(--app-color-gray-dark)"}},a.createElement(M.G,{icon:Z.J9Y,className:"tabbar-icon"}),a.createElement("div",{style:{fontSize:"10px",height:"14px"}},"Home")))),(null===re||void 0===re||null===(n=re.ui_permissions)||void 0===n?void 0:n.find((function(e){return"view-dashboard-task"===e})))&&a.createElement("div",{className:"mobile-nav"},a.createElement(r.Z,{clear:!0,clicked:function(){Xe(!0),Ge(!1)}},a.createElement("div",{style:{color:"var(--app-color-gray-dark)"}},a.createElement(M.G,{icon:Z.fT7,className:"tabbar-icon"}),a.createElement("div",{style:{fontSize:"10px",height:"14px"}},"Tasks")))),!(null!==he&&void 0!==he&&null!==(l=he.processModule)&&void 0!==l&&null!==(o=l.module)&&void 0!==o&&null!==(i=o.options)&&void 0!==i&&i.single)&&a.createElement("div",{className:"mobile-nav"},a.createElement(r.Z,{clear:!0,clicked:function(){m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},he.processModule),{},{stepIndex:0,isUpdating:!1}))),Ye(!0),Zn(!1),setTimeout((function(){return Ye(!1)})),sn({}),dn(!0),Ge(!1),Xe(!1)}},a.createElement("div",{style:{color:"var(--app-color-gray-dark)"}},a.createElement(M.G,{icon:Z.Zrf,className:"tabbar-icon"}),a.createElement("br",null),a.createElement("div",{style:{fontSize:"10px",height:"14px"}},null!==(d=null===(u=he.processModule)||void 0===u||null===(s=u.module)||void 0===s?void 0:s.name)&&void 0!==d?d:"Transactions")))),a.createElement("div",{className:"mobile-nav"},a.createElement(r.Z,{clear:!0,clicked:function(){Ge(!0),Xe(!1)}},a.createElement("div",{style:{color:"var(--app-color-gray-dark)"}},a.createElement(M.G,{icon:Z.ILF,className:"tabbar-icon"}),a.createElement("div",{style:{fontSize:"10px",height:"14px"}},"Profile")))))}),[Vn,Ie,ol,_e]),fl=(0,a.useCallback)((function(e){var n,l,o,i,t,d,u,v=e.dark,s=void 0===v||v,c=function(){Gn(!Vn)};return a.createElement("div",{className:"navbar-section",style:{backgroundColor:s?null!==ye&&void 0!==ye&&null!==(n=ye.company_standards)&&void 0!==n&&null!==(l=n.themeJ)&&void 0!==l&&l.backgroundColorr?null===ye||void 0===ye||null===(o=ye.company_standards)||void 0===o||null===(i=o.themeJ)||void 0===i?void 0:i.backgroundColor:"var(--app-color-gray-dark)":"white"}},a.createElement("div",{className:"mobile-nav"},a.createElement(r.Z,{style:{marginLeft:"10px",height:"30px"},clear:!0,clicked:function(){var e,n;Ne(!1),(null===ol||void 0===ol||null===(e=ol.components)||void 0===e?void 0:e.length)>0||(null===ol||void 0===ol||null===(n=ol.newStepComponents)||void 0===n?void 0:n.length)>0?kn({open:!0,handler:c}):c(),c()}},a.createElement(M.G,{icon:Z.Ljc,className:"hamb-icon"}))),a.createElement("div",{className:gn.moduleTitle},null!==ye&&void 0!==ye&&null!==(t=ye.company_standards)&&void 0!==t&&null!==(d=t.themeJ)&&void 0!==d&&d.title?a.createElement(a.Fragment,null,a.createElement("div",{style:{width:"100%",justifyContent:"center",display:"flex"}},(0,p.lh)("16px",s?"white":"var(--app-color-gray-dark)","bold")),a.createElement("div",{style:{width:"100%",fontSize:"9px",fontWeight:"bold",color:s?"white":"black",justifyContent:"center",display:"flex"}},"".concat((null!==(u=ye.display_name)&&void 0!==u?u:"").toUpperCase()).concat(al?"*":"")," ")):a.createElement("div",{style:{width:"100%",justifyContent:"center",display:"flex"}},(0,p.lh)("18px",s?"white":"var(--app-color-gray-dark)","bold"))),a.createElement("div",{className:gn.userCardContainerTop},a.createElement(yn.ZP,null,a.createElement(_n.T$,null))),a.createElement("div",{className:"mobile-navbar ".concat(Vn?"open-nav":""),style:{width:"100%",backgroundColor:"transparent"}},a.createElement("div",{className:"mobile-navbar ".concat(Vn?"open-nav":""),style:{height:"inherit",width:"80%",boxShadow:"0px 2px 20px 5px rgba(0, 0, 0, 0.1)"}},a.createElement("div",{onClick:c,className:"mobile-navbar-close"},a.createElement(M.G,{icon:Z.QQm,className:"hamb-icon",style:{color:"var(--app-color-gray)",width:"25px",height:"25px"}})),a.createElement("ul",{className:"mobile-navbar-links"},a.createElement("li",null,a.createElement("a",{style:{fontFamily:"Montserrat, serif"},onClick:function(){Xe(!1),Ge(!0),c()}},"PROFILE")),(null===fe||void 0===fe?void 0:fe.find((function(e){var n;return null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.credits})))&&a.createElement("li",null,a.createElement("a",{style:{fontFamily:"Montserrat, serif"},onClick:function(){(0,Ce.IC)().pipe((0,_.P)()).subscribe({next:function(e){var n;ue.wallet=null===e||void 0===e?void 0:e.wallet,ue.options=null===e||void 0===e?void 0:e.options,ue.departments=null===e||void 0===e?void 0:e.departments,ue.positions=null===e||void 0===e?void 0:e.positions,ue.pinned_modules=null===e||void 0===e?void 0:e.pinned_modules,null===hn.Fc||void 0===hn.Fc||null===(n=hn.Fc.saveUser)||void 0===n||n.call(hn.Fc,ue).then((function(){}))}}),Xe(!1),Ge(!1),Dn(!0),c()}},"WALLET")),a.createElement("li",null,a.createElement("a",{style:{fontFamily:"Montserrat, serif"},onClick:function(){Fe(!0),Ge(!1),c()}},"LOGOUT"))))))}),[Vn,Ie,ol,_e]),_l=function(e){return bn.sortWith([bn.descend(bn.prop("created_date"))])(_e.filter((function(n){return n.module_id===(null===e||void 0===e?void 0:e.id)}))).filter((function(e){var n;return!("Closed"===(null===e||void 0===e?void 0:e.status)||"Cancelled"===(null===e||void 0===e?void 0:e.status)||"Expired"===(null===e||void 0===e?void 0:e.status)||"None"===(null===e||void 0===e?void 0:e.status)||(null===e||void 0===e||!e.payments)&&(null===e||void 0===e||null===(n=e.created_by)||void 0===n?void 0:n.id)!==(null===ue||void 0===ue?void 0:ue.id)&&null!==e&&void 0!==e&&e.component_fields.find((function(e){return"Payments"===e.data_type_name&&"Credit Card"===e.value})))})).filter((function(n){var l,o,i,t;return!((null===(l=e.options)||void 0===l?void 0:l.activeFor)>0&&C()((0,E.now)()).diff(C()(n.created_date),"minutes")>+(null===(o=e.options)||void 0===o?void 0:o.activeFor))||!("New"===n.status||"Reopen"===n.status||"Unassigned"===n.status)||(null===(i=n.assigned_to)||void 0===i?void 0:i.id)||(null===n||void 0===n||null===(t=n.payments)||void 0===t?void 0:t.id)})).map((function(n,l){var o;return a.createElement("div",{key:l,className:gn.componentCardv2,style:{display:"flex",fontWeight:"normal",userSelect:"none"},"app-color-variant":"".concat(l%5+1),onClick:function(){En(me,Ae,dn,ye,n,il,ue,he,re,fe,Ye,xe,e)}},a.createElement("div",{style:{width:"100%",fontSize:(null===n||void 0===n||null===(o=n.title)||void 0===o?void 0:o.length)>18?"14px":"16px",ffontWeight:"normal",padding:"10px"}},null!==n&&void 0!==n&&n.status?"".concat(n.title," (").concat(null===n||void 0===n?void 0:n.status,")"):n.title))}))},yl=(0,a.memo)((function(){var e,n,l;return a.createElement("div",{style:{padding:"20px 5px"}},a.createElement("div",{style:{display:"flex",textAlign:"left"}},a.createElement("p",{className:gn.stepTitle},"My Tasks"),a.createElement(r.Z,{light:!0,clicked:function(){Ne(!0),(0,Ue.km)(re.id,!0).pipe((0,f.q)(1)).subscribe({complete:function(){return Ne(!1)}})},icon:a.createElement("img",{src:T.Fd})}),a.createElement(r.Z,{light:!0,style:{display:null!==re&&void 0!==re&&null!==(e=re.ui_permissions)&&void 0!==e&&e.find((function(e){return"view-dashboard-task"===e}))?"":"none"},clicked:function(){ln(!0)},icon:a.createElement("img",{src:T.IH})})),a.createElement("div",{className:gn.stepSubTitle},"Your tasks related to ".concat(null===he||void 0===he||null===(n=he.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.name)),a.createElement(A.default,{title:"",card:!0,className:gn.listContainer,isReport:!1,"app-variant-is-mobile":"true",columns:["Name","Status","Due"],list:we.filter((function(e){var n,l,o;return"Done"!==e.status&&(null===e||void 0===e||null===(n=e.add_info)||void 0===n?void 0:n.module_id)===(null===he||void 0===he||null===(l=he.processModule)||void 0===l||null===(o=l.module)||void 0===o?void 0:o.id)})).map((function(e){var n,l,o,t,d,a,u,r,v,s,c;return c={Name:e.name,Description:e.description,Status:null!==(n=e.status)&&void 0!==n?n:"New",Due:C()(null===(l=e.add_info)||void 0===l?void 0:l.end).format("DD MMMM h:mm a")},(0,i.Z)(c,"Created By","".concat(null!==(o=null===(t=e.creator)||void 0===t?void 0:t.first_name)&&void 0!==o?o:""," ").concat(null!==(d=null===(a=e.creator)||void 0===a?void 0:a.last_name)&&void 0!==d?d:"")),(0,i.Z)(c,"Assigned To","".concat(null!==(u=null===(r=e.assignee)||void 0===r?void 0:r.first_name)&&void 0!==u?u:""," ").concat(null!==(v=null===(s=e.assignee)||void 0===s?void 0:s.last_name)&&void 0!==v?v:"")),(0,i.Z)(c,"task",e),c})),onListItemClick:function(e){ln(e.task)}}))}));return a.createElement(a.Fragment,null,a.createElement("div",{className:gn.center,style:{flexDirection:"column",alignItems:"center",paddingTop:$n?"60px":"0px"}},a.createElement("div",{style:{position:$n?"fixed":"",top:"0",zIndex:"20",width:"100%",display:null!==Me&&void 0!==Me&&Me.show?"none":""}},void 0==(null===he||void 0===he||null===(k=he.processModule)||void 0===k?void 0:k.stepIndex)||(null===he||void 0===he||null===(I=he.processModule)||void 0===I?void 0:I.stepIndex)<2?fe.length>0&&a.createElement(fl,{dark:!1,ddark:0===_l(null===he||void 0===he||null===(N=he.processModule)||void 0===N?void 0:N.module).length||Ve||Qe}):a.createElement("div",null),0!==(null===he||void 0===he||null===(D=he.processModule)||void 0===D?void 0:D.stepIndex)&&0===(null===fe||void 0===fe?void 0:fe.length)&&a.createElement("div",{style:{display:"flex",margin:"auto",width:"100%",height:"500px",alignContent:"center",alignItems:"center",justifyItems:"center",justifyContent:"center"}},(0,p.lh)("30px"))),"inactive"===(null===ye||void 0===ye?void 0:ye.status)&&a.createElement("div",{style:{display:"flex",margin:"auto",width:"100%",alignContent:"center",alignItems:"center",justifyItems:"center",justifyContent:"center"}},"Your account is inactive and services are temporarily not available. Please check with your administrator"),(void 0==(null===he||void 0===he||null===(P=he.processModule)||void 0===P?void 0:P.stepIndex)||(null===he||void 0===he||null===(O=he.processModule)||void 0===O?void 0:O.stepIndex)<2)&&fe.length>0&&!Ve&&!Qe&&wn&&"inactive"!==(null===ye||void 0===ye?void 0:ye.status)&&function(e){var n=fe.length>0?function(){var e=fe.find((function(e){var n;return 1==(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.asGraphical)}));return void 0===e?[]:bn.sortWith([bn.descend(bn.prop("created_date"))])(_e.filter((function(n){return n.module_id===e.id}))).filter((function(e){var n;return(null===e||void 0===e||null===(n=e.component_fields)||void 0===n?void 0:n.filter((function(e){var n,l,o,i,t;return"Status"===e.data_type_name&&!(e.value===(null!==(n=null===(l=he.processModule)||void 0===l||null===(o=l.module)||void 0===o||null===(i=o.options)||void 0===i?void 0:i.lock)&&void 0!==n?n:null===(t=ye.misc_info)||void 0===t?void 0:t.lock)||"Closed"===e.value||"Cancelled"===e.value)})).length)>0})).map((function(e,n){var l,o,i,t,d=null===e||void 0===e?void 0:e.component_fields.find((function(e){return"Link"===e.data_type_name}));return a.createElement("div",{key:n,className:gn.imageCard},d&&((null===(l="".concat(null===d||void 0===d?void 0:d.value))||void 0===l?void 0:l.includes("jpg"))||(null===(o="".concat(null===d||void 0===d?void 0:d.value))||void 0===o?void 0:o.includes("jpeg"))||(null===(i="".concat(null===d||void 0===d?void 0:d.value))||void 0===i?void 0:i.includes("png"))||(null===d||void 0===d||null===(t=d.options)||void 0===t?void 0:t.image))&&a.createElement("img",{alt:"lg",src:null===d||void 0===d?void 0:d.value,style:{objectFit:"fill",height:"160px"}}))}))}():[],l=e?function(e){return bn.sortWith([bn.descend(bn.prop("created_date"))])(_e.filter((function(n){return n.module_id===e.id}))).filter((function(e){return"None"===(null===e||void 0===e?void 0:e.status)})).filter((function(n){var l,o,i,t;return!((null===(l=e.options)||void 0===l?void 0:l.activeFor)>0&&C()((0,E.now)()).diff(C()(n.created_date),"minutes")>+(null===(o=e.options)||void 0===o?void 0:o.activeFor))||!("New"===n.status||"Unassigned"===n.status)||(null===(i=n.assigned_to)||void 0===i?void 0:i.id)||(null===n||void 0===n||null===(t=n.payments)||void 0===t?void 0:t.id)})).map((function(n,l){var o,i,t,d=null===n||void 0===n?void 0:n.component_fields.find((function(e){return"Value Button"===e.data_type_name&&(null===e||void 0===e?void 0:e.value)})),u=null===(o=he.processModule.completeSteps[0].component_blueprints)||void 0===o||null===(i=o.find((function(e){var n,l,o;return 1==e.options.asModuleList&&(ue.positions.filter((function(n){var l,o;return null===(l=e.options)||void 0===l||null===(o=l.showOnly)||void 0===o?void 0:o.includes(n.id)})).length>0||0==(null===(n=e.options)||void 0===n||null===(l=n.showOnly)||void 0===l?void 0:l.length)||void 0===(null===(o=e.options)||void 0===o?void 0:o.showOnly))})))||void 0===i||null===(t=i.selected_fields)||void 0===t?void 0:t.map((function(e){return e.field_name}));return a.createElement("div",{key:l,className:gn.componentCard,style:{display:"flex",border:"0.6px solid var(--app-color-gray-lighter)",fontWeight:"normal",alignItems:"flex-start",padding:"20px 10px",height:"160px",userSelect:"none"},"app-color-variant":"".concat(l%5+1),onClick:function(){En(me,Ae,dn,ye,n,il,ue,he,re,fe,Ye,xe,e)}},a.createElement("div",{style:{width:d?"80%":"100%",fontFamily:"Montserrat, serif",textAlign:"left"}},u.map((function(e,l){var o,i=null===n||void 0===n?void 0:n.component_fields.find((function(n){return n.field_name===e}));return"Positions"===(null===i||void 0===i?void 0:i.data_type_name)?a.createElement("div",{key:l,style:{fontSize:0==l?"15px":"10px",fontWeight:0==l?"bold":""}},"".concat(null===(o=Ze.find((function(e){return(null===e||void 0===e?void 0:e.value)===(null===i||void 0===i?void 0:i.value)})))||void 0===o?void 0:o.label)):a.createElement("div",{key:l,style:{width:0==l?"90%":"100%",fontSize:0==l?"14px":"10px",fontWeight:0==l?"bold":"",margin:"2px 0",fontFamily:"Montserrat, serif"}},0==l?null===i||void 0===i?void 0:i.value.toUpperCase():null===i||void 0===i?void 0:i.value)})),a.createElement("div",{style:{fontSize:"10px",fontWeight:"bold",width:"100%"}},null===e||void 0===e?void 0:e.name)))}))}(e):[],o=e?function(e){return bn.sortWith([bn.descend(bn.prop("created_date"))])(_e.filter((function(n){return n.module_id===e.id}))).filter((function(e){return!("Closed"===(null===e||void 0===e?void 0:e.status)||"Cancelled"===(null===e||void 0===e?void 0:e.status)||"Expired"===(null===e||void 0===e?void 0:e.status)||"None"===(null===e||void 0===e?void 0:e.status))})).filter((function(n){var l,o,i,t;return!((null===(l=e.options)||void 0===l?void 0:l.activeFor)>0&&C()((0,E.now)()).diff(C()(n.created_date),"minutes")>+(null===(o=e.options)||void 0===o?void 0:o.activeFor))||!("New"===n.status||"Reopen"===n.status||"Unassigned"===n.status)||(null===(i=n.assigned_to)||void 0===i?void 0:i.id)||(null===n||void 0===n||null===(t=n.payments)||void 0===t?void 0:t.id)})).map((function(n,l){return a.createElement("div",{key:l,className:gn.componentCard,style:{display:"flex",border:"0.6px solid var(--app-color-gray-lighter)",fontWeight:"normal",padding:"20px 10px",height:"160px",userSelect:"none"},"app-color-variant":"".concat(l%5+1),onClick:function(){En(me,Ae,dn,ye,n,il,ue,he,re,fe,Ye,xe,e)}},a.createElement("div",{style:{width:"100%",fontFamily:"var(--app-text-mobile-font)",textAlign:"left"}},a.createElement("div",{style:{width:"90%",fontSize:"14px",fontWeight:"bold"}},n.title.toUpperCase()),a.createElement("div",{style:{width:"100%",fontSize:"10px",fontWeight:"normal"}},"".concat(n.status)),a.createElement("div",{style:{fontSize:"10px",fontWeight:"bold",width:"100%"}},null===e||void 0===e?void 0:e.name)))}))}(e):[];return a.createElement("div",{className:gn.center,style:{display:(null===n||void 0===n?void 0:n.length)>0||(null===l||void 0===l?void 0:l.length)>0?"":"none",width:"100%",minWidth:"360px",backgroundColor:"var(--app-color-gray-lightest)",flexDirection:"column",marginTop:"5px"}},a.createElement(pe.tq,{slidesPerView:"auto",centeredSlides:!0,spaceBetween:6,initialSlide:1,pagination:{clickable:!0,dynamicBullets:!0},modules:[ce.pt,ce.tl],className:"mySwiper"},(null===l||void 0===l?void 0:l.length)>0&&l.map((function(e,n){return a.createElement(pe.o5,{key:n,className:gn.swiperslide},e)})),(null===o||void 0===o?void 0:o.length)>0&&o.map((function(e,n){return a.createElement(pe.o5,{key:n,className:gn.swiperslide},e)})),(null===n||void 0===n?void 0:n.length)>0&&n.map((function(e,n){return a.createElement(pe.o5,{key:n,className:gn.swiperslide},e)}))))}(null!==(L=null===he||void 0===he||null===(z=he.processModule)||void 0===z?void 0:z.module)&&void 0!==L?L:null===fe||void 0===fe?void 0:fe.find((function(e){var n;return!0===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.asMobileApp)}))),(null===he||void 0===he||null===(R=he.processModule)||void 0===R?void 0:R.stepIndex)<2&&wn&&!Ve&&!Qe&&"inactive"!==(null===ye||void 0===ye?void 0:ye.status)&&function(){var e=fe.filter((function(e){var n;return!0===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.asMobileApp)}));return a.createElement("div",{style:{width:"100%",minWidth:"360px",backgroundColor:"var(--app-color-gray-lightest)",flexDirection:"column",marginTop:"10px"}},a.createElement(pe.tq,{slidesPerView:2,spaceBetween:0,initialSlide:0,pagination:{clickable:!0,dynamicBullets:!0},modules:[ce.pt,ce.tl],className:"mySwiper"},e.map((function(e,n){var l;return a.createElement(pe.o5,{key:n},a.createElement("div",{style:{padding:"10px",userSelect:"none"}},a.createElement(ze.Z,{photo:null===(l=e.options)||void 0===l?void 0:l.background,height:"22vh",width:b.tq?"20vh":"",email:null===e||void 0===e?void 0:e.name,cardClicked:function(){var n,l,o=(null===re||void 0===re||null===(n=re.positions)||void 0===n||null===(l=n.filter((function(n){var l,o;return(null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.processors)||void 0===o?void 0:o.indexOf(n.id))>-1})))||void 0===l?void 0:l.length)>0;ul(o),pl(fe,e,o),Zn(!0),Ge(!1),Xe(!1)}})))}))))}(null!==(U=null===he||void 0===he||null===(F=he.processModule)||void 0===F?void 0:F.module)&&void 0!==U||(null===fe||void 0===fe||fe.find((function(e){var n;return!0===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.asMobileApp)})))),!(Ve||Qe)&&a.createElement("div",{className:gn.host,style:{display:"inactive"===ye.status?"none":"",width:"100%"}},a.createElement("div",{className:gn.dashboardPanel,style:{display:null===he||void 0===he||null===(W=he.processModule)||void 0===W||null===(q=W.module)||void 0===q||null===(B=q.options)||void 0===B||!B.one||(null===he||void 0===he||null===(Y=he.processModule)||void 0===Y||null===(H=Y.module)||void 0===H||null===(j=H.options)||void 0===j?void 0:j.lock)!==(null===Pe||void 0===Pe?void 0:Pe.status)&&null!==Pe&&void 0!==Pe&&Pe.status?1!=(null===he||void 0===he||null===(V=he.processModule)||void 0===V||null===(G=V.module)||void 0===G||null===(J=G.options)||void 0===J?void 0:J.readOnly)||"manager"===ue.user_type||"admin"===ue.user_type?"flex":"none":_e.find((function(e){var n,l,o;return e.module_id===(null===(n=he.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.id)&&(null===e||void 0===e||null===(o=e.created_by)||void 0===o?void 0:o.id)===ue.id}))?"none":"",margin:"0px 0 0 0"}},(null===he||void 0===he||null===(K=he.processModule)||void 0===K||null===(Q=K.steps)||void 0===Q?void 0:Q.length)>0&&ge.length>0&&!Be?a.createElement(cn,{isProcessorOnly:al,paymentID:sl,navigateTo:vn,selectedComponent:null!==Pe&&void 0!==Pe?Pe:{},setSelectedComponent:Ae,selectedProcess:he.processModule,onCancel:function(){dn(!1),Ye(!0),setTimeout((function(){return Ye(!1)}))}}):a.createElement(h.$j,{type:"BallTriangle",color:"black",height:40,width:"40px"}))),Ve&&a.createElement("div",{style:{width:"100%",padding:"0 40px"}},a.createElement(pn.default,null)),Qe&&a.createElement("div",{style:{width:"100%",padding:"0 10px"}},a.createElement(yl,null)),(void 0==(null===he||void 0===he||null===(X=he.processModule)||void 0===X?void 0:X.stepIndex)||(null===he||void 0===he||null===($=he.processModule)||void 0===$?void 0:$.stepIndex)<2)&&fe.length>0&&a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"0",width:"100%"}},a.createElement(ml,null)),Tn&&a.createElement(h.U7,{hasCloseIcon:!0,isOpen:Tn,onClose:function(){Dn(!1),Ln(-1)},backdropColor:!0,blured:!1,scrollable:!0,shadowedContainerStyle:{width:"100%"}},a.createElement("div",{className:gn.userPanelRows,style:{height:"auto",minHeight:"540px",marginTop:"20px",display:On>0?"none":""}},a.createElement(pn.LabeledContainer,{label:"Billing & Payments"}),a.createElement("div",{className:gn.wallet},a.createElement("div",{style:{color:"white",fontSize:"14px"}},"Reward Points:"),a.createElement("div",{style:{color:"white",fontSize:"20px",fontWeight:"bold",margin:"5px 0 20px"}},null!==(ee=null===re||void 0===re||null===(ne=re.options)||void 0===ne||null===(le=ne.points)||void 0===le?void 0:le.toFixed(2))&&void 0!==ee?ee:"0.00"," Pts"),a.createElement("div",{style:{color:"white",fontSize:"14px"}},"Payments Wallet:"),a.createElement("div",{style:{color:"white",fontSize:"20px",fontWeight:"bold",margin:"5px 0 80px"}},"Php ",null!==(oe=null===ue||void 0===ue||null===(ie=ue.wallet)||void 0===ie?void 0:ie.toFixed(2))&&void 0!==oe?oe:"0.00"),a.createElement("div",{className:gn.actionsContainer},a.createElement(r.Z,{clear:!0,title:"Top Up",clicked:function(){return Ln(0)},style:{backgroundColor:"var(--app-color-blue)",color:"white",width:"140px",display:On>-1?"none":""}})),a.createElement("div",{style:{width:"inherit",display:-1===On?"none":""}},a.createElement("div",{style:{color:"white"},onClick:function(){return Ln(-1)}},"Select your denomination:"),a.createElement(r.Z,{light:!0,title:"Php 500.00",clicked:function(){return Ln(500)},style:{width:"100%"}}),a.createElement(r.Z,{light:!0,title:"Php 1000.00",clicked:function(){return Ln(1e3)},style:{width:"100%"}}),a.createElement(r.Z,{light:!0,title:"Php 2000.00",clicked:function(){return Ln(2e3)},style:{width:"100%"}}),a.createElement(r.Z,{light:!0,title:"Php 3000.00",clicked:function(){return Ln(3e3)},style:{width:"100%"}}))),a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},a.createElement(r.Z,{loading:Ie,light:!0,titleStyle:{fontWeight:"normal"},title:Bn?"Hide":"Show Recent Payments",style:{marginRight:"40px"},clicked:function(){Bn?Yn(!1):(Ne(!0),(0,se.GP)().pipe((0,_.P)()).subscribe({next:function(e){Ne(!1),Yn(!0),Fn(e.data)},error:function(){}}))}})),a.createElement("div",{style:{display:Bn?"":"none",padding:"20px 0px",fontFamily:"var(--app-text-mobile-font)"}},a.createElement("p",{style:{fontFamily:"var(--app-text-mobile-font)",fontWeight:"bold"}},"Recent Payments:"),a.createElement("br",null),a.createElement("br",null),a.createElement(A.default,{title:"",card:!0,className:gn.listContainer,isReport:!1,"app-variant-is-mobile":"true",columns:["Date","ID","Source","Amount"],list:Un.map((function(e){var n,l;return{Date:"".concat(C()(e.starts_at).format("YY MMM DD h:mm a")),ID:"".concat(null===(n=e.stripe_id)||void 0===n?void 0:n.substring(0,15)),Source:"".concat(e.stripe_status),Amount:"".concat(null===(l=+e.stripe_price)||void 0===l?void 0:l.toFixed(2))}}))}))),On>0?a.createElement(ve.default,{label:" ",withBack:!1,paymentPath:"wallet",onClose:function(){return Dn(!1)},companyData:ye,subscriptionInfo:{user_id:ue.id,ref:ue.id,plan_price:On,currency:"PHP",description:"Credits",plan:"Wallet",total:On,billable_users:[re],duration:0,dlabel:"Flowhero",id:(0,p.mR)()},onError:function(){return Dn(!1)}}):a.createElement(a.Fragment,null,a.createElement("p",{style:{fontSize:"10px"}},""!==mn.lw?"Payments by":""),a.createElement("img",{src:"https://files.readme.io/7586db8-small-paymongo_api_white.png",style:{backgroundColor:"black",height:"30px",width:"140px"}}))),nn&&a.createElement(rn,{modalVisible:nn,heading:"Task for ".concat(null===he||void 0===he||null===(te=he.processModule)||void 0===te||null===(de=te.module)||void 0===de?void 0:de.name),task:!0===nn?{}:nn,isProcess:!0,blured:!0,shadowedContainerStyle:{width:"100%"},onClose:function(){return ln(!1)},isEdit:!0!==nn,labels:{valueL:"Value"}}),Re&&a.createElement(h.P9,{openModal:Re,setOpenModal:Fe,slug:null===ye||void 0===ye?void 0:ye.slug})))})),En=function(e,n,l,i,d,a,u,r,s,c,f,y,h){!function(){var b,x,E,C,w,Z,M,S,k,I,N,T,D,P,A,O,L,z,R,U,F,W,q,B,Y,H,j,V,G,J,K=e.find((function(e){return e.id===h.procedure.id}));n(d),l(!0),i.start=!0;var Q=[];(null===K||void 0===K||null===(b=K.steps)||void 0===b?void 0:b.length)>0&&(null===K||void 0===K||null===(x=K.steps)||void 0===x||x.filter((function(e){var n;return null===e||void 0===e||null===(n=e.component_blueprints)||void 0===n?void 0:n.filter((function(e){return e.selected_fields.filter((function(e){return e.value=void 0}))}))}))),bn.uniqWith(bn.eqProps("group"))(null===d||void 0===d?void 0:d.component_fields).map((function(e){Q=[].concat((0,o.Z)(Q),[{id:e.component_blueprint_id,temp_id:e.id,selected_fields:bn.filter(bn.propEq("group",e.group))(null===d||void 0===d?void 0:d.component_fields)}])})),K.steps.filter((function(e){e.component_blueprints.filter((function(e){e.selected_fields.filter((function(e){var n,l=null===d||void 0===d||null===(n=d.component_fields)||void 0===n?void 0:n.find((function(n){return n.field_name===e.field_name}));if(void 0!=l)e.value=l.value,e.group=l.group;else if("Record"===e.data_type_name){var o,i=null===d||void 0===d||null===(o=d.component_fields)||void 0===o?void 0:o.find((function(n){return n.field_name===e.options.name}));void 0!=i&&(e.value=i.value,e.group=i.group)}}))}))})),a({action:g._U.setComponents,value:Q}),a({action:g._U.setModuleItems,value:JSON.parse(JSON.stringify(d.component_items))});var X,$,ee,ne=K.steps.filter((function(e){var n,l,o,i,t,d;return void 0==(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.showStepAll)||1==(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.showStepAll)||0==(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.showStepAll)&&(null===e||void 0===e||null===(i=e.options)||void 0===i||null===(t=i.showOnly)||void 0===t?void 0:t.filter((function(e){return u.positions.map((function(e){return e.id})).indexOf(e)>-1})).length)>0||(null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.showStepAuthor)&&(null===u||void 0===u?void 0:u.id)===(null===K||void 0===K?void 0:K.user_id)})).map((function(e,n){return(0,t.Z)((0,t.Z)({},e),{},{rank:n+1})})),le=(null===r||void 0===r||null===(E=r.processModule)||void 0===E||null===(C=E.steps)||void 0===C?void 0:C.length)>0?null===r||void 0===r||null===(w=r.processModule)||void 0===w||null===(Z=w.steps)||void 0===Z||null===(M=Z.find((function(e){return(null===e||void 0===e?void 0:e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Status"===e.data_type_name})).length>0})).length)>0})))||void 0===M||null===(S=M.component_blueprints)||void 0===S||null===(k=S.find((function(e){return e.selected_fields.filter((function(e){return"Status"===e.data_type_name})).length>0})))||void 0===k||null===(I=k.options)||void 0===I?void 0:I.showOnly:[],oe=(null===r||void 0===r||null===(N=r.processModule)||void 0===N||null===(T=N.steps)||void 0===T?void 0:T.length)>0?null===r||void 0===r||null===(D=r.processModule)||void 0===D||null===(P=D.steps)||void 0===P||null===(A=P.find((function(e){return(null===e||void 0===e?void 0:e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Action Button"===e.data_type_name})).length>0})).length)>0})))||void 0===A||null===(O=A.component_blueprints.find((function(e){var n;return(null===(n=e.selected_fields.filter((function(e){return"Action Button"===e.data_type_name})))||void 0===n?void 0:n.length)>0})))||void 0===O||null===(L=O.options)||void 0===L?void 0:L.showOnly:[],ie=void 0===d.status&&((null===s||void 0===s?void 0:s.id)===(null===K||void 0===K?void 0:K.user_id)||(null===le||void 0===le?void 0:le.filter((function(e){var n;return(null===u||void 0===u||null===(n=u.positions)||void 0===n?void 0:n.map((function(e){return e.id})).indexOf(e))>-1})).length)>0)||(void 0===d.status||"New"===d.status||"None"===d.status)&&(null===d||void 0===d||null===(z=d.created_by)||void 0===z?void 0:z.id)===(null===u||void 0===u?void 0:u.id)||void 0!==d.status&&!("Closed"===d.status||d.status===(null!==(R=null===(U=r.processModule)||void 0===U||null===(F=U.module)||void 0===F||null===(W=F.options)||void 0===W?void 0:W.lock)&&void 0!==R?R:null===i||void 0===i||null===(q=i.misc_info)||void 0===q?void 0:q.lock))&&(null===le||void 0===le?void 0:le.filter((function(e){var n;return(null===u||void 0===u||null===(n=u.positions)||void 0===n?void 0:n.map((function(e){return e.id})).indexOf(e))>-1})).length)>0&&(1!=(null===c||void 0===c||null===(B=c.find((function(e){return e.id===d.module_id})))||void 0===B||null===(Y=B.options)||void 0===Y?void 0:Y.strict)||(null===d||void 0===d||null===(H=d.created_by)||void 0===H?void 0:H.id)!==(null===s||void 0===s?void 0:s.id))||!1===(null===d||void 0===d?void 0:d.is_complete)&&(null===d||void 0===d||null===(j=d.created_by)||void 0===j?void 0:j.id)===(null===s||void 0===s?void 0:s.id),te=(0,p.cQ)(d.status,oe,d,s,r,i),de=null!==(V=null===d||void 0===d||null===(G=d.component_fields.find((function(e){return"Action Button"===e.data_type_name})))||void 0===G?void 0:G.value)&&void 0!==V?V:"";(m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},K),{},{completeSteps:K.steps,steps:ne,stepIndex:1==ie&&d.created_by.id===u.id&&de||(!ie||d.created_by.id!==u.id&&K.user_id!==u.id)&&(!te||de!==u.id&&K.user_id!==u.id)?0:1,canEdit:!(1==ie&&d.created_by.id===u.id&&de||(!ie||d.created_by.id!==u.id&&K.user_id!==u.id)&&(!te||de!==u.id&&K.user_id!==u.id)),status:d.status,back_array:ne.length>0?[ne[0].id]:[],module_id:d.module_id,module:null===c||void 0===c?void 0:c.find((function(e){return e.id===d.module_id})),isUpdating:!0,selectedComponent:d,showDetail:!0}))),f(!0),null!==d&&void 0!==d&&null!==(J=d.assigned_to)&&void 0!==J&&J.id&&!y.find((function(e){var n;return e.id===(null===d||void 0===d||null===(n=d.assigned_to)||void 0===n?void 0:n.id)})))?(0,Ce.VG)(y.find((function(e){var n;return e.id===(null===(n=d.created_by)||void 0===n?void 0:n.id)}))?[null===d||void 0===d||null===(X=d.assigned_to)||void 0===X?void 0:X.id]:[null===d||void 0===d||null===($=d.assigned_to)||void 0===$?void 0:$.id,null===d||void 0===d||null===(ee=d.created_by)||void 0===ee?void 0:ee.id]).pipe((0,_.P)()).subscribe({next:function(e){m.h.dispatch((0,v.NY)(y.concat(e))),setTimeout((function(){f(!1)}))}}):setTimeout((function(){f(!1)}))}()}},51330:function(e,n,l){"use strict";var o=l(1413),i=l(93433),t=l(29439),d=l(67861),a=l(48963),u=l(47144),r=l.n(u),v=l(27436),s=l(14170),c=l(88550),p=l(71600),m=l(89293),f=l(12075),_=l(52902),y=l(73500),h=l(50981),g=l.n(h);n.Z=function(e){var n,l,u,h,b,x,E,C,w,Z,M,S,k,I,N,T,D,P,A,O,L,z,R,U,F,W,q,B,Y,H,j=e.component,V=e.blueprintIndex,G=e.nextButtonClicked,J=e.setIsMandatoryError,K=e.authenticatedUser,Q=e.begunModule,X=e.selectedComponent,$=e.editMode,ee=e.shouldDisplay,ne=void 0===ee?(!1===(null===j||void 0===j||null===(n=j.options)||void 0===n?void 0:n.useCustomTemplate)||void 0===(null===j||void 0===j||null===(l=j.options)||void 0===l?void 0:l.useCustomTemplate))&&(null!==j&&void 0!==j&&null!==(u=j.options)&&void 0!==u&&u.statusOnly?(null===j||void 0===j||null===(h=j.options)||void 0===h?void 0:h.statusOnly)===(null===X||void 0===X?void 0:X.status):void 0===(null===j||void 0===j||null===(b=j.options)||void 0===b?void 0:b.showOnly)||(!((null===j||void 0===j||null===(x=j.options)||void 0===x||null===(E=x.showOnly)||void 0===E?void 0:E.length)>0)||(null===j||void 0===j||null===(C=j.options)||void 0===C||null===(w=C.showOnly)||void 0===w?void 0:w.filter((function(e){var n;return(null===K||void 0===K||null===(n=K.positions)||void 0===n?void 0:n.filter((function(n){return n.id===e})).length)>0})).length)>0)):ee,le=e.isEnabled,oe=void 0===le?void 0===(null===X||void 0===X?void 0:X.id)||(!((null===X||void 0===X||null===(Z=X.created_by)||void 0===Z?void 0:Z.id)!==K.id||!(void 0===(null===j||void 0===j||null===(M=j.options)||void 0===M?void 0:M.showOnly)||null!==j&&void 0!==j&&null!==(S=j.options)&&void 0!==S&&S.showOnly&&(null===j||void 0===j||null===(k=j.options)||void 0===k||null===(I=k.showOnly)||void 0===I?void 0:I.filter((function(e){var n;return(null===K||void 0===K||null===(n=K.positions)||void 0===n?void 0:n.filter((function(n){return n.id===e})).length)>0})).length)>0&&null!==Q&&void 0!==Q&&null!==(N=Q.processModule)&&void 0!==N&&null!==(T=N.module)&&void 0!==T&&null!==(D=T.options)&&void 0!==D&&D.strict))||(void 0===(null===Q||void 0===Q||null===(P=Q.processModule)||void 0===P||null===(A=P.module)||void 0===A||null===(O=A.options)||void 0===O?void 0:O.strict)||0==(null===Q||void 0===Q||null===(L=Q.processModule)||void 0===L||null===(z=L.module)||void 0===z||null===(R=z.options)||void 0===R?void 0:R.strict)||void 0!==(null===j||void 0===j||null===(U=j.options)||void 0===U?void 0:U.showOnly)&&((null===j||void 0===j||null===(F=j.options)||void 0===F||null===(W=F.showOnly)||void 0===W?void 0:W.length)>0&&(null===j||void 0===j||null===(q=j.options)||void 0===q||null===(B=q.showOnly)||void 0===B?void 0:B.filter((function(e){var n;return(null===K||void 0===K||null===(n=K.positions)||void 0===n?void 0:n.filter((function(n){return n.id===e})).length)>0})).length)>0))):le,ie=e.hideTitle,te=void 0!==ie&&ie,de=(0,c.pQ)(),ae=(0,t.Z)(de,2),ue=ae[0],re=ae[1],ve=(0,d.useState)(a.Z.active),se=(0,t.Z)(ve,1)[0],ce=(0,d.useState)(!1),pe=(0,t.Z)(ce,2),me=pe[0],fe=pe[1],_e=(0,d.useState)(""),ye=(0,t.Z)(_e,1)[0],he=(0,d.useState)(g()()),ge=(0,t.Z)(he,2),be=ge[0],xe=ge[1],Ee=(0,d.useRef)(null),Ce=null===(Y=ue.currentStep)||void 0===Y?void 0:Y.component_blueprints.findIndex((function(e){return e.id===(null===j||void 0===j?void 0:j.id)}));(0,d.useEffect)((function(){we()}),[G]),(0,d.useEffect)((function(){var e;if(null!==j&&void 0!==j&&null!==(e=j.selected_fields)&&void 0!==e&&e.find((function(e){return"Clock"===e.data_type_name&&!0===e.visible}))){var n=setInterval((function(){xe(g()())}),1e3);return function(){window.clearInterval(n)}}}),[]);var we=function(){var e;null!==j&&void 0!==j&&null!==(e=j.selected_fields)&&void 0!==e&&e.some((function(e){var n;return!0===e.mandatory&&!0===e.visible&&"output"!==e.data_type&&(!e.value||(null===e||void 0===e||null===(n=e.value)||void 0===n?void 0:n.length)<1)}))?J(!0):J(!1)},Ze=function(e,n){var l,o,t,d=(0,i.Z)(null!==(l=null===(o=ue.currentStep)||void 0===o?void 0:o.component_blueprints)&&void 0!==l?l:[]),a=null===(t=d[Ce])||void 0===t?void 0:t.selected_fields[n];"Number"===(null===a||void 0===a?void 0:a.data_type_name)?Number(+e)?a.value=e:""===e&&(a.value=""):null!==a&&void 0!==a&&a.data_type_name&&(a.value=e),null!==a&&void 0!==a&&a.value&&a.mandatory&&(a.errors=""),we(),re({action:c._U.setComponentBlueprints,value:d}),re({action:c._U.setModuleNewStepComponents,value:d})},Me=(0,d.useCallback)((function(e,n,l){var o,t,d,a=(0,i.Z)(null!==(o=null===(t=ue.currentStep)||void 0===t?void 0:t.component_blueprints)&&void 0!==o?o:[]),u=null===(d=a[Ce])||void 0===d?void 0:d.selected_fields[n];u.options.country_code=null===e||void 0===e?void 0:e.countryCode,u.options.country_name=null===e||void 0===e?void 0:e.name,u.options.country_prefix="+".concat(null===e||void 0===e?void 0:e.dialCode),re({action:c._U.setComponentBlueprints,value:a}),re({action:c._U.setModuleNewStepComponents,value:a}),Ze(l,n)}),[ue]),Se=(0,d.useCallback)((function(e,n){var l,o,t,d=(0,i.Z)(null!==(l=null===(o=ue.currentStep)||void 0===o?void 0:o.component_blueprints)&&void 0!==l?l:[]),a=null===(t=d[Ce])||void 0===t?void 0:t.selected_fields[n];a.options.currency_type=null===e||void 0===e?void 0:e.label,a.options.currency_value=null===e||void 0===e?void 0:e.value,a.options.symbol=null===e||void 0===e?void 0:e.symbol,re({action:c._U.setComponentBlueprints,value:d}),re({action:c._U.setModuleNewStepComponents,value:d})}),[ue]);return d.createElement("div",{id:"accordion",className:a.Z.section,key:V,style:{display:ne?"":"none",pointerEvents:oe?"":"none"}},d.createElement("div",{className:r()(a.Z.accordionContainer,se),"app-variant-has-error":ye?"error":"",style:{border:y.tq?"0":"",padding:y.tq?"0":"",margin:y.tq?"0":""}},!te&&d.createElement("p",{className:y.tq?a.Z.titleII:a.Z.title},null===j||void 0===j?void 0:j.name),d.createElement("div",{ref:Ee,style:{maxHeight:se===a.Z.active?"":"0px",display:"flex"},className:a.Z.content},d.createElement(p.g,{component:j,selectedComponent:X,handleInputChange:Ze,handlePrefixChange:Me,handleCurrencyChange:Se,checkIfAreMandatoryErrored:we,handleCheckbox:function(e,n){var l,o,t,d=(0,i.Z)(null!==(l=null===(o=ue.currentStep)||void 0===o?void 0:o.component_blueprints)&&void 0!==l?l:[]),a=null===(t=d[Ce])||void 0===t?void 0:t.selected_fields[n];a&&(a.value=e,null!==a&&void 0!==a&&a.value&&a.mandatory&&(a.errors=""),re({action:c._U.setComponentBlueprints,value:d}),re({action:c._U.setModuleNewStepComponents,value:d}),we())},isInherited:!1,indexInContextArray:Ce,handleLocationChange:function(e,n){var l,o,t,d=(0,i.Z)(null!==(l=null===(o=ue.currentStep)||void 0===o?void 0:o.component_blueprints)&&void 0!==l?l:[]);(null===(t=d[Ce])||void 0===t?void 0:t.selected_fields[n]).value="".concat(e.lat,", ").concat(e.lng),re({action:c._U.setComponentBlueprints,value:d}),re({action:c._U.setModuleNewStepComponents,value:d})},processTaskContext:ue,setTaskProcessContext:re,editMode:$,setShowEdit:fe,showEdit:me,clock:be})),d.createElement("div",{style:{paddingLeft:"10px",display:"flex"}},me&&(null===me||void 0===me?void 0:me.item_code)&&d.createElement(s.zx,{light:!0,clicked:function(){var e,n={};j.selected_fields.map((function(e){var l,i,t;if("Formula"===e.data_type_name){var d,a,u,r,v=(0,m.LV)(e.options,j.selected_fields.filter((function(n){return e.options.list.includes(n.field_name)})),ue.components,null!==(d=ue.items)&&void 0!==d?d:[],null!==(a=null===ue||void 0===ue?void 0:ue.newStepComponents)&&void 0!==a?a:[]);if(null!==e&&void 0!==e&&null!==(u=e.options)&&void 0!==u&&u.mapToItem)n[null===e||void 0===e||null===(r=e.options)||void 0===r?void 0:r.mapToItem]="".concat(null!==v&&void 0!==v?v:"");return(0,o.Z)((0,o.Z)({},e),{},{value:"".concat(null!==v&&void 0!==v?v:"")})}null!==e&&void 0!==e&&null!==(l=e.options)&&void 0!==l&&l.mapToItem&&(n[null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.mapToItem]="".concat(null!==(t=null===e||void 0===e?void 0:e.value)&&void 0!==t?t:""));return e}));var l=null===(e=ue.items)||void 0===e?void 0:e.find((function(e){return e.id===(null===me||void 0===me?void 0:me.id)}));re(void 0===l?{action:c._U.addModuleItems,value:(0,o.Z)((0,o.Z)({},n),{},{id:(0,m.mR)()})}:{action:c._U.updateModuleItems,value:(0,o.Z)((0,o.Z)({},l),n)}),fe(!1),j.selected_fields.map((function(e,n){Ze("",n)}))}},d.createElement(f.G,{icon:_.r6l,style:{width:"20px",height:"20px"}})),me&&!(null!==me&&void 0!==me&&me.item_code)&&d.createElement(s.zx,{clicked:function(){re({action:c._U.removeModuleComponents,value:me.temp_id}),fe(!1)}},d.createElement(f.G,{icon:_.$aW,style:{width:"20px",height:"20px"}})),me&&(null===me||void 0===me?void 0:me.item_code)&&d.createElement(s.zx,{light:!0,clicked:function(){me.item_code&&(me.alt_value||me.quantity||me.total)?re({action:c._U.removeModuleItems,value:me}):re({action:c._U.removeModuleComponents,value:me.temp_id}),fe(!1),j.selected_fields.map((function(e,n){Ze("",n)}))}},d.createElement(f.G,{icon:_.$aW,style:{width:"20px",height:"20px"}})))),ye&&(null===ye||void 0===ye||null===(H=ye.errors)||void 0===H?void 0:H.title)&&d.createElement(v.Z,{message:ye.errors.title}),ye&&(null===ye||void 0===ye?void 0:ye.message)&&d.createElement(v.Z,{message:ye.message}))}},71600:function(e,n,l){"use strict";l.d(n,{g:function(){return Wn}});var o,i,t,d,a,u=l(87462),r=l(45987),v=l(1413),s=l(4942),c=l(93433),p=l(29439),m=l(67861),f=l(48963),_=l(85692),y=l(79633),h=l(6073),g=l(94667),b=l(63864),x=l(75105),E=l(11577),C=l(10103),w=l(14170),Z=l(66180),M=l.n(Z),S=l(89293),k=l(88550),I=l(29960),N=l(86025),T=l(39518),D=l(37390),P=["title","titleId"];function A(){return A=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},A.apply(this,arguments)}function O(e,n){if(null==e)return{};var l,o,i=function(e,n){if(null==e)return{};var l,o,i={},t=Object.keys(e);for(o=0;o<t.length;o++)l=t[o],n.indexOf(l)>=0||(i[l]=e[l]);return i}(e,n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(o=0;o<t.length;o++)l=t[o],n.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(i[l]=e[l])}return i}var L,z,R=function(e,n){var l=e.title,u=e.titleId,r=O(e,P);return m.createElement("svg",A({width:8,height:68,viewBox:"0 0 8 68",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":u},r),l?m.createElement("title",{id:u},l):null,o||(o=m.createElement("circle",{cx:4,cy:4,r:3.5,fill:"white",stroke:"#0094FF"})),i||(i=m.createElement("circle",{cx:4,cy:29,r:1,fill:"#0094FF"})),t||(t=m.createElement("circle",{cx:4,cy:34,r:1,fill:"#0094FF"})),d||(d=m.createElement("circle",{cx:4,cy:39,r:1,fill:"#0094FF"})),a||(a=m.createElement("circle",{cx:4,cy:64,r:4,fill:"#0094FF"})))},U=(0,m.forwardRef)(R),F=(l.p,["title","titleId"]);function W(){return W=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},W.apply(this,arguments)}function q(e,n){if(null==e)return{};var l,o,i=function(e,n){if(null==e)return{};var l,o,i={},t=Object.keys(e);for(o=0;o<t.length;o++)l=t[o],n.indexOf(l)>=0||(i[l]=e[l]);return i}(e,n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(o=0;o<t.length;o++)l=t[o],n.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(i[l]=e[l])}return i}var B,Y,H=function(e,n){var l=e.title,o=e.titleId,i=q(e,F);return m.createElement("svg",W({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":o},i),l?m.createElement("title",{id:o},l):null,L||(L=m.createElement("g",{clipPath:"url(#clip0_1648_5272)"},m.createElement("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5H6.5C5.84 5 5.29 5.42 5.08 6.01L3.11 11.68C3.04 11.89 3 12.11 3 12.34V19.5C3 20.33 3.67 21 4.5 21C5.33 21 6 20.33 6 19.5V19H18V19.5C18 20.32 18.67 21 19.5 21C20.32 21 21 20.33 21 19.5V12.34C21 12.12 20.96 11.89 20.89 11.68L18.92 6.01ZM6.5 16C5.67 16 5 15.33 5 14.5C5 13.67 5.67 13 6.5 13C7.33 13 8 13.67 8 14.5C8 15.33 7.33 16 6.5 16ZM17.5 16C16.67 16 16 15.33 16 14.5C16 13.67 16.67 13 17.5 13C18.33 13 19 13.67 19 14.5C19 15.33 18.33 16 17.5 16ZM5 11L6.27 7.18C6.41 6.78 6.79 6.5 7.22 6.5H16.78C17.21 6.5 17.59 6.78 17.73 7.18L19 11H5Z"}))),z||(z=m.createElement("defs",null,m.createElement("clipPath",{id:"clip0_1648_5272"},m.createElement("rect",{width:24,height:24,fill:"white"})))))},j=(0,m.forwardRef)(H),V=(l.p,["title","titleId"]);function G(){return G=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},G.apply(this,arguments)}function J(e,n){if(null==e)return{};var l,o,i=function(e,n){if(null==e)return{};var l,o,i={},t=Object.keys(e);for(o=0;o<t.length;o++)l=t[o],n.indexOf(l)>=0||(i[l]=e[l]);return i}(e,n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(o=0;o<t.length;o++)l=t[o],n.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(i[l]=e[l])}return i}var K,Q,X,$,ee=function(e,n){var l=e.title,o=e.titleId,i=J(e,V);return m.createElement("svg",G({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":o},i),l?m.createElement("title",{id:o},l):null,B||(B=m.createElement("g",{clipPath:"url(#clip0_1648_5275)"},m.createElement("path",{d:"M20 11C19.82 11 19.64 11.03 19.47 11.05L17.41 9H19C19.55 9 20 8.55 20 8V7.62C20 6.88 19.22 6.39 18.55 6.73L16.27 7.87L13.7 5.3C13.52 5.11 13.26 5 13 5H10C9.45 5 9 5.45 9 6C9 6.55 9.45 7 10 7H12.17C12.44 7 12.69 7.11 12.88 7.29L14.59 9H11.24C11.08 9 10.93 9.04 10.79 9.11L7.65 10.68C7.27 10.87 6.8 10.8 6.5 10.49L5.3 9.29C5.11 9.11 4.85 9 4.59 9H1C0.45 9 0 9.45 0 10C0 10.55 0.45 11 1 11H4C1.48 11 -0.49 13.32 0.11 15.94C0.44 17.39 1.61 18.56 3.06 18.89C5.68 19.49 8 17.52 8 15L9.41 16.41C9.79 16.79 10.3 17 10.83 17H11.84C12.56 17 13.22 16.62 13.58 15.99L16.49 10.9L17.5 11.91C16.37 12.82 15.74 14.32 16.12 15.96C16.46 17.4 17.63 18.57 19.07 18.9C21.68 19.49 24 17.51 24 15C24 12.79 22.21 11 20 11ZM4 17C2.9 17 2 16.1 2 15C2 13.9 2.9 13 4 13C5.1 13 6 13.9 6 15C6 16.1 5.1 17 4 17ZM20 17C18.9 17 18 16.1 18 15C18 13.9 18.9 13 20 13C21.1 13 22 13.9 22 15C22 16.1 21.1 17 20 17Z"}))),Y||(Y=m.createElement("defs",null,m.createElement("clipPath",{id:"clip0_1648_5275"},m.createElement("rect",{width:24,height:24,fill:"white"})))))},ne=(0,m.forwardRef)(ee),le=(l.p,["title","titleId"]);function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},oe.apply(this,arguments)}function ie(e,n){if(null==e)return{};var l,o,i=function(e,n){if(null==e)return{};var l,o,i={},t=Object.keys(e);for(o=0;o<t.length;o++)l=t[o],n.indexOf(l)>=0||(i[l]=e[l]);return i}(e,n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(o=0;o<t.length;o++)l=t[o],n.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(i[l]=e[l])}return i}var te,de,ae,ue=function(e,n){var l=e.title,o=e.titleId,i=ie(e,le);return m.createElement("svg",oe({width:54,height:54,viewBox:"0 0 54 54",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":o},i),l?m.createElement("title",{id:o},l):null,K||(K=m.createElement("circle",{opacity:.24,cx:27.3333,cy:27.3333,r:26.6667,fill:"#0094FF"})),Q||(Q=m.createElement("circle",{cx:27.3333,cy:27.3333,r:20,fill:"#0094FF",stroke:"white",strokeWidth:2.66667})),X||(X=m.createElement("g",{clipPath:"url(#clip0_1648_5266)"},m.createElement("path",{d:"M33.4845 22.0089C33.3067 21.4844 32.8089 21.1111 32.2222 21.1111H22.4445C21.8578 21.1111 21.3689 21.4844 21.1822 22.0089L19.4311 27.0489C19.3689 27.2356 19.3333 27.4311 19.3333 27.6356V34C19.3333 34.7378 19.9289 35.3333 20.6667 35.3333C21.4045 35.3333 22 34.7378 22 34V33.5556H32.6667V34C32.6667 34.7289 33.2622 35.3333 34 35.3333C34.7289 35.3333 35.3333 34.7378 35.3333 34V27.6356C35.3333 27.44 35.2978 27.2356 35.2356 27.0489L33.4845 22.0089ZM22.4445 30.8889C21.7067 30.8889 21.1111 30.2933 21.1111 29.5556C21.1111 28.8178 21.7067 28.2222 22.4445 28.2222C23.1822 28.2222 23.7778 28.8178 23.7778 29.5556C23.7778 30.2933 23.1822 30.8889 22.4445 30.8889ZM32.2222 30.8889C31.4845 30.8889 30.8889 30.2933 30.8889 29.5556C30.8889 28.8178 31.4845 28.2222 32.2222 28.2222C32.96 28.2222 33.5556 28.8178 33.5556 29.5556C33.5556 30.2933 32.96 30.8889 32.2222 30.8889ZM21.1111 26.4444L22.24 23.0489C22.3645 22.6933 22.7022 22.4444 23.0845 22.4444H31.5822C31.9645 22.4444 32.3022 22.6933 32.4267 23.0489L33.5556 26.4444H21.1111Z",fill:"white"}))),$||($=m.createElement("defs",null,m.createElement("clipPath",{id:"clip0_1648_5266"},m.createElement("rect",{width:21.3333,height:21.3333,fill:"white",transform:"translate(16.6667 16.6667)"})))))},re=(0,m.forwardRef)(ue),ve=(l.p,["title","titleId"]);function se(){return se=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},se.apply(this,arguments)}function ce(e,n){if(null==e)return{};var l,o,i=function(e,n){if(null==e)return{};var l,o,i={},t=Object.keys(e);for(o=0;o<t.length;o++)l=t[o],n.indexOf(l)>=0||(i[l]=e[l]);return i}(e,n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(o=0;o<t.length;o++)l=t[o],n.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(i[l]=e[l])}return i}var pe=function(e,n){var l=e.title,o=e.titleId,i=ce(e,ve);return m.createElement("svg",se({width:51,height:51,viewBox:"0 0 51 51",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":o},i),l?m.createElement("title",{id:o},l):null,te||(te=m.createElement("g",{filter:"url(#filter0_dd_1648_5267)"},m.createElement("circle",{cx:25.3333,cy:23.3333,r:21.3333,fill:"#0094FF"}),m.createElement("circle",{cx:25.3333,cy:23.3333,r:20,stroke:"white",strokeWidth:2.66667}))),de||(de=m.createElement("g",{clipPath:"url(#clip0_1648_5267)"},m.createElement("path",{d:"M27.1333 17.6667L26.92 16.6C26.84 16.1911 26.4755 15.8889 26.0489 15.8889H19.6667C19.1778 15.8889 18.7778 16.2889 18.7778 16.7778V30.1111C18.7778 30.6 19.1778 31 19.6667 31C20.1555 31 20.5555 30.6 20.5555 30.1111V24.7778H25.5333L25.7467 25.8445C25.8267 26.2622 26.1911 26.5556 26.6178 26.5556H31.2222C31.7111 26.5556 32.1111 26.1556 32.1111 25.6667V18.5556C32.1111 18.0667 31.7111 17.6667 31.2222 17.6667H27.1333Z",fill:"white"}))),ae||(ae=m.createElement("defs",null,m.createElement("filter",{id:"filter0_dd_1648_5267",x:0,y:0,width:50.6667,height:50.6667,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},m.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),m.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),m.createElement("feOffset",null),m.createElement("feGaussianBlur",{stdDeviation:.5}),m.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.24 0"}),m.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1648_5267"}),m.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),m.createElement("feOffset",{dy:2}),m.createElement("feGaussianBlur",{stdDeviation:2}),m.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"}),m.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow_1648_5267",result:"effect2_dropShadow_1648_5267"}),m.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_1648_5267",result:"shape"})),m.createElement("clipPath",{id:"clip0_1648_5267"},m.createElement("rect",{width:21.3333,height:21.3333,fill:"white",transform:"translate(14.3333 12.3333)"})))))},me=(0,m.forwardRef)(pe),fe=(l.p,{ThreeDot:U,DRIVE:j,TWO_WHEELER:ne,OriginMarker:re,DestinationMarker:me}),_e=function(e){var n=e.type,l=e.color,o=e.strokeColor,i=e.text,t=e.onClick,d=(0,m.useMemo)((function(){var e=fe[n];return e?m.createElement(e,{style:{fill:l||void 0,stroke:o||void 0}}):null}),[n,l]);return m.createElement("div",{className:"img-".concat(n),onClick:t},d,void 0!==i&&m.createElement("span",null,i))},ye=m.memo(_e),he=l(12075),ge=l(52902),be=function(e){var n=e.style,l=e.position,o=e.active,i=e.onToggle,t=e.type;return m.createElement(N._Q,{position:l,className:"marker ".concat(o?"active":""),zIndex:o?2:1,onClick:i},"Pin"===t?m.createElement(he.G,{icon:ge.opg,style:{color:"green",width:"30px",height:"30px"}}):"ThreeDot"===t||"DRIVE"===t||"TWO_WHEELER"===t||"OriginMarker"===t||"DestinationMarker"===t?m.createElement(ye,{type:t,style:n}):m.createElement("img",{alt:"lg",src:t,className:"customPin"}))},xe=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut","encodedPath"];var Ee=(0,m.forwardRef)((function(e,n){var l=function(e){var n,l=e.onClick,o=e.onDrag,i=e.onDragStart,t=e.onDragEnd,d=e.onMouseOver,a=e.onMouseOut,u=e.encodedPath,v=(0,r.Z)(e,xe),s=(0,m.useRef)({});Object.assign(s.current,{onClick:l,onDrag:o,onDragStart:i,onDragEnd:t,onMouseOver:d,onMouseOut:a});var c=(0,N.kY)("geometry"),f=(0,m.useRef)(new window.google.maps.Polyline).current;(0,m.useMemo)((function(){f.setOptions(v)}),[f,v]);var _=null===(n=(0,m.useContext)(N._Z))||void 0===n?void 0:n.map;return(0,m.useMemo)((function(){if(u&&c){var e=c.encoding.decodePath(u);f.setPath(e)}}),[f,u,c]),(0,m.useEffect)((function(){if(_)return f.setMap(_),function(){f.setMap(null)};void 0===_&&console.error("<Polyline> has to be inside a Map component.")}),[_,f]),(0,m.useEffect)((function(){if(f){var e=window.google.maps.event;return[["click","onClick"],["drag","onDrag"],["dragstart","onDragStart"],["dragend","onDragEnd"],["mouseover","onMouseOver"],["mouseout","onMouseOut"]].forEach((function(n){var l=(0,p.Z)(n,2),o=l[0],i=l[1];e.addListener(f,o,(function(e){var n=s.current[i];n&&n(e)}))})),function(){e.clearInstanceListeners(f)}}}),[f]),f}(e);return(0,m.useImperativeHandle)(n,(function(){return l}),[l]),null})),Ce=function(e){if(!e)return"";var n=parseInt(e,10);if("s"===e.slice(-1)){var l=Math.floor(n/3600),o=Math.floor(n%3600/60),i=n%60;return l>=1?"".concat(l.toFixed(0)," hr")+" "+"".concat(o," min"):o>=1?"".concat(o.toFixed(0)," min")+" "+"".concat(i," sec"):"".concat(i," secs")}throw new Error('Invalid time unit. Only seconds ("s") are supported.')},we=function(e){var n=e.route,l=e.activeRoute,o=e.routeIndex,i=e.onClick,t=(0,m.useState)([]),d=(0,p.Z)(t,2),a=d[0],r=d[1],v=(0,N.kY)("geometry");return(0,m.useEffect)((function(){var e;if(null!==n&&void 0!==n&&null!==(e=n.polyline)&&void 0!==e&&e.encodedPolyline&&v){var i,t=(i=n.polyline.encodedPolyline,v.encoding.decodePath(i).map((function(e){return{lat:e.lat(),lng:e.lng()}}))),d=n.travelAdvisory.speedReadingIntervals.length+2,a=n.travelAdvisory.speedReadingIntervals.map((function(e){var n=t.slice(e.startPolylinePointIndex,e.endPolylinePointIndex+1);return{path:v.encoding.encodePath(n),options:{zIndex:100-o+d--,strokeColor:D.Gd[e.speed]||D.Gd.NORMAL,strokeOpacity:o===l?1:.5,strokeWeight:6}}}));return r(a),function(){r([])}}}),[n,v,o,l]),m.createElement(m.Fragment,null,a.map((function(e,l){return m.createElement(Ee,(0,u.Z)({key:"p-".concat(l),onClick:function(e){return i(e,n,o)},encodedPath:e.path},e.options))})))},Ze=m.memo(we),Me=function(e){var n=e.route,l=e.travelMode;return m.createElement("div",{className:"polyline-info-window"},m.createElement("div",{className:"content"},m.createElement("div",{className:"title"},m.createElement(ye,{type:l,color:"#212121"}),m.createElement("b",null,Ce(n.duration))),m.createElement("div",{className:"distanceMeters"},m.createElement("p",null,(n.distanceMeters/1e3).toFixed(2)," km"))))},Se=function(e){var n=e.map,l=e.stops;return(0,m.useEffect)((function(){if(n){if(l.length>0){var e=new window.google.maps.LatLngBounds;l.forEach((function(n){e.extend(new window.google.maps.LatLng(n.position.lat,n.position.lng))})),n.fitBounds(e)}1===l.length&&n.setZoom(14)}}),[n,l]),null},ke=m.memo(Se),Ie=function(e){var n=e.origin,l=e.destination,o=e.travelMode,i=e.routes,t=e.currentLocation,d=e.pins,a=void 0===d?[]:d,u=(e.controls,e.zoom),r=(0,N.Sx)(),s=(0,m.useState)(null),c=(0,p.Z)(s,2),f=c[0],_=c[1],y=(0,m.useState)(0),h=(0,p.Z)(y,2),g=h[0],b=h[1],x=(0,m.useMemo)((function(){var e=[];return null!==n&&void 0!==n&&n.position&&e.push(n),a&&(null===a||void 0===a||a.map((function(n){return e.push(n)}))),null!==l&&void 0!==l&&l.position&&e.push(l),e}),[n,l,a]),E=function(e,n,l){var i={lat:e.latLng.lat(),lng:e.latLng.lng()};b(l),_({position:i,content:m.createElement(Me,{route:n,travelMode:o})})};return m.createElement(N.D5,{mapId:"FLOWHEROMAPS",defaultZoom:D.o0,defaultCenter:null!==t&&void 0!==t?t:D.k1,center:1===(null===a||void 0===a?void 0:a.length)?(0,v.Z)({},a[0].position):null,zoom:1===(null===a||void 0===a?void 0:a.length)?u:null,gestureHandling:"greedy",disableDefaultUI:!1},m.createElement(ke,{map:r,stops:x}),n&&m.createElement(be,{type:"OriginMarker",position:n.position}),l&&m.createElement(be,{type:"DestinationMarker",position:l.position}),(null===a||void 0===a?void 0:a.length)>0&&(null===a||void 0===a?void 0:a.map((function(e,n){return m.createElement(be,{key:n,type:null!==e&&void 0!==e&&e.type?null===e||void 0===e?void 0:e.type:"Pin",position:e.position})}))),(null===t||void 0===t?void 0:t.icon)&&m.createElement(be,{type:null===t||void 0===t?void 0:t.icon,position:t}),i.map((function(e,n){return m.createElement(Ze,{key:"polyline-".concat(n),route:e,activeRoute:g,routeIndex:n,onClick:E})})),f&&m.createElement(N.nx,{key:f.position.lat+","+f.position.lng,position:f.position,onCloseClick:function(){return _(null)}},f.content))},Ne=m.memo(Ie),Te=function(e){var n,l=e.controls,o=(e.zoom,(0,T.v9)((function(e){return e.flowReducer}))),i=o.map,t=o.currentLocation,d=(0,m.useState)(t),a=(0,p.Z)(d,2),u=a[0];a[1];return m.createElement(Ne,{origin:null===i||void 0===i?void 0:i.origin,destination:null===i||void 0===i?void 0:i.destination,travelMode:null===i||void 0===i?void 0:i.travelMode,routes:(null===i||void 0===i?void 0:i.routes[null===i||void 0===i?void 0:i.travelMode])||[],currentLocation:u,pins:null!==(n=null===i||void 0===i?void 0:i.pins)&&void 0!==n?n:[],controls:l,zoom:null===i||void 0===i?void 0:i.zoom})},De=l(74165),Pe=l(37762),Ae=l(15861),Oe=function(e){var n=e.onPlaceSelect,l=(0,m.useState)(null),o=(0,p.Z)(l,2),i=o[0],t=o[1],d=(0,m.useRef)(null),a=(0,N.kY)("places");return(0,m.useEffect)((function(){if(a&&d.current){t(new a.Autocomplete(d.current,{fields:["place_id","geometry","name","formatted_address"]}))}}),[a]),(0,m.useEffect)((function(){i&&i.addListener("place_changed",(function(){n(i.getPlace())}))}),[n,i]),m.createElement("div",{className:"autocomplete-container"},m.createElement("input",{ref:d}))},Le=function(e){var n=e.routes,l=e.travelMode,o=e.onTravelModeChange,i=e.onOriginAddressChange,t=e.onDestinationAddressChange;return m.createElement("div",{className:"search-box"},m.createElement("div",{className:"travel-mode-filter-btns"},D.jk.map((function(e){var i,t,d=Ce(null===(i=n[e])||void 0===i||null===(t=i[0])||void 0===t?void 0:t.duration);return m.createElement("button",{key:e,className:l===e?"active":"",onClick:function(){return o(e)}},m.createElement(ye,{type:e}),d&&m.createElement("span",null,d))}))),m.createElement("div",{className:"input-address-group"},m.createElement(ye,{type:"ThreeDot"}),m.createElement(Oe,{onPlaceSelect:i}),m.createElement(Oe,{onPlaceSelect:t})))},ze=l(11217),Re=l(88374),Ue=function(){var e=(0,T.v9)((function(e){return e.flowReducer})),n=e.map,l=e.companyData,o=(0,T.I0)();(0,m.useEffect)((function(){var e=function(){var e=(0,Ae.Z)((0,De.Z)().mark((function e(){var i,t,d,a,u,r,v,s;return(0,De.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!==n&&void 0!==n&&n.origin&&null!==n&&void 0!==n&&n.destination&&null!==(i=Object.keys(null===n||void 0===n?void 0:n.origin))&&void 0!==i&&i.length&&null!==(t=Object.keys(null===n||void 0===n?void 0:n.destination))&&void 0!==t&&t.length)){e.next=28;break}e.prev=1,d={},a=(0,Pe.Z)(D.jk),e.prev=4,a.s();case 6:if((u=a.n()).done){e.next=14;break}return v=u.value,e.next=10,(0,ze.s)({origin:{address:null===n||void 0===n?void 0:n.origin.formattedAddress},destination:{address:null===n||void 0===n?void 0:n.destination.formattedAddress},travelMode:v,routingPreference:"traffic_aware",extraComputations:["TRAFFIC_ON_POLYLINE"]},null===l||void 0===l||null===(r=l.misc_info)||void 0===r?void 0:r.map);case 10:s=e.sent,d[v]=(null===s||void 0===s?void 0:s.routes)||[];case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),a.e(e.t0);case 19:return e.prev=19,a.f(),e.finish(19);case 22:o((0,Re.wM)({routes:d})),e.next=28;break;case 25:e.prev=25,e.t1=e.catch(1),o((0,Re.wM)({routes:[],error:"Failed to fetch directions"}));case 28:case"end":return e.stop()}}),e,null,[[1,25],[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}();e()}),[null===n||void 0===n?void 0:n.origin,null===n||void 0===n?void 0:n.destination,o]);var i=function(e,n){o((0,Re.wM)((0,s.Z)({},e,{name:n.name,formattedAddress:n.formatted_address,position:{lat:n.geometry.location.lat(),lng:n.geometry.location.lng()},place_id:n.place_id})))};return m.createElement(Le,{travelMode:null===n||void 0===n?void 0:n.travelMode,routes:null===n||void 0===n?void 0:n.routes,onTravelModeChange:function(e){return o((0,Re.wM)({travelMode:e}))},onOriginAddressChange:function(e){return i("origin",e)},onDestinationAddressChange:function(e){return i("destination",e)}})},Fe=function(e){var n=e.search,l=void 0===n||n,o=e.apikey,i=void 0===o?"":o,t=e.controls,d=void 0===t||t;return m.createElement("div",{className:"GoogleMaps"},m.createElement(N.un,{apiKey:i},l&&m.createElement("div",{className:"control-pannel"},m.createElement(Ue,null)),m.createElement(Te,{controls:d})))},We=l(12308),qe=l(9825),Be=l.n(qe),Ye=l(4358),He=l(49523),je=l(25403),Ve=l(4292),Ge=l(32086),Je=l(68218),Ke=l(84634),Qe=l(97606),Xe=l(8284),$e=l(35606),en=l(79544),nn=l(98032),ln=l(13397),on=l(3616),tn=l(90421),dn=l(7538),an=l(77802),un=l(50981),rn=l.n(un),vn=l(91426),sn=l(60534),cn=l(48630),pn=l(32588),mn=l(27426),fn=l(27658),_n=l(34710),yn=l(44408),hn=l(23910),gn=(l(56120),l(37704),l(72666),l(68623),l(3863),l(95361),l(52950)),bn=l(51481),xn=l(68635),En=l.n(xn),Cn=l(1542),wn=(l(31266),l(84952),l(30519)),Zn=l(20089),Mn=l(73500),Sn=(l(68140),l(20777)),kn=l(58535),In=l(32562),Nn=l(88827),Tn=l(93389),Dn=l(95007),Pn=l(41131),An=l(41756),On=l.n(An),Ln=(l(16207),l(23280));e=l.hmd(e);var zn=["height","start","onClick"],Rn=["height","start","onClick"],Un=["height","start","onClick"],Fn="50",Wn=(0,m.memo)((function(n){var l,o,i,t,d,a,Z,N,D,P=n.component,A=n.selectedComponent,O=n.handleInputChange,L=void 0===O?function(){}:O,z=n.indexInContextArray,R=void 0===z?0:z,U=n.handleCheckbox,F=void 0===U?function(){}:U,W=n.processTaskContext,q=n.setTaskProcessContext,B=n.isInherited,Y=void 0!==B&&B,H=n.checkIfAreMandatoryErrored,j=void 0===H?function(){}:H,V=n.handlePrefixChange,G=void 0===V?function(){}:V,J=n.handleCurrencyChange,K=void 0===J?function(){}:J,Q=n.handleLocationChange,X=void 0===Q?function(){}:Q,$=n.editMode,ee=void 0!==$&&$,ne=n.setShowEdit,le=void 0===ne?function(){}:ne,oe=n.isDraft,ie=void 0!==oe&&oe,te=n.clock,de=(0,T.v9)((function(e){return e.authReducer})),ae=de.authenticatedUser,ue=(0,T.v9)((function(e){return e.flowReducer})),re=ue.currentLocation,ve=ue.allTasks,se=ue.allModules,ce=ue.blueprints,pe=ue.begunModule,me=ue.components,fe=ue.companyData,_e=ue.companyUsersArray,ye=ue.companyPositionsArray,be=ue.lastUpdates,xe=ue.companyProcesses,Ee=(0,m.useState)(!1),Ce=(0,p.Z)(Ee,2),we=Ce[0],Ze=Ce[1],Me=(0,m.useState)(new Date),Se=(0,p.Z)(Me,2),ke=Se[0],Ie=Se[1],Ne=(0,m.useState)([new Date,new Date(rn()().add(7,"days"))]),Te=(0,p.Z)(Ne,2),De=Te[0],Pe=Te[1],Ae=(0,p.Z)(De,2),Oe=Ae[0],Le=Ae[1],ze=(0,m.useState)(""),Ue=(0,p.Z)(ze,2),qe=Ue[0],xn=Ue[1],Sn=(0,m.useState)([{label:"",value:""}]),An=(0,p.Z)(Sn,2),Wn=An[0],Hn=An[1],jn=(0,m.useState)(!0),Vn=(0,p.Z)(jn,2),Gn=Vn[0],Jn=Vn[1],Kn=(0,m.useState)(!0),Qn=(0,p.Z)(Kn,2),Xn=Qn[0],$n=Qn[1],el=(0,m.useState)({source:!1,destination:!1}),nl=(0,p.Z)(el,2),ll=nl[0],ol=nl[1],il=(0,m.useState)("50px"),tl=(0,p.Z)(il,2),dl=tl[0],al=tl[1],ul=(0,m.useState)(Array(12).fill("")),rl=(0,p.Z)(ul,2),vl=rl[0],sl=rl[1],cl=(0,m.useState)({candidates:[]}),pl=(0,p.Z)(cl,2),ml=pl[0],fl=pl[1],_l=(0,m.useState)(!1),yl=(0,p.Z)(_l,2),hl=yl[0],gl=yl[1],bl=(0,m.useState)({}),xl=(0,p.Z)(bl,2),El=xl[0],Cl=xl[1],wl=(0,m.useState)("day"),Zl=(0,p.Z)(wl,2),Ml=Zl[0],Sl=Zl[1],kl=(0,m.useState)(),Il=(0,p.Z)(kl,2),Nl=Il[0],Tl=Il[1],Dl=(0,Ln.s0)(),Pl=(0,m.useRef)(),Al=(0,m.useState)(_e.map((function(e){return{label:e.first_name+" "+e.last_name,value:e.id,user:e}}))),Ol=(0,p.Z)(Al,2),Ll=Ol[0],zl=Ol[1],Rl=function(e,n){Pe(e),L(e,n)},Ul=function(e,n){Ie(e),L(e,n)},Fl=(0,m.useCallback)((function(e){void 0!==e&&(0==Ll.length?Ze(!0):Ze(!1),(0,x.n0)(e).pipe((0,E.P)()).subscribe({next:function(e){zl(e),Ze(!1)}}))}),[]),Wl=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(n[0]),o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null===(e=pe.processModule.module)||void 0===e?void 0:e.name;return m.createElement(w.zx,{light:!0,clicked:function(){var e,i,t,d=null===pe||void 0===pe||null===(e=pe.processModule)||void 0===e||null===(i=e.steps)||void 0===i?void 0:i.find((function(e){return e.component_blueprints.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.allowMultipleInputs)&&(null===(l=e.selected_fields)||void 0===l?void 0:l.find((function(e){return"Transaction List"===e.data_type_name})))})).length>0})),a=null===d||void 0===d||null===(t=d.component_blueprints)||void 0===t?void 0:t.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){return"Transaction List"===e.data_type_name&&!0===e.visible})).length)>0}));if(a){var u,r,v,p,m=null===pe||void 0===pe||null===(u=pe.processModule)||void 0===u||null===(r=u.steps)||void 0===r||null===(v=r.find((function(e){return e.component_blueprints.filter((function(e){var n;return null===(n=e.selected_fields)||void 0===n?void 0:n.find((function(e){return"Template"===e.data_type_name}))})).length>0})))||void 0===v||null===(p=v.component_blueprints)||void 0===p?void 0:p.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){return"Template"===e.data_type_name&&!0===e.visible})).length)>0}));(0,Pn._G)(A,a,m,l,n,pe,o)}else{var f,_=l,y=Dn.utils.book_new(),h=Dn.utils.json_to_sheet([]);Dn.utils.sheet_add_json(h,n.map((function(e){return Object.assign.apply(Object,[{}].concat((0,c.Z)(_.map((function(n){return(0,s.Z)({},n,e[n])})))))})),{origin:"A2",skipHeader:!0}),Dn.utils.book_append_sheet(y,h,"".concat(null===(f=pe.processModule.module)||void 0===f?void 0:f.name)),(0,Dn.writeFile)(y,"".concat(o).concat((0,un.now)(),".xlsx"))}},icon:m.createElement("img",{src:_.so})})},ql=(0,m.useCallback)((function(e){var n;if(0!=(null===e||void 0===e||null===(n=e.analyze)||void 0===n?void 0:n.length)&&void 0!=(null===e||void 0===e?void 0:e.analyze)){var l={role:"user",parts:[{text:e.analyze}]};1==(null===e||void 0===e?void 0:e.current)?l.parts=[].concat((0,c.Z)(l.parts),[{text:JSON.stringify({table:"Transaction",data:(0,v.Z)((0,v.Z)((0,v.Z)({},W.components.map((function(e){var n={};return e.selected_fields.filter((function(e){return n=(0,v.Z)((0,v.Z)({},n),{},(0,s.Z)({},e.field_name,e.value))})),n}))),W.newStepComponents.map((function(e){var n={};return e.selected_fields.filter((function(e){return n=(0,v.Z)((0,v.Z)({},n),{},(0,s.Z)({},e.field_name,e.value))})),n}))),{},{items:W.items.map((function(e){return{item:e.item_code,quantity:+e.quantity,value:e.value}}))})})}]):(void 0!==e.module_id&&(l.parts=[].concat((0,c.Z)(l.parts),[{text:JSON.stringify({table:se.find((function(n){return n.id===e.module_id})).name,data:me.filter((function(n){return n.module_id===e.module_id})).map((function(e){var n={};return e.component_fields.filter((function(e){return n=(0,v.Z)((0,v.Z)({},n),{},(0,s.Z)({},e.field_name,e.value))})),(0,v.Z)((0,v.Z)({},n),{},{created_date:e.created_date,created_by:e.created_by.id,items:null===e||void 0===e?void 0:e.component_items.map((function(e){return{item:e.item_code,quantity:+e.quantity,value:e.value}}))})}))})}])),void 0!==e.module2_id&&(l.parts=[].concat((0,c.Z)(l.parts),[{text:JSON.stringify({table:se.find((function(n){return n.id===e.module2_id})).name,data:me.filter((function(n){return n.module_id===e.module2_id})).map((function(e){var n={};return e.component_fields.filter((function(e){return n=(0,v.Z)((0,v.Z)({},n),{},(0,s.Z)({},e.field_name,e.value))})),(0,v.Z)((0,v.Z)({},n),{},{created_date:e.created_date,created_by:e.created_by.id,items:null===e||void 0===e?void 0:e.component_items.map((function(e){return{item:e.item_code,quantity:+e.quantity,value:e.value}}))})}))})}])),void 0!==e.module3_id&&(l.parts=[].concat((0,c.Z)(l.parts),[{text:JSON.stringify({table:se.find((function(n){return n.id===e.module3_id})).name,data:me.filter((function(n){return n.module_id===e.module3_id})).map((function(e){var n={};return e.component_fields.filter((function(e){return n=(0,v.Z)((0,v.Z)({},n),{},(0,s.Z)({},e.field_name,e.value))})),(0,v.Z)((0,v.Z)({},n),{},{created_date:e.created_date,created_by:e.created_by.id,items:null===e||void 0===e?void 0:e.component_items.map((function(e){return{item:e.item_code,quantity:+e.quantity,value:e.value}}))})}))})}]))),fl({candidates:[]}),Ze(!0),(0,g.hd)(JSON.stringify(l)).pipe((0,E.P)()).subscribe({next:function(e){Ze(!1),fl(e)},error:function(e){fl({candidates:[{content:{parts:[{text:JSON.stringify(e)}]}}]}),Ze(!1)}})}else fl({candidates:[{content:{parts:[{text:"Enter a question that I could answer"}]}}]})}),[]),Bl=function(e){var n=e.field_name;return P.selected_fields.findIndex((function(e){return e.field_name===n}))},Yl=function(e){var n=P.selected_fields.filter((function(e){return"Info"===e.data_type_name})),l=me.find((function(n){return n.id===e}));n.map((function(n){var o;null===n||void 0===n||null===(o=n.options)||void 0===o||o.list.map((function(o){var i,t,d=null===(i=l.component_fields)||void 0===i?void 0:i.find((function(e){return e.field_name===o})),a=Bl({field_name:o});-1!=a&&(null===(t=l.component_fields)||void 0===t?void 0:t.length)>0&&(P.selected_fields[a].value=d?d.value:"",n.value=e)}))})),P.selected_fields.filter((function(e){return"Global"===e.data_type_name&&1==e.visible})).map((function(e){var n,o,i=null===(n=l.component_fields)||void 0===n?void 0:n.find((function(n){return n.field_name===e.field_name})),t=Bl({field_name:e.field_name});-1!=t&&(null===(o=l.component_fields)||void 0===o?void 0:o.length)>0&&i&&(P.selected_fields[t].value=null===i||void 0===i?void 0:i.value)}))},Hl=function(e){var n,l;if(W){var o,i,t,d,a,u,r,v=null===(n=pe.processModule.module)||void 0===n||null===(l=n.options)||void 0===l?void 0:l.global;if(!v)v=null===W||void 0===W||null===(o=W.components.concat(null===W||void 0===W?void 0:W.newStepComponents).find((function(n){return n.selected_fields.filter((function(n){var l,o;return"Global"===n.data_type_name&&1==n.visible&&n.field_name===(null===(l=P.selected_fields.find((function(n){return n.data_type_name===e&&1==n.visible})))||void 0===l||null===(o=l.options)||void 0===o?void 0:o.global)})).length>0})))||void 0===o||null===(i=o.selected_fields.find((function(e){return"Global"===e.data_type_name})))||void 0===i?void 0:i.value;if(!v)v=null===(t=He.Z(je.Z("component_blueprints"),Ve.Z)(null!==(u=null===pe||void 0===pe||null===(r=pe.processModule)||void 0===r?void 0:r.completeSteps)&&void 0!==u?u:[]).find((function(n){return n.selected_fields.filter((function(n){var l,o;return n.field_name===(null===(l=P.selected_fields.find((function(n){return n.data_type_name===e&&1==n.visible})))||void 0===l||null===(o=l.options)||void 0===o?void 0:o.global)&&"Value"===n.data_type_name})).length>0})))||void 0===t||null===(d=t.selected_fields.find((function(e){return"Value"===e.data_type_name})))||void 0===d||null===(a=d.options)||void 0===a?void 0:a.value;return v?me.filter((function(n){return n.component_fields.filter((function(n){var l,o;return n.value===v&&n.field_name===(null===(l=P.selected_fields.find((function(n){return n.data_type_name===e})))||void 0===l||null===(o=l.options)||void 0===o?void 0:o.global)})).length>0})):me}},jl=function(){var n,l,o;null===(n=pe.processModule.module)||void 0===n||null===(l=n.options)||void 0===l||null===(o=l.supporting)||void 0===o||o.filter((function(n,l){var o,i,t;Ze(!0),(0,Cn.vC)({id:n,name:null!==(o="".concat(null===se||void 0===se||null===(i=se.find((function(e){return e.id===n})))||void 0===i?void 0:i.name).concat(l))&&void 0!==o?o:"".concat(null===(t=e)||void 0===t?void 0:t.name).concat(l)},S.Qc,S.R6,1).pipe((0,C.q)(1)).subscribe({next:function(e){Ze(!1)}})}))},Vl=function(e){var n,l,o,i,t,d,a,u,r,v,p,_,y,h,g,x,E,C,Z,M,k,I,N,T,D,A,O,z,U,q,B,H,V,G,J,K,Q,X,$,ee,ne,le,oe,te,de,ae,ue,re,ve,se,ce,pe,_e,ye,be,xe,Ee,Ce,Ze,Me,Se=e.field,Ie=(e.enabled,e.index),Ne=e.isItem,Te=void 0!==Ne&&Ne,De=e.handleItem,Pe=(e.withLabel,e.edit),Ae=void 0===Pe||Pe,ze=e.item;if("Dropdown"===(null===Se||void 0===Se?void 0:Se.data_type_name)&&(null===Se||void 0===Se||null===(n=Se.options)||void 0===n||null===(l=n.list)||void 0===l?void 0:l.length)>0)return Ae?m.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-light)"}},m.createElement(b.Z,{key:Ie,visible:Se.visible,mandatory:Se.mandatory,items:null===Se||void 0===Se||null===(T=Se.options)||void 0===T?void 0:T.list.map((function(e){return{label:e,value:e}})),className:f.Z.dropdownClassContainer,error:Se.errors,onChange:function(e){Te?De(e,Ie):F(e,Ie)},selectionType:null===Se||void 0===Se||null===(D=Se.options)||void 0===D?void 0:D.type,fieldIcon:Se.icon,backgroundColor:null!==Se&&void 0!==Se&&null!==(A=Se.options)&&void 0!==A&&A.valueC&&null!==Se&&void 0!==Se&&Se.value?null===Se||void 0===Se||null===(O=Se.options)||void 0===O?void 0:O.valueC:"",value:void 0===Se.value||null===Se.value?"":Se.value})):m.createElement("div",null,null===Se||void 0===Se?void 0:Se.value);if("Radio"===(null===Se||void 0===Se?void 0:Se.data_type_name)&&(null===Se||void 0===Se||null===(o=Se.options)||void 0===o||null===(i=o.list)||void 0===i?void 0:i.length)>0)return m.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-light)",padding:"20px",fontSize:"16px"}},null===Se||void 0===Se||null===(z=Se.options)||void 0===z?void 0:z.list.map((function(e){return m.createElement(m.Fragment,null,m.createElement("input",{style:{margin:"0 10px"},type:"radio",id:e,name:Se.field_name,value:e,checked:(null===Se||void 0===Se?void 0:Se.value)===e,onChange:function(e){var n,l;Te?De(null===(n=e.target)||void 0===n?void 0:n.value,Ie):F(null===(l=e.target)||void 0===l?void 0:l.value,Ie)}}),m.createElement("label",{for:e},e))})));if("Checkbox"===(null===Se||void 0===Se?void 0:Se.data_type_name))return Ae?m.createElement("input",{type:"checkbox",defaultChecked:null!==(U=Se.value)&&void 0!==U&&U,onChange:function(e){Te?De(e.target.checked,Ie):F(e.target.checked,Ie)}}):m.createElement("input",{type:"checkbox",checked:null!==(q=Se.value)&&void 0!==q&&q,readOnly:!0});if("Formula"===(null===Se||void 0===Se?void 0:Se.data_type_name)&&(null===Se||void 0===Se||null===(t=Se.options)||void 0===t||null===(d=t.operator)||void 0===d?void 0:d.length)>0&&!1===ie){var Re,Ue,Fe,We,qe,Ye=W.newStepComponents.filter((function(e){return null===e.options||(void 0===e.allowMultipleInputs||!1===e.options.allowMultipleInputs)})),He=(0,S.LV)(null===Se||void 0===Se?void 0:Se.options,P.selected_fields.filter((function(e){return Se.options.list.includes(e.field_name)&&!e.options.mapToItem})),[].concat((0,c.Z)(W.components.filter((function(e){return Ye.every((function(n){return n.id!==e.id}))}))),(0,c.Z)(Ge.Z((function(e){return e.selected_fields.filter((function(e){return""===(null===e||void 0===e?void 0:e.value)})).length>0}),Ye))),null!==(Re=null===W||void 0===W?void 0:W.items)&&void 0!==Re?Re:[],null!==(Ue=null===W||void 0===W?void 0:W.newStepComponents)&&void 0!==Ue?Ue:[]);return void 0!==He&&(Se.value=He),"bar"===(null===Se||void 0===Se||null===(Fe=Se.options)||void 0===Fe?void 0:Fe.display)?m.createElement("div",{style:{margin:"20px",display:"flex",height:"30px",width:"100%"}},m.createElement("label",{className:f.Z.fieldTypeInput,style:{width:"20%"}},null===Se||void 0===Se?void 0:Se.field_name),m.createElement("div",{style:{height:"20px",width:"80%",backgroundColor:null===Se||void 0===Se||null===(We=Se.options)||void 0===We?void 0:We.maxC,display:"flex",flexDirection:"column"}},m.createElement("input",{value:He||0,className:f.Z.fieldTypeInput,name:Se.field_name,disabled:!0,style:{color:"transparent",height:"20px",width:"".concat(+He/+Se.options.max*100,"%"),backgroundColor:null===Se||void 0===Se||null===(qe=Se.options)||void 0===qe?void 0:qe.barC}}))):He||""}if("Item Formula"===(null===Se||void 0===Se?void 0:Se.data_type_name)&&(null===Se||void 0===Se||null===(a=Se.options)||void 0===a||null===(u=a.operator)||void 0===u?void 0:u.length)>0&&!1===ie){var je,Ve,Je,Ke=(0,S.LV)(null===Se||void 0===Se?void 0:Se.options,P.selected_fields.filter((function(e){return Se.options.list.includes(e.field_name)&&e.options.mapToItem})),[],[],ze,!0);return"bar"===(null===Se||void 0===Se||null===(je=Se.options)||void 0===je?void 0:je.display)?m.createElement("div",{style:{margin:"20px",display:"flex",height:"30px",width:"100%"}},m.createElement("label",{className:f.Z.fieldTypeInput,style:{width:"20%"}},null===Se||void 0===Se?void 0:Se.field_name),m.createElement("div",{style:{height:"20px",width:"100%",backgroundColor:null===Se||void 0===Se||null===(Ve=Se.options)||void 0===Ve?void 0:Ve.maxC,display:"flex",flexDirection:"column"}},m.createElement("input",{value:Ke||0,className:f.Z.fieldTypeInput,name:Se.field_name,disabled:!0,style:{color:"transparent",height:"20px",width:"".concat(+Ke/+Se.options.max*100,"%"),backgroundColor:null===Se||void 0===Se||null===(Je=Se.options)||void 0===Je?void 0:Je.barC}}))):Ke||""}if("Record"===(null===Se||void 0===Se?void 0:Se.data_type_name)&&(null===Se||void 0===Se||null===(r=Se.options)||void 0===r||null===(v=r.component_id)||void 0===v?void 0:v.length)>0){var Qe,Xe,$e,en,nn,ln,on,tn,dn,an,un,vn,sn=(null!==Se&&void 0!==Se&&null!==(Qe=Se.options)&&void 0!==Qe&&Qe.global?Hl(null===Se||void 0===Se?void 0:Se.data_type_name):me).filter((function(e){var n;return e.component_fields.filter((function(e){var n;return e.component_blueprint_id===(null===Se||void 0===Se||null===(n=Se.options)||void 0===n?void 0:n.component_id)})).length>0||e.module_id===(null===Se||void 0===Se||null===(n=Se.options)||void 0===n?void 0:n.module_id)})).map((function(e){var n,l,o,i,t="";return null===Se||void 0===Se||null===(n=Se.options)||void 0===n||null===(l=n.names)||void 0===l||l.map((function(n){var l,o;return t=""===t?null===(l=e.component_fields.find((function(e){return e.field_name===n})))||void 0===l?void 0:l.value:"".concat(t," ").concat(null===(o=e.component_fields.find((function(e){return e.field_name===n})))||void 0===o?void 0:o.value)})),(0,s.Z)({label:""===t?e.title:t,value:e.id,component:e},null===Se||void 0===Se||null===(o=Se.options)||void 0===o?void 0:o.output,null===(i=e.component_fields.find((function(e){var n;return e.field_name===(null===Se||void 0===Se||null===(n=Se.options)||void 0===n?void 0:n.output)})))||void 0===i?void 0:i.value)}));if(sn.length>0)if(Se.value){if(vn=null===sn||void 0===sn?void 0:sn.find((function(e){var n;return e[null===Se||void 0===Se||null===(n=Se.options)||void 0===n?void 0:n.output]===Se.value}))){var cn,pn;Yl(vn.value);var mn=(0,c.Z)(null!==(cn=null===(pn=W.currentStep)||void 0===pn?void 0:pn.component_blueprints)&&void 0!==cn?cn:[]);mn&&(W.newStepComponents=mn)}}else if(1==sn.length&&1==(null===Se||void 0===Se?void 0:Se.mandatory)&&(vn=sn[0])){var fn,_n;Yl(vn.value);var yn=(0,c.Z)(null!==(fn=null===(_n=W.currentStep)||void 0===_n?void 0:_n.component_blueprints)&&void 0!==fn?fn:[]);yn&&(W.newStepComponents=yn)}return Ae?m.createElement("div",{style:{width:"inherit",border:"1px solid gray",minWidth:"300px"}},m.createElement(b.Z,{key:Ie,visible:null===Se||void 0===Se?void 0:Se.visible,mandatory:null===Se||void 0===Se?void 0:Se.mandatory,items:sn,loading:we,error:"",className:f.Z.dropdownClassContainer,onChange:function(e){var n,l,o,i,t,d;e&&(null===Se||void 0===Se||null===(t=Se.options)||void 0===t||null===(d=t.list)||void 0===d||d.map((function(n){var l,o,i=Bl({field_name:n});-1!=i&&(P.selected_fields[i].value=null!==(l=null===(o=sn.find((function(n){return n.value===e})).component.component_fields.find((function(e){return e.field_name===n})))||void 0===o?void 0:o.value)&&void 0!==l?l:"",P.selected_fields[i].disabled=!0)})));fe.start=!0,Yl(e),Te?De(null!==(n=null===sn||void 0===sn?void 0:sn.find((function(n){return n.value===e}))[null===Se||void 0===Se||null===(l=Se.options)||void 0===l?void 0:l.output])&&void 0!==n?n:null,Ie):F(null!==(o=null===sn||void 0===sn?void 0:sn.find((function(n){return n.value===e}))[null===Se||void 0===Se||null===(i=Se.options)||void 0===i?void 0:i.output])&&void 0!==o?o:null,Ie)},selectionType:(null===Se||void 0===Se||null===(Xe=Se.options)||void 0===Xe?void 0:Xe.selection.length)>0?null===Se||void 0===Se||null===($e=Se.options)||void 0===$e?void 0:$e.selection:null===Se||void 0===Se||null===(en=Se.options)||void 0===en?void 0:en.type,backgroundColor:null!==Se&&void 0!==Se&&null!==(nn=Se.options)&&void 0!==nn&&nn.valueC&&null!==Se&&void 0!==Se&&Se.value?null===Se||void 0===Se||null===(ln=Se.options)||void 0===ln?void 0:ln.valueC:"",value:null!==(on=null===(tn=vn)||void 0===tn?void 0:tn.label)&&void 0!==on?on:""})):m.createElement("div",{style:{backgroundColor:null!==Se&&void 0!==Se&&null!==(dn=Se.options)&&void 0!==dn&&dn.valueC?null===Se||void 0===Se||null===(an=Se.options)||void 0===an?void 0:an.valueC:""}},null===(un=vn)||void 0===un?void 0:un.label)}if("People"===(null===Se||void 0===Se?void 0:Se.data_type_name)&&(null===Se||void 0===Se||null===(p=Se.options)||void 0===p||null===(_=p.position_id)||void 0===_?void 0:_.length)>0){var hn,gn,bn,xn,En,Cn,wn=Ll.find((function(e){return e.label===(null===Se||void 0===Se?void 0:Se.value)}));return m.createElement("div",{style:{display:"flex",justifyContent:"center"}},Ae&&m.createElement("div",{style:{width:"300px",border:"1px solid var(--app-color-gray-light)",height:"38px"}},m.createElement(b.Z,{onFocus:function(){var e;return 0==Ll.length&&Fl(null===Se||void 0===Se||null===(e=Se.options)||void 0===e?void 0:e.position_id)},visible:!0,mandatory:null===Se||void 0===Se?void 0:Se.mandatory,className:f.Z.dropdownClassContainer,items:Ll.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.user)||void 0===n||null===(l=n.positions)||void 0===l?void 0:l.filter((function(e){var n,l;return null===Se||void 0===Se||null===(n=Se.options)||void 0===n||null===(l=n.position_id)||void 0===l?void 0:l.includes(null===e||void 0===e?void 0:e.id)})).length)>0})),value:"single"===(null===Se||void 0===Se||null===(hn=Se.options)||void 0===hn?void 0:hn.type)?null===(gn=Ll.find((function(e){var n,l;return e.label===(null!==Se&&void 0!==Se&&null!==(n=Se.options)&&void 0!==n&&n.mapToItem?null===Se||void 0===Se?void 0:Se.value:null===(l=P.selected_fields[Ie])||void 0===l?void 0:l.value)})))||void 0===gn?void 0:gn.label:null!==Se&&void 0!==Se&&null!==(bn=Se.options)&&void 0!==bn&&bn.mapToItem?null===Se||void 0===Se?void 0:Se.value:null===(xn=P.selected_fields[Ie])||void 0===xn?void 0:xn.value,loading:we,error:null===Se||void 0===Se?void 0:Se.errors,onChange:function(e){var n;if("single"===(null===Se||void 0===Se||null===(n=Se.options)||void 0===n?void 0:n.type)){var l=Ll.find((function(n){return n.value===e}));Te?De(null===l||void 0===l?void 0:l.label,Ie):F(null===l||void 0===l?void 0:l.label,Ie)}else Te?De(e,Ie):F(e,Ie)},selectionType:null===Se||void 0===Se||null===(En=Se.options)||void 0===En?void 0:En.type,fieldIcon:null===Se||void 0===Se?void 0:Se.icon})),wn&&m.createElement("div",{className:f.Z.avatarContentContainer},m.createElement("img",{alt:"lg",src:null===wn||void 0===wn||null===(Cn=wn.user)||void 0===Cn?void 0:Cn.photo,className:f.Z.avatarUrlImg})))}return"file"===Se.data_type?m.createElement(Yn,{field_id:Se.id,value:null===Se||void 0===Se?void 0:Se.value,isInherited:Y,checkIfAreMandatoryErrored:j,options:null===Se||void 0===Se?void 0:Se.options,index:Ie,indexInContextArray:R}):"date"===Se.data_type||null!==Se&&void 0!==Se&&null!==(y=Se.options)&&void 0!==y&&y.country_code||null!==Se&&void 0!==Se&&null!==(h=Se.options)&&void 0!==h&&h.currency_type||"Number"===Se.data_type_name?Ae||"bar"===(null===Se||void 0===Se||null===(B=Se.options)||void 0===B?void 0:B.display)?m.createElement("div",{className:f.Z.fieldTypeInput,style:{paddingLeft:Ae?"":"0px",border:Ae?"1px solid var(--app-color-gray-light)":"none",height:"auto"}},"date"===Se.data_type?"Range"===(null===Se||void 0===Se||null===(H=Se.options)||void 0===H?void 0:H.type)?m.createElement(w.$m,{inputContainerClassName:f.Z.inputContainerClassName,dateChangeHandler:function(e){return Rl(e,Ie)},startDate:Oe,endDate:Le}):null!==Se&&void 0!==Se&&null!==(V=Se.options)&&void 0!==V&&V.time?m.createElement("div",{style:{width:"100%",height:"auto",border:"0"}},m.createElement(Be(),{selected:null!==Se&&void 0!==Se&&Se.value?new Date(null===Se||void 0===Se?void 0:Se.value):new Date,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,customInput:m.createElement("div",{style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",padding:"5px 0",border:"0px solid var(--app-color-gray-lighter)"}},m.createElement("input",{value:Se.value?rn()(Se.value).format("DD MMMM YYYY HH:mm"):"",className:f.Z.inputValue,type:"text",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",fontFamily:"var(--app-text-main-font)",fontSize:"14px",fontWeight:"bold",lineHeight:"20px",color:"#4A4A4A",textAlign:"left",maxWidth:"98%",border:"0px"},onChange:function(e){}}),m.createElement(he.G,{icon:ge.WRo,style:{margin:"0 10px",width:"14px",height:"14px"}})),className:f.Z.singleInputContainer,onChange:function(e){De(e,Ie)}})):m.createElement(w.X9,{value:null!==Se&&void 0!==Se&&Se.value?rn()(new Date(null===Se||void 0===Se?void 0:Se.value)).format("Do MMMM YYYY"):"",dateChangeHandler:function(e){Te?De(e,Ie):Ul(e,Ie)},selected:new Date(rn()(ke,"YYYY-MM-DD")),iconClassName:f.Z.calendar,inputContainerClassName:f.Z.singleInputContainer,inputStyle:{textAlign:"left",border:"none",fontSize:"16px",margin:"0px 0 0px"},hasCalendarIcon:!0}):Ae&&m.createElement("input",{type:Se.data_type,onBlur:function(e){Te?De(e.target.value,Ie):L(e.target.value,Ie)},id:Se.field_name,autoComplete:"none",defaultValue:null===Se||void 0===Se?void 0:Se.value,className:f.Z.fieldTypeInput,name:Se.field_name,style:{height:"33px",backgroundColor:null!==Se&&void 0!==Se&&null!==(G=Se.options)&&void 0!==G&&G.valueC?null===Se||void 0===Se||null===(J=Se.options)||void 0===J?void 0:J.valueC:"",minWidth:Te?"100px":""},disabled:null!==(K=null===Se||void 0===Se?void 0:Se.disabled)&&void 0!==K&&K}),"bar"===(null===Se||void 0===Se||null===(Q=Se.options)||void 0===Q?void 0:Q.display)&&"Number"===(null===Se||void 0===Se?void 0:Se.data_type_name)&&m.createElement("div",{style:{height:Ae?"5px":"20px",border:"none",width:"100%",backgroundColor:null===Se||void 0===Se||null===(X=Se.options)||void 0===X?void 0:X.maxC,display:"flex",flexDirection:"row"}},m.createElement("input",{value:"",className:f.Z.fieldTypeInput,name:Se.field_name,style:{color:"transparent",border:"none",height:Ae?"5px":"20px",width:"".concat(+(null===Se||void 0===Se?void 0:Se.value)/+Se.options.max*100,"%"),backgroundColor:null!==Se&&void 0!==Se&&Se.value?"0"===(null===Se||void 0===Se?void 0:Se.value)?"transparent":null===Se||void 0===Se||null===($=Se.options)||void 0===$?void 0:$.barC:"transparent"},disabled:!0}))):m.createElement("div",{style:{backgroundColor:null!==Se&&void 0!==Se&&null!==(ee=Se.options)&&void 0!==ee&&ee.valueC?null===Se||void 0===Se||null===(ne=Se.options)||void 0===ne?void 0:ne.valueC:"",minWidth:Te?"200px":""}},"date"===(null===Se||void 0===Se?void 0:Se.data_type)?null!==Se&&void 0!==Se&&Se.value?rn()(null===Se||void 0===Se?void 0:Se.value).format(null!==Se&&void 0!==Se&&null!==(le=Se.options)&&void 0!==le&&le.time?"DD MMMM YYYY HH:mm":"DD MMMM YYYY"):"":null===Se||void 0===Se?void 0:Se.value):"Long Text"===Se.data_type_name?Ae?null!==(oe=Se.options)&&void 0!==oe&&oe.rich?m.createElement(On(),{modules:S.WH,style:{fontFamily:"var(--app-text-main-font)",minHeight:"200px"},formats:S.dv,defaultValue:null===Se||void 0===Se?void 0:Se.value,onChange:function(e){return Se.value=e},onBlur:function(){Te?De(Se.value,Ie):L(Se.value,Ie)},theme:"snow"}):m.createElement("textarea",{className:f.Z.fieldTypeTextarea,style:{minWidth:Te?"300px":"",border:"0px solid var(--app-color-gray-light)"},type:Se.data_type,defaultValue:null!==Se&&void 0!==Se&&null!==(te=Se.options)&&void 0!==te&&te.mapToItem?null===Se||void 0===Se?void 0:Se.value:null!==(de=P.selected_fields[Ie])&&void 0!==de&&de.value?null===(ae=P.selected_fields[Ie])||void 0===ae?void 0:ae.value:""===qn(null===Se||void 0===Se?void 0:Se.options)?"":qn(null===Se||void 0===Se?void 0:Se.options),onFocus:function(){},disabled:null!==(ue=null===(re=P.selected_fields[Ie])||void 0===re?void 0:re.disabled)&&void 0!==ue&&ue,autoComplete:"none",onBlur:function(e){Te?De(e.target.value,Ie):L(e.target.value,Ie)},name:Se.field_name}):null!==(ve=Se.options)&&void 0!==ve&&ve.rich?m.createElement(On(),{modules:{toolbar:!1},style:{fontFamily:"var(--app-text-main-font)",minHeight:"200px"},readOnly:!0,formats:S.dv,defaultValue:null===Se||void 0===Se?void 0:Se.value,onChange:function(){},onBlur:function(){},theme:"snow"}):m.createElement("div",{style:{backgroundColor:null!==Se&&void 0!==Se&&null!==(se=Se.options)&&void 0!==se&&se.valueC?null===Se||void 0===Se||null===(ce=Se.options)||void 0===ce?void 0:ce.valueC:"",minWidth:Te?"300px":""}},null===Se||void 0===Se?void 0:Se.value):"Link"===Se.data_type_name?Ae?m.createElement("div",{style:{width:"inherit",display:"flex",flexDirection:"column"}},m.createElement("input",{type:Se.data_type,onBlur:function(e){Te?De(e.target.value,Ie):L(e.target.value,Ie)},autoComplete:"none",defaultValue:null!==Se&&void 0!==Se&&null!==(pe=Se.options)&&void 0!==pe&&pe.mapToItem?null===Se||void 0===Se?void 0:Se.value:null!==(_e=P.selected_fields[Ie])&&void 0!==_e&&_e.value?null===(ye=P.selected_fields[Ie])||void 0===ye?void 0:ye.value:""===qn(null===Se||void 0===Se?void 0:Se.options)?"":qn(null===Se||void 0===Se?void 0:Se.options),className:f.Z.fieldTypeInput,style:{border:"0px solid var(--app-color-gray-light)"},name:Se.field_name,disabled:null!==(be=null===(xe=P.selected_fields[Ie])||void 0===xe?void 0:xe.disabled)&&void 0!==be&&be})):((null===Se||void 0===Se||null===(Ee=Se.value)||void 0===Ee?void 0:Ee.includes("jpg"))||(null===Se||void 0===Se||null===(Ce=Se.value)||void 0===Ce?void 0:Ce.includes("jpeg"))||(null===Se||void 0===Se||null===(Ze=Se.options)||void 0===Ze?void 0:Ze.image)||(null===Se||void 0===Se||null===(Me=Se.value)||void 0===Me?void 0:Me.includes("png")))&&m.createElement("img",{className:f.Z.avatarUrlImg,alt:"lg",onError:function(e){return e.target.src="https://i.quotev.com/b2gtjqawaaaa.jpg"},src:null===Se||void 0===Se?void 0:Se.value}):Ae?m.createElement("input",{type:Se.data_type,onBlur:function(e){Te?De(e.target.value,Ie):L(e.target.value,Ie)},autoComplete:"none",defaultValue:null!==Se&&void 0!==Se&&null!==(g=Se.options)&&void 0!==g&&g.mapToItem?null===Se||void 0===Se?void 0:Se.value:null!==(x=P.selected_fields[Ie])&&void 0!==x&&x.value?null===(E=P.selected_fields[Ie])||void 0===E?void 0:E.value:""===qn(null===Se||void 0===Se?void 0:Se.options)?"":qn(null===Se||void 0===Se?void 0:Se.options),className:f.Z.fieldTypeInput,style:{minWidth:Te?"300px":"",border:"1px solid var(--app-color-gray-light)",backgroundColor:null!==Se&&void 0!==Se&&null!==(C=Se.options)&&void 0!==C&&C.valueC?null===Se||void 0===Se||null===(Z=Se.options)||void 0===Z?void 0:Z.valueC:""},name:Se.field_name,disabled:null!==(M=null===(k=P.selected_fields[Ie])||void 0===k?void 0:k.disabled)&&void 0!==M&&M}):m.createElement("div",{style:{backgroundColor:null!==Se&&void 0!==Se&&null!==(I=Se.options)&&void 0!==I&&I.valueC?null===Se||void 0===Se||null===(N=Se.options)||void 0===N?void 0:N.valueC:"",minWidth:Te?"200px":""}},null===Se||void 0===Se?void 0:Se.value)},Gl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,l=arguments.length>2?arguments[2]:void 0;return 0==(null===e||void 0===e?void 0:e.length)?0:e.reduce((function(e,o){var i,t,d,a,u,r,v,s,c;if(null===o[null===n||void 0===n||null===(i=n.options)||void 0===i?void 0:i.mapToItem]||""===o[null===n||void 0===n||null===(t=n.options)||void 0===t?void 0:t.mapToItem])return e;var p=null!==(d=null!==l&&void 0!==l&&null!==(a=l.options)&&void 0!==a&&a.simple?JSON.parse(null!==(u=o[null===n||void 0===n||null===(r=n.options)||void 0===r?void 0:r.mapToItem])&&void 0!==u?u:"{}")[n.field_name]:o[null===n||void 0===n||null===(v=n.options)||void 0===v?void 0:v.mapToItem])&&void 0!==d?d:0;return"itemsum"===(null===n||void 0===n||null===(s=n.options)||void 0===s?void 0:s.footer)?e+ +(""===p?0:"".concat(p)):"itemdiff"===(null===n||void 0===n||null===(c=n.options)||void 0===c?void 0:c.footer)?e-+(""===p?0:"".concat(p)):0}),0)},Jl=function(e,n){var l,o,i,t,d,a,g,Z,N,T,D,O,z,U,B,H,V,J,Q,$,ne,oe,de,ue,Ee,Ce,Me,Se,Ne,Te,De,Pe,Ae,ze,Ue,Sn,Dn,Pn,An,Ln,Fn,jn,Vn,Kn,Qn,el,nl,il,tl,ul,rl,cl,pl,_l,yl,bl,xl,wl,Zl,kl,Il,Al,Ol,Jl,Kl,Ql,Xl,$l,eo,no,lo,oo="";if((null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.fieldToMatch)||void 0===o?void 0:o.length)>0){var io,to,ao,uo,ro,vo,so,co,po,mo,fo,_o,yo,ho,go,bo,xo,Eo,Co,wo,Zo,Mo,So,ko,Io=P.selected_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.fieldToMatch)}));if(Io&&(null===e||void 0===e||null===(io=e.options)||void 0===io||null===(to=io.valueToMatch)||void 0===to?void 0:to.length)>0&&(null===e||void 0===e||null===(ao=e.options)||void 0===ao||null===(uo=ao.actionToPerform)||void 0===uo?void 0:uo.length)>0&&(null===e||void 0===e||null===(ro=e.options)||void 0===ro||null===(vo=ro.initialState)||void 0===vo?void 0:vo.length)>0)if(null!==e&&void 0!==e&&null!==(po=e.options)&&void 0!==po&&null!==(mo=po.valueToMatch)&&void 0!==mo&&mo.split(",").includes(null===Io||void 0===Io?void 0:Io.value))"hide"===(null===e||void 0===e||null===(fo=e.options)||void 0===fo?void 0:fo.actionToPerform)?e.visible=!1:"visible"===(null===e||void 0===e||null===(_o=e.options)||void 0===_o?void 0:_o.actionToPerform)?e.visible=!0:"mandatory"===(null===e||void 0===e||null===(yo=e.options)||void 0===yo?void 0:yo.actionToPerform)?(e.mandatory=!0,e.visible=!0):"optional"===(null===e||void 0===e||null===(ho=e.options)||void 0===ho?void 0:ho.actionToPerform)?(e.mandatory=!1,e.visible=!0):"visman"===(null===e||void 0===e||null===(go=e.options)||void 0===go?void 0:go.actionToPerform)?(e.mandatory=!0,e.visible=!0):"disable"===(null===e||void 0===e||null===(bo=e.options)||void 0===bo?void 0:bo.actionToPerform)&&(oo="none");else"hidden"===(null===e||void 0===e||null===(xo=e.options)||void 0===xo?void 0:xo.initialState)?e.visible=!1:"visible"===(null===e||void 0===e||null===(Eo=e.options)||void 0===Eo?void 0:Eo.initialState)?e.visible=!0:"mandatory"===(null===e||void 0===e||null===(Co=e.options)||void 0===Co?void 0:Co.initialState)?(e.mandatory=!0,e.visible=!0):"optional"===(null===e||void 0===e||null===(wo=e.options)||void 0===wo?void 0:wo.initialState)?(e.mandatory=!1,e.visible=!0):"visman"===(null===e||void 0===e||null===(Zo=e.options)||void 0===Zo?void 0:Zo.actionToPerform)?(e.mandatory=!0,e.visible=!0):"disable"===(null===e||void 0===e||null===(Mo=e.options)||void 0===Mo?void 0:Mo.actionToPerform)&&(oo="none");if(Io&&(null===e||void 0===e||null===(so=e.options)||void 0===so||null===(co=so.valueToMatch2)||void 0===co?void 0:co.length)>0)if(null!==e&&void 0!==e&&null!==(So=e.options)&&void 0!==So&&null!==(ko=So.valueToMatch2)&&void 0!==ko&&ko.split(",").includes(null===Io||void 0===Io?void 0:Io.value)){var No,To,Do,Po,Ao,Oo,Lo,zo,Ro,Uo,Fo,Wo,qo;if((null===e||void 0===e||null===(No=e.options)||void 0===No||null===(To=No.value)||void 0===To?void 0:To.length)>0)if("Text"===(null===e||void 0===e?void 0:e.data_type_name))e.value=null===e||void 0===e||null===(Ao=e.options)||void 0===Ao?void 0:Ao.value,e.field.value=null===e||void 0===e||null===(Oo=e.options)||void 0===Oo?void 0:Oo.value;else if("Date"===(null===e||void 0===e?void 0:e.data_type_name)){var Bo,Yo,Ho,jo,Vo,Go;if(0==(null===e||void 0===e||null===(Bo=e.value)||void 0===Bo?void 0:Bo.length)||void 0==(null===e||void 0===e?void 0:e.value))"today"===(null===e||void 0===e||null===(Yo=e.options)||void 0===Yo?void 0:Yo.value)?(e.value=new Date(rn()((0,un.now)())),e.field.value=new Date(rn()((0,un.now)()))):"tomorrow"===(null===e||void 0===e||null===(Ho=e.options)||void 0===Ho?void 0:Ho.value)?(e.value=new Date(rn()((0,un.now)()).add(1,"days")),e.field.value=new Date(rn()((0,un.now)()).add(1,"days"))):"week"===(null===e||void 0===e||null===(jo=e.options)||void 0===jo?void 0:jo.value)?(e.value=new Date(rn()((0,un.now)()).add(1,"weeks")),e.field.value=new Date(rn()((0,un.now)()).add(1,"weeks"))):"month"===(null===e||void 0===e||null===(Vo=e.options)||void 0===Vo?void 0:Vo.value)&&(e.value=new Date(rn()((0,un.now)()).add(1,"months")),e.field.value=new Date(rn()((0,un.now)()).add(1,"months"))),"none"===(null===e||void 0===e||null===(Go=e.options)||void 0===Go?void 0:Go.value)&&(e.value=void 0,e.field.value=void 0)}if((null===e||void 0===e||null===(Do=e.options)||void 0===Do||null===(Po=Do.actionToPerform2)||void 0===Po?void 0:Po.length)>0)"hide"===(null===e||void 0===e||null===(Lo=e.options)||void 0===Lo?void 0:Lo.actionToPerform2)?(e.visible=!1,e.field.visible=!1):"visible"===(null===e||void 0===e||null===(zo=e.options)||void 0===zo?void 0:zo.actionToPerform2)?e.visible=!0:"mandatory"===(null===e||void 0===e||null===(Ro=e.options)||void 0===Ro?void 0:Ro.actionToPerform2)?(e.mandatory=!0,e.visible=!0,e.field.mandatory=!0,e.field.visible=!0):"optional"===(null===e||void 0===e||null===(Uo=e.options)||void 0===Uo?void 0:Uo.actionToPerform2)?(e.mandatory=!1,e.visible=!0,e.field.mandatory=!1,e.field.visible=!0):"visman"===(null===e||void 0===e||null===(Fo=e.options)||void 0===Fo?void 0:Fo.actionToPerform2)?(e.mandatory=!0,e.visible=!0,e.field.mandatory=!0,e.field.visible=!0):"disable"===(null===e||void 0===e||null===(Wo=e.options)||void 0===Wo?void 0:Wo.actionToPerform2)?oo="none":"enable"===(null===e||void 0===e||null===(qo=e.options)||void 0===qo?void 0:qo.actionToPerform2)&&(oo="")}e.field.mandatory=e.mandatory,e.field.visible=e.visible}if("Record"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(i=e.options)||void 0===i||null===(t=i.component_id)||void 0===t?void 0:t.length)>0){var Jo,Ko,Qo,Xo,$o,ei,ni,li,oi,ii,ti,di,ai,ui,ri,vi,si,ci,pi,mi,fi,_i,yi,hi,gi,bi,xi,Ei,Ci,wi,Zi,Mi,Si,ki,Ii,Ni,Ti,Di,Pi,Ai,Oi,Li,zi,Ri,Ui,Fi,Wi,qi,Bi,Yi,Hi,ji,Vi,Gi,Ji,Ki,Qi,Xi=(null!==e&&void 0!==e&&null!==(Jo=e.options)&&void 0!==Jo&&Jo.global?Hl(null===e||void 0===e?void 0:e.data_type_name):me).filter((function(n){var l;return n.component_fields.filter((function(n){var l;return n.component_blueprint_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.component_id)})).length>0||n.module_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.module_id)})),$i=Xi.map((function(n){var l,o,i,t,d="";return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.names)||void 0===o||o.map((function(e){var l,o;return d=""===d?null===(l=n.component_fields.find((function(n){return n.field_name===e})))||void 0===l?void 0:l.value:"".concat(d," ").concat(null===(o=n.component_fields.find((function(n){return n.field_name===e})))||void 0===o?void 0:o.value)})),(0,s.Z)({label:""===d?n.title:d,value:n.id,component:n},null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.output,null===(t=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})))||void 0===t?void 0:t.value)}));if((null===e||void 0===e||null===(Ko=e.options)||void 0===Ko||null===(Qo=Ko.filters)||void 0===Qo?void 0:Qo.length)>0){if((null===Xi||void 0===Xi?void 0:Xi.length)>0)if(e.value){if(Qi=Xi.find((function(n){return n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)&&n.value===e.value}))}))){var et,nt,lt;Yl(null===(et=Qi)||void 0===et?void 0:et.id);var ot=(0,c.Z)(null!==(nt=null===(lt=W.currentStep)||void 0===lt?void 0:lt.component_blueprints)&&void 0!==nt?nt:[]);ot&&(W.newStepComponents=ot)}}else if(1==$i.length&&(Qi=Xi[0])){var it,tt,dt;Yl(null===(it=Qi)||void 0===it?void 0:it.id);var at=(0,c.Z)(null!==(tt=null===(dt=W.currentStep)||void 0===dt?void 0:dt.component_blueprints)&&void 0!==tt?tt:[]);at&&(W.newStepComponents=at)}if(1==$i.length||e.value){var ut,rt,vt,st;if((null===e||void 0===e||null===(ut=e.options)||void 0===ut?void 0:ut.filters.length)>0)Wn[null===e||void 0===e||null===(vt=e.options)||void 0===vt?void 0:vt.filters[0]]=Je.Z(Ke.Z("value"))(Xi.map((function(n){var l=null===n||void 0===n?void 0:n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})).filter((function(n){var l;return(null===(l=n.component)||void 0===l?void 0:l.component_fields.filter((function(n){var l,o;return n.value===(null===(l=Qi)||void 0===l||null===(o=l.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])})))||void 0===o?void 0:o.value)})).length)>0})));if((null===e||void 0===e||null===(rt=e.options)||void 0===rt?void 0:rt.filters.length)>1)Wn[null===e||void 0===e||null===(st=e.options)||void 0===st?void 0:st.filters[1]]=Je.Z(Ke.Z("value"))(Xi.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[2])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})).filter((function(n){var l;return(null===(l=n.component)||void 0===l?void 0:l.component_fields.filter((function(n){var l,o;return n.value===(null===(l=Qi)||void 0===l||null===(o=l.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])})))||void 0===o?void 0:o.value)})).length)>0})))}}else if($i.length>0)if(e.value){if(Qi=null===$i||void 0===$i?void 0:$i.find((function(n){var l;return n[null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output]===e.value}))){var ct,pt;Yl(Qi.value);var mt=(0,c.Z)(null!==(ct=null===(pt=W.currentStep)||void 0===pt?void 0:pt.component_blueprints)&&void 0!==ct?ct:[]);mt&&(W.newStepComponents=mt)}}else if(1==$i.length&&1==(null===e||void 0===e?void 0:e.mandatory)&&(Qi=$i[0])){var ft,_t;Yl(Qi.value);var yt=(0,c.Z)(null!==(ft=null===(_t=W.currentStep)||void 0===_t?void 0:_t.component_blueprints)&&void 0!==ft?ft:[]);yt&&(W.newStepComponents=yt)}return 1==(null===e||void 0===e||null===(Xo=e.options)||void 0===Xo||null===($o=Xo.filters)||void 0===$o?void 0:$o.length)?m.createElement("div",{style:{width:"inherit",fontSize:"16px"}},m.createElement("label",{style:{fontWeight:"normal",fontSize:"15px"}},null===(ei=ce.find((function(n){var l;return n.id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.component_id)})))||void 0===ei?void 0:ei.name),!Qi&&(null===e||void 0===e?void 0:e.value)&&m.createElement("div",{key:n},"A record ( ".concat(null===e||void 0===e?void 0:e.value," ) was previously selected but not found. Press the refresh button on the upper right side to retrieve the missing record. If record is still not found, please check with your admin.")),m.createElement(b.Z,{visible:null===e||void 0===e?void 0:e.visible,mandatory:1==(null===e||void 0===e||null===(ni=e.options)||void 0===ni||null===(li=ni.filters)||void 0===li?void 0:li.length)&&(null===e||void 0===e?void 0:e.mandatory),items:Je.Z(Ke.Z("value"))(null===(oi=Xi.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})))||void 0===oi?void 0:oi.concat({label:"...More",value:"more"})),loading:we,error:1==(null===e||void 0===e||null===(ii=e.options)||void 0===ii||null===(ti=ii.filters)||void 0===ti?void 0:ti.length)?null===e||void 0===e?void 0:e.errors:"",onChange:function(l){var o,i,t,d,a,u,r;"more"!==l?(null===e||void 0===e||null===(o=e.options)||void 0===o||null===(i=o.filters)||void 0===i?void 0:i.length)>1?(F(void 0,n),$n(!1),Jn(!1),setTimeout((function(){Jn(!0),$n(!0)}),10),Hn((0,s.Z)({},null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.filters[0],Je.Z(Ke.Z("value"))(Xi.map((function(n){var o=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])}));return{label:null===o||void 0===o?void 0:o.value,value:null===o||void 0===o?void 0:o.value,component:n,selected:l}})).filter((function(n){return n.component.component_fields.filter((function(n){var o;return n.value===l&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[0])})).length>0})))))):(al("50px"),F(null!==(d=null===(a=Xi.find((function(e){return e.component_fields.filter((function(e){return e.value===l})).length>0})))||void 0===a||null===(u=a.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})))||void 0===u?void 0:u.value)&&void 0!==d?d:null,n),Yl(null===(r=Xi.find((function(e){return e.component_fields.filter((function(e){return e.value===l})).length>0})))||void 0===r?void 0:r.id)):jl()},backgroundColor:null!==e&&void 0!==e&&null!==(di=e.options)&&void 0!==di&&di.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(ai=e.options)||void 0===ai?void 0:ai.valueC:"",value:Qi?null===(ui=Qi.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])})))||void 0===ui?void 0:ui.value:""})):(null===e||void 0===e||null===(ri=e.options)||void 0===ri||null===(vi=ri.filters)||void 0===vi?void 0:vi.length)>1?m.createElement("div",{key:n,className:f.Z.filtersContainer,style:{width:"inherit",display:null!==e&&void 0!==e&&e.visible?"":"none",pointerEvents:oo,paddingTop:"20px"}},!Qi&&(null===e||void 0===e?void 0:e.value)&&m.createElement("div",{key:n},"A record ( ".concat(null===e||void 0===e?void 0:e.value," ) was previously selected but not found. Press the refresh button on the upper right side to retrieve the missing record. If record is still not found, please check with your admin.")),(null===e||void 0===e||null===(si=e.options)||void 0===si||null===(ci=si.filters)||void 0===ci?void 0:ci.length)>0&&m.createElement(m.Fragment,null,m.createElement("label",{style:{fontWeight:"normal",fontSize:"15px"}},null===e||void 0===e||null===(pi=e.options)||void 0===pi?void 0:pi.filters[0]),m.createElement(b.Z,{visible:null===e||void 0===e?void 0:e.visible,mandatory:1==(null===e||void 0===e||null===(mi=e.options)||void 0===mi||null===(fi=mi.filters)||void 0===fi?void 0:fi.length)&&(null===e||void 0===e?void 0:e.mandatory),items:Je.Z(Ke.Z("value"))(Xi.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}}))),loading:we,error:1==(null===e||void 0===e||null===(_i=e.options)||void 0===_i||null===(yi=_i.filters)||void 0===yi?void 0:yi.length)?null===e||void 0===e?void 0:e.errors:"",onChange:function(l){var o,i,t,d,a,u,r;(null===e||void 0===e||null===(o=e.options)||void 0===o||null===(i=o.filters)||void 0===i?void 0:i.length)>1?(F(void 0,n),$n(!1),Jn(!1),setTimeout((function(){Jn(!0),$n(!0)}),10),Hn((0,s.Z)({},null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.filters[0],Je.Z(Ke.Z("value"))(Xi.map((function(n){var o=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])}));return{label:null===o||void 0===o?void 0:o.value,value:null===o||void 0===o?void 0:o.value,component:n,selected:l}})).filter((function(n){return n.component.component_fields.filter((function(n){var o;return n.value===l&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[0])})).length>0})))))):(al("50px"),F(null!==(d=null===(a=Xi.find((function(e){return e.component_fields.filter((function(e){return e.value===l})).length>0})))||void 0===a||null===(u=a.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})))||void 0===u?void 0:u.value)&&void 0!==d?d:null,n),Yl(null===(r=Xi.find((function(e){return e.component_fields.filter((function(e){return e.value===l})).length>0})))||void 0===r?void 0:r.id))},value:Qi?null===(hi=Qi.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])})))||void 0===hi?void 0:hi.value:"",backgroundColor:null!==e&&void 0!==e&&null!==(gi=e.options)&&void 0!==gi&&gi.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(bi=e.options)||void 0===bi?void 0:bi.valueC:""})),m.createElement("div",{style:{display:null!==e&&void 0!==e&&e.visible?"":"none",margin:"10px 0"}},(null===e||void 0===e||null===(xi=e.options)||void 0===xi||null===(Ei=xi.filters)||void 0===Ei?void 0:Ei.length)>1&&Gn&&m.createElement(m.Fragment,null,m.createElement("label",{style:{fontWeight:"normal",fontSize:"15px"}},null===e||void 0===e||null===(Ci=e.options)||void 0===Ci?void 0:Ci.filters[1]),m.createElement(b.Z,{visible:null===e||void 0===e?void 0:e.visible,mandatory:2==(null===e||void 0===e||null===(wi=e.options)||void 0===wi||null===(Zi=wi.filters)||void 0===Zi?void 0:Zi.length)&&(null===e||void 0===e?void 0:e.mandatory),items:null!==(Mi=Wn[null===e||void 0===e||null===(Si=e.options)||void 0===Si?void 0:Si.filters[0]])&&void 0!==Mi?Mi:[],loading:we,onClicked:function(e){return al(e?"180px":"50px")},onChange:function(l){var o,i,t,d,a,u,r,c,p;(null===e||void 0===e||null===(o=e.options)||void 0===o||null===(i=o.filters)||void 0===i?void 0:i.length)>2?($n(!1),setTimeout((function(){return $n(!0)}),10),Hn((0,v.Z)((0,v.Z)({},Wn),{},(0,s.Z)({},null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.filters[1],null!==(d=Je.Z(Ke.Z("value"))(Xi.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[2])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})).filter((function(n){return n.component.component_fields.filter((function(n){var o;return n.value===l&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[1])})).length>0})).filter((function(n){return n.component.component_fields.filter((function(n){var l,o;return n.value===Wn[null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0]][0].component.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])})).value&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[0])})).length>0}))))&&void 0!==d?d:[])))):(al("50px"),fe.start=!0,F(null!==(a=null===(u=Wn[null===e||void 0===e||null===(c=e.options)||void 0===c?void 0:c.filters[0]])||void 0===u||null===(r=u.find((function(e){return e.value===l})))||void 0===r?void 0:r.component.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})).value)&&void 0!==a?a:null,n),Yl(Wn[null===e||void 0===e||null===(p=e.options)||void 0===p?void 0:p.filters[0]].find((function(e){return e.value===l})).component.id),$n(!1),Jn(!1),setTimeout((function(){Jn(!0),$n(!0)}),10))},backgroundColor:null!==e&&void 0!==e&&null!==(ki=e.options)&&void 0!==ki&&ki.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(Ii=e.options)||void 0===Ii?void 0:Ii.valueC:"",value:Qi?null===(Ni=Qi.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])})))||void 0===Ni?void 0:Ni.value:""}))),m.createElement("div",{style:{display:null!==e&&void 0!==e&&e.visible?"":"none",margin:"10px 0"}},(null===e||void 0===e||null===(Ti=e.options)||void 0===Ti||null===(Di=Ti.filters)||void 0===Di?void 0:Di.length)>2&&Xn&&m.createElement(m.Fragment,null,m.createElement("label",{style:{fontWeight:"normal",fontSize:"15px"}},null===e||void 0===e||null===(Pi=e.options)||void 0===Pi?void 0:Pi.filters[2]),m.createElement(b.Z,{visible:null===e||void 0===e?void 0:e.visible,mandatory:3==(null===e||void 0===e||null===(Ai=e.options)||void 0===Ai||null===(Oi=Ai.filters)||void 0===Oi?void 0:Oi.length)&&(null===e||void 0===e?void 0:e.mandatory),items:null!==(Li=Wn[null===e||void 0===e||null===(zi=e.options)||void 0===zi?void 0:zi.filters[1]])&&void 0!==Li?Li:[],loading:we,onClicked:function(e){return al(e?"180px":"50px")},onChange:function(l){var o,i,t,d,a;al("50px"),fe.start=!0,F(null!==(o=null===(i=Wn[null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.filters[1]])||void 0===i||null===(t=i.find((function(e){return e.value===l})))||void 0===t?void 0:t.component.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})).value)&&void 0!==o?o:null,n),Yl(Wn[null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.filters[1]].find((function(e){return e.value===l})).component.id)},backgroundColor:null!==e&&void 0!==e&&null!==(Ri=e.options)&&void 0!==Ri&&Ri.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(Ui=e.options)||void 0===Ui?void 0:Ui.valueC:"",value:Qi?null===(Fi=Qi.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[2])})))||void 0===Fi?void 0:Fi.value:""}))),null===e||void 0===e||null===(Wi=e.options)||void 0===Wi?void 0:Wi.notes):"Tiles"===(null===e||void 0===e||null===(qi=e.options)||void 0===qi?void 0:qi.selection)?m.createElement("div",{style:{width:"100%",fontSize:"16px"}},ce.find((function(n){var l;return n.id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.component_id)})).name,m.createElement("div",{style:{width:Mn.tq?"100%":"50%"}},m.createElement(We.default,{rowStyleSelected:{border:"2px solid black"},initialSelected:$i.map((function(n){var l;return n[null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output]})).indexOf(null===e||void 0===e?void 0:e.value),modern:!0,isReport:!1,"app-variant-is-mobile":"true",columns:null===e||void 0===e||null===(Bi=e.options)||void 0===Bi?void 0:Bi.names,list:$i.map((function(e){var n=e;return e.component.component_fields.filter((function(e){n[e.field_name]=e.value})),n})),onListItemClick:function(l){var o,i,t,d,a;l&&(null===e||void 0===e||null===(a=e.options)||void 0===a||a.list.map((function(e){var n,o,i=Bl({field_name:e});-1!=i&&(P.selected_fields[i].value=null!==(n=null===(o=l.component.component_fields.find((function(n){return n.field_name===e})))||void 0===o?void 0:o.value)&&void 0!==n?n:"",P.selected_fields[i].disabled=!0)})));Yl(l),F(null!==(o=null===$i||void 0===$i||null===(i=$i.find((function(e){return e.value===l.value})))||void 0===i||null===(t=i.component.component_fields)||void 0===t||null===(d=t.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})))||void 0===d?void 0:d.value)&&void 0!==o?o:null,n)}}))):m.createElement("div",{style:{width:"100%",fontSize:"16px"}},m.createElement("div",{style:{width:"inherit",border:"1px solid gray"}},m.createElement(b.Z,{key:n,visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,items:$i,loading:we,error:"",className:f.Z.dropdownClassContainer,onClicked:function(e){return al(e?"100px":"50px")},onChange:function(l){var o,i,t,d;l&&(null===e||void 0===e||null===(t=e.options)||void 0===t||null===(d=t.list)||void 0===d||d.map((function(e){var n,o,i=Bl({field_name:e});-1!=i&&(P.selected_fields[i].value=null!==(n=null===(o=$i.find((function(e){return e.value===l})).component.component_fields.find((function(n){return n.field_name===e})))||void 0===o?void 0:o.value)&&void 0!==n?n:"",P.selected_fields[i].disabled=!0)})));fe.start=!0,al("50px"),Yl(l),F(null!==(o=null===$i||void 0===$i?void 0:$i.find((function(e){return e.value===l}))[null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.output])&&void 0!==o?o:null,n)},selectionType:(null===e||void 0===e||null===(Yi=e.options)||void 0===Yi?void 0:Yi.selection.length)>0?null===e||void 0===e||null===(Hi=e.options)||void 0===Hi?void 0:Hi.selection:null===e||void 0===e||null===(ji=e.options)||void 0===ji?void 0:ji.type,backgroundColor:null!==e&&void 0!==e&&null!==(Vi=e.options)&&void 0!==Vi&&Vi.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(Gi=e.options)||void 0===Gi?void 0:Gi.valueC:"",value:null!==(Ji=null===(Ki=Qi)||void 0===Ki?void 0:Ki.label)&&void 0!==Ji?Ji:""})))}if("Filters"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(d=e.options)||void 0===d||null===(a=d.component_id)||void 0===a?void 0:a.length)>0){var ht,gt,bt,xt,Et,Ct,wt,Zt,Mt,St,kt,It,Nt,Tt,Dt,Pt,At,Ot,Lt,zt,Rt,Ut,Ft,Wt,qt,Bt,Yt,Ht,jt,Vt,Gt,Jt,Kt,Qt,Xt,$t,ed,nd,ld=(null!==e&&void 0!==e&&null!==(ht=e.options)&&void 0!==ht&&ht.global?Hl(null===e||void 0===e?void 0:e.data_type_name):me).filter((function(n){return n.component_fields.filter((function(n){var l;return n.component_blueprint_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.component_id)})).length>0})),od=ld.map((function(n){var l,o;return(0,s.Z)({label:n.title,value:n.id,component:n},null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output,null===(o=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})))||void 0===o?void 0:o.value)}));if(ld.length>0){if(e.value){if(nd=ld.find((function(n){return n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)&&n.value===e.value}))}))){var id,td,dd;Yl(null===(id=nd)||void 0===id?void 0:id.id);var ad=(0,c.Z)(null!==(td=null===(dd=W.currentStep)||void 0===dd?void 0:dd.component_blueprints)&&void 0!==td?td:[]);ad&&(W.newStepComponents=ad)}}else if(1==od.length&&1==(null===e||void 0===e?void 0:e.mandatory)&&(nd=ld[0])){var ud,rd,vd;Yl(null===(ud=nd)||void 0===ud?void 0:ud.id);var sd=(0,c.Z)(null!==(rd=null===(vd=W.currentStep)||void 0===vd?void 0:vd.component_blueprints)&&void 0!==rd?rd:[]);sd&&(W.newStepComponents=sd)}if(1==od.length||e.value){var cd,pd,md,fd;if((null===e||void 0===e||null===(cd=e.options)||void 0===cd?void 0:cd.filters.length)>0)Wn[null===e||void 0===e||null===(md=e.options)||void 0===md?void 0:md.filters[0]]=Je.Z(Ke.Z("value"))(ld.map((function(n){var l=null===n||void 0===n?void 0:n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})));if((null===e||void 0===e||null===(pd=e.options)||void 0===pd?void 0:pd.filters.length)>1)Wn[null===e||void 0===e||null===(fd=e.options)||void 0===fd?void 0:fd.filters[1]]=Je.Z(Ke.Z("value"))(ld.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[2])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})))}}return m.createElement("div",{key:n,className:f.Z.filtersContainer,style:{width:"inherit",display:null!==e&&void 0!==e&&e.visible?"":"none",pointerEvents:oo}},null===(gt=ce.find((function(n){var l;return n.id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.component_id)})))||void 0===gt?void 0:gt.name,m.createElement("br",null),m.createElement("br",null),!nd&&(null===e||void 0===e?void 0:e.value)&&m.createElement("div",{key:n},"A record ( ".concat(null===e||void 0===e?void 0:e.value," ) was previously selected but not found. Press the refresh button on the upper right side to retrieve the missing record. If record is still not found, please check with your admin.")),(null===e||void 0===e||null===(bt=e.options)||void 0===bt||null===(xt=bt.filters)||void 0===xt?void 0:xt.length)>0&&m.createElement("div",{style:{display:null!==e&&void 0!==e&&e.visible?"":"none",marginBottom:"10px"}},m.createElement("label",{style:{fontWeight:"normal",fontSize:"15px"}},null===e||void 0===e||null===(Et=e.options)||void 0===Et?void 0:Et.filters[0]),m.createElement(b.Z,{visible:null===e||void 0===e?void 0:e.visible,className:f.Z.dropdownSelectComponent,mandatory:1==(null===e||void 0===e||null===(Ct=e.options)||void 0===Ct||null===(wt=Ct.filters)||void 0===wt?void 0:wt.length)&&(null===e||void 0===e?void 0:e.mandatory),items:Je.Z(Ke.Z("value"))(null===(Zt=ld.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})))||void 0===Zt?void 0:Zt.concat({label:"...More",value:"more"})),loading:we,error:1==(null===e||void 0===e||null===(Mt=e.options)||void 0===Mt||null===(St=Mt.filters)||void 0===St?void 0:St.length)?null===e||void 0===e?void 0:e.errors:"",onChange:function(l){var o,i,t,d,a;"more"!==l?(null===e||void 0===e||null===(o=e.options)||void 0===o||null===(i=o.filters)||void 0===i?void 0:i.length)>1?(F(void 0,n),$n(!1),Jn(!1),setTimeout((function(){Jn(!0),$n(!0)}),10),Hn((0,s.Z)({},null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.filters[0],Je.Z(Ke.Z("value"))(ld.map((function(n){var o=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])}));return{label:null===o||void 0===o?void 0:o.value,value:null===o||void 0===o?void 0:o.value,component:n,selected:l}})).filter((function(n){return n.component.component_fields.filter((function(n){var o;return n.value===l&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[0])})).length>0})))))):(al("50px"),F(null!==(d=ld.find((function(e){return e.value===l}))[null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.output])&&void 0!==d?d:null,n),Yl(ld.find((function(e){return e.value===l})).component.id)):jl()},backgroundColor:null!==e&&void 0!==e&&null!==(kt=e.options)&&void 0!==kt&&kt.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(It=e.options)||void 0===It?void 0:It.valueC:"",value:nd?null===(Nt=nd.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])})))||void 0===Nt?void 0:Nt.value:""})),m.createElement("div",{style:{display:null!==e&&void 0!==e&&e.visible?"":"none",marginBottom:"10px"}},(null===e||void 0===e||null===(Tt=e.options)||void 0===Tt||null===(Dt=Tt.filters)||void 0===Dt?void 0:Dt.length)>1&&Gn&&m.createElement(m.Fragment,null,m.createElement("label",{style:{fontWeight:"normal",fontSize:"15px"}},null===e||void 0===e||null===(Pt=e.options)||void 0===Pt?void 0:Pt.filters[1]),m.createElement(b.Z,{className:f.Z.dropdownSelectComponent,visible:null===e||void 0===e?void 0:e.visible,mandatory:2==(null===e||void 0===e||null===(At=e.options)||void 0===At||null===(Ot=At.filters)||void 0===Ot?void 0:Ot.length)&&(null===e||void 0===e?void 0:e.mandatory),items:null!==(Lt=Wn[null===e||void 0===e||null===(zt=e.options)||void 0===zt?void 0:zt.filters[0]])&&void 0!==Lt?Lt:[],loading:we,error:2==(null===e||void 0===e||null===(Rt=e.options)||void 0===Rt||null===(Ut=Rt.filters)||void 0===Ut?void 0:Ut.length)?null===e||void 0===e?void 0:e.errors:"",onClicked:function(e){return al(e?"180px":"50px")},onChange:function(l){var o,i,t,d,a,u,r,c,p;(null===e||void 0===e||null===(o=e.options)||void 0===o||null===(i=o.filters)||void 0===i?void 0:i.length)>2?($n(!1),setTimeout((function(){return $n(!0)}),10),Hn((0,v.Z)((0,v.Z)({},Wn),{},(0,s.Z)({},null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.filters[1],null!==(d=Je.Z(Ke.Z("value"))(ld.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[2])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})).filter((function(n){return n.component.component_fields.filter((function(n){var o;return n.value===l&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[1])})).length>0})).filter((function(n){return n.component.component_fields.filter((function(n){var l,o;return n.value===Wn[null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0]][0].component.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])})).value&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[0])})).length>0}))))&&void 0!==d?d:[])))):(al("50px"),fe.start=!0,F(null!==(a=null===(u=Wn[null===e||void 0===e||null===(c=e.options)||void 0===c?void 0:c.filters[0]])||void 0===u||null===(r=u.find((function(e){return e.value===l})))||void 0===r?void 0:r.component.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})).value)&&void 0!==a?a:null,n),Yl(Wn[null===e||void 0===e||null===(p=e.options)||void 0===p?void 0:p.filters[0]].find((function(e){return e.value===l})).component.id))},backgroundColor:null!==e&&void 0!==e&&null!==(Ft=e.options)&&void 0!==Ft&&Ft.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(Wt=e.options)||void 0===Wt?void 0:Wt.valueC:"",value:nd?null===(qt=nd.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])})))||void 0===qt?void 0:qt.value:""}))),m.createElement("div",{style:{display:null!==e&&void 0!==e&&e.visible?"":"none",marginBottom:"10px"}},(null===e||void 0===e||null===(Bt=e.options)||void 0===Bt||null===(Yt=Bt.filters)||void 0===Yt?void 0:Yt.length)>2&&Xn&&m.createElement(m.Fragment,null,m.createElement("label",{style:{fontWeight:"normal",fontSize:"15px"}},null===e||void 0===e||null===(Ht=e.options)||void 0===Ht?void 0:Ht.filters[2]),m.createElement(b.Z,{visible:null===e||void 0===e?void 0:e.visible,className:f.Z.dropdownSelectComponent,mandatory:3==(null===e||void 0===e||null===(jt=e.options)||void 0===jt||null===(Vt=jt.filters)||void 0===Vt?void 0:Vt.length)&&(null===e||void 0===e?void 0:e.mandatory),items:null!==(Gt=Wn[null===e||void 0===e||null===(Jt=e.options)||void 0===Jt?void 0:Jt.filters[1]])&&void 0!==Gt?Gt:[],loading:we,error:3==(null===e||void 0===e||null===(Kt=e.options)||void 0===Kt||null===(Qt=Kt.filters)||void 0===Qt?void 0:Qt.length)?null===e||void 0===e?void 0:e.errors:"",onClicked:function(e){return al(e?"180px":"50px")},onChange:function(l){var o,i,t,d,a;al("50px"),fe.start=!0,F(null!==(o=null===(i=Wn[null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.filters[1]])||void 0===i||null===(t=i.find((function(e){return e.value===l})))||void 0===t?void 0:t.component.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})).value)&&void 0!==o?o:null,n),Yl(Wn[null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.filters[1]].find((function(e){return e.value===l})).component.id)},backgroundColor:null!==e&&void 0!==e&&null!==(Xt=e.options)&&void 0!==Xt&&Xt.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===($t=e.options)||void 0===$t?void 0:$t.valueC:"",value:nd?null===(ed=nd.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[2])})))||void 0===ed?void 0:ed.value:""}))))}if("Global"!==(null===e||void 0===e?void 0:e.data_type_name)&&"Connector"!==(null===e||void 0===e?void 0:e.data_type_name)&&"Emails"!==(null===e||void 0===e?void 0:e.data_type_name)&&"Template"!==(null===e||void 0===e?void 0:e.data_type_name)){var _d,yd,hd,gd,bd,xd,Ed,Cd,wd,Zd,Md,Sd,kd,Id,Nd,Td,Dd;if("GoogleAI Assistant"===(null===e||void 0===e?void 0:e.data_type_name))return m.createElement("div",{key:n,style:{display:e.visible?"":"none",color:"var(--app-color-gray-dark)",height:"inherit",width:Mn.tq?"100%":"80%",flexDirection:"column",marginTop:"50px"}},m.createElement("textarea",{className:f.Z.fullLengthTextarea,type:e.data_type,onFocus:function(){},disabled:e.options.fixed,autoComplete:"none",onChange:function(e){L(e.target.value,n)},placeholder:"Enter your question here",value:1==e.options.fixed?null===e||void 0===e||null===(_d=e.options)||void 0===_d?void 0:_d.analyze:e.value}),m.createElement("div",{style:{display:"flex"}},m.createElement(w.zx,{light:!0,loading:we,title:"Ask Assistant ",clicked:function(){0==e.options.fixed&&(e.options.analyze=e.value),ql(e.options)}},m.createElement("img",{src:"https://ai.google/static/images/share.png",height:"90px",width:"140px"})),(null===ml||void 0===ml?void 0:ml.candidates.length)>0&&m.createElement(w.zx,{title:"Clear",clicked:function(){fl({candidates:[]}),L(void 0,n)}})));if("Info"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(g=e.options)||void 0===g||null===(Z=g.list)||void 0===Z?void 0:Z.length)>0&&(null===e||void 0===e||null===(N=e.options)||void 0===N||null===(T=N.component_id)||void 0===T?void 0:T.length)>0&&null!==e&&void 0!==e&&e.visible){var Pd,Ad,Od,Ld,zd,Rd,Ud,Fd,Wd=me.find((function(n){return n.id===(null===e||void 0===e?void 0:e.value)})),qd={};if(Wd)null===e||void 0===e||null===(Fd=e.options)||void 0===Fd||Fd.list.map((function(e,n){var l,o,i,t;if(0==Wd.component_fields.length)return m.createElement("div",{key:n});var d,a=Wd.component_fields.find((function(n){return n.field_name===e}));"Link"===(null===a||void 0===a?void 0:a.data_type_name)&&(null!==a&&void 0!==a&&null!==(l=a.value)&&void 0!==l&&l.includes("jpg")||null!==a&&void 0!==a&&null!==(o=a.value)&&void 0!==o&&o.includes("jpeg")||null!==a&&void 0!==a&&null!==(i=a.options)&&void 0!==i&&i.image||null!==a&&void 0!==a&&null!==(t=a.value)&&void 0!==t&&t.includes("png"))?qd[e]=m.createElement("div",{onClick:function(){return window.open(null===a||void 0===a?void 0:a.value,"_blank")}},m.createElement("img",{alt:"lg",onError:function(e){return e.target.src="https://i.quotev.com/b2gtjqawaaaa.jpg"},src:null===a||void 0===a?void 0:a.value,style:{width:"30px",height:"30px",cursor:"pointer"}})):qd[e]=null!==(d=null===a||void 0===a?void 0:a.value)&&void 0!==d?d:""}));return Wd&&("rows"===(null===e||void 0===e||null===(Pd=e.options)||void 0===Pd?void 0:Pd.orientation)?m.createElement(sn.Z,{className:f.Z.mobileTable_ii,style:{width:"100%"},tableHostSimple:f.Z.tableHostSimple,columns:null!==(Ad=null===e||void 0===e||null===(Od=e.options)||void 0===Od?void 0:Od.list)&&void 0!==Ad?Ad:[],list:[qd]}):m.createElement("div",{className:f.Z.filtersContainer,style:{color:"var(--app-color-gray-light)",height:"inherit",width:"100%",display:null!==e&&void 0!==e&&e.visible?"":"none"}},m.createElement("div",{style:{color:"var(--app-color-gray-dark)"}},"Additional Information"),m.createElement("hr",{style:{margin:"20px 0",borderTop:"1px solid #D2D2D2"}}),Object.keys(qd).length>0&&(null===e||void 0===e||null===(Ld=e.options)||void 0===Ld?void 0:Ld.list.map((function(n,l){var o,i,t,d,a,u,r;if(0==Wd.component_fields.length)return m.createElement("div",{key:l,style:{width:"inherit"}});var v=Wd.component_fields.find((function(e){return e.field_name===n}));return m.createElement(y.Z,{style:{border:"0"},key:l,fieldLabel:n,fieldIcon:e.icon,isProcess:!0,visible:!0,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.notes},"Link"===(null===v||void 0===v?void 0:v.data_type_name)&&(null!==v&&void 0!==v&&null!==(i=v.value)&&void 0!==i&&i.includes("jpg")||null!==v&&void 0!==v&&null!==(t=v.value)&&void 0!==t&&t.includes("jpeg")||null!==v&&void 0!==v&&null!==(d=v.options)&&void 0!==d&&d.image||null!==v&&void 0!==v&&null!==(a=v.value)&&void 0!==a&&a.includes("png"))?m.createElement("div",{style:{width:"inherit"},onClick:function(){return window.open(null===v||void 0===v?void 0:v.value,"_blank")}},m.createElement("img",{onError:function(e){return e.target.src="https://i.quotev.com/b2gtjqawaaaa.jpg"},src:null===v||void 0===v?void 0:v.value,style:{fit:"scale-down",width:"100%",height:"auto",cursor:"pointer"}})):null!==e&&void 0!==e&&null!==(u=e.value)&&void 0!==u&&u.includes("pdf")?m.createElement("div",{style:{width:"inherit"},onClick:function(){return window.open(null===v||void 0===v?void 0:v.value,"_blank")}},m.createElement("embed",{src:"".concat(null===v||void 0===v?void 0:v.value,"#toolbar=0&navpanes=0&scrollbar=0&zoom=100%"),width:"100%",height:"1000px"})):(null===v||void 0===v||null===(r=v.value)||void 0===r?void 0:r.length)<50||void 0===v?m.createElement("input",{onBlur:function(n){return Bn(e.data_type_name,n.target.value,R,l,W)},type:e.data_type,value:v?v.value:"",autoComplete:"none",className:f.Z.fieldTypeInput,name:e.field_name,readOnly:!0,style:{width:"inherit",border:"1px dashed rgba(234, 231, 231, 0.91)",height:"40px",fontSize:"18px",backgroundColor:"rgba(234, 231, 231, 0.91)"}}):m.createElement("textarea",{className:f.Z.fieldTypeTextarea,type:e.data_type,value:v?v.value:"",onFocus:function(){},autoComplete:"none",onChange:function(e){},readOnly:!0,style:{width:"inherit",backgroundColor:"rgba(234, 231, 231, 0.91)",height:"auto",fontSize:"18px"}}))}))),!0===(null===P||void 0===P||null===(zd=P.options)||void 0===zd?void 0:zd.allowMultipleInputs)&&(null===(Rd=pe.processModule.module.options)||void 0===Rd||null===(Ud=Rd.computes)||void 0===Ud?void 0:Ud.map((function(n,l){var o,i,t=null===me||void 0===me||null===(o=me.filter((function(e){return e.module_id===n.module_id})))||void 0===o?void 0:o.find((function(n){return n.component_fields.filter((function(n){var l,o;return n.value===(null!==(l=null===(o=Wd.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.key)})))||void 0===o?void 0:o.value)&&void 0!==l?l:"#$")})).length>0})),d=null===t||void 0===t?void 0:t.component_fields.find((function(e){return e.procedure_step_blueprint_field_id===n.field_id}));return m.createElement(y.Z,{style:{display:d?"":"none",border:"0"},key:l,fieldLabel:null===d||void 0===d?void 0:d.field_name,fieldIcon:e.icon,isProcess:!0,visible:!0,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.notes},m.createElement("input",{onBlur:function(n){return Bn(e.data_type_name,n.target.value,R,l,W)},type:e.data_type,value:null===d||void 0===d?void 0:d.value,autoComplete:"none",className:f.Z.fieldTypeInput,name:e.field_name,disabled:!0,style:{border:"1px dashed rgba(234, 231, 231, 0.91)",height:"40px",fontSize:"18px",backgroundColor:"rgba(234, 231, 231, 0.91)"}}))})))))}if("Details"===(null===e||void 0===e?void 0:e.data_type_name)){var Bd,Yd,Hd,jd,Vd,Gd,Jd,Kd=null===(Bd=W.newStepComponents.find((function(n){return n.selected_fields.find((function(n){var l,o,i;return n.field_name===(null!==(l=null===(o=e.options)||void 0===o?void 0:o.field)&&void 0!==l?l:null===(i=e.options)||void 0===i?void 0:i.key)&&n.value}))})))||void 0===Bd||null===(Yd=Bd.selected_fields)||void 0===Yd?void 0:Yd.find((function(n){var l,o,i;return n.field_name===(null!==(l=null===(o=e.options)||void 0===o?void 0:o.field)&&void 0!==l?l:null===(i=e.options)||void 0===i?void 0:i.key)})),Qd=me.find((function(n){var l;return n.module_id===(null===(l=e.options)||void 0===l?void 0:l.module_id)&&n.component_fields.find((function(n){var l;return n.value===(null===Kd||void 0===Kd?void 0:Kd.value)&&n.field_name===(null===(l=e.options)||void 0===l?void 0:l.key)}))}));if(!Qd){var Xd,$d,ea=null===(Xd=W.components.find((function(n){return n.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.key)&&n.value}))})))||void 0===Xd||null===($d=Xd.selected_fields)||void 0===$d?void 0:$d.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.key)}));ea&&(Qd=me.find((function(n){var l;return n.module_id===(null===(l=e.options)||void 0===l?void 0:l.module_id)&&n.component_fields.find((function(n){var l;return n.value===(null===ea||void 0===ea?void 0:ea.value)&&n.field_name===(null===(l=e.options)||void 0===l?void 0:l.key)}))})))}return m.createElement("div",{style:{width:"100%"}},Qd?m.createElement(sn.Z,{modern:!(!Mn.tq&&null!==e&&void 0!==e&&null!==(Hd=e.options)&&void 0!==Hd&&Hd.table),tableHostSimple:f.Z.itemsContainer_ii,style:{width:"100%"},layeredColumns:null===e||void 0===e||null===(jd=e.options)||void 0===jd||null===(Vd=jd.fields)||void 0===Vd?void 0:Vd.map((function(e){return{label:e}})),list:[(null!==(Gd=null===(Jd=Qd)||void 0===Jd?void 0:Jd.component_fields)&&void 0!==Gd?Gd:[]).reduce((function(e,n){return(0,v.Z)((0,v.Z)({},e),{},(0,s.Z)({},n.field_name,n.value))}),{})]}):"No information found")}if("Calendar"===(null===e||void 0===e?void 0:e.data_type_name))return m.createElement("div",{id:e.field_name,style:{width:"inherit",marginBottom:"160px"}},m.createElement(w.zx,{light:!0,clicked:function(){var e,n;Ze(!0),(0,bn.Mk)(null!==(e=null===A||void 0===A||null===(n=A.created_by)||void 0===n?void 0:n.id)&&void 0!==e?e:ae.id,!0).pipe((0,C.q)(1)).subscribe({next:function(){Ze(!1)}})},loading:we,icon:m.createElement("img",{src:_.Fd})}),!(hl||we)&&m.createElement(kn.Scheduler,{height:1800,events:ve.length>0?null===ve||void 0===ve||null===(yd=ve.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.add_info)||void 0===n?void 0:n.module_id)===(null===(l=pe.processModule)||void 0===l?void 0:l.module_id)})))||void 0===yd?void 0:yd.map((function(e){var n,l;return{event_id:e.id,title:e.description,start:new Date(Date.parse(null===(n=e.add_info)||void 0===n?void 0:n.start)),end:null!==e&&void 0!==e&&e.completed_at?new Date(Date.parse(e.completed_at)):new Date(Date.parse(null===(l=e.add_info)||void 0===l?void 0:l.end)),admin_id:2,color:"#50b500",editable:!1,deletable:!1}})):[],navigation:!0,view:Ml,agenda:(null===A||void 0===A||null===(hd=A.created_by)||void 0===hd?void 0:hd.id)!==ae.id&&!(null===A||void 0===A||null===(gd=A.created_by)||void 0===gd||!gd.id),day:{startHour:0,endHour:24,cellRenderer:function(e){e.height,e.start,e.onClick;var n=!1,l=(0,r.Z)(e,zn);return m.createElement(w.zx,(0,u.Z)({style:{height:"100%",background:"transparent",cursor:"pointer"},clicked:function(){gl(!0),Cl(void 0)},disabled:n},l))}},month:(null===A||void 0===A||null===(bd=A.created_by)||void 0===bd?void 0:bd.id)!==ae.id&&void 0!==(null===A||void 0===A?void 0:A.created_by)?null:{cellRenderer:function(e){e.height,e.start,e.onClick;var n=!1,l=(0,r.Z)(e,Rn);return m.createElement(w.zx,(0,u.Z)({style:{height:"100%",background:"transparent",cursor:"pointer"},clicked:function(){gl(!0),Cl(void 0)},disabled:n},l))}},week:(null===A||void 0===A||null===(xd=A.created_by)||void 0===xd?void 0:xd.id)!==ae.id&&void 0!==(null===A||void 0===A?void 0:A.created_by)?null:{weekDays:[0,1,2,3,4,5],weekStartOn:6,startHour:0,endHour:25,step:60,cellRenderer:function(e){e.height;var n=e.start,l=(e.onClick,!1),o=(0,r.Z)(e,Un);return m.createElement(w.zx,(0,u.Z)({style:{height:"100%",background:"transparent",cursor:"pointer"},clicked:function(){Ie(n),gl(!0),Cl(void 0)},disabled:l},o))}},onEventClick:function(e){gl(!0),Cl(null===ve||void 0===ve?void 0:ve.find((function(n){return n.id===e.event_id})))},onViewChange:function(e){return Sl(e)}}),hl&&m.createElement(gn.Z,{modalVisible:hl,heading:null!==(Ed=null===e||void 0===e||null===(Cd=e.options)||void 0===Cd?void 0:Cd.header)&&void 0!==Ed?Ed:El?"Update Calendar":"Create New Calendar",labels:null===e||void 0===e?void 0:e.options,task:El,isProcess:!0,blured:!1,onClose:function(){return gl(!1)},isEdit:!!El,statuses:null===e||void 0===e||null===(wd=e.options)||void 0===wd?void 0:wd.list,priority:null===e||void 0===e||null===(Zd=e.options)||void 0===Zd?void 0:Zd.priority,span:null===e||void 0===e||null===(Md=e.options)||void 0===Md?void 0:Md.span,start_date:ke}));if("Lookup"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(D=e.options)||void 0===D||null===(O=D.list)||void 0===O?void 0:O.length)>0&&(null===e||void 0===e||null===(z=e.options)||void 0===z||null===(U=z.source_id)||void 0===U?void 0:U.length)>0&&null!==e&&void 0!==e&&null!==(B=e.options)&&void 0!==B&&null!==(H=B.target_id)&&void 0!==H&&H.length){var na,la,oa,ia,ta,da,aa,ua,ra,va,sa,ca,pa,ma,fa,_a,ya,ha,ga=function(e,n){var l,o;if(W){var i,t,d,a,u,r,v,s=null===(l=pe.processModule.module)||void 0===l||null===(o=l.options)||void 0===o?void 0:o.global;return s||(s=null===(i=W.components.find((function(n){return n.selected_fields.filter((function(n){return 1==n.visible&&n.field_name===e})).length>0})))||void 0===i||null===(t=i.selected_fields.find((function(n){return n.field_name===e})))||void 0===t?void 0:t.value),s||(s=null===(d=He.Z(je.Z("component_blueprints"),Ve.Z)(null!==(r=null===pe||void 0===pe||null===(v=pe.processModule)||void 0===v?void 0:v.completeSteps)&&void 0!==r?r:[]).find((function(n){return n.selected_fields.filter((function(n){return n.field_name===e&&"Value"===n.data_type_name})).length>0})))||void 0===d||null===(a=d.selected_fields.find((function(n){return n.field_name===e})))||void 0===a||null===(u=a.options)||void 0===u?void 0:u.value),s?n.filter((function(n){return n[e]===s})):n}}(null===e||void 0===e||null===(na=e.options)||void 0===na?void 0:na.global,function(e,n,l){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,t=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:me,a=d.filter((function(e){var n;return(null===(n=e.component_fields)||void 0===n?void 0:n.filter((function(e){return e.component_blueprint_id===l})).length)>0})),u=[];return d.filter((function(n){return n.component_fields.filter((function(n){return n.component_blueprint_id===e})).length>0})).map((function(e){var l={};o.map((function(n){var o;l[n]=null===(o=e.component_fields.find((function(e){return e.field_name===n})))||void 0===o?void 0:o.value}));var d=e.component_fields.find((function(e){return e.field_name===n}));void 0!==d&&a.filter((function(e){return e.component_fields.filter((function(e){return e.value===d.value&&e.field_name===n})).length>0})).map((function(n){var o,d,a,r=null!==(o=null===(d=n.component_fields.find((function(e){return-1!==t.indexOf(e.field_name)})))||void 0===d?void 0:d.value)&&void 0!==o?o:"",s={};t.length>0&&t.map((function(e){var l=n.component_fields.find((function(n){return n.field_name===e}));l&&(s[e]=l.value)}));var p={};i.length>0&&i.map((function(l){var o=n.component_fields.find((function(e){return e.field_name===l}));if(o)p[l]=o.value;else{var i=e.component_fields.find((function(e){return e.field_name===l}));i&&(p[l]=i.value)}})),u=[].concat((0,c.Z)(u),[(0,v.Z)((0,v.Z)((0,v.Z)({label:r,value:n.id,field:n,grouping:(null===(a=Object.values(l))||void 0===a?void 0:a.length)>0?Object.values(l)[0]:"Fields"},l),p),s)])}))})),u}(null===e||void 0===e||null===(la=e.options)||void 0===la?void 0:la.source_id,null===e||void 0===e||null===(oa=e.options)||void 0===oa?void 0:oa.common_field,null===e||void 0===e||null===(ia=e.options)||void 0===ia?void 0:ia.target_id,null===e||void 0===e||null===(ta=e.options)||void 0===ta?void 0:ta.sourceLabel,null===e||void 0===e||null===(da=e.options)||void 0===da?void 0:da.list,null!==(aa=null===e||void 0===e||null===(ua=e.options)||void 0===ua?void 0:ua.rlist)&&void 0!==aa?aa:[]));return m.createElement(m.Fragment,null,m.createElement("div",{id:e.field_name,style:{width:"100%",border:"Dropdown"===(null===e||void 0===e||null===(ra=e.options)||void 0===ra?void 0:ra.selection)?"1px solid var(--app-color-gray-light)":"none"}},"Dropdown"===(null===e||void 0===e||null===(va=e.options)||void 0===va?void 0:va.selection)?m.createElement(Ye.yV,{items:ga,groupedBy:"grouping",groupname:"grouping",triggerType:"chevron",title:qe,className:f.Z.dropdownClassContainer,inputClassName:f.Z.peoplePositionsSelectInput,molclassname:f.Z.peoplePositionsSelectMenuOverlay,moliclassname:f.Z.peoplePositionsSelectMenuOverlayItem,notags:"true",onChange:function(l){var o;l.length>0&&(null===e||void 0===e||null===(o=e.options)||void 0===o||o.list.map((function(n){var o=Bl({field_name:n});if(-1!=o){var i=me.find((function(e){return e.id===l[0].value})),t=i.component_fields.find((function(e){return e.field_name===n}));if(void 0==t){var d=i.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.common_field)})),a=me.find((function(n){return n.component_fields.filter((function(n){var l;return n.value===d.value&&n.component_blueprint_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.source_id)})).length>0}));if(void 0!=a){var u=a.component_fields.find((function(e){return e.field_name===n}));void 0!=u?(P.selected_fields[o].value=u.value,P.selected_fields[o].disabled=!0):P.selected_fields[o].value=""}else P.selected_fields[o].value=""}else P.selected_fields[o].value=t.value,P.selected_fields[o].disabled=!0}})),F("".concat(l[0].label,",").concat(l[0].value),n),xn("".concat(l[0].grouping)))}}):"Tiles"===(null===e||void 0===e||null===(sa=e.options)||void 0===sa?void 0:sa.selection)?m.createElement(Ye.qq,{items:ga,columns:null===e||void 0===e||null===(ca=e.options)||void 0===ca?void 0:ca.rlist,columnsG:null!==(pa=null===e||void 0===e||null===(ma=e.options)||void 0===ma?void 0:ma.sourceLabel)&&void 0!==pa?pa:[],initialSelected:null===e||void 0===e?void 0:e.value,selectedItems:null!==e&&void 0!==e&&null!==(fa=e.options)&&void 0!==fa&&fa.showAll?ga:Wn,showAll:1==(null===e||void 0===e||null===(_a=e.options)||void 0===_a?void 0:_a.showAll),groupedBy:"grouping",groupname:"grouping",className:f.Z.peoplePositionsSelect,onGroupChange:function(e){Hn(ga.filter((function(n){return n.grouping===e})))},onChange:function(l){var o;l&&(null===e||void 0===e||null===(o=e.options)||void 0===o||o.list.map((function(n){var o=Bl({field_name:n});if(-1!=o){var i=me.find((function(e){return e.id===l.value})),t=i.component_fields.find((function(e){return e.field_name===n}));if(void 0==t){var d=i.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.common_field)})),a=me.find((function(n){return n.component_fields.filter((function(n){var l;return n.value===d.value&&n.component_blueprint_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.source_id)})).length>0}));if(void 0!=a){var u=a.component_fields.find((function(e){return e.field_name===n}));void 0!=u?(P.selected_fields[o].value=u.value,P.selected_fields[o].disabled=!0):P.selected_fields[o].value=""}else P.selected_fields[o].value=""}else P.selected_fields[o].value=t.value,P.selected_fields[o].disabled=!0}})),F("".concat(l.label,",").concat(l.value),n))}}):m.createElement("div",{className:f.Z.openSelectWithSearchHost},m.createElement(vn.Z,{title:null===e||void 0===e||null===(ya=e.options)||void 0===ya?void 0:ya.sourceLabel,triggerType:"eyeglass",className:f.Z.openSelectWithSearch,molclassname:f.Z.menuOverlayList,moliclassname:f.Z.menuOverlayListItem,inputClassName:f.Z.menuOverlayListItemInput,inputContainerClassName:f.Z.menuOverlayListItemInputContainerClassName,items:Je.Z(Ke.Z("grouping"))(ga).map((function(e){return{label:e.grouping,value:e.grouping}})),onChange:function(n){document.getElementById(e.field_name).style.height="80px",Hn(ga.filter((function(e){return e.grouping===n.value})))}}),m.createElement(vn.Z,{title:null===e||void 0===e||null===(ha=e.options)||void 0===ha?void 0:ha.referenceLabel,triggerType:"eyeglass",className:f.Z.openSelectWithSearch,molclassname:f.Z.menuOverlayList,moliclassname:f.Z.menuOverlayListItem,inputClassName:f.Z.menuOverlayListItemInput,inputContainerClassName:f.Z.menuOverlayListItemInputContainerClassName,items:Wn,onChange:function(l){var o;(document.getElementById(e.field_name).style.height="80px",l)&&(null===e||void 0===e||null===(o=e.options)||void 0===o||o.list.map((function(n){var o=Bl({field_name:n});if(-1!=o){var i=me.find((function(e){return e.id===l.value})),t=i.component_fields.find((function(e){return e.field_name===n}));if(void 0==t){var d=i.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.common_field)})),a=me.find((function(n){return n.component_fields.filter((function(n){var l;return n.value===d.value&&n.component_blueprint_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.source_id)})).length>0}));if(void 0!=a){var u=a.component_fields.find((function(e){return e.field_name===n}));void 0!=u?(P.selected_fields[o].value=u.value,P.selected_fields[o].disabled=!0):P.selected_fields[o].value=""}else P.selected_fields[o].value=""}else P.selected_fields[o].value=t.value,P.selected_fields[o].disabled=!0}})),F("".concat(l.label,",").concat(l.value),n))}}))))}if(("Step List"===(null===e||void 0===e?void 0:e.data_type_name)||"Component List"===(null===e||void 0===e?void 0:e.data_type_name))&&(null===e||void 0===e||null===(V=e.options)||void 0===V||null===(J=V.list)||void 0===J?void 0:J.length)>0&&(null===e||void 0===e||null===(Q=e.options)||void 0===Q||null===($=Q.component_id)||void 0===$?void 0:$.length)>0)return m.createElement("div",{style:{width:"100%",display:1==e.visible?"":"none",padding:Mn.tq?"0":"50px"}},m.createElement(We.default,{columns:["No"].concat(null===e||void 0===e||null===(Sd=e.options)||void 0===Sd?void 0:Sd.list),list:(lo=null===e||void 0===e?void 0:e.options,W.components.filter((function(e){return e.id===lo.component_id})).map((function(e,n){return null===lo||void 0===lo?void 0:lo.list.reduce((function(l,o){var i;return(0,v.Z)((0,v.Z)({},l),{},(i={},(0,s.Z)(i,o,e.selected_fields.find((function(e){return e.field_name===o})).value),(0,s.Z)(i,"temp_id",e.temp_id),(0,s.Z)(i,"No",n+1),i))}),{})}))),onListItemClick:function(e){le(e),P.selected_fields.map((function(n,l){"output"!==n.data_type&&("Text"===n.data_type_name||"Date"===n.data_type_name||"Number"===n.data_type_name||"Link"===n.data_type_name?L(e[n.field_name],l):F(e[n.field_name],l),n.value=e[n.field_name],n.field.value=e[n.field_name])}))}}));if("Checkbox"===(null===e||void 0===e?void 0:e.data_type_name))return m.createElement("div",{style:{display:"flex",fontWeight:"normal",width:"100%",paddingTop:"20px"}},(null===e||void 0===e||null===(kd=e.options)||void 0===kd?void 0:kd.landscape)&&(null===e||void 0===e||null===(Id=e.options)||void 0===Id?void 0:Id.value),m.createElement(cn.X,{defaultChecked:null!==(Nd=e.value)&&void 0!==Nd&&Nd,onChange:function(e){F(e.target.checked,n)}}),!(null!==e&&void 0!==e&&null!==(Td=e.options)&&void 0!==Td&&Td.landscape)&&(null===e||void 0===e||null===(Dd=e.options)||void 0===Dd?void 0:Dd.value));if("Module"===(null===e||void 0===e?void 0:e.data_type_name)&&null!==(ne=e.options)&&void 0!==ne&&ne.module_id){var ba,xa,Ea=se.find((function(n){return n.id===e.options.module_id}));return m.createElement(m.Fragment,null,m.createElement("div",{style:{width:"inherit"}},m.createElement("div",{className:f.Z.iconsContainer,style:{display:"flex",alignContent:"space-between",justifyContent:"space-between",width:"100%"}},m.createElement(w.zx,{light:!0,title:null===e||void 0===e?void 0:e.field_name,message:"Preparing ".concat(Ea.name," entry..."),loading:we,clicked:function(){Ze(!0),(0,Tn.zJ)(Ea.procedure.id).pipe((0,E.P)()).subscribe({next:function(n){var l;if(null!==e&&void 0!==e&&null!==(l=e.options)&&void 0!==l&&l.cmp){var o,i,t,d,a=null===n||void 0===n||null===(o=n.steps)||void 0===o?void 0:o.find((function(e){return e.component_blueprints.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.allowMultipleInputs)&&(null===(l=e.selected_fields)||void 0===l?void 0:l.find((function(e){return"Transaction List"===e.data_type_name})))})).length>0})),u=null===a||void 0===a||null===(i=a.component_blueprints)||void 0===i?void 0:i.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){return"Transaction List"===e.data_type_name&&!0===e.visible})).length)>0})),r=null===u||void 0===u||null===(t=u.selected_fields)||void 0===t?void 0:t.filter((function(e){var n;return null===(n=e.options)||void 0===n?void 0:n.mapToItem})).reduce((function(e,n){var l,o=Qe.Z(Xe.Z("field_name",n.field_name),Ve.Z(je.Z("selected_fields",W.components.concat(W.newStepComponents))));return o&&(null===o||void 0===o?void 0:o.data_type_name)===n.data_type_name?(0,v.Z)((0,v.Z)({},e),{},(0,s.Z)({},null===(l=n.options)||void 0===l?void 0:l.mapToItem,o.value)):e}),{});if(Object.values(r).length>0)(0,h.r6)(null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.cmp).pipe((0,E.P)()).subscribe({next:function(l){var o,i;(0,h.np)((0,v.Z)((0,v.Z)({},r),{},{index:null===(o=l.component_items)||void 0===o?void 0:o.length,id:(0,S.mR)()}),null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.cmp).pipe((0,E.P)()).subscribe({next:function(o){Ze(!1),Nn.h.dispatch((0,Re.q4)((0,v.Z)((0,v.Z)({},n),{},{completeSteps:n.steps,steps:n.steps,stepIndex:0,module_id:e.options.module_id,module:se.find((function(n){return n.id===e.options.module_id})),selectedComponent:l}))),q({action:k._U.setModuleItems,value:[]}),q({action:k._U.setModuleNewStepComponents,value:[]}),q({action:k._U.setComponents,value:[]})},error:function(){}})},error:function(){}});else Ze(!1)}else Ze(!1),W.components=[],W.newStepComponents=[],e.options.fields.filter((function(e){var l,o,i=null===(l=A.component_fields.find((function(n){return n.field_name===e})))||void 0===l?void 0:l.value;null===(o=n.steps)||void 0===o||o.forEach((function(n){var l;null===n||void 0===n||null===(l=n.component_blueprints)||void 0===l||l.filter((function(e){var n;return!(null!==(n=e.options)&&void 0!==n&&n.asModuleList)})).forEach((function(n){var l=n.selected_fields.find((function(n){return n.field_name===e&&1==n.visible}));l&&(l.value=i)})),n.component_blueprints.find((function(n){return n.selected_fields.filter((function(n){return n.field_name===e})).length>0}))&&q({action:k._U.addNewComponent,value:n.component_blueprints.filter((function(n){return n.selected_fields.filter((function(n){return n.field_name===e})).length>0}))})}))})),Nn.h.dispatch((0,Re.q4)((0,v.Z)((0,v.Z)({},n),{},{completeSteps:n.steps,steps:n.steps,stepIndex:1,module_id:e.options.module_id,module:se.find((function(n){return n.id===e.options.module_id}))}))),q({action:k._U.setCurrentStep,value:n.steps[1]}),q({action:k._U.setModuleItems,value:[]}),Dl("/begin-module")}})}}),(null===e||void 0===e||null===(ba=e.options)||void 0===ba?void 0:ba.showL)&&m.createElement(w.zx,{light:!0,clicked:function(){Ze(!0),be.componentsByModule[Ea.name]=0,(0,Cn.vC)(Ea,S.Qc,S.R6,1).pipe((0,C.q)(1)).subscribe({next:function(e){var n;be.componentsByModule[Ea.name]=(0,un.now)(),Ea.lastUpdate=(0,un.now)(),Ea.count=null!==(n=null===e||void 0===e?void 0:e.total)&&void 0!==n?n:0,Ze(!1)},complete:function(){},error:function(){return Ze(!1)}})},icon:m.createElement("img",{src:_.Fd}),loading:we,message:"Fetching ".concat(Ea.name,"...")})),(null===e||void 0===e||null===(xa=e.options)||void 0===xa?void 0:xa.showL)&&m.createElement(We.default,{modern:!!Mn.tq,className:f.Z.itemsContainer,columns:["Transaction","Date Created","Status"],list:$e.Z([en.Z(nn.Z("created_date"))])(me.filter((function(e){return e.module_id===Ea.id}))).filter((function(n){var l,o,i,t=null===(l=Qe.Z(Xe.Z("field_name",null!==(o=null===(i=e.options)||void 0===i?void 0:i.key)&&void 0!==o?o:""),Ve.Z(je.Z("selected_fields",W.components))))||void 0===l?void 0:l.value;return n.component_fields.find((function(n){var l;return n.value===t&&n.field_name===(null===(l=e.options)||void 0===l?void 0:l.key)}))})).map((function(e){var n;return n={id:e.id,Transaction:e.title},(0,s.Z)(n,"Date Created","".concat(rn()(new Date(e.created_date)).format("DD MMM YYYY h:mm a"))),(0,s.Z)(n,"Status",e.status),n})),onCellClick:function(n){var l;if(null!==e&&void 0!==e&&null!==(l=e.options)&&void 0!==l&&l.viewable){var o=me.find((function(e){return e.id===n.data.id})),i=xe.find((function(e){return e.id===Ea.procedure.id&&e.steps.length>0}));i?((0,h.DA)(i,o,void 0,q,se,"New"===o.status||"None"===o.status||"Reopen"===o.status||ae.id===i.user_id?1:0),Dl("/begin-module")):(0,Tn.zJ)(Ea.procedure.id).pipe((0,E.P)()).subscribe({next:function(e){(0,h.DA)(e,me.find((function(e){return e.id===n.data.id})),void 0,q,se,"New"===o.status||"None"===o.status||"Reopen"===o.status||ae.id===i.user_id?1:0),Dl("/begin-module")}})}}})))}if("Transaction List"===(null===e||void 0===e?void 0:e.data_type_name)&&null!==e&&void 0!==e&&null!==(oe=e.options)&&void 0!==oe&&oe.simple){var Ca,wa,Za,Ma,Sa,ka,Ia,Na,Ta=$e.Z([ln.Z(nn.Z("index"))])(null!==(Ca=null!==e&&void 0!==e&&null!==(wa=e.options)&&void 0!==wa&&wa.type?W.items.filter((function(n){var l;return n.type===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.type)})):W.items)&&void 0!==Ca?Ca:[]);return m.createElement(sn.Z,{tableStyle:{marginBottom:W.items.find((function(e){return e.edit}))?"160px":"0"},style:{width:"100%",border:"0"},modern:!(!Mn.tq&&"vertical"!==(null===e||void 0===e||null===(Za=e.options)||void 0===Za?void 0:Za.table)),tableHostSimple:f.Z.itemsContainer_ii,layeredColumns:null===P||void 0===P||null===(Ma=P.selected_fields)||void 0===Ma?void 0:Ma.filter((function(e){var n;return null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem})).map((function(e){var n,l;return null!==(n=e.options)&&void 0!==n&&n.group?{label:null===(l=e.options)||void 0===l?void 0:l.group,subColumns:[{label:e.field_name}]}:{label:e.field_name}})).concat([{label:"Actions"}]),list:null===Ta||void 0===Ta?void 0:Ta.map((function(n,l){var o,i,t={index:l,Actions:m.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",minWidth:"80px",margin:null!==n&&void 0!==n&&n.edit?"0":"20px 10px",maxWidth:"120px"}},!(null!==n&&void 0!==n&&n.edit)&&m.createElement(he.G,{icon:ge.IwR,onClick:function(){n.edit=!0,q({action:k._U.setModuleItems,value:W.items})}}),(null===n||void 0===n?void 0:n.edit)&&m.createElement(he.G,{icon:ge.EsX,onClick:function(){var l;n.edit=!1,q({action:k._U.setModuleItems,value:W.items}),null!==A&&void 0!==A&&A.id&&null!==e&&void 0!==e&&null!==(l=e.options)&&void 0!==l&&l.asap&&(0,h.np)(n,A.id).subscribe({})}}),(null===n||void 0===n?void 0:n.edit)&&m.createElement(he.G,{icon:ge.$aW,onClick:function(){q({action:k._U.setModuleItems,value:W.items.filter((function(e){return e.id!==n.id})).map((function(e,n){return(0,v.Z)((0,v.Z)({},e),{},{index:n})}))})}}))};return(null!==(o=null===P||void 0===P||null===(i=P.selected_fields)||void 0===i?void 0:i.filter((function(e){var n;return null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem})))&&void 0!==o?o:[]).forEach((function(e){var o,i,d,a=(0,S.sO)(n[e.options.mapToItem])?JSON.parse(null!==(o=n[e.options.mapToItem])&&void 0!==o?o:"{}"):{};t[e.field_name]=m.createElement("div",{style:{padding:"0"}},m.createElement(Vl,{item:n,index:l,enabled:!0,edit:null!==(i=null===n||void 0===n?void 0:n.edit)&&void 0!==i&&i,isItem:!0,field:(0,v.Z)((0,v.Z)({},e),{},{visible:!0,value:null!==(d=a[e.field_name])&&void 0!==d?d:""}),withLabel:!1,handleItem:function(l,o){a[e.field_name]=l,n[e.options.mapToItem]=JSON.stringify(a),q({action:k._U.setModuleItems,value:[].concat((0,c.Z)(W.items.filter((function(e){return e.id!==n.id}))),[n])})}}))})),t})),footer:null!==(Sa=e.options)&&void 0!==Sa&&Sa.footer?null===P||void 0===P||null===(ka=P.selected_fields)||void 0===ka?void 0:ka.filter((function(e){var n;return null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem})).map((function(n,l){var o,i;return null!==n&&void 0!==n&&null!==(o=n.options)&&void 0!==o&&o.footer?m.createElement("div",{style:{margin:"20px 0"}},Gl(null!==e&&void 0!==e&&null!==(i=e.options)&&void 0!==i&&i.type?W.items.filter((function(n){var l;return n.type===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.type)})):W.items,n,e)):0===l?"Totals:":""})).concat([""]):[]},(null===P||void 0===P||null===(Ia=P.options)||void 0===Ia?void 0:Ia.allowMultipleInputs)&&m.createElement("div",{className:f.Z.iconsContainer,style:{display:"flex",justifyContent:"space-between"}},m.createElement(w.zx,{light:!0,style:{width:"32px"},clicked:function(){var n,l;q({action:k._U.setModuleItems,value:[].concat((0,c.Z)(W.items),[{id:(0,S.mR)(),item_code:"",value:"",alt_value:"",quantity:"",total:"",type:null!==(n=null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.type)&&void 0!==n?n:"",edit:!0,index:W.items.length}])})}},m.createElement(_.mm,null)),(null===(Na=e.options)||void 0===Na?void 0:Na.export)&&Wl(null===A||void 0===A?void 0:A.component_items,["item_code","quantity","value","alt_value","total"])))}if("Transaction List"!==(null===e||void 0===e?void 0:e.data_type_name)||null===e||void 0===e||null===(de=e.options)||void 0===de||!de.map||null!==e&&void 0!==e&&null!==(ue=e.options)&&void 0!==ue&&ue.simple){if("ID"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Ee=e.options)||void 0===Ee||null===(Ce=Ee.id)||void 0===Ce?void 0:Ce.length)>0){var Da,Pa=void 0===e.value||null===e.value?"".concat(null===e||void 0===e?void 0:e.options.id).concat(null===(null===fe||void 0===fe?void 0:fe.misc_info)?1:null!==(Da=null===fe||void 0===fe?void 0:fe.misc_info[null===e||void 0===e?void 0:e.field_name])&&void 0!==Da?Da:1):e.value;return e.value=Pa,e.field.value=Pa,W.id=Pa,m.createElement("input",{onBlur:function(l){return Bn(e.data_type_name,l.target.value,R,n,W)},type:e.data_type,autoComplete:"none",value:Pa,className:f.Z.fieldTypeID,name:e.field_name,disabled:!0})}var Aa,Oa,La,za,Ra,Ua,Fa,Wa,qa,Ba,Ya,Ha,ja,Va,Ga,Ja,Ka,Qa,Xa,$a,eu,nu,lu,ou,iu,tu,du,au,uu,ru,vu,su,cu,pu,mu,fu,_u,yu,hu,gu,bu,xu,Eu,Cu,wu,Zu,Mu,Su,ku,Iu;if("Value Button"===(null===e||void 0===e?void 0:e.data_type_name))return m.createElement(We.default,{rowStyleSelected:{border:null!==e&&void 0!==e&&e.value?"2px solid black":"1px dashed black"},initialSelected:(null===(Aa=e.options)||void 0===Aa?void 0:Aa.value)===(null===e||void 0===e?void 0:e.value)?0:void 0,modern:!0,isReport:!1,"app-variant-is-mobile":"true",columns:["Name","Description","Image"],list:[{Name:null===(Oa=e.options)||void 0===Oa?void 0:Oa.label,Description:null!==(La=null===e||void 0===e||null===(za=e.options)||void 0===za?void 0:za.notes)&&void 0!==La?La:e.field_name,Image:null===(Ra=e.options)||void 0===Ra?void 0:Ra.image}],onListItemClick:function(){var l;null!==e&&void 0!==e&&e.value?L(void 0,n):(null===P||void 0===P||null===(l=P.selected_fields)||void 0===l||l.filter((function(e){return"Value Button"===(null===e||void 0===e?void 0:e.data_type_name)})).map((function(e){e.value=void 0})),L(e.options.value,n))}});if("Notes"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Me=e.options)||void 0===Me||null===(Se=Me.value)||void 0===Se?void 0:Se.length)>0)return m.createElement("p",{key:n,className:f.Z.labelInput,style:{width:"100%",marginTop:"10px"}},"".concat(null===e||void 0===e||null===(Ua=e.options)||void 0===Ua?void 0:Ua.value));if("List Filter"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Ne=e.options)||void 0===Ne||null===(Te=Ne.value)||void 0===Te?void 0:Te.length)>0)return m.createElement(m.Fragment,null);if("Value"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(De=e.options)||void 0===De||null===(Pe=De.module_id)||void 0===Pe?void 0:Pe.length)>0&&(null===e||void 0===e||null===(Ae=e.options)||void 0===Ae||null===(ze=Ae.component_id)||void 0===ze?void 0:ze.length)>0)return m.createElement(m.Fragment,null,!0===(null===e||void 0===e||null===(Fa=e.options)||void 0===Fa?void 0:Fa.chart)?m.createElement(wn.Z,{title:e.field_name,series:null===(Wa=P.selected_fields[n])||void 0===Wa||null===(qa=Wa.value)||void 0===qa?void 0:qa.split(",").map((function(e){return+e})),labels:null!==e&&void 0!==e&&null!==(Ba=e.options)&&void 0!==Ba&&Ba.notes?null===e||void 0===e||null===(Ya=e.options)||void 0===Ya||null===(Ha=Ya.notes)||void 0===Ha?void 0:Ha.split(","):["To accomplish","Done"]}):m.createElement("input",{value:null===e||void 0===e||null===(ja=e.options)||void 0===ja?void 0:ja.value,className:f.Z.fieldTypeInput,name:e.field_name,disabled:!0}));if("URL"===e.data_type_name)return m.createElement(m.Fragment,null,null!==e&&void 0!==e&&null!==(Va=e.options.value)&&void 0!==Va&&Va.includes("jpg")||null!==e&&void 0!==e&&null!==(Ga=e.options.value)&&void 0!==Ga&&Ga.includes("jpeg")||null!==e&&void 0!==e&&null!==(Ja=e.options)&&void 0!==Ja&&Ja.image||null!==e&&void 0!==e&&null!==(Ka=e.options.value)&&void 0!==Ka&&Ka.includes("png")?m.createElement("div",{onClick:function(){return window.open(null===e||void 0===e?void 0:e.options.value,"_blank")}},m.createElement("img",{alt:"lg",onError:function(e){return e.target.src="https://i.quotev.com/b2gtjqawaaaa.jpg"},src:null===e||void 0===e?void 0:e.options.value,style:{width:"100%",height:"100%",cursor:"pointer"}})):null!==e&&void 0!==e&&null!==(Qa=e.options.value)&&void 0!==Qa&&Qa.includes("pdf")?m.createElement("div",{style:{width:"inherit"},onClick:function(){return window.open(null===e||void 0===e?void 0:e.options.value,"_blank")}},m.createElement("embed",{src:"".concat(null===e||void 0===e?void 0:e.options.value,"#toolbar=0&navpanes=0&scrollbar=0&zoom=100%"),width:"100%",height:"1000px"})):m.createElement("div",{style:{width:"inherit"},onClick:function(){return window.open(null===e||void 0===e?void 0:e.options.value,"_blank")}},m.createElement("textarea",{disabled:!0,onChange:function(){},autoComplete:"none",value:null===(null===e||void 0===e?void 0:e.options.value)?"":null===e||void 0===e?void 0:e.options.value,className:f.Z.fieldTypeInput,style:{height:"auto",width:"inherit",cursor:"pointer"},name:e.field_name})));if("Chart"===e.data_type_name){var Nu,Tu,Du,Pu,Au,Ou,Lu,zu,Ru,Uu,Fu,Wu,qu,Bu,Yu,Hu,ju=null===(Nu=W.newStepComponents.find((function(n){return n.id===e.options.component_id})))||void 0===Nu||null===(Tu=Nu.selected_fields.find((function(n){return n.field_name===e.options.key})))||void 0===Tu?void 0:Tu.value,Vu=null!==(Du=null===e||void 0===e||null===(Pu=e.options)||void 0===Pu?void 0:Pu.config)&&void 0!==Du?Du:S.HR,Gu=[],Ju=[];if(me.filter((function(n){return n.module_id===(null===e||void 0===e?void 0:e.module_id)})).filter((function(n){var l,o=(null!==(l=null===n||void 0===n?void 0:n.component_fields)&&void 0!==l?l:[]).find((function(n){return n.field_name===(null===e||void 0===e?void 0:e.options.key)}));o&&(Ju=[].concat((0,c.Z)(Ju),[o.value]))})),"Line"===(null===e||void 0===e||null===(Au=e.options)||void 0===Au?void 0:Au.orientation)||"area"===(null===Vu||void 0===Vu||null===(Ou=Vu.chart)||void 0===Ou?void 0:Ou.type)||"Column"===(null===e||void 0===e||null===(Lu=e.options)||void 0===Lu?void 0:Lu.orientation)||"bar"===(null===Vu||void 0===Vu||null===(zu=Vu.chart)||void 0===zu?void 0:zu.type))(0,c.Z)(new Set(Ju)).map((function(e){Gu=[].concat((0,c.Z)(Gu),[{name:e,data:[]}])}));else if("Donut"===(null===e||void 0===e||null===(Ru=e.options)||void 0===Ru?void 0:Ru.orientation)||"donut"===(null===Vu||void 0===Vu||null===(Uu=Vu.chart)||void 0===Uu?void 0:Uu.type)){var Ku,Qu,Xu;Gu=ju?null===ju||void 0===ju?void 0:ju.split(",").map((function(e){return+e})):(0,c.Z)(new Set(Ju)).map((function(n){var l,o,i,t,d;return"occurences"===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.operation)?Ju.filter((function(e){return e===n})).length:null!==e&&void 0!==e&&null!==(o=e.options)&&void 0!==o&&o.items?null===(t=He.Z(je.Z("component_items"),Ve.Z)(me.filter((function(l){return l.module_id===e.module_id&&l.component_fields.find((function(l){return l.field_name===e.options.key&&l.value===n}))}))).map((function(n){var l;return+n[null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.items[0]]})))||void 0===t?void 0:t.reduce((function(e,n){return e+n}),0):null!==e&&void 0!==e&&null!==(i=e.options)&&void 0!==i&&i.list?null===(d=He.Z(je.Z("component_fields"),Ve.Z)(me.filter((function(l){return l.module_id===e.module_id&&l.component_fields.find((function(l){return l.field_name===e.options.key&&l.value===n}))}))).map((function(n){return n.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.list[0])})).value})))||void 0===d?void 0:d.reduce((function(e,n){return e+ +n}),0):0})),Vu.labels=null!==e&&void 0!==e&&null!==(Ku=e.options)&&void 0!==Ku&&Ku.notes?null===e||void 0===e||null===(Qu=e.options)||void 0===Qu||null===(Xu=Qu.notes)||void 0===Xu?void 0:Xu.split(","):(0,c.Z)(new Set(Ju)),Vu.plotOptions.pie.donut.labels.total.label=e.field_name}return m.createElement(m.Fragment,null,ju&&m.createElement("div",{className:"grid grid-cols-12 gap-4 md:gap-6 2xl:gap-7.5",style:{display:"flex",width:"inherit",border:"1px dashed gray",justifyContent:"center",padding:"20px 0"}},m.createElement(Zn.Z,{config:Vu,type:null!==(Fu=null===Vu||void 0===Vu||null===(Wu=Vu.chart)||void 0===Wu?void 0:Wu.type)&&void 0!==Fu?Fu:"",orientation:null===e||void 0===e||null===(qu=e.options)||void 0===qu?void 0:qu.orientation,series:Gu,title:e.field_name,labels:null!==e&&void 0!==e&&null!==(Bu=e.options)&&void 0!==Bu&&Bu.notes?null===e||void 0===e||null===(Yu=e.options)||void 0===Yu||null===(Hu=Yu.notes)||void 0===Hu?void 0:Hu.split(","):["Target","Actual"]})))}if("Item Formula"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Ue=e.options)||void 0===Ue||null===(Sn=Ue.operator)||void 0===Sn?void 0:Sn.length)>0&&!1===ie&&null!==e&&void 0!==e&&e.visible)return null;if("Formula"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Dn=e.options)||void 0===Dn||null===(Pn=Dn.operator)||void 0===Pn?void 0:Pn.length)>0&&!1===ie&&null!==e&&void 0!==e&&e.visible){var $u,er,nr,lr,or,ir=W.newStepComponents.filter((function(e){return null===e.options||(void 0===e.allowMultipleInputs||!1===e.options.allowMultipleInputs)})),tr=(0,S.LV)(null===e||void 0===e?void 0:e.options,P.selected_fields.filter((function(n){return e.options.list.includes(n.field_name)&&!n.options.mapToItem})),[].concat((0,c.Z)(W.components.filter((function(e){return ir.every((function(n){return n.id!==e.id}))}))),(0,c.Z)(Ge.Z((function(e){return e.selected_fields.filter((function(e){return""===e.value})).length>0}),ir))),null!==($u=null===W||void 0===W?void 0:W.items)&&void 0!==$u?$u:[],null!==(er=null===W||void 0===W?void 0:W.newStepComponents)&&void 0!==er?er:[]);return void 0!==tr&&(e.value=tr,e.field.value=tr),"bar"===(null===e||void 0===e||null===(nr=e.options)||void 0===nr?void 0:nr.display)?m.createElement("div",{style:{display:"flex",height:"30px",width:"100%"}},m.createElement("div",{style:{height:"30px",width:"100%",backgroundColor:null===e||void 0===e||null===(lr=e.options)||void 0===lr?void 0:lr.maxC,display:"flex",flexDirection:"column"}},m.createElement("input",{value:tr||0,className:f.Z.fieldTypeInput,name:e.field_name,disabled:!0,style:{color:"transparent",height:"30px",width:"".concat(+tr/+e.options.max*100,"%"),backgroundColor:null===e||void 0===e||null===(or=e.options)||void 0===or?void 0:or.barC}})),m.createElement("label",{className:f.Z.fieldTypeInput,style:{width:"2%"}},"".concat(+tr/+e.options.max*100,"%"))):m.createElement("input",{value:tr||0,className:f.Z.fieldTypeInput,name:e.field_name,disabled:!0,style:{border:"1px solid var(--app-color-gray-light)"}})}if("Radio"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(An=e.options)||void 0===An||null===(Ln=An.list)||void 0===Ln?void 0:Ln.length)>0)return m.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-light)",padding:"20px",fontSize:"16px",display:"flex",flexDirection:"column",marginTop:"10px"}},null===e||void 0===e||null===(Xa=e.options)||void 0===Xa?void 0:Xa.list.map((function(l,o){return m.createElement("div",{key:o,style:{display:"flex",padding:"20px 0"}},m.createElement("input",{style:{margin:"0 20px"},type:"radio",id:l,name:e.field_name,value:l,checked:(null===e||void 0===e?void 0:e.value)===l,onChange:function(e){var l;return F(null===(l=e.target)||void 0===l?void 0:l.value,n)}}),m.createElement("label",{htmlFor:l,for:l},l))})));if("Dropdown"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Fn=e.options)||void 0===Fn||null===(jn=Fn.list)||void 0===jn?void 0:jn.length)>0)return m.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-light)"}},m.createElement(b.Z,{key:n,visible:e.visible,mandatory:e.mandatory,items:null===e||void 0===e||null===($a=e.options)||void 0===$a?void 0:$a.list.map((function(e){return{label:e,value:e}})),className:f.Z.dropdownClassContainer,error:e.errors,onClicked:function(e){return al(e?"180px":"50px")},onChange:function(e){al("50px"),F(e,n)},selectionType:null===e||void 0===e||null===(eu=e.options)||void 0===eu?void 0:eu.type,fieldIcon:e.icon,backgroundColor:null!==e&&void 0!==e&&null!==(nu=e.options)&&void 0!==nu&&nu.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(lu=e.options)||void 0===lu?void 0:lu.valueC:"",value:void 0===e.value||null===e.value?"":e.value}));if("Dropdown"===(null===e||void 0===e?void 0:e.data_type_name)&&"modules"===(null===e||void 0===e||null===(Vn=e.options)||void 0===Vn?void 0:Vn.type))return m.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-light)"}},m.createElement(b.Z,{key:n,visible:e.visible,mandatory:e.mandatory,items:se.map((function(e){return{label:e.name,value:e.id}})),className:f.Z.dropdownClassContainer,error:e.errors,onClicked:function(e){return al(e?"180px":"50px")},onChange:function(e){al("50px"),F(e,n)},selectionType:null===e||void 0===e||null===(ou=e.options)||void 0===ou?void 0:ou.type,fieldIcon:e.icon,backgroundColor:null!==e&&void 0!==e&&null!==(iu=e.options)&&void 0!==iu&&iu.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(tu=e.options)||void 0===tu?void 0:tu.valueC:"",value:void 0===e.value||null===e.value?"":null===(du=se.map((function(e){return{label:e.name,value:e.id}})).find((function(n){return n.value===e.value})))||void 0===du?void 0:du.label}));if("Payments"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Kn=e.options)||void 0===Kn||null===(Qn=Kn.list)||void 0===Qn?void 0:Qn.length)>0)return m.createElement("div",{style:{width:"100%",border:"0px solid var(--app-color-gray-dark)",pointerEvents:!0===(null===pe||void 0===pe||null===(au=pe.processModule)||void 0===au?void 0:au.isUpdating)?"none":""}},null!==A&&void 0!==A&&null!==(uu=A.payments)&&void 0!==uu&&uu.stripe_id?m.createElement("div",{style:{padding:"10px 5px 10px 5px",width:"100%",border:"1px solid var(--app-color-gray-lighter)"}},"".concat(null===e||void 0===e?void 0:e.value,", PID: ").concat(null===A||void 0===A||null===(yu=A.payments)||void 0===yu?void 0:yu.stripe_id.slice(0,6))):m.createElement(b.Z,{key:n,className:f.Z.dropdownSelectComponent,visible:e.visible,mandatory:e.mandatory,items:!0===(null===(ru=pe.processModule)||void 0===ru||null===(vu=ru.module)||void 0===vu||null===(su=vu.options)||void 0===su?void 0:su.credits)?[].concat((0,c.Z)(null!==(cu=null===e||void 0===e||null===(pu=e.options)||void 0===pu?void 0:pu.list.map((function(e){return{label:e,value:e}})))&&void 0!==cu?cu:[]),[{label:"Wallet",value:"Wallet"}]):null===e||void 0===e||null===(mu=e.options)||void 0===mu?void 0:mu.list.map((function(e){return{label:e,value:e}})),error:0===vl.length?e.errors:vl,onClicked:function(e){return al(e?"180px":"50px")},onChange:function(l){if(l){var o,i,t,d,a,u,r,v,s,c,p,m,f,_,y,h,g,b,x,E,C=null===(o=W.newStepComponents.find((function(n){return n.selected_fields.filter((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)})).length>0})))||void 0===o||null===(i=o.selected_fields)||void 0===i?void 0:i.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)})),w=null===(t=W.components.find((function(n){return n.selected_fields.filter((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)})).length>0})))||void 0===t||null===(d=t.selected_fields)||void 0===d?void 0:d.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)})),Z=null===(a=W.currentStep)||void 0===a||null===(u=a.component_blueprints)||void 0===u||null===(r=u.find((function(n){var l;return null===n||void 0===n||null===(l=n.selected_fields)||void 0===l?void 0:l.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)}))})))||void 0===r||null===(v=r.selected_fields)||void 0===v?void 0:v.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)}));if(vl[n]="",+(null!==(s=null===C||void 0===C?void 0:C.value)&&void 0!==s?s:0)>0)W.total=C.value,W.plan=C.value;else if(+(null!==(c=null===w||void 0===w?void 0:w.value)&&void 0!==c?c:0)>0)W.total=w.value,W.plan=w.value;else{if(!(+(null!==(p=null===Z||void 0===Z?void 0:Z.value)&&void 0!==p?p:0)>0))return vl[n]="Please enter a payment amount in the designated field",sl([]),void setTimeout((function(){return sl(vl)}));W.total=Z.value,W.plan=Z.value}if(1==(null===(m=pe.processModule)||void 0===m||null===(f=m.module)||void 0===f||null===(_=f.options)||void 0===_?void 0:_.credits)&&"Wallet"===l){if(+(null!==(y=ae.wallet)&&void 0!==y?y:0)<+W.total)return vl[n]="Insufficient wallet balance",sl([]),void setTimeout((function(){return sl(vl)}))}else if(1==(null===(h=pe.processModule)||void 0===h||null===(g=h.module)||void 0===g||null===(b=g.options)||void 0===b?void 0:b.credits)&&"Points"===l)if(+(null!==(x=null===(E=ae.options)||void 0===E?void 0:E.points)&&void 0!==x?x:0)<+W.total)return vl[n]="Insufficient points balance",sl([]),void setTimeout((function(){return sl(vl)}));sl([]),al("50px"),F(l,n)}},selectionType:"Dropdown",fieldIcon:e.icon,backgroundColor:null!==e&&void 0!==e&&null!==(fu=e.options)&&void 0!==fu&&fu.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(_u=e.options)||void 0===_u?void 0:_u.valueC:"",value:void 0===e.value||null===e.value?"":e.value,placeholder:""}));if("Positions"===(null===e||void 0===e?void 0:e.data_type_name)&&"multiple"===(null===e||void 0===e||null===(el=e.options)||void 0===el?void 0:el.type))return m.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-dark)"}},m.createElement(b.Z,{onOpen:function(e){al("50px"===dl?"180px":"50px")},visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:f.Z.dropdownClassContainer,items:ye.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.value)})),backgroundColor:null!==e&&void 0!==e&&null!==(hu=e.options)&&void 0!==hu&&hu.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(gu=e.options)||void 0===gu?void 0:gu.valueC:"",value:e.value,loading:we,error:null===e||void 0===e?void 0:e.errors,onChange:function(e){F(e,n)},selectionType:"multiple",fieldIcon:null===e||void 0===e?void 0:e.icon,placeholder:""}));if("Positions"===(null===e||void 0===e?void 0:e.data_type_name)&&null!==e&&void 0!==e&&null!==(nl=e.options)&&void 0!==nl&&nl.calendar){var dr,ar,ur,rr,vr,sr,cr,pr,mr,fr,_r,yr,hr,gr,br,xr=JSON.parse(null!==(dr=null===e||void 0===e?void 0:e.value)&&void 0!==dr?dr:JSON.stringify({user:0})),Er=ve.find((function(e){return e.id===(null===xr||void 0===xr?void 0:xr.task)})),Cr=null===ve||void 0===ve?void 0:ve.filter((function(e){var n,l,o,i;return(null===e||void 0===e||null===(n=e.add_info)||void 0===n?void 0:n.module_id)===(null===(l=pe.processModule)||void 0===l?void 0:l.module_id)&&e.creator.id===(null===xr||void 0===xr?void 0:xr.user)&&!(null!==e&&void 0!==e&&null!==(o=e.assignee)&&void 0!==o&&o.id)&&rn()((0,un.now)()).diff(rn()(null===e||void 0===e||null===(i=e.add_info)||void 0===i?void 0:i.start),"seconds")<0}));return m.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},m.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-dark)"}},m.createElement(b.Z,{visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:"multiple"===(null===e||void 0===e||null===(ar=e.options)||void 0===ar?void 0:ar.type)?f.Z.dropdownHeightClassContainer:f.Z.dropdownClassContainer,items:ye.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.value)})),backgroundColor:null!==e&&void 0!==e&&null!==(ur=e.options)&&void 0!==ur&&ur.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(rr=e.options)||void 0===rr?void 0:rr.valueC:"",value:null===(vr=ye.find((function(e){return e.value===(null===xr||void 0===xr?void 0:xr.pos)})))||void 0===vr?void 0:vr.label,loading:we,error:null===e||void 0===e?void 0:e.errors,onChange:function(e){e.length>0&&(xr.pos=void 0,xr.user=void 0,F(JSON.stringify(xr),n),(0,x.n0)([e]).pipe((0,C.q)(1)).subscribe({next:function(l){zl(l),setTimeout((function(){xr.pos=e,F(JSON.stringify(xr),n)}),10)}}))},selectionType:null===e||void 0===e||null===(sr=e.options)||void 0===sr?void 0:sr.type,fieldIcon:null===e||void 0===e?void 0:e.icon})),m.createElement("div",{style:{width:"100%"}},0==(null===Ll||void 0===Ll?void 0:Ll.length)&&m.createElement("p",null,"No ".concat(e.field_name," found")),!Er&&m.createElement(We.default,{rowStyleSelected:{border:"2px solid black"},initialSelected:null!==e&&void 0!==e&&e.value?Ll.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.user)||void 0===n||null===(l=n.positions)||void 0===l?void 0:l.filter((function(e){return(null===xr||void 0===xr?void 0:xr.pos)===(null===e||void 0===e?void 0:e.id)})).length)>0})).map((function(e){return e.value})).indexOf(null===xr||void 0===xr?void 0:xr.user):void 0,card:!0,isReport:!1,"app-variant-is-mobile":"true",columns:["Name","Location","About","Photo","Ratings"],list:Ll.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.user)||void 0===n||null===(l=n.positions)||void 0===l?void 0:l.filter((function(e){return(null===xr||void 0===xr?void 0:xr.pos)===(null===e||void 0===e?void 0:e.id)})).length)>0})).map((function(e){var n,l,o,i,t,d,a,u,r=null===e||void 0===e||null===(n=e.user)||void 0===n||null===(l=n.ratings)||void 0===l?void 0:l.map((function(e){return+e.ratings}));return{Name:"".concat(e.user.first_name," ").concat(e.user.last_name),Location:null===(o=e.user)||void 0===o?void 0:o.city,About:null!==(i=null===(t=e.user.options)||void 0===t?void 0:t.info)&&void 0!==i?i:null===(d=e.user)||void 0===d?void 0:d.positions.map((function(e){return e.name})).toString().replace(",",", "),id:e.user.id,Photo:null!=(null===(a=e.user)||void 0===a?void 0:a.photo)?null===(u=e.user)||void 0===u?void 0:u.photo:null===fe||void 0===fe?void 0:fe.logo,Ratings:(null===r||void 0===r?void 0:r.length)>0&&m.createElement("div",{className:f.Z.simpleNames},Array(Math.round(on.Z(tn.Z,[dn.Z,an.Z])(r))).fill(0).map((function(e,n){return m.createElement(he.G,{key:n,icon:ge.Tab,style:{color:"var(--app-color-blue)"}})})),Array(5-Math.round(on.Z(tn.Z,[dn.Z,an.Z])(r))).fill(0).map((function(e,n){return m.createElement(he.G,{key:n,icon:ge.Tab,style:{color:"lightgray"}})})))}})),onListItemClick:function(e){if(e){var l=Ll.find((function(n){return n.value===e.id}));xr.user=null===l||void 0===l?void 0:l.value,F(JSON.stringify(xr),n),(0,bn.Mk)(null===l||void 0===l?void 0:l.value,!0).pipe((0,C.q)(1)).subscribe({})}}},(null===Cr||void 0===Cr?void 0:Cr.length)>0&&m.createElement("p",null,"Schedules"),(null===Cr||void 0===Cr?void 0:Cr.length)>0&&m.createElement(hn.tq,{slidesPerView:3,centeredSlides:!0,spaceBetween:5,initialSlide:1,pagination:{clickable:!0,dynamicBullets:!0},modules:[yn.pt,yn.tl],className:"mySwiper",style:{border:"0.8px dashed gray",padding:"5px",height:"200px"}},null===Cr||void 0===Cr?void 0:Cr.map((function(e,n){return m.createElement(hn.o5,{key:n+100,className:f.Z.swiperslide},m.createElement("div",{className:f.Z.dashboardCard,onClick:function(){gl(!0),Cl(e)}},m.createElement("div",{style:{fontSize:"10px"}},rn()(new Date(e.add_info.start)).format("h:mm a")),e.add_info.end!==e.add_info.start&&m.createElement("div",{style:{fontSize:"10px"}},rn()(new Date(e.add_info.end)).format("h:mm a")),m.createElement("hr",{style:{border:"0.8px dashed gray"}}),m.createElement("p",{style:{fontSize:"12px",fontWeight:"bold"}},rn()(new Date(e.add_info.start)).format("MMM")),m.createElement("div",{style:{fontSize:"20px",fontWeight:"bold"}},rn()(new Date(e.add_info.start)).format("DD"))))})))),Er&&m.createElement(We.default,{modern:!0,isReport:!1,"app-variant-is-mobile":"true",columns:["Responsible",null!==(cr=null===e||void 0===e||null===(pr=e.options)||void 0===pr?void 0:pr.header)&&void 0!==cr?cr:"Name",null!==(mr=null===e||void 0===e||null===(fr=e.options)||void 0===fr?void 0:fr.start)&&void 0!==mr?mr:"Date","Photo"],list:[Er].map((function(n){var l,o,i,t,d,a,u;return u={},(0,s.Z)(u,null!==(l=null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.header)&&void 0!==l?l:"Name",n.name),(0,s.Z)(u,null!==(i=null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.start)&&void 0!==i?i:"Date",rn()(new Date(null===(d=n.add_info)||void 0===d?void 0:d.start)).format("MMM DD h:mm a")),(0,s.Z)(u,"Responsible","".concat(n.creator.first_name," ").concat(n.creator.last_name)),(0,s.Z)(u,"Photo",null===(a=n.creator)||void 0===a?void 0:a.photo),u})),onListItemClick:function(e){e&&(gl(!0),Cl(Er))}}),hl&&m.createElement(gn.Z,{save:!1,modalVisible:hl,heading:null!==(_r=null===e||void 0===e||null===(yr=e.options)||void 0===yr?void 0:yr.header)&&void 0!==_r?_r:El?"Update Calendar":"Create New Calendar",labels:null===e||void 0===e?void 0:e.options,task:El,isProcess:!0,blured:!1,onClose:function(){return gl(!1)},isEdit:!!El,statuses:null===e||void 0===e||null===(hr=e.options)||void 0===hr?void 0:hr.list,priority:null===e||void 0===e||null===(gr=e.options)||void 0===gr?void 0:gr.priority,span:null===e||void 0===e||null===(br=e.options)||void 0===br?void 0:br.span,start_date:ke,onUpdate:function(l){if(l.creator.id!==(null===ae||void 0===ae?void 0:ae.id)&&(null===l||void 0===l?void 0:l.assignee_id)===(null===ae||void 0===ae?void 0:ae.id)){var o;if(W.assigned_to=l.creator.id,xr.task=null===l||void 0===l?void 0:l.id,null!==l&&void 0!==l&&null!==(o=l.add_info)&&void 0!==o&&o.value){var i,t,d,a,u,r,v,s,c;xr.value=null===l||void 0===l||null===(i=l.add_info)||void 0===i?void 0:i.value;var p,m=null===(t=W.components.find((function(n){return n.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))})))||void 0===t?void 0:t.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}));if(m)m.value=null===l||void 0===l||null===(p=l.add_info)||void 0===p?void 0:p.value;var f,_=null===(d=W.newStepComponents.find((function(n){return n.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))})))||void 0===d?void 0:d.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}));if(_)_.value=null===l||void 0===l||null===(f=l.add_info)||void 0===f?void 0:f.value;var y,h=null===(a=pe.processModule)||void 0===a||null===(u=a.steps)||void 0===u||null===(r=u.find((function(n){var l;return null===(l=n.component_blueprints)||void 0===l?void 0:l.find((function(n){var l;return null===n||void 0===n||null===(l=n.selected_fields)||void 0===l?void 0:l.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))}))})))||void 0===r||null===(v=r.component_blueprints)||void 0===v||null===(s=v.find((function(n){var l;return null===n||void 0===n||null===(l=n.selected_fields)||void 0===l?void 0:l.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))})))||void 0===s||null===(c=s.selected_fields)||void 0===c?void 0:c.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}));if(h)h.value=null===l||void 0===l||null===(y=l.add_info)||void 0===y?void 0:y.value}F(JSON.stringify(xr),n)}}})))}if("Positions"===(null===e||void 0===e?void 0:e.data_type_name))return m.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-light)"}},m.createElement(b.Z,{visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:"multiple"===(null===e||void 0===e||null===(bu=e.options)||void 0===bu?void 0:bu.type)?f.Z.dropdownHeightClassContainer:f.Z.dropdownClassContainer,items:ye.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.value)})),backgroundColor:null!==e&&void 0!==e&&null!==(xu=e.options)&&void 0!==xu&&xu.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(Eu=e.options)||void 0===Eu?void 0:Eu.valueC:"",value:null===(Cu=ye.find((function(n){return n.value===e.value})))||void 0===Cu?void 0:Cu.label,loading:we,error:null===e||void 0===e?void 0:e.errors,onChange:function(l){var o;F(l,n),null!==e&&void 0!==e&&null!==(o=e.options)&&void 0!==o&&o.addToPos&&(0,x.Vy)(ae,(0,v.Z)((0,v.Z)({},null===ae||void 0===ae?void 0:ae.options),{},{selPos:l})).pipe((0,E.P)()).subscribe({next:function(e){(0,_n.aT)(l,null===ae||void 0===ae?void 0:ae.id).subscribe({next:function(){var n;(ae.options.selPos&&ae.options.selPos!==l?(0,_n._s)(ae.options.selPos,null===ae||void 0===ae?void 0:ae.id).subscribe({next:function(){window.scrollTo({top:0,behavior:"smooth"})}}):window.scrollTo({top:0,behavior:"smooth"}),null!==e&&void 0!==e&&e.user)||(ae.options.selPos=null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.selPos)}})}})},selectionType:null===e||void 0===e||null===(wu=e.options)||void 0===wu?void 0:wu.type,fieldIcon:null===e||void 0===e?void 0:e.icon}));if("People"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(il=e.options)||void 0===il||null===(tl=il.position_id)||void 0===tl?void 0:tl.length)>0&&null!==e&&void 0!==e&&null!==(ul=e.options)&&void 0!==ul&&ul.calendar){var wr,Zr,Mr,Sr,kr,Ir,Nr,Tr,Dr,Pr,Ar,Or,Lr,zr,Rr,Ur,Fr,Wr,qr,Br,Yr,Hr;try{var jr;Hr=JSON.parse(null!==(jr=null===e||void 0===e?void 0:e.value)&&void 0!==jr?jr:JSON.stringify({user:0}))}catch(Uc){}var Vr=ve.find((function(e){var n;return e.id===(null===(n=Hr)||void 0===n?void 0:n.task)})),Gr=null===ve||void 0===ve?void 0:ve.filter((function(e){var n,l,o,i,t;return(null===e||void 0===e||null===(n=e.add_info)||void 0===n?void 0:n.module_id)===(null===(l=pe.processModule)||void 0===l?void 0:l.module_id)&&e.creator.id===(null===(o=Hr)||void 0===o?void 0:o.user)&&!(null!==e&&void 0!==e&&null!==(i=e.assignee)&&void 0!==i&&i.id)&&rn()((0,un.now)()).diff(rn()(null===e||void 0===e||null===(t=e.add_info)||void 0===t?void 0:t.start),"seconds")<0}));return m.createElement("div",{style:{width:"100%"}},(null===e||void 0===e||null===(wr=e.options)||void 0===wr||null===(Zr=wr.dropdown)||void 0===Zr?void 0:Zr.length)>0&&m.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-dark)"}},m.createElement(b.Z,{visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:f.Z.dropdownClassContainer,items:null===e||void 0===e||null===(Mr=e.options)||void 0===Mr||null===(Sr=Mr.dropdown)||void 0===Sr?void 0:Sr.map((function(e){return{label:e,value:e}})),backgroundColor:null!==e&&void 0!==e&&null!==(kr=e.options)&&void 0!==kr&&kr.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(Ir=e.options)||void 0===Ir?void 0:Ir.valueC:"",value:null===(Nr=Hr)||void 0===Nr?void 0:Nr.pos,loading:we,error:null===e||void 0===e?void 0:e.errors,onChange:function(l){var o,i;l.length>0&&(Hr.pos=void 0,Hr.user=void 0,F(JSON.stringify(Hr),n),(0,x.FY)(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.position_id,null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.filter,l).pipe((0,C.q)(1)).subscribe({next:function(e){zl(e),setTimeout((function(){Hr.pos=l,F(JSON.stringify(Hr),n)}),0)}}))},selectionType:null===e||void 0===e||null===(Tr=e.options)||void 0===Tr?void 0:Tr.type,fieldIcon:null===e||void 0===e?void 0:e.icon})),0==(null===Ll||void 0===Ll?void 0:Ll.length)&&m.createElement("p",null,"No ".concat(e.field_name," found")),!Vr&&m.createElement(We.default,{rowStyleSelected:{border:"2px solid var(--app-color-gray-light)"},initialSelected:null!==e&&void 0!==e&&e.value?Ll.filter((function(n){var l,o;return(null===n||void 0===n||null===(l=n.user)||void 0===l||null===(o=l.positions)||void 0===o?void 0:o.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.id)})).length)>0})).map((function(e){return e.value})).indexOf(null===(Dr=Hr)||void 0===Dr?void 0:Dr.user):void 0,card:!0,isReport:!1,"app-variant-is-mobile":"true",columns:["Name","Info","About"].concat((0,c.Z)(null!==(Pr=null===fe||void 0===fe||null===(Ar=fe.misc_info)||void 0===Ar?void 0:Ar.profile)&&void 0!==Pr?Pr:["Rate"]),["Location","Photo","Ratings"]),list:Ll.filter((function(n){var l,o;return(null===n||void 0===n||null===(l=n.user)||void 0===l||null===(o=l.positions)||void 0===o?void 0:o.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.id)})).length)>0})).map((function(e){var n,l,o,i,t,d,a,u,r,s=null===e||void 0===e||null===(n=e.user)||void 0===n||null===(l=n.ratings)||void 0===l?void 0:l.map((function(e){return+e.ratings}));return(0,v.Z)((0,v.Z)({},null!==(o=null===(i=e.user)||void 0===i||null===(t=i.options)||void 0===t?void 0:t.add_info)&&void 0!==o?o:{}),{},{Name:"".concat(e.user.first_name," ").concat(e.user.last_name),Location:m.createElement("div",{style:{marginTop:"10px",fontWeight:"bolder",fontSize:"12px"}},null===(d=e.user)||void 0===d?void 0:d.city),Info:null===(a=e.user.options)||void 0===a?void 0:a.info,id:e.user.id,Photo:null!=(null===(u=e.user)||void 0===u?void 0:u.photo)?null===(r=e.user)||void 0===r?void 0:r.photo:null===fe||void 0===fe?void 0:fe.logo,Ratings:(null===s||void 0===s?void 0:s.length)>0&&m.createElement("div",{className:f.Z.simpleNames},Array(Math.round(on.Z(tn.Z,[dn.Z,an.Z])(s))).fill(0).map((function(e,n){return m.createElement(he.G,{key:n,icon:ge.Tab,style:{color:"var(--app-color-blue)"}})})),Array(5-Math.round(on.Z(tn.Z,[dn.Z,an.Z])(s))).fill(0).map((function(e,n){return m.createElement(he.G,{key:n,icon:ge.Tab,style:{color:"lightgray"}})})))})})),onListItemClick:function(e){if(e){var l=Ll.find((function(n){return n.value===e.id}));Hr.user=null===l||void 0===l?void 0:l.value,F(JSON.stringify(Hr),n),(0,bn.Mk)(null===l||void 0===l?void 0:l.value,!0).pipe((0,C.q)(1)).subscribe({next:function(){return Ze(!1)}})}}},(null===Gr||void 0===Gr?void 0:Gr.length)>0&&m.createElement("p",null,"Schedules"),(null===Gr||void 0===Gr?void 0:Gr.length)>0?m.createElement(hn.tq,{slidesPerView:3,centeredSlides:!0,spaceBetween:10,pagination:{clickable:!0,dynamicBullets:!0},modules:[yn.pt,yn.tl],className:"mySwiper",style:{border:"0.8px dashed gray",padding:"5px",height:"200px",display:(null===Gr||void 0===Gr?void 0:Gr.length)>0?"":"none",zIndex:"0"}},null===Gr||void 0===Gr?void 0:Gr.map((function(e,n){return m.createElement(hn.o5,{key:n+200,className:f.Z.swiperslide},m.createElement("div",{className:f.Z.dashboardCard,onClick:function(){gl(!0),Cl(e)}},m.createElement("div",{style:{fontSize:"10px"}},rn()(new Date(e.add_info.start)).format("h:mm a")),e.add_info.end!==e.add_info.start&&m.createElement("div",{style:{fontSize:"10px"}},rn()(new Date(e.add_info.end)).format("h:mm a")),m.createElement("hr",{style:{border:"0.8px dashed gray"}}),m.createElement("p",{style:{fontSize:"12px",fontWeight:"bold"}},rn()(new Date(e.add_info.start)).format("MMM")),m.createElement("div",{style:{fontSize:"20px",fontWeight:"bold"}},rn()(new Date(e.add_info.start)).format("DD"))))}))):null!==(Or=Hr)&&void 0!==Or&&Or.user?m.createElement("p",{style:{fontSize:"12px"}},"No Schedules Found"):m.createElement("div",null)),Vr&&m.createElement(We.default,{modern:!0,isReport:!1,"app-variant-is-mobile":"true",columns:["Responsible",null!==(Lr=null===e||void 0===e||null===(zr=e.options)||void 0===zr?void 0:zr.header)&&void 0!==Lr?Lr:"Name",null!==(Rr=null===e||void 0===e||null===(Ur=e.options)||void 0===Ur?void 0:Ur.start)&&void 0!==Rr?Rr:"Date","Photo"],list:[Vr].map((function(n){var l,o,i,t,d,a,u;return u={},(0,s.Z)(u,null!==(l=null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.header)&&void 0!==l?l:"Name",n.name),(0,s.Z)(u,null!==(i=null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.start)&&void 0!==i?i:"Date",rn()(new Date(null===(d=n.add_info)||void 0===d?void 0:d.start)).format("MMM DD h:mm a")),(0,s.Z)(u,"Responsible","".concat(n.creator.first_name," ").concat(n.creator.last_name)),(0,s.Z)(u,"Position",""),(0,s.Z)(u,"Photo",null===(a=n.creator)||void 0===a?void 0:a.photo),u})),onListItemClick:function(e){e&&(gl(!0),Cl(Vr))}}),hl&&m.createElement(gn.Z,{save:!1,modalVisible:hl,heading:null!==(Fr=null===e||void 0===e||null===(Wr=e.options)||void 0===Wr?void 0:Wr.header)&&void 0!==Fr?Fr:El?"Update Calendar":"Create New Calendar",labels:null===e||void 0===e?void 0:e.options,task:El,isProcess:!0,blured:!1,onClose:function(){return gl(!1)},isEdit:!!El,statuses:null===e||void 0===e||null===(qr=e.options)||void 0===qr?void 0:qr.list,priority:null===e||void 0===e||null===(Br=e.options)||void 0===Br?void 0:Br.priority,span:null===e||void 0===e||null===(Yr=e.options)||void 0===Yr?void 0:Yr.span,start_date:ke,onUpdate:function(l){if(l.creator.id!==(null===ae||void 0===ae?void 0:ae.id)&&(null===l||void 0===l?void 0:l.assignee_id)===(null===ae||void 0===ae?void 0:ae.id)){var o;if(W.assigned_to=l.creator.id,Hr.task=null===l||void 0===l?void 0:l.id,null!==l&&void 0!==l&&null!==(o=l.add_info)&&void 0!==o&&o.value){var i,t,d,a,u,r,v,s,c;Hr.value=null===l||void 0===l||null===(i=l.add_info)||void 0===i?void 0:i.value;var p,m=null===(t=W.components.find((function(n){return n.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))})))||void 0===t?void 0:t.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}));if(m)m.value=null===l||void 0===l||null===(p=l.add_info)||void 0===p?void 0:p.value;var f,_=null===(d=W.newStepComponents.find((function(n){return n.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))})))||void 0===d?void 0:d.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}));if(_)_.value=null===l||void 0===l||null===(f=l.add_info)||void 0===f?void 0:f.value;var y,h=null===(a=pe.processModule)||void 0===a||null===(u=a.steps)||void 0===u||null===(r=u.find((function(n){var l;return null===(l=n.component_blueprints)||void 0===l?void 0:l.find((function(n){var l;return null===n||void 0===n||null===(l=n.selected_fields)||void 0===l?void 0:l.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))}))})))||void 0===r||null===(v=r.component_blueprints)||void 0===v||null===(s=v.find((function(n){var l;return null===n||void 0===n||null===(l=n.selected_fields)||void 0===l?void 0:l.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))})))||void 0===s||null===(c=s.selected_fields)||void 0===c?void 0:c.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}));if(h)h.value=null===l||void 0===l||null===(y=l.add_info)||void 0===y?void 0:y.value}F(JSON.stringify(Hr),n)}}}))}if("People"===(null===e||void 0===e?void 0:e.data_type_name)&&(!0===(null===e||void 0===e||null===(rl=e.options)||void 0===rl?void 0:rl.slider)||Nl)&&(null===_e||void 0===_e?void 0:_e.length)>0)return m.createElement(hn.tq,{slidesPerView:1,centeredSlides:!0,spaceBetween:10,initialSlide:1,pagination:{clickable:!0,dynamicBullets:!0},modules:[yn.pt,yn.tl],className:"mySwiper"},_e.filter((function(n){var l;return(null===n||void 0===n||null===(l=n.positions)||void 0===l?void 0:l.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.id)})).length)>0})).map((function(l,o){var i,t,d,a,u,r,c,p,_,y,h,g=null===l||void 0===l||null===(i=l.ratings)||void 0===i?void 0:i.map((function(e){return+e.ratings}));return m.createElement(hn.o5,{key:o,className:f.Z.swiperslide},m.createElement("div",{style:{padding:"5px",width:"100%"},onClick:function(){var o;e.open=null===e||void 0===e||!e.open,e.idx=n,null!==e&&void 0!==e&&null!==(o=e.options)&&void 0!==o&&o.skip?Tl(e.open):F(null===l||void 0===l?void 0:l.id,n)}},m.createElement(pn.Z,{photo:null===l||void 0===l?void 0:l.photo,height:null!==e&&void 0!==e&&e.open?"auto":"260px",width:"100%",firstName:"".concat(null===l||void 0===l?void 0:l.first_name," ").concat(null===l||void 0===l?void 0:l.last_name),position:m.createElement("div",{style:{marginTop:"10px"}},null===l||void 0===l?void 0:l.city),email:null===(t=l.options)||void 0===t?void 0:t.info},(null===g||void 0===g?void 0:g.length)>0&&m.createElement("div",{className:f.Z.simpleNames},Array(Math.round(on.Z(tn.Z,[dn.Z,an.Z])(g))).fill(0).map((function(e,n){return m.createElement(he.G,{key:n,icon:ge.Tab,style:{color:"var(--app-color-blue)"}})})),Array(5-Math.round(on.Z(tn.Z,[dn.Z,an.Z])(g))).fill(0).map((function(e,n){return m.createElement(he.G,{key:n,icon:ge.Tab,style:{color:"lightgray"}})}))),m.createElement("div",{className:f.Z.simpleNames,style:{pointerEvents:"none",padding:"20px 10px 0 10px",color:"gray"}},(null===(d=e.options)||void 0===d?void 0:d.info)&&(null===e||void 0===e?void 0:e.open)&&(null===e||void 0===e?void 0:e.idx)==n&&m.createElement(m.Fragment,null,m.createElement("p",null,"General Info:"),m.createElement(We.default,{rowStyleSelected:{border:"2px solid var(--app-color-gray-light)"},card:!0,isReport:!1,"app-variant-is-mobile":"true",columns:["First Name","Last Name","Phone","Address","City","Postal","Bio"],list:[l].map((function(e){var n,l,o,i,t,d,a;return a={},(0,s.Z)(a,"First Name","".concat(null!==(n=null===e||void 0===e?void 0:e.first_name)&&void 0!==n?n:"")),(0,s.Z)(a,"Last Name","".concat(null!==(l=null===e||void 0===e?void 0:e.last_name)&&void 0!==l?l:"")),(0,s.Z)(a,"Phone","".concat(null!==(o=null===e||void 0===e?void 0:e.phone)&&void 0!==o?o:"")),(0,s.Z)(a,"Address","".concat(null!==(i=null===e||void 0===e?void 0:e.address)&&void 0!==i?i:"")),(0,s.Z)(a,"City","".concat(null!==(t=null===e||void 0===e?void 0:e.city)&&void 0!==t?t:"")),(0,s.Z)(a,"Postal","".concat(null!==(d=null===e||void 0===e?void 0:e.postal)&&void 0!==d?d:"")),a}))})),(null===(a=e.options)||void 0===a?void 0:a.other)&&(null===e||void 0===e?void 0:e.open)&&(null===e||void 0===e?void 0:e.idx)==n&&Object.keys(null!==(u=null===l||void 0===l||null===(r=l.options)||void 0===r?void 0:r.add_info)&&void 0!==u?u:{}).length>1&&m.createElement(m.Fragment,null,m.createElement("p",null,"More Info:"),m.createElement(We.default,{rowStyleSelected:{border:"2px solid var(--app-color-gray-light)"},card:!0,isReport:!1,"app-variant-is-mobile":"true",columns:Object.keys(null!==(c=null===l||void 0===l||null===(p=l.options)||void 0===p?void 0:p.add_info)&&void 0!==c?c:{}),list:[l].map((function(e){var n,l;return(0,v.Z)((0,v.Z)({},null!==(n=null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.add_info)&&void 0!==n?n:{}),{},{Rate:""})}))})),(null===(_=e.options)||void 0===_?void 0:_.info)&&(null===e||void 0===e?void 0:e.open)&&(null===l||void 0===l||null===(y=l.ratings)||void 0===y?void 0:y.length)>0&&m.createElement(m.Fragment,null,m.createElement("p",null,"What other users say:"),m.createElement(We.default,{rowStyleSelected:{border:"2px solid var(--app-color-gray-light)"},card:!0,isReport:!1,columns:["Feedback"],list:null===l||void 0===l||null===(h=l.ratings)||void 0===h?void 0:h.map((function(e,n){return{Feedback:'"'.concat(e.comments,'"')}}))}))))))})));if("People"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(cl=e.options)||void 0===cl||null===(pl=cl.position_id)||void 0===pl?void 0:pl.length)>0)return m.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-light)"}},m.createElement(b.Z,{onOpen:function(e){al("50px"===dl?"180px":"50px")},onFocus:function(){var n;return 0==Ll.length&&Fl(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.position_id)},visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:f.Z.dropdownClassContainer,items:Ll.filter((function(n){var l,o;return(null===n||void 0===n||null===(l=n.user)||void 0===l||null===(o=l.positions)||void 0===o?void 0:o.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.id)})).length)>0})),backgroundColor:null!==e&&void 0!==e&&null!==(Zu=e.options)&&void 0!==Zu&&Zu.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(Mu=e.options)||void 0===Mu?void 0:Mu.valueC:"",value:"single"===(null===e||void 0===e||null===(Su=e.options)||void 0===Su?void 0:Su.type)?null===(ku=Ll.find((function(n){return n.label===(null===e||void 0===e?void 0:e.value)})))||void 0===ku?void 0:ku.label:e.value,loading:we,error:null===e||void 0===e?void 0:e.errors,onChange:function(l){var o;if("single"===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.type)){var i,t,d=Ll.find((function(e){return e.value===l}));if(1==(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.email))e.email=null===d||void 0===d||null===(t=d.user)||void 0===t?void 0:t.email;F(null===d||void 0===d?void 0:d.label,n)}else F(l,n);al("50px")},onClicked:function(e){return al(e?"180px":"50px")},selectionType:null===e||void 0===e||null===(Iu=e.options)||void 0===Iu?void 0:Iu.type,fieldIcon:null===e||void 0===e?void 0:e.icon,placeholder:"Select user..."}));if("People"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(_l=e.options)||void 0===_l||null===(yl=_l.componentF)||void 0===yl?void 0:yl.length)>0&&(null===e||void 0===e||null===(bl=e.options)||void 0===bl||null===(xl=bl.componentO)||void 0===xl?void 0:xl.length)>0){var Jr,Kr,Qr,Xr,$r,ev,nv,lv=null===(Jr=W.components.find((function(n){return n.selected_fields.filter((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.componentF)})).length>0})))||void 0===Jr?void 0:Jr.selected_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.componentF)})),ov=me.find((function(n){var l;return n.component_fields.filter((function(e){return e.value===(null===lv||void 0===lv?void 0:lv.value)})).length>0&&n.module_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.module_id)})),iv=null===ov||void 0===ov?void 0:ov.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.componentO)}));return m.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-light)"}},m.createElement(b.Z,{onFocus:function(){var n;return 0==Ll.length&&Fl(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.position_id)},visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:"multiple"===(null===e||void 0===e||null===(Kr=e.options)||void 0===Kr?void 0:Kr.type)?f.Z.dropdownHeightClassContainer:f.Z.dropdownClassContainer,items:Ll.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.user)||void 0===n||null===(l=n.positions)||void 0===l?void 0:l.filter((function(e){var n;return null===iv||void 0===iv||null===(n=iv.value)||void 0===n?void 0:n.split(",").includes(null===e||void 0===e?void 0:e.name)})).length)>0})),backgroundColor:null!==e&&void 0!==e&&null!==(Qr=e.options)&&void 0!==Qr&&Qr.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(Xr=e.options)||void 0===Xr?void 0:Xr.valueC:"",value:"single"===(null===e||void 0===e||null===($r=e.options)||void 0===$r?void 0:$r.type)?null===(ev=Ll.find((function(n){return n.label===(null===e||void 0===e?void 0:e.value)})))||void 0===ev?void 0:ev.label:e.value,loading:we,error:null===e||void 0===e?void 0:e.errors,onChange:function(l){var o;if("single"===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.type)){var i,t,d=Ll.find((function(e){return e.value===l}));if(1==(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.email))e.email=null===d||void 0===d||null===(t=d.user)||void 0===t?void 0:t.email;F(null===d||void 0===d?void 0:d.label,n)}else F(l,n);al("50px")},onClicked:function(e){return al(e?"180px":"50px")},selectionType:null===e||void 0===e||null===(nv=e.options)||void 0===nv?void 0:nv.type,fieldIcon:null===e||void 0===e?void 0:e.icon,placeholder:"Select user..."}))}if("People"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(wl=e.options)||void 0===wl||null===(Zl=wl.componentF)||void 0===Zl?void 0:Zl.length)>0&&(null===e||void 0===e||null===(kl=e.options)||void 0===kl||null===(Il=kl.componentUO)||void 0===Il?void 0:Il.length)>0){var tv,dv,av,uv,rv,vv,sv,cv=null===(tv=W.components.find((function(n){return n.selected_fields.filter((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.componentF)})).length>0})))||void 0===tv?void 0:tv.selected_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.componentF)})),pv=me.filter((function(n){var l;return n.module_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.module_id)})).find((function(e){return e.component_fields.filter((function(e){return(null===e||void 0===e?void 0:e.value)===(null===cv||void 0===cv?void 0:cv.value)})).length>0})),mv=pv?null===pv||void 0===pv?void 0:pv.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.componentUO)})):"";return m.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-light)"}},m.createElement(b.Z,{onFocus:function(){var n;return 0==Ll.length&&Fl(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.position_id)},visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:"multiple"===(null===e||void 0===e||null===(dv=e.options)||void 0===dv?void 0:dv.type)?f.Z.dropdownHeightClassContainer:f.Z.dropdownClassContainer,items:Ll.filter((function(e){var n;return null===mv||void 0===mv||null===(n=mv.value)||void 0===n?void 0:n.split(",").includes(null===e||void 0===e?void 0:e.label)})),backgroundColor:null!==e&&void 0!==e&&null!==(av=e.options)&&void 0!==av&&av.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(uv=e.options)||void 0===uv?void 0:uv.valueC:"",value:"single"===(null===e||void 0===e||null===(rv=e.options)||void 0===rv?void 0:rv.type)?null===(vv=Ll.find((function(n){return n.label===(null===e||void 0===e?void 0:e.value)})))||void 0===vv?void 0:vv.label:e.value,loading:we,error:null===e||void 0===e?void 0:e.errors,onChange:function(l){var o;if("single"===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.type)){var i,t,d=Ll.find((function(e){return e.value===l}));if(1==(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.email))e.email=null===d||void 0===d||null===(t=d.user)||void 0===t?void 0:t.email;F(null===d||void 0===d?void 0:d.label,n)}else F(l,n);al("50px")},onClicked:function(e){return al(e?"180px":"50px")},selectionType:null===e||void 0===e||null===(sv=e.options)||void 0===sv?void 0:sv.type,fieldIcon:null===e||void 0===e?void 0:e.icon,placeholder:"Select user..."}))}if("Status"===(null===e||void 0===e?void 0:e.data_type_name)){var fv,_v,yv,hv,gv,bv,xv,Ev,Cv,wv,Zv,Mv,Sv,kv,Iv,Nv,Tv=(null===(fv=e.options)||void 0===fv||null===(_v=fv.list)||void 0===_v?void 0:_v.length)>0?null===(yv=e.options)||void 0===yv||null===(hv=yv.list)||void 0===hv?void 0:hv.map((function(e){return{label:e,value:e}})):1==(null===pe||void 0===pe||null===(gv=pe.processModule)||void 0===gv||null===(bv=gv.module)||void 0===bv||null===(xv=bv.options)||void 0===xv?void 0:xv.asGraphical)?[{label:"Show",value:"Show"},{label:"Hide",value:"Hide"}]:(null===fe||void 0===fe||null===(Ev=fe.misc_info)||void 0===Ev||null===(Cv=Ev.status)||void 0===Cv?void 0:Cv.length)>0?null===fe||void 0===fe||null===(wv=fe.misc_info)||void 0===wv?void 0:wv.status:S.MO;if((null===fe||void 0===fe||null===(Zv=fe.misc_info)||void 0===Zv||null===(Mv=Zv.rules)||void 0===Mv?void 0:Mv.length)>0)null===fe||void 0===fe||null===(Nv=fe.misc_info)||void 0===Nv||Nv.rules.filter((function(e){return"status"===e.type})).filter((function(n){n.valueCondition===e.value&&(Tv="0"===n.allow?Tv.filter((function(l){var o;return n.values.concat(null===(o=e.options)||void 0===o?void 0:o.list).includes(l.value)})):Tv.filter((function(l){var o;return!n.values.concat(null===(o=e.options)||void 0===o?void 0:o.list).includes(l.value)})))}));return m.createElement(b.Z,{key:n,visible:e.visible,mandatory:e.mandatory,backgroundColor:null!==e&&void 0!==e&&null!==(Sv=e.options)&&void 0!==Sv&&Sv.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(kv=e.options)||void 0===kv?void 0:kv.valueC:"",value:null!==(Iv=e.value)&&void 0!==Iv?Iv:"",items:Tv,error:e.errors,className:f.Z.dropdownSelectComponent,onClicked:function(e){return al(e?"180px":"50px")},onChange:function(e){fe.start=!0,al("50px"),F(e,n);var l=P.selected_fields.find((function(n){return"Date"===n.data_type_name&n.field_name===e}));l&&(l.value=new Date(rn().now()))},fieldIcon:e.icon,placeholder:"Select status..."})}if("Action Button"===(null===e||void 0===e?void 0:e.data_type_name)||"Ratings"===(null===e||void 0===e?void 0:e.data_type_name))return m.createElement("div",{key:n});if("Video"===(null===e||void 0===e?void 0:e.data_type_name)&&null!==e&&void 0!==e&&null!==(Al=e.options)&&void 0!==Al&&Al.start)return m.createElement("div",{style:{width:"100%",height:"auto",border:"1px solid var(--app-color-gray-light)"}},m.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",padding:"5px",border:"0px solid var(--app-color-gray-lighter)"}},m.createElement("input",{value:e.value?rn()(e.value).format("DD MMMM YYYY HH:mm"):"",disabled:!0,type:"text",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",fontFamily:"var(--app-text-main-font)",fontSize:"16px",lineHeight:"20px",color:"#4A4A4A",textAlign:"left",maxWidth:"98%",border:"0px"},onChange:function(e){}}),m.createElement(he.G,{icon:ge.WRo,style:{width:"14px",height:"14px"}})),m.createElement(In.Z,{payload:{name:null===A||void 0===A?void 0:A.id}}));if("Video"!==(null===e||void 0===e?void 0:e.data_type_name)||null!==e&&void 0!==e&&null!==(Ol=e.options)&&void 0!==Ol&&Ol.start){var Dv,Pv,Av,Ov,Lv,zv,Rv,Uv,Fv,Wv,qv,Bv,Yv,Hv,jv,Vv,Gv,Jv,Kv,Qv,Xv,$v,es,ns,ls,os,is,ts,ds,as,us,rs,vs,ss,cs,ps,ms,fs,_s,ys,hs,gs,bs,xs,Es,Cs,ws,Zs,Ms,Ss,ks,Is,Ns,Ts,Ds,Ps,As,Os,Ls,zs,Rs,Us,Fs,Ws,qs,Bs,Ys,Hs,js,Vs,Gs,Js,Ks,Qs;if("Clock"===(null===e||void 0===e?void 0:e.data_type_name))return m.createElement("div",{className:f.Z.centerDiv,style:{width:"100%",height:"auto",border:"1px dashed var(--app-color-gray-light)",padding:"20px",flexDirection:"column",fontSize:"16px"}},"".concat(te.format("MMMM DD YYYY")),m.createElement("p",{className:f.Z.timer},"".concat(te.format("HH:mm:ss"))),m.createElement("div",{className:f.Z.centerDiv,style:{display:"flex",flexDirection:"row"}},m.createElement("input",{readOnly:!0,autoComplete:"off",value:null!==e&&void 0!==e&&e.value?rn()(new Date(+(null!==(Dv=e.value)&&void 0!==Dv?Dv:0))).format("DD MMM YYYY h:mm a"):"",className:f.Z.currencyInput,style:{border:"1px solid var(--app-color-gray-light)",maxWidth:"220px",marginRight:"10px",textAlign:"center"}}),m.createElement(w.zx,{light:!0,title:"Set",clicked:function(){L((0,un.now)(),n)}})));if("Profile"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Jl=e.options)||void 0===Jl||null===(Kl=Jl.type)||void 0===Kl?void 0:Kl.length)>0&&e.visible){var Xs,$s,ec,nc,lc,oc,ic,tc,dc,ac,uc,rc,vc,sc,cc,pc,mc,fc=ae.id;if("creator"!==e.options.type&&"wallet"!==e.options.type||null===A||void 0===A||null===(Xs=A.created_by)||void 0===Xs||!Xs.id)if("creator"!==e.options.type&&"wallet"!==e.options.type||null!==A&&void 0!==A&&null!==($s=A.created_by)&&void 0!==$s&&$s.id)if("owner"===e.options.type){var _c;fc=null!==A&&void 0!==A&&A.options?null===(_c=JSON.parse(null===A||void 0===A?void 0:A.options))||void 0===_c?void 0:_c.owner:""}else{if("custom"!==e.options.type)return null;var yc;fc=null===e||void 0===e||null===(yc=e.options)||void 0===yc?void 0:yc.id}else fc=ae.id;else fc=null===(mc=A.created_by)||void 0===mc?void 0:mc.id;var hc=_e.concat([ae]).find((function(e){return e.id===fc})),gc=null===hc||void 0===hc||null===(ec=hc.ratings)||void 0===ec?void 0:ec.map((function(e){return+e.ratings}));return hc?m.createElement("div",{className:f.Z.centerDiv,key:n},"wallet"===e.options.type?m.createElement(pn.Z,{simple:!0,height:"100px",photo:hc.photo,noPhoto:0==(null===e||void 0===e||null===(nc=e.options)||void 0===nc?void 0:nc.show),firstName:"".concat(null===hc||void 0===hc?void 0:hc.first_name," ").concat(null===hc||void 0===hc?void 0:hc.last_name),lastName:"(".concat(null===(lc=null!==(oc=hc.wallet)&&void 0!==oc?oc:0)||void 0===lc?void 0:lc.toFixed(2),")"),position:null===hc||void 0===hc||null===(ic=hc.positions)||void 0===ic||null===(tc=ic.slice(0,1))||void 0===tc?void 0:tc.map((function(e){return e.name})),email:null===hc||void 0===hc?void 0:hc.email,cardClicked:function(){},width:"100%"}):m.createElement(pn.Z,{photo:hc.photo,height:"auto",noPhoto:!1,firstName:"".concat(null===hc||void 0===hc?void 0:hc.first_name),lastName:"".concat(null===hc||void 0===hc?void 0:hc.last_name),position:null===hc||void 0===hc||null===(dc=hc.positions)||void 0===dc||null===(ac=dc.slice(0,1))||void 0===ac?void 0:ac.map((function(e){return e.name})),email:null===hc||void 0===hc?void 0:hc.email,cardClicked:function(){},width:"100%"},(null===gc||void 0===gc?void 0:gc.length)>0&&m.createElement("div",{className:f.Z.centerDiv},Array(Math.round(on.Z(tn.Z,[dn.Z,an.Z])(gc))).fill(0).map((function(e,n){return m.createElement(he.G,{key:n,icon:ge.Tab,style:{height:"15px",width:"15px",color:"var(--app-color-blue)"}})})),Array(5-Math.round(on.Z(tn.Z,[dn.Z,an.Z])(gc))).fill(0).map((function(e,n){return m.createElement(he.G,{key:n,icon:ge.Tab,style:{height:"15px",width:"15px",color:"lightgray"}})}))),m.createElement("div",{className:f.Z.simpleNames,style:{pointerEvents:"none",padding:"20px 10px 0 10px",color:"gray"}},m.createElement("p",{style:{fontSize:"14px"}},"General Info:"),m.createElement(We.default,{rowStyleSelected:{border:"2px solid var(--app-color-gray-light)"},card:!0,isReport:!1,"app-variant-is-mobile":"true",columns:["First Name","Last Name","Phone","Address","City","Postal","Bio"],list:[hc].map((function(e){var n,l,o,i,t,d,a;return a={},(0,s.Z)(a,"First Name","".concat(null!==(n=null===e||void 0===e?void 0:e.first_name)&&void 0!==n?n:"")),(0,s.Z)(a,"Last Name","".concat(null!==(l=null===e||void 0===e?void 0:e.last_name)&&void 0!==l?l:"")),(0,s.Z)(a,"Phone","".concat(null!==(o=null===e||void 0===e?void 0:e.phone)&&void 0!==o?o:"")),(0,s.Z)(a,"Address","".concat(null!==(i=null===e||void 0===e?void 0:e.address)&&void 0!==i?i:"")),(0,s.Z)(a,"City","".concat(null!==(t=null===e||void 0===e?void 0:e.city)&&void 0!==t?t:"")),(0,s.Z)(a,"Postal","".concat(null!==(d=null===e||void 0===e?void 0:e.postal)&&void 0!==d?d:"")),a}))}),Object.keys(null!==(uc=null===hc||void 0===hc||null===(rc=hc.options)||void 0===rc?void 0:rc.add_info)&&void 0!==uc?uc:{}).length>1&&m.createElement(m.Fragment,null,m.createElement("p",{style:{fontSize:"14px"}},"More Info:"),m.createElement(We.default,{rowStyleSelected:{border:"2px solid var(--app-color-gray-light)"},card:!0,isReport:!1,"app-variant-is-mobile":"true",columns:Object.keys(null!==(vc=null===hc||void 0===hc||null===(sc=hc.options)||void 0===sc?void 0:sc.add_info)&&void 0!==vc?vc:{}),list:[hc].map((function(e){var n,l;return(0,v.Z)((0,v.Z)({},null!==(n=null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.add_info)&&void 0!==n?n:{}),{},{Rate:""})}))})),(null===hc||void 0===hc||null===(cc=hc.ratings)||void 0===cc?void 0:cc.length)>0&&m.createElement(m.Fragment,null,m.createElement("p",{style:{fontSize:"14px"}},"What other users say:"),m.createElement(We.default,{rowStyleSelected:{border:"2px solid var(--app-color-gray-light)"},card:!0,isReport:!1,columns:["Feedback"],list:null===hc||void 0===hc||null===(pc=hc.ratings)||void 0===pc?void 0:pc.map((function(e,n){return{Feedback:'"'.concat(e.comments,'"')}}))}))))):"owner"===e.options.type&&m.createElement("p",null,"No user has accepted this transaction")}if("Summary"===(null===e||void 0===e?void 0:e.data_type_name)){var bc,xc={};return W.components.map((function(e){return e.selected_fields.filter((function(e){return(null===e||void 0===e?void 0:e.value)&&!("Pin"===e.data_type_name||"Lookup"===e.data_type_name||"Record"===e.data_type_name||"Ratings"===e.data_type_name||"People"===e.data_type_name||"Positions"===e.data_type_name||"Notes"===e.data_type_name||"URL"===e.data_type_name||"Summary"===e.data_type_name||"Info"===e.data_type_name)&&1==e.visible})).map((function(e){var n;xc[e.field_name]="".concat(null!==(n=null===e||void 0===e?void 0:e.value)&&void 0!==n?n:"")}))})),(null!==(bc=null===A||void 0===A?void 0:A.component_fields)&&void 0!==bc?bc:[]).filter((function(e){return(null===e||void 0===e?void 0:e.value)&&!("Pin"===e.data_type_name||"Lookup"===e.data_type_name||"Record"===e.data_type_name||"Ratings"===e.data_type_name||"People"===e.data_type_name||"Positions"===e.data_type_name||"Notes"===e.data_type_name||"URL"===e.data_type_name||"Summary"===e.data_type_name||"Info"===e.data_type_name)})).forEach((function(e){var n;return xc[e.field_name]="".concat(null!==(n=null===e||void 0===e?void 0:e.value)&&void 0!==n?n:"")})),m.createElement("div",{key:n,style:{width:"50%"}},m.createElement(sn.Z,{hideHeaders:!0,className:f.Z.tableHostMobile,style:{width:"100%"},tableHostSimple:f.Z.leagueTable,columns:["1","2"],list:Object.keys(xc).map((function(e){return{1:e,2:xc[e]}}))}))}if("Pin"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Ql=e.options)||void 0===Ql||null===(Xl=Ql.pintype)||void 0===Xl?void 0:Xl.length)>0)return null!==e&&void 0!==e&&null!==(Pv=e.options)&&void 0!==Pv&&Pv.source||null!==(Av=e.options)&&void 0!==Av&&Av.destination?m.createElement("div",{style:{color:"var(--app-color-gray-dark)",height:"inherit",width:"100%",display:null!==e&&void 0!==e&&e.visible?"":"none"}},m.createElement("div",{key:n,className:f.Z.filtersContainer,style:{color:"var(--app-color-gray-dark)",height:"inherit",width:"100%",display:null!==e&&void 0!==e&&e.visible?"":"none"}},m.createElement("div",{className:f.Z.actionsContainer,style:{fontSize:"12px"},onClick:function(){ol({source:!0,destination:!1,field:e,index:n})}},m.createElement("div",{style:{width:"100px"}},1==(null===e||void 0===e||null===(Ov=e.options)||void 0===Ov?void 0:Ov.destination)?"From":"Pin",":"),m.createElement("div",null,null!==e&&void 0!==e&&e.value?null===(Lv=JSON.parse(e.value))||void 0===Lv||null===(zv=Lv.source)||void 0===zv?void 0:zv.address:"")),1==(null===e||void 0===e||null===(Rv=e.options)||void 0===Rv?void 0:Rv.destination)&&m.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}),1==(null===e||void 0===e||null===(Uv=e.options)||void 0===Uv?void 0:Uv.destination)&&m.createElement("div",{className:f.Z.actionsContainer,style:{fontSize:"12px"},onClick:function(){ol({source:!1,destination:!0,field:e,index:n})}},m.createElement("div",{style:{width:"100px"}},"To",":"),m.createElement("div",null,null!==e&&void 0!==e&&e.value?null===(Fv=JSON.parse(e.value))||void 0===Fv||null===(Wv=Fv.destination)||void 0===Wv?void 0:Wv.address:""))),m.createElement("div",{style:{display:null!==(qv=e.options)&&void 0!==qv&&qv.source?"flex":"none",width:"100%"}},m.createElement(w.zx,{icon:m.createElement(he.G,{icon:ge.W3K,style:{width:"20px",height:"20px"}}),clicked:function(){ol({source:!0,destination:!1,field:e,index:n})},style:{backgroundColor:"blue",width:"100%"},title:1==(null===e||void 0===e||null===(Bv=e.options)||void 0===Bv?void 0:Bv.destination)?"Origin from":"Pin location"})),1==(null===e||void 0===e||null===(Yv=e.options)||void 0===Yv?void 0:Yv.destination)&&m.createElement("div",{style:{display:null!==(Hv=e.options)&&void 0!==Hv&&Hv.destination?"flex":"none",width:"100%"}},m.createElement(w.zx,{icon:m.createElement(he.G,{icon:ge.opg,style:{width:"20px",height:"20px"}}),clicked:function(){ol({source:!1,destination:!0,field:e,index:n})},style:{backgroundColor:"green",width:"100%"},title:"Destination"})),(null===ll||void 0===ll?void 0:ll.source)&&m.createElement(w.U7,{hasCloseIcon:!0,blured:!1,scrollable:!0,isOpen:ll.source,shadowedContainerStyle:{width:Mn.tq?"100%":"50%"},onClose:function(){return ol({source:!1,destination:!1})}},m.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"30px"}},m.createElement("div",{className:f.Z.title},null!==(jv=null===ll||void 0===ll||null===(Vv=ll.field)||void 0===Vv?void 0:Vv.field_name)&&void 0!==jv?jv:"Origin:"),m.createElement(I.Z,{zoom:null===e||void 0===e||null===(Gv=e.options)||void 0===Gv?void 0:Gv.zoom,value:null===(Jv=JSON.parse(null!==(Kv=null===ll||void 0===ll||null===(Qv=ll.field)||void 0===Qv?void 0:Qv.value)&&void 0!==Kv?Kv:JSON.stringify({source:{},destination:{}})))||void 0===Jv?void 0:Jv.source,onChange:function(l){var o,i,t,d,a,u,r,v,s,c,p=null!==ll&&void 0!==ll&&null!==(o=ll.field)&&void 0!==o&&o.value?JSON.parse(null===ll||void 0===ll||null===(i=ll.field)||void 0===i?void 0:i.value):{source:{lat:0,lng:0,address:""},destination:{lat:0,lng:0,address:""}};if(p.source.lat=l.geometry.location.lat,p.source.lng=l.geometry.location.lng,p.source.address=l.formatted_address,null!==ll&&void 0!==ll&&ll.field&&(null===(t=e.options)||void 0===t||!t.compute))return L(JSON.stringify(p),ll.index),void ol({source:!1,destination:!1});var m,f,_,y,h,g,b,x,E,C,w,Z,M=null===P||void 0===P||null===(d=P.selected_fields)||void 0===d?void 0:d.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)}));M||((M=null===(m=W.newStepComponents)||void 0===m||null===(f=m.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})).length)>0})))||void 0===f||null===(_=f.selected_fields)||void 0===_?void 0:_.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})))||(M=null===(y=W.components)||void 0===y||null===(h=y.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})).length)>0})))||void 0===h||null===(g=h.selected_fields)||void 0===g?void 0:g.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})))||(M=null===(b=pe.processModule)||void 0===b||null===(x=b.steps[null!==(w=null===(Z=pe.processModule)||void 0===Z?void 0:Z.stepIndex)&&void 0!==w?w:1].component_blueprints)||void 0===x||null===(E=x.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})).length)>0})))||void 0===E||null===(C=E.selected_fields)||void 0===C?void 0:C.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)}))));if(null!==p&&void 0!==p&&p.source&&null!==(a=e.options)&&void 0!==a&&a.compute&&0==(null===(u=e.options)||void 0===u?void 0:u.destination))p.distance=(0,S.Iw)(p.source.lat,p.source.lng,re.latitude,re.longitude),p.duration=0,M&&(M.value=p.distance,M.disabled=!0),L(JSON.stringify(p),n);else if(null!==(r=p.source)&&void 0!==r&&r.address&&null!==ll&&void 0!==ll&&null!==(v=ll.field.options)&&void 0!==v&&v.compute){var k;null===(k=(0,mn.Y)(p.source.address,p.destination.address))||void 0===k||k.subscribe({next:function(e){var n;if((null===e||void 0===e||null===(n=e.routes)||void 0===n?void 0:n.length)>0){var l,o,i,t,d,a=e.routes[0];if((null===a||void 0===a||null===(l=a.legs)||void 0===l?void 0:l.length)>0)p.distance=(null===(o=a.legs[0])||void 0===o||null===(i=o.distance)||void 0===i?void 0:i.value)/1e3,p.duration=null===(t=a.legs[0])||void 0===t||null===(d=t.duration)||void 0===d?void 0:d.value,p.steps=a.legs[0].steps,M&&(M.value=p.distance,M.disabled=!0)}},error:function(e){p.distance=(0,S.Iw)(p.source.lat,p.source.lng,p.destination.lat,p.destination.lng),p.duration=0,M&&(M.value=p.distance,M.disabled=!0)}})}else null!==(s=p.source)&&void 0!==s&&s.address&&(p.distance=(0,S.Iw)(p.source.lat,p.source.lng,p.destination.lat,p.destination.lng),p.duration=0,M&&(M.value=p.distance));L(JSON.stringify(p),null!==(c=null===ll||void 0===ll?void 0:ll.index)&&void 0!==c?c:n),ol({source:!1,destination:!1})},mapkey:null===(Xv=fe.misc_info)||void 0===Xv?void 0:Xv.map}),m.createElement("br",null),m.createElement(w.zx,{clicked:function(){return ol({source:!1,destination:!1})},title:"Close",style:{width:"80%",backgroundColor:"orange"}}))),(null===ll||void 0===ll?void 0:ll.destination)&&m.createElement(w.U7,{hasCloseIcon:!0,blured:!1,scrollable:!0,isOpen:ll.destination,shadowedContainerStyle:{width:Mn.tq?"100%":"50%"},shadowedContainerClassname:f.Z.mappopup,onClose:function(){return ol({source:!1,destination:!1})}},m.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},m.createElement("div",{className:f.Z.title},null!==($v=null===ll||void 0===ll||null===(es=ll.field)||void 0===es?void 0:es.field_name)&&void 0!==$v?$v:"Destination:"),m.createElement(I.Z,{value:null===(ns=JSON.parse(null!==(ls=null===ll||void 0===ll||null===(os=ll.field)||void 0===os?void 0:os.value)&&void 0!==ls?ls:JSON.stringify({source:{},destination:{}})))||void 0===ns?void 0:ns.destination,zoom:null===e||void 0===e||null===(is=e.options)||void 0===is?void 0:is.zoom,onChange:function(e){var n,l,o,i,t,d,a,u,r,v,s,c,p,m=null!==ll&&void 0!==ll&&null!==(n=ll.field)&&void 0!==n&&n.value?JSON.parse(null===ll||void 0===ll||null===(l=ll.field)||void 0===l?void 0:l.value):{destination:{lat:0,lng:0,address:""},source:{lat:0,lng:0,address:""}},f=null===P||void 0===P||null===(o=P.selected_fields)||void 0===o?void 0:o.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)}));f||((f=null===(a=W.newStepComponents)||void 0===a||null===(u=a.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})).length)>0})))||void 0===u||null===(r=u.selected_fields)||void 0===r?void 0:r.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})))||(f=null===(v=W.components)||void 0===v||null===(s=v.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})).length)>0})))||void 0===s||null===(c=s.selected_fields)||void 0===c?void 0:c.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)}))));(m.destination.lat=e.geometry.location.lat,m.destination.lng=e.geometry.location.lng,m.destination.address=e.formatted_address,null!==(i=m.destination)&&void 0!==i&&i.address&&null!==ll&&void 0!==ll&&null!==(t=ll.field.options)&&void 0!==t&&t.compute)?null===(p=(0,mn.Y)(m.source.address,m.destination.address))||void 0===p||p.subscribe({next:function(e){var n;if((null===e||void 0===e||null===(n=e.routes)||void 0===n?void 0:n.length)>0){var l,o,i,t,d,a=e.routes[0];if((null===a||void 0===a||null===(l=a.legs)||void 0===l?void 0:l.length)>0)m.distance=(null===(o=a.legs[0])||void 0===o||null===(i=o.distance)||void 0===i?void 0:i.value)/1e3,m.duration=null===(t=a.legs[0])||void 0===t||null===(d=t.duration)||void 0===d?void 0:d.value,m.steps=a.legs[0].steps,f&&(f.value=m.distance)}},error:function(e){m.distance=(0,S.Iw)(m.source.lat,m.source.lng,m.destination.lat,m.destination.lng),m.duration=0,f&&(f.value=m.distance)}}):null!==(d=m.destination)&&void 0!==d&&d.address&&(m.distance=(0,S.Iw)(m.source.lat,m.source.lng,m.destination.lat,m.destination.lng),m.duration=0,f&&(f.value=m.distance));L(JSON.stringify(m),null===ll||void 0===ll?void 0:ll.index),ol({source:!1,destination:!1})},mapkey:null===(ts=fe.misc_info)||void 0===ts?void 0:ts.map}),m.createElement("br",null),m.createElement(w.zx,{clicked:function(){return ol({source:!1,destination:!1})},title:"Close",style:{width:"80%",backgroundColor:"orange"}})))):m.createElement(I.Z,{zoom:null===ll||void 0===ll||null===(ds=ll.field)||void 0===ds||null===(as=ds.options)||void 0===as?void 0:as.zoom,key:n,value:null===P||void 0===P?void 0:P.selected_fields[n].value,onLocationChange:function(e){return X(e,n)},mapkey:null===(us=fe.misc_info)||void 0===us?void 0:us.map});if("Map"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===($l=e.options)||void 0===$l||null===(eo=$l.maptype)||void 0===eo?void 0:eo.length)>0)return m.createElement(Fe,{apikey:null===fe||void 0===fe||null===(rs=fe.misc_info)||void 0===rs?void 0:rs.map,search:null!==(vs=null===e||void 0===e||null===(ss=e.options)||void 0===ss?void 0:ss.search)&&void 0!==vs&&vs});if("YesNo"===(null===e||void 0===e?void 0:e.data_type_name))return m.createElement(m.Fragment,null,m.createElement("div",{class:"checkbox-wrapper-21"},m.createElement("div",{style:{display:"flex",justifyContent:"space-between",margin:"20px 0px"}},m.createElement("input",{id:"check-23",type:"checkbox",checked:null!==(cs=null===e||void 0===e?void 0:e.value)&&void 0!==cs&&cs,onChange:function(e){return F(e.target.checked,n)},style:{marginRight:"20px"}}),m.createElement("label",null,e.field_name))));if("Freehand"===(null===e||void 0===e?void 0:e.data_type_name))return m.createElement(y.Z,{enabled:oo,style:{border:"0.5px dashed gray",padding:"10px"},width:Mn.tq?"100%":"".concat(null!==(ps=null===e||void 0===e||null===(ms=e.options)||void 0===ms?void 0:ms.width)&&void 0!==ps?ps:40,"%"),height:"400px",editMode:ee,key:n,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},null!==e&&void 0!==e&&e.value?m.createElement("img",{alt:"lg",src:null===e||void 0===e?void 0:e.value,style:{width:"500px",height:"300px",cursor:"pointer"}}):m.createElement(En(),{penColor:"green",canvasProps:{width:400,height:200,className:"sigCanvas"},ref:Pl,onEnd:function(){return L(Pl.current.toDataURL("image/png"),n)}}));if("User Wallet"===(null===e||void 0===e?void 0:e.data_type_name)){var Ec,Cc,wc,Zc,Mc,Sc,kc=null!==(Ec=null===_e||void 0===_e?void 0:_e.find((function(e){var n;return e.id===(null===A||void 0===A||null===(n=A.created_by)||void 0===n?void 0:n.id)})))&&void 0!==Ec?Ec:ae;return m.createElement("div",{style:{width:"100%",border:"1px dashed gray",padding:"20px",marginTop:"10px"}},m.createElement(pn.Z,{simple:!0,height:"100px",photo:kc.photo,firstName:"".concat(null===kc||void 0===kc?void 0:kc.first_name," ").concat(null===kc||void 0===kc?void 0:kc.last_name),lastName:"(".concat(null===(Cc=null!==(wc=kc.wallet)&&void 0!==wc?wc:0)||void 0===Cc?void 0:Cc.toFixed(2),")"),position:null===kc||void 0===kc||null===(Zc=kc.positions)||void 0===Zc||null===(Mc=Zc.slice(0,1))||void 0===Mc?void 0:Mc.map((function(e){return e.name})),email:null===kc||void 0===kc?void 0:kc.email,cardClicked:function(){},width:Mn.tq?"100%":""}),m.createElement("input",{type:"number",autoComplete:"off",value:null!==(Sc=null===e||void 0===e?void 0:e.value)&&void 0!==Sc?Sc:0,className:f.Z.currencyInput,style:{border:"1px solid black",padding:"0",margin:"0",width:"100%"},onChange:function(e){L(e.target.value,n)}}),m.createElement(w.zx,{loading:we,clear:!0,title:"Release amount",style:{color:"white",backgroundColor:"green",display:e.visible&&null!==e&&void 0!==e&&e.value?"":"none",width:"100%"},clicked:function(){Ze(!0),(0,fn.e_)({user_id:kc.id,id:(0,S.mR)(),total:-+(null===e||void 0===e?void 0:e.value),product:"Withdrawal",notes:"Withdrawal",quantity:1}).pipe((0,E.P)()).subscribe({next:function(){kc.wallet=+(+(null===kc||void 0===kc?void 0:kc.wallet)-(null===e||void 0===e?void 0:e.value)),e.visible=!1,Ze(!1)}})}}))}return"Currency"===(null===e||void 0===e?void 0:e.data_type_name)&&null!==e&&void 0!==e&&null!==(no=e.options)&&void 0!==no&&no.currency_type?m.createElement("div",{style:{border:"1px solid var(--app-color-gray-light)",width:"inherit",display:"flex"}},m.createElement("div",{onClick:function(){return Ze(!we)},className:f.Z.currencySymbol},null!==e&&void 0!==e&&null!==(fs=e.options)&&void 0!==fs&&fs.symbol?null===e||void 0===e||null===(_s=e.options)||void 0===_s?void 0:_s.symbol:""," "),we&&m.createElement(w.Ld,{items:S.s3,defaultSelectedItem:{label:null===e||void 0===e||null===(ys=e.options)||void 0===ys?void 0:ys.currency_type,value:null===e||void 0===e||null===(hs=e.options)||void 0===hs?void 0:hs.country_code},triggerType:"chevron",placeholder:"Select curency...",className:f.Z.currencySelectComponent,inputClassName:f.Z.currencySearchInput,inputContainerClassName:f.Z.currencyInputContainerClassName,clearControlsClassName:f.Z.currencyClearControlsClassName,molclassname:f.Z.currencySelectMenuOverlayList,moliclassname:f.Z.currencySelectMenuOverlayListItem,onChange:function(e){W.currency=e.value,K(e,n),Ze(!1)}}),!we&&m.createElement("input",{type:"number",autoComplete:"off",value:null!==(gs=P.selected_fields[n].value)&&void 0!==gs?gs:0,className:f.Z.currencyInput,onChange:function(e){L(e.target.value,n)}})):"Phone"===(null===e||void 0===e?void 0:e.data_type_name)?m.createElement(M(),{specialLabel:"",value:P.selected_fields[n].value,country:null===e||void 0===e||null===(bs=e.options)||void 0===bs?void 0:bs.country_code,onChange:function(e,l,o){G(l,n,o.target.value)},inputClass:f.Z.phoneIInput}):m.createElement("div",{style:{width:"100%"}},"file"===e.data_type?m.createElement(Yn,{field_id:e.id,value:null===e||void 0===e?void 0:e.value,isInherited:Y,checkIfAreMandatoryErrored:j,options:null===e||void 0===e?void 0:e.options,index:n,indexInContextArray:R}):"date"===e.data_type||null!==e&&void 0!==e&&null!==(xs=e.options)&&void 0!==xs&&xs.country_code||null!==e&&void 0!==e&&null!==(Es=e.options)&&void 0!==Es&&Es.currency_type||"Number"===e.data_type_name?m.createElement("div",{className:f.Z.fieldTypeInput,style:{border:"1px solid var(--app-color-gray-light)",height:"auto"}},"date"===e.data_type?"Range"===(null===e||void 0===e||null===(Cs=e.options)||void 0===Cs?void 0:Cs.type)?m.createElement(w.$m,{inputContainerClassName:f.Z.inputContainerClassName,dateChangeHandler:function(e){return Rl(e,n)},startDate:Oe,endDate:Le}):null!==e&&void 0!==e&&null!==(ws=e.options)&&void 0!==ws&&ws.time?m.createElement("div",{style:{width:"100%",height:"auto",border:"0"}},m.createElement(Be(),{selected:null!==e&&void 0!==e&&e.value?new Date(null===e||void 0===e?void 0:e.value):new Date,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,customInput:m.createElement("div",{style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",padding:"5px",border:"0px solid var(--app-color-gray-lighter)"}},m.createElement("input",{value:e.value?rn()(e.value).format("DD MMMM YYYY HH:mm"):"",className:f.Z.inputValue,type:"text",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",fontFamily:"var(--app-text-main-font)",fontSize:"14px",fontWeight:"bold",lineHeight:"20px",color:"#4A4A4A",textAlign:"left",maxWidth:"98%",border:"0px"},onChange:function(e){}}),m.createElement(he.G,{icon:ge.WRo,style:{margin:"0 10px",width:"14px",height:"14px"}})),className:f.Z.singleInputContainer,onChange:function(e){L(e,n)}})):m.createElement(w.X9,{toggleDP:function(e){return al(!0===e?"240px":"50px")},value:void 0==e.value?"":rn()(new Date(e.value)).format("Do MMMM YYYY"),dateChangeHandler:function(e){return Ul(e,n)},selected:new Date(rn()(ke,"YYYY-MM-DD")),iconClassName:f.Z.calendar,inputContainerClassName:f.Z.singleInputContainer,inputStyle:{textAlign:"left",border:"none",fontSize:"16px"},hasCalendarIcon:!0}):m.createElement(m.Fragment,null,m.createElement("input",{onBlur:function(l){return Bn(e.data_type_name,l.target.value,R,n,W)},type:e.data_type,onChange:function(e){L(e.target.value,n)},autoComplete:"none",value:P.selected_fields[n].value?P.selected_fields[n].value:""===qn(null===e||void 0===e?void 0:e.options)?"":qn(null===e||void 0===e?void 0:e.options),className:f.Z.fieldTypeInput,name:e.field_name,style:{height:"33px",backgroundColor:null!==e&&void 0!==e&&null!==(Zs=e.options)&&void 0!==Zs&&Zs.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(Ms=e.options)||void 0===Ms?void 0:Ms.valueC:""},disabled:null!==(Ss=P.selected_fields[n].disabled)&&void 0!==Ss&&Ss}),!0===(null===e||void 0===e||null===(ks=e.options)||void 0===ks?void 0:ks.chart)&&m.createElement(wn.Z,{title:e.field_name,series:null===(Is=P.selected_fields[n].value)||void 0===Is?void 0:Is.split(",").map((function(e){return+e})),labels:null!==e&&void 0!==e&&null!==(Ns=e.options)&&void 0!==Ns&&Ns.notes?null===e||void 0===e||null===(Ts=e.options)||void 0===Ts||null===(Ds=Ts.notes)||void 0===Ds?void 0:Ds.split(","):["Incomplete","Completed"]}),"bar"===(null===e||void 0===e||null===(Ps=e.options)||void 0===Ps?void 0:Ps.display)&&"Number"===(null===e||void 0===e?void 0:e.data_type_name)&&m.createElement("div",{style:{height:"30px",width:"100%",backgroundColor:null===e||void 0===e||null===(As=e.options)||void 0===As?void 0:As.maxC,display:"flex",flexDirection:"column"}},m.createElement("input",{value:null===(Os=P.selected_fields[n])||void 0===Os?void 0:Os.value,className:f.Z.fieldTypeInput,name:e.field_name,disabled:!0,style:{color:"transparent",height:"30px",width:"".concat(+(null===(Ls=P.selected_fields[n])||void 0===Ls?void 0:Ls.value)/+e.options.max*100,"%"),backgroundColor:null===e||void 0===e||null===(zs=e.options)||void 0===zs?void 0:zs.barC}})))):"Long Text"===e.data_type_name?null!==(Rs=e.options)&&void 0!==Rs&&Rs.rich?m.createElement(On(),{modules:S.WH,style:{fontFamily:"var(--app-text-main-font)",minHeight:"200px",border:"0.5px solid var(--app-color-gray-dark)"},formats:S.dv,defaultValue:null!==(Us=null===(Fs=P.selected_fields[n])||void 0===Fs?void 0:Fs.value)&&void 0!==Us?Us:"",onChange:function(e){L(e,n)},onBlur:function(){},theme:"snow"}):m.createElement("textarea",{className:f.Z.fieldTypeTextarea,style:{border:"1px solid var(--app-color-gray-light)",backgroundColor:null!==e&&void 0!==e&&null!==(Ws=e.options)&&void 0!==Ws&&Ws.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(qs=e.options)||void 0===qs?void 0:qs.valueC:""},onBlur:function(l){return Bn(e.data_type_name,l.target.value,R,n,W)},type:e.data_type,value:P.selected_fields[n].value?P.selected_fields[n].value:""===qn(null===e||void 0===e?void 0:e.options)?"":qn(null===e||void 0===e?void 0:e.options),onFocus:function(){},disabled:null!==(Bs=P.selected_fields[n].disabled)&&void 0!==Bs&&Bs,autoComplete:"none",onChange:function(e){L(e.target.value,n)},name:e.field_name}):"Link"===e.data_type_name?m.createElement("div",{style:{width:"inherit",display:"flex",flexDirection:"column"}},(null===e||void 0===e?void 0:e.value)&&((null===e||void 0===e||null===(Ys=e.value)||void 0===Ys?void 0:Ys.includes("jpg"))||(null===e||void 0===e||null===(Hs=e.value)||void 0===Hs?void 0:Hs.includes("jpeg"))||(null===e||void 0===e||null===(js=e.options)||void 0===js?void 0:js.image)||(null===e||void 0===e||null===(Vs=e.value)||void 0===Vs?void 0:Vs.includes("png")))&&m.createElement("img",{alt:"lg",onError:function(e){return e.target.src="https://i.quotev.com/b2gtjqawaaaa.jpg"},src:null===e||void 0===e?void 0:e.value,style:{width:"100%",height:"100%",cursor:"pointer"}}),ie&&m.createElement("img",{alt:"lg",onError:function(e){return e.target.src="https://i.quotev.com/b2gtjqawaaaa.jpg"},src:"https://i.quotev.com/b2gtjqawaaaa.jpg",style:{width:"100%",height:"100%",cursor:"pointer"}}),m.createElement("textarea",{onBlur:function(l){return Bn(e.data_type_name,l.target.value,R,n,W)},type:e.data_type,onChange:function(e){L(e.target.value,n)},autoComplete:"none",value:P.selected_fields[n].value?P.selected_fields[n].value:""===qn(null===e||void 0===e?void 0:e.options)?"":qn(null===e||void 0===e?void 0:e.options),className:f.Z.fieldTypeTextarea,style:{border:"1px solid var(--app-color-gray-light)"},name:e.field_name,disabled:null!==(Gs=P.selected_fields[n].disabled)&&void 0!==Gs&&Gs})):m.createElement("input",{onBlur:function(l){return Bn(e.data_type_name,l.target.value,R,n,W)},type:e.data_type,onChange:function(e){L(e.target.value,n)},autoComplete:"none",value:P.selected_fields[n].value?P.selected_fields[n].value:""===qn(null===e||void 0===e?void 0:e.options)?"":qn(null===e||void 0===e?void 0:e.options),className:f.Z.fieldTypeInput,style:{border:"1px solid var(--app-color-gray-light)",backgroundColor:null!==e&&void 0!==e&&null!==(Js=e.options)&&void 0!==Js&&Js.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(Ks=e.options)||void 0===Ks?void 0:Ks.valueC:""},name:e.field_name,disabled:null!==(Qs=P.selected_fields[n].disabled)&&void 0!==Qs&&Qs}))}return m.createElement("div",{style:{width:"100%",height:"auto",border:"1px solid var(--app-color-gray-light)"}},m.createElement(Be(),{showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,customInput:m.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",padding:"5px",border:"0px solid var(--app-color-gray-lighter)"}},m.createElement("input",{value:e.value?rn()(e.value).format("DD MMMM YYYY HH:mm"):"",disabled:!0,type:"text",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",fontFamily:"var(--app-text-main-font)",fontSize:"16px",lineHeight:"20px",color:"#4A4A4A",textAlign:"left",maxWidth:"98%",border:"0px"},onChange:function(e){}}),m.createElement(he.G,{icon:ge.WRo,style:{marginLeft:"10px",width:"14px",height:"14px"}})),className:f.Z.singleInputContainer,selected:null!==e&&void 0!==e&&e.value?new Date(rn()(null===e||void 0===e?void 0:e.value)):(0,un.now)(),onChange:function(e){e>(0,un.now)()&&Ul(e,n)}}))}var Ic,Nc,Tc,Dc,Pc,Ac,Oc,Lc,zc,Rc=Object.entries(Object.assign({item_code:null,quantity:null,value:null,alt_value:null,total:null},e.options.map)).reduce((function(e,n){var l=(0,p.Z)(n,2),o=l[0],i=l[1];return null===i||(e[o]=i),e}),{});return m.createElement(sn.Z,{tableStyle:{marginBottom:W.items.find((function(e){return e.edit}))?"160px":"0"},style:{width:"100%",border:"0"},modern:!(!Mn.tq&&"vertical"!==(null===e||void 0===e||null===(Ic=e.options)||void 0===Ic?void 0:Ic.table)),tableHostSimple:f.Z.itemsContainer_ii,layeredColumns:null===P||void 0===P||null===(Nc=P.selected_fields)||void 0===Nc?void 0:Nc.filter((function(e){var n;return null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem})).map((function(e){var n,l;return null!==(n=e.options)&&void 0!==n&&n.group?{label:null===(l=e.options)||void 0===l?void 0:l.group,subColumns:[{label:e.field_name}]}:{label:e.field_name}})).concat([{label:"Actions"}]),list:null===(Tc=$e.Z([ln.Z(nn.Z("index"))])(null!==(Dc=null!==e&&void 0!==e&&null!==(Pc=e.options)&&void 0!==Pc&&Pc.type?W.items.filter((function(n){var l;return n.type===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.type)})):W.items)&&void 0!==Dc?Dc:[]))||void 0===Tc?void 0:Tc.map((function(n,l){var o={index:l,Actions:m.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",alignContent:"center",minWidth:"80px",maxWidth:"120px",margin:null!==n&&void 0!==n&&n.edit?"0":"20px 10px"}},!(null!==n&&void 0!==n&&n.edit)&&m.createElement(he.G,{icon:ge.IwR,onClick:function(){n.edit=!0,q({action:k._U.setModuleItems,value:W.items})}}),(null===n||void 0===n?void 0:n.edit)&&m.createElement(he.G,{icon:ge.EsX,onClick:function(){var l;n.edit=!1,q({action:k._U.setModuleItems,value:W.items}),null!==A&&void 0!==A&&A.id&&null!==e&&void 0!==e&&null!==(l=e.options)&&void 0!==l&&l.asap&&(0,h.np)(n,A.id).subscribe({})}}),(null===n||void 0===n?void 0:n.edit)&&m.createElement(he.G,{icon:ge.$aW,onClick:function(){q({action:k._U.setModuleItems,value:W.items.filter((function(e){return e.id!==n.id})).map((function(e,n){return(0,v.Z)((0,v.Z)({},e),{},{index:n})}))})}}))};return Object.entries(null!==Rc&&void 0!==Rc?Rc:[]).forEach((function(e){var i,t,d;o[e[1]]=m.createElement("div",{style:{padding:"0"}},m.createElement(Vl,{index:l,enabled:!0,edit:null!==(i=null===n||void 0===n?void 0:n.edit)&&void 0!==i&&i,isItem:!0,item:n,field:(0,v.Z)((0,v.Z)({},null!==(t=null===P||void 0===P||null===(d=P.selected_fields)||void 0===d?void 0:d.find((function(n){var l;return(null===n||void 0===n||null===(l=n.options)||void 0===l?void 0:l.mapToItem)===e[0]})))&&void 0!==t?t:{}),{},{visible:!0,value:n[e[0]]}),withLabel:!1,handleItem:function(l,o){n[e[0]]!==l&&(n[e[0]]=l,q({action:k._U.setModuleItems,value:[].concat((0,c.Z)(W.items.filter((function(e){return e.id!==n.id}))),[n])}))}}))})),o})),footer:null!==(Ac=e.options)&&void 0!==Ac&&Ac.footer?null===P||void 0===P||null===(Oc=P.selected_fields)||void 0===Oc?void 0:Oc.filter((function(e){var n;return null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem})).map((function(n,l){var o,i;return null!==n&&void 0!==n&&null!==(o=n.options)&&void 0!==o&&o.footer?m.createElement("div",{style:{margin:"20px 0px"}},Gl(null!==e&&void 0!==e&&null!==(i=e.options)&&void 0!==i&&i.type?W.items.filter((function(n){var l;return n.type===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.type)})):W.items,n,e)):0===l?"Totals:":""})).concat([""]):[]},(null===P||void 0===P||null===(Lc=P.options)||void 0===Lc?void 0:Lc.allowMultipleInputs)&&m.createElement("div",{className:f.Z.iconsContainer,style:{display:"flex",justifyContent:"space-between"}},m.createElement(w.zx,{light:!0,style:{width:"32px"},clicked:function(){var n,l;q({action:k._U.setModuleItems,value:[].concat((0,c.Z)(W.items),[{id:(0,S.mR)(),item_code:"",value:"",alt_value:"",quantity:"",total:"",type:null!==(n=null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.type)&&void 0!==n?n:"",edit:!0,index:W.items.length}])})}},m.createElement(_.mm,null)),(null===(zc=e.options)||void 0===zc?void 0:zc.export)&&Wl(null===A||void 0===A?void 0:A.component_items,["item_code","quantity","value","alt_value","total"])))}},Kl=(null===P||void 0===P||null===(l=P.selected_fields)||void 0===l?void 0:l.length)>0&&(null===P||void 0===P||null===(o=P.selected_fields)||void 0===o?void 0:o.sort((function(e,n){return e.index-n.index})).map((function(e,n){var l,o,i,t,d,a,u,r,s,c,p,f,_,h,g,b,x,E=(0,v.Z)((0,v.Z)({},e),{},{visible:null===e||void 0===e?void 0:e.visible,field:e});return m.createElement(y.Z,{landscape:!Mn.tq&&(null===E||void 0===E||null===(l=E.options)||void 0===l?void 0:l.landscape),enabled:null===E||void 0===E?void 0:E.enabled,width:"Transaction List"===(null===E||void 0===E?void 0:E.data_type_name)||"Step List"===(null===E||void 0===E?void 0:E.data_type_name)||"Component List"===(null===E||void 0===E?void 0:E.data_type_name)||"Module"===(null===E||void 0===E?void 0:E.data_type_name)||"rows"===(null===E||void 0===E||null===(o=E.options)||void 0===o?void 0:o.orientation)&&"Info"===(null===E||void 0===E?void 0:E.data_type_name)||"GoogleAI Assistant"===(null===E||void 0===E?void 0:E.data_type_name)||"Calendar"===(null===E||void 0===E?void 0:E.data_type_name)||"Video"===(null===E||void 0===E?void 0:E.data_type_name)&&null!==E&&void 0!==E&&null!==(i=E.options)&&void 0!==i&&i.start||"Summary"===(null===E||void 0===E?void 0:E.data_type_name)||"Record"===(null===E||void 0===E?void 0:E.data_type_name)&&"Tiles"===(null===E||void 0===E||null===(t=E.options)||void 0===t?void 0:t.selection)||Mn.tq?"100%":"Tiles"===(null===E||void 0===E||null===(d=E.options)||void 0===d?void 0:d.selection)&&"Lookup"===(null===E||void 0===E?void 0:E.data_type_name)||"Formula"===(null===E||void 0===E?void 0:E.data_type_name)?"50%":"".concat(null!==(a=null===E||void 0===E||null===(u=E.options)||void 0===u?void 0:u.width)&&void 0!==a?a:(null===P||void 0===P||null===(r=P.selected_fields)||void 0===r?void 0:r.filter((function(e){return!0===e.visible})).length)<5?"50":Fn,"%"),editMode:ee,key:n,fieldLabel:"Checkbox"===(null===E||void 0===E?void 0:E.data_type_name)?null!==E&&void 0!==E&&null!==(s=E.options)&&void 0!==s&&s.value?"":E.field_name:"Info"===(null===E||void 0===E?void 0:E.data_type_name)||"Module"===(null===E||void 0===E?void 0:E.data_type_name)||"Record"===(null===E||void 0===E?void 0:E.data_type_name)&&(null===E||void 0===E||null===(c=E.options)||void 0===c||null===(p=c.filters)||void 0===p?void 0:p.length)>0||"Filters"===(null===E||void 0===E?void 0:E.data_type_name)&&(null===E||void 0===E||null===(f=E.options)||void 0===f||null===(_=f.filters)||void 0===_?void 0:_.length)>0||"Profile"===(null===E||void 0===E?void 0:E.data_type_name)||"Chart"===(null===E||void 0===E?void 0:E.data_type_name)||"URL"===(null===E||void 0===E?void 0:E.data_type_name)?"":E.field_name,fieldIcon:E.icon,isProcess:!0,visible:!("Global"===(null===E||void 0===E?void 0:E.data_type_name)||"Connector"===(null===E||void 0===E?void 0:E.data_type_name)||"Emails"===(null===E||void 0===E?void 0:E.data_type_name)||"Template"===(null===E||void 0===E?void 0:E.data_type_name)||"List Filter"===(null===E||void 0===E?void 0:E.data_type_name)&&(null===E||void 0===E||null===(h=E.options)||void 0===h||null===(g=h.value)||void 0===g?void 0:g.length)>0||"Action Button"===(null===E||void 0===E?void 0:E.data_type_name)||"Ratings"===(null===E||void 0===E?void 0:E.data_type_name))&&E.visible,mandatory:E.mandatory,error:(null===(b=E.errors)||void 0===b?void 0:b.length)>0?"".concat(E.errors,". Try to select again"):"",notes:"Value Button"===(null===E||void 0===E?void 0:E.data_type_name)?"":null===E||void 0===E||null===(x=E.options)||void 0===x?void 0:x.notes,showWidth:"Transaction List"===(null===E||void 0===E?void 0:E.data_type_name)?function(e){E.options=(0,v.Z)((0,v.Z)({},E.options),{},{width:"".concat(e,"px")})}:function(){},dragEnd:"People"===(null===E||void 0===E?void 0:E.data_type_name)?function(n){var l,o=null===(l=document.getElementById(null===P||void 0===P?void 0:P.name))||void 0===l?void 0:l.getBoundingClientRect();document.getElementById(e.field_name).style.position="absolute",document.getElementById(e.field_name).style.top="".concat(n.top-o.top,"px"),document.getElementById(e.field_name).style.left="".concat(n.left-o.left,"px")}:function(){},style:{border:"0"}},Jl(E,n))}))),Ql=(null===P||void 0===P||null===(i=P.selected_fields)||void 0===i?void 0:i.length)>0&&(null===P||void 0===P||null===(t=P.selected_fields)||void 0===t?void 0:t.sort((function(e,n){return e.index-n.index})).map((function(e,n){var l,o,i,t,d,a,u,r,s,c,p,f,_,h,g,b,x,E,C,w,Z=(0,v.Z)((0,v.Z)({},e),{},{visible:!(null===e||void 0===e||!e.visible)&&(!((null===P||void 0===P||null===(l=P.options)||void 0===l||null===(o=l.left)||void 0===o||null===(i=o.find((function(n){return n===e.field_name})))||void 0===i?void 0:i.length)>0)&&e.visible),field:e});return m.createElement(y.Z,{landscape:!Mn.tq&&(null===Z||void 0===Z||null===(t=Z.options)||void 0===t?void 0:t.landscape),enabled:null===Z||void 0===Z?void 0:Z.enabled,width:"Transaction List"===(null===Z||void 0===Z?void 0:Z.data_type_name)||"Step List"===(null===Z||void 0===Z?void 0:Z.data_type_name)||"Component List"===(null===Z||void 0===Z?void 0:Z.data_type_name)||"Module"===(null===Z||void 0===Z?void 0:Z.data_type_name)||"rows"===(null===Z||void 0===Z||null===(d=Z.options)||void 0===d?void 0:d.orientation)&&"Info"===(null===Z||void 0===Z?void 0:Z.data_type_name)||"GoogleAI Assistant"===(null===Z||void 0===Z?void 0:Z.data_type_name)||"Calendar"===(null===Z||void 0===Z?void 0:Z.data_type_name)||"Video"===(null===Z||void 0===Z?void 0:Z.data_type_name)&&null!==Z&&void 0!==Z&&null!==(a=Z.options)&&void 0!==a&&a.start||"Summary"===(null===Z||void 0===Z?void 0:Z.data_type_name)||"Record"===(null===Z||void 0===Z?void 0:Z.data_type_name)&&"Tiles"===(null===Z||void 0===Z||null===(u=Z.options)||void 0===u?void 0:u.selection)||Mn.tq?"100%":"Tiles"===(null===Z||void 0===Z||null===(r=Z.options)||void 0===r?void 0:r.selection)&&"Lookup"===(null===Z||void 0===Z?void 0:Z.data_type_name)||"Formula"===(null===Z||void 0===Z?void 0:Z.data_type_name)?"50%":"".concat(null!==(s=null===Z||void 0===Z||null===(c=Z.options)||void 0===c?void 0:c.width)&&void 0!==s?s:(null===P||void 0===P||null===(p=P.selected_fields)||void 0===p?void 0:p.filter((function(e){return!0===e.visible})).length)<5?"50":Fn,"%"),editMode:ee,key:n,fieldLabel:"Checkbox"===(null===Z||void 0===Z?void 0:Z.data_type_name)?null!==Z&&void 0!==Z&&null!==(f=Z.options)&&void 0!==f&&f.value?"":Z.field_name:"Info"===(null===Z||void 0===Z?void 0:Z.data_type_name)||"Module"===(null===Z||void 0===Z?void 0:Z.data_type_name)||"Record"===(null===Z||void 0===Z?void 0:Z.data_type_name)&&(null===Z||void 0===Z||null===(_=Z.options)||void 0===_||null===(h=_.filters)||void 0===h?void 0:h.length)>0||"Filters"===(null===Z||void 0===Z?void 0:Z.data_type_name)&&(null===Z||void 0===Z||null===(g=Z.options)||void 0===g||null===(b=g.filters)||void 0===b?void 0:b.length)>0||"Profile"===(null===Z||void 0===Z?void 0:Z.data_type_name)||"Chart"===(null===Z||void 0===Z?void 0:Z.data_type_name)||"URL"===(null===Z||void 0===Z?void 0:Z.data_type_name)?"":Z.field_name,fieldIcon:Z.icon,isProcess:!0,visible:!("Global"===(null===Z||void 0===Z?void 0:Z.data_type_name)||"Connector"===(null===Z||void 0===Z?void 0:Z.data_type_name)||"Emails"===(null===Z||void 0===Z?void 0:Z.data_type_name)||"Template"===(null===Z||void 0===Z?void 0:Z.data_type_name)||"List Filter"===(null===Z||void 0===Z?void 0:Z.data_type_name)&&(null===Z||void 0===Z||null===(x=Z.options)||void 0===x||null===(E=x.value)||void 0===E?void 0:E.length)>0||"Action Button"===(null===Z||void 0===Z?void 0:Z.data_type_name)||"Ratings"===(null===Z||void 0===Z?void 0:Z.data_type_name))&&Z.visible,mandatory:Z.mandatory,error:(null===(C=Z.errors)||void 0===C?void 0:C.length)>0?"".concat(Z.errors,". Try to select again"):"",notes:"Value Button"===(null===Z||void 0===Z?void 0:Z.data_type_name)?"":null===Z||void 0===Z||null===(w=Z.options)||void 0===w?void 0:w.notes,showWidth:"Transaction List"===(null===Z||void 0===Z?void 0:Z.data_type_name)?function(e){Z.options=(0,v.Z)((0,v.Z)({},Z.options),{},{width:"".concat(e,"px")})}:function(){},dragEnd:"People"===(null===Z||void 0===Z?void 0:Z.data_type_name)?function(n){var l,o=null===(l=document.getElementById(null===P||void 0===P?void 0:P.name))||void 0===l?void 0:l.getBoundingClientRect();document.getElementById(e.field_name).style.position="absolute",document.getElementById(e.field_name).style.top="".concat(n.top-o.top,"px"),document.getElementById(e.field_name).style.left="".concat(n.left-o.left,"px")}:function(){},style:{border:"0"}},Jl(Z,n))}))),Xl=(null===P||void 0===P||null===(d=P.selected_fields)||void 0===d?void 0:d.length)>0&&(null===P||void 0===P||null===(a=P.selected_fields)||void 0===a?void 0:a.sort((function(e,n){return e.index-n.index})).map((function(e,n){var l,o,i,t,d,a,u,r,s,c,p,f,_,h,g,b,x,E,C,w=(0,v.Z)((0,v.Z)({},e),{},{visible:!!e.visible&&((null===P||void 0===P||null===(l=P.options)||void 0===l||null===(o=l.left)||void 0===o||null===(i=o.find((function(n){return n===e.field_name})))||void 0===i?void 0:i.length)>0&&e.visible),field:e});return m.createElement(y.Z,{landscape:!1,enabled:null===w||void 0===w?void 0:w.enabled,width:"Transaction List"===(null===w||void 0===w?void 0:w.data_type_name)||"Step List"===(null===w||void 0===w?void 0:w.data_type_name)||"Component List"===(null===w||void 0===w?void 0:w.data_type_name)||"Module"===(null===w||void 0===w?void 0:w.data_type_name)||"rows"===(null===w||void 0===w||null===(t=w.options)||void 0===t?void 0:t.orientation)&&"Info"===(null===w||void 0===w?void 0:w.data_type_name)||"GoogleAI Assistant"===(null===w||void 0===w?void 0:w.data_type_name)||"Calendar"===(null===w||void 0===w?void 0:w.data_type_name)||"Video"===(null===w||void 0===w?void 0:w.data_type_name)&&null!==w&&void 0!==w&&null!==(d=w.options)&&void 0!==d&&d.start||"Summary"===(null===w||void 0===w?void 0:w.data_type_name)||"Record"===(null===w||void 0===w?void 0:w.data_type_name)&&"Tiles"===(null===w||void 0===w||null===(a=w.options)||void 0===a?void 0:a.selection)||Mn.tq?"100%":"Tiles"===(null===w||void 0===w||null===(u=w.options)||void 0===u?void 0:u.selection)&&"Lookup"===(null===w||void 0===w?void 0:w.data_type_name)||"Formula"===(null===w||void 0===w?void 0:w.data_type_name)?"50%":"".concat(null!==(r=null===w||void 0===w||null===(s=w.options)||void 0===s?void 0:s.width)&&void 0!==r?r:(null===P||void 0===P||null===(c=P.selected_fields)||void 0===c?void 0:c.filter((function(e){return!0===e.visible})).length)<5?"50":Fn,"%"),editMode:ee,key:n,fieldLabel:"Checkbox"===(null===w||void 0===w?void 0:w.data_type_name)?null!==w&&void 0!==w&&null!==(p=w.options)&&void 0!==p&&p.value?"":w.field_name:"Info"===(null===w||void 0===w?void 0:w.data_type_name)||"Module"===(null===w||void 0===w?void 0:w.data_type_name)||"Record"===(null===w||void 0===w?void 0:w.data_type_name)&&(null===w||void 0===w||null===(f=w.options)||void 0===f||null===(_=f.filters)||void 0===_?void 0:_.length)>0||"Filters"===(null===w||void 0===w?void 0:w.data_type_name)&&(null===w||void 0===w||null===(h=w.options)||void 0===h||null===(g=h.filters)||void 0===g?void 0:g.length)>0||"Profile"===(null===w||void 0===w?void 0:w.data_type_name)||"Chart"===(null===w||void 0===w?void 0:w.data_type_name)||"URL"===(null===w||void 0===w?void 0:w.data_type_name)?"":w.field_name,fieldIcon:w.icon,isProcess:!0,visible:!("Global"===(null===w||void 0===w?void 0:w.data_type_name)||"Connector"===(null===w||void 0===w?void 0:w.data_type_name)||"Emails"===(null===w||void 0===w?void 0:w.data_type_name)||"Template"===(null===w||void 0===w?void 0:w.data_type_name)||"List Filter"===(null===w||void 0===w?void 0:w.data_type_name)&&(null===w||void 0===w||null===(b=w.options)||void 0===b||null===(x=b.value)||void 0===x?void 0:x.length)>0||"Action Button"===(null===w||void 0===w?void 0:w.data_type_name)||"Ratings"===(null===w||void 0===w?void 0:w.data_type_name))&&w.visible,mandatory:w.mandatory,error:(null===(E=w.errors)||void 0===E?void 0:E.length)>0?"".concat(w.errors,". Try to select again"):"",notes:"Value Button"===(null===w||void 0===w?void 0:w.data_type_name)?"":null===w||void 0===w||null===(C=w.options)||void 0===C?void 0:C.notes,showWidth:"Transaction List"===(null===w||void 0===w?void 0:w.data_type_name)?function(e){w.options=(0,v.Z)((0,v.Z)({},w.options),{},{width:"".concat(e,"px")})}:function(){},dragEnd:"People"===(null===w||void 0===w?void 0:w.data_type_name)?function(n){var l,o=null===(l=document.getElementById(null===P||void 0===P?void 0:P.name))||void 0===l?void 0:l.getBoundingClientRect();document.getElementById(e.field_name).style.position="absolute",document.getElementById(e.field_name).style.top="".concat(n.top-o.top,"px"),document.getElementById(e.field_name).style.left="".concat(n.left-o.left,"px")}:function(){},style:{border:"0"}},Jl(w,n))})));return m.createElement("div",{id:null===P||void 0===P?void 0:P.name,className:f.Z.emulatedFlexGap,style:{width:Mn.tq?"100%":"",position:"relative",marginBottom:dl}},(null===P||void 0===P?void 0:P.selected_fields.filter((function(e){var n,l;return null===P||void 0===P||null===(n=P.options)||void 0===n||null===(l=n.left)||void 0===l?void 0:l.find((function(n){return n===e.field_name}))})).length)>0&&!Mn.tq?m.createElement("div",{style:{display:Mn.tq?"block":"flex",width:"100%"}},m.createElement("div",{style:{width:Mn.tq?"100%":"30%",overflow:"auto"}},Xl),m.createElement("div",{className:f.Z.emulatedFlexGap,style:{width:Mn.tq?"100%":"80%",overflow:"auto",padding:"0",margin:"0"}},Ql)):Kl,(null===ml||void 0===ml||null===(Z=ml.candidates)||void 0===Z?void 0:Z.length)>0&&m.createElement(y.Z,{width:"80%",fieldLabel:"Response",visible:!0},m.createElement("textarea",{className:f.Z.fullLengthTextarea,type:"text",onFocus:function(){},disabled:!0,value:null===ml||void 0===ml||null===(N=ml.candidates[0])||void 0===N||null===(D=N.content.parts[0])||void 0===D?void 0:D.text})))}));function qn(e){return null!==e&&void 0!==e&&e.country_prefix?null===e||void 0===e?void 0:e.country_prefix:null!==e&&void 0!==e&&e.currency_value?(null===e||void 0===e?void 0:e.currency_value)+" ":""}var Bn=function(e,n,l,o,i){var t,d,a,u=null===(a=(0,c.Z)(null!==(t=null===(d=i.currentStep)||void 0===d?void 0:d.component_blueprints)&&void 0!==t?t:[])[l])||void 0===a?void 0:a.selected_fields[o];switch(e){case"Link":!function(e){var n;try{n=new URL(e)}catch(l){return!1}return"http:"===n.protocol||"https:"===n.protocol}(n)?u.errors="This field should contain a link!":u.errors="";break;case"E-mail":case"Email":new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(n)?u.errors="":u.errors="This field should contain an valid email address!";break;case"Phone":new RegExp(/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/im).test(n)?u.errors="":u.errors="This field should contain an valid phone number!";break;case"Email Recipient":new RegExp(/^([a-z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*)(([, ]+[a-z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])\.([a-z0-9]([a-z0-9-]*[a-z0-9]))*)?)*$/).test(n)?u.errors="":u.errors="This field should contain an valid email address!"}},Yn=function(e){var n,l=e.options,o=e.field_id,i=e.index,t=e.indexInContextArray,d=e.value,a=e.checkIfAreMandatoryErrored,u=(0,m.useState)(),r=(0,p.Z)(u,2),v=r[0],s=r[1],_=(0,m.useState)(!1),y=(0,p.Z)(_,2),g=y[0],b=y[1],x=(0,k.pQ)(),E=(0,p.Z)(x,2),C=E[0],w=E[1];return m.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flex:"1 1",overflow:"hidden",border:"1px solid var(--app-color-gray-light)",padding:"10px"}},m.createElement("u",{onClick:function(){var e;null===(e=document.getElementById("file-change-".concat(o)))||void 0===e||e.click()},style:{cursor:"pointer",marginLeft:"20px",wordWrap:"break-word"}},null!==v&&void 0!==v&&v.name||d?(null===v||void 0===v?void 0:v.name)||d:"Click to upload file..."),m.createElement("input",{accept:"."+(null===l||void 0===l||null===(n=l.accepted_mimes)||void 0===n?void 0:n.replace(/,/g,",.")),type:"file",onChange:function(){return function(e){var n,l,d=document.getElementById("file-change-".concat(o)).files[0],u=((null===d||void 0===d?void 0:d.size)/1024/1024).toFixed(4),r=(e/1024).toFixed(4);b(!0);var v=(0,c.Z)(null!==(n=null===(l=C.currentStep)||void 0===l?void 0:l.component_blueprints)&&void 0!==n?n:[]);u>r?alert("File is too big!"):(0,h.kf)(d,o).subscribe({next:function(e){s(d),b(!1),v[t].selected_fields[i].value=null===e||void 0===e?void 0:e.file_url,v[t].selected_fields[i].value&&v[t].selected_fields[i].mandatory&&(v[t].selected_fields[i].errors=""),a(),w({action:k._U.setComponentBlueprints,value:v}),w({action:k._U.setModuleNewStepComponents,value:v})}})}(null===l||void 0===l?void 0:l.max_file_size)},style:{position:"absolute",visibility:"hidden",width:"0px"},id:"file-change-".concat(o),className:f.Z.fieldTypeInput}),g&&m.createElement(Sn.Z,{type:Mn.G6?"Watch":"Puff",color:"#4A4A4A",secondaryColor:"gray",radius:22,height:22,width:"22px"}),(null===v||void 0===v?void 0:v.type)&&m.createElement(Hn,{fileType:null===v||void 0===v?void 0:v.type}))},Hn=function(e){return"application/pdf"===(null===e||void 0===e?void 0:e.fileType)?m.createElement("img",{alt:"",src:_.ed}):m.createElement("img",{alt:"",src:_.dm})}},63864:function(e,n,l){"use strict";l.d(n,{Z:function(){return N}});var o=l(1413),i=l(29439),t=l(67861),d=l(14170),a="SelectAndMultiselect_selectAndMultiselectHost__JL5Qu",u="SelectAndMultiselect_tiles__GNuMU",r="SelectAndMultiselect_fieldLabel__LpRMc",v="SelectAndMultiselect_multiselectComponent__0I85T",s="SelectAndMultiselect_multiselectMenuOverlayList__4knAb",c="SelectAndMultiselect_multiselectMenuOverlayListItem__fBe0B",p="SelectAndMultiselect_dropdownSelectMenuOverlayList__MRf2l",m="SelectAndMultiselect_dropdownSelectComponent__0UNAl",f="SelectAndMultiselect_dropdownInput__BPcW7",_="SelectAndMultiselect_menuButtonPlaceholder__V0wnB",y="SelectAndMultiselect_dropdownSelectMenuOverlayListItem__NM5xS",h="SelectAndMultiselect_center__Dukva",g=l(64967),b=l(27436),x="Card_statusCardContainer__m5Upe",E="Card_statusCard__3ICe3",C="Card_statusTitleContainer__C4HCR",w="Card_statusDescriptionContainer__E3WnX",Z=l(47144),M=l.n(Z),S=l(67861),k=function(e){var n=e.onClick,l=e.cardTitle,o=e.subtitle,i=void 0===o?"":o,t=e.className;return S.createElement("div",{className:M()(x,t),style:{display:"inline-block"},onClick:function(){return n()}},S.createElement("div",{className:E},S.createElement("div",{style:{padding:"15px"}},S.createElement("div",{className:C},S.createElement("p",null,l)),S.createElement("div",{className:w},S.createElement("p",null,i)))))},I=l(66918),N=function(e){var n=e.selectionType,l=void 0===n?"Dropdown":n,x=e.items,E=e.fieldIcon,C=e.placeholder,w=e.fieldLabel,Z=e.onChange,M=e.visible,S=void 0===M||M,N=e.mandatory,T=void 0!==N&&N,D=e.error,P=e.loading,A=e.onFocus,O=e.onClicked,L=void 0===O?function(){}:O,z=e.value,R=e.className,U=(e.onClose,e.onOpen),F=void 0===U?function(){}:U,W=e.titleProps,q=void 0===W?{}:W,B=e.children,Y=e.backgroundColor,H=(0,t.useState)(!0),j=(0,i.Z)(H,2),V=j[0],G=j[1];return t.createElement("div",{onFocus:A,onClick:F,className:a,style:{display:S?"":"none"}},w?t.createElement("label",{className:r,style:(0,o.Z)({},q)},w," ",T&&t.createElement("span",null,"*")):t.createElement(t.Fragment,null),t.createElement("div",{className:u},"Tiles"===l&&x.map((function(e,n){return t.createElement(k,{cardTitle:e.label,key:n,onClick:function(){Z("".concat(e.value))}})}))),"multiple"===l&&t.createElement(d.NU,{loading:P,items:null!==x&&void 0!==x?x:[],toggleLeftIcon:E,notags:!0,error:!!D,style:{backgroundColor:null!==Y&&void 0!==Y?Y:""},initialSelectedValues:z&&I.split(",",z),itemType:"checkboxes",tmiClassName:f,className:R||v,molclassname:s,moliclassname:c,menuButtonPlaceholder:R||_,placeholder:C,checkboxEmplacement:"right",onOpen:function(e){return L(e)},onChange:function(e){Z(e.map((function(e){return e.label})).toString())}},B),("single"===l||"Dropdown"===l||"decision"===l||"modules"===l)&&t.createElement(g.M,{style:{backgroundColor:Y},className:R||m,tmiClassName:f,molclassname:p,moliclassname:y,menuButtonPlaceholder:_,selectType:"checkbox",loading:P,title:"",error:D,placeholder:C,onOpen:function(e){return L(e)},onChange:function(e){Z("".concat(e.value))},items:null!==x&&void 0!==x?x:[],defaultSelected:z&&x.find((function(e){return e.label===z}))},B),P&&V?t.createElement(d.U7,{blured:!0,scrollable:!0,isOpen:P&&V,shadowedContainerStyle:{width:"200px"}},t.createElement("div",{className:h,style:{width:"200px",height:"50px"},onClick:function(){return G(!1)}},t.createElement(d.$j,{type:"BallTriangle",color:"black",height:30,width:"30px",style:{marginRight:"30px"}}),"Processing...")):null,D&&t.createElement(b.Z,{message:D}))}},52950:function(e,n,l){"use strict";l.d(n,{Z:function(){return L}});var o=l(29439),i=l(67861),t=(l(83381),l(14170)),d=l(93433),a=l(1413),u=l(50981),r=l.n(u),v=l(9825),s=l.n(v),c=l(39518),p=l(23280),m=l(63077),f=l(79492),_=l.n(f),y=l(85692),h=l(51481),g=l(89293),b=l(40694),x="TaskForm_newTaskFormHost__8YIFH",E="TaskForm_buttonsContainer__Y5EGp",C="TaskForm_datePickerWrapper__vAFgZ",w="TaskForm_saveButton__6OqA+",Z="TaskForm_calendarSVG__bXc-+",M=l(27436);l(79633),l(66918);var S=function(e){var n=e.isOpen,l=e.onClose,o=e.loading,d=e.removeTask,a=e.taskId;return i.createElement(t.U7,{isOpen:n,onClose:function(){return l(!1)},backdropColor:!0,blured:!0,scrollable:!0,shadowedContainerStyle:{width:"35%"}},i.createElement("div",null,i.createElement("p",{style:{textAlign:"center",fontSize:"20px",color:"#4A4A4A",fontFamily:"var(--app-text-main-font)"}},"Are you sure do you want to delete this task?"),i.createElement(b.Z,{loading:o,clicked:function(){return d(a)},title:"Yes, Delete",style:{fontWeight:"500",marginLeft:"auto",marginRight:"auto"}}),i.createElement("p",{style:{cursor:"pointer",textAlign:"center",fontSize:"16px",fontWeight:600,color:"#4A4A4A",fontFamily:"var(--app-text-main-font)"},onClick:function(){return l(!1)},className:"go-back-text"},"No, Go Back")))},k=(0,c.$j)((function(e){var n=e.flowReducer,l=n.selectedProcess,o=n.companyUsersArray,i=n.companyProcesses,t=n.allModules,d=n.begunModule,a=n.companyData;return{selectedProcess:l,companyUsersArray:o,companyProcesses:i,allModules:t,user:e.sessionReducer.user,begunModule:d,companyData:a}}))((function(e){(0,p.s0)();var n,l,t,u,v,c,f,k,I,N,T,D,P,A,O,L,z,R,U,F,W,q,B,Y,H,j,V,G,J,K,Q,X,$,ee,ne,le,oe,ie,te,de,ae,ue,re,ve,se,ce,pe,me,fe,_e,ye,he,ge,be,xe,Ee,Ce,we=e.showPriority,Ze=void 0===we||we,Me=e.selectedProcess,Se=e.isProcess,ke=e.statuses,Ie=e.companyUsersArray,Ne=e.task,Te=e.isEdit,De=e.assigneeId,Pe=e.setDisplayModal,Ae=e.begunModule,Oe=e.onClose,Le=e.user,ze=e.start_date,Re=void 0===ze?(new Date).setDate((new Date).getDate()):ze,Ue=e.span,Fe=void 0===Ue||Ue,We=e.setTaskLabels,qe=e.allModules,Be=e.onModuleSelect,Ye=void 0===Be?function(){}:Be,He=e.companyData,je=(0,i.useState)(null!==Ne&&void 0!==Ne&&null!==(n=Ne.assignee)&&void 0!==n&&n.id?{assignee_id:null===Ne||void 0===Ne||null===(l=Ne.assignee)||void 0===l?void 0:l.id}:""),Ve=(0,o.Z)(je,2),Ge=Ve[0],Je=Ve[1],Ke=(0,i.useState)(null!==Ne&&void 0!==Ne&&null!==(t=Ne.process)&&void 0!==t&&t.id?{process:null===Ne||void 0===Ne||null===(u=Ne.process)||void 0===u?void 0:u.id}:""),Qe=(0,o.Z)(Ke,2),Xe=(Qe[0],Qe[1]),$e=(0,i.useState)((null===Ne||void 0===Ne?void 0:Ne.name)||""),en=(0,o.Z)($e,2),nn=en[0],ln=en[1],on=(0,i.useState)((null===Ne||void 0===Ne?void 0:Ne.status)||""),tn=(0,o.Z)(on,2),dn=tn[0],an=tn[1],un=(0,i.useState)((null===Ne||void 0===Ne?void 0:Ne.description)||""),rn=(0,o.Z)(un,2),vn=rn[0],sn=rn[1],cn=(0,i.useState)(null!==Ne&&void 0!==Ne&&null!==(v=Ne.add_info)&&void 0!==v&&v.end?new Date(null===Ne||void 0===Ne||null===(c=Ne.add_info)||void 0===c?void 0:c.end):null!==Ne&&void 0!==Ne&&Ne.due_date?new Date(null===Ne||void 0===Ne?void 0:Ne.due_date):(new Date).setDate((new Date).getDate())+36e5),pn=(0,o.Z)(cn,2),mn=pn[0],fn=pn[1],_n=(0,i.useState)(null!==Ne&&void 0!==Ne&&null!==(f=Ne.add_info)&&void 0!==f&&f.start?new Date(null===Ne||void 0===Ne||null===(k=Ne.add_info)||void 0===k?void 0:k.start):Re),yn=(0,o.Z)(_n,2),hn=yn[0],gn=yn[1],bn=(0,i.useState)(null!==Ne&&void 0!==Ne&&null!==(I=Ne.add_info)&&void 0!==I&&I.end?new Date(null===Ne||void 0===Ne||null===(N=Ne.add_info)||void 0===N?void 0:N.end):Re),xn=(0,o.Z)(bn,2),En=xn[0],Cn=xn[1],wn=(0,i.useState)(""),Zn=(0,o.Z)(wn,2),Mn=Zn[0],Sn=Zn[1],kn=(0,i.useState)(!1),In=(0,o.Z)(kn,2),Nn=In[0],Tn=In[1],Dn=(0,i.useState)(!1),Pn=(0,o.Z)(Dn,2),An=Pn[0],On=Pn[1],Ln=(0,i.useState)(!1),zn=(0,o.Z)(Ln,2),Rn=zn[0],Un=zn[1],Fn=(0,i.useState)(!1),Wn=(0,o.Z)(Fn,2),qn=Wn[0],Bn=Wn[1],Yn=(0,i.useState)(Se),Hn=(0,o.Z)(Yn,2),jn=Hn[0],Vn=(Hn[1],(0,i.useState)((null===Ne||void 0===Ne||null===(T=Ne.add_info)||void 0===T?void 0:T.priority)||"")),Gn=(0,o.Z)(Vn,2),Jn=Gn[0],Kn=Gn[1],Qn=(null===Ie||void 0===Ie?void 0:Ie.length)>0?Ie.map((function(e){return{label:e.first_name+" "+e.last_name,value:e.id}})):[];(0,i.useEffect)((function(){return Un(!0),function(){Un(!1)}}),[]),(0,i.useEffect)((function(){if(jn&&null!==Me&&void 0!==Me&&Me.id&&Rn){Xe({procedure_id:Me.id}),sn(Me.description)}}),[jn,Rn,Me.description,Me.id]);var Xn={control:function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{boxShadow:"none","&:hover":{border:"1px solid var(--app-color-gray-lighter)"},position:"relative",height:"60px",width:"100%",border:"var(--app-color-gray-lighter) solid 1px",padding:"3px",paddingLeft:"10px",fontFamily:"var(--app-text-main-font)",fontSize:"1.4em",fontWeight:"700",color:"#4A4A4A",textAlign:"left",flex:"1 1 auto",justifyContent:"center",alignItems:"center",alignContent:"center",alignSelf:"center",margin:"10px 0 0 0 ",marginBottom:"20px"})},input:function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{fontFamily:"var(--app-text-main-font)",color:"#4A4A4A",width:"100%",textAlign:"left",fontSize:"0.8em",fontWeight:"700",alignSelf:"center"})},menu:function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{justifyContent:"center",alignItems:"center",verticalTextAlign:"center",alignContent:"center"})},menulist:function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{justifyContent:"center",alignItems:"center",verticalTextAlign:"center",alignContent:"center",fontFamily:"var(--app-text-main-font)"})},option:function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{minHeight:15,paddingTop:0,fontSize:"1.1em",color:"black",verticalTextAlign:"center",justifyContent:"center",alignItems:"center",alignContent:"center",fontFamily:"var(--app-text-main-font)"})},placeholder:function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{fontSize:"0.75em",lineHeight:"20px",color:"#4A4A4A",fontWeight:400,overflow:"hidden",fontFamily:"var(--app-text-main-font)"})},singleValue:function(e,n){var l=n.isDisabled?.5:1;return(0,a.Z)((0,a.Z)({},e),{},{opacity:l,transition:"opacity 300ms",marginLeft:"0px",fontSize:"0.75em",lineHeight:"20px",color:"#4A4A4A",fontFamily:"var(--app-text-main-font)"})},indicatorsContainer:function(e,n){n._data;return(0,a.Z)((0,a.Z)({},e),{},{marginTop:"auto",marginBottom:"auto",color:"#4A4A4A",size:7,":hover":{color:"gray"},width:"65px",height:"45px"})}},$n=ke?ke.map((function(e){return{label:e,value:e}})):[{label:"Done",value:"Done"},{label:"Ongoing",value:"Ongoing"},{label:"In Review",value:"In Review"},{label:"Approved",value:"Approved"},{label:"Postponed",value:"Postponed"},{label:"Moved",value:"Moved"},{label:"Cancelled",value:"Cancelled"}];return i.createElement("div",{className:x},i.createElement(_(),{style:{flex:1}},i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==Mn&&void 0!==Mn&&null!==(D=Mn.errors)&&void 0!==D&&D.name?"var(--app-color-error)":"",display:(null!==Ne&&void 0!==Ne&&Ne.completed_at,"")}},i.createElement("p",null,"Name"),i.createElement("textarea",{readOnly:void 0!==(null===Ne||void 0===Ne?void 0:Ne.id)&&(!(null===Ne||void 0===Ne||!Ne.completed_at)||Le.id!==(null===Ne||void 0===Ne||null===(P=Ne.creator)||void 0===P?void 0:P.id)),required:null===Mn||void 0===Mn||null===(A=Mn.errors)||void 0===A?void 0:A.name,onFocus:function(){return Sn("")},value:nn,onChange:function(e){return ln(e.target.value)}})),Mn&&(null===Mn||void 0===Mn||null===(O=Mn.errors)||void 0===O?void 0:O.name)&&i.createElement(M.Z,{message:Mn.errors.name})),Se?i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==Mn&&void 0!==Mn&&null!==(L=Mn.errors)&&void 0!==L&&L.due_date?"var(--app-color-error)":""}},"Start Date",i.createElement("div",null,i.createElement(s(),{showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,disabled:void 0!==(null===Ne||void 0===Ne?void 0:Ne.id)&&(!(null===Ne||void 0===Ne||!Ne.completed_at)||Le.id!==(null===Ne||void 0===Ne||null===(z=Ne.creator)||void 0===z?void 0:z.id)),placeholderText:"Start Date",customInput:i.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",border:"1px solid",borderColor:"var(--app-color-gray-lighter)"}},i.createElement("input",{disabled:!0,readOnly:void 0!==(null===Ne||void 0===Ne?void 0:Ne.id)&&(!(null===Ne||void 0===Ne||!Ne.completed_at)||Le.id!==(null===Ne||void 0===Ne||null===(R=Ne.creator)||void 0===R?void 0:R.id)),onFocus:function(){return Sn("")},value:r()(hn).format("DD MMMM YYYY HH:mm"),type:"text",required:null===Mn||void 0===Mn||null===(U=Mn.errors)||void 0===U?void 0:U.startDate,id:"start-date",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",border:"none",fontFamily:"var(--app-text-main-font)",fontSize:"16px",lineHeight:"20px",color:"#4A4A4A",textAlign:(null===hn||void 0===hn?void 0:hn.length)>0?"center":"left",maxWidth:"98%"},placeholder:"Start Date",onChange:function(e){}}),i.createElement(y.f,{className:Z})),className:C,selected:hn,onChange:function(e){r()(e).diff(r()(En),"minutes")<1&&gn(e)}}))),i.createElement("br",null),i.createElement("label",{style:{color:null!==Mn&&void 0!==Mn&&null!==(F=Mn.errors)&&void 0!==F&&F.due_date?"var(--app-color-error)":""}},"End Date",i.createElement("div",null,i.createElement(s(),{showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,disabled:void 0!==(null===Ne||void 0===Ne?void 0:Ne.id)&&(!(null===Ne||void 0===Ne||!Ne.completed_at)||Le.id!==(null===Ne||void 0===Ne||null===(W=Ne.creator)||void 0===W?void 0:W.id)),placeholderText:"End Date",customInput:i.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",border:"1px solid",borderColor:null!==Mn&&void 0!==Mn&&null!==(q=Mn.errors)&&void 0!==q&&q.endDate?"var(--app-color-error)":"var(--app-color-gray-lighter)"}},i.createElement("input",{disabled:!0,readOnly:void 0!==(null===Ne||void 0===Ne?void 0:Ne.id)&&(!(null===Ne||void 0===Ne||!Ne.completed_at)||Le.id!==(null===Ne||void 0===Ne||null===(B=Ne.creator)||void 0===B?void 0:B.id)),onFocus:function(){return Sn("")},value:r()(En).format("DD MMMM YYYY HH:mm"),type:"text",required:null===Mn||void 0===Mn||null===(Y=Mn.errors)||void 0===Y?void 0:Y.endDate,id:"due-date",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",border:"none",fontFamily:"var(--app-text-main-font)",fontSize:"16px",lineHeight:"20px",color:"#4A4A4A",textAlign:(null===En||void 0===En?void 0:En.length)>0?"center":"left",maxWidth:"98%"},placeholder:"Due Date",onChange:function(e){}}),i.createElement(y.f,{className:Z})),className:C,selected:En,onChange:function(e){r()(e).diff(r()(hn),"minutes")>0?!1===Fe?r()(e).format("DD")===r()(En).format("DD")?Cn(e):Cn(En):Cn(e):Cn(En)}}))),Mn&&(null===Mn||void 0===Mn||null===(H=Mn.errors)||void 0===H?void 0:H.due_date)&&i.createElement(M.Z,{message:Mn.errors.endDate})):i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==Mn&&void 0!==Mn&&null!==(j=Mn.errors)&&void 0!==j&&j.due_date?"var(--app-color-error)":""}},"Due Date",i.createElement("div",{style:{marginTop:"10px"}},i.createElement(s(),{disabled:void 0!==(null===Ne||void 0===Ne?void 0:Ne.id)&&(!(null===Ne||void 0===Ne||!Ne.completed_at)||Le.id!==(null===Ne||void 0===Ne||null===(V=Ne.creator)||void 0===V?void 0:V.id)),placeholderText:"Due Date",customInput:i.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",border:"1px solid",borderColor:null!==Mn&&void 0!==Mn&&null!==(G=Mn.errors)&&void 0!==G&&G.due_date?"var(--app-color-error)":"var(--app-color-gray-lighter)"}},i.createElement("input",{readOnly:void 0!==(null===Ne||void 0===Ne?void 0:Ne.id)&&(!(null===Ne||void 0===Ne||!Ne.completed_at)||Le.id!==(null===Ne||void 0===Ne||null===(J=Ne.creator)||void 0===J?void 0:J.id)),onFocus:function(){return Sn("")},value:r()(mn).format("DD MMMM YYYY HH:mm"),type:"text",required:null===Mn||void 0===Mn||null===(K=Mn.errors)||void 0===K?void 0:K.due_date,id:"due-date",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",border:"none",fontFamily:"var(--app-text-main-font)",fontSize:"16px",lineHeight:"20px",color:"#4A4A4A",textAlign:(null===mn||void 0===mn?void 0:mn.length)>0?"center":"left",maxWidth:"98%"},placeholder:"Due Date",onChange:function(e){}}),i.createElement(y.f,{className:Z})),className:C,selected:mn,onChange:function(e){fn(e)}}))),Mn&&(null===Mn||void 0===Mn||null===(Q=Mn.errors)||void 0===Q?void 0:Q.due_date)&&i.createElement(M.Z,{message:Mn.errors.due_date})),i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==Mn&&void 0!==Mn&&null!==(X=Mn.errors)&&void 0!==X&&X.description?"var(--app-color-error)":""}},"Description",i.createElement("textarea",{style:{marginTop:"10px"},disabled:!(null===Ne||void 0===Ne||!Ne.completed_at),onFocus:function(){return Sn("")},required:null===Mn||void 0===Mn||null===($=Mn.errors)||void 0===$?void 0:$.description,value:vn,onChange:function(e){return sn(e.target.value)}})),Mn&&(null===Mn||void 0===Mn||null===(ee=Mn.errors)||void 0===ee?void 0:ee.description)&&i.createElement(M.Z,{message:Mn.errors.description})),i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==Mn&&void 0!==Mn&&null!==(ne=Mn.errors)&&void 0!==ne&&ne.assignee_id?"var(--app-color-error)":""}},"Assignee",null!==Ne&&void 0!==Ne&&Ne.completed_at?i.createElement("div",null,i.createElement("input",{style:{cursor:"auto"},defaultValue:(null===Ne||void 0===Ne?void 0:Ne.assignee.first_name)+" "+(null===Ne||void 0===Ne?void 0:Ne.assignee.last_name),readOnly:!0})):i.createElement(m.ZP,{onFocus:function(){return Sn("")},isSearchable:!1,key:"Assignee",styles:Xn,defaultInputValue:"",components:{DropdownIndicator:g.ms},placeholder:"",value:Qn[Qn.findIndex((function(e){return e.value===Ge.assignee_id}))],options:Qn.concat([{label:"None",value:""}]),onChange:function(e){e&&Je((function(n){return(0,a.Z)((0,a.Z)({},n),{},{assignee_id:e.value})}))}})),Mn&&(null===Mn||void 0===Mn||null===(le=Mn.errors)||void 0===le?void 0:le.assignee_id)&&i.createElement(M.Z,{message:Mn.errors.assignee_id})),(null===e||void 0===e||null===(oe=e.task)||void 0===oe?void 0:oe.creator)&&i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",null,i.createElement("p",null,"Creator"),i.createElement("input",{style:{cursor:"auto"},defaultValue:(null===Ne||void 0===Ne?void 0:Ne.creator.first_name)+" "+(null===Ne||void 0===Ne?void 0:Ne.creator.last_name),readOnly:!0})),i.createElement("label",null,i.createElement("p",null,"Created Date"),i.createElement("input",{style:{cursor:"auto"},defaultValue:r()(null===Ne||void 0===Ne?void 0:Ne.created_at).format("DD MMMM YYYY"),readOnly:!0}))),i.createElement("div",{style:{marginBottom:"10px"}},Ze&&i.createElement("label",{style:{color:null!==Mn&&void 0!==Mn&&null!==(ie=Mn.errors)&&void 0!==ie&&ie.procedure_id?"var(--app-color-error)":""}},i.createElement("p",null,"Priority"),null!==Ne&&void 0!==Ne&&Ne.completed_at?i.createElement("input",{style:{cursor:"auto"},defaultValue:null!==(te=null===Ne||void 0===Ne?void 0:Ne.priority)&&void 0!==te?te:"Medium",readOnly:!0}):i.createElement(m.ZP,{onFocus:function(){return Sn("")},key:"priority",styles:Xn,defaultInputValue:"",components:{DropdownIndicator:g.ms},placeholder:"",value:g._l.find((function(e){return e.value===Jn})),options:g._l,onChange:function(e){return Kn(e.value)}})),i.createElement("label",{style:{color:null!==Mn&&void 0!==Mn&&null!==(de=Mn.errors)&&void 0!==de&&de.procedure_id?"var(--app-color-error)":""}},i.createElement("p",null,"Status"),null!==Ne&&void 0!==Ne&&Ne.completed_at?i.createElement("input",{style:{cursor:"auto"},defaultValue:null!==(ae=null===Ne||void 0===Ne?void 0:Ne.status)&&void 0!==ae?ae:"No status set",readOnly:!0}):i.createElement(m.ZP,{onFocus:function(){return Sn("")},key:"status",styles:Xn,defaultInputValue:"",components:{DropdownIndicator:g.ms},placeholder:"",value:$n.find((function(e){return e.value===dn})),options:Le.id===(null===Ne||void 0===Ne||null===(ue=Ne.creator)||void 0===ue?void 0:ue.id)?[].concat((0,d.Z)($n),[{label:null!==(re=null===(ve=Ae.processModule)||void 0===ve||null===(se=ve.module)||void 0===se||null===(ce=se.options)||void 0===ce?void 0:ce.lock)&&void 0!==re?re:null===He||void 0===He||null===(pe=He.misc_info)||void 0===pe?void 0:pe.lock,value:null!==(me=null===(fe=Ae.processModule)||void 0===fe||null===(_e=fe.module)||void 0===_e||null===(ye=_e.options)||void 0===ye?void 0:ye.lock)&&void 0!==me?me:null===He||void 0===He||null===(he=He.misc_info)||void 0===he?void 0:he.lock},{label:"No status",value:""}]):$n,onChange:function(e){return an(e.value)}})),Mn&&(null===Mn||void 0===Mn||null===(ge=Mn.errors)||void 0===ge?void 0:ge.procedure_id)&&i.createElement(M.Z,{message:Mn.errors.procedure_id})),i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==Mn&&void 0!==Mn&&null!==(be=Mn.errors)&&void 0!==be&&be.procedure_id?"var(--app-color-error)":""}},i.createElement("p",null,"Module"),null!==Ne&&void 0!==Ne&&null!==(xe=Ne.add_info)&&void 0!==xe&&xe.module_id||null!==Ne&&void 0!==Ne&&Ne.completed_at?i.createElement("input",{style:{cursor:"auto"},defaultValue:null===(Ee=qe.find((function(e){var n;return e.id===(null===Ne||void 0===Ne||null===(n=Ne.add_info)||void 0===n?void 0:n.module_id)})))||void 0===Ee?void 0:Ee.name,readOnly:!0}):i.createElement(m.ZP,{onFocus:function(){return Sn("")},key:"module",styles:Xn,components:{DropdownIndicator:g.ms},placeholder:"",options:qe.filter((function(e){var n;return null===(n=e.options)||void 0===n?void 0:n.task})).map((function(e){return{label:e.name,value:e.id,module:e}})),onChange:function(e){Ae.processModule=(0,a.Z)((0,a.Z)({},e.module.procedure),{},{module_id:e.value}),We({valueL:"Value"}),Ye(e.module)}})),Mn&&(null===Mn||void 0===Mn||null===(Ce=Mn.errors)||void 0===Ce?void 0:Ce.procedure_id)&&i.createElement(M.Z,{message:Mn.errors.procedure_id})),Mn&&(null===Mn||void 0===Mn?void 0:Mn.message)&&i.createElement(M.Z,{message:Mn.message})),null!==Ne&&void 0!==Ne&&Ne.completed_at?i.createElement("div",{className:E},i.createElement(b.Z,{clicked:Oe,className:w,title:"Close"})):Te?i.createElement("div",{className:E},i.createElement(b.Z,{clicked:Oe,className:w,title:"Close"}),i.createElement(b.Z,{light:!0,clicked:function(){return Bn(!0)},className:w,title:"Delete"}),i.createElement(b.Z,{light:!0,clicked:function(){return function(){var n,l;Tn(!0);var o=Ge?Ge.assignee_id:De;(0,h.xJ)({assignee_id:o,name:nn,description:vn,dueDate:r()(mn).format("YYYY-MM-DD HH:mm"),status:null!==dn&&void 0!==dn?dn:"",add_info:(0,a.Z)((0,a.Z)({},null===e||void 0===e||null===(n=e.task)||void 0===n?void 0:n.add_info),{},{priority:null!==Jn&&void 0!==Jn?Jn:"",start:hn,end:En})},null===e||void 0===e||null===(l=e.task)||void 0===l?void 0:l.id).subscribe({next:function(e){Tn(!1),Pe(!1)},error:function(e){e&&(Sn(e.data),Tn(!1))},complete:function(){}})}()},className:w,title:"Update",loading:Nn}),i.createElement(b.Z,{light:!0,clicked:function(){return function(){var e,n;Tn(!0),(0,h.vr)({newAssignee:{assignee_id:null===Ne||void 0===Ne||null===(e=Ne.assignee)||void 0===e?void 0:e.id},taskName:Ne.name,taskDescription:Ne.description,add_info:null===Ne||void 0===Ne?void 0:Ne.add_info,taskProcess:{id:null===Ne||void 0===Ne||null===(n=Ne.process)||void 0===n?void 0:n.id}}).subscribe({next:function(e){Oe()},error:function(e){e&&(Sn(e.data),Tn(!1))},complete:function(){Tn(!1),!jn&&Pe(!1)}})}()},className:w,title:"Copy",loading:Nn})):i.createElement("div",{className:E},i.createElement(b.Z,{clicked:Oe,className:w,title:"Close"}),i.createElement(b.Z,{light:!0,clicked:function(){return Tn(!0),void(0,h.vr)(null!==Ae&&void 0!==Ae&&Ae.processModule?{newAssignee:Ge,taskProcess:null===Ae||void 0===Ae?void 0:Ae.processModule,taskName:nn,taskDescription:vn,dueDate:r()(En).format("YYYY-MM-DD HH:mm"),add_info:{module_id:null===Ae||void 0===Ae?void 0:Ae.processModule.module_id,priority:Jn,start:hn,end:En}}:{newAssignee:Ge,taskName:nn,taskDescription:vn,dueDate:r()(mn).format("YYYY-MM-DD HH:mm"),add_info:{priority:null!==Jn&&void 0!==Jn?Jn:""}}).subscribe({next:function(e){Oe()},error:function(e){e&&(Sn(e.data),Tn(!1))},complete:function(){Tn(!1),!jn&&Pe(!1)}})},className:w,title:"Save",loading:Nn})),qn&&i.createElement(S,{taskId:Ne.id,isOpen:qn,removeTask:function(e){On(!0),(0,h._5)(e).subscribe({next:function(e){On(!1),Bn(!1)},error:function(e){On(!1)},complete:function(){Pe(!1)}})},loading:An,onClose:Bn}))})),I=l(73500);l(63864),l(66918);var N=function(e){var n=e.isOpen,l=e.onClose,o=e.loading,d=e.removeTask,a=e.taskId;return i.createElement(t.U7,{isOpen:n,onClose:function(){return l(!1)},backdropColor:!0,blured:!0,scrollable:!0,shadowedContainerStyle:{width:"35%"}},i.createElement("div",null,i.createElement("p",{style:{textAlign:"center",fontSize:"16px",color:"#4A4A4A",fontFamily:"var(--app-text-main-font)"}},"Are you sure do you want to delete this task?"),i.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},i.createElement(b.Z,{loading:o,clicked:function(){return d(a)},title:"Yes, Delete"}),i.createElement(b.Z,{light:!0,loading:o,clicked:function(){return l(!1)},title:"No, Go Back"}))))},T=(0,c.$j)((function(e){var n=e.flowReducer,l=n.selectedProcess,o=n.companyUsersArray,i=n.companyProcesses,t=n.allModules,d=n.begunModule,a=n.companyData;return{selectedProcess:l,companyUsersArray:o,companyProcesses:i,allModules:t,user:e.sessionReducer.user,begunModule:d,companyData:a}}))((function(e){var n,l,t,u,v,c,p,f,S,k,I,T,D,P,A,O,L,z,R,U,F,W,q,B,Y,H,j,V,G,J,K,Q,X,$,ee,ne,le,oe,ie,te,de,ae,ue,re,ve,se,ce,pe,me,fe,_e,ye,he,ge,be,xe,Ee,Ce,we,Ze,Me,Se,ke,Ie,Ne,Te,De=e.selectedProcess,Pe=e.isProcess,Ae=e.statuses,Oe=e.companyUsersArray,Le=e.task,ze=e.isEdit,Re=e.assigneeId,Ue=e.setDisplayModal,Fe=e.begunModule,We=e.onClose,qe=e.user,Be=e.start_date,Ye=void 0===Be?(new Date).setDate((new Date).getDate()):Be,He=e.span,je=void 0===He||He,Ve=e.labels,Ge=e.onUpdate,Je=void 0===Ge?function(){}:Ge,Ke=e.companyData,Qe=e.save,Xe=void 0===Qe||Qe,$e=(0,i.useState)(null!==Le&&void 0!==Le&&null!==(n=Le.assignee)&&void 0!==n&&n.id?{assignee_id:null===Le||void 0===Le||null===(l=Le.assignee)||void 0===l?void 0:l.id}:""),en=(0,o.Z)($e,2),nn=en[0],ln=en[1],on=(0,i.useState)(null!==Le&&void 0!==Le&&null!==(t=Le.process)&&void 0!==t&&t.id?{process:null===Le||void 0===Le||null===(u=Le.process)||void 0===u?void 0:u.id}:""),tn=(0,o.Z)(on,2),dn=(tn[0],tn[1]),an=(0,i.useState)((null===Le||void 0===Le?void 0:Le.name)||""),un=(0,o.Z)(an,2),rn=un[0],vn=un[1],sn=(0,i.useState)((null===Le||void 0===Le?void 0:Le.status)||""),cn=(0,o.Z)(sn,2),pn=cn[0],mn=cn[1],fn=(0,i.useState)((null===Le||void 0===Le?void 0:Le.description)||""),_n=(0,o.Z)(fn,2),yn=_n[0],hn=_n[1],gn=(0,i.useState)(null!==Le&&void 0!==Le&&Le.due_date?new Date(null===Le||void 0===Le?void 0:Le.due_date):(new Date).setDate((new Date).getDate())+36e5),bn=(0,o.Z)(gn,2),xn=bn[0],En=(bn[1],(0,i.useState)(null!==Le&&void 0!==Le&&null!==(v=Le.add_info)&&void 0!==v&&v.start?new Date(null===Le||void 0===Le||null===(c=Le.add_info)||void 0===c?void 0:c.start):Ye)),Cn=(0,o.Z)(En,2),wn=Cn[0],Zn=Cn[1],Mn=(0,i.useState)(null!==Le&&void 0!==Le&&null!==(p=Le.add_info)&&void 0!==p&&p.end?new Date(null===Le||void 0===Le||null===(f=Le.add_info)||void 0===f?void 0:f.end):Ye),Sn=(0,o.Z)(Mn,2),kn=Sn[0],In=Sn[1],Nn=(0,i.useState)(null===Le||void 0===Le||null===(S=Le.add_info)||void 0===S?void 0:S.value),Tn=(0,o.Z)(Nn,2),Dn=Tn[0],Pn=Tn[1],An=(0,i.useState)(null!==(k=null===Le||void 0===Le||null===(I=Le.add_info)||void 0===I?void 0:I.pos)&&void 0!==k?k:null===qe||void 0===qe||null===(T=qe.positions[0])||void 0===T?void 0:T.id),On=(0,o.Z)(An,2),Ln=On[0],zn=On[1],Rn=(0,i.useState)(""),Un=(0,o.Z)(Rn,2),Fn=Un[0],Wn=Un[1],qn=(0,i.useState)(!1),Bn=(0,o.Z)(qn,2),Yn=Bn[0],Hn=Bn[1],jn=(0,i.useState)(!1),Vn=(0,o.Z)(jn,2),Gn=Vn[0],Jn=Vn[1],Kn=(0,i.useState)(!1),Qn=(0,o.Z)(Kn,2),Xn=Qn[0],$n=Qn[1],el=(0,i.useState)(!1),nl=(0,o.Z)(el,2),ll=nl[0],ol=nl[1],il=(0,i.useState)(Pe),tl=(0,o.Z)(il,2),dl=tl[0],al=(tl[1],(0,i.useState)((null===Le||void 0===Le||null===(D=Le.add_info)||void 0===D?void 0:D.priority)||"")),ul=(0,o.Z)(al,2),rl=ul[0],vl=(ul[1],(null===Oe||void 0===Oe?void 0:Oe.length)>0?ze&&(null===Le||void 0===Le||null===(P=Le.creator)||void 0===P?void 0:P.id)!==qe.id?[{label:qe.first_name+" "+qe.last_name,value:qe.id}]:Oe.map((function(e){return{label:e.first_name+" "+e.last_name,value:e.id}})):[]);(0,i.useEffect)((function(){return $n(!0),function(){$n(!1)}}),[]),(0,i.useEffect)((function(){if(dl&&null!==De&&void 0!==De&&De.id&&Xn){dn({procedure_id:De.id}),hn(De.description)}}),[dl,Xn,De.description,De.id]);var sl={control:function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{boxShadow:"none","&:hover":{border:"1px solid var(--app-color-gray-lighter)"},position:"relative",height:"60px",width:"100%",border:"var(--app-color-gray-lighter) solid 1px",padding:"3px",fontFamily:"var(--app-text-main-font)",fontSize:"1.4em",fontWeight:"700",color:"#4A4A4A",textAlign:"left",flex:"1 1 auto",justifyContent:"center",alignItems:"center",alignContent:"center",alignSelf:"center"})},input:function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{fontFamily:"var(--app-text-main-font)",color:"#4A4A4A",width:"100%",textAlign:"left",fontSize:"0.8em",fontWeight:"700",alignSelf:"center"})},menu:function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{justifyContent:"center",alignItems:"center",verticalTextAlign:"center",alignContent:"center"})},menulist:function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{justifyContent:"center",alignItems:"center",verticalTextAlign:"center",alignContent:"center",fontFamily:"var(--app-text-main-font)"})},option:function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{minHeight:15,paddingTop:0,fontSize:"1.1em",color:"black",verticalTextAlign:"center",justifyContent:"center",alignItems:"center",alignContent:"center",fontFamily:"var(--app-text-main-font)",fontWeight:"bold"})},placeholder:function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{fontSize:"0.75em",lineHeight:"20px",color:"#4A4A4A",fontWeight:400,overflow:"hidden",fontFamily:"var(--app-text-main-font)"})},singleValue:function(e,n){var l=n.isDisabled?.5:1;return(0,a.Z)((0,a.Z)({},e),{},{opacity:l,transition:"opacity 300ms",marginLeft:"0px",fontSize:"0.75em",lineHeight:"20px",color:"#4A4A4A",fontFamily:"var(--app-text-main-font)"})},indicatorsContainer:function(e,n){n._data;return(0,a.Z)((0,a.Z)({},e),{},{marginTop:"auto",marginBottom:"auto",color:"#4A4A4A",size:7,":hover":{color:"gray"},width:"65px",height:"45px"})}},cl=Ae?Ae.map((function(e){return{label:e,value:e}})):[{label:"Ongoing",value:"Ongoing"},{label:"In Review",value:"In Review"},{label:"Approved",value:"Approved"},{label:"Postponed",value:"Postponed"},{label:"Moved",value:"Moved"},{label:"Cancelled",value:"Cancelled"}];return i.createElement("div",{className:x},i.createElement(_(),{style:{flex:1}},i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==Fn&&void 0!==Fn&&null!==(A=Fn.errors)&&void 0!==A&&A.name?"var(--app-color-error)":"",display:(null!==Le&&void 0!==Le&&Le.completed_at,"")}},i.createElement("p",null,null!==(O=null===Ve||void 0===Ve?void 0:Ve.title)&&void 0!==O?O:"Event Name"),i.createElement("textarea",{readOnly:void 0!==(null===Le||void 0===Le?void 0:Le.id)&&(!(null===Le||void 0===Le||!Le.completed_at)||qe.id!==(null===Le||void 0===Le||null===(L=Le.creator)||void 0===L?void 0:L.id)),required:null===Fn||void 0===Fn||null===(z=Fn.errors)||void 0===z?void 0:z.name,onFocus:function(){return Wn("")},value:rn,onChange:function(e){return vn(e.target.value)}})),Fn&&(null===Fn||void 0===Fn||null===(R=Fn.errors)||void 0===R?void 0:R.name)&&i.createElement(M.Z,{message:Fn.errors.name})),i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==Fn&&void 0!==Fn&&null!==(U=Fn.errors)&&void 0!==U&&U.name?"var(--app-color-error)":"",display:(null!==Le&&void 0!==Le&&Le.completed_at,"")}},i.createElement("p",null,null!==(F=null===Ve||void 0===Ve?void 0:Ve.description)&&void 0!==F?F:"Description"),i.createElement("textarea",{style:{minHeight:"200px"},readOnly:void 0!==(null===Le||void 0===Le?void 0:Le.id)&&(!(null===Le||void 0===Le||!Le.completed_at)||qe.id!==(null===Le||void 0===Le||null===(W=Le.creator)||void 0===W?void 0:W.id)),required:null===Fn||void 0===Fn||null===(q=Fn.errors)||void 0===q?void 0:q.description,onFocus:function(){return Wn("")},value:yn,onChange:function(e){return hn(e.target.value)}})),Fn&&(null===Fn||void 0===Fn||null===(B=Fn.errors)||void 0===B?void 0:B.name)&&i.createElement(M.Z,{message:Fn.errors.description})),(null===Ve||void 0===Ve?void 0:Ve.valueL)&&i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==Fn&&void 0!==Fn&&null!==(Y=Fn.errors)&&void 0!==Y&&Y.name?"var(--app-color-error)":""}},i.createElement("p",null,null===Ve||void 0===Ve?void 0:Ve.valueL),i.createElement("input",{readOnly:void 0!==(null===Le||void 0===Le?void 0:Le.id)&&(!(null===Le||void 0===Le||!Le.completed_at)||qe.id!==(null===Le||void 0===Le||null===(H=Le.creator)||void 0===H?void 0:H.id)),onFocus:function(){return Wn("")},value:Dn,onChange:function(e){return Pn(e.target.value)},onBlur:function(){var e,n,l;null!==Fe&&void 0!==Fe&&null!==(e=Fe.processModule)&&void 0!==e&&null!==(n=e.module)&&void 0!==n&&null!==(l=n.options)&&void 0!==l&&l.credits&&+Dn>+(null===qe||void 0===qe?void 0:qe.wallet)&&(Pn("0.00"),Wn({errors:{value:"You have insufficient funds in your wallet. You currently have ".concat(null===qe||void 0===qe?void 0:qe.wallet,".")}}))}})),Fn&&(null===Fn||void 0===Fn||null===(j=Fn.errors)||void 0===j?void 0:j.value)&&i.createElement(M.Z,{message:Fn.errors.value})),i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==Fn&&void 0!==Fn&&null!==(V=Fn.errors)&&void 0!==V&&V.due_date?"var(--app-color-error)":""}},i.createElement("p",null,null!==(G=null===Ve||void 0===Ve?void 0:Ve.start)&&void 0!==G?G:"Start Date"),i.createElement(s(),{showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,disabled:!(void 0===(null===Le||void 0===Le?void 0:Le.id)||!(null!==Le&&void 0!==Le&&Le.completed_at||qe.id!==(null===Le||void 0===Le||null===(J=Le.creator)||void 0===J?void 0:J.id))),placeholderText:"Start Date",customInput:i.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",border:"1px solid",borderColor:"var(--app-color-gray-lighter)"}},i.createElement("input",{disabled:!0,readOnly:void 0!==(null===Le||void 0===Le?void 0:Le.id)&&(!(null===Le||void 0===Le||!Le.completed_at)||qe.id!==(null===Le||void 0===Le||null===(K=Le.creator)||void 0===K?void 0:K.id)),onFocus:function(){return Wn("")},value:void 0!==(null===Le||void 0===Le?void 0:Le.id)&&(null!==Le&&void 0!==Le&&Le.completed_at||qe.id!==(null===Le||void 0===Le||null===(Q=Le.creator)||void 0===Q?void 0:Q.id))?"".concat(r()(wn).format("DD MMMM YYYY HH:mm")):r()(wn).format("DD MMMM YYYY HH:mm"),type:"text",required:null===Fn||void 0===Fn||null===(X=Fn.errors)||void 0===X?void 0:X.startDate,id:"start-date",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",border:"none",fontFamily:"var(--app-text-main-font)",fontSize:"16px",lineHeight:"20px",color:"#4A4A4A",textAlign:(null===wn||void 0===wn?void 0:wn.length)>0?"center":"left",maxWidth:"98%"},placeholder:"Start Date",onChange:function(e){}}),i.createElement(y.f,{className:Z})),className:C,selected:wn,onChange:function(e){r()(e).diff(r()(kn),"minutes")<1?Zn(e):(Zn(e),In(e))}}))),(void 0===(null===Le||void 0===Le?void 0:Le.id)||!(null!==Le&&void 0!==Le&&Le.completed_at)&&qe.id===(null===Le||void 0===Le||null===($=Le.creator)||void 0===$?void 0:$.id))&&i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==Fn&&void 0!==Fn&&null!==(ee=Fn.errors)&&void 0!==ee&&ee.due_date?"var(--app-color-error)":""}},i.createElement("p",null,null!==(ne=null===Ve||void 0===Ve?void 0:Ve.end)&&void 0!==ne?ne:"End Date"),i.createElement(s(),{showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,disabled:void 0!==(null===Le||void 0===Le?void 0:Le.id)&&(!(null===Le||void 0===Le||!Le.completed_at)||qe.id!==(null===Le||void 0===Le||null===(le=Le.creator)||void 0===le?void 0:le.id)),placeholderText:"End Date",customInput:i.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",border:"1px solid",borderColor:null!==Fn&&void 0!==Fn&&null!==(oe=Fn.errors)&&void 0!==oe&&oe.endDate?"var(--app-color-error)":"var(--app-color-gray-lighter)"}},i.createElement("input",{disabled:!0,readOnly:void 0!==(null===Le||void 0===Le?void 0:Le.id)&&(!(null===Le||void 0===Le||!Le.completed_at)||qe.id!==(null===Le||void 0===Le||null===(ie=Le.creator)||void 0===ie?void 0:ie.id)),onFocus:function(){return Wn("")},value:r()(kn).format("DD MMMM YYYY HH:mm"),type:"text",required:null===Fn||void 0===Fn||null===(te=Fn.errors)||void 0===te?void 0:te.endDate,id:"due-date",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",border:"none",fontFamily:"var(--app-text-main-font)",fontSize:"16px",lineHeight:"20px",color:"#4A4A4A",textAlign:(null===kn||void 0===kn?void 0:kn.length)>0?"center":"left",maxWidth:"98%"},placeholder:"Due Date",onChange:function(e){}}),i.createElement(y.f,{className:Z})),className:C,selected:kn,onChange:function(e){r()(e).diff(r()(wn),"minutes")>0?!1===je?r()(e).format("DD")===r()(kn).format("DD")?In(e):In(kn):In(e):In(kn)}}))),Fn&&(null===Fn||void 0===Fn||null===(de=Fn.errors)||void 0===de?void 0:de.due_date)&&i.createElement(M.Z,{message:Fn.errors.endDate}),i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==Fn&&void 0!==Fn&&null!==(ae=Fn.errors)&&void 0!==ae&&ae.assignee_id?"var(--app-color-error)":""}},i.createElement("p",null,null!==(ue=null===Ve||void 0===Ve?void 0:Ve.assignee)&&void 0!==ue?ue:"Assignee"),null!==Le&&void 0!==Le&&Le.completed_at?i.createElement("div",null,i.createElement("input",{style:{cursor:"auto"},placeholder:(null===Le||void 0===Le?void 0:Le.assignee.first_name)+" "+(null===Le||void 0===Le?void 0:Le.assignee.last_name),readOnly:!0})):i.createElement(m.ZP,{onFocus:function(){return Wn("")},isSearchable:!1,key:"Assignee",styles:sl,defaultInputValue:"",components:{DropdownIndicator:g.ms},placeholder:"",value:vl[vl.findIndex((function(e){return e.value===nn.assignee_id}))],options:vl.concat([{label:"None",value:""}]),onChange:function(e){e&&ln((function(n){return(0,a.Z)((0,a.Z)({},n),{},{assignee_id:e.value})}))}})),Fn&&(null===Fn||void 0===Fn||null===(re=Fn.errors)||void 0===re?void 0:re.assignee_id)&&i.createElement(M.Z,{message:Fn.errors.assignee_id})),(null===qe||void 0===qe||null===(ve=qe.positions)||void 0===ve?void 0:ve.length)>1&&i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{}},i.createElement("p",null,"Role"),null!==Le&&void 0!==Le&&null!==(se=Le.add_info)&&void 0!==se&&se.pos||null!==Le&&void 0!==Le&&Le.completed_at?i.createElement("input",{style:{cursor:"auto",border:"1px solid var(--app-color-gray-lighter)"},defaultValue:null===qe||void 0===qe||null===(ce=qe.positions.find((function(e){var n;return e.id===(null===Le||void 0===Le||null===(n=Le.add_info)||void 0===n?void 0:n.pos)})))||void 0===ce?void 0:ce.name,readOnly:!0}):i.createElement(m.ZP,{onFocus:function(){return Wn("")},key:"pos",styles:sl,components:{DropdownIndicator:g.ms},placeholder:"",options:null===qe||void 0===qe?void 0:qe.positions.map((function(e){return{label:e.name,value:e.id,pos:e}})),onChange:function(e){zn(e.value)}}),i.createElement("div",{style:{fontWeight:"normal"}},"Note: Your role when making this task")),Fn&&(null===Fn||void 0===Fn||null===(pe=Fn.errors)||void 0===pe?void 0:pe.procedure_id)&&i.createElement(M.Z,{message:Fn.errors.procedure_id})),((null===Le||void 0===Le?void 0:Le.completed_at)||qe.id===(null===Le||void 0===Le||null===(me=Le.creator)||void 0===me?void 0:me.id))&&i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==Fn&&void 0!==Fn&&null!==(fe=Fn.errors)&&void 0!==fe&&fe.procedure_id?"var(--app-color-error)":""}},i.createElement("p",null,"Status"),null!==Le&&void 0!==Le&&Le.completed_at?i.createElement("input",{style:{cursor:"auto"},placeholder:null!==(_e=null===Le||void 0===Le?void 0:Le.status)&&void 0!==_e?_e:"No status set",readOnly:!0}):qe.id===(null===Le||void 0===Le||null===(ye=Le.creator)||void 0===ye?void 0:ye.id)?i.createElement(m.ZP,{onFocus:function(){return Wn("")},key:"status",isSearchable:!1,styles:sl,defaultInputValue:"",components:{DropdownIndicator:g.ms},placeholder:"",value:cl.find((function(e){return e.value===pn})),options:qe.id===(null===Le||void 0===Le||null===(he=Le.creator)||void 0===he?void 0:he.id)?[].concat((0,d.Z)(cl),[{label:null!==(ge=null===(be=Fe.processModule)||void 0===be||null===(xe=be.module)||void 0===xe||null===(Ee=xe.options)||void 0===Ee?void 0:Ee.lock)&&void 0!==ge?ge:null===Ke||void 0===Ke||null===(Ce=Ke.misc_info)||void 0===Ce?void 0:Ce.lock,value:null!==(we=null===(Ze=Fe.processModule)||void 0===Ze||null===(Me=Ze.module)||void 0===Me||null===(Se=Me.options)||void 0===Se?void 0:Se.lock)&&void 0!==we?we:null===Ke||void 0===Ke||null===(ke=Ke.misc_info)||void 0===ke?void 0:ke.lock},{label:"No status",value:""}]):cl,onChange:function(e){return mn(e.value)}}):i.createElement("input",{style:{cursor:"auto"},placeholder:null!==(Ie=null===Le||void 0===Le?void 0:Le.status)&&void 0!==Ie?Ie:"No status set",readOnly:!0})),Fn&&(null===Fn||void 0===Fn||null===(Ne=Fn.errors)||void 0===Ne?void 0:Ne.procedure_id)&&i.createElement(M.Z,{message:Fn.errors.procedure_id})),Fn&&(null===Fn||void 0===Fn?void 0:Fn.message)&&i.createElement(M.Z,{message:Fn.message})),null!==Le&&void 0!==Le&&Le.completed_at?i.createElement("div",{className:E},i.createElement(b.Z,{clicked:We,className:w,title:"Close"})):ze?i.createElement("div",{className:E},i.createElement(b.Z,{clicked:We,className:w,title:"Close"}),Xe&&qe.id===(null===(Te=Le.creator)||void 0===Te?void 0:Te.id)&&i.createElement(b.Z,{light:!0,clicked:function(){return ol(!0)},className:w,title:"Delete"}),Xe&&i.createElement(b.Z,{light:!0,clicked:function(){return function(){var n,l;Hn(!0);var o=nn?nn.assignee_id:Re;(0,h.xJ)({assignee_id:o,name:rn,description:yn,dueDate:r()(kn).format("YYYY-MM-DD HH:mm"),status:null!==pn&&void 0!==pn?pn:"",add_info:(0,a.Z)((0,a.Z)({},null===e||void 0===e||null===(n=e.task)||void 0===n?void 0:n.add_info),{},{priority:null!==rl&&void 0!==rl?rl:"",start:wn,end:kn,value:Dn,pos:Ln})},null===e||void 0===e||null===(l=e.task)||void 0===l?void 0:l.id).subscribe({next:function(e){Je(e),Hn(!1),Ue(!1)},error:function(e){e&&(Wn(e.data),Hn(!1))},complete:function(){}})}()},className:w,title:"Update",loading:Yn}),Xe&&i.createElement(b.Z,{light:!0,clicked:function(){return function(){var e,n,l;Hn(!0),(0,h.vr)({newAssignee:{assignee_id:null===Le||void 0===Le||null===(e=Le.assignee)||void 0===e?void 0:e.id},taskName:Le.name,taskDescription:Le.description,dueDate:r()(null===Le||void 0===Le||null===(n=Le.add_info)||void 0===n?void 0:n.end).format("YYYY-MM-DD HH:mm"),add_info:null===Le||void 0===Le?void 0:Le.add_info,taskProcess:{id:null===Le||void 0===Le||null===(l=Le.process)||void 0===l?void 0:l.id}}).subscribe({next:function(e){We()},error:function(e){e&&(Wn(e.data),Hn(!1))},complete:function(){Hn(!1),!dl&&Ue(!1)}})}()},className:w,title:"Copy",loading:Yn}),!Xe&&i.createElement(b.Z,{title:"Assign",light:!0,clicked:function(){var n;Je((0,a.Z)((0,a.Z)({},null===e||void 0===e?void 0:e.task),{},{assignee_id:nn?nn.assignee_id:Re,name:rn,description:yn,due_date:r()(xn).format("YYYY-MM-DD HH:mm"),status:null!==pn&&void 0!==pn?pn:"",add_info:(0,a.Z)((0,a.Z)({},null===e||void 0===e||null===(n=e.task)||void 0===n?void 0:n.add_info),{},{priority:null!==rl&&void 0!==rl?rl:"",start:wn,end:kn,value:Dn})})),Ue(!1)},className:w})):i.createElement("div",{className:E},i.createElement(b.Z,{clicked:We,className:w,title:"Close"}),i.createElement(b.Z,{light:!0,clicked:function(){return Hn(!0),void(0,h.vr)({newAssignee:nn,taskProcess:null===Fe||void 0===Fe?void 0:Fe.processModule,taskName:rn,taskDescription:null!==yn&&void 0!==yn?yn:"-",dueDate:r()(kn).format("YYYY-MM-DD HH:mm"),add_info:{module_id:null===Fe||void 0===Fe?void 0:Fe.processModule.module_id,priority:rl,start:wn,end:kn,value:Dn,pos:Ln}}).subscribe({next:function(e){We()},error:function(e){e&&(Wn(e.data),Hn(!1))},complete:function(){Hn(!1),!dl&&Ue(!1)}})},className:w,title:"Save",loading:Yn})),ll&&i.createElement(N,{taskId:Le.id,isOpen:ll,removeTask:function(e){Jn(!0),(0,h._5)(e).subscribe({next:function(e){Jn(!1),ol(!1)},error:function(e){Jn(!1)},complete:function(){Ue(!1)}})},loading:Gn,onClose:ol}))})),D=(l(64967),l(75105)),P=l(11577),A=l(88374),O=l(88827),L=(0,c.$j)((function(e){var n=e.flowReducer,l=n.allModules,o=n.begunModule,i=n.companyUsersArray;return{allModules:l,user:e.sessionReducer.user,begunModule:o,companyUsersArray:i}}))((function(e){var n=e.isEdit,l=e.modalVisible,d=e.heading,a=e.onClose,u=e.isProcess,r=e.setIsProcessBegin,v=e.task,s=e.priority,c=void 0===s||s,p=e.shadowedContainerStyle,m=e.statuses,f=e.start_date,_=e.span,y=e.labels,h=void 0===y?{}:y,g=e.onUpdate,b=void 0===g?function(){}:g,x=e.save,E=void 0===x||x,C=e.companyUsersArray,w=(0,i.useState)(h),Z=(0,o.Z)(w,2),M=Z[0],S=Z[1],N=(0,i.useState)(u),L=(0,o.Z)(N,2),z=L[0],R=L[1],U=(0,i.useState)(d),F=(0,o.Z)(U,2),W=F[0],q=F[1];return(0,i.useEffect)((function(){var e=[];if(v){var n,l;if(!C.find((function(e){var n;return e.id===(null===v||void 0===v||null===(n=v.creator)||void 0===n?void 0:n.id)})))e=e.concat(null===(n=v.creator)||void 0===n?void 0:n.id);if(!C.find((function(e){var n;return e.id===(null===v||void 0===v||null===(n=v.assignee)||void 0===n?void 0:n.id)})))e=e.concat(null===(l=v.assignee)||void 0===l?void 0:l.id);e.length>0&&(0,D.VG)(e).pipe((0,P.P)()).subscribe({next:function(e){O.h.dispatch((0,A.NY)(C.concat(e)))}})}}),[]),i.createElement("div",null,i.createElement(t.U7,{scrollable:!0,shadowedContainerStyle:p||{width:I.tq?"96%":"35%"},isOpen:l,onClose:function(){},blured:!1},z?i.createElement("div",null,i.createElement("p",{style:{fontFamily:"var(--app-text-main-font)",fontSize:I.tq?"20px":"30px",fontWeight:"bold",color:"#4A4A4A",marginTop:"50px",marginBottom:"5px",textAlign:"center"}},null!==v&&void 0!==v&&v.completed_at?"Completed Task":W.toUpperCase()),i.createElement(T,{labels:M,showPriority:c,statuses:m,task:v,setIsProcessBegin:r,setDisplayModal:a,isProcess:z,isEdit:n,onClose:function(){return a()},start_date:f,span:_,onUpdate:b,save:E})):i.createElement("div",{style:{padding:"20px 20px"}},i.createElement("p",{style:{fontFamily:"var(--app-text-main-font)",fontSize:"20px",fontWeight:"bold",color:"#4A4A4A",marginTop:"10px",marginBottom:"5px",textAlign:"center"}},null!==v&&void 0!==v&&v.completed_at?"Completed Task":W),n&&i.createElement("p",{style:{fontFamily:"var(--app-text-main-font)",fontSize:"15px",fontWeight:"700",color:"#4A4A4A",marginTop:"5px",marginBottom:"5px",textAlign:"center"}},"Task ID: ".concat(v.id.slice(-6))),i.createElement(k,{showPriority:c,statuses:m,task:v,setIsProcessBegin:r,setDisplayModal:a,isProcess:z,isEdit:n,onClose:function(){return a()},start_date:f,span:_,setTaskLabels:S,onModuleSelect:function(e){R(!0),q("New Task for ".concat(e.name))}}))))}))},11217:function(e,n,l){"use strict";l.d(n,{s:function(){return v}});var o=l(74165),i=l(15861),t=l(1413),d=l(22148),a=l.n(d),u="https://routes.googleapis.com/directions/v2:computeRoutes",r=function(e){return(0,t.Z)((0,t.Z)({},e),{},{polylineQuality:"high_quality",computeAlternativeRoutes:!0})},v=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n){var l,i,t=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=t.length>1&&void 0!==t[1]?t[1]:"",e.prev=1,e.next=4,a().post(u,r(n),{headers:{"x-goog-api-key":l,"x-goog-fieldmask":"routes.duration,routes.distanceMeters,routes.polyline.encodedPolyline,routes.optimizedIntermediateWaypointIndex,routes.travelAdvisory.speedReadingIntervals"}});case 4:return i=e.sent,e.abrupt("return",i.data);case 8:throw e.prev=8,e.t0=e.catch(1),console.error("Error fetching directions:",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}()},29960:function(e,n,l){"use strict";var o=l(29439),i=l(81235),t=l(84878),d=l(67861),a=l(54868),u=l(12075),r=l(52902),v=l(40694),s=l(39518),c=l(88827),p=l(88374),m=l(67861);l(66918);n.Z=function(e){e.onLocationChange;var n,l,f,_,y,h=e.value,g=e.mapkey,b=void 0===g?"":g,x=e.onChange,E=void 0===x?function(){}:x,C=(e.placeholder,e.zoom),w=void 0===C?10:C,Z=(0,s.v9)((function(e){return e.flowReducer})).currentLocation,M=(0,d.useState)(null!==(n=null===h||void 0===h?void 0:h.address)&&void 0!==n?n:""),S=(0,o.Z)(M,2),k=S[0],I=S[1],N=(0,d.useState)([]),T=(0,o.Z)(N,2),D=T[0],P=T[1],A=(0,d.useState)({}),O=(0,o.Z)(A,2),L=O[0],z=O[1],R=(0,d.useState)(""),U=(0,o.Z)(R,2),F=U[0],W=U[1],q=(0,d.useState)({id:1,title:null!==h&&void 0!==h&&h.lat?"Target Location":"Current Location",lat:null!==(l=null!==(f=null===h||void 0===h?void 0:h.lat)&&void 0!==f?f:null===Z||void 0===Z?void 0:Z.latitude)&&void 0!==l?l:0,lng:null!==(_=null!==(y=null===h||void 0===h?void 0:h.lng)&&void 0!==y?y:null===Z||void 0===Z?void 0:Z.longitude)&&void 0!==_?_:0}),B=(0,o.Z)(q,2),Y=B[0],H=B[1];(0,d.useEffect)((function(){(0,a.setKey)(b),navigator.geolocation.getCurrentPosition((function(e){null!==h&&void 0!==h&&h.lat&&null!==h&&void 0!==h&&h.lng||e&&(H({id:1,title:"Current Location",lat:e.coords.latitude,lng:e.coords.longitude}),z({id:1,title:"Current Location",lat:e.coords.latitude,lng:e.coords.longitude}),c.h.dispatch((0,p.Rb)({latitude:e.coords.latitude,longitude:e.coords.longitude})))}),(function(e){return console.log(e)}))}),[]);var j=function(e){var n=e.text,l=e.tooltip;return m.createElement("div",{className:t.Z.xcircle},m.createElement("span",{className:t.Z.circleText,title:l},m.createElement(u.G,{icon:r.opg,style:{color:"green",width:"50px",height:"50px"}}),n))},V=function(e){e.text,e.tooltip;return m.createElement(u.G,{icon:r.diR,style:{color:"red",width:"10px",height:"10px"}})};return m.createElement("div",{style:{height:D.length>0?"":"600px",width:"100%",margin:"20px",textAlign:"center"}},m.createElement("div",{style:{display:"flex",width:"100%",margin:"auto",border:"1px dashed black"}},m.createElement(v.Z,{clear:!0,style:{width:"10%",height:"20px"},clicked:function(){Object.keys(L).length>0&&(H(L),(0,a.fromLatLng)(L.lat,L.lng).then((function(e){var n=e.results;I(n[0].formatted_address),P(n.map((function(e){return{label:e.formatted_address,value:e.formatted_address,res:e}})))})).catch(console.error))},icon:m.createElement(u.G,{icon:r.TqS,style:{swidth:"20px",height:"20px"}})}),m.createElement("input",{onBlur:function(e){e.target.value.length>3?(0,a.geocode)(a.RequestType.ADDRESS,k).then((function(e){var n=e.results,l=n[0].geometry.location,o=l.lat,i=l.lng;H({id:1,title:"Target Location",lat:o,lng:i}),P(n.map((function(e){return{label:e.formatted_address,value:e.formatted_address,res:e}})))})).catch((function(){return W("Address need more details")})):P([])},type:"text",onChange:function(e){I(e.target.value)},value:k,autoComplete:"none",className:t.Z.fieldTypeInput,style:{width:"74%",border:"0"},placeholder:"Type address"}),m.createElement(v.Z,{clear:!0,style:{width:"10%",height:"20px"},icon:m.createElement(u.G,{icon:r.wn1,style:{swidth:"20px",height:"20px"},clicked:function(){k.length>3&&(0,a.geocode)(a.RequestType.ADDRESS,k).then((function(e){var n=e.results,l=n[0].geometry.location,o=l.lat,i=l.lng;H({id:1,title:"Target Location",lat:o,lng:i}),P(n.map((function(e){return{label:e.formatted_address,value:e}})))})).catch((function(){}))}})})),m.createElement("p",{onClick:function(){return W("")}},F),D.slice(0,5).map((function(e,n){return m.createElement("div",{key:n},m.createElement(v.Z,{light:!0,title:e.value,style:{height:"100px",width:"100%"},titleStyle:{textAlign:"left"},clicked:function(){E(null===e||void 0===e?void 0:e.res)}}))})),m.createElement("div",{style:{marginTop:"20px",height:"80%",width:"100%"}},m.createElement(i.ZP,{onClick:function(e){(0,a.fromLatLng)(e.lat,e.lng).then((function(e){var n=e.results;I(n[0].formatted_address),P(n.map((function(e){return{label:e.formatted_address,value:e.formatted_address,res:e}})))})).catch(console.error),H({id:1,title:"Target Location",lat:e.lat,lng:e.lng})},bootstrapURLKeys:{key:b,language:"en",region:"US"},center:{lat:+Y.lat,lng:+Y.lng},defaultZoom:w,distanceToMouse:function(e,n){if(e&&n)return Math.sqrt((e.x-n.x)*(e.x-n.x)+(e.y-n.y)*(e.y-n.y))}},Z&&m.createElement(V,{key:1e3,lat:Z.latitude,lng:Z.longitude,tooltip:"Current Location"}),"Current Location"!==Y.title&&m.createElement(j,{key:Y.id,lat:Y.lat,lng:Y.lng,tooltip:Y.title}))))}},27426:function(e,n,l){"use strict";l.d(n,{Y:function(){return p},Z:function(){return c}});var o=l(93433),i=l(81235),t={App:"MapView_App__nakdl",circleText:"MapView_circleText__hsWm+",fieldTypeInput:"MapView_fieldTypeInput__jTYlG",selectText:"MapView_selectText__V-czl",inputField:"MapView_inputField__bZlly",industryMOL:"MapView_industryMOL__efdJc",industryMOLI:"MapView_industryMOLI__GM343"},d=(l(67861),l(60192)),a=(l(54868),l(12075)),u=l(52902),r=(l(89293),l(73500)),v=l(95256),s=l(67861),c=(l(66918),function(e){var n=e.pins,l=void 0===n?{lat:0,lng:0,address:"Nowhere"}:n,v=e.mapkey,c=void 0===v?"":v,p=(e.current,e.direction),m=e.zoom,f=void 0===m?15:m,_=(Math.max.apply(Math,(0,o.Z)(l.map((function(e){return e.lng}))))+Math.min.apply(Math,(0,o.Z)(l.map((function(e){return e.lng})))))/2,y=(Math.max.apply(Math,(0,o.Z)(l.map((function(e){return e.lat}))))+Math.min.apply(Math,(0,o.Z)(l.map((function(e){return e.lat})))))/2,h=function(e){e.text;var n=e.tooltip,l=e.type,o=void 0===l?"source":l;return s.createElement("div",{className:t.circle},s.createElement("span",{className:t.circleText,title:n},s.createElement(a.G,{icon:"realtime"===o?u.lft:u.opg,style:{color:"realtime"===o?"black":"destination"===o?"blue":"green",width:"30px",height:"30px"}})))},g=function(e,n,l){if((null===l||void 0===l?void 0:l.length)>1){var o=function(e,n,l){var o=new n.LatLngBounds;return l.forEach((function(e){o.extend(new n.LatLng(e.lat,e.lng))})),o}(0,n,l);e.fitBounds(o),function(e,n,l){n.event.addDomListenerOnce(e,"idle",(function(){n.event.addDomListener(window,"resize",(function(){e.fitBounds(l)}))}))}(e,n,o)}};return s.createElement("div",{style:{height:"500px",width:"100%",margin:r.tq?"0":"20px",padding:"0 20px 0 0"}},s.createElement("div",{style:{marginTop:"20px",height:"inherit",width:"inherit"}},s.createElement(i.ZP,{onClick:function(e){},bootstrapURLKeys:{key:"localhost"===window.location.hostname?"":c,language:"en",region:"US"},center:{lat:isNaN(y)?0:+y,lng:isNaN(_)?0:+_},defaultZoom:f,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){var n=e.map,o=e.maps;return g(n,o,l)}},l.length>0&&l.map((function(e,n){return s.createElement(h,{key:n,lat:e.lat,lng:e.lng,text:e.address,tooltip:e.address,type:e.type})})),p&&s.createElement(d.tH,{direction:p}))))}),p=function(e,n){if(""!==e&&""!==n){var l=new window.google.maps.DirectionsService;return new v.y((function(o){return null===l||void 0===l?void 0:l.route({origin:e,destination:n,travelMode:window.google.maps.TravelMode.DRIVING}).then((function(e){o.next(e)})).catch((function(e){o.error(e)}))}))}}},31266:function(e,n,l){"use strict";var o=l(1413),i=l(29439),t=l(67861),d=l(61058),a=l(89293);n.Z=function(e){var n=e.series,l=e.categories,u=(0,t.useState)({series:n}),r=(0,i.Z)(u,2),v=r[0],s=(r[1],(0,o.Z)((0,o.Z)({},a.NE),{},{xaxis:(0,o.Z)((0,o.Z)({},a.NE),{},{categories:l})}));return t.createElement("div",null,t.createElement("div",{id:"chartOne",className:"-ml-5"},t.createElement(d.Z,{options:s,series:v.series,type:"area",height:350})))}},30519:function(e,n,l){"use strict";var o=l(1413),i=l(29439),t=l(67861),d=l(61058),a=l(89293);n.Z=function(e){var n=e.series,l=e.labels,u=e.title,r=void 0===u?"Total":u,v=(0,t.useState)({series:n}),s=(0,i.Z)(v,2),c=s[0],p=(s[1],(0,o.Z)((0,o.Z)({},a.HR),{},{labels:l,plotOptions:(0,o.Z)((0,o.Z)({},a.HR.plotOptions),{},{pie:(0,o.Z)((0,o.Z)({},a.HR.plotOptions.pie),{},{donut:(0,o.Z)((0,o.Z)({},a.HR.plotOptions.pie.donut),{},{labels:(0,o.Z)((0,o.Z)({},a.HR.plotOptions.pie.donut.labels),{},{total:(0,o.Z)((0,o.Z)({},a.HR.plotOptions.pie.donut.labels.total),{},{label:r})})})})})}));return t.createElement("div",{className:"mb-2"},t.createElement("div",{id:"chartThree",className:"mx-auto flex justify-center"},t.createElement(d.Z,{options:p,series:c.series,type:"donut"})))}},84952:function(e,n,l){"use strict";var o=l(1413),i=l(29439),t=l(67861),d=l(61058),a=l(89293);n.Z=function(e){var n=e.series,l=e.categories,u=(0,t.useState)({series:n}),r=(0,i.Z)(u,2),v=r[0],s=(r[1],(0,o.Z)((0,o.Z)({},a.AM),{},{xaxis:(0,o.Z)((0,o.Z)({},a.AM),{},{categories:l})}));return t.createElement("div",null,t.createElement("div",{id:"chartTwo",className:"-ml-5 -mb-9"},t.createElement(d.Z,{options:s,series:v.series,type:"bar",height:350})))}},20089:function(e,n,l){"use strict";var o=l(61058),i=l(31266),t=l(84952),d=l(30519),a=l(67861);n.Z=function(e){var n=e.orientation,l=e.series,u=e.labels,r=e.config,v=e.title,s=e.type;return a.createElement(a.Fragment,null,"Line"===n&&a.createElement(i.Z,{series:l}),"Column"===n&&a.createElement(t.Z,{series:l}),"Donut"===n&&a.createElement(d.Z,{title:v,series:l,labels:u}),"Custom"===n&&a.createElement("div",{className:"mb-2"},a.createElement("div",{id:"reactApexChart",className:"mx-auto flex justify-center"},a.createElement(o.Z,{options:r,series:l,type:s}))))}},91426:function(e,n,l){"use strict";l.d(n,{Z:function(){return f}});var o=l(87462),i=l(1413),t=l(29439),d=l(45987),a=l(47144),u=l.n(a),r=l(88239),v=l(67861),s=l(85692),c=l(64468),p={host:"OpenSelectWithSearch_host__AREPA",toggleMenuControlsIcons:"OpenSelectWithSearch_toggleMenuControlsIcons__1MKyC",toggleMenuButton:"OpenSelectWithSearch_toggleMenuButton__bFOLO",inputContainer:"OpenSelectWithSearch_inputContainer__1riPP",input:"OpenSelectWithSearch_input__moy3y",menuOverlayList:"OpenSelectWithSearch_menuOverlayList__FgGKF",menuOverlayListItem:"OpenSelectWithSearch_menuOverlayListItem__uRq1S",title:"OpenSelectWithSearch_title__IiTec"},m=["defaultSelectedItem","items","title","id","placeholder","hasMandatoryIndicator","responsiveOnChange","errorMessage","itemType","onChange","onDropDownClosed","focusSelectedMenuItem","className","inputContainerClassName","inputClassName","clearControlsClassName","molclassname","moliclassname","inputStyle","menuOverlayListStyle","menuOverlayListItemStyle","triggerType","isClearable"],f=function(e){var n=e.defaultSelectedItem,l=e.items,a=e.title,f=e.id,_=void 0===f?null===a||void 0===a?void 0:a.replace(/ /g,"-"):f,y=e.placeholder,h=(e.hasMandatoryIndicator,e.responsiveOnChange),g=e.errorMessage,b=e.itemType,x=e.onChange,E=e.onDropDownClosed,C=e.focusSelectedMenuItem,w=e.className,Z=e.inputContainerClassName,M=e.inputClassName,S=e.clearControlsClassName,k=e.molclassname,I=e.moliclassname,N=e.inputStyle,T=e.menuOverlayListStyle,D=e.menuOverlayListItemStyle,P=e.triggerType,A=e.isClearable,O=(0,d.Z)(e,m),L=(0,v.useState)(l),z=(0,t.Z)(L,2),R=z[0],U=z[1],F=(0,v.useState)(!1),W=(0,t.Z)(F,2),q=W[0],B=W[1],Y=function(e){return B(e)},H=null!=g,j=(0,r.Kb)({items:R,id:_,defaultSelectedItem:n,stateReducer:function(e,n){var o=n.type,t=n.changes;switch(o){case r.Kb.stateChangeTypes.ToggleButtonClick:case r.Kb.stateChangeTypes.InputBlur:return(0,i.Z)((0,i.Z)({},t),{},{inputValue:""});case r.Kb.stateChangeTypes.FunctionOpenMenu:return U(l),(0,i.Z)((0,i.Z)({},t),{},{highlightedIndex:e.selectedItem?l.indexOf(e.selectedItem):-1})}return t},itemToString:function(e){var n;return null!==(n=null===e||void 0===e?void 0:e.label)&&void 0!==n?n:""},onSelectedItemChange:function(e){return null===x||void 0===x?void 0:x(e.selectedItem)},onInputValueChange:function(e){var n=e.inputValue;n&&U(l.filter((function(e){var l,o;return null===e||void 0===e||null===(l=e.label)||void 0===l||null===(o=l.toLowerCase())||void 0===o?void 0:o.includes(n.toLowerCase())})))}}),V=j.isOpen,G=j.getToggleButtonProps,J=(j.getLabelProps,j.getMenuProps),K=j.getInputProps,Q=j.getComboboxProps,X=j.highlightedIndex,$=j.getItemProps,ee=j.selectedItem,ne=j.openMenu,le=j.closeMenu,oe=j.selectItem;(0,v.useEffect)((function(){h&&V&&oe({value:"",label:""})}),[V,oe]),(0,v.useEffect)((function(){V&&ee&&C&&requestAnimationFrame((function(){var e=document.querySelector("#".concat(_,"-item-").concat(l.indexOf(ee)));null===e||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})}))}),[_,V,l,ee]);var ie=(0,v.useCallback)((function(){q&&(null===E||void 0===E||E(ee))}),[E,ee,q]);return(0,v.useEffect)((function(){V?Y(!0):(ie(),Y(!1)),ne()}),[V,ie]),v.createElement("div",(0,o.Z)({className:u()(p.host,w)},O),v.createElement("div",{className:p.title,style:{padding:"10px 0 0 26px"}},a.toUpperCase()),v.createElement(c.fv,(0,o.Z)({},Q(),{isActive:V,hasError:H,className:u()(p.inputContainer,Z)}),v.createElement(c.II,(0,o.Z)({className:u()(p.input,M),style:N},K({placeholder:y,"aria-invalid":null!=g||void 0,onFocus:function(){var n;V||ne(),null===e||void 0===e||null===(n=e.onFocus)||void 0===n||n.call(e)}}))),A&&(null===ee||void 0===ee?void 0:ee.label)&&v.createElement("div",{className:S,onClick:function(e){e.stopPropagation(),e.preventDefault(),oe(null)}},v.createElement(s.KF,{className:p.toggleMenuControlsIcons})),v.createElement(c.LG,(0,o.Z)({triggerType:P,isOpen:V,onClick:function(){return V?le():ne()}},G()))),v.createElement(c.ai,(0,o.Z)({},J(),{className:u()(p.menuOverlayList,k),"app-is-visible":V?"true":"false",style:T}),V&&(null===R||void 0===R?void 0:R.map((function(e,n){return v.createElement(c.q_,(0,o.Z)({itemType:b,isVisible:!0,key:"".concat(e).concat(n),className:u()(p.menuOverlayListItem,I),style:D,isHighlighted:X===n},$({item:e,index:n})),e.label,v.createElement("pre",{className:p.currencySymbol},null===e||void 0===e?void 0:e.symbol," "))})))),g&&v.createElement(c.Bc,null,g))}},60179:function(e,n,l){"use strict";l.d(n,{iA:function(){return w},z0:function(){return Z},zx:function(){return M}});var o,i,t,d,a,u=l(29439),r=l(87462),v=l(30168),s=l(67861),c=l(43745),p=l(49866),m=l(33613),f=l(79602),_=l(66624),y=l(90369),h=l(67861),g=c.ZP.div(o||(o=(0,v.Z)(["\n\theight: 1rem;\n\tvertical-align: bottom;\n\tdisplay: inline-block;\n\tmargin-right: 0.5rem;\n\tsvg {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\tcursor: ",";\n"])),(function(e){return e.isDragging?"grabbing":"grab"})),b=function(e){return h.createElement(g,e,h.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"grip-vertical",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},h.createElement("path",{fill:"currentColor",fillOpacity:"0.1",d:"M96 32H32C14.33 32 0 46.33 0 64v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM288 32h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z"})))},x=c.ZP.td(i||(i=(0,v.Z)(["\n\tbackground: rgba(127, 207, 250, 0.3);\n"]))),E=c.ZP.td(t||(t=(0,v.Z)(["\n\tbackground: white;\n\t&:first-of-type {\n\t\tmin-width: 20ch;\n\t}\n"]))),C=function(e){var n=e.row,l=(0,p.nB)({id:n.original.id}),o=l.attributes,i=l.listeners,t=l.transform,d=l.transition,a=l.setNodeRef,u=l.isDragging,v={transform:m.ux.Transform.toString(t),transition:d};return h.createElement("tr",(0,r.Z)({ref:a,style:v},n.getRowProps()),u?h.createElement(x,{colSpan:1},"\xa0"):n.cells.map((function(e,n){if(0===n)return h.createElement(E,(0,r.Z)({key:n},e.getCellProps()),h.createElement(b,(0,r.Z)({},o,i)),h.createElement("span",null,e.render("Cell")))})))};function w(e){var n=e.columns,l=e.data,o=e.onhandleDragEnd,i=(0,s.useState)(),t=(0,u.Z)(i,2)[1],d=(0,s.useMemo)((function(){return null===l||void 0===l?void 0:l.map((function(e){return e.id}))}),[l]),a=(0,y.useTable)({columns:n,data:l}),r=a.getTableProps,v=a.getTableBodyProps,c=a.rows,m=a.prepareRow,g=(0,f.Dy)((0,f.VT)(f.MA,{}),(0,f.VT)(f.LO,{}),(0,f.VT)(f.Lg,{}));return h.createElement(f.LB,{sensors:g,onDragEnd:function(e){var n=e.active,i=e.over;if(n.id!==i.id){var a=d.indexOf(n.id),u=d.indexOf(i.id),r=(0,p.Rp)(l,a,u);o(r)}t(null)},onDragStart:function(e){t(e.active.id)},onDragCancel:function(){t(null)},collisionDetection:f.pE,modifiers:[_.DL]},h.createElement("table",r(),h.createElement("tbody",v(),h.createElement(p.Fo,{items:d,strategy:p.qw},c.map((function(e){return m(e),h.createElement(C,{key:e.original.id,row:e})}))))))}var Z=c.ZP.div(d||(d=(0,v.Z)(["\n\t\n\toverflow:auto;\n\tpadding: 0rem;\n\ttable {\n\t\tborder-spacing: 0;\n\t\tborder: 0px dashed black;\n\n\t\ttr {\n\t\t\t:last-child {\n\t\t\t\ttd {\n\t\t\t\t\tborder-bottom: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tth,\n\t\ttd {\n\t\t\tmargin: 0;\n\t\t\twidth: 200rem;\n\t\t\tpadding: 0rem;\n\n\t\t\t:last-child {\n\t\t\t\tborder-right: 0;\n\t\t\t}\n\t\t}\n\t}\n"]))),M=c.ZP.div(a||(a=(0,v.Z)(["\n\tmax-height: 100vh; \n\toverflow:auto;\n\tpadding: 0rem;\n\ttable {\n\t\tborder-spacing: 0;\n\t\tborder: 0px dashed black;\n\n\t\ttr {\n\t\t\t:last-child {\n\t\t\t\ttd {\n\t\t\t\t\tborder-bottom: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tth,\n\t\ttd {\n\t\t\tmargin: 0;\n\t\t\twidth: 200rem;\n\t\t\tpadding: 0rem;\n\n\t\t\t:last-child {\n\t\t\t\tborder-right: 0;\n\t\t\t}\n\t\t}\n\t}\n"])))},32562:function(e,n,l){"use strict";l.d(n,{Z:function(){return P}});var o=l(74165),i=l(15861),t=l(29439),d=l(67861),a=l(88425),u=l(71853),r=l(40694);function v(e){var n=e.createCall,l=e.startHairCheck;return d.createElement("div",{className:"home-screen"},d.createElement(r.Z,{clicked:function(){n().then((function(e){l(e)}))},type:"button",title:"Join Call"}))}var s=l(67861);function c(e){var n=e.id,l=e.isLocal,o=(0,u.ou)(n,"user_name");return s.createElement("div",{className:"username"},o||"Other Participant"," ",l&&"(You)")}var p=l(73500),m=l(67861);function f(e){var n=e.id,l=e.isScreenShare,o=e.isLocal,i=e.isAlone;return o&&(" self-view",i&&" alone"),(0,u._)(n).isOff&&" no-video",m.createElement("div",{className:p.tq?"containerCssClassesMobile":"containerCssClasses",style:{padding:"20px"}},m.createElement(u.E5,{fit:"cover",automirror:!0,sessionId:n,type:l?"screenVideo":"video"}),!l&&m.createElement(c,{id:n,isLocal:o}))}var _=function(){console.log("make sure to allow access to your microphone and camera in your browser's permissions"),window.location.reload()};function y(){return d.createElement("div",{className:"call"},d.createElement("div",{className:"info-box get-user-media-error"},d.createElement("h1",null,"Camera or mic blocked"),d.createElement("button",{onClick:_,type:"button"},"Try again"),d.createElement("p",null,d.createElement("a",{href:"https://docs.daily.co/guides/how-daily-works/handling-device-permissions",target:"_blank",rel:"noreferrer"},"Get help"))))}function h(){var e=(0,d.useState)(!1),n=(0,t.Z)(e,2),l=n[0],o=n[1];(0,u.VU)("camera-error",(0,d.useCallback)((function(){o(!0)}),[]));var i=(0,u.N2)().screens,a=(0,u.OV)({filter:"remote"}),r=(0,u.q5)(),v=a.length<1;return l?d.createElement(y,null):d.createElement("div",{className:"call",style:{display:"flex",flexDirection:p.tq?"column":"row"}},r&&d.createElement(f,{id:r,isLocal:!0,isAlone:v}),a.length>0||i.length>0?d.createElement(d.Fragment,null,a.map((function(e){return d.createElement(f,{key:e,id:e})}))):d.createElement("div",{className:"info-box"},d.createElement("p",null,"Waiting for the other participant")))}function g(){return d.createElement("svg",{"aria-hidden":"true",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 7.5C3.89543 7.5 3 8.39543 3 9.5V14.5C3 15.6046 3.89543 16.5 5 16.5H13C14.1046 16.5 15 15.6046 15 14.5V9.5C15 8.39543 14.1046 7.5 13 7.5H5ZM16.5 10.9491C16.5 10.6634 16.6221 10.3914 16.8356 10.2017L19.3356 7.97943C19.9805 7.40618 21 7.86399 21 8.72684V15.2732C21 16.136 19.9805 16.5938 19.3356 16.0206L16.8356 13.7983C16.6221 13.6086 16.5 13.3366 16.5 13.0509V10.9491Z",fill:"currentColor"}))}function b(){return d.createElement("svg",{"aria-hidden":"true",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{d:"M20.5303 4.53033C20.8232 4.23744 20.8232 3.76256 20.5303 3.46967C20.2374 3.17678 19.7626 3.17678 19.4697 3.46967L14.6168 8.32252L14.6162 8.32164L6.43781 16.5H6.43934L3.46967 19.4697C3.17678 19.7626 3.17678 20.2374 3.46967 20.5303C3.76256 20.8232 4.23744 20.8232 4.53033 20.5303L8.56066 16.5H13C14.1046 16.5 15 15.6046 15 14.5V10.0607L20.5303 4.53033Z",fill:"#f63135"}),d.createElement("path",{d:"M13.2949 7.52159C13.1987 7.50737 13.1002 7.5 13 7.5H5C3.89543 7.5 3 8.39543 3 9.5V14.5C3 15.3978 3.59155 16.1574 4.40614 16.4104L13.2949 7.52159Z",fill:"#f63135"}),d.createElement("path",{d:"M16.5 10.9491C16.5 10.6634 16.6221 10.3914 16.8356 10.2017L19.3356 7.97943C19.9805 7.40618 21 7.86399 21 8.72684V15.2732C21 16.136 19.9805 16.5938 19.3356 16.0206L16.8356 13.7983C16.6221 13.6086 16.5 13.3366 16.5 13.0509V10.9491Z",fill:"#f63135"}))}function x(){return d.createElement("svg",{"aria-hidden":"true",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C10.3431 3 9 4.34315 9 6V12C9 13.6569 10.3431 15 12 15C13.6569 15 15 13.6569 15 12V6C15 4.34315 13.6569 3 12 3ZM7.5 12C7.5 11.5858 7.16421 11.25 6.75 11.25C6.33579 11.25 6 11.5858 6 12C6 13.9175 6.62158 15.4436 7.73826 16.4858C8.67527 17.3603 9.90114 17.8386 11.25 17.9654V20.25C11.25 20.6642 11.5858 21 12 21C12.4142 21 12.75 20.6642 12.75 20.25V17.9654C14.0989 17.8386 15.3247 17.3603 16.2617 16.4858C17.3784 15.4436 18 13.9175 18 12C18 11.5858 17.6642 11.25 17.25 11.25C16.8358 11.25 16.5 11.5858 16.5 12C16.5 13.5825 15.9966 14.6814 15.2383 15.3892C14.4713 16.105 13.3583 16.5 12 16.5C10.6417 16.5 9.52867 16.105 8.76174 15.3892C8.00342 14.6814 7.5 13.5825 7.5 12Z",fill:"currentColor"}))}function E(){return d.createElement("svg",{"aria-hidden":"true",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{d:"M12 3C13.5979 3 14.904 4.24928 14.9949 5.8244L9 11.8193V6C9 4.34315 10.3431 3 12 3Z",fill:"#f63135"}),d.createElement("path",{d:"M15 10.0607L20.5303 4.53033C20.8232 4.23744 20.8232 3.76256 20.5303 3.46967C20.2374 3.17678 19.7626 3.17678 19.4697 3.46967L3.46967 19.4697C3.17678 19.7626 3.17678 20.2374 3.46967 20.5303C3.76256 20.8232 4.23744 20.8232 4.53033 20.5303L8.19557 16.8651C9.05938 17.5005 10.1108 17.8583 11.25 17.9654V20.25C11.25 20.6642 11.5858 21 12 21C12.4142 21 12.75 20.6642 12.75 20.25V17.9654C14.0989 17.8386 15.3247 17.3603 16.2617 16.4858C17.3784 15.4436 18 13.9175 18 12C18 11.5858 17.6642 11.25 17.25 11.25C16.8358 11.25 16.5 11.5858 16.5 12C16.5 13.5825 15.9966 14.6814 15.2383 15.3892C14.4713 16.105 13.3583 16.5 12 16.5C10.919 16.5 9.9933 16.2498 9.27382 15.7868L10.476 14.5846C10.9227 14.8486 11.4436 15 12 15C13.6569 15 15 13.6569 15 12V10.0607Z",fill:"#f63135"}),d.createElement("path",{d:"M7.6111 13.2082C7.53881 12.8415 7.5 12.4394 7.5 12C7.5 11.5858 7.16421 11.25 6.75 11.25C6.33579 11.25 6 11.5858 6 12C6 12.8969 6.13599 13.7082 6.39503 14.4243L7.6111 13.2082Z",fill:"#f63135"}))}function C(){return d.createElement("svg",{"aria-hidden":"true",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{d:"M7 4.5H14C15.3807 4.5 16.5 5.61929 16.5 7V10H15V7C15 6.44772 14.5523 6 14 6H7C6.44772 6 6 6.44772 6 7V17C6 17.5523 6.44772 18 7 18H14C14.5523 18 15 17.5523 15 17V14H16.5V17C16.5 18.3807 15.3807 19.5 14 19.5H7C5.61929 19.5 4.5 18.3807 4.5 17V7C4.5 5.61929 5.61929 4.5 7 4.5Z",fill:"#f63135"}),d.createElement("path",{d:"M19.0303 8.46967C18.7374 8.17678 18.2626 8.17678 17.9697 8.46967C17.6768 8.76256 17.6768 9.23744 17.9697 9.53033L19.6893 11.25H12.75C12.3358 11.25 12 11.5858 12 12C12 12.4142 12.3358 12.75 12.75 12.75H19.6893L17.9697 14.4697C17.6768 14.7626 17.6768 15.2374 17.9697 15.5303C18.2626 15.8232 18.7374 15.8232 19.0303 15.5303L22.0303 12.5303C22.3232 12.2374 22.3232 11.7626 22.0303 11.4697L19.0303 8.46967Z",fill:"#f63135"}))}l(67861);function w(e){var n=e.leaveCall,l=(0,u.VI)(),o=(0,u.N2)(),i=(o.isSharingScreen,o.startScreenShare,o.stopScreenShare,(0,d.useState)(!1)),a=(0,t.Z)(i,2),r=(a[0],a[1],(0,d.useState)(!1)),v=(0,t.Z)(r,2),s=v[0],c=(v[1],(0,d.useState)(!1)),m=(0,t.Z)(c,2),f=(m[0],m[1]),_=(0,u.q5)(),y=(0,u._)(_),h=(0,u.Gg)(_),w=y.isOff,Z=h.isOff;(0,u.F3)({onAppMessage:(0,d.useCallback)((function(){s||f(!0)}),[s])});var M=(0,d.useCallback)((function(){l.setLocalVideo(w)}),[l,w]),S=(0,d.useCallback)((function(){l.setLocalAudio(Z)}),[l,Z]);return d.createElement("div",{className:"controls",style:{flexDirection:p.tq?"column":"row"}},d.createElement("button",{onClick:M,type:"button",style:{width:p.tq?"100%":""}},w?d.createElement(b,null):d.createElement(g,null),w?"Turn camera on":"Turn camera off"),d.createElement("button",{onClick:S,type:"button",style:{width:p.tq?"100%":""}},Z?d.createElement(E,null):d.createElement(x,null),Z?"Unmute mic":"Mute mic"),d.createElement("button",{onClick:n,type:"button",style:{width:p.tq?"100%":""}},d.createElement(C,null)," ","Leave call"))}function Z(e){var n,l,o,i=e.joinCall,a=e.cancelCall,v=(0,u.q5)(),s=(0,u.ou)(v,"user_name"),c=(0,u.Ls)(),m=c.currentCam,f=c.currentMic,_=c.currentSpeaker,h=c.microphones,g=c.speakers,b=c.cameras,x=c.setMicrophone,E=c.setCamera,C=c.setSpeaker,w=(0,u.VI)(),Z=(0,d.useState)(s),M=(0,t.Z)(Z,2),S=M[0],k=M[1],I=(0,d.useState)(!1),N=(0,t.Z)(I,2),T=N[0],D=N[1];(0,d.useEffect)((function(){k(s)}),[s]),(0,u.VU)("camera-error",(0,d.useCallback)((function(){D(!0)}),[]));var P=function(e){e.preventDefault(),i(S.trim())};return T?d.createElement(y,null):d.createElement("form",{className:"hair-check",onSubmit:P},d.createElement("div",{style:{display:"flex",flexDirection:"row",alignContent:"center",alignItems:"center",justifyContent:"space-between",justifyItems:"center",width:"100%"}},d.createElement(r.Z,{title:"Back",clicked:a,type:"button",style:{width:"100px"}}),d.createElement(r.Z,{light:!0,title:"Join",clicked:P,type:"button",style:{width:"100px"}})),d.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center"}},v&&d.createElement(u.E5,{fit:"cover",style:{width:p.tq?"100%":"80%",height:p.tq?"50vh":"80vh"},sessionId:v,mirror:!0})),d.createElement("div",null,d.createElement("label",{htmlFor:"username"},"Your name:"),d.createElement("input",{name:"username",type:"text",placeholder:"Enter username",onChange:function(e){k(e.target.value),w.setUserName(e.target.value)},value:S||" ",style:{border:"1px dashed gray"}})),d.createElement("div",null,d.createElement("label",{htmlFor:"micOptions"},"Microphone:"),d.createElement("select",{name:"micOptions",id:"micSelect",onChange:function(e){x(e.target.value)},value:null===f||void 0===f||null===(n=f.device)||void 0===n?void 0:n.deviceId,style:{border:"1px dashed gray"}},h.map((function(e){return d.createElement("option",{key:"mic-".concat(e.device.deviceId),value:e.device.deviceId},e.device.label)})))),d.createElement("div",null,d.createElement("label",{htmlFor:"speakersOptions"},"Speakers:"),d.createElement("select",{name:"speakersOptions",id:"speakersSelect",onChange:function(e){C(e.target.value)},value:null===_||void 0===_||null===(l=_.device)||void 0===l?void 0:l.deviceId,style:{border:"1px dashed gray"}},g.map((function(e){return d.createElement("option",{key:"speaker-".concat(e.device.deviceId),value:e.device.deviceId},e.device.label)})))),d.createElement("div",null,d.createElement("label",{htmlFor:"cameraOptions"},"Camera:"),d.createElement("select",{name:"cameraOptions",id:"cameraSelect",onChange:function(e){E(e.target.value)},value:null===m||void 0===m||null===(o=m.device)||void 0===o?void 0:o.deviceId,style:{border:"1px dashed gray"}},b.map((function(e){return d.createElement("option",{key:"cam-".concat(e.device.deviceId),value:e.device.deviceId},e.device.label)})))))}var M=l(89293),S=l(30994),k="STATE_IDLE",I="STATE_JOINING",N="STATE_JOINED",T="STATE_ERROR",D="STATE_HAIRCHECK",P=function(e){var n=e.payload,l=(0,d.useState)(k),r=(0,t.Z)(l,2),s=r[0],c=r[1],p=(0,d.useState)(null),m=(0,t.Z)(p,2),f=m[0],_=m[1],y=(0,d.useState)(null),g=(0,t.Z)(y,2),b=g[0],x=g[1],E=(0,d.useState)(!1),C=(0,t.Z)(E,2),P=C[0],A=C[1],O=(0,d.useCallback)((function(){return c("STATE_CREATING"),S.ns.videos.checkRoom(n).then((function(e){return"not-found"===(null===e||void 0===e?void 0:e.error)?S.ns.videos.createRoom(n).then((function(e){return e.url})).catch((function(e){_(null),c(k),A(!0)})):e.url})).catch((function(){_(null),c(k),A(!0)}))}),[]),L=(0,d.useCallback)(function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n){var l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=a.ZP.createCallObject(),_(n),x(l),c(D),e.next=6,l.preAuth({url:n});case 6:return e.next=8,l.startCamera();case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]),z=(0,d.useCallback)((function(e){b.join({url:f,userName:e})}),[b,f]),R=(0,d.useCallback)((function(){b&&(s===T?b.destroy().then((function(){_(null),x(null),c(k)})):(c("STATE_LEAVING"),b.leave()))}),[b,s]);(0,d.useEffect)((function(){var e=(0,M.bi)();e&&L(e)}),[L]),(0,d.useEffect)((function(){var e=(0,M.eu)(f);e!==window.location.href&&window.history.replaceState(null,null,e)}),[f]),(0,d.useEffect)((function(){if(b){var e=["joined-meeting","left-meeting","error","camera-error"];return n(),e.forEach((function(e){return b.on(e,n)})),function(){e.forEach((function(e){return b.off(e,n)}))}}function n(){switch(b.meetingState()){case"joined-meeting":c(N);break;case"left-meeting":b.destroy().then((function(){_(null),x(null),c(k)}));break;case"error":c(T)}}}),[b]);var U=!P&&[I,N,T].includes(s),F=!P&&s===D;return d.createElement("div",{className:"app"},P?d.createElement("div",{className:"api-error"},d.createElement("h1",null,"Error"),d.createElement("p",null,"Room could not be created. For more information, see the"," ",d.createElement("a",{href:"https://github.com/daily-demos/custom-video-daily-react-hooks#readme"},"readme")," ")):F||U?d.createElement(u.Eu,{callObject:b},F?d.createElement(Z,{joinCall:z,cancelCall:R}):d.createElement("div",{className:"call"},d.createElement(h,null),d.createElement(w,{leaveCall:R}),d.createElement(u.Th,null))):d.createElement(v,{createCall:O,startHairCheck:L}))}},59401:function(e,n,l){"use strict";l.d(n,{sM:function(){return r}});var o=l(29439),i=l(1413),t=l(92957),d="SET_SELECTED_COMPONENT",a=(0,t.Z)((function(e,n){var l=n.action,o=n.value;return l===d?(0,i.Z)((0,i.Z)({},e),{},{selectedComponent:o}):(0,i.Z)({},e)}),{selectedComponent:[]}),u=(0,o.Z)(a,2),r=(u[0],u[1])},94667:function(e,n,l){"use strict";l.d(n,{hd:function(){return u}});var o=l(1413),i=(l(56031),l(95256)),t=l(88827),d=l(30994),a=l(96332),u=function(e){var n=t.h.getState().authReducer.sessionSettings.last_access_token,l={analyze:e},u=(0,o.Z)({},d.ns.search.geminiAI(n)),r=(0,o.Z)((0,o.Z)({},u),{},{data:l,handlerEnabled:!0,forwardAllErrors:!0});return new i.y((function(e){return(0,a.b)(r).then((function(n){null!==n&&void 0!==n&&n.data&&(e.next(n.data),e.complete())})).catch((function(n){e.error(n)}))}))}},143:function(){},48963:function(e,n){"use strict";n.Z={selectAndMultiselectHost:"AccordionModule_selectAndMultiselectHost__H5+ac",selectAndMultiselectHostTiles:"AccordionModule_selectAndMultiselectHostTiles__zy8A7",section:"AccordionModule_section__WDGnE",accordionContainer:"AccordionModule_accordionContainer__xiMyc",active:"AccordionModule_active__a1e+z",title:"AccordionModule_title__K6M+I",titleII:"AccordionModule_titleII__F1dBf",customTitleInput:"AccordionModule_customTitleInput__DlCL7",icon:"AccordionModule_icon__7T+T6",loaderContainer:"AccordionModule_loaderContainer__fKA1C",host:"AccordionModule_host__TqxiS",iconsContainer:"AccordionModule_iconsContainer__gYCG-",rotate:"AccordionModule_rotate__ojdmf",content:"AccordionModule_content__N8Nff",fieldTypeInput:"AccordionModule_fieldTypeInput__Mql2D",fieldTypeID:"AccordionModule_fieldTypeID__02C5P",fieldMapInput:"AccordionModule_fieldMapInput__iOK6F",fieldTypeDate:"AccordionModule_fieldTypeDate__sfpwa",labelInput:"AccordionModule_labelInput__djkp5",fieldRowContainer:"AccordionModule_fieldRowContainer__eD864",accordion:"AccordionModule_accordion__dL-hC",emulatedFlexGap:"AccordionModule_emulatedFlexGap__UKu5e",regularAccordion:"AccordionModule_regularAccordion__UnZ1B",singleInputContainer:"AccordionModule_singleInputContainer__7L-68",dateInputContainer:"AccordionModule_dateInputContainer__WIoWU",inputContainerClassName:"AccordionModule_inputContainerClassName__ZLNQe",phoneIInput:"AccordionModule_phoneIInput__bFeGI",currencySelectContainer:"AccordionModule_currencySelectContainer__J5uBg",currencySymbol:"AccordionModule_currencySymbol__jg7Fb",currencySelectComponent:"AccordionModule_currencySelectComponent__vxRYx",currencySelectMenuOverlayList:"AccordionModule_currencySelectMenuOverlayList__suVOI",currencySelectMenuOverlayListItem:"AccordionModule_currencySelectMenuOverlayListItem__F4q4l",currencySearchInput:"AccordionModule_currencySearchInput__EStZB",currencyClearControlsClassName:"AccordionModule_currencyClearControlsClassName__9qj4b",currencyInputContainerClassName:"AccordionModule_currencyInputContainerClassName__gSheY",currencyInput:"AccordionModule_currencyInput__pD6+T",peopleContainer:"AccordionModule_peopleContainer__VbsS1",peopleBooleansOptions:"AccordionModule_peopleBooleansOptions__b1ikO",peoplePositionSelectContainer:"AccordionModule_peoplePositionSelectContainer__KETnD",peoplePositionsSelect:"AccordionModule_peoplePositionsSelect__8SVZX",peoplePositionsSelectInput:"AccordionModule_peoplePositionsSelectInput__Zf0FV",peoplePositionsSelectMenuOverlay:"AccordionModule_peoplePositionsSelectMenuOverlay__G6S96",peoplePositionsSelectMenuOverlayItem:"AccordionModule_peoplePositionsSelectMenuOverlayItem__l7tLe",tileCards:"AccordionModule_tileCards__VEH-p",unfocusableWrapper:"AccordionModule_unfocusableWrapper__ySvhc",menuOverlayList:"AccordionModule_menuOverlayList__53cF+",menuOverlayListItem:"AccordionModule_menuOverlayListItem__52ph5",menuOverlayListItemInput:"AccordionModule_menuOverlayListItemInput__D1qcy",menuOverlayListItemInputContainerClassName:"AccordionModule_menuOverlayListItemInputContainerClassName__jn-Os",openSelectWithSearchHost:"AccordionModule_openSelectWithSearchHost__S8Y7m",openSelectWithSearch:"AccordionModule_openSelectWithSearch__xb15e",dropdownClassContainer:"AccordionModule_dropdownClassContainer__opaaF",dropdownHeightClassContainer:"AccordionModule_dropdownHeightClassContainer__alywJ",fieldTypeTextarea:"AccordionModule_fieldTypeTextarea__wJxdM",fullLengthTextarea:"AccordionModule_fullLengthTextarea__DKcwY",filtersContainer:"AccordionModule_filtersContainer__kaLD+",dropdownSelectComponent:"AccordionModule_dropdownSelectComponent__IfPlb",itemsTable:"AccordionModule_itemsTable__kWpNG",customMenuOverlayListItemCheckboxCheckedMark:"AccordionModule_customMenuOverlayListItemCheckboxCheckedMark__b3B5p",customMenuOverlayListItemNormalCheckedMark:"AccordionModule_customMenuOverlayListItemNormalCheckedMark__tu2Bv",checkbox:"AccordionModule_checkbox__V5Lcp",itemsContainer:"AccordionModule_itemsContainer__bCyAe",listContainer:"AccordionModule_listContainer__RLbAr",tableHostMobile:"AccordionModule_tableHostMobile__AbPfF",tableHostSimple:"AccordionModule_tableHostSimple__JS9c+",action:"AccordionModule_action__N6BJM",mobileTable_ii:"AccordionModule_mobileTable_ii__jIJWm",centerDiv:"AccordionModule_centerDiv__jUmVO",calendar:"AccordionModule_calendar__v3+FG",actionsContainer:"AccordionModule_actionsContainer__Q+UIe",wallet:"AccordionModule_wallet__9uxJi",swiperslide:"AccordionModule_swiperslide__kTurl","checkbox-wrapper-21":"AccordionModule_checkbox-wrapper-21__8wOyr",control:"AccordionModule_control__xQxfW",control__indicator:"AccordionModule_control__indicator__ygU2Z","control--checkbox":"AccordionModule_control--checkbox__7QZcQ",dashboardCard:"AccordionModule_dashboardCard__4lxG5",avatarContentContainer:"AccordionModule_avatarContentContainer__YeEYQ",avatarUrlImg:"AccordionModule_avatarUrlImg__ImMyI",itemsContainer_ii:"AccordionModule_itemsContainer_ii__BNh89",timer:"AccordionModule_timer__7JIP9"}},84878:function(e,n){"use strict";n.Z={App:"MapPin_App__ttDFM",circle:"MapPin_circle__XymBg",circleText:"MapPin_circleText__wjHtA",fieldTypeInput:"MapPin_fieldTypeInput__qK41G",selectText:"MapPin_selectText__OZhje",inputField:"MapPin_inputField__OXU+c",industryMOLI:"MapPin_industryMOLI__PLA7r",multiselectComponent:"MapPin_multiselectComponent__03G3Z",dropdownClassContainer:"MapPin_dropdownClassContainer__5871O"}},55382:function(){},72095:function(){},61219:function(){}}]);
//# sourceMappingURL=3710.ab9c9786.chunk.js.map