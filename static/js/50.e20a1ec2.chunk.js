(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[50,905],{48630:function(e,n,l){"use strict";l.d(n,{X:function(){return g}});var o=l(4942),i=l(87462),t=l(45987),d=l(67861),a=l(64468),u="Checkbox_host__MtZZg",r="Checkbox_checkmarkContainer__7m7hu",v="Checkbox_input__fK+n4",s="Checkbox_checkboxControl__TezWV",c="Checkbox_checkboxControlIcon__5qzo9",p="Checkbox_checkboxLabel__lacXH",m="Checkbox_checkboxDisabled__Qo2Ag",f=l(85692),_=l(47144),y=l.n(_),h=["checkboxLabel","hasMandatoryIndicator","disabled","errormessage"];var g=(0,d.forwardRef)((function(e,n){var l=e.checkboxLabel,_=e.hasMandatoryIndicator,g=e.disabled,b=e.errormessage,x=(0,t.Z)(e,h);return d.createElement(a.__,{hasMandatoryIndicator:_,className:y()(u,(0,o.Z)({},m,g)),"app-checkbox-error":b&&(null===b||void 0===b?void 0:b.length)>0?"error":"false"},d.createElement("span",{className:y()(r)},d.createElement("input",(0,i.Z)({ref:n,className:y()(v),type:"checkbox",disabled:g},x)),d.createElement("span",{className:y()(s)},d.createElement(f.MK,{className:y()(c)}))),d.createElement("span",{className:y()(p)},l))}))},41131:function(e,n,l){"use strict";l.d(n,{C6:function(){return Ne},_G:function(){return Te},ZP:function(){return Ie}});var o=l(4942),i=l(1413),t=l(93433),d=l(29439),a=l(67861),u="CustomTemplateModule_section__S+Ga8",r="CustomTemplateModule_accordionContainer__Eooxm",v="CustomTemplateModule_active__x9Y6U",s="CustomTemplateModule_content__3auE3",c=l(47144),p=l.n(c),m=l(27436),f=l(39518),_=l(89293),y=l(88550),h=l(51330),g=l(73500),b=l(46415),x=l(10904),E={mobilepopup:"CustomSportsClub_mobilepopup__efO50",mobilepopupopen:"CustomSportsClub_mobilepopupopen__R9HZu",mobilePopupActionContainer:"CustomSportsClub_mobilePopupActionContainer__9+kzH",filtersContainer:"CustomSportsClub_filtersContainer__GwQ7c",centerDiv:"CustomSportsClub_centerDiv__oTWCq",fieldInput:"CustomSportsClub_fieldInput__ZHED4"},C=l(6073),w=l(12308),Z=l(11577),M=l(85692),S=l(12075),k=l(52902),I=l(32588),N=l(50981),T=l.n(N),P=l(88827),D=l(88374),A=l(93389),O=l(58535),L=l(85508),z=l(63864),R=l(27658),U=l(9825),F=l.n(U),q=(0,f.$j)((function(e){var n=e.authReducer,l=(n.authenticatedUser.position,n.authenticatedUser),o=e.sessionReducer.user,i=e.flowReducer;return{begunModule:i.begunModule,allModules:i.allModules,companyData:i.companyData,companyUsersArray:i.companyUsersArray,companyPositionsArray:i.companyPositionsArray,components:i.components,authenticatedUser:l,user:o,companyProcesses:i.companyProcesses}}))((function(e){var n,l,u,r,v,s,c,p,m,f,h,S,k,N,O,z,R,U,F,q,W,B,H,j,V,G,J,K,Q=e.begunModule,X=e.allModules,$=e.companyData,ee=e.companyUsersArray,ne=e.goto,le=e.components,oe=e.authenticatedUser,ie=e.user,te=e.companyProcesses,de=(e.template,e.title),ae=e.selectedComponent,ue=e.setSelectedComponent,re=(e.step,(0,a.useState)(!1)),ve=(0,d.Z)(re,2),se=ve[0],ce=ve[1],pe=(0,a.useState)((null===(n=ae.shared_users)||void 0===n||null===(l=n.filter((function(e){return(null===e||void 0===e?void 0:e.id)===(null===oe||void 0===oe?void 0:oe.id)})))||void 0===l?void 0:l.length)>0),me=(0,d.Z)(pe,2),fe=me[0],_e=me[1],ye=(0,a.useState)((null===(u=ae.component_items)||void 0===u||null===(r=u.filter((function(e){var n,l;return(null===e||void 0===e?void 0:e.value)===(null===oe||void 0===oe?void 0:oe.id)&&"Join"===(null===e||void 0===e?void 0:e.type)&&(null===e||void 0===e?void 0:e.item_code)===(null===Q||void 0===Q||null===(n=Q.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.id)})))||void 0===r?void 0:r.length)>0),he=(0,d.Z)(ye,2),ge=he[0],be=he[1],xe=(0,a.useState)(!1),Ee=(0,d.Z)(xe,2),Ce=Ee[0],we=Ee[1],Ze=(0,a.useState)(!1),Me=(0,d.Z)(Ze,2),Se=Me[0],ke=Me[1],Ie=(0,a.useState)(!1),Ne=(0,d.Z)(Ie,2),Te=(Ne[0],Ne[1]),Pe=(0,a.useState)(!1),De=(0,d.Z)(Pe,2),Ae=(De[0],De[1]),Oe=(0,y.pQ)(),Le=(0,d.Z)(Oe,2),ze=(Le[0],Le[1]),Re=(null===oe||void 0===oe?void 0:oe.id)===(null===ae||void 0===ae||null===(v=ae.created_by)||void 0===v?void 0:v.id),Ue=1===(null===ae||void 0===ae||null===(s=ae.component_items)||void 0===s?void 0:s.filter((function(e){return"Moderator"===e.type&&(null===e||void 0===e?void 0:e.value)===(null===oe||void 0===oe?void 0:oe.id)})).length),Fe=Re||Ue,qe=null!==(c=ae.component_fields.find((function(e){return"Private"===e.field_name})))&&void 0!==c&&c,We=null!==(p=null===(m=ae.component_fields.find((function(e){return"My Community"===e.field_name})))||void 0===m?void 0:m.value)&&void 0!==p?p:"Metro Manila",Be=null===(f=ae.component_fields.find((function(e){return"Club Description"===e.field_name})))||void 0===f?void 0:f.value,Ye="Yes"===(null===(h=ae.component_fields.find((function(e){return"Basketball"===e.field_name})))||void 0===h?void 0:h.value)?"Basketball":"Yes"===(null===(S=ae.component_fields.find((function(e){return"Pickleball"===e.field_name})))||void 0===S?void 0:S.value)?"Pickleball":"All Sports",He=null===X||void 0===X?void 0:X.find((function(e){return"Meets"===(null===e||void 0===e?void 0:e.name)}));return a.createElement("div",null,a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:g.tq?"18px":"20px",fontWeight:"bold",marginTop:g.tq?"":"50px"}},de),a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"12px",marginTop:"5px"}},"".concat(qe?"Private":"Public"," \u25e6 ").concat(Ye," \u25e6 ").concat(We)),Be&&a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"12px",margin:"40px 0"}},"".concat(Be)),fe&&!Fe&&a.createElement("p",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"14px",fontWeight:"bold",marginTop:"30px"}},"You are a member of this club"),Fe&&a.createElement("p",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"14px",fontWeight:"bold",marginTop:"30px"}},Ue?"You are a moderator of this club":"You are the admin of this club"),a.createElement(b.mQ,{style:{width:"100%",fontSize:g.tq?"16px":"20px",marginTop:"20px"}},a.createElement(b.td,{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:g.tq?"14px":"16px"}},Fe&&a.createElement(b.OK,null,"DETAILS"),a.createElement(b.OK,null,"MEMBERS"),a.createElement(b.OK,null,"MEETS")),Fe&&a.createElement(b.x4,{id:"DETAILS"},a.createElement("div",{style:{width:"100%",minHeight:"50vh",overflow:"auto"}},e.children)),a.createElement(b.x4,{id:"MEMBERS"},a.createElement("div",{style:{width:"100%",minHeight:"100vh",overflow:"auto"}},a.createElement("div",{className:E.centeredDiv,style:{width:"inherit",fontSize:"14px",marginTop:"20px"}},a.createElement("div",{style:{fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},"Club Admin"),a.createElement("div",{className:E.filtersContainer},a.createElement(I.Z,{simple:!0,photo:null!==(k=null===oe||void 0===oe?void 0:oe.photo)&&void 0!==k?k:"https://s3-symbol-logo.tradingview.com/logo-yazilim--600.png",email:"Founded club: ".concat(T()(new Date(ae.created_date)).format("DD MMM YYYY")),position:null!==(N=null===oe||void 0===oe||null===(O=oe.options)||void 0===O?void 0:O.info)&&void 0!==N?N:"",firstName:a.createElement("div",{style:{fontWeight:"bold"}},"".concat(null===ae||void 0===ae||null===(z=ae.created_by)||void 0===z?void 0:z.first_name," ").concat(null===ae||void 0===ae||null===(R=ae.created_by)||void 0===R?void 0:R.last_name)),cardClicked:function(){},width:"100%"}))),(null===ae||void 0===ae||null===(U=ae.shared_users)||void 0===U?void 0:U.length)>0&&a.createElement(a.Fragment,null,a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},"Members ( ".concat(null===ae||void 0===ae||null===(F=ae.shared_users)||void 0===F?void 0:F.length," )")),a.createElement(w.default,{className:E.sharesTable,withColumns:!1,modern:!0,columns:["User","Photo","Bio","Pay"],list:null===ae||void 0===ae||null===(q=ae.shared_users)||void 0===q?void 0:q.map((function(e){var n,l,t,d,u,r=ee.find((function(n){return n.id===e.id})),v=null===ae||void 0===ae||null===(n=ae.component_items)||void 0===n?void 0:n.find((function(e){return"Moderator"===e.type&&(null===e||void 0===e?void 0:e.value)===(null===r||void 0===r?void 0:r.id)}));return r?(u={},(0,o.Z)(u,"User",a.createElement("div",{style:{fontWeight:"bold"}},"".concat(null===r||void 0===r?void 0:r.first_name," ").concat(null===r||void 0===r?void 0:r.last_name))),(0,o.Z)(u,"Photo",null!==(l=null===r||void 0===r?void 0:r.photo)&&void 0!==l?l:null===$||void 0===$?void 0:$.logo),(0,o.Z)(u,"Bio",null!==(t=null===r||void 0===r||null===(d=r.options)||void 0===d?void 0:d.info)&&void 0!==t?t:""),(0,o.Z)(u,"Pay",Re?a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},v?a.createElement(x.zx,{title:"Remove as Moderator",clicked:function(){var e,n,l;ce(!0),(0,C.KL)((0,i.Z)((0,i.Z)({},ae),{},{component_items:null===ae||void 0===ae||null===(e=ae.component_items)||void 0===e?void 0:e.filter((function(e){return"Moderator"===e.type&&(null===e||void 0===e?void 0:e.value)!==(null===r||void 0===r?void 0:r.id)}))}),ae.id,null===(n=ae.shared_users)||void 0===n?void 0:n.map((function(e){return e.id})),ae.title,null===ae||void 0===ae?void 0:ae.is_complete,null===ae||void 0===ae||null===(l=ae.shared_positions)||void 0===l?void 0:l.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){ue(null===e||void 0===e?void 0:e.data),ce(!1)},error:function(){return ce(!1)}})},style:{width:"160px"},titleStyle:{fontSize:"10px"},loading:se}):a.createElement(x.zx,{title:"Add as Moderator",clicked:function(){var e,n,l;ce(!0),(0,C.np)({index:null===ae||void 0===ae||null===(e=ae.component_items)||void 0===e?void 0:e.length,item_code:null===Q||void 0===Q||null===(n=Q.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.id,type:"Moderator",value:null===r||void 0===r?void 0:r.id},ae.id).subscribe({next:function(e){ue(null===e||void 0===e?void 0:e.data),ce(!1)},error:function(){return ce(!1)}})},style:{width:"160px"},titleStyle:{fontSize:"10px"},loading:se})):a.createElement("div",{style:{fontWeight:"bold"}}," ",v?"* Club Moderator":""," ")),u):{User:null===e||void 0===e?void 0:e.id}}))})),Fe&&(null===ae||void 0===ae||null===(W=ae.component_items)||void 0===W?void 0:W.filter((function(e){return"Invite"===e.type})).length)>0&&a.createElement(a.Fragment,null,a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},"Invited ( ".concat(null===ae||void 0===ae||null===(B=ae.component_items)||void 0===B?void 0:B.filter((function(e){return"Invite"===e.type})).length," )")),a.createElement(w.default,{className:E.sharesTable,withColumns:!1,modern:!0,columns:["User","Photo","Bio"],list:null===ae||void 0===ae||null===(H=ae.component_items)||void 0===H||null===(j=H.filter((function(e){return"Invite"===e.type})))||void 0===j?void 0:j.map((function(e){var n,l,i,t,d=ee.find((function(n){return n.id===e.value}));return t={},(0,o.Z)(t,"User","".concat(null===d||void 0===d?void 0:d.first_name," ").concat(null===d||void 0===d?void 0:d.last_name)),(0,o.Z)(t,"Photo",null!==(n=null===d||void 0===d?void 0:d.photo)&&void 0!==n?n:null===$||void 0===$?void 0:$.logo),(0,o.Z)(t,"Bio",null!==(l=null===d||void 0===d||null===(i=d.options)||void 0===i?void 0:i.info)&&void 0!==l?l:""),t}))})),Fe&&(null===ae||void 0===ae||null===(V=ae.component_items)||void 0===V?void 0:V.filter((function(e){return"Join"===e.type})).length)>0&&a.createElement(a.Fragment,null,a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},"Requests to Join ( ".concat(null===ae||void 0===ae||null===(G=ae.component_items)||void 0===G?void 0:G.filter((function(e){return"Join"===e.type})).length," )")),a.createElement(w.default,{className:E.sharesTable,withColumns:!1,modern:!0,columns:["User","Photo","Requests"],list:null===ae||void 0===ae||null===(J=ae.component_items)||void 0===J||null===(K=J.filter((function(e){return"Join"===e.type})))||void 0===K?void 0:K.map((function(e){var n,l,d,u,r=ee.find((function(n){return n.id===e.value}));return r?(u={},(0,o.Z)(u,"User",a.createElement("div",{style:{fontWeight:"bold"}},"".concat(null===r||void 0===r?void 0:r.first_name," ").concat(null===r||void 0===r?void 0:r.last_name))),(0,o.Z)(u,"Photo",null!==(n=null===r||void 0===r?void 0:r.photo)&&void 0!==n?n:null===$||void 0===$?void 0:$.logo),(0,o.Z)(u,"Requests",Fe?null!==ae&&void 0!==ae&&null!==(l=ae.component_items)&&void 0!==l&&l.find((function(e){return"Payments"===e.type&&(null===e||void 0===e?void 0:e.value)===(null===r||void 0===r?void 0:r.id)}))?"Paid":a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},a.createElement("p",{style:{width:"50%"}},null===r||void 0===r||null===(d=r.options)||void 0===d?void 0:d.info),a.createElement(x.zx,{title:"Accept",clicked:function(){var n,l,o;ce(!0),(0,C.KL)((0,i.Z)((0,i.Z)({},ae),{},{component_items:ae.component_items.filter((function(n){return n.id!==e.id}))}),ae.id,[].concat((0,t.Z)(null!==(n=null===(l=ae.shared_users)||void 0===l?void 0:l.map((function(e){return e.id})))&&void 0!==n?n:[]),[null===r||void 0===r?void 0:r.id]),ae.title,null===ae||void 0===ae?void 0:ae.is_complete,null===ae||void 0===ae||null===(o=ae.shared_positions)||void 0===o?void 0:o.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){ue(null===e||void 0===e?void 0:e.data),ce(!1)},error:function(){return ce(!1)}})},style:{width:"80px",backgroundColor:"blue"},titleStyle:{fontSize:"10px"},loading:se}),a.createElement(x.zx,{title:"Decline",clicked:function(){var n,l;ce(!0),(0,C.KL)((0,i.Z)((0,i.Z)({},ae),{},{component_items:ae.component_items.filter((function(n){return n.id!==e.id}))}),ae.id,null===(n=ae.shared_users)||void 0===n?void 0:n.map((function(e){return e.id})),ae.title,null===ae||void 0===ae?void 0:ae.is_complete,null===ae||void 0===ae||null===(l=ae.shared_positions)||void 0===l?void 0:l.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){ue(null===e||void 0===e?void 0:e.data),ce(!1)},error:function(){return ce(!1)}})},style:{width:"80px",backgroundColor:"red"},titleStyle:{fontSize:"10px"},loading:se})):""),u):{User:null===e||void 0===e?void 0:e.id}}))})),!(fe||ge||Fe)&&qe&&a.createElement(x.zx,{title:"Request to Join Club",clicked:function(){var e,n,l;ce(!0),(0,C.np)({index:null===ae||void 0===ae||null===(e=ae.component_items)||void 0===e?void 0:e.length,item_code:null===Q||void 0===Q||null===(n=Q.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.id,type:"Join",value:null===oe||void 0===oe?void 0:oe.id},ae.id).subscribe({next:function(){be(!0),ce(!1)},error:function(){return ce(!1)}})},style:{width:"100%",backgroundColor:"green"},loading:se}),!(fe||Fe)&&!qe&&a.createElement(x.zx,{title:"Join Club",clicked:function(){var e,n,l;ce(!0),(0,C.KL)((0,i.Z)((0,i.Z)({},ae),{},{component_items:ae.component_items.filter((function(e){return("Invite"===e.type||"Join"===e.type)&&e.value!==oe.id}))}),ae.id,[].concat((0,t.Z)(null!==(e=null===(n=ae.shared_users)||void 0===n?void 0:n.map((function(e){return e.id})))&&void 0!==e?e:[]),[null===oe||void 0===oe?void 0:oe.id]),de,null===ae||void 0===ae?void 0:ae.is_complete,null===ae||void 0===ae||null===(l=ae.shared_positions)||void 0===l?void 0:l.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){var n;ae.shared_users=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.shared_users,_e(!0),ce(!1)},error:function(){return ce(!1)}})},style:{width:"100%",backgroundColor:"blue"},loading:se}),Fe&&a.createElement(x.zx,{title:"Invite Players",clicked:function(){ke(!0)},style:{width:"100%",backgroundColor:"green"},loading:se})),fe&&!Fe&&a.createElement(x.zx,{title:"Leave Club",clicked:function(){var e;ce(!0),(0,C.KL)((0,i.Z)((0,i.Z)({},ae),{},{component_items:ae.component_items.filter((function(e){return e.value!==(null===oe||void 0===oe?void 0:oe.id)}))}),ae.id,ae.shared_users.filter((function(e){return e.id!==(null===oe||void 0===oe?void 0:oe.id)})).map((function(e){return e.id})),de,null===ae||void 0===ae?void 0:ae.is_complete,null===ae||void 0===ae||null===(e=ae.shared_positions)||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){var n;ae.shared_users=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.shared_users,ue(ae),_e(!1),ce(!1)},error:function(){return ce(!1)}})},style:{width:"100%",backgroundColor:"red"},loading:se})),a.createElement(b.x4,{id:"MEETS"},a.createElement("div",{style:{width:"100%",minHeight:"60vh",overflow:"auto",zIndex:"-1"}},a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"}},a.createElement(x.zx,{light:!0,style:{display:Fe?"":"none"},clicked:function(){we(!0)},icon:a.createElement("img",{src:M.IH})})),!Ce&&a.createElement(Y,{events:le.filter((function(e){return"Expired"!==e.status&&e.module_id===(null===He||void 0===He?void 0:He.id)})),isAdmin:Fe,onEventClick:function(e){var n=le.find((function(n){return n.id===(null===e||void 0===e?void 0:e.event_id)}));ne&&(0,L.navigateToTransaction)(te,ue,Te,$,n,ze,oe,Q,ie,X,Ae,ee,He)}})))),a.createElement("div",{className:Se?E.mobilepopupopen:E.mobilepopup,style:{display:Se?"":"none"}},a.createElement("div",{style:{width:"100%",height:"50vh",backgroundColor:"white",opacity:"0.9"},onClick:function(){return ke(!1)}}),a.createElement("div",{className:E.mobilePopupActionContainer,style:{padding:"20px"}},a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},"Invite"),a.createElement(w.default,{className:E.sharesTable,withColumns:!1,modern:!0,columns:["User","Photo","Bio"],list:ee.filter((function(e){var n,l,o;return!(null!==ae&&void 0!==ae&&null!==(n=ae.shared_users)&&void 0!==n&&null!==(l=n.map((function(e){return e.id})))&&void 0!==l&&l.includes(e.id)||null!==ae&&void 0!==ae&&null!==(o=ae.component_items.filter((function(e){return"Invite"===e.type})).map((function(e){return e.value})))&&void 0!==o&&o.includes(e.id))})).map((function(e){var n,l,i,t;return t={},(0,o.Z)(t,"User","".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name)),(0,o.Z)(t,"Photo",null!==(n=null===e||void 0===e?void 0:e.photo)&&void 0!==n?n:null===$||void 0===$?void 0:$.logo),(0,o.Z)(t,"Bio",null!==(l=null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.info)&&void 0!==l?l:""),(0,o.Z)(t,"id",e.id),t})),onListItemClick:function(e){var n,l,o;ce(!0),(0,C.np)({index:null===ae||void 0===ae||null===(n=ae.component_items)||void 0===n?void 0:n.length,item_code:null===Q||void 0===Q||null===(l=Q.processModule)||void 0===l||null===(o=l.module)||void 0===o?void 0:o.id,type:"Invite",value:null===e||void 0===e?void 0:e.id},ae.id).subscribe({next:function(){ce(!1)},error:function(){return ce(!1)}})}}))),a.createElement("div",{className:Ce?E.mobilepopupopen:E.mobilepopup,style:{display:Ce?"":"none"}},a.createElement("div",{style:{width:"100%",height:"50vh",backgroundColor:"white",opacity:"0.9"},onClick:function(){return we(!1)}}),a.createElement("div",{className:E.mobilePopupActionContainer},a.createElement(x.zx,{title:"Create one-off meet",style:{width:"100%"},clicked:function(){var e=function(e){var n,l,o,d,a,u,r=e.steps.filter((function(n){var l,o,i,t,d,a;return void 0==(null===n||void 0===n||null===(l=n.options)||void 0===l?void 0:l.showStepAll)||1==(null===n||void 0===n||null===(o=n.options)||void 0===o?void 0:o.showStepAll)||0==(null===n||void 0===n||null===(i=n.options)||void 0===i?void 0:i.showStepAll)&&(null===n||void 0===n||null===(t=n.options)||void 0===t||null===(d=t.showOnly)||void 0===d?void 0:d.filter((function(e){return oe.positions.map((function(e){return e.id})).indexOf(e)>-1})).length)>0||(null===n||void 0===n||null===(a=n.options)||void 0===a?void 0:a.showStepAuthor)&&(null===oe||void 0===oe?void 0:oe.id)===(null===e||void 0===e?void 0:e.user_id)})).map((function(e,n){return(0,i.Z)((0,i.Z)({},e),{},{rank:n+1})}));P.h.dispatch((0,D.q4)(e)),P.h.dispatch((0,D.an)([e],_.Qc)),P.h.dispatch((0,D.q4)((0,i.Z)((0,i.Z)({},e),{},{completeSteps:e.steps,steps:r,stepIndex:2,module_id:He.id,module:He,isUpdating:!1}))),ze({action:y._U.setCurrentStep,value:null===e||void 0===e?void 0:e.steps[2]}),ze({action:y._U.setModuleItems,value:ae.component_items}),ze({action:y._U.setModuleNewStepComponents,value:[]}),ze({action:y._U.setComponents,value:[]});var v=(0,t.Z)(null!==(n=null===(l=r[2])||void 0===l?void 0:l.component_blueprints)&&void 0!==n?n:[]);if((null===v||void 0===v?void 0:v.length)>0){var s,c,p=null===(s=v.find((function(e){return e.selected_fields.find((function(e){return"Club"===e.field_name}))})))||void 0===s?void 0:s.selected_fields.find((function(e){return"Club"===e.field_name}));p&&(p.value=de),(p=null===(c=v.find((function(e){return e.selected_fields.find((function(e){return"Sport"===e.field_name}))})))||void 0===c?void 0:c.selected_fields.find((function(e){return"Sport"===e.field_name})))&&(p.value=Ye),ze({action:y._U.setComponentBlueprints,value:v}),ze({action:y._U.setModuleNewStepComponents,value:v})}(null===Q||void 0===Q||null===(o=Q.processModule)||void 0===o||null===(d=o.steps)||void 0===d?void 0:d.length)>0&&(null===Q||void 0===Q||null===(a=Q.processModule)||void 0===a||null===(u=a.steps)||void 0===u||u.filter((function(e){var n;return null===e||void 0===e||null===(n=e.component_blueprints)||void 0===n?void 0:n.filter((function(e){return e.selected_fields.filter((function(e){return e.value=void 0}))}))})))};te.find((function(e){return e.id===He.procedure.id}))?e(te.find((function(e){return e.id===He.procedure.id}))):(ce(!0),(0,A.zJ)(He.procedure.id).pipe((0,Z.P)()).subscribe({next:function(n){ce(!1),e(n)},error:function(e){}}))}}),a.createElement(x.zx,{title:"Create recurring schedule",clicked:function(){return we(!1)},style:{width:"100%"}}))))})),W=function(e){var n,l,u,r,v,s,c,p,m,y,h,P,D,A,O,L,U,q,W,B,Y,H,j,V,G,J,K,Q,X,$,ee,ne,le,oe,ie,te,de,ae,ue,re=e.selectedComponent,ve=e.begunModule,se=e.goto,ce=(0,f.v9)((function(e){return e.flowReducer})),pe=ce.companyData,me=ce.companyUsersArray,fe=ce.components,_e=(0,f.v9)((function(e){return e.authReducer})),ye=_e.authenticatedUser,he=(0,a.useState)(!1),ge=(0,d.Z)(he,2),be=ge[0],xe=ge[1],Ee=(0,a.useState)((null===re||void 0===re||null===(n=re.shared_users)||void 0===n||null===(l=n.filter((function(e){return(null===e||void 0===e?void 0:e.id)===(null===ye||void 0===ye?void 0:ye.id)})))||void 0===l?void 0:l.length)>0),Ce=(0,d.Z)(Ee,2),we=Ce[0],Ze=Ce[1],Me=(0,a.useState)((null===re||void 0===re||null===(u=re.component_items)||void 0===u||null===(r=u.filter((function(e){var n,l;return(null===e||void 0===e?void 0:e.value)===(null===ye||void 0===ye?void 0:ye.id)&&("Request"===(null===e||void 0===e?void 0:e.type)||"Waitlist"===(null===e||void 0===e?void 0:e.type))&&(null===e||void 0===e?void 0:e.item_code)===(null===ve||void 0===ve||null===(n=ve.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.id)})))||void 0===r?void 0:r.length)>0),Se=(0,d.Z)(Me,2),ke=Se[0],Ie=Se[1],Ne=(0,a.useState)(null===re||void 0===re?void 0:re.component_fields.find((function(e){return"Status"===e.field_name}))),Te=(0,d.Z)(Ne,1)[0],Pe=(0,a.useState)(null===re||void 0===re||null===(v=re.component_items)||void 0===v?void 0:v.find((function(e){return"Payments"===e.type&&(null===e||void 0===e?void 0:e.value)===(null===ye||void 0===ye?void 0:ye.id)}))),De=(0,d.Z)(Pe,2),Ae=De[0],Oe=De[1],Le=(0,a.useState)(""),ze=(0,d.Z)(Le,2),Re=ze[0],Ue=ze[1],Fe=(0,a.useState)(!1),qe=(0,d.Z)(Fe,2),We=qe[0],Be=qe[1],Ye=(0,a.useState)({type:"Match"}),He=(0,d.Z)(Ye,2),je=He[0],Ve=He[1],Ge=(0,a.useState)(),Je=(0,d.Z)(Ge,2),Ke=Je[0],Qe=Je[1],Xe=(null===ye||void 0===ye?void 0:ye.id)===(null===re||void 0===re||null===(s=re.created_by)||void 0===s?void 0:s.id),$e=(null===re||void 0===re||null===(c=re.component_fields.find((function(e){return"Sport"===e.field_name})))||void 0===c||c.value,null===re||void 0===re||null===(p=re.component_fields.find((function(e){return"Type"===e.field_name})))||void 0===p||p.value,null===re||void 0===re||null===(m=re.component_fields.find((function(e){return"Notes"===e.field_name})))||void 0===m||m.value,null===re||void 0===re?void 0:re.component_fields.find((function(e){return"Club"===e.field_name}))),en=fe.find((function(e){var n;return e.module_id===(null===$e||void 0===$e||null===(n=$e.options)||void 0===n?void 0:n.module_id)&&(null===e||void 0===e?void 0:e.component_fields.find((function(e){return e.value===(null===$e||void 0===$e?void 0:$e.value)})))})),nn=(null===en||void 0===en||en.component_fields.find((function(e){return"Value Button"===e.data_type_name&&(null===e||void 0===e?void 0:e.value)})),y=null===en||void 0===en||null===(h=en.component_fields.find((function(e){return"My Community"===e.field_name})))||void 0===h?void 0:h.value,null!==(P=null===re||void 0===re?void 0:re.component_fields.find((function(e){return"Private"===e.field_name})))&&void 0!==P&&P),ln="".concat(T()(new Date(null===re||void 0===re||null===(D=re.component_fields.find((function(e){return"Meet Date"===e.field_name})))||void 0===D?void 0:D.value)).format("DD MMM YYYY hh:mm A")),on=null===re||void 0===re?void 0:re.component_fields.find((function(e){return"Fee"===e.field_name})),tn=function(){return a.createElement("div",null,!(we||Xe)&&!nn&&!("Closed"===(null===re||void 0===re?void 0:re.status)||"Done"===(null===re||void 0===re?void 0:re.status)||"Cancelled"===(null===re||void 0===re?void 0:re.status)||"Expired"===(null===re||void 0===re?void 0:re.status))&&a.createElement(x.zx,{title:"Join Meet",clicked:function(){var e,n,l;xe(!0),(0,C.KL)((0,i.Z)((0,i.Z)({},re),{},{component_items:re.component_items.filter((function(e){return e.value!==ye.id&&"Unavailable"===e.type}))}),re.id,[].concat((0,t.Z)(null!==(e=null===(n=re.shared_users)||void 0===n?void 0:n.map((function(e){return e.id})))&&void 0!==e?e:[]),[null===ye||void 0===ye?void 0:ye.id]),null===re||void 0===re?void 0:re.title,null===re||void 0===re?void 0:re.is_complete,null===re||void 0===re||null===(l=re.shared_positions)||void 0===l?void 0:l.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){var n;re.shared_users=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.shared_users,Ze(!0),xe(!1)},error:function(){return xe(!1)}})},style:{width:"100%",backgroundColor:"green"},loading:be}),!we&&Xe&&!("Closed"===(null===re||void 0===re?void 0:re.status)||"Done"===(null===re||void 0===re?void 0:re.status)||"Cancelled"===(null===re||void 0===re?void 0:re.status)||"Expired"===(null===re||void 0===re?void 0:re.status))&&a.createElement(x.zx,{title:"Participate as Player",clicked:function(){var e,n,l;xe(!0),(0,C.KL)((0,i.Z)((0,i.Z)({},re),{},{component_items:re.component_items.filter((function(e){return e.value!==ye.id&&"Unavailable"===e.type}))}),re.id,[].concat((0,t.Z)(null!==(e=null===(n=re.shared_users)||void 0===n?void 0:n.map((function(e){return e.id})))&&void 0!==e?e:[]),[null===ye||void 0===ye?void 0:ye.id]),null===re||void 0===re?void 0:re.title,null===re||void 0===re?void 0:re.is_complete,null===re||void 0===re||null===(l=re.shared_positions)||void 0===l?void 0:l.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){var n;re.shared_users=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.shared_users,Ze(!0),xe(!1)},error:function(){return xe(!1)}})},style:{width:"100%",backgroundColor:"green"},loading:be}),we&&on&&!Xe&&!Ae&&a.createElement(x.zx,{disabled:+(null===ye||void 0===ye?void 0:ye.wallet)<+(null===on||void 0===on?void 0:on.value),title:"Pay ".concat(null===on||void 0===on?void 0:on.field_name),clicked:function(){+(null===ye||void 0===ye?void 0:ye.wallet)>+(null===on||void 0===on?void 0:on.value)?(xe(!0),(0,R.e_)({user_id:ye.id,id:(0,_.mR)(),total:-+(null===on||void 0===on?void 0:on.value),product:"PY-".concat(null===re||void 0===re?void 0:re.id),notes:"Wallet",quantity:1}).pipe((0,Z.P)()).subscribe({next:function(){var e,n,l,o,i;ye.wallet=+(+(null!==(e=null===ye||void 0===ye?void 0:ye.wallet)&&void 0!==e?e:0)-+(null===on||void 0===on?void 0:on.value)),(0,C.np)({index:null===re||void 0===re||null===(n=re.component_items)||void 0===n?void 0:n.length,item_code:null===ve||void 0===ve||null===(l=ve.processModule)||void 0===l||null===(o=l.module)||void 0===o?void 0:o.id,type:"Payments",value:null===ye||void 0===ye?void 0:ye.id,alt_value:null===re||void 0===re||null===(i=re.created_by)||void 0===i?void 0:i.id,total:null===on||void 0===on?void 0:on.value},re.id).subscribe({next:function(e){var n,l;Oe(null===e||void 0===e||null===(n=e.component_items)||void 0===n?void 0:n.find((function(e){return"Payments"===e.type&&(null===e||void 0===e?void 0:e.value)===(null===ye||void 0===ye?void 0:ye.id)}))),(0,R.e_)({user_id:null===re||void 0===re||null===(l=re.created_by)||void 0===l?void 0:l.id,id:(0,_.mR)(),total:+(null===on||void 0===on?void 0:on.value),product:"CR-".concat(null===re||void 0===re?void 0:re.id),notes:"Wallet",quantity:1}).pipe((0,Z.P)()).subscribe({next:function(){return xe(!1)},error:function(){return xe(!1)}})},error:function(){return xe(!1)}})}})):Ue("Insufficient wallet balance. ( Available: ".concat(null===ye||void 0===ye?void 0:ye.wallet,")"))},style:{width:"100%",backgroundColor:"green"},loading:be}),Re&&a.createElement("p",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"14px",fontWeight:"bold"},onClick:function(){return Ue("")}},Re),we&&!Xe&&!("Closed"===(null===re||void 0===re?void 0:re.status)||"Done"===(null===re||void 0===re?void 0:re.status)||"Cancelled"===(null===re||void 0===re?void 0:re.status)||"Expired"===(null===re||void 0===re?void 0:re.status))&&a.createElement(x.zx,{title:"Cant Join",clicked:function(){var e,n,l,o,d,a,u;xe(!0),(0,C.KL)((0,i.Z)((0,i.Z)({},re),{},{component_items:[].concat((0,t.Z)(null!==(e=null===re||void 0===re?void 0:re.component_items)&&void 0!==e?e:[]),[{index:null===re||void 0===re||null===(n=re.component_items)||void 0===n?void 0:n.length,item_code:null===ve||void 0===ve||null===(l=ve.processModule)||void 0===l||null===(o=l.module)||void 0===o?void 0:o.id,type:"Unavailable",value:null===ye||void 0===ye?void 0:ye.id}])}),re.id,null===(d=re.shared_users)||void 0===d||null===(a=d.filter((function(e){return e.id!==(null===ye||void 0===ye?void 0:ye.id)})))||void 0===a?void 0:a.map((function(e){return e.id})),null===re||void 0===re?void 0:re.title,null===re||void 0===re?void 0:re.is_complete,null===re||void 0===re||null===(u=re.shared_positions)||void 0===u?void 0:u.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){var n,l;re.shared_users=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.shared_users,re.component_items=null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.component_items,Ze(!1),xe(!1)},error:function(){return xe(!1)}})},style:{width:"100%"},loading:be}),!(we||Xe)&&!ke&&nn&&!("Closed"===(null===re||void 0===re?void 0:re.status)||"Done"===(null===re||void 0===re?void 0:re.status)||"Cancelled"===(null===re||void 0===re?void 0:re.status)||"Expired"===(null===re||void 0===re?void 0:re.status))&&a.createElement(x.zx,{title:"Request to Join Meet",clicked:function(){var e,n,l;xe(!0),(0,C.np)({index:null===re||void 0===re||null===(e=re.component_items)||void 0===e?void 0:e.length,item_code:null===ve||void 0===ve||null===(n=ve.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.id,type:"Request",value:null===ye||void 0===ye?void 0:ye.id},re.id).subscribe({next:function(){Ie(!0),xe(!1)},error:function(){return xe(!1)}})},style:{width:"100%",backgroundColor:"var(--app-color-blue)"},loading:be}))},dn=function(){var e,n,l,o,d,u=[].concat((0,t.Z)(me),[ye]).find((function(e){return e.id===je.value})),r=[].concat((0,t.Z)(me),[ye]).find((function(e){return e.id===je.alt_value})),v=JSON.parse(je.item_code);return a.createElement("div",{className:E.mobilePopupActionContainer},a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"18px",fontWeight:"bold"}},null===v||void 0===v?void 0:v.round),a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"12px",marginTop:"5px"}},"Date: ".concat(T()(null===v||void 0===v?void 0:v.date).format("DD MMMM YYYY HH:mm"))),a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"12px",marginTop:"5px"}},"Venue: ".concat(null===v||void 0===v?void 0:v.court)),a.createElement("hr",null),a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"}},a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",marginRight:"20px",width:"50%"}},"".concat(null!==(e=null===u||void 0===u?void 0:u.first_name)&&void 0!==e?e:"Player"," ").concat(null!==(n=null===u||void 0===u?void 0:u.last_name)&&void 0!==n?n:"1")),a.createElement("p",{style:{textAlign:"right",fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",marginRight:"20px",width:"50%"}},"".concat(null!==(l=null===r||void 0===r?void 0:r.first_name)&&void 0!==l?l:"Player"," ").concat(null!==(o=null===r||void 0===r?void 0:r.last_name)&&void 0!==o?o:"2"))),null===v||void 0===v||null===(d=v.matches)||void 0===d?void 0:d.map((function(e,n){return a.createElement("div",{key:n,style:{display:"flex",justifyContent:"space-between",width:"100%"}},a.createElement("input",{defaultValue:null===e||void 0===e?void 0:e.p1,style:{textAlign:"center",width:"50px",height:"50px",margin:"10px"},onChange:function(n){e.p1=n.target.value,je.item_code=JSON.stringify(v)}}),a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)"}},"SET ",e.set),a.createElement("input",{defaultValue:null===e||void 0===e?void 0:e.p2,style:{textAlign:"center",width:"50px",height:"50px",margin:"10px"},onChange:function(n){e.p2=n.target.value,je.item_code=JSON.stringify(v)}}))})),a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},(Xe||u.id===ye.id||r.id===ye.id)&&a.createElement(x.zx,{light:!0,style:{display:"",backgroundColor:"rgb(246,244,236)"},clicked:function(){xe(!0),(0,C.np)(je,re.id).subscribe({next:function(e){re.component_items=e.data.component_items,xe(!1),Be(!1)},error:function(){return xe(!1)}})},title:"UPDATE",loading:be}),(Xe||u.id===ye.id||r.id===ye.id)&&a.createElement(x.zx,{light:!0,style:{display:"",backgroundColor:"rgb(246,244,236)"},clicked:function(){var e;v.matches.push({p1:0,p2:0,set:(null===v||void 0===v||null===(e=v.matches)||void 0===e?void 0:e.length)+1}),Ve((0,i.Z)((0,i.Z)({},je),{},{item_code:JSON.stringify(v)}))},title:"ADD SET"})))};return a.createElement("div",null,a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:g.tq?"18px":"20px",fontWeight:"bold",marginTop:g.tq?"":"50px"}},null===re||void 0===re?void 0:re.title),a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"12px",marginTop:"5px"}},ln),a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},we&&!Xe&&a.createElement("p",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"14px",fontWeight:"bold",marginTop:"30px"}},"You are a participant of this meet"),Xe&&a.createElement("p",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"14px",fontWeight:"bold",marginTop:"30px"}},"You are the organizer of this meet"),!Xe&&on&&a.createElement("p",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"14px",fontWeight:"bold",marginTop:"30px"}},Ae?"PAID":"FEE (".concat(null===on||void 0===on?void 0:on.value,")"))),a.createElement(b.mQ,{style:{width:"100%",fontSize:g.tq?"16px":"20px",marginTop:"20px"}},a.createElement(b.td,{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:g.tq?"14px":"16px"}},a.createElement(b.OK,null,"DETAILS"),a.createElement(b.OK,null,"PARTICIPANTS"),!("New"===re.status||"None"===re.status)&&a.createElement(b.OK,null,"GAMES")),a.createElement(b.x4,{id:"DETAILS"},a.createElement("div",{style:{width:"100%",minHeight:"60vh",overflow:"auto"}},a.createElement("div",{className:E.centeredDiv,style:{width:"inherit",fontSize:"14px",marginTop:"20px"}},e.children,Xe&&"Expired"!==(null===re||void 0===re?void 0:re.status)&&a.createElement("div",{style:{width:"100%",display:""}},a.createElement(z.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},className:E.multiselectComponent,visible:!0,mandatory:!1,value:null===Te||void 0===Te?void 0:Te.value,items:null===Te||void 0===Te||null===(A=Te.options)||void 0===A||null===(O=A.list)||void 0===O?void 0:O.map((function(e){return{label:e,value:e}})),onChange:function(e){var n,l;re.status=e,Te.value=e,xe(!0),(0,C.KL)(re,re.id,null===(n=re.shared_users)||void 0===n?void 0:n.map((function(e){return e.id})),null===re||void 0===re?void 0:re.title,null===re||void 0===re?void 0:re.is_complete,null===re||void 0===re||null===(l=re.shared_positions)||void 0===l?void 0:l.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){xe(!1)},error:function(){return xe(!1)}})},fieldLabel:"Status",placeholder:"Select status..."}))))),a.createElement(b.x4,{id:"PARTICIPANTS"},a.createElement("div",{style:{width:"100%",minHeight:"50vh",overflow:"auto"}},!Xe&&a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},"Organizer"),!Xe&&a.createElement("div",{className:E.filtersContainer},a.createElement(I.Z,{simple:!0,photo:null!==(L=null===ye||void 0===ye?void 0:ye.photo)&&void 0!==L?L:"https://s3-symbol-logo.tradingview.com/logo-yazilim--600.png",email:"",position:null!==(U=null===ye||void 0===ye||null===(q=ye.options)||void 0===q?void 0:q.info)&&void 0!==U?U:"",firstName:a.createElement("div",{style:{fontWeight:"bold"}},"".concat(null===re||void 0===re||null===(W=re.created_by)||void 0===W?void 0:W.first_name," ").concat(null===re||void 0===re||null===(B=re.created_by)||void 0===B?void 0:B.last_name)),cardClicked:function(){},width:"100%"})),(null===re||void 0===re||null===(Y=re.shared_users)||void 0===Y?void 0:Y.length)>0&&a.createElement(a.Fragment,null,a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},"Participants ( ".concat(null===re||void 0===re||null===(H=re.shared_users)||void 0===H?void 0:H.length," )")),a.createElement(w.default,{className:E.sharesTable,withColumns:!1,modern:!0,columns:["User","Photo","Bio","Pay"],list:null===re||void 0===re||null===(j=re.shared_users)||void 0===j?void 0:j.map((function(e){var n,l,i,t,d,u=me.find((function(n){return n.id===e.id}));return u?(d={},(0,o.Z)(d,"User",a.createElement("div",{style:{fontWeight:"bold"}},"".concat(null===u||void 0===u?void 0:u.first_name," ").concat(null===u||void 0===u?void 0:u.last_name))),(0,o.Z)(d,"Photo",null!==(n=null===u||void 0===u?void 0:u.photo)&&void 0!==n?n:null===pe||void 0===pe?void 0:pe.logo),(0,o.Z)(d,"Bio",null!==(l=null===u||void 0===u||null===(i=u.options)||void 0===i?void 0:i.info)&&void 0!==l?l:""),(0,o.Z)(d,"Pay",on&&Xe?null!==re&&void 0!==re&&null!==(t=re.component_items)&&void 0!==t&&t.find((function(e){return"Payments"===e.type&&(null===e||void 0===e?void 0:e.value)===(null===u||void 0===u?void 0:u.id)}))?"Paid":a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},a.createElement("p",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"14px",fontWeight:"bold"}},"Unpaid"),a.createElement(x.zx,{title:"Remove",clicked:function(){var e,n;xe(!0),(0,C.KL)(re,re.id,null===(e=re.shared_users)||void 0===e?void 0:e.filter((function(e){return e.id!==(null===u||void 0===u?void 0:u.id)})).map((function(e){return e.id})),null===re||void 0===re?void 0:re.title,null===re||void 0===re?void 0:re.is_complete,null===re||void 0===re||null===(n=re.shared_positions)||void 0===n?void 0:n.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){var n;re.component_items=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.component_items,Ze(!1),xe(!1)},error:function(){return xe(!1)}})},style:{width:"100px"},loading:be})):""),d):{User:null===e||void 0===e?void 0:e.id}}))})),Xe&&(null===re||void 0===re||null===(V=re.component_items)||void 0===V?void 0:V.filter((function(e){return"Unavailable"===e.type})).length)>0&&a.createElement(a.Fragment,null,a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},"Unavailable ( ".concat(null===re||void 0===re||null===(G=re.component_items)||void 0===G?void 0:G.filter((function(e){return"Unavailable"===e.type})).length," )")),a.createElement(w.default,{className:E.sharesTable,withColumns:!1,modern:!0,columns:["User","Photo","Bio"],list:null===re||void 0===re||null===(J=re.component_items)||void 0===J||null===(K=J.filter((function(e){return"Unavailable"===e.type})))||void 0===K?void 0:K.map((function(e){var n,l,i,t,d=me.find((function(n){return n.id===e.value}));return t={},(0,o.Z)(t,"User","".concat(null===d||void 0===d?void 0:d.first_name," ").concat(null===d||void 0===d?void 0:d.last_name)),(0,o.Z)(t,"Photo",null!==(n=null===d||void 0===d?void 0:d.photo)&&void 0!==n?n:null===pe||void 0===pe?void 0:pe.logo),(0,o.Z)(t,"Bio",null!==(l=null===d||void 0===d||null===(i=d.options)||void 0===i?void 0:i.info)&&void 0!==l?l:""),t}))})),Xe&&(null===re||void 0===re||null===(Q=re.component_items)||void 0===Q?void 0:Q.filter((function(e){return"Request"===e.type||"Waitlist"===e.type})).length)>0&&a.createElement(a.Fragment,null,a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},"Request to Join ( ".concat(null===re||void 0===re||null===(X=re.component_items)||void 0===X?void 0:X.filter((function(e){return"Request"===e.type||"Waitlist"===e.type})).length," )")),null===re||void 0===re||null===($=re.component_items)||void 0===$||null===(ee=$.filter((function(e){return"Request"===e.type||"Waitlist"===e.type})))||void 0===ee?void 0:ee.map((function(e,n){var l=me.find((function(n){return n.id===e.value}));return a.createElement("div",{key:n,style:{display:"flex"},className:E.filtersContainer},a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",width:"200px",marginRight:"20px"}},"".concat(null===l||void 0===l?void 0:l.first_name," ").concat(null===l||void 0===l?void 0:l.last_name)),a.createElement(x.zx,{title:"Approve",clicked:function(){var e,n,o;xe(!0),(0,C.KL)((0,i.Z)((0,i.Z)({},re),{},{component_items:re.component_items.filter((function(e){return e.value!==l.id&&("Request"===e.type||"Waitlist"===e.type)}))}),re.id,[].concat((0,t.Z)(null!==(e=null===(n=re.shared_users)||void 0===n?void 0:n.map((function(e){return e.id})))&&void 0!==e?e:[]),[null===l||void 0===l?void 0:l.id]),null===re||void 0===re?void 0:re.title,null===re||void 0===re?void 0:re.is_complete,null===re||void 0===re||null===(o=re.shared_positions)||void 0===o?void 0:o.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){var n,l;re.shared_users=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.shared_users,re.component_items=null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.component_items,xe(!1)},error:function(){return xe(!1)}})},style:{width:"100px",backgroundColor:"green",fontSize:"10px"},titleStyle:{fontSize:"10px"},loading:be}),a.createElement(x.zx,{title:"Decline",clicked:function(){var e,n;xe(!0),(0,C.KL)((0,i.Z)((0,i.Z)({},re),{},{component_items:re.component_items.filter((function(e){return e.value!==l.id&&("Request"===e.type||"Waitlist"===e.type)}))}),re.id,null===(e=re.shared_users)||void 0===e?void 0:e.map((function(e){return e.id})),null===re||void 0===re?void 0:re.title,null===re||void 0===re?void 0:re.is_complete,null===re||void 0===re||null===(n=re.shared_positions)||void 0===n?void 0:n.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){var n;re.component_items=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.component_items,Ze(!1),xe(!1)},error:function(){return xe(!1)}})},style:{width:"100px"},titleStyle:{fontSize:"10px"},loading:be}),"Request"===e.type?a.createElement(x.zx,{title:"Waitlist",clicked:function(){xe(!0),(0,C.np)((0,i.Z)((0,i.Z)({},e),{},{type:"Waitlist"}),re.id).subscribe({next:function(n){e.type="Waitlist",xe(!1)},error:function(){return xe(!1)}})},style:{width:"100px",backgroundColor:"orange"},titleStyle:{fontSize:"10px"},loading:be}):a.createElement("p",{style:{fontSize:"16px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold"}},"Waitlisted"))}))),ke&&a.createElement(a.Fragment,null,a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},(null===(ne=re.component_items)||void 0===ne||null===(le=ne.filter((function(e){var n,l;return(null===e||void 0===e?void 0:e.value)===(null===ye||void 0===ye?void 0:ye.id)&&"Request"===(null===e||void 0===e?void 0:e.type)&&(null===e||void 0===e?void 0:e.item_code)===(null===ve||void 0===ve||null===(n=ve.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.id)})))||void 0===le?void 0:le.length)>0?"Pending Request":"Waitlisted"),a.createElement("div",{className:E.filtersContainer},a.createElement(I.Z,{simple:!0,photo:null!==(oe=null===ye||void 0===ye?void 0:ye.photo)&&void 0!==oe?oe:"https://s3-symbol-logo.tradingview.com/logo-yazilim--600.png",email:"",position:null!==(ie=null===ye||void 0===ye||null===(te=ye.options)||void 0===te?void 0:te.info)&&void 0!==ie?ie:"",firstName:a.createElement("div",{style:{fontWeight:"bold"}},"".concat(null===ye||void 0===ye?void 0:ye.first_name," ").concat(null===ye||void 0===ye?void 0:ye.last_name)),cardClicked:function(){},width:"100%"}))),a.createElement(tn,null))),!("New"===re.status||"None"===re.status)&&a.createElement(b.x4,{id:"GAMES"},a.createElement("div",{style:{width:"100%",minHeight:"50vh",overflow:"auto"}},se&&Xe&&a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"}},a.createElement(x.zx,{light:!0,style:{display:""},clicked:function(){Be(!0),Ve({type:"Match"})},icon:a.createElement("img",{src:M.IH})})),a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},"Matches ( ".concat(null===re||void 0===re||null===(de=re.component_items)||void 0===de?void 0:de.filter((function(e){return"Match"===e.type})).length," )")),null===re||void 0===re||null===(ae=re.component_items)||void 0===ae||null===(ue=ae.filter((function(e){return"Match"===e.type})))||void 0===ue?void 0:ue.map((function(e,n){var l,o,i,d,u=[].concat((0,t.Z)(me),[ye]).find((function(n){return n.id===e.value})),r=[].concat((0,t.Z)(me),[ye]).find((function(n){return n.id===e.alt_value})),v=JSON.parse(e.item_code),s=v.matches.map((function(e){return"  ".concat(e.p1,"-").concat(e.p2,"  ")})).toString();return a.createElement("div",{key:n,className:E.filtersContainer,onClick:function(){se&&(Ve(e),Be(!0))}},a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"space-between"}},a.createElement("div",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",marginRight:"20px"}},"".concat(null===v||void 0===v?void 0:v.round)),a.createElement("div",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",marginRight:"20px"}},"".concat(s))),a.createElement("hr",{style:{border:"0.5px solid var(--app-color-gray-light)"}}),a.createElement("div",{style:{display:"flex",marginTop:"5px",width:"100%",justifyContent:"space-between"}},a.createElement("div",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",marginRight:"20px"}},"".concat(null!==(l=null===r||void 0===r?void 0:r.first_name)&&void 0!==l?l:"Player"," ").concat(null!==(o=null===r||void 0===r?void 0:r.last_name)&&void 0!==o?o:"1")),a.createElement("div",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",marginRight:"20px"}},"".concat(null!==(i=null===u||void 0===u?void 0:u.first_name)&&void 0!==i?i:"Player"," ").concat(null!==(d=null===u||void 0===u?void 0:u.last_name)&&void 0!==d?d:"2"))))}))),a.createElement("div",{className:We?E.mobilepopupopen:E.mobilepopup,style:{display:We?"":"none"}},a.createElement("div",{style:{width:"100%",height:"20vh",backgroundColor:"white",opacity:"0.9"},onClick:function(){return Be(!1)}}),null!==je&&void 0!==je&&je.id?a.createElement(dn,null):a.createElement("div",{className:E.mobilePopupActionContainer},a.createElement(z.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},className:E.multiselectComponent,visible:!0,mandatory:!1,items:re.shared_users.map((function(e,n){var l=me.find((function(n){return n.id===e.id}));return l?{label:"".concat(null===l||void 0===l?void 0:l.first_name," ").concat(null===l||void 0===l?void 0:l.last_name),value:e.id}:{label:"Player ".concat(n+1),value:n}})),onChange:function(e){Ve((0,i.Z)((0,i.Z)({},je),{},{value:e}))},fieldLabel:"Player 1",placeholder:"Select player 1"}),a.createElement(z.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},className:E.multiselectComponent,visible:!0,mandatory:!1,items:re.shared_users.map((function(e){var n=me.find((function(n){return n.id===e.id}));return{label:"".concat(n.first_name," ").concat(n.last_name),value:e.id}})),onChange:function(e){Ve((0,i.Z)((0,i.Z)({},je),{},{alt_value:e}))},fieldLabel:"Player 2",placeholder:"Select player 2"}),a.createElement(z.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},className:E.multiselectComponent,visible:!0,mandatory:!1,items:[{label:"Round 1",value:"Round 1"},{label:"Round 2",value:"Round 2"},{label:"Round 3",value:"Round 3"},{label:"Round 4",value:"Round 4"},{label:"Round 5",value:"Round 5"},{label:"Round 6",value:"Round 6"},{label:"Round 7",value:"Round 7"},{label:"Round 8",value:"Round 8"},{label:"Round 9",value:"Round 9"}],onChange:function(e){var n,l=JSON.parse(null!==(n=null===je||void 0===je?void 0:je.item_code)&&void 0!==n?n:"{}");l.round=e,l.matches=[{p1:0,p2:0,set:1}],Ve((0,i.Z)((0,i.Z)({},je),{},{item_code:JSON.stringify(l)}))},fieldLabel:"Round",placeholder:"Select Round"}),a.createElement("label",{className:E.fieldLabel,style:{color:"var(--app-color-gray-light",fontSize:"12px",marginTop:"10px"}},"Date and Time"),a.createElement("div",{className:E.filtersContainer,style:{height:"60px",border:"2px solid var(--app-color-gray-lighter)",padding:"10px",marginTop:"10px"}},a.createElement(F(),{showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,customInput:a.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",padding:"5px",border:"0px solid var(--app-color-gray-lighter)",backgroundColor:"rgb(246,244,236)"}},a.createElement(S.G,{icon:k.WRo,style:{marginLeft:"10px",width:"14px",height:"14px"}}),a.createElement("input",{value:Ke?T()(Ke).format("DD MMMM YYYY HH:mm"):"",disabled:!0,type:"text",style:{flex:1,outline:"none",fontFamily:"var(--app-text-main-font)",fontSize:"16px",fontWeight:"bold",lineHeight:"20px",color:"#4A4A4A",textAlign:"left",maxWidth:"98%",border:"0px",backgroundColor:"rgb(246,244,236)"},onChange:function(e){}})),className:E.singleInputContainer,selected:Ke?new Date(T()(Ke)):(0,N.now)(),onChange:function(e){if(e>(0,N.now)()){var n;Qe(e);var l=JSON.parse(null!==(n=null===je||void 0===je?void 0:je.item_code)&&void 0!==n?n:"{}");l.date=e,l.matches=[{p1:0,p2:0,set:1}],Ve((0,i.Z)((0,i.Z)({},je),{},{item_code:JSON.stringify(l)}))}}})),a.createElement(z.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},className:E.multiselectComponent,visible:!0,mandatory:!1,items:[{label:"Court 1",value:"Court 1"},{label:"Court 2",value:"Court 2"},{label:"Court 3",value:"Court 3"},{label:"Court 4",value:"Court 4"},{label:"Court 5",value:"Court 5"},{label:"Court 6",value:"Court 6"},{label:"Court 7",value:"Court 7"},{label:"Court 8",value:"Court 8"},{label:"Court 9",value:"Court 9"}],onChange:function(e){var n,l=JSON.parse(null!==(n=null===je||void 0===je?void 0:je.item_code)&&void 0!==n?n:"{}");l.court=e,l.matches=[{p1:0,p2:0,set:1}],Ve((0,i.Z)((0,i.Z)({},je),{},{item_code:JSON.stringify(l)}))},fieldLabel:"Court",placeholder:"Select Court"}),(null===je||void 0===je?void 0:je.value)&&(null===je||void 0===je?void 0:je.alt_value)&&(null===je||void 0===je?void 0:je.item_code)&&a.createElement(x.zx,{title:"Create match",style:{width:"100%"},clicked:function(){var e;xe(!0),(0,C.np)((0,i.Z)((0,i.Z)({},je),{},{index:null===re||void 0===re||null===(e=re.component_items)||void 0===e?void 0:e.length}),re.id).subscribe({next:function(e){re.component_items=e.data.component_items,xe(!1),Be(!1)},error:function(){return xe(!1)}})},loading:be}))))))},B=function(e){var n=e.begunModule,l=e.authenticatedUser,o=(e.user,e.template,(0,f.v9)((function(e){return e.flowReducer}))),u=(o.companyData,o.companyUsersArray,o.components),r=(o.companyPositionsArray,o.allModules,o.companyProcesses,(0,a.useState)(!1)),v=(0,d.Z)(r,2),s=v[0],c=v[1],p=u.filter((function(e){return e.module_id===n.processModule.module_id&&e.component_items.find((function(e){return"Invite"===e.type&&e.value===l.id}))})).map((function(e){return(0,i.Z)((0,i.Z)({},e.component_items.find((function(e){return"Invite"===e.type&&e.value===l.id}))),{},{club:e})}));return a.createElement("div",{style:{width:"100%",padding:"0 20px",fontFamily:"var(--app-text-main-font)"}},null===p||void 0===p?void 0:p.map((function(e,n){return a.createElement("div",{className:E.filtersContainer,key:n,style:{border:"0"}},a.createElement(I.Z,{photo:"https://s3-symbol-logo.tradingview.com/logo-yazilim--600.png",firstName:a.createElement("div",{style:{fontWeight:"bold"}},"".concat(e.club.title)),position:"has invited you to join their club",email:"",ccardClicked:function(){var n,o,d,a,u;c(!0),(0,C.KL)((0,i.Z)((0,i.Z)({},e.club),{},{component_items:e.club.component_items.filter((function(n){return n.id!==e.id}))}),e.club.id,[].concat((0,t.Z)(null!==(n=null===(o=e.club.shared_users)||void 0===o?void 0:o.map((function(e){return e.id})))&&void 0!==n?n:[]),[null===l||void 0===l?void 0:l.id]),e.club.title,null===(d=e.club)||void 0===d?void 0:d.is_complete,null===e||void 0===e||null===(a=e.club)||void 0===a||null===(u=a.shared_positions)||void 0===u?void 0:u.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(n){var l;e.club.shared_users=null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.shared_users,c(!1)},error:function(){return c(!1)}})},width:"100%"},a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},a.createElement(x.zx,{title:"Accept",clicked:function(){var n,o,d,a,u;c(!0),(0,C.KL)((0,i.Z)((0,i.Z)({},e.club),{},{component_items:e.club.component_items.filter((function(n){return n.id!==e.id}))}),e.club.id,[].concat((0,t.Z)(null!==(n=null===(o=e.club.shared_users)||void 0===o?void 0:o.map((function(e){return e.id})))&&void 0!==n?n:[]),[null===l||void 0===l?void 0:l.id]),e.club.title,null===(d=e.club)||void 0===d?void 0:d.is_complete,null===e||void 0===e||null===(a=e.club)||void 0===a||null===(u=a.shared_positions)||void 0===u?void 0:u.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(n){var l;e.club.shared_users=null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.shared_users,c(!1)},error:function(){return c(!1)}})},style:{width:"80px",backgroundColor:"blue"},titleStyle:{fontSize:"12px"},loading:s}),a.createElement(x.zx,{title:"Decline",clicked:function(){var n,l,o,t;c(!0),(0,C.KL)((0,i.Z)((0,i.Z)({},e.club),{},{component_items:e.club.component_items.filter((function(n){return n.id!==e.id}))}),e.club.id,null===(n=e.club.shared_users)||void 0===n?void 0:n.map((function(e){return e.id})),e.club.title,null===(l=e.club)||void 0===l?void 0:l.is_complete,null===e||void 0===e||null===(o=e.club)||void 0===o||null===(t=o.shared_positions)||void 0===t?void 0:t.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){c(!1)},error:function(){return c(!1)}})},style:{width:"80px",backgroundColor:"red"},titleStyle:{fontSize:"12px"},loading:s}))))})))},Y=function(e){var n=e.events,l=e.onEventClick,o=e.isAdmin,i=void 0===o||o,t=(0,a.useState)("day"),u=(0,d.Z)(t,2),r=u[0],v=u[1];return a.createElement(O.Scheduler,{style:{fontFamily:"var(--app-text-main-font)",fontSize:"30px"},events:null===n||void 0===n?void 0:n.map((function(e){var n,l,o=null===(n=e.component_fields.find((function(e){return"Meet Date"===e.field_name&&"Date"===e.data_type_name})))||void 0===n?void 0:n.value,i=null===(l=e.component_fields.find((function(e){return"Ends"===e.field_name&&"Date"===e.data_type_name})))||void 0===l?void 0:l.value;return{event_id:e.id,title:e.title,start:new Date(Date.parse(o)),end:new Date(Date.parse(i)),admin_id:e.id,editable:!1,deletable:!1}})),agenda:!0,navigation:i,alwaysShowAgendaDays:!1,view:r,onEventClick:l,onViewChange:function(e){return v(e)}})},H=function(e){var n,l,u,r,v,s,c=e.selectedComponent,p=e.begunModule,m=e.goto,h=e.setSelectedComponent,I=(0,f.v9)((function(e){return e.flowReducer})),N=I.companyData,T=I.companyUsersArray,O=I.components,U=I.allModules,F=I.companyProcesses,q=(0,f.v9)((function(e){return e.authReducer})),W=q.authenticatedUser,B=(0,a.useState)(!1),H=(0,d.Z)(B,2),j=H[0],V=H[1],G=(0,a.useState)(!1),J=(0,d.Z)(G,2)[1],K=(0,y.pQ)(),Q=(0,d.Z)(K,2)[1],X=(0,a.useState)(null===c||void 0===c||null===(n=c.component_items)||void 0===n?void 0:n.find((function(e){return"Payments"===e.type&&(null===e||void 0===e?void 0:e.value)===(null===W||void 0===W?void 0:W.id)}))),$=(0,d.Z)(X,2),ee=$[0],ne=($[1],(0,a.useState)("")),le=(0,d.Z)(ne,2),oe=le[0],ie=le[1],te=(0,a.useState)(!1),de=(0,d.Z)(te,2),ae=de[0],ue=de[1],re=(0,a.useState)(!1),ve=(0,d.Z)(re,2),se=(ve[0],ve[1]),ce=(0,a.useState)([]),pe=(0,d.Z)(ce,2),me=pe[0],fe=pe[1],_e=(0,a.useState)({type:"Service"}),ye=(0,d.Z)(_e,2),he=ye[0],ge=ye[1],be=(null===W||void 0===W?void 0:W.id)===(null===c||void 0===c||null===(l=c.created_by)||void 0===l?void 0:l.id),xe=(null===c||void 0===c||c.component_fields.find((function(e){return"Club"===e.field_name})),null===U||void 0===U?void 0:U.find((function(e){return"Meets"===(null===e||void 0===e?void 0:e.name)})));return a.createElement("div",null,a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:g.tq?"18px":"20px",fontWeight:"bold",marginTop:g.tq?"":"50px"}},null===c||void 0===c?void 0:c.title),a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},be&&a.createElement("p",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:"14px",fontWeight:"bold",marginTop:"30px"}},"You are the admin of this facility")),a.createElement(b.mQ,{style:{width:"100%",fontSize:g.tq?"12px":"20px",marginTop:"20px"},onSelect:function(e){3==e&&(0,R.GP)().pipe((0,Z.P)()).subscribe({next:function(e){fe(e.data)},error:function(){}})}},a.createElement(b.td,{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:g.tq?"10px":"16px"}},a.createElement(b.OK,null,"INFO"),a.createElement(b.OK,null,"ACTIVITIES"),a.createElement(b.OK,null,"SERVICES"),a.createElement(b.OK,null,"PURCHASES")),a.createElement(b.x4,{id:"DETAILS"},a.createElement("div",{style:{width:"100%",minHeight:"60vh",overflow:"auto"}},a.createElement("div",{className:E.centeredDiv,style:{width:"inherit",fontSize:"14px",marginTop:"20px"}},e.children))),a.createElement(b.x4,{id:"ACTIVITIES"},a.createElement("div",{style:{width:"100%",minHeight:"60vh",overflow:"auto",zIndex:"-1"}},a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"}},a.createElement(x.zx,{light:!0,style:{display:be?"":"none"},clicked:function(){var e=function(e){var n,l,o,d,a,u,r=e.steps.filter((function(n){var l,o,i,t,d,a;return void 0==(null===n||void 0===n||null===(l=n.options)||void 0===l?void 0:l.showStepAll)||1==(null===n||void 0===n||null===(o=n.options)||void 0===o?void 0:o.showStepAll)||0==(null===n||void 0===n||null===(i=n.options)||void 0===i?void 0:i.showStepAll)&&(null===n||void 0===n||null===(t=n.options)||void 0===t||null===(d=t.showOnly)||void 0===d?void 0:d.filter((function(e){return W.positions.map((function(e){return e.id})).indexOf(e)>-1})).length)>0||(null===n||void 0===n||null===(a=n.options)||void 0===a?void 0:a.showStepAuthor)&&(null===W||void 0===W?void 0:W.id)===(null===e||void 0===e?void 0:e.user_id)})).map((function(e,n){return(0,i.Z)((0,i.Z)({},e),{},{rank:n+1})}));P.h.dispatch((0,D.q4)(e)),P.h.dispatch((0,D.an)([e],_.Qc)),P.h.dispatch((0,D.q4)((0,i.Z)((0,i.Z)({},e),{},{completeSteps:e.steps,steps:r,stepIndex:2,module_id:xe.id,module:xe,isUpdating:!1}))),Q({action:y._U.setCurrentStep,value:null===e||void 0===e?void 0:e.steps[2]}),Q({action:y._U.setModuleItems,value:c.component_items}),Q({action:y._U.setModuleNewStepComponents,value:[]}),Q({action:y._U.setComponents,value:[]});var v=(0,t.Z)(null!==(n=null===(l=r[2])||void 0===l?void 0:l.component_blueprints)&&void 0!==n?n:[]);if((null===v||void 0===v?void 0:v.length)>0){var s,m=null===(s=v.find((function(e){return e.selected_fields.find((function(e){return"Sport"===e.field_name}))})))||void 0===s?void 0:s.selected_fields.find((function(e){return"Sport"===e.field_name}));m&&(m.value="Basketball"),Q({action:y._U.setComponentBlueprints,value:v}),Q({action:y._U.setModuleNewStepComponents,value:v})}(null===p||void 0===p||null===(o=p.processModule)||void 0===o||null===(d=o.steps)||void 0===d?void 0:d.length)>0&&(null===p||void 0===p||null===(a=p.processModule)||void 0===a||null===(u=a.steps)||void 0===u||u.filter((function(e){var n;return null===e||void 0===e||null===(n=e.component_blueprints)||void 0===n?void 0:n.filter((function(e){return e.selected_fields.filter((function(e){return e.value=void 0}))}))})))};F.find((function(e){return e.id===xe.procedure.id}))?e(F.find((function(e){return e.id===xe.procedure.id}))):(V(!0),(0,A.zJ)(xe.procedure.id).pipe((0,Z.P)()).subscribe({next:function(n){V(!1),e(n)},error:function(e){}}))},icon:a.createElement("img",{src:M.IH})})),a.createElement(Y,{events:O.filter((function(e){return"Expired"!==e.status&&e.module_id===(null===xe||void 0===xe?void 0:xe.id)})),isAdmin:be,onEventClick:function(e){var n=O.find((function(n){return n.id===(null===e||void 0===e?void 0:e.event_id)}));m&&(0,L.navigateToTransaction)(F,h,se,N,n,Q,W,p,W,U,J,T,xe)}}))),a.createElement(b.x4,{id:"SERVICES"},a.createElement("div",{style:{width:"100%",minHeight:"60vh",overflow:"auto"}},a.createElement("div",{className:E.centeredDiv,style:{width:"inherit",fontSize:"14px",marginTop:"20px"}},be&&a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"}},a.createElement(x.zx,{light:!0,style:{display:""},clicked:function(){ue(!0),ge({type:"Service"})},icon:a.createElement("img",{src:M.IH,loading:j})})),(null===c||void 0===c||null===(u=c.component_items)||void 0===u?void 0:u.filter((function(e){return"Service"===e.type})).length)>0&&a.createElement(a.Fragment,null,a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},"Merchandise and Services"),oe&&a.createElement("p",{style:{fontFamily:"var(--app-text-mobile-font)",color:"green",fontSize:"14px",fontWeight:"bold"},onClick:function(){return ie("")}},oe),a.createElement(w.default,{className:E.sharesTable,withColumns:!1,modern:!0,columns:["value","description","quantity","item_code","photo","controls"],list:null===c||void 0===c||null===(r=c.component_items)||void 0===r||null===(v=r.filter((function(e){return"Service"===e.type})))||void 0===v?void 0:v.map((function(e,n){var l;return e.qty=null!==(l=null===e||void 0===e?void 0:e.qty)&&void 0!==l?l:1,{item_code:null===e||void 0===e?void 0:e.item_code,value:null===e||void 0===e?void 0:e.value,quantity:null===e||void 0===e?void 0:e.total,description:null===e||void 0===e?void 0:e.alt_value,photo:null===e||void 0===e?void 0:e.quantity,controls:a.createElement("div",{style:{display:"flex",justifyContent:"left",justifyItems:"center",alignContent:"center",alignItems:"center"}},!be&&a.createElement(x.zx,{light:!0,title:"Purchase",disabled:void 0===(null===W||void 0===W?void 0:W.wallet)||(null===W||void 0===W?void 0:W.wallet)<+(null===e||void 0===e?void 0:e.total),clicked:function(){V(!0),(0,R.e_)({user_id:W.id,id:(0,_.mR)(),total:-+(null===e||void 0===e?void 0:e.total)*(null===e||void 0===e?void 0:e.qty),product:"".concat(null===e||void 0===e?void 0:e.alt_value),notes:"Purchases",quantity:null===e||void 0===e?void 0:e.qty}).pipe((0,Z.P)()).subscribe({next:function(){var n;W.wallet=+(+(null!==(n=null===W||void 0===W?void 0:W.wallet)&&void 0!==n?n:0)+ee),V(!1),ie("You have bought ".concat(e.qty,"x ").concat(null===e||void 0===e?void 0:e.alt_value,". You may claim the item/s")),window.scrollTo({top:0,behavior:"smooth"})},error:function(){return V(!1)}})},loading:0===n&&j}),!be&&a.createElement("input",{type:"number",defaultValue:null===e||void 0===e?void 0:e.qty,style:{textAlign:"center",width:"50px",height:"40px",margin:"0 10px 0 0",fontFamily:"var(--app-text-main-font)",fontSize:"16px"},onChange:function(n){e.qty=+n.target.value}}),be&&a.createElement(x.zx,{light:!0,icon:a.createElement(S.G,{icon:k.$aW,style:{width:"20px",height:"16px"}}),disabled:void 0===(null===W||void 0===W?void 0:W.wallet)||(null===W||void 0===W?void 0:W.wallet)<+(null===e||void 0===e?void 0:e.total),clicked:function(){var n,l,o;V(!0),(0,C.KL)((0,i.Z)((0,i.Z)({},c),{},{component_items:null===c||void 0===c||null===(n=c.component_items)||void 0===n?void 0:n.filter((function(n){return(null===n||void 0===n?void 0:n.id)!==(null===e||void 0===e?void 0:e.id)}))}),c.id,null===(l=c.shared_users)||void 0===l?void 0:l.map((function(e){return e.id})),c.title,null===c||void 0===c?void 0:c.is_complete,null===c||void 0===c||null===(o=c.shared_positions)||void 0===o?void 0:o.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({next:function(e){h(null===e||void 0===e?void 0:e.data),V(!1)},error:function(){return V(!1)}})}}))}}))})),a.createElement("p",{style:{fontSize:"14px",fontFamily:"var(--app-text-main-font)",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},"Note: Some products and services here may require credits to be available in your app wallet")))),a.createElement(b.x4,{id:"PURCHASES"},a.createElement("div",{style:{width:"100%",minHeight:"60vh",overflow:"auto"}},oe&&a.createElement("p",{style:{fontFamily:"var(--app-text-mobile-font)",color:"green",fontSize:"14px",fontWeight:"bold"},onClick:function(){return ie("")}},oe),a.createElement(w.default,{className:E.sharesTable,modern:!0,columns:["Item","Cost","Quantity","Sold To"].concat(be?["Options"]:[]),list:null===me||void 0===me||null===(s=me.filter((function(e){return"Purchases"===e.stripe_status&&(be?e.user_id!==(null===W||void 0===W?void 0:W.id):e.user_id===(null===W||void 0===W?void 0:W.id))})))||void 0===s?void 0:s.map((function(e,n){var l,i;return i={Item:e.stripe_product,Cost:Math.abs(+(null===e||void 0===e?void 0:e.stripe_price)),Quantity:null===e||void 0===e?void 0:e.quantity},(0,o.Z)(i,"Sold To",null===(l=T.find((function(n){return n.id===(null===e||void 0===e?void 0:e.user_id)})))||void 0===l?void 0:l.first_name),(0,o.Z)(i,"Options",me.find((function(n){return n.stripe_id===e.id}))?null:a.createElement("div",{style:{display:"flex",justifyContent:"left",justifyItems:"center",alignContent:"center",alignItems:"center"}},be&&a.createElement(x.zx,{light:!0,title:"Release",disabled:void 0===(null===W||void 0===W?void 0:W.wallet)||(null===W||void 0===W?void 0:W.wallet)<+(null===e||void 0===e?void 0:e.total),clicked:function(){V(!0),(0,R.e_)({user_id:W.id,id:null===e||void 0===e?void 0:e.id,total:-+(null===e||void 0===e?void 0:e.stripe_price),product:"".concat(null===e||void 0===e?void 0:e.stripe_product),notes:"Purchases",quantity:null===e||void 0===e?void 0:e.quantity}).pipe((0,Z.P)()).subscribe({next:function(n){var l;fe([].concat((0,t.Z)(me),[n])),W.wallet=+(+(null!==(l=null===W||void 0===W?void 0:W.wallet)&&void 0!==l?l:0)+ +(null===n||void 0===n?void 0:n.stripe_price)),ie("You have sold ".concat(e.qty,"x ").concat(null===e||void 0===e?void 0:e.stripe_product)),V(!1),window.scrollTo({top:0,behavior:"smooth"})},error:function(){return V(!1)}})},loading:0===n&&j}))),i}))})))),a.createElement("div",{className:ae?E.mobilepopupopen:E.mobilepopup,style:{display:ae?"":"none"}},a.createElement("div",{style:{width:"100%",height:"20vh",backgroundColor:"white",opacity:"0.9"},onClick:function(){return ue(!1)}}),a.createElement("div",{className:E.mobilePopupActionContainer},a.createElement(z.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},className:E.multiselectComponent,visible:!0,mandatory:!1,items:[{label:"Court Rental",value:"Court Rental"},{label:"Equipment Rental",value:"Equipment Rental"},{label:"Food",value:"Food"},{label:"Others",value:"Others"}],onChange:function(e){ge((0,i.Z)((0,i.Z)({},he),{},{item_code:e}))},fieldLabel:"Service Type",placeholder:"Select Service"}),a.createElement("label",{className:E.fieldLabel,style:{color:"var(--app-color-gray-light",fontSize:"12px",marginTop:"10px"}},"Name"),a.createElement("input",{type:"text",className:E.fieldInput,onChange:function(e){ge((0,i.Z)((0,i.Z)({},he),{},{value:e.target.value}))}}),a.createElement("label",{className:E.fieldLabel,style:{color:"var(--app-color-gray-light",fontSize:"12px",marginTop:"10px"}},"Description"),a.createElement("input",{type:"text",className:E.fieldInput,onChange:function(e){ge((0,i.Z)((0,i.Z)({},he),{},{alt_value:e.target.value}))}}),a.createElement("label",{className:E.fieldLabel,style:{color:"var(--app-color-gray-light",fontSize:"12px",marginTop:"10px"}},"Photo"),a.createElement("input",{type:"text",className:E.fieldInput,onChange:function(e){ge((0,i.Z)((0,i.Z)({},he),{},{quantity:e.target.value}))}}),a.createElement("label",{className:E.fieldLabel,style:{color:"var(--app-color-gray-light",fontSize:"12px",marginTop:"10px"}},"Price"),a.createElement("input",{type:"number",className:E.fieldInput,onChange:function(e){ge((0,i.Z)((0,i.Z)({},he),{},{total:e.target.value}))}}),(null===he||void 0===he?void 0:he.value)&&(null===he||void 0===he?void 0:he.alt_value)&&(null===he||void 0===he?void 0:he.item_code)&&a.createElement(x.zx,{title:"Add service",style:{width:"100%"},clicked:function(){var e;V(!0),(0,C.np)((0,i.Z)((0,i.Z)({},he),{},{index:null===c||void 0===c||null===(e=c.component_items)||void 0===e?void 0:e.length}),c.id).subscribe({next:function(e){c.component_items=e.data.component_items,V(!1),ue(!1)},error:function(){return V(!1)}})},loading:j}))))},j="CustomGeneric_accordionContainer__sELnZ",V={itemsTable:"CustomHR_itemsTable__HAV5Z",inputValue:"CustomHR_inputValue__OSYPp",multiselectComponent:"CustomHR_multiselectComponent__m25o5",dropdownComponent:"CustomHR_dropdownComponent__l2dQs",dropdownComponent_ii:"CustomHR_dropdownComponent_ii__pPeh5",title:"CustomHR_title__qfol-",subtitle:"CustomHR_subtitle__yCda9",timer:"CustomHR_timer__iWj0M",centerDiv:"CustomHR_centerDiv__Yvw6F"},G=l(35606),J=l(13397),K=l(98032),Q=l(74369),X=l(79544),$=l(3295),ee=l(85841),ne=l(22781),le=l(12892),oe=l(7924),ie=l(41756),te=l.n(ie),de=(l(16207),l(60534)),ae=((0,f.$j)((function(e){var n=e.authReducer,l=(n.authenticatedUser.position,n.authenticatedUser),o=e.sessionReducer.user,i=e.flowReducer;return{begunModule:i.begunModule,allModules:i.allModules,companyData:i.companyData,companyUsersArray:i.companyUsersArray,companyPositionsArray:i.companyPositionsArray,components:i.components,authenticatedUser:l,user:o,companyProcesses:i.companyProcesses}}))((function(e){var n=e.title;return a.createElement("div",{className:j},a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:g.tq?"18px":"20px",fontWeight:"bold",marginTop:g.tq?"":"50px"}},n))})),function(e){var n,l,i,u,r,v,s=e.selectedComponent,c=e.component_blueprint,p=(0,f.v9)((function(e){return e.flowReducer})),m=p.components,h=(0,f.v9)((function(e){return e.authReducer})),E=(h.authenticatedUser,(0,a.useState)((null===s||void 0===s||null===(n=s.component_items)||void 0===n?void 0:n.length)>0?s.component_items.filter((function(e){return(0,$.WU)(e.value,"MM/yyyy")===(0,$.WU)(new Date,"MM/yyyy")})):[{item_code:"",value:"",alt_value:"",id:(0,_.mR)()}])),C=(0,d.Z)(E,2),Z=C[0],I=C[1],N=(0,a.useState)("month"),P=(0,d.Z)(N,2),D=P[0],A=P[1],O=(0,a.useState)((0,ee.v)(new Date,{weekStartsOn:1})),L=(0,d.Z)(O,2),R=L[0],U=L[1],q=(0,a.useState)((0,ne.z)(R,{weekStartsOn:1})),W=(0,d.Z)(q,2),B=W[0],Y=W[1],H=(0,y.pQ)(),X=(0,d.Z)(H,2),ie=(X[0],X[1]),te=function(e){var n,l=e.type,o=e.itm;return a.createElement(a.Fragment,null,("Start Time"===l||"all"===l)&&a.createElement(de,{showTimeSelect:!0,value:o.value,style:{width:"100%",border:"1px solid black",margin:"5px 0"},handleDate:function(e){o.value=e,null!==o&&void 0!==o&&o.alt_value&&null!==o&&void 0!==o&&o.value&&(o.total=(T()(new Date(o.alt_value),"DD/MM/YYYY").diff(T()(new Date(o.value),"DD/MM/YYYY"),"minutes")/60).toFixed(2),ie({action:y._U.setModuleItems,value:[].concat((0,t.Z)(s.component_items.filter((function(e){return e.id!==o.id}))),[o])})),I([].concat((0,t.Z)(Z.filter((function(e){return e.id!==o.id}))),[o]))}}),("End Time"===l||"all"===l)&&a.createElement(de,{showTimeSelect:!0,value:o.alt_value,style:{width:"100%",border:"1px solid black",margin:"5px 0"},handleDate:function(e){o.alt_value=e,null!==o&&void 0!==o&&o.alt_value&&null!==o&&void 0!==o&&o.value&&(o.total=(T()(new Date(o.alt_value),"DD/MM/YYYY").diff(T()(new Date(o.value),"DD/MM/YYYY"),"minutes")/60).toFixed(2),ie({action:y._U.setModuleItems,value:[].concat((0,t.Z)(s.component_items.filter((function(e){return e.id!==o.id}))),[o])})),I([].concat((0,t.Z)(Z.filter((function(e){return e.id!==o.id}))),[o]))}}),("Duration"===l||"all"===l)&&a.createElement("input",{value:null!==(n=null===o||void 0===o?void 0:o.total)&&void 0!==n?n:0,className:V.inputValue,style:{fontWeight:"bold",border:"0px dashed gray",height:"50px",paddingLeft:"10px"},readOnly:!0}),("Work Details"===l||"all"===l)&&a.createElement("input",{defaultValue:o.item_code,className:V.inputValue,style:{fontWeight:"bold",border:"0px dashed gray",height:"50px",width:g.tq?"100%":"300px",paddingLeft:"10px"},onBlur:function(e){o.item_code!==e.target.value&&(o.item_code=e.target.value,ie({action:y._U.setModuleItems,value:[].concat((0,t.Z)(s.component_items.filter((function(e){return e.id!==o.id}))),[o])}))}}),("Project"===l||"all"===l)&&a.createElement("div",{style:{border:"0px dashed gray",minWidth:g.tq?"":"200px"}},a.createElement(z.Z,{value:null===o||void 0===o?void 0:o.quantity,titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},className:V.dropdownComponent,visible:!0,mandatory:!1,items:m.filter((function(e){var n;return e.component_fields.filter((function(e){var n;return e.component_blueprint_id===(null===ae||void 0===ae||null===(n=ae.options)||void 0===n?void 0:n.component_id)})).length>0||e.module_id===(null===ae||void 0===ae||null===(n=ae.options)||void 0===n?void 0:n.module_id)})).map((function(e){var n,l,o="";return null===ae||void 0===ae||null===(n=ae.options)||void 0===n||null===(l=n.names)||void 0===l||l.map((function(n){var l,i;return o=""===o?null===(l=e.component_fields.find((function(e){return e.field_name===n})))||void 0===l?void 0:l.value:"".concat(o," ").concat(null===(i=e.component_fields.find((function(e){return e.field_name===n})))||void 0===i?void 0:i.value)})),{label:o=""!==o&&o?o:e.title,value:o}})),onChange:function(e){o.quantity=e,o.alt_value||(o.alt_value=new Date),o.value||(o.value=new Date),ie({action:y._U.setModuleItems,value:[].concat((0,t.Z)(s.component_items.filter((function(e){return e.id!==o.id}))),[o])})}},a.createElement("input",{value:null===o||void 0===o?void 0:o.quantity,className:V.inputValue,style:{fontWeight:"bold",border:"0px dashed gray",height:"50px",paddingLeft:"10px"},readOnly:!0}))),("Options"===l||"all"===l)&&a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},a.createElement(S.G,{icon:k.$aW,onClick:function(){ie({action:y._U.setModuleItems,value:Z.filter((function(e){return e.id!==o.id}))}),I(Z.filter((function(e){return e.id!==o.id})))}})))},de=function(e){var n,l;return a.createElement("div",{style:{width:"100%",height:"50px",border:"0px dashed gray",alignContent:"center"}},a.createElement(F(),{selected:null!==e&&void 0!==e&&e.value?new Date(null===e||void 0===e?void 0:e.value):new Date,showTimeSelect:null!==(n=e.showTimeSelect)&&void 0!==n&&n,timeFormat:"HH:mm",timeIntervals:15,customInput:a.createElement("div",{style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",padding:"5px",border:"0px solid var(--app-color-gray-lighter)"}},a.createElement("input",{value:e.value?T()(e.value).format(null!==(l=e.format)&&void 0!==l?l:"DD MMMM YYYY HH:mm"):"",className:V.inputValue,type:"text",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",fontFamily:"var(--app-text-main-font)",fontSize:"14px",fontWeight:"bold",lineHeight:"20px",color:"#4A4A4A",textAlign:"left",maxWidth:"98%",border:"0px"},onChange:function(e){}}),a.createElement(S.G,{icon:k.WRo,style:{margin:"0 10px",width:"14px",height:"14px"}})),className:V.singleInputContainer,onChange:function(n){e.handleDate(n)}}))},ae=null===c||void 0===c||null===(l=c.selected_fields)||void 0===l?void 0:l.find((function(e){return"Record"===e.data_type_name&&"Project"===e.field_name}));return a.createElement("div",{className:j},a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:g.tq?"18px":"20px",fontWeight:"bold",marginTop:g.tq?"":"50px",padding:"20px"}},a.createElement(b.mQ,{style:{width:"100%",fontSize:g.tq?"16px":"20px",marginTop:"20px"},onSelect:function(e){1===e?(I(s.component_items),U((0,ee.v)(new Date,{weekStartsOn:1})),Y((0,ne.z)(new Date,{weekStartsOn:1})),A("week")):(I(s.component_items.filter((function(e){return(0,$.WU)(e.value,"MM/yyyy")===(0,$.WU)(new Date,"MM/yyyy")}))),A("month"))}},a.createElement(b.td,{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:g.tq?"14px":"16px"}},a.createElement(b.OK,null,"BY TIME"),a.createElement(b.OK,null,"BY PROJECT")),a.createElement(b.x4,{id:"TIMESHEETS"},a.createElement("div",{style:{width:"100%",overflow:"auto"}},a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",padding:"20px"}},a.createElement(x.zx,{light:!0,style:{display:""},clicked:function(){I([].concat((0,t.Z)(Z),[{item_code:"",value:"",alt_value:"",total:0,quantity:"",id:(0,_.mR)()}]))},icon:a.createElement("img",{src:M.IH})}),a.createElement("div",{style:{display:"flex"}},a.createElement(z.Z,{value:null===(i=[{label:"Today",value:"today"},{label:"This Week",value:"week"},{label:"This Month",value:"month"},{label:"Select Month",value:"select"},{label:"Custom Date",value:"custom"}].find((function(e){return e.value===D})))||void 0===i?void 0:i.label,className:g.tq?"":V.multiselectComponent,visible:!0,mandatory:!1,items:[{label:"Today",value:"today"},{label:"This Week",value:"week"},{label:"This Month",value:"month"},{label:"Select Month",value:"select"},{label:"Custom Date",value:"custom"}],onChange:function(e){if("week"===e)I(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d/MM/yyyy",l=arguments.length>2?arguments[2]:void 0,o=null!==l&&void 0!==l?l:new Date,i=(0,ne.z)(o,{weekStartsOn:1}),t=(0,le.D)({start:i,end:o}).map((function(e){return(0,$.WU)(e,n)}));return e.filter((function(e){return t.includes("".concat((0,$.WU)(e.value,n)))}))}(s.component_items));else if("today"===e){var n=new Date;I(s.component_items.filter((function(e){return(0,$.WU)(e.value,"d/MM/yyyy")===(0,$.WU)(n,"d/MM/yyyy")})))}else if("month"===e){var l=new Date;I(s.component_items.filter((function(e){return(0,$.WU)(e.value,"MM/yyyy")===(0,$.WU)(l,"MM/yyyy")})))}else"custom"===e&&(U(new Date),I(s.component_items.filter((function(e){return(0,$.WU)(e.value,"d/MM/yyyy")===(0,$.WU)(new Date,"d/MM/yyyy")}))));A(e)}}),"select"===D&&a.createElement(z.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},className:g.tq?"":V.multiselectComponent,visible:!0,mandatory:!1,items:[{label:"January",value:"01"},{label:"February",value:"02"},{label:"March",value:"03"},{label:"April",value:"04"},{label:"May",value:"05"},{label:"June",value:"06"},{label:"July",value:"07"},{label:"August",value:"08"},{label:"September",value:"09"},{label:"October",value:"10"},{label:"November",value:"11"},{label:"December",value:"12"}],onChange:function(e){I(s.component_items.filter((function(n){return(0,$.WU)(n.value,"MM")===e})))}}),"custom"===D&&a.createElement("div",{style:{display:"flex",hheight:"50px",alignItems:"center",width:"300px"}},a.createElement(de,{value:R,style:{width:"100%",border:"1px solid black"},format:"DD MMMM YYYY",handleDate:function(e){U(e),I(s.component_items.filter((function(n){return(0,$.WU)(n.value,"d/MM/yyyy")===(0,$.WU)(e,"d/MM/yyyy")})))}})))),null!==s&&void 0!==s&&s.id?a.createElement(w.default,{className:V.itemsTable,columns:["Start Time","End Time","Work Details","Project","Duration","Options"],modern:!!g.tq,list:null===(u=G.Z([J.Z(K.Z("value"))])(Z.filter((function(e){return null!==e.item_code&&null!==e.alt_value}))))||void 0===u?void 0:u.map((function(e){var n;return n={},(0,o.Z)(n,"All",a.createElement(te,{itm:e,type:"all"})),(0,o.Z)(n,"Start Time",a.createElement(te,{itm:e,type:"Start Time"})),(0,o.Z)(n,"End Time",a.createElement(te,{itm:e,type:"End Time"})),(0,o.Z)(n,"Duration",a.createElement(te,{itm:e,type:"Duration"})),(0,o.Z)(n,"Work Details",a.createElement(te,{itm:e,type:"Work Details"})),(0,o.Z)(n,"Project",a.createElement(te,{itm:e,type:"Project"})),(0,o.Z)(n,"Options",a.createElement(te,{itm:e,type:"Options"})),(0,o.Z)(n,"id",e.id),n})),footer:[a.createElement("br",{key:0}),a.createElement("br",{key:1}),a.createElement("br",{key:2}),a.createElement("input",{key:4,readOnly:!0,className:V.inputValue,style:{fontWeight:"bold",paddingLeft:"30px"},defaultValue:"Totals:"}),a.createElement("input",{key:4,readOnly:!0,className:V.inputValue,style:{fontWeight:"bold"},defaultValue:"".concat(Q.Z((function(e,n){return+e+ +n.total}),0,null!==(r=Z.filter((function(e){return null!==e.item_code&&null!==e.alt_value})))&&void 0!==r?r:[]).toFixed(2))}),a.createElement("br",{key:5})]}):e.children)),a.createElement(b.x4,{id:"BY PROJECT"},a.createElement("div",{style:{width:"100%",overflow:"auto"}},a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",width:"100%",padding:"20px"}},a.createElement("div",{style:{display:"flex",height:"50px",alignItems:"center",width:"auto"}},a.createElement(z.Z,{value:null===(v=[{label:"This Week",value:"week"},{label:"This Month",value:"month"},{label:"Select Month",value:"select"},{label:"Custom Date",value:"custom"}].find((function(e){return e.value===D})))||void 0===v?void 0:v.label,className:V.multiselectComponent,visible:!0,mandatory:!1,items:[{label:"This Week",value:"week"},{label:"This Month",value:"month"},{label:"Select Month",value:"select"},{label:"Custom Date",value:"custom"}],onChange:function(e){if("week"===e){var n=(0,ee.v)(new Date,{weekStartsOn:1});U(n),Y((0,ne.z)(n,{weekStartsOn:1}))}A(e)}}),"select"===D&&a.createElement(z.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},className:g.tq?"":V.multiselectComponent,visible:!0,mandatory:!1,items:[{label:"January",value:"00"},{label:"February",value:"01"},{label:"March",value:"02"},{label:"April",value:"03"},{label:"May",value:"04"},{label:"June",value:"05"},{label:"July",value:"06"},{label:"August",value:"07"},{label:"September",value:"08"},{label:"October",value:"09"},{label:"November",value:"10"},{label:"December",value:"11"}],onChange:function(e){var n=(0,$.WU)(new Date,"yyyy"),l=new Date(n,+e,1),o=(0,oe.V)(l);U(o),Y(l)}}),"custom"===D&&a.createElement("div",{style:{display:"flex",height:"50px",alignItems:"center",width:"300px"}},a.createElement(de,{value:R,style:{width:"100%",border:"1px solid black"},format:"DD MMMM YYYY",handleDate:function(e){var n=(0,ee.v)(e,{weekStartsOn:1});U(n),Y((0,ne.z)(n,{weekStartsOn:1}))}})))),null!==s&&void 0!==s&&s.id?a.createElement(w.default,{className:V.itemsTable,modern:!!g.tq,columns:["Project"].concat("select"===D?["".concat((0,$.WU)(B,"MMM"))]:"month"===D?["".concat((0,$.WU)(new Date,"MMM"))]:(0,le.D)({start:B,end:R}).map((function(e){return(0,$.WU)(e,"E MMM d")}))),list:m.filter((function(e){var n;return e.component_fields.filter((function(e){var n;return e.component_blueprint_id===(null===ae||void 0===ae||null===(n=ae.options)||void 0===n?void 0:n.component_id)})).length>0||e.module_id===(null===ae||void 0===ae||null===(n=ae.options)||void 0===n?void 0:n.module_id)})).map((function(e){var n,l,o="";null===ae||void 0===ae||null===(n=ae.options)||void 0===n||null===(l=n.names)||void 0===l||l.map((function(n){var l,i;return o=""===o?null===(l=e.component_fields.find((function(e){return e.field_name===n})))||void 0===l?void 0:l.value:"".concat(o," ").concat(null===(i=e.component_fields.find((function(e){return e.field_name===n})))||void 0===i?void 0:i.value)})),o=""!==o&&o?o:e.title;var i={Project:a.createElement("input",{defaultValue:o,className:V.inputValue,style:{fontWeight:"bold",width:g.tq?"100%":"240px",height:"40px"},readOnly:!0})};return"month"===D?i["".concat((0,$.WU)(new Date,"MMM"))]=a.createElement("input",{defaultValue:Z.filter((function(e){return e.quantity===o&&"".concat((0,$.WU)(e.value,"MMM"))==="".concat((0,$.WU)(new Date,"MMM"))})).map((function(e){return null===e||void 0===e?void 0:e.total})).reduce((function(e,n){return e+ +n}),0),className:V.inputValue,style:{fontWeight:"bold",height:"40px",textAlign:"center"},readOnly:!0}):"select"===D?i["".concat((0,$.WU)(B,"MMM"))]=a.createElement("input",{defaultValue:Z.filter((function(e){return e.quantity===o&&"".concat((0,$.WU)(e.value,"MMM"))==="".concat((0,$.WU)(B,"MMM"))})).map((function(e){return null===e||void 0===e?void 0:e.total})).reduce((function(e,n){return e+ +n}),0),className:V.inputValue,style:{fontWeight:"bold",height:"40px",textAlign:"center"},readOnly:!0}):(0,le.D)({start:B,end:R}).map((function(e){return i["".concat((0,$.WU)(e,"E MMM d"))]=a.createElement("input",{defaultValue:Z.filter((function(n){return n.quantity===o&&"".concat((0,$.WU)(n.value,"E MMM d"))==="".concat((0,$.WU)(e,"E MMM d"))})).map((function(e){return null===e||void 0===e?void 0:e.total})).reduce((function(e,n){return e+ +n}),0),className:V.inputValue,style:{fontWeight:"bold",width:"150px",height:"40px",textAlign:"center"},onBlur:function(n){var l=Z.find((function(n){return n.quantity===o&&null===n.item_code&&"".concat((0,$.WU)(null===n||void 0===n?void 0:n.value,"E MMM d"))==="".concat((0,$.WU)(e,"E MMM d"))}));if(l)l.total=n.target.value,ie({action:y._U.updateModuleItems,value:l}),I([].concat((0,t.Z)(Z.filter((function(e){return e.id!==l.id}))),[l]));else{var i={value:T()(e).format("YYYY-MM-DD HH:mm:ss"),total:n.target.value,quantity:o,id:(0,_.mR)()};ie({action:y._U.addModuleItems,value:i}),I([].concat((0,t.Z)(Z),[i]))}}})})),i}))}):e.children)))))}),ue=function(e){var n,l,i,u,r,v=e.selectedComponent,s=(e.begunModule,e.goto,e.component_blueprint),c=(0,f.v9)((function(e){return e.flowReducer})),p=(c.companyData,c.companyUsersArray,c.components,(0,f.v9)((function(e){return e.authReducer}))),m=p.authenticatedUser,h=(0,a.useState)(!1),E=(0,d.Z)(h,2),C=(E[0],E[1],(0,a.useState)((null===v||void 0===v||null===(n=v.component_items)||void 0===n?void 0:n.length)>0?v.component_items:[{item_code:"",value:"",alt_value:"",id:(0,_.mR)()}])),Z=(0,d.Z)(C,2),I=Z[0],N=Z[1],P=(0,a.useState)("month"),D=(0,d.Z)(P,2),A=D[0],O=D[1],L=(0,a.useState)((0,ee.v)(new Date,{weekStartsOn:1})),R=(0,d.Z)(L,2),U=R[0],q=R[1],W=(0,a.useState)((0,ne.z)(U,{weekStartsOn:1})),B=(0,d.Z)(W,2),Y=(B[0],B[1]),H=(0,y.pQ)(),X=(0,d.Z)(H,2),oe=(X[0],X[1]),ie=function(e){var n,l,o,i;return a.createElement("div",{style:{width:"100%",height:"50px",border:"0px dashed gray",alignContent:"center"}},null!==e&&void 0!==e&&e.disabled?e.value?T()(e.value).format(null!==(n=e.format)&&void 0!==n?n:"DD MMMM YYYY HH:mm"):"":a.createElement(F(),{disabled:null!==(l=null===e||void 0===e?void 0:e.disabled)&&void 0!==l&&l,selected:null!==e&&void 0!==e&&e.value?new Date(null===e||void 0===e?void 0:e.value):new Date,showTimeSelect:null!==(o=e.showTimeSelect)&&void 0!==o&&o,timeFormat:"HH:mm",timeIntervals:15,customInput:a.createElement("div",{style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",padding:"5px",border:"0px solid var(--app-color-gray-lighter)"}},a.createElement("input",{value:e.value?T()(e.value).format(null!==(i=e.format)&&void 0!==i?i:"DD MMMM YYYY HH:mm"):"",className:V.inputValue,type:"text",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",fontFamily:"var(--app-text-main-font)",fontSize:"14px",lineHeight:"20px",color:"#4A4A4A",textAlign:"left",maxWidth:"98%",border:"0px",fontWeight:"bold"},onChange:function(e){}}),a.createElement(S.G,{icon:k.WRo,style:{margin:"0 10px",width:"14px",height:"14px"}})),className:V.singleInputContainer,onChange:function(n){e.handleDate(n)}}))},te=null===s||void 0===s||null===(l=s.selected_fields)||void 0===l?void 0:l.find((function(e){return"Dropdown"===e.data_type_name&&"Type"===e.field_name}));return a.createElement("div",{className:j},a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:g.tq?"18px":"20px",fontWeight:"bold",marginTop:g.tq?"":"50px",padding:"20px"}},a.createElement(b.mQ,{style:{width:"100%",fontSize:g.tq?"16px":"20px",marginTop:"20px"}},a.createElement(b.td,{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:g.tq?"14px":"16px"}},a.createElement(b.OK,null,"LEAVES"),a.createElement(b.OK,{onChange:function(){N(v.component_items),q((0,ee.v)(new Date,{weekStartsOn:1})),Y((0,ne.z)(new Date,{weekStartsOn:1}))}},"BALANCES")),a.createElement(b.x4,{id:"LEAVES"},a.createElement("div",{style:{width:"100%",overflow:"auto"}},a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",padding:"20px"}},a.createElement(x.zx,{light:!0,style:{display:""},clicked:function(){N([].concat((0,t.Z)(I),[{item_code:"",value:"",alt_value:"",total:0,quantity:"",id:(0,_.mR)()}]))},icon:a.createElement("img",{src:M.IH})}),a.createElement("div",{style:{display:"flex"}},a.createElement(z.Z,{value:null===(i=[{label:"Today",value:"today"},{label:"This Week",value:"week"},{label:"This Month",value:"month"},{label:"Select Month",value:"select"}].find((function(e){return e.value===A})))||void 0===i?void 0:i.label,className:g.tq?"":V.multiselectComponent,visible:!0,mandatory:!1,items:[{label:"Today",value:"today"},{label:"This Week",value:"week"},{label:"This Month",value:"month"},{label:"Select Month",value:"select"}],onChange:function(e){if("week"===e)N(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d/MM/yyyy",l=arguments.length>2?arguments[2]:void 0,o=null!==l&&void 0!==l?l:new Date,i=(0,ne.z)(o,{weekStartsOn:1}),t=(0,le.D)({start:i,end:o}).map((function(e){return(0,$.WU)(e,n)}));return e.filter((function(e){return t.includes("".concat((0,$.WU)(e.value,n)))}))}(v.component_items));else if("today"===e){var n=new Date;N(v.component_items.filter((function(e){return(0,$.WU)(e.value,"d/MM/yyyy")===(0,$.WU)(n,"d/MM/yyyy")})))}else if("month"===e){var l=new Date;N(v.component_items.filter((function(e){return(0,$.WU)(e.value,"MM/yyyy")===(0,$.WU)(l,"MM/yyyy")})))}else"custom"===e&&(q(new Date),N(v.component_items.filter((function(e){return(0,$.WU)(e.value,"d/MM/yyyy")===(0,$.WU)(new Date,"d/MM/yyyy")}))));O(e)}}),"select"===A&&a.createElement(z.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},className:g.tq?"":V.multiselectComponent,visible:!0,mandatory:!1,items:[{label:"January",value:"01"},{label:"February",value:"02"},{label:"March",value:"03"},{label:"April",value:"04"},{label:"May",value:"05"},{label:"June",value:"06"},{label:"July",value:"07"},{label:"August",value:"08"},{label:"September",value:"09"},{label:"October",value:"10"},{label:"November",value:"11"},{label:"December",value:"12"}],onChange:function(e){N(v.component_items.filter((function(n){return(0,$.WU)(n.value,"MM")===e})))}}),"custom"===A&&a.createElement("div",{style:{display:"flex",height:"50px",alignItems:"center",width:"300px"}},a.createElement(ie,{value:U,style:{width:"100%",border:"1px solid black"},format:"DD MMMM YYYY",handleDate:function(e){q(e),N(v.component_items.filter((function(n){return(0,$.WU)(n.value,"d/MM/yyyy")===(0,$.WU)(e,"d/MM/yyyy")})))}})))),null!==v&&void 0!==v&&v.id?a.createElement(w.default,{className:V.itemsTable,modern:!!g.tq,columns:["Date From","Date To","Details","Type","Duration","Status","Options"],list:null===(u=G.Z([J.Z(K.Z("value"))])(I))||void 0===u?void 0:u.map((function(e,n){var l,i,d,u,r=1===+e.quantity||9===+e.quantity;return u={},(0,o.Z)(u,"Date From",a.createElement(ie,{disabled:r,showTimeSelect:!0,value:e.value,style:{width:"100%",border:"1px solid black"},handleDate:function(l){e.value=l,null!==e&&void 0!==e&&e.alt_value&&null!==e&&void 0!==e&&e.value&&(e.total=(T()(new Date(e.alt_value),"DD/MM/YYYY").diff(T()(new Date(e.value),"DD/MM/YYYY"),"minutes")/60).toFixed(2),document.getElementById("Duration".concat(n)).value=e.total,oe({action:y._U.setModuleItems,value:[].concat((0,t.Z)(v.component_items.filter((function(n){return n.id!==e.id}))),[e])})),N([].concat((0,t.Z)(I.filter((function(n){return n.id!==e.id}))),[e]))}})),(0,o.Z)(u,"Date To",a.createElement(ie,{disabled:r,showTimeSelect:!0,value:e.alt_value,style:{width:"100%",border:"1px solid black"},handleDate:function(l){e.alt_value=l,null!==e&&void 0!==e&&e.alt_value&&null!==e&&void 0!==e&&e.value&&(e.total=(T()(new Date(e.alt_value),"DD/MM/YYYY").diff(T()(new Date(e.value),"DD/MM/YYYY"),"minutes")/60).toFixed(2),document.getElementById("Duration".concat(n)).value=e.total,oe({action:y._U.setModuleItems,value:[].concat((0,t.Z)(v.component_items.filter((function(n){return n.id!==e.id}))),[e])})),N([].concat((0,t.Z)(I.filter((function(n){return n.id!==e.id}))),[e]))}})),(0,o.Z)(u,"Duration",r?null!==(l=null===e||void 0===e?void 0:e.total)&&void 0!==l?l:0:a.createElement("input",{disabled:1===+e.quantity||9===+e.quantity,defaultValue:null!==(i=null===e||void 0===e?void 0:e.total)&&void 0!==i?i:0,id:"Duration".concat(n),className:V.inputValue,style:{fontWeight:"bold",border:"0px dashed gray",height:"50px",width:g.tq?"100%":"100px"},onBlur:function(n){e.total!==n.target.value&&(e.total=n.target.value,oe({action:y._U.setModuleItems,value:[].concat((0,t.Z)(v.component_items.filter((function(n){return n.id!==e.id}))),[e])})),N([].concat((0,t.Z)(I.filter((function(n){return n.id!==e.id}))),[e]))}})),(0,o.Z)(u,"Details",r?e.item_code:a.createElement("input",{defaultValue:e.item_code,disabled:1===+e.quantity||9===+e.quantity,className:V.inputValue,style:{fontWeight:"bold",border:"0px dashed gray",height:g.tq?"100px":"50px",width:g.tq?"100%":"300px"},onBlur:function(n){e.item_code!==n.target.value&&(e.item_code=n.target.value,oe({action:y._U.setModuleItems,value:[].concat((0,t.Z)(v.component_items.filter((function(n){return n.id!==e.id}))),[e])}))}})),(0,o.Z)(u,"Status",1===+e.quantity?"Approved":9===+e.quantity?"Disapproved":"For Approval"),(0,o.Z)(u,"Type",r?null===e||void 0===e?void 0:e.type:a.createElement("div",{style:{border:"0px dashed gray",width:g.tq?"100%":"240px",pointerEvents:1===+e.quantity||9===+e.quantity?"none":""}},a.createElement(z.Z,{value:null===e||void 0===e?void 0:e.type,titleProps:{fontSize:"14px",color:"var(--app-color-gray-light)"},className:V.dropdownComponent,visible:!0,mandatory:!1,items:null===(d=te.options)||void 0===d?void 0:d.list.map((function(e){return{label:e,value:e}})),onChange:function(n){e.type=n,oe({action:y._U.setModuleItems,value:[].concat((0,t.Z)(v.component_items.filter((function(n){return n.id!==e.id}))),[e])})}},a.createElement("input",{value:null===e||void 0===e?void 0:e.type,className:V.inputValue,style:{fontWeight:"bold",border:"0px dashed gray",height:"50px",paddingLeft:"10px"},readOnly:!0})))),(0,o.Z)(u,"Options",a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",paddingTop:"10px"}},m.id===v.created_by.id&&a.createElement(S.G,{icon:k.u8Q,onClick:function(){e.quantity=1,oe({action:y._U.setModuleItems,value:[].concat((0,t.Z)(v.component_items.filter((function(n){return n.id!==e.id}))),[e])}),N([].concat((0,t.Z)(I.filter((function(n){return n.id!==e.id}))),[e]))},style:{color:1===+e.quantity?"var(--app-color-gray-lightest)":"green",cursor:"pointer",pointerEvents:1===+e.quantity?"none":""}}),m.id===v.created_by.id&&a.createElement(S.G,{icon:k.QWY,onClick:function(){e.quantity=9,oe({action:y._U.setModuleItems,value:[].concat((0,t.Z)(v.component_items.filter((function(n){return n.id!==e.id}))),[e])}),N([].concat((0,t.Z)(I.filter((function(n){return n.id!==e.id}))),[e]))},style:{color:9===+e.quantity?"var(--app-color-gray-lightest)":"red",cursor:"pointer",pointerEvents:9===+e.quantity?"none":""}}),a.createElement(S.G,{icon:k.$aW,onClick:function(){oe({action:y._U.setModuleItems,value:I.filter((function(n){return n.id!==e.id}))}),N(I.filter((function(n){return n.id!==e.id})))},style:{color:0!==+e.quantity?"var(--app-color-gray-lightest)":"black",cursor:"pointer",pointerEvents:0!==+e.quantity?"none":""}}))),(0,o.Z)(u,"id",e.id),u}))}):e.children)),a.createElement(b.x4,{id:"DETAILS"},a.createElement("div",{style:{width:"100%",overflow:"auto"}},null!==v&&void 0!==v&&v.id?a.createElement(w.default,{modern:!!g.tq,className:V.itemsTable,columns:["Type","Allocated","For Approval","Availed","Balance"],list:null===(r=te.options)||void 0===r?void 0:r.list.map((function(e){var n,l,i,t,d,u,r,s;return s={Type:a.createElement("input",{className:V.inputValue,defaultValue:e,style:{fontWeight:"bold",height:"50px",width:"100%",paddingLeft:"10px"},readOnly:!0}),Allocated:a.createElement("input",{className:V.inputValue,defaultValue:null!==(n=null===(l=v.component_fields.find((function(n){return n.field_name===e})))||void 0===l?void 0:l.value)&&void 0!==n?n:"0",style:{fontWeight:"bold",height:"50px",width:"100%",paddingLeft:"10px"},readOnly:!0})},(0,o.Z)(s,"For Approval",a.createElement("input",{className:V.inputValue,defaultValue:"".concat(Q.Z((function(e,n){return+e+ +n.total}),0,null!==(i=v.component_items.filter((function(n){return n.type===e&&0===+n.quantity})))&&void 0!==i?i:[]).toFixed(2)),style:{fontWeight:"bold",height:"50px",width:"100%",paddingLeft:"10px"},readOnly:!0})),(0,o.Z)(s,"Availed",a.createElement("input",{className:V.inputValue,defaultValue:"".concat(Q.Z((function(e,n){return+e+ +n.total}),0,null!==(t=v.component_items.filter((function(n){return n.type===e&&1===+n.quantity})))&&void 0!==t?t:[]).toFixed(2)),style:{fontWeight:"bold",height:"50px",width:"100%",paddingLeft:"10px"},readOnly:!0})),(0,o.Z)(s,"Balance",a.createElement("input",{className:V.inputValue,defaultValue:"".concat((+(null!==(d=null===(u=v.component_fields.find((function(n){return n.field_name===e})))||void 0===u?void 0:u.value)&&void 0!==d?d:0)-Q.Z((function(e,n){return+e+ +n.total}),0,null!==(r=v.component_items.filter((function(n){return n.type===e&&1===+n.quantity})))&&void 0!==r?r:[])).toFixed(2)),style:{fontWeight:"bold",height:"50px",width:"100%",paddingLeft:"10px"},readOnly:!0})),s}))}):e.children)))))},re=function(e){var n,l,i,u,r,v,s,c=e.selectedComponent,p=(e.begunModule,e.goto,e.component_blueprint),m=(0,f.v9)((function(e){return e.authReducer})),h=m.authenticatedUser,E=(0,a.useState)(!1),C=(0,d.Z)(E,2),Z=(C[0],C[1],(0,a.useState)((null===c||void 0===c||null===(n=c.component_items)||void 0===n?void 0:n.length)>0?c.component_items:[{item_code:"",value:"",alt_value:"",type:"goal",id:(0,_.mR)()}])),I=(0,d.Z)(Z,2),N=I[0],T=I[1],P=(0,a.useState)("goal"),D=(0,d.Z)(P,2),A=D[0],O=D[1],L=(0,y.pQ)(),R=(0,d.Z)(L,2),U=(R[0],R[1]),F={clipboard:{matchers:[]},toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],["link","image","video","formula"],[{header:[1,2,3,4,5,6,!1]}],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{size:["small",!1,"large","huge"]}]]},q=["header","font","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image"],W=function(){return a.createElement(x.zx,{light:!0,style:{display:""},clicked:function(){T([].concat((0,t.Z)(N),[{type:A,item_code:"",value:"",alt_value:"",total:"",quantity:"",id:(0,_.mR)()}]))},icon:a.createElement("img",{src:M.IH})})},B=function(e){var n;return a.createElement(te(),{modules:(null!==e&&void 0!==e&&e.showToolbar,F),style:{fontFamily:"var(--app-text-main-font)",minHeight:"200px"},readOnly:null!==(n=null===e||void 0===e?void 0:e.readOnly)&&void 0!==n&&n,formats:q,defaultValue:null===e||void 0===e?void 0:e.value,onChange:null===e||void 0===e?void 0:e.onChange,onBlur:null===e||void 0===e?void 0:e.onBlur,theme:"snow"})},Y=null===p||void 0===p||null===(l=p.selected_fields)||void 0===l?void 0:l.find((function(e){return"Dropdown"===e.data_type_name&&"Goal"===e.field_name})),H=null===p||void 0===p||null===(i=p.selected_fields)||void 0===i?void 0:i.find((function(e){return"Dropdown"===e.data_type_name&&"KPI"===e.field_name}));return a.createElement("div",{className:j},a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:g.tq?"18px":"20px",fontWeight:"bold",marginTop:g.tq?"":"50px",padding:"20px"}},e.children,a.createElement(b.mQ,{style:{width:"100%",fontSize:g.tq?"16px":"20px",marginTop:"20px"},onSelect:function(e){O(1===e?"kpi":"goal")}},a.createElement(b.td,{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:g.tq?"14px":"16px"}},a.createElement(b.OK,null,"TARGET GOALS"),a.createElement(b.OK,null,"KEY PERFORMANCE INDICATORS")),a.createElement(b.x4,{id:"TARGET GOALS"},a.createElement("div",{style:{width:"100%",overflow:"auto"}},c.created_by.id===h.id&&a.createElement("div",{style:{display:"flex",justifyContent:"left"}},W()),null!==c&&void 0!==c&&c.id&&c.created_by.id===h.id?a.createElement(w.default,{modern:!!g.tq,className:V.itemsTable,columns:["Goal","Description","Result","Employee Comment","Options"],list:null===(u=G.Z([J.Z(K.Z("value"))])(N.filter((function(e){return"goal"===e.type}))))||void 0===u?void 0:u.map((function(e,n){var l,i,d,u,r;return r={},(0,o.Z)(r,"Goal",a.createElement("div",{style:{}},a.createElement("div",{style:{border:"1px dashed gray",minWidth:g.tq?"":"300px",width:"auto"}},a.createElement(z.Z,{value:null===e||void 0===e?void 0:e.item_code,className:V.dropdownComponent,visible:!0,mandatory:!1,items:null===(l=Y.options)||void 0===l?void 0:l.list.map((function(e){return{label:e,value:e}})),onChange:function(n){e.item_code=n,U({action:y._U.setModuleItems,value:[].concat((0,t.Z)(c.component_items.filter((function(n){return n.id!==e.id}))),[e])})}})),a.createElement("textarea",{defaultValue:e.value,className:V.inputValue,style:{fontWeight:"bold",fontSize:"18px",border:"1px dashed gray",height:"200px",width:"100%",paddingLeft:"20px",marginTop:"10px"},placeholder:"Goal Item",onBlur:function(n){e.value!==n.target.value&&(e.value=n.target.value,U({action:y._U.setModuleItems,value:[].concat((0,t.Z)(c.component_items.filter((function(n){return n.id!==e.id}))),[e])}))}}))),(0,o.Z)(r,"Description",a.createElement("div",{style:{border:"0px dashed gray",width:"auto"}},a.createElement(B,{showToolbar:!g.tq,value:null!==(i=null===e||void 0===e?void 0:e.alt_value)&&void 0!==i?i:"",onBlur:function(){U({action:y._U.setModuleItems,value:[].concat((0,t.Z)(c.component_items.filter((function(n){return n.id!==e.id}))),[e])})},onChange:function(n){e.alt_value=n}}))),(0,o.Z)(r,"Result",a.createElement("div",{style:{border:"0px dashed gray",width:"auto"}},a.createElement(B,{showToolbar:!g.tq,value:null!==(d=null===e||void 0===e?void 0:e.quantity)&&void 0!==d?d:"",onBlur:function(){U({action:y._U.setModuleItems,value:[].concat((0,t.Z)(c.component_items.filter((function(n){return n.id!==e.id}))),[e])})},onChange:function(n){e.quantity=n}}))),(0,o.Z)(r,"Employee Comment",a.createElement("div",{style:{}},a.createElement(B,{value:null!==(u=null===e||void 0===e?void 0:e.total)&&void 0!==u?u:"",readOnly:!0,showToolbar:!1}))),(0,o.Z)(r,"Options",a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},a.createElement(S.G,{icon:k.$aW,onClick:function(){U({action:y._U.setModuleItems,value:N.filter((function(n){return n.id!==e.id}))}),T(N.filter((function(n){return n.id!==e.id})))},style:{cursor:"pointer"}}))),(0,o.Z)(r,"id",e.id),r}))}):a.createElement("br",null),null!==c&&void 0!==c&&c.id&&c.assigned_to.id===h.id?a.createElement(w.default,{modern:!0,className:V.itemsTable,columns:["Goal","Goal Item","Description","Result","Comments"],list:null===(r=G.Z([J.Z(K.Z("type"))])(N.filter((function(e){return"goal"===e.type}))))||void 0===r?void 0:r.map((function(e,n){var l,i,d;return d={},(0,o.Z)(d,"Goal",a.createElement("input",{defaultValue:e.item_code,className:V.inputValue,style:{fontWeight:"bolder",border:"1px dashed gray",padding:"10px",minHeight:"50px",margin:"10px",fontSize:"18px"},disabled:!0})),(0,o.Z)(d,"Goal Item",a.createElement("div",{style:{border:"0px dashed gray",width:"auto"}},a.createElement("textarea",{defaultValue:e.value,className:V.inputValue,style:{fontWeight:"bolder",border:"1px dashed gray",height:"auto",minHeight:"50px",width:"100%",paddingLeft:"10px",margin:"10px"},disabled:!0}))),(0,o.Z)(d,"Description",a.createElement("div",{style:{border:"0px dashed gray",width:"auto"}},a.createElement(B,{value:null!==(l=null===e||void 0===e?void 0:e.alt_value)&&void 0!==l?l:"",readOnly:!0,showToolbar:!1}))),(0,o.Z)(d,"Owner",a.createElement("div",{style:{border:"0px dashed gray",width:"auto"}},a.createElement("textarea",{defaultValue:e.quantity,className:V.inputValue,style:{fontWeight:"bolder",border:"1px dashed gray",minHeight:"50px",width:"100%",paddingLeft:"10px",margin:"10px"},disabled:!0}))),(0,o.Z)(d,"Comments",a.createElement("div",{style:{}},a.createElement(B,{showToolbar:!g.tq,value:null!==(i=null===e||void 0===e?void 0:e.total)&&void 0!==i?i:"",onBlur:function(){U({action:y._U.setModuleItems,value:[].concat((0,t.Z)(c.component_items.filter((function(n){return n.id!==e.id}))),[e])})},onChange:function(n){e.total=n}}))),(0,o.Z)(d,"id",e.id),d}))}):a.createElement("br",null))),a.createElement(b.x4,{id:"KPI"},a.createElement("div",{style:{width:"100%",overflow:"auto"}},c.created_by.id===h.id&&a.createElement("div",{style:{display:"flex",justifyContent:"left"}},W()),null!==c&&void 0!==c&&c.id&&c.created_by.id===h.id?a.createElement(w.default,{modern:!!g.tq,className:V.itemsTable,columns:["KPI","KPI Elements","Owner","Comments","Options"],list:null===(v=G.Z([J.Z(K.Z("value"))])(N.filter((function(e){return"kpi"===e.type}))))||void 0===v?void 0:v.map((function(e,n){var l,i,d,u,r;return r={},(0,o.Z)(r,"KPI",a.createElement("div",null,a.createElement("div",{style:{border:"1px dashed gray",minWidth:g.tq?"":"300px",width:"auto"}},a.createElement(z.Z,{value:null===e||void 0===e?void 0:e.item_code,className:V.dropdownComponent,visible:!0,mandatory:!1,items:null===(l=H.options)||void 0===l?void 0:l.list.map((function(e){return{label:e,value:e}})),onChange:function(n){e.item_code=n,U({action:y._U.setModuleItems,value:[].concat((0,t.Z)(c.component_items.filter((function(n){return n.id!==e.id}))),[e])})}})),a.createElement("textarea",{defaultValue:e.value,className:V.inputValue,style:{fontWeight:"bold",fontSize:"18px",border:"1px dashed gray",height:"200px",width:"100%",paddingLeft:"20px",marginTop:"10px"},placeholder:"KPI Item",onBlur:function(n){e.value!==n.target.value&&(e.value=n.target.value,U({action:y._U.setModuleItems,value:[].concat((0,t.Z)(c.component_items.filter((function(n){return n.id!==e.id}))),[e])}))}}))),(0,o.Z)(r,"KPI Elements",a.createElement("div",{style:{border:"0px dashed gray",width:"auto"}},a.createElement(B,{showToolbar:!g.tq,value:null!==(i=null===e||void 0===e?void 0:e.alt_value)&&void 0!==i?i:"",onBlur:function(n){U({action:y._U.setModuleItems,value:[].concat((0,t.Z)(c.component_items.filter((function(n){return n.id!==e.id}))),[e])})},onChange:function(n){e.alt_value=n}}))),(0,o.Z)(r,"Owner",a.createElement("div",{style:{border:"0px dashed gray",width:"auto"}},a.createElement(B,{showToolbar:!g.tq,value:null!==(d=null===e||void 0===e?void 0:e.quantity)&&void 0!==d?d:"",onBlur:function(n){U({action:y._U.setModuleItems,value:[].concat((0,t.Z)(c.component_items.filter((function(n){return n.id!==e.id}))),[e])})},onChange:function(n){e.quantity=n}}))),(0,o.Z)(r,"Comments",a.createElement("div",{style:{}},a.createElement(B,{showToolbar:!g.tq,value:null!==(u=null===e||void 0===e?void 0:e.total)&&void 0!==u?u:"",onBlur:function(n){U({action:y._U.setModuleItems,value:[].concat((0,t.Z)(c.component_items.filter((function(n){return n.id!==e.id}))),[e])})},onChange:function(n){e.total=n}}))),(0,o.Z)(r,"Options",a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},a.createElement(S.G,{icon:k.$aW,onClick:function(){U({action:y._U.setModuleItems,value:N.filter((function(n){return n.id!==e.id}))}),T(N.filter((function(n){return n.id!==e.id})))},style:{cursor:"pointer"}}))),(0,o.Z)(r,"id",e.id),r}))}):a.createElement("br",null),null!==c&&void 0!==c&&c.id&&c.assigned_to.id===h.id?a.createElement(w.default,{modern:!0,className:V.itemsTable,columns:["KPI","KPI Item","KPI Element","Result","Owner"],list:null===(s=G.Z([J.Z(K.Z("type"))])(N.filter((function(e){return"kpi"===e.type}))))||void 0===s?void 0:s.map((function(e,n){var l,i,t,d;return d={},(0,o.Z)(d,"KPI",a.createElement("input",{defaultValue:e.item_code,className:V.inputValue,style:{fontWeight:"bolder",border:"1px dashed gray",padding:"10px",minHeight:"50px",margin:"10px",fontSize:"18px"},disabled:!0})),(0,o.Z)(d,"KPI Item",a.createElement("div",{style:{border:"0px dashed gray",width:"auto"}},a.createElement("textarea",{defaultValue:e.value,className:V.inputValue,style:{fontWeight:"bolder",border:"1px dashed gray",height:"auto",minHeight:"50px",width:"100%",paddingLeft:"10px",margin:"10px"},disabled:!0}))),(0,o.Z)(d,"KPI Element",a.createElement("div",{style:{border:"0px dashed gray",width:"auto"}},a.createElement(B,{value:null!==(l=null===e||void 0===e?void 0:e.alt_value)&&void 0!==l?l:"",readOnly:!0,showToolbar:!1}))),(0,o.Z)(d,"Owner",a.createElement("div",{style:{border:"0px dashed gray",width:"auto"}},a.createElement(B,{value:null!==(i=null===e||void 0===e?void 0:e.quantity)&&void 0!==i?i:"",readOnly:!0,showToolbar:!1}))),(0,o.Z)(d,"Comments",a.createElement("div",{style:{border:"0px dashed gray",width:"auto"}},a.createElement(B,{value:null!==(t=null===e||void 0===e?void 0:e.total)&&void 0!==t?t:"",readOnly:!0,showToolbar:!1}))),(0,o.Z)(d,"id",e.id),d}))}):a.createElement("br",null))))))},ve=function(e){var n,l,u,r,v,s=e.selectedComponent,c=e.template,p=e.companyUsersArray,m=e.authenticatedUser,f=(0,y.pQ)(),_=(0,d.Z)(f,2),h=_[0],b=_[1],E=(0,a.useState)(T()()),w=(0,d.Z)(E,2),Z=w[0],M=w[1],S=(0,a.useState)(),k=(0,d.Z)(S,2),I=k[0],N=k[1],P=(0,a.useState)(),D=(0,d.Z)(P,2),A=D[0],O=D[1],L=null===p||void 0===p?void 0:p.find((function(e){var n,l,o;return(null===(n=h.newStepComponents)||void 0===n||null===(l=n.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return(null===e||void 0===e?void 0:e.value)&&"People"===e.data_type_name&&e.field_name===(null===(n=c.config.find((function(e){return"item_code"===e.key})))||void 0===n?void 0:n.label)})).length)>0})))||void 0===l||null===(o=l.selected_fields.find((function(e){return"People"===e.data_type_name})))||void 0===o?void 0:o.value)==="".concat(e.first_name," ").concat(e.last_name)})),z=null===(n=h.newStepComponents)||void 0===n||null===(l=n.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return(null===e||void 0===e?void 0:e.value)&&"Text"===e.data_type_name&&e.field_name===(null===(n=c.config.find((function(e){return"total"===e.key})))||void 0===n?void 0:n.label)})).length)>0})))||void 0===l||null===(u=l.selected_fields.find((function(e){var n;return"Text"===e.data_type_name&&e.field_name===(null===(n=c.config.find((function(e){return"total"===e.key})))||void 0===n?void 0:n.label)})))||void 0===u?void 0:u.value,R=(0,a.useState)(!1),U=(0,d.Z)(R,2),F=U[0],q=U[1];return(0,a.useEffect)((function(){var e=setInterval((function(){M(T()())}),1e3);return function(){window.clearInterval(e)}}),[]),a.createElement("div",{className:j},I&&(null===L||void 0===L?void 0:L.id)&&a.createElement(x.U7,{hasCloseIcon:!0,isOpen:!!I,onClose:function(){O(void 0),N(void 0)},shadowedContainerStyle:{border:"5px black",backgroundColor:"",width:g.tq?"100%":"200px"}},a.createElement("p",{className:V.title},"Enter ID:"),a.createElement("input",{id:"Log Password",type:"password",style:{fontWeight:"bold",border:"2px solid gray",height:"50px",fontSize:"20px"},onChange:function(e){return O("")}}),A&&a.createElement("p",null,A),a.createElement(x.zx,{loading:F,title:"LOG",clicked:function(){document.getElementById("Log Password").value===L.id.replace(/\D/g,"").slice(-5)?(q(!0),(0,C.KL)((0,i.Z)((0,i.Z)({},s),{},{component_items:[].concat((0,t.Z)(h.items),[I])})).subscribe({error:function(e){q(!1),N(void 0)},next:function(){q(!1),b({action:y._U.addModuleItems,value:I}),N(void 0)}}),O(void 0)):O("Incorrect ID entered")}})),a.createElement("div",{style:{fontFamily:"var(--app-text-mobile-font)",fontSize:g.tq?"18px":"20px",fontWeight:"bold",marginTop:g.tq?"":"50px",padding:"0",display:null!==s&&void 0!==s&&s.id?"":"none"}},a.createElement("div",{className:V.centerDiv,style:{width:"100%",height:"auto",flexDirection:"column"}},a.createElement("p",{id:"date_header"},"".concat(Z.format("DD MMMM YYYY"))),a.createElement("label",{className:V.timer,id:"timer_count"},Z.format("HH:mm:ss")),a.createElement("div",{className:V.centerDiv,style:{marginTop:"40px",width:g.tq?"100%":"30%"}},e.children),a.createElement("div",{className:V.centerDiv,style:{width:"100%",height:"auto",padding:"20px",display:null!==s&&void 0!==s&&s.id?"":"none"}},a.createElement(x.zx,{title:"Time In / Out",style:{width:g.tq?"100%":"30%",height:"50px"},clicked:function(){if(null!==L&&void 0!==L&&L.id){var e,n,l=G.Z([X.Z(K.Z("index"))])(null===h||void 0===h?void 0:h.items).find((function(e){return e.quantity===L.id})),o={};if(null!==l&&void 0!==l&&l.alt_value||null!==l&&void 0!==l&&l.value)o={index:null===h||void 0===h||null===(e=h.items)||void 0===e?void 0:e.length,item_code:"".concat(L.first_name," ").concat(L.last_name),quantity:L.id,value:null!==l&&void 0!==l&&l.value?"":new Date,alt_value:null!==l&&void 0!==l&&l.alt_value?"":new Date,total:z};else o={index:null===h||void 0===h||null===(n=h.items)||void 0===n?void 0:n.length,item_code:"".concat(L.first_name," ").concat(L.last_name),quantity:L.id,value:new Date,alt_value:"",total:z};(null===m||void 0===m?void 0:m.id)===L.id?(q(!0),(0,C.KL)((0,i.Z)((0,i.Z)({},s),{},{component_items:[].concat((0,t.Z)(h.items),[o])})).subscribe({error:function(e){q(!1),N(void 0)},next:function(){q(!1),b({action:y._U.addModuleItems,value:o}),N(void 0)}})):N(o)}}}),a.createElement(x.zx,{title:"Time In",style:{width:g.tq?"100%":"30%",height:"50px"},clicked:function(){if(null!==L&&void 0!==L&&L.id){var e,n={index:null===h||void 0===h||null===(e=h.items)||void 0===e?void 0:e.length,item_code:"".concat(L.first_name," ").concat(L.last_name),quantity:L.id,value:new Date,alt_value:"",total:z};(null===m||void 0===m?void 0:m.id)===L.id?(q(!0),(0,C.KL)((0,i.Z)((0,i.Z)({},s),{},{component_items:[].concat((0,t.Z)(h.items),[n])})).subscribe({error:function(e){q(!1),N(void 0)},next:function(){q(!1),b({action:y._U.addModuleItems,value:n}),N(void 0)}})):N(n)}}}),a.createElement(x.zx,{title:"Time Out",style:{width:g.tq?"100%":"30%",height:"50px"},clicked:function(){if(null!==L&&void 0!==L&&L.id){var e,n={index:null===h||void 0===h||null===(e=h.items)||void 0===e?void 0:e.length,item_code:"".concat(L.first_name," ").concat(L.last_name),quantity:L.id,alt_value:new Date,value:"",total:z};(null===m||void 0===m?void 0:m.id)===L.id?(q(!0),(0,C.KL)((0,i.Z)((0,i.Z)({},s),{},{component_items:[].concat((0,t.Z)(h.items),[n])})).subscribe({error:function(e){q(!1),N(void 0)},next:function(){q(!1),b({action:y._U.addModuleItems,value:n}),N(void 0)}})):N(n)}}})),a.createElement(de.Z,{style:{width:"100%"},modern:!!g.tq,tableHostSimple:V.itemsTable,columns:g.tq?["Time In","Time Out"]:["Employee","Time In","Time Out","Remarks"],list:null!==h&&void 0!==h&&h.items?null===(r=G.Z([X.Z(K.Z("index"))])(null===h||void 0===h||null===(v=h.items)||void 0===v?void 0:v.filter((function(e){return e.quantity===(null===L||void 0===L?void 0:L.id)}))))||void 0===r?void 0:r.map((function(n,l){var i,t,d;return d={Employee:n.item_code},(0,o.Z)(d,"Time In",null!==n&&void 0!==n&&n.value?T()(n.value).format(null!==(i=e.format)&&void 0!==i?i:"DD MMMM YYYY HH:mm"):""),(0,o.Z)(d,"Time Out",null!==n&&void 0!==n&&n.alt_value?T()(n.alt_value).format(null!==(t=e.format)&&void 0!==t?t:"DD MMMM YYYY HH:mm"):""),(0,o.Z)(d,"Remarks",n.total),d})):[]}))))},se=l(74165),ce=l(15861),pe={itemsTable:"CustomRoutes_itemsTable__9GNyT",inputValue:"CustomRoutes_inputValue__mE20S",multiselectComponent:"CustomRoutes_multiselectComponent__JWLpx",dropdownComponent:"CustomRoutes_dropdownComponent__1P3Wa",dropdownComponent_ii:"CustomRoutes_dropdownComponent_ii__5Cecx",title:"CustomRoutes_title__yxO4J",subtitle:"CustomRoutes_subtitle__aarjQ",dropdownContainer:"CustomRoutes_dropdownContainer__LcpSg",currencyInput:"CustomRoutes_currencyInput__Axdwe",tmiClassName:"CustomRoutes_tmiClassName__k+Nse",templateNotes:"CustomRoutes_templateNotes__ZU+Al"},me=l(68218),fe=l(84634),_e=l(60179),ye=l(37390),he=l(11217),ge=(l(11712),(0,f.$j)((function(e){var n=e.authReducer,l=(n.authenticatedUser.position,n.authenticatedUser),o=e.sessionReducer.user,i=e.flowReducer;return{begunModule:i.begunModule,allModules:i.allModules,companyData:i.companyData,companyUsersArray:i.companyUsersArray,companyPositionsArray:i.companyPositionsArray,components:i.components,authenticatedUser:l,user:o,companyProcesses:i.companyProcesses}}))((function(e){var n,l,u,r,v,s,c,p,m,h,b,E,C,Z,M,I,P,A,O,L,R,U,F,q,W,B,Y,H,V,G,J,K,Q,X=e.components,$=e.component,ee=e.selectedComponent,ne=e.children,le=(0,f.I0)(),oe=(0,f.v9)((function(e){return e.flowReducer})),ie=oe.companyData,te=oe.map,de=(0,y.pQ)(),ae=(0,d.Z)(de,2),ue=ae[0],re=ae[1],ve=(0,a.useState)({}),ge=(0,d.Z)(ve,2),be=ge[0],xe=ge[1],Ee=(0,a.useState)([]),Ce=(0,d.Z)(Ee,2),we=(Ce[0],Ce[1]),Ze=(0,a.useState)(),Me=(0,d.Z)(Ze,2),Se=Me[0],ke=Me[1],Ie=(0,a.useState)(),Ne=(0,d.Z)(Ie,2),Te=Ne[0],Pe=Ne[1],De=(0,a.useState)(!1),Ae=(0,d.Z)(De,2),Oe=Ae[0],Le=Ae[1],ze=(0,a.useState)(!0),Re=(0,d.Z)(ze,2),Ue=Re[0],Fe=Re[1],qe=(0,a.useState)(ue.items.length>0),We=(0,d.Z)(qe,2),Be=We[0],Ye=We[1],He=$.selected_fields.find((function(e){var n;return"item_code"===(null===(n=e.options)||void 0===n?void 0:n.mapToItem)&&"Record"===e.data_type_name&&"Customer"===e.field_name})),je=$.selected_fields.find((function(e){var n;return"alt_value"===(null===(n=e.options)||void 0===n?void 0:n.mapToItem)&&"Dropdown"===e.data_type_name&&"Status"===e.field_name})),Ve=$.selected_fields.find((function(e){return"Map"===e.data_type_name})),Ge=X.filter((function(e){return e.component_fields.filter((function(e){var n;return e.component_blueprint_id===(null===He||void 0===He||null===(n=He.options)||void 0===n?void 0:n.component_id)})).length>0})),Je=(0,a.useState)(null===Ge||void 0===Ge?void 0:Ge.filter((function(e){return!ue.items.map((function(e){return e.item_code})).includes(e.title)&&e.component_fields.find((function(e){return"Pin"===e.data_type_name&&e.value}))}))),Ke=(0,d.Z)(Je,2),Qe=Ke[0],Xe=Ke[1],$e=(0,a.useState)($.selected_fields.find((function(e){var n;return"Pin"===e.data_type_name&&!0===(null===(n=e.options)||void 0===n?void 0:n.destination)}))),en=(0,d.Z)($e,1)[0],nn=(0,a.useState)(null===(n=ue.newStepComponents.find((function(e){return e.selected_fields.find((function(e){return"Number"===e.data_type_name&&"Stopover"===e.field_name}))})))||void 0===n?void 0:n.selected_fields.find((function(e){return"Number"===e.data_type_name&&"Stopover"===e.field_name}))),ln=(0,d.Z)(nn,1)[0],on=(0,a.useMemo)((function(){return[{Header:"View",columns:[{Header:"View",accessor:"view"}]}]}),[]),tn=null===(l=ue.currentStep)||void 0===l?void 0:l.component_blueprints.findIndex((function(e){return e.id===(null===$||void 0===$?void 0:$.id)})),dn=function(e,n){var l,o,i,d=(0,t.Z)(null!==(l=null===(o=ue.currentStep)||void 0===o?void 0:o.component_blueprints)&&void 0!==l?l:[]),a=null===(i=d[tn])||void 0===i?void 0:i.selected_fields[n];"Number"===(null===a||void 0===a?void 0:a.data_type_name)?Number(+e)?a.value=e:""===e&&(a.value=""):null!==a&&void 0!==a&&a.data_type_name&&(a.value=e),null!==a&&void 0!==a&&a.value&&a.mandatory&&(a.errors=""),re({action:y._U.setComponentBlueprints,value:d}),re({action:y._U.setModuleNewStepComponents,value:d})};return a.createElement("div",{className:j},a.createElement("div",{style:{display:"flex",width:"100%",flexDirection:g.tq?"column":"row"}},a.createElement("div",{style:{width:g.tq?"100%":"20%",padding:"140px 10px 0 10px"}},a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},!0===(null===en||void 0===en?void 0:en.visible)&&a.createElement("div",null,"Route:"),ue.items.length>0&&a.createElement(S.G,{icon:k.XTR,onClick:function(){re({action:y._U.setModuleItems,value:[]}),le((0,D.wM)({routes:{},pins:""}))},style:{cursor:"pointer"}})),ue.items.length>0?a.createElement(_e.zx,null,!0===(null===en||void 0===en?void 0:en.visible)&&a.createElement("div",{style:{border:"1px dashed gray",padding:"5px",cursor:"pointer"},onClick:function(){var e,n,l,o=JSON.parse(null!==(e=null===en||void 0===en?void 0:en.value)&&void 0!==e?e:"{}");null!==o&&void 0!==o&&o.source&&(le((0,D.wM)({pins:[{position:{lat:null===o||void 0===o||null===(n=o.source)||void 0===n?void 0:n.lat,lng:null===o||void 0===o||null===(l=o.source)||void 0===l?void 0:l.lng},type:"OriginMarker"}]})),le((0,D.wM)({zoom:17})))}},a.createElement("p",null,"Start"),a.createElement("p",{style:{fontSize:"12px"}},"".concat(null!==(u=null===(r=JSON.parse(null!==(s=null===en||void 0===en?void 0:en.value)&&void 0!==s?s:"{}"))||void 0===r||null===(v=r.source)||void 0===v?void 0:v.address)&&void 0!==u?u:"Please set start"))),a.createElement(_e.iA,{columns:on,data:null===ue||void 0===ue?void 0:ue.items.map((function(e,n){var l,o,i,t,d,u,r,v,s,c=JSON.parse(null!==(l=null===e||void 0===e?void 0:e.quantity)&&void 0!==l?l:"{}"),p=JSON.parse(null!==(o=e[null===je||void 0===je||null===(i=je.options)||void 0===i?void 0:i.mapToItem])&&void 0!==o?o:"{}"),m=JSON.parse(null!==(t=null===e||void 0===e?void 0:e.value)&&void 0!==t?t:"{}");return{id:e.id,view:a.createElement("div",{style:{border:e.isOpen?"1px dashed blue":"1px dashed gray",padding:"5px 5px 10px 5px"}},e.isOpen&&a.createElement("div",{style:{display:"flex",justifyContent:"right"}},a.createElement(S.G,{icon:k.$aW,onClick:function(){re({action:y._U.removeModuleItems,value:e})},style:{cursor:"pointer"}})),a.createElement("p",{style:{cursor:"pointer"},onClick:function(){var n;if(e.isOpen=!(null!==(n=null===e||void 0===e?void 0:e.isOpen)&&void 0!==n&&n),re({action:y._U.setModuleItems,value:ue.items}),e.isOpen){var l,o;le((0,D.wM)({pins:[{position:{lat:null===m||void 0===m||null===(l=m.source)||void 0===l?void 0:l.lat,lng:null===m||void 0===m||null===(o=m.source)||void 0===o?void 0:o.lng},type:"Pin"}]})),le((0,D.wM)({zoom:17}))}else{if(null!==en&&void 0!==en&&en.value){var i,t,d,a,u,r,v=JSON.parse(null!==(i=null===en||void 0===en?void 0:en.value)&&void 0!==i?i:"{}");le((0,D.wM)({pins:[{position:{lat:null===v||void 0===v||null===(t=v.source)||void 0===t?void 0:t.lat,lng:null===v||void 0===v||null===(d=v.source)||void 0===d?void 0:d.lng},type:"OriginMarker"},{position:{lat:null===v||void 0===v||null===(a=v.destination)||void 0===a?void 0:a.lat,lng:null===v||void 0===v||null===(u=v.destination)||void 0===u?void 0:u.lng},type:"DestinationMarker"}].concat(null===ue||void 0===ue||null===(r=ue.items)||void 0===r?void 0:r.map((function(e){var n,l,o,i=JSON.parse(null!==(n=e.value)&&void 0!==n?n:"{}");return{position:{lat:null===i||void 0===i||null===(l=i.source)||void 0===l?void 0:l.lat,lng:null===i||void 0===i||null===(o=i.source)||void 0===o?void 0:o.lng},type:"Pin"}})))}))}else{var s;le((0,D.wM)({pins:null===ue||void 0===ue||null===(s=ue.items)||void 0===s?void 0:s.map((function(e){var n,l,o,i=JSON.parse(null!==(n=e.value)&&void 0!==n?n:"{}");return{position:{lat:null===i||void 0===i||null===(l=i.source)||void 0===l?void 0:l.lat,lng:null===i||void 0===i||null===(o=i.source)||void 0===o?void 0:o.lng},type:"Pin"}}))}))}Ye(!1),le((0,D.wM)({zoom:null}))}}},a.createElement("span",{style:{fontSize:"12px"}},"".concat(n+1,". ")),"".concat(e.item_code)),a.createElement("p",{style:{fontSize:"14px"}},"".concat(null===m||void 0===m||null===(d=m.source)||void 0===d?void 0:d.address)),e.isOpen&&a.createElement("div",null,Object.keys(c).map((function(e,n){return a.createElement("p",{style:{fontSize:"12px"},key:n},"".concat(e,": ").concat(T()(c[e]).format("DD MMMM YYYY HH:mm")))})),a.createElement("p",null,"Notes"),a.createElement("textarea",{defaultValue:null===p||void 0===p?void 0:p.notes,className:pe.templateNotes,onChange:function(e){return p.notes=e.target.value}}),a.createElement("p",null,"Status"),je&&a.createElement(z.Z,{visible:!0,items:null===je||void 0===je||null===(u=je.options)||void 0===u?void 0:u.list.map((function(e){return{label:e,value:e}})),className:pe.dropdownClassContainer,onChange:function(n){var l,o;p.status=n,e[null===je||void 0===je||null===(l=je.options)||void 0===l?void 0:l.mapToItem]=JSON.stringify(p),c[n]=(0,N.now)(),e.quantity=JSON.stringify(c),null!==Ve&&void 0!==Ve&&null!==(o=Ve.options)&&void 0!==o&&o.realtime&&null!==ee&&void 0!==ee&&ee.id?navigator.geolocation.getCurrentPosition((function(l){var o={},i={lat:l.coords.latitude,lng:l.coords.longitude,id:"10"};o[n]=i,e.total=JSON.stringify(o),re({action:y._U.setModuleItems,value:ue.items}),ee.lat=l.coords.latitude,ee.lng=l.coords.longitude})):re({action:y._U.setModuleItems,value:ue.items})},selectionType:null===je||void 0===je||null===(r=je.options)||void 0===r?void 0:r.type,backgroundColor:null!==je&&void 0!==je&&null!==(v=je.options)&&void 0!==v&&v.valueC&&null!==je&&void 0!==je&&je.value?null===je||void 0===je||null===(s=je.options)||void 0===s?void 0:s.valueC:"",value:void 0===(null===p||void 0===p?void 0:p.status)||null===(null===p||void 0===p?void 0:p.status)?"":null===p||void 0===p?void 0:p.status}))),item:e}})),onhandleDragEnd:function(e){Fe(!1),Le(!0),setTimeout((function(){return Le(!1)}),10),re({action:y._U.setModuleItems,value:e.map((function(e,n){return(0,i.Z)((0,i.Z)({},e.item),{},{index:n})}))})}}),!0===(null===en||void 0===en?void 0:en.visible)&&a.createElement("div",{style:{border:"1px dashed gray",marginTop:"10px",cursor:"pointer"},onClick:function(){var e,n,l,o=JSON.parse(null!==(e=null===en||void 0===en?void 0:en.value)&&void 0!==e?e:"{}");null!==o&&void 0!==o&&o.destination&&(le((0,D.wM)({pins:[{position:{lat:null===o||void 0===o||null===(n=o.destination)||void 0===n?void 0:n.lat,lng:null===o||void 0===o||null===(l=o.destination)||void 0===l?void 0:l.lng},type:"DestinationMarker"}]})),le((0,D.wM)({zoom:17})))}},a.createElement("p",null,"End"),a.createElement("p",{style:{fontSize:"12px"}},"".concat(null!==(c=null===(p=JSON.parse(null!==(h=null===en||void 0===en?void 0:en.value)&&void 0!==h?h:"{}"))||void 0===p||null===(m=p.destination)||void 0===m?void 0:m.address)&&void 0!==c?c:"Please set end")))):a.createElement("div",null,a.createElement("p",{style:{fontSize:"14px"}},"None found."),a.createElement("p",{style:{fontSize:"14px"}},"Add using filters below. Click Add to Route or Add All to Route to add pin/s. Set a starting and end point. When done press Generate Route. You can also set Optimize Route Order to No and drag pins manually.")),(null===te||void 0===te||null===(b=te.routes)||void 0===b||null===(E=b.DRIVE)||void 0===E?void 0:E.length)>0&&(null===ue||void 0===ue||null===(C=ue.items)||void 0===C?void 0:C.length)>0&&a.createElement("div",{style:{margin:"40px 0"}},a.createElement("p",{style:{fontSize:"12px"}},"Route Distance: ".concat(+(null===te||void 0===te||null===(Z=te.routes)||void 0===Z||null===(M=Z.DRIVE[0])||void 0===M?void 0:M.distanceMeters)/1e3," km")),a.createElement("p",{style:{fontSize:"12px"}},"No of Stopover: ".concat(ue.items.length," ")),a.createElement("p",{style:{fontSize:"12px"}},"Time per Stopover: ".concat(+(null===ln||void 0===ln?void 0:ln.value)/60," min")),a.createElement("p",{style:{fontSize:"12px"}},"Total Duration: ".concat(((+(null===te||void 0===te||null===(I=te.routes)||void 0===I||null===(P=I.DRIVE[0])||void 0===P||null===(A=P.duration)||void 0===A?void 0:A.replace("s",""))+ +(null===ln||void 0===ln?void 0:ln.value)*ue.items.length)/3600).toFixed(2)," hr"))),(null===ue||void 0===ue||null===(O=ue.items)||void 0===O?void 0:O.length)>1&&(null===en||void 0===en?void 0:en.value)&&a.createElement("div",null,!Oe&&a.createElement(x.pd,{id:"optimizeWaypointOrder?",title:"Optimize Route Order",ungrouped:!0,withAckButton:!1,value:Ue,style:{margin:"20px 0px 20px 0px",width:"auto"},toggleSelected:function(e){Fe(!!e)}}),a.createElement(x.zx,{title:"Generate Routes",style:{width:"100%",backgroundColor:"darkblue",textAlign:"left",marginTop:"50px"},clicked:(0,ce.Z)((0,se.Z)().mark((function e(){var n,l,t,d,a,u,r,v,s,c,p,m,f,_,h,g,b,x,E,C,w,Z,M,S;return(0,se.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===en||void 0===en||!en.value){e.next=9;break}return u={},r=JSON.parse(null!==(n=null===en||void 0===en?void 0:en.value)&&void 0!==n?n:"{}"),e.next=5,(0,he.s)({origin:{location:{latLng:{latitude:r.source.lat,longitude:r.source.lng}}},destination:{location:{latLng:{latitude:r.destination.lat,longitude:r.destination.lng}}},intermediates:null===ue||void 0===ue||null===(l=ue.items)||void 0===l?void 0:l.map((function(e){var n,l,o,i=JSON.parse(null!==(n=e.value)&&void 0!==n?n:"{}");return{location:{latLng:{latitude:null===i||void 0===i||null===(l=i.source)||void 0===l?void 0:l.lat,longitude:null===i||void 0===i||null===(o=i.source)||void 0===o?void 0:o.lng}}}})),computeAlternativeRoutes:"false",optimizeWaypointOrder:Ue?"true":"false",travelMode:ye.jk[0],routingPreference:"traffic_aware",extraComputations:["TRAFFIC_ON_POLYLINE"]},null===ie||void 0===ie||null===(t=ie.misc_info)||void 0===t?void 0:t.map);case 5:null!==(v=e.sent)&&void 0!==v&&null!==(d=v.routes)&&void 0!==d&&d.DRIVE&&null!==v&&void 0!==v&&null!==(s=v.routes)&&void 0!==s&&null!==(c=s.DRIVE[0])&&void 0!==c&&c.legs&&(null===v||void 0===v||(null===(p=v.routes)||void 0===p||delete p.DRIVE[0].legs)),u[ye.jk[0]]=[],(null===v||void 0===v||null===(a=v.routes)||void 0===a?void 0:a.length)>0&&(null!==(m=v.routes[0])&&void 0!==m&&m.optimizedIntermediateWaypointIndex&&re({action:y._U.setModuleItems,value:null===(M=v.routes[0])||void 0===M||null===(S=M.optimizedIntermediateWaypointIndex)||void 0===S?void 0:S.map((function(e,n){return(0,i.Z)((0,i.Z)({},ue.items[+e]),{},{index:n})}))}),u[ye.jk[0]]=[null===v||void 0===v?void 0:v.routes[0]],le((0,D.wM)({routes:u,pins:[{position:{lat:null===r||void 0===r||null===(f=r.source)||void 0===f?void 0:f.lat,lng:null===r||void 0===r||null===(_=r.source)||void 0===_?void 0:_.lng},type:"OriginMarker"},{position:{lat:null===r||void 0===r||null===(h=r.destination)||void 0===h?void 0:h.lat,lng:null===r||void 0===r||null===(g=r.destination)||void 0===g?void 0:g.lng},type:"DestinationMarker"}].concat(null===ue||void 0===ue||null===(b=ue.items)||void 0===b?void 0:b.map((function(e){var n,l,o,i=JSON.parse(null!==(n=e.value)&&void 0!==n?n:"{}");return{position:{lat:null===i||void 0===i||null===(l=i.source)||void 0===l?void 0:l.lat,lng:null===i||void 0===i||null===(o=i.source)||void 0===o?void 0:o.lng},type:"Pin"}})))})),dn(JSON.stringify((0,i.Z)((0,i.Z)({},te),{},{routes:(0,o.Z)({},ye.jk[0],[null===v||void 0===v?void 0:v.routes[0]]),pins:[{position:{lat:null===r||void 0===r||null===(x=r.source)||void 0===x?void 0:x.lat,lng:null===r||void 0===r||null===(E=r.source)||void 0===E?void 0:E.lng},type:"OriginMarker"},{position:{lat:null===r||void 0===r||null===(C=r.destination)||void 0===C?void 0:C.lat,lng:null===r||void 0===r||null===(w=r.destination)||void 0===w?void 0:w.lng},type:"DestinationMarker"}].concat(null===ue||void 0===ue||null===(Z=ue.items)||void 0===Z?void 0:Z.map((function(e){var n,l,o,i=JSON.parse(null!==(n=e.value)&&void 0!==n?n:"{}");return{position:{lat:null===i||void 0===i||null===(l=i.source)||void 0===l?void 0:l.lat,lng:null===i||void 0===i||null===(o=i.source)||void 0===o?void 0:o.lng},type:"Pin"}})))})),Ve.index));case 9:case"end":return e.stop()}}),e)})))})),(null===ue||void 0===ue||null===(L=ue.items)||void 0===L?void 0:L.length)>1&&!0===!(null!==en&&void 0!==en&&en.visible)&&a.createElement("div",null,a.createElement(x.zx,{title:"Save Map",loading:Oe,style:{width:"100%",backgroundColor:"darkblue",textAlign:"left",marginTop:"50px"},clicked:function(){var e;dn(JSON.stringify((0,i.Z)((0,i.Z)({},te),{},{pins:null===ue||void 0===ue||null===(e=ue.items)||void 0===e?void 0:e.map((function(e){var n,l,o,i=JSON.parse(null!==(n=e.value)&&void 0!==n?n:"{}");return{position:{lat:null===i||void 0===i||null===(l=i.source)||void 0===l?void 0:l.lat,lng:null===i||void 0===i||null===(o=i.source)||void 0===o?void 0:o.lng},type:"Pin"}}))})),Ve.index),Le(!0),setTimeout((function(){return Le(!1)}),1e3)}}))),a.createElement("div",{style:{width:g.tq?"100%":"80%"}},a.createElement("div",{style:{display:"flex",justifyContent:"right",padding:"20px 5px 10px 10px"}},a.createElement(S.G,{icon:Be?k.byT:k.tAh,onClick:function(){Ye(!Be),le((0,D.wM)({zoom:null}))},style:{cursor:"pointer"}})),a.createElement("div",{style:{height:"auto",width:"100%",pointerEvents:Be?"none":""}},ne))),a.createElement("div",{style:{display:"flex",flexDirection:g.tq?"column":"row",width:"100%",padding:"20px"}},a.createElement("div",{style:{width:"20%",padding:"20px 10px 0 10px"}},a.createElement("div",{style:{disabled:!0,width:"250px",display:"flex",flexDirection:"column",marginRight:"0px",mmarginTop:"".concat(280+60*(null!==(R=null===ue||void 0===ue||null===(U=ue.items)||void 0===U?void 0:U.length)&&void 0!==R?R:1),"px"),fontSize:"18px"}},"Filters:",(null===He||void 0===He||null===(F=He.options)||void 0===F||null===(q=F.filters)||void 0===q?void 0:q.length)>0&&a.createElement("div",{className:pe.dropdownContainer},a.createElement(x.rk,{items:Ge?me.Z(fe.Z("value"))(Ge.map((function(e){var n=e.component_fields.find((function(e){var n;return e.field_name===(null===He||void 0===He||null===(n=He.options)||void 0===n?void 0:n.filters[0])}));return{label:null===n||void 0===n?void 0:n.value,value:null===n||void 0===n?void 0:n.value,component:e}}))):[],onChange:function(e){var n,l,i,t;we([]),xe((0,o.Z)({},null===He||void 0===He||null===(n=He.options)||void 0===n?void 0:n.filters[0],e.value)),Xe([]),Pe(!1),ke(!1),setTimeout((function(){return ke(!0)}),10),Xe(null===Ge||void 0===Ge||null===(l=Ge.filter((function(e){return!ue.items.map((function(e){return e.item_code})).includes(e.title)&&e.component_fields.find((function(e){return"Pin"===e.data_type_name&&e.value}))})))||void 0===l?void 0:l.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0}))),re({action:y._U.setModuleNewStepComponents,value:null!==(i=null===(t=ue.currentStep)||void 0===t?void 0:t.component_blueprints)&&void 0!==i?i:[]})},placeholder:null===He||void 0===He||null===(W=He.options)||void 0===W?void 0:W.filters[0],moliclassname:pe.componentsSelectMenuOverlayListItem,className:pe.currencyInput,tmiClassName:pe.tmiClassName})),a.createElement("div",{style:{height:"10px"}}),(null===He||void 0===He||null===(B=He.options)||void 0===B||null===(Y=B.filters)||void 0===Y?void 0:Y.length)>1&&!g.tq&&Se&&a.createElement("div",{className:pe.dropdownContainer},a.createElement(x.rk,{items:be[null===He||void 0===He||null===(H=He.options)||void 0===H?void 0:H.filters[0]]?me.Z(fe.Z("value"))(Ge.map((function(e){var n=e.component_fields.find((function(e){var n;return e.field_name===(null===He||void 0===He||null===(n=He.options)||void 0===n?void 0:n.filters[1])}));return{label:null===n||void 0===n?void 0:n.value,value:null===n||void 0===n?void 0:n.value,component:e}})).filter((function(e){return e.component.component_fields.filter((function(e){var n,l;return e.value===be[null===He||void 0===He||null===(n=He.options)||void 0===n?void 0:n.filters[0]]&&e.field_name===(null===He||void 0===He||null===(l=He.options)||void 0===l?void 0:l.filters[0])})).length>0}))):[],onChange:function(e){var n,l,t,d;Pe(!1),setTimeout((function(){return Pe(!0)}),10),re({action:y._U.setModuleNewStepComponents,value:null!==(n=null===(l=ue.currentStep)||void 0===l?void 0:l.component_blueprints)&&void 0!==n?n:[]}),xe((0,i.Z)((0,i.Z)({},be),{},(0,o.Z)({},null===He||void 0===He||null===(t=He.options)||void 0===t?void 0:t.filters[1],e.value))),Xe(null===Ge||void 0===Ge||null===(d=Ge.filter((function(e){return!ue.items.map((function(e){return e.item_code})).includes(e.title)&&e.component_fields.find((function(e){return"Pin"===e.data_type_name&&e.value}))})))||void 0===d?void 0:d.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0})).filter((function(e){var n;return(null===(n=e.component_fields.filter((function(e){var n;return e.value===be[null===He||void 0===He||null===(n=He.options)||void 0===n?void 0:n.filters[0]]})))||void 0===n?void 0:n.length)>0})))},placeholder:null===He||void 0===He||null===(V=He.options)||void 0===V?void 0:V.filters[1],style:{fontSize:"16px"},moliclassname:pe.componentsSelectMenuOverlayListItem,tmiClassName:pe.tmiClassName})),a.createElement("div",{style:{height:"10px"}}),(null===He||void 0===He||null===(G=He.options)||void 0===G||null===(J=G.filters)||void 0===J?void 0:J.length)>2&&!g.tq&&Te&&a.createElement("div",{className:pe.dropdownContainer},a.createElement(x.rk,{items:be[null===He||void 0===He||null===(K=He.options)||void 0===K?void 0:K.filters[1]]?me.Z(fe.Z("value"))(Qe.map((function(e){var n=e.component_fields.find((function(e){var n;return e.field_name===(null===He||void 0===He||null===(n=He.options)||void 0===n?void 0:n.filters[2])}));return{label:null===n||void 0===n?void 0:n.value,value:null===n||void 0===n?void 0:n.value,component:e}})).filter((function(e){return e.component.component_fields.filter((function(e){var n,l;return e.value===be[null===He||void 0===He||null===(n=He.options)||void 0===n?void 0:n.filters[1]]&&e.field_name===(null===He||void 0===He||null===(l=He.options)||void 0===l?void 0:l.filters[1])})).length>0}))):[],onChange:function(e){var n,l,t,d;re({action:y._U.setModuleNewStepComponents,value:null!==(n=null===(l=ue.currentStep)||void 0===l?void 0:l.component_blueprints)&&void 0!==n?n:[]}),xe((0,i.Z)((0,i.Z)({},be),{},(0,o.Z)({},null===He||void 0===He||null===(t=He.options)||void 0===t?void 0:t.filters[1],e.value))),Xe(null===Ge||void 0===Ge||null===(d=Ge.filter((function(e){return!ue.items.map((function(e){return e.item_code})).includes(e.title)&&e.component_fields.find((function(e){return"Pin"===e.data_type_name&&e.value}))})))||void 0===d?void 0:d.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0})).filter((function(e){var n;return(null===(n=e.component_fields.filter((function(e){var n;return e.value===be[null===He||void 0===He||null===(n=He.options)||void 0===n?void 0:n.filters[0]]})))||void 0===n?void 0:n.length)>0})))},placeholder:null===He||void 0===He||null===(Q=He.options)||void 0===Q?void 0:Q.filters[2],style:{fontSize:"16px"},moliclassname:pe.componentsSelectMenuOverlayListItem,tmiClassName:pe.tmiClassName})))),a.createElement("div",{style:{width:g.tq?"100%":"80%"}},a.createElement(w.default,{className:pe.itemsTable,modern:!!g.tq,columns:["Name","Address","Action"],list:null===Qe||void 0===Qe?void 0:Qe.map((function(e){var n,l,o=null===(n=e.component_fields.find((function(e){return"Pin"===e.data_type_name})))||void 0===n?void 0:n.value,i=JSON.parse(null!==o&&void 0!==o?o:"{}");return{id:e.id,location:null===i||void 0===i?void 0:i.source,Name:a.createElement("div",{style:{textAlign:"left",padding:"10px",cursor:"pointer"}},e.title),Action:a.createElement(x.zx,{title:!0===(null===en||void 0===en?void 0:en.visible)?"Add to Route":"Add to Map",clicked:function(){var n,l,t={id:(0,_.mR)(),item_code:e.title,value:o,alt_value:"{}",quantity:"{}",total:"{}",isOpen:!0};re({action:y._U.addModuleItems,value:t}),Xe(Qe.filter((function(n){return n.id!==e.id}))),le((0,D.wM)({pins:[{position:{lat:null===i||void 0===i||null===(n=i.source)||void 0===n?void 0:n.lat,lng:null===i||void 0===i||null===(l=i.source)||void 0===l?void 0:l.lng}}]}))},titleStyle:{fontSize:"12px"},style:{height:"30px",width:"140px"}}),Address:a.createElement("div",{style:{textAlign:"left",padding:"10px"}},null===(l=i.source)||void 0===l?void 0:l.address)}})),onListItemClick:function(e){var n,l;le((0,D.wM)({pins:[{position:{lat:null===(n=e.location)||void 0===n?void 0:n.lat,lng:null===(l=e.location)||void 0===l?void 0:l.lng},type:"Pin"}]}))}}),Qe.length>1&&a.createElement("div",{style:{display:"flex",justifyContent:"right",padding:"20px 5px 0 10px"}},a.createElement(x.zx,{title:!0===(null===en||void 0===en?void 0:en.visible)?"Add All to Route":"Add All to Map",style:{height:"30px",width:"140px",backgroundColor:"darkgreen"},titleStyle:{fontSize:"12px"},clicked:function(){var e=Qe.map((function(e){var n,l=null===(n=e.component_fields.find((function(e){return"Pin"===e.data_type_name})))||void 0===n?void 0:n.value;return{id:(0,_.mR)(),item_code:e.title,value:l,alt_value:"{}",quantity:"{}",total:"{}"}}));le((0,D.wM)({pins:null===e||void 0===e?void 0:e.map((function(e){var n,l,o,i=JSON.parse(null!==(n=e.value)&&void 0!==n?n:"{}");return{position:{lat:null===i||void 0===i||null===(l=i.source)||void 0===l?void 0:l.lat,lng:null===i||void 0===i||null===(o=i.source)||void 0===o?void 0:o.lng},type:"Pin"}}))})),re({action:y._U.setModuleItems,value:[].concat((0,t.Z)(ue.items),(0,t.Z)(e))}),Xe([])}})))))}))),be=l(67598),xe=l(67861),Ee=function(e){var n,l,a,u,r,v,s,c,p,m,f,h,b,E,w,Z,S,k,I,N,T,P,D,A,O,L=(0,y.pQ)(),z=(0,d.Z)(L,2),R=z[0],U=z[1],F=e.user,q=e.favorites,W=e.creating,B=e.items,Y=e.templateName,H=e.field,j=e.showSecond,V=e.listItems,G=e.orderItems,J=e.setShowSecond,K=e.components,X=e.template,$=e.component,ee=e.showFavorites,ne=e.companyData,le=e.setShowFavorites,oe=e.setListItems,ie=e.setOrderItems,te=e.setSelectedItems,ae=e.selectedItems,ue=null!==(n=null===X||void 0===X||null===(l=X.config.find((function(e){return"quantity"===e.key})))||void 0===l?void 0:l.label)&&void 0!==n?n:"Quantity",re=null!==(a=null===X||void 0===X||null===(u=X.config.find((function(e){return"alt_value"===e.key})))||void 0===u?void 0:u.label)&&void 0!==a?a:"Actual",ve=null!==(r=null===X||void 0===X||null===(v=X.config.find((function(e){return"item_code"===e.key})))||void 0===v?void 0:v.label)&&void 0!==r?r:"Product ID",se=null!==(s=null===X||void 0===X?void 0:X.list)&&void 0!==s?s:[],ce=function(e){var n,l=[];e.filter((function(e){var n=null===B||void 0===B?void 0:B.find((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.component_id})))||void 0===l?void 0:l.length)>0}));n&&(l=[].concat((0,t.Z)(l),[n]))})),oe(l),ie(null===(n=l)||void 0===n?void 0:n.map((function(e){var n={};return $.selected_fields.filter((function(l){var t,d;"Text"!==l.data_type_name&&"Number"!==l.data_type_name||(n=(0,i.Z)((0,i.Z)({},n),{},(0,o.Z)({},l.field_name,null!==(t=null===(d=e.component_fields.find((function(e){return e.field_name===l.field_name})))||void 0===d?void 0:d.value)&&void 0!==t?t:0)))})),n})))},pe=function(e,n,l){var o,i=e.component_fields.find((function(e){var n;return e.field_name===(null===$||void 0===$||null===(n=$.options)||void 0===n?void 0:n.key)})),t=null===R||void 0===R||null===(o=R.items)||void 0===o?void 0:o.find((function(e){return e.item_code===i.value}));if(void 0===t){var d,a,u,r={alt_value:null!==(d=G[n][re])&&void 0!==d?d:0,quantity:null!==(a=G[n][ue])&&void 0!==a?a:0,item_code:i.value,id:(0,_.mR)(),value:null!==(u=parseFloat(l*+G[n][ue]).toFixed(2))&&void 0!==u?u:0};U({action:y._U.addModuleItems,value:r})}else{var v;if(0==+G[n][ue])U({action:y._U.removeModuleItems,value:t});else t.quantity=G[n][ue],t.alt_value=G[n][re],t.value=null!==(v=parseFloat(l*+G[n][ue]).toFixed(2))&&void 0!==v?v:0,U({action:y._U.updateModuleItems,value:t})}};return xe.createElement("div",{style:{width:"100%",justifyContent:"center"}},xe.createElement("div",null,xe.createElement("div",{style:{display:"flex",flexDirection:"row",marginTop:"50px",width:"100%"}},xe.createElement("div",{style:{disabled:!0,width:"250px",display:g.tq?"none":"flex",flexDirection:"column",marginRight:"20px",marginTop:"".concat(280+60*(null!==(c=null===R||void 0===R||null===(p=R.items)||void 0===p?void 0:p.length)&&void 0!==c?c:1),"px"),fontSize:"18px"}},"Filters:",(null===H||void 0===H||null===(m=H.options)||void 0===m||null===(f=m.filters)||void 0===f?void 0:f.length)>0&&xe.createElement("div",{className:be.Z.dropdownContainer},xe.createElement(x.rk,{items:B?me.Z(fe.Z("value"))(B.map((function(e){var n=e.component_fields.find((function(e){var n;return e.field_name===(null===H||void 0===H||null===(n=H.options)||void 0===n?void 0:n.filters[0])}));return{label:null===n||void 0===n?void 0:n.value,value:null===n||void 0===n?void 0:n.value,component:e}}))):[],onChange:function(e){var n,l,t;le(!1),ie([]),te((0,o.Z)({},null===H||void 0===H||null===(n=H.options)||void 0===n?void 0:n.filters[0],e.value)),oe([]),J(!1),setTimeout((function(){return J(!0)}),10),oe(null===B||void 0===B?void 0:B.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0}))),U({action:y._U.setModuleNewStepComponents,value:null!==(l=null===(t=R.currentStep)||void 0===t?void 0:t.component_blueprints)&&void 0!==l?l:[]}),ie(null===B||void 0===B?void 0:B.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0})).map((function(e){var n={};return $.selected_fields.filter((function(l){var t,d;"Text"!==l.data_type_name&&"Number"!==l.data_type_name||(n=(0,i.Z)((0,i.Z)({},n),{},(0,o.Z)({},l.field_name,null!==(t=null===(d=e.component_fields.find((function(e){return e.field_name===l.field_name})))||void 0===d?void 0:d.value)&&void 0!==t?t:0)))})),n})))},placeholder:null===H||void 0===H||null===(h=H.options)||void 0===h?void 0:h.filters[0],moliclassname:be.Z.componentsSelectMenuOverlayListItem,className:be.Z.currencyInput})),xe.createElement("div",{style:{height:"10px"}}),(null===H||void 0===H||null===(b=H.options)||void 0===b||null===(E=b.filters)||void 0===E?void 0:E.length)>1&&!g.tq&&j&&xe.createElement("div",{className:be.Z.dropdownContainer},xe.createElement(x.rk,{items:ae[null===H||void 0===H||null===(w=H.options)||void 0===w?void 0:w.filters[0]]?me.Z(fe.Z("value"))(B.map((function(e){var n=e.component_fields.find((function(e){var n;return e.field_name===(null===H||void 0===H||null===(n=H.options)||void 0===n?void 0:n.filters[1])}));return{label:null===n||void 0===n?void 0:n.value,value:null===n||void 0===n?void 0:n.value,component:e}})).filter((function(e){return e.component.component_fields.filter((function(e){var n,l;return e.value===ae[null===H||void 0===H||null===(n=H.options)||void 0===n?void 0:n.filters[0]]&&e.field_name===(null===H||void 0===H||null===(l=H.options)||void 0===l?void 0:l.filters[0])})).length>0}))):[],onChange:function(e){var n,l,t;le(!1),U({action:y._U.setModuleNewStepComponents,value:null!==(n=null===(l=R.currentStep)||void 0===l?void 0:l.component_blueprints)&&void 0!==n?n:[]}),te((0,i.Z)((0,i.Z)({},ae),{},(0,o.Z)({},null===H||void 0===H||null===(t=H.options)||void 0===t?void 0:t.filters[1],e.value))),ie(null===B||void 0===B?void 0:B.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0})).filter((function(e){var n;return(null===(n=e.component_fields.filter((function(e){var n;return e.value===ae[null===H||void 0===H||null===(n=H.options)||void 0===n?void 0:n.filters[0]]})))||void 0===n?void 0:n.length)>0})).map((function(e){var n={};return $.selected_fields.filter((function(l){var t,d;"Text"!==l.data_type_name&&"Number"!==l.data_type_name||(n=(0,i.Z)((0,i.Z)({},n),{},(0,o.Z)({},l.field_name,null!==(t=null===(d=e.component_fields.find((function(e){return e.field_name===l.field_name})))||void 0===d?void 0:d.value)&&void 0!==t?t:0)))})),n}))),oe(null===B||void 0===B?void 0:B.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0})).filter((function(e){var n;return(null===(n=e.component_fields.filter((function(e){var n;return e.value===ae[null===H||void 0===H||null===(n=H.options)||void 0===n?void 0:n.filters[0]]})))||void 0===n?void 0:n.length)>0})))},placeholder:null===H||void 0===H||null===(Z=H.options)||void 0===Z?void 0:Z.filters[1],style:{fontSize:"16px"},moliclassname:be.Z.componentsSelectMenuOverlayListItem}))),xe.createElement("div",{style:{display:"flex",flexDirection:"column",width:g.tq?"100%":"80%"}},"Orders",xe.createElement(de.Z,{className:be.Z.mobileTable,style:{width:"100%"},highlights:"var(--app-color-gray-lighter)",columns:g.tq?null===ne||void 0===ne||null===(S=ne.misc_info)||void 0===S||null===(k=S.templatesData.find((function(e){return e.name===Y})).config)||void 0===k?void 0:k.filter((function(e){return"Text"===e.value||"Number"===e.value||"Connector"===e.value})).map((function(e){return e.label})).slice(0,2):null===ne||void 0===ne||null===(I=ne.misc_info)||void 0===I||null===(N=I.templatesData.find((function(e){return e.name===Y})).config)||void 0===N?void 0:N.filter((function(e){return"Text"===e.value||"Number"===e.value||"Connector"===e.value})).map((function(e){return e.label})),footer:g.tq?["Totals","".concat(Q.Z((function(e,n){var l;return null!==(l=+e+ +n.quantity)&&void 0!==l?l:0}),0,null!==(T=null===R||void 0===R?void 0:R.items)&&void 0!==T?T:[]))]:["Totals:","".concat(Q.Z((function(e,n){var l;return null!==(l=+e+ +n.quantity)&&void 0!==l?l:0}),0,null!==(P=null===R||void 0===R?void 0:R.items)&&void 0!==P?P:[])),"".concat(Q.Z((function(e,n){var l;return+e+(isNaN(+n.alt_value)?0:null!==(l=+n.alt_value)&&void 0!==l?l:0)}),0,null!==(D=null===R||void 0===R?void 0:R.items)&&void 0!==D?D:[]))],list:null===R||void 0===R||null===(A=R.items)||void 0===A?void 0:A.map((function(e){var n,l,i,t=e.item_code,d=null!==(n=e.quantity)&&void 0!==n?n:0,a=null!==(l=e.alt_value)&&void 0!==l?l:0;return i={List:xe.createElement("div",{className:be.Z.templateInformation,style:{display:"flex",flex:"1"}},xe.createElement("div",{style:{width:"40%"}},t),xe.createElement("div",{style:{width:"20%"}},d))},(0,o.Z)(i,null===$||void 0===$?void 0:$.options.key,xe.createElement("div",{className:be.Z.templateInformation},xe.createElement("span",null,t))),(0,o.Z)(i,"Quantity",xe.createElement("div",{className:be.Z.templateInformation},xe.createElement("span",null,d))),(0,o.Z)(i,"Actual",xe.createElement("div",{className:be.Z.templateInformation},xe.createElement("span",null,a))),(0,o.Z)(i,"id",e.id),(0,o.Z)(i,"code",t),i})),onListItemClick:function(e){ie(null===B||void 0===B?void 0:B.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.code})))||void 0===l?void 0:l.length)>0})).map((function(e){var n,l={};$.selected_fields.filter((function(n){var t,d;"Text"!==n.data_type_name&&"Number"!==n.data_type_name||(l=(0,i.Z)((0,i.Z)({},l),{},(0,o.Z)({},n.field_name,null!==(t=null===(d=e.component_fields.find((function(e){return e.field_name===n.field_name})))||void 0===d?void 0:d.value)&&void 0!==t?t:0)))}));var t=null===R||void 0===R||null===(n=R.items)||void 0===n?void 0:n.find((function(e){return e.item_code===l[ve]}));return l[re]=t.alt_value,l[ue]=t.quantity,l}))),oe(null===K||void 0===K?void 0:K.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.code})))||void 0===l?void 0:l.length)>0})))}}),xe.createElement("br",null),xe.createElement("div",{className:be.Z.searchContainer,style:{display:ee?"none":""}},xe.createElement(M.O,null),xe.createElement("input",{placeholder:"Search",className:be.Z.searchInput,onChange:function(e){var n,l,t;(null===(n=e.target.value)||void 0===n?void 0:n.length)>1?(ie(null===(t=K.filter((function(e){return e.component_fields.filter((function(e){return e.component_blueprint_id===H.options.component_id})).length>0})))||void 0===t?void 0:t.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value.includes(e.target.value)})))||void 0===l?void 0:l.length)>0})).map((function(e){var n={};return $.selected_fields.filter((function(l){var t,d;"Text"!==l.data_type_name&&"Number"!==l.data_type_name||(n=(0,i.Z)((0,i.Z)({},n),{},(0,o.Z)({},l.field_name,null!==(t=null===(d=e.component_fields.find((function(e){return e.field_name===l.field_name})))||void 0===d?void 0:d.value)&&void 0!==t?t:0)))})),n}))),oe(null===B||void 0===B?void 0:B.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value.includes(e.target.value)})))||void 0===l?void 0:l.length)>0})))):0==(null===(l=e.target.value)||void 0===l?void 0:l.length)&&(ie([]),oe([]))}})),xe.createElement(de.Z,{className:be.Z.mobileTable,style:{width:"100%"},columns:g.tq?[null!==(O=null===$||void 0===$?void 0:$.name)&&void 0!==O?O:"Item"]:(0,t.Z)(se),list:V.map((function(e,n){var l,o,i,d,a,u,r,v,s,c="".concat(null===(l=e.component_fields.find((function(e){return"Name"===e.field_name})))||void 0===l?void 0:l.value),p="".concat(null===(o=e.component_fields.find((function(e){return"Range"===e.field_name})))||void 0===o?void 0:o.value),m="".concat(null===(i=e.component_fields.find((function(e){return"Application"===e.field_name})))||void 0===i?void 0:i.value),f=null===(d=e.component_fields.find((function(e){return"Link"===e.data_type_name&&"Picture"!==e.field_name})))||void 0===d?void 0:d.value,_=null===(a=e.component_fields.find((function(e){return"Link"===e.data_type_name&&"Picture"===e.field_name})))||void 0===a?void 0:a.value,y=null===ne||void 0===ne||null===(u=ne.misc_info)||void 0===u?void 0:u.templatesData.find((function(e){return"Battery Order Template"===e.name})).config.find((function(e){return e.label===(null===$||void 0===$?void 0:$.options.key)})),h=null===R||void 0===R||null===(r=R.items)||void 0===r?void 0:r.find((function(e){return e[y.key]===G[n][null===$||void 0===$?void 0:$.options.key]})),g=h?+h.quantity:0,b=h?+h.alt_value:0,E={};return se.filter((function(n){var l,o;E[n]=xe.createElement("div",{className:be.Z.templateInformation},"".concat(null!==(l=null===(o=e.component_fields.find((function(e){return e.field_name===n})))||void 0===o?void 0:o.value)&&void 0!==l?l:""))})),E[null!==(v=null===$||void 0===$?void 0:$.name)&&void 0!==v?v:"Item"]=xe.createElement("div",null,xe.createElement("div",{style:{display:"flex"}},xe.createElement("div",{style:{display:"",width:"70%"}},xe.createElement("div",{className:be.Z.templateInformation},c)),xe.createElement("input",{autoComplete:"off",className:be.Z.templateInput,style:{border:"1px solid var(--app-color-gray-light)",width:"30%",height:"30px"},placeholder:g,onChange:function(e){+e.target.value>-1&&(G[n][ue]=+e.target.value)},onBlur:function(){ie((0,t.Z)(G)),pe(e,n,0)}}))),E.Quantity=W?xe.createElement("div",{className:be.Z.templateAddBox},xe.createElement(x.zx,{clear:!0,className:be.Z.templatePlus,clicked:function(){g>0&&(G[n][ue]=g-1,G[n][re]=b-1,ie((0,t.Z)(G)),pe(e,n,0))}},"-"),xe.createElement("input",{autoComplete:"off",className:be.Z.templateInput,placeholder:h?h.quantity:0,onChange:function(e){+e.target.value>-1&&(G[n][ue]=+e.target.value,G[n][re]=+e.target.value)},onBlur:function(){ie((0,t.Z)(G)),pe(e,n,0)}}),xe.createElement(x.zx,{clear:!0,className:be.Z.templatePlus,clicked:function(){G[n][ue]=g+1,G[n][re]=b+1,ie((0,t.Z)(G)),pe(e,n,0)}},"+")):xe.createElement("div",{className:be.Z.templateInput},h?h.quantity:0),E.Action=xe.createElement(x.zx,{title:(null===(s=q.filter((function(e){return e.component_id===c})))||void 0===s?void 0:s.length)>0?"Remove from Favorites":"Add to Favorites",clicked:function(){var e;(null===(e=q.filter((function(e){return e.component_id===c})))||void 0===e?void 0:e.length)>0?(0,C.Ni)(q.find((function(e){return e.component_id===c})).id).subscribe({next:function(){ce(q.filter((function(e){return e.component_id!==c})))}}):(0,C.Ic)(F.id,c,"components").subscribe({})},titleStyle:{fontSize:"12px"},style:{width:"200px",height:"30px"}}),E.Info=xe.createElement("img",{alt:"lg",src:_,className:be.Z.templatePicture,onClick:function(){return window.open(f,"_blank")}}),E.Name=xe.createElement("div",{className:be.Z.templateInformation},c),E.Application=xe.createElement("div",{className:be.Z.templateInformation},m),E.Range=xe.createElement("div",{className:be.Z.templateInformation},p),E.Actual=xe.createElement("div",{className:be.Z.templateAddBox,style:{padding:"0 10px 0 10px",border:W?"0":"1px solid var(--app-color-gray-lighter)"}},xe.createElement("input",{disabled:W,autoComplete:"off",className:be.Z.templateInput,placeholder:b,onChange:function(e){+e.target.value>-1&&(G[n][re]=+e.target.value,G[n][ue]=g)},onBlur:function(){ie((0,t.Z)(G)),pe(e,n,0)}})),E}))}),0===(null===V||void 0===V?void 0:V.length)&&xe.createElement("p",{style:{fontSize:g.tq?"16px":""}},"Please select an item"),xe.createElement(x.zx,{light:!0,title:ee?"Hide Favorites":"Show Favorites",clicked:function(){le(!ee),!1===ee?ce(q):(ie([]),oe([]))},style:{width:"180px",display:g.tq?"none":""}}))),g.tq&&xe.createElement("div",{className:be.Z.dropdownContainer},xe.createElement(x.rk,{items:me.Z(fe.Z("value"))(B.map((function(e){var n=e.component_fields.find((function(e){var n;return e.field_name===(null===H||void 0===H||null===(n=H.options)||void 0===n?void 0:n.filters[0])}));return{label:null===n||void 0===n?void 0:n.value,value:null===n||void 0===n?void 0:n.value,component:e}}))),onChange:function(e){var n,l,t;le(!1),ie([]),te((0,o.Z)({},null===H||void 0===H||null===(n=H.options)||void 0===n?void 0:n.filters[0],e.value)),oe([]),J(!1),setTimeout((function(){return J(!0)}),10),oe(null===B||void 0===B?void 0:B.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0}))),U({action:y._U.setModuleNewStepComponents,value:null!==(l=null===(t=R.currentStep)||void 0===t?void 0:t.component_blueprints)&&void 0!==l?l:[]}),ie(null===B||void 0===B?void 0:B.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0})).map((function(e){var n={};return $.selected_fields.filter((function(l){var t,d;"Text"!==l.data_type_name&&"Number"!==l.data_type_name||(n=(0,i.Z)((0,i.Z)({},n),{},(0,o.Z)({},l.field_name,null!==(t=null===(d=e.component_fields.find((function(e){return e.field_name===l.field_name})))||void 0===d?void 0:d.value)&&void 0!==t?t:0)))})),n})))},style:{fontSize:"16px"},moliclassname:be.Z.componentsSelectMenuOverlayListItem})),xe.createElement("br",null)))},Ce=function(e){var n,l,a,u,r,v,s,c,p,m,f,h,b,E,C,w,Z,S,k,I,N,T,P,D=(0,y.pQ)(),A=(0,d.Z)(D,2),O=A[0],L=A[1],z=e.creating,R=e.showSecond,U=e.listItems,F=e.orderItems,q=e.setShowSecond,W=e.components,B=e.template,Y=e.component,H=e.showFavorites,j=e.begunModule,V=e.setShowFavorites,G=e.setListItems,J=e.setOrderItems,K=e.setSelectedItems,X=e.selectedItems,$=Y.selected_fields.find((function(e){return"Record"===e.data_type_name})),ee=W.filter((function(e){var n;return(null===(n=e.component_fields.filter((function(e){var n;return e.component_blueprint_id===(null===$||void 0===$||null===(n=$.options)||void 0===n?void 0:n.component_id)})))||void 0===n?void 0:n.length)>0})),ne=function(e,n,l,d,a,u){var r;if("Number"===n)return z?xe.createElement("input",{autoComplete:"off",type:"number",className:be.Z.templateIIInput,style:{border:"1px solid var(--app-color-gray-light)",width:"50%",height:"30px"},placeholder:null!==e&&void 0!==e?e:"0",onChange:function(e){+e.target.value>-1&&(F[l][a]=+e.target.value,F[l][u]=+e.target.value)},onBlur:function(){J((0,t.Z)(F)),function(e,n,l){var t,d,a,u,r=e.component_fields.find((function(e){var n;return e.field_name===(null===B||void 0===B||null===(n=B.key)||void 0===n?void 0:n.label)})),v=null===O||void 0===O||null===(t=O.items)||void 0===t?void 0:t.find((function(e){var n;return e[null===B||void 0===B||null===(n=B.key)||void 0===n?void 0:n.key]===r.value}));if(void 0===v){if(void 0==+(null===(d=F[n])||void 0===d?void 0:d.quantity)||+(null===(a=F[n])||void 0===a?void 0:a.quantity)>0){var s={};null===B||void 0===B||B.slist.filter((function(e){var l,t,d;s=(0,i.Z)((0,i.Z)({},s),{},(d={},(0,o.Z)(d,e.key,null!==(l=F[n][e.key])&&void 0!==l?l:""),(0,o.Z)(d,"id",(0,_.mR)()),(0,o.Z)(d,"options",null!==(t=null===e||void 0===e?void 0:e.options)&&void 0!==t?t:{}),d))})),L({action:y._U.addModuleItems,value:s})}}else 0==+(null===(u=F[n])||void 0===u?void 0:u.quantity)?L({action:y._U.removeModuleItems,value:v}):(null===B||void 0===B||B.slist.filter((function(e){v[e.key]=F[n][e.key]})),L({action:y._U.updateModuleItems,value:v}))}(d,l)}}):xe.createElement("div",{className:be.Z.templateInput},null!==(r=e.value)&&void 0!==r?r:"0");if("Action"===n)return xe.createElement("div",null);if("Link"===n){var v="".concat(e);return null!==v&&void 0!==v&&v.includes(".jpg")||null!==v&&void 0!==v&&v.includes(".png")||null!==v&&void 0!==v&&v.includes(".jpeg")?xe.createElement("img",{alt:"lg",src:v,className:be.Z.templateIIPicture}):xe.createElement("p",{className:be.Z.templateURL,onClick:function(){return window.open(v,"_blank")}},"View")}return"Info"===n||"Text"===n?xe.createElement("div",{className:be.Z.templateInformation,style:{textAlign:"center"}},null!==e&&void 0!==e?e:""):xe.createElement("div",null,null!==e&&void 0!==e?e:"")};return xe.createElement("div",{style:{width:"100%",justifyContent:"center"}},xe.createElement("div",{style:{margin:"auto",width:"inherit"}},xe.createElement("div",{style:{width:"inherit"}},xe.createElement("p",null,null!==(n=null===B||void 0===B||null===(l=B.config)||void 0===l||null===(a=l.find((function(e){return"tlist"===e.key})))||void 0===a?void 0:a.label)&&void 0!==n?n:"ORDERS:"),xe.createElement(de.Z,{className:be.Z.itemsTable_ii,style:{width:(null===B||void 0===B||null===(u=B.tlist)||void 0===u?void 0:u.length)>4?"100%":"70%"},highlights:"var(--app-color-gray-lighter)",columns:g.tq?null===B||void 0===B?void 0:B.tlist.filter((function(e){var n;return"Number"===e.value||e.key===(null===B||void 0===B||null===(n=B.key)||void 0===n?void 0:n.key)||"Info"===e.value||"Text"===e.value})).map((function(e){return e.label})):null===B||void 0===B||null===(r=B.tlist)||void 0===r?void 0:r.map((function(e){return e.label})),footer:["Items ".concat(null===O||void 0===O||null===(v=O.items)||void 0===v?void 0:v.length),"".concat(Q.Z((function(e,n){var l;return null!==(l=+e+ +n.quantity)&&void 0!==l?l:0}),0,null!==(s=null===O||void 0===O?void 0:O.items)&&void 0!==s?s:[]))],list:null===O||void 0===O||null===(c=O.items)||void 0===c?void 0:c.map((function(e){var n={id:e.id};return null===B||void 0===B||B.tlist.filter((function(l){n=(0,i.Z)((0,i.Z)({},n),{},(0,o.Z)({},l.label,e[l.key]))})),n})),onListItemClick:function(e){J(null===ee||void 0===ee?void 0:ee.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){var l;return n.value===e[null===B||void 0===B||null===(l=B.key)||void 0===l?void 0:l.label]})))||void 0===l?void 0:l.length)>0})).map((function(e){var n={};return null===B||void 0===B||B.slist.filter((function(l){var t,d,a,u,r;n=(0,i.Z)((0,i.Z)({},n),{},(r={},(0,o.Z)(r,l.label,null!==(t=null===(d=e.component_fields.find((function(e){return e.field_name===l.label})))||void 0===d?void 0:d.value)&&void 0!==t?t:0),(0,o.Z)(r,l.key,null!==(a=null===(u=e.component_fields.find((function(e){return e.field_name===l.label})))||void 0===u?void 0:u.value)&&void 0!==a?a:0),r))})),n}))),G(null===ee||void 0===ee?void 0:ee.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){var l;return n.value===e[null===B||void 0===B||null===(l=B.key)||void 0===l?void 0:l.label]})))||void 0===l?void 0:l.length)>0})))}}),xe.createElement("br",null),xe.createElement("div",{style:{width:"100%",display:g.tq?"":H?"none":"flex",flexDirection:"row",justifyContent:"center",fontSize:"18px"}},(null===$||void 0===$||null===(p=$.options)||void 0===p||null===(m=p.filters)||void 0===m?void 0:m.length)>0&&xe.createElement("div",{className:be.Z.dropdownContainer,style:{border:"1px solid var(--app-color-gray-dark)",width:g.tq?"100%":"25%"}},xe.createElement(x.rk,{items:ee?me.Z(fe.Z("value"))(ee.map((function(e){var n=e.component_fields.find((function(e){var n;return e.field_name===(null===$||void 0===$||null===(n=$.options)||void 0===n?void 0:n.filters[0])}));return{label:null===n||void 0===n?void 0:n.value,value:null===n||void 0===n?void 0:n.value,component:e}}))):[],onChange:function(e){var n,l,t;V(!1),J([]),K((0,o.Z)({},null===$||void 0===$||null===(n=$.options)||void 0===n?void 0:n.filters[0],e.value)),G([]),q(!1),setTimeout((function(){return q(!0)}),10),G(null===ee||void 0===ee?void 0:ee.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0}))),L({action:y._U.setModuleNewStepComponents,value:null!==(l=null===(t=O.currentStep)||void 0===t?void 0:t.component_blueprints)&&void 0!==l?l:[]}),J(null===ee||void 0===ee?void 0:ee.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0})).map((function(e){var n={};return null===B||void 0===B||B.slist.filter((function(l){var t,d,a,u=null!==(t=null===(d=e.component_fields.find((function(e){return e.field_name===l.label})))||void 0===d?void 0:d.value)&&void 0!==t?t:"";n=(0,i.Z)((0,i.Z)({},n),{},(a={},(0,o.Z)(a,l.label,u),(0,o.Z)(a,l.key,u),a))})),n})))},placeholder:null===$||void 0===$||null===(f=$.options)||void 0===f?void 0:f.filters[0],moliclassname:be.Z.componentsSelectMenuOverlayListItem,style:{fontSize:"16px"},className:be.Z.currencyInput})),(null===$||void 0===$||null===(h=$.options)||void 0===h||null===(b=h.filters)||void 0===b?void 0:b.length)>1&&!g.tq&&R&&xe.createElement("div",{className:be.Z.dropdownContainer,style:{marginLeft:"10px",border:"1px solid var(--app-color-gray-dark)",width:"25%"}},xe.createElement(x.rk,{items:X[null===$||void 0===$||null===(E=$.options)||void 0===E?void 0:E.filters[0]]?me.Z(fe.Z("value"))(ee.map((function(e){var n=e.component_fields.find((function(e){var n;return e.field_name===(null===$||void 0===$||null===(n=$.options)||void 0===n?void 0:n.filters[1])}));return{label:null===n||void 0===n?void 0:n.value,value:null===n||void 0===n?void 0:n.value,component:e}})).filter((function(e){return e.component.component_fields.filter((function(e){var n,l;return e.value===X[null===$||void 0===$||null===(n=$.options)||void 0===n?void 0:n.filters[0]]&&e.field_name===(null===$||void 0===$||null===(l=$.options)||void 0===l?void 0:l.filters[0])})).length>0}))):[],onChange:function(e){var n,l,t;V(!1),L({action:y._U.setModuleNewStepComponents,value:null!==(n=null===(l=O.currentStep)||void 0===l?void 0:l.component_blueprints)&&void 0!==n?n:[]}),K((0,i.Z)((0,i.Z)({},X),{},(0,o.Z)({},null===$||void 0===$||null===(t=$.options)||void 0===t?void 0:t.filters[1],e.value))),J(null===ee||void 0===ee?void 0:ee.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0})).filter((function(e){var n;return(null===(n=e.component_fields.filter((function(e){var n;return e.value===X[null===$||void 0===$||null===(n=$.options)||void 0===n?void 0:n.filters[0]]})))||void 0===n?void 0:n.length)>0})).map((function(e){var n={};return null===B||void 0===B||B.slist.filter((function(l){var t,d,a,u=null!==(t=null===(d=e.component_fields.find((function(e){return e.field_name===l.label})))||void 0===d?void 0:d.value)&&void 0!==t?t:0;n=(0,i.Z)((0,i.Z)({},n),{},(a={},(0,o.Z)(a,l.label,u),(0,o.Z)(a,l.key,u),a))})),n}))),G(null===ee||void 0===ee?void 0:ee.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value===e.value})))||void 0===l?void 0:l.length)>0})).filter((function(e){var n;return(null===(n=e.component_fields.filter((function(e){var n;return e.value===X[null===$||void 0===$||null===(n=$.options)||void 0===n?void 0:n.filters[0]]})))||void 0===n?void 0:n.length)>0})))},placeholder:null===$||void 0===$||null===(C=$.options)||void 0===C?void 0:C.filters[1],style:{fontSize:"16px"},moliclassname:be.Z.componentsSelectMenuOverlayListItem}))),xe.createElement("div",{className:be.Z.searchContainer,style:{display:H?"none":"",width:g.tq?"100%":"400px"}},xe.createElement(M.O,null),xe.createElement("input",{placeholder:"Search",className:be.Z.searchInput,onChange:function(e){var n,l;(null===(n=e.target.value)||void 0===n?void 0:n.length)>1?(G(null===ee||void 0===ee?void 0:ee.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value.includes(e.target.value)})))||void 0===l?void 0:l.length)>0}))),J(null===ee||void 0===ee?void 0:ee.filter((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.value.includes(e.target.value)})))||void 0===l?void 0:l.length)>0})).map((function(e){var n={};return null===B||void 0===B||B.slist.filter((function(l){var t,d,a,u=null!==(t=null===(d=e.component_fields.find((function(e){return e.field_name===l.label})))||void 0===d?void 0:d.value)&&void 0!==t?t:"";n=(0,i.Z)((0,i.Z)({},n),{},(a={},(0,o.Z)(a,l.label,u),(0,o.Z)(a,l.key,u),a))})),n})))):0==(null===(l=e.target.value)||void 0===l?void 0:l.length)&&(J([]),G([]))}})),xe.createElement(de.Z,{className:be.Z.mobileTable_ii,style:{width:g.tq||(null===B||void 0===B||null===(w=B.slist)||void 0===w?void 0:w.length)>4?"100%":"70%"},tableHostSimple:be.Z.tableHostSimple,columns:g.tq?null===B||void 0===B?void 0:B.slist.filter((function(e){var n;return"Number"===e.value||e.key===(null===B||void 0===B||null===(n=B.key)||void 0===n?void 0:n.key)})).map((function(e){return e.label})):(null===(Z=j.processModule.module.options)||void 0===Z||null===(S=Z.computes)||void 0===S?void 0:S.length)>0?[].concat((0,t.Z)(null!==(k=null===B||void 0===B?void 0:B.slist.map((function(e){return e.label})))&&void 0!==k?k:[]),(0,t.Z)(null!==(I=null===(N=j.processModule.module.options)||void 0===N||null===(T=N.computes)||void 0===T?void 0:T.map((function(e){var n,l=null===(n=W.filter((function(n){return n.module_id===e.module_id})))||void 0===n?void 0:n.find((function(n){return n.component_fields.filter((function(n){return n.procedure_step_blueprint_field_id===e.field_id})).length>0}));return(null===l||void 0===l?void 0:l.component_fields.find((function(n){return n.procedure_step_blueprint_field_id===e.field_id}))).field_name})))&&void 0!==I?I:[])):(0,t.Z)(null!==(P=null===B||void 0===B?void 0:B.slist.map((function(e){return e.label})))&&void 0!==P?P:[]),list:U.map((function(e,n){var l,o,i,t,d,a={};null===B||void 0===B||null===(l=B.slist)||void 0===l||l.filter((function(l){var o,i;a[l.label]=ne("".concat(null!==(o=null===(i=e.component_fields.find((function(e){return e.field_name===l.label})))||void 0===i?void 0:i.value)&&void 0!==o?o:""),l.value,n,e,l.key,l.label)}));var u,r,v=null!==(o=null===O||void 0===O||null===(i=O.items)||void 0===i?void 0:i.find((function(e){var l,o;return e[null===B||void 0===B||null===(l=B.key)||void 0===l?void 0:l.key]===F[n][null===B||void 0===B||null===(o=B.key)||void 0===o?void 0:o.key]})))&&void 0!==o?o:void 0;(void 0!==v&&Object.keys(v).filter((function(l){var o,i=null===B||void 0===B||null===(o=B.slist)||void 0===o?void 0:o.find((function(e){return e.key===l}));i&&(a[i.label]=ne(v[l],i.value,n,e,i.key,i.label))})),(null===(t=j.processModule.module.options)||void 0===t||null===(d=t.computes)||void 0===d?void 0:d.length)>0)&&(null===(u=j.processModule.module.options)||void 0===u||null===(r=u.computes)||void 0===r||r.map((function(n){var l,o=null===W||void 0===W||null===(l=W.filter((function(e){return e.module_id===n.module_id})))||void 0===l?void 0:l.find((function(n){return n.component_fields.filter((function(n){var l,o;return n.value===(null!==(l=null===(o=e.component_fields.find((function(e){var n;return e.field_name===(null===B||void 0===B||null===(n=B.key)||void 0===n?void 0:n.label)})))||void 0===o?void 0:o.value)&&void 0!==l?l:"#$")})).length>0})),i=null===o||void 0===o?void 0:o.component_fields.find((function(e){return e.procedure_step_blueprint_field_id===n.field_id}));i&&(a[i.field_name]=null===i||void 0===i?void 0:i.value)})));return a}))}),0===(null===U||void 0===U?void 0:U.length)&&xe.createElement("p",null,"No Items Selected"))),xe.createElement("br",null))},we=l(6341),Ze=l(32086),Me=l(8284),Se=(l(68140),l(60940),l(95007)),ke=(0,a.memo)((function(e){var n,l,o,i,t=e.component,u=e.allComponents,r=e.components,v=e.favorites,s=void 0===v?[]:v,c=e.user,p=e.companyData,m=e.selectedComponent,f=e.templateName,_=e.begunModule,y=e.nextButtonClicked,g=e.isMandatoryError,b=e.index,x=e.component_blueprint,E=e.setIsMandatoryError,C=e.editMode,w=e.blueprints,Z=e.allModules,M=e.authenticatedUser,S=e.companyUsersArray,k=e.companyPositionsArray,I=e.products,N=(0,a.useState)({}),T=(0,d.Z)(N,2),P=T[0],D=T[1],A=(0,a.useState)([]),O=(0,d.Z)(A,2),L=O[0],z=O[1],R=(0,a.useState)([]),U=(0,d.Z)(R,2),F=U[0],q=U[1],W=(0,a.useState)([]),Y=(0,d.Z)(W,2),H=Y[0],j=Y[1],V=(0,a.useState)(null!==(n=+localStorage.getItem("timer"))&&void 0!==n?n:0),G=(0,d.Z)(V,2),J=G[0],K=G[1],Q=(0,a.useState)(null===t||void 0===t||null===(l=t.selected_fields)||void 0===l?void 0:l.filter((function(e){return"Record"===e.data_type_name}))),X=(0,d.Z)(Q,2),$=X[0],ee=(X[1],(0,a.useState)(!1)),ne=(0,d.Z)(ee,2),le=ne[0],oe=ne[1],ie=(0,a.useState)(),te=(0,d.Z)(ie,2),de=te[0],se=te[1],ce=(0,a.useState)(),pe=(0,d.Z)(ce,2),me=pe[0],fe=pe[1],_e=(0,a.useState)(!1),ye=(0,d.Z)(_e,2),he=ye[0],be=ye[1],xe=t.selected_fields.find((function(e){return"Filters"===e.data_type_name||"Record"===e.data_type_name})),Ze=r.filter((function(e){return e.component_fields.filter((function(e){var n;return e.component_blueprint_id===(null===xe||void 0===xe||null===(n=xe.options)||void 0===n?void 0:n.component_id)})).length>0})),Me=(null===m||void 0===m||null===(o=m.created_by)||void 0===o?void 0:o.id)===c.id||void 0===(null===m||void 0===m?void 0:m.created_by),Se=null===p||void 0===p||null===(i=p.misc_info)||void 0===i?void 0:i.templatesData.find((function(e){return e.name===f}));return"Scoresheet Template"===f?a.createElement(we.tF,{showSecond:de,listItems:F,orderItems:L,selectedComponent:m,action:me,setAction:fe,setShowSecond:se,components:r,records:$,template:Se,component:t,allComponents:u,generalArray:H,showFavorites:le,setGeneralArray:j,setTimer:K,timer:J,index:b,begunModule:_,companyData:p,setShowFavorites:oe,loading:he,setLoading:be,setListItems:q,setOrderItems:z,setSelectedItems:D,selectedItems:P}):"Meets Template"===f?a.createElement("div",{style:{width:"100%"}}):"Club Template"===f?a.createElement(B,{allModules:Z,components:r,begunModule:_,authenticatedUser:M,companyUsersArray:S}):"Sports Facility Template"===f?a.createElement("div",null,e.children):"Battery Order Template"===f?a.createElement(Ee,{showSecond:de,listItems:F,orderItems:L,selectedComponent:m,action:me,setAction:fe,setShowSecond:se,components:r,records:$,template:Se,component:t,allComponents:u,generalArray:H,showFavorites:le,setGeneralArray:j,setTimer:K,timer:J,index:b,begunModule:_,companyData:p,setShowFavorites:oe,loading:he,setLoading:be,setListItems:q,setOrderItems:z,setSelectedItems:D,selectedItems:P,templateName:f,items:Ze,field:xe,user:c,favorites:s,creating:Me}):"Order Template"===f?a.createElement(Ce,{showSecond:de,listItems:F,orderItems:L,selectedComponent:m,action:me,setAction:fe,setShowSecond:se,components:r,records:$,template:Se,component:t,allComponents:u,generalArray:H,showFavorites:le,setGeneralArray:j,setTimer:K,timer:J,index:b,begunModule:_,companyData:p,setShowFavorites:oe,loading:he,setLoading:be,setListItems:q,setOrderItems:z,setSelectedItems:D,selectedItems:P,templateName:f,items:Ze,field:xe,user:c,favorites:s,creating:Me}):"Timesheet Template"===f?null!==m&&void 0!==m&&m.id?a.createElement(ae,{selectedComponent:m,component_blueprint:x,title:f}):a.createElement("div",null):"Leaves Template"===f?null!==m&&void 0!==m&&m.id?a.createElement(ue,{selectedComponent:m,component_blueprint:x,title:f}):a.createElement("div",null):"Routes Template"===f?a.createElement(ge,{component:t,selectedComponent:m,component_blueprint:x,title:f},a.createElement(h.Z,{editMode:C,nextButtonClicked:y,isMandatoryError:g,blueprintIndex:b,setIsMandatoryError:E,blueprints:w,component:x,companyData:p,components:r,allModules:Z,products:I,authenticatedUser:M,selectedComponent:m,companyUsersArray:S,companyPositionsArray:k,begunModule:_})):"KPI Template"===f?null!==m&&void 0!==m&&m.id?a.createElement(re,{selectedComponent:m,component_blueprint:x,title:f},a.createElement(h.Z,{editMode:C,nextButtonClicked:y,isMandatoryError:g,blueprintIndex:b,setIsMandatoryError:E,blueprints:w,component:x,companyData:p,components:r,allModules:Z,products:I,authenticatedUser:M,selectedComponent:m,companyUsersArray:S,companyPositionsArray:k,begunModule:_})):a.createElement("div",null):"Clock In Template"===f?(window.clearInterval(+localStorage.getItem("timer")),a.createElement(ve,{template:Se,companyUsersArray:S,selectedComponent:m,component_blueprint:x,begunModule:_,companyData:p,authenticatedUser:M,title:f},a.createElement(h.Z,{hideTitle:!0,editMode:C,nextButtonClicked:y,isMandatoryError:g,blueprintIndex:b,setIsMandatoryError:E,blueprints:w,component:x,companyData:p,components:r,allModules:Z,products:I,authenticatedUser:M,selectedComponent:m,companyUsersArray:S,companyPositionsArray:k,begunModule:_}))):a.createElement("div",{style:{width:"100%"}},a.createElement(h.Z,{editMode:C,nextButtonClicked:y,isMandatoryError:g,blueprintIndex:b,setIsMandatoryError:E,blueprints:w,component:x,companyData:p,components:r,allModules:Z,products:I,authenticatedUser:M,selectedComponent:m,companyUsersArray:S,companyPositionsArray:k,begunModule:_}))})),Ie=(0,f.$j)((function(e){var n=e.authReducer.authenticatedUser,l=e.flowReducer;return{authenticatedUser:n,favorites:l.favorites,begunModule:l.begunModule}}))((function(e){var n,l,o=e.component,c=e.blueprintIndex,f=e.setIsMandatoryError,h=e.companyData,g=e.components,b=e.favorites,x=e.products,E=e.authenticatedUser,C=e.begunModule,w=e.selectedComponent,Z=e.setSelectedComponent,M=e.templateName,S=e.editMode,k=e.blueprints,I=e.allModules,N=e.companyUsersArray,T=e.companyPositionsArray,P=e.nextButtonClicked,D=e.isMandatoryError,A=e.index,O=e.component_blueprint,L=(0,y.pQ)(),z=(0,d.Z)(L,2),R=z[0],U=z[1],F=(0,a.useState)(v),q=(0,d.Z)(F,1)[0],W=(0,a.useState)(""),B=(0,d.Z)(W,2),Y=B[0],H=B[1],j=(0,a.useRef)(null),V=null===(n=R.currentStep)||void 0===n||null===(l=n.component_blueprints)||void 0===l?void 0:l.findIndex((function(e){return e.id===(null===o||void 0===o?void 0:o.id)})),G=function(){var e;null!==o&&void 0!==o&&null!==(e=o.selected_fields)&&void 0!==e&&e.some((function(e){var n;return!0===e.mandatory&&!0===e.visible&&(!e.value||(null===e||void 0===e||null===(n=e.value)||void 0===n?void 0:n.length)<1)}))?f(!0):f(!1)},J=function(e){var n=R.components.find((function(e){return e.selected_fields.filter((function(e){return"Formula"===e.data_type_name})).length>0}));if(void 0!==n){var l=n.selected_fields.find((function(e){return"Formula"===e.data_type_name})),d=(0,_.LV)(l.options,o.selected_fields.filter((function(e){return l.options.list.includes(e.field_name)})),[].concat((0,t.Z)(R.components),[e]));l.value="".concat(d.toString())}else{var a=R.currentStep.component_blueprints.find((function(e){return e.selected_fields.filter((function(e){return"Formula"===e.data_type_name})).length>0}));if(void 0!==a){var u=a.selected_fields.find((function(e){return"Formula"===e.data_type_name})),r=(0,_.LV)(u.options,o.selected_fields.filter((function(e){return u.options.list.includes(e.field_name)})),[].concat((0,t.Z)(R.components),[e]));u.value="".concat(r.toString());var v=JSON.parse(JSON.stringify((0,i.Z)((0,i.Z)({},a),{},{temp_id:(0,_.mR)(),selected_fields:a.selected_fields})));U({action:y._U.addModuleComponents,value:v})}}},K=function(e,n){var l,o,i,d=(0,t.Z)(null!==(l=null===(o=R.currentStep)||void 0===o?void 0:o.component_blueprints)&&void 0!==l?l:[]),a=null===(i=d[V])||void 0===i?void 0:i.selected_fields[n];"Number"===(null===a||void 0===a?void 0:a.data_type_name)?Number(+e)?a.value=e:""===e&&(a.value=""):a.value=e,a.value&&a.mandatory&&(a.errors=""),G(),U({action:y._U.setComponentBlueprints,value:d}),U({action:y._U.setModuleNewStepComponents,value:d})},Q=(0,a.useCallback)((function(e,n,l){var o,i,d,a=(0,t.Z)(null!==(o=null===(i=R.currentStep)||void 0===i?void 0:i.component_blueprints)&&void 0!==o?o:[]),u=null===(d=a[V])||void 0===d?void 0:d.selected_fields[n];u.options.country_code=null===e||void 0===e?void 0:e.countryCode,u.options.country_name=null===e||void 0===e?void 0:e.name,u.options.country_prefix="+".concat(null===e||void 0===e?void 0:e.dialCode),U({action:y._U.setComponentBlueprints,value:a}),U({action:y._U.setModuleNewStepComponents,value:a}),K(l,n)}),[]),X=(0,a.useCallback)((function(e,n){var l,o,i,d=(0,t.Z)(null!==(l=null===(o=R.currentStep)||void 0===o?void 0:o.component_blueprints)&&void 0!==l?l:[]),a=null===(i=d[V])||void 0===i?void 0:i.selected_fields[n];a.options.currency_type=null===e||void 0===e?void 0:e.label,a.options.currency_value=null===e||void 0===e?void 0:e.value,a.options.symbol=null===e||void 0===e?void 0:e.symbol,U({action:y._U.setComponentBlueprints,value:d}),U({action:y._U.setModuleNewStepComponents,value:d})}),[]);return(0,a.useEffect)((function(){var e;U({action:y._U.setModuleNewStepComponents,value:null===(e=R.currentStep)||void 0===e?void 0:e.component_blueprints})}),[R.currentStep]),a.createElement("div",{id:"accordion",className:u,key:c},a.createElement("div",{className:p()(r,q),"app-variant-has-error":Y?"error":""},a.createElement("div",{ref:j,style:{maxHeight:q===v?"":"0px",display:"flex"},className:s},a.createElement(ke,{templateName:M,component:o,handleInputChange:K,handlePrefixChange:Q,handleCurrencyChange:X,checkIfAreMandatoryErrored:G,handleCheckbox:function(e,n){var l,o,i,d=(0,t.Z)(null!==(l=null===(o=R.currentStep)||void 0===o?void 0:o.component_blueprints)&&void 0!==l?l:[]),a=null===(i=d[V])||void 0===i?void 0:i.selected_fields[n];a.value=e,a.value&&a.mandatory&&(a.errors=""),U({action:y._U.setComponentBlueprints,value:d}),U({action:y._U.setModuleNewStepComponents,value:d}),G()},isInherited:!1,indexInContextArray:V,handleLocationChange:function(e,n){var l,o,i,d=(0,t.Z)(null!==(l=null===(o=R.currentStep)||void 0===o?void 0:o.component_blueprints)&&void 0!==l?l:[]);(null===(i=d[V])||void 0===i?void 0:i.selected_fields[n]).value="".concat(e.lat,", ").concat(e.lng),U({action:y._U.setComponentBlueprints,value:d}),U({action:y._U.setModuleNewStepComponents,value:d})},processTaskContext:R,setTaskProcessContext:U,companyData:h,components:function(){var e,n,l=null===(e=R.components.find((function(e){return e.selected_fields.filter((function(e){var n,l;return"Global"===e.data_type_name&&1==e.visible&&e.field_name===(null===(n=o.selected_fields.find((function(e){return("Filters"===e.data_type_name||"Record"===e.data_type_name)&&1==e.visible})))||void 0===n||null===(l=n.options)||void 0===l?void 0:l.global)})).length>0})))||void 0===e||null===(n=e.selected_fields.find((function(e){return"Global"===e.data_type_name})))||void 0===n?void 0:n.value;return l?g.filter((function(e){return e.component_fields.filter((function(e){var n,i,t;return(null===e||void 0===e||null===(n=e.value)||void 0===n?void 0:n.toUpperCase())===(null===l||void 0===l?void 0:l.toUpperCase())&&e.field_name===(null===(i=o.selected_fields.find((function(e){return"Filters"===e.data_type_name||"Record"===e.data_type_name})))||void 0===i||null===(t=i.options)||void 0===t?void 0:t.global)})).length>0})):g}(),products:x,saveButtonAction:function(){var e=JSON.parse(JSON.stringify((0,i.Z)((0,i.Z)({},o),{},{temp_id:(0,_.mR)(),selected_fields:o.selected_fields})));J(e),U({action:y._U.addModuleComponents,value:e}),H(""),o.selected_fields.map((function(e,n){K("",n)})),U({action:y._U.setModuleNewStepComponents,value:(0,t.Z)(Ze.Z((function(e){return e.selected_fields.filter((function(e){return""===e.value})).length>0}),(0,t.Z)(Ze.Z(Me.Z("id",o.id))(R.newStepComponents))))})},updateFormula:J,favorites:b,user:E,begunModule:C,selectedComponent:w,setSelectedComponent:Z,allComponents:g,nextButtonClicked:P,isMandatoryError:D,index:A,component_blueprint:O,setIsMandatoryError:f,editMode:S,blueprints:k,allModules:I,authenticatedUser:E,companyUsersArray:N,companyPositionsArray:T}))),Y&&(null===Y||void 0===Y?void 0:Y.message)&&a.createElement(m.Z,{message:Y.message}))})),Ne=a.forwardRef((function(e,n){var l,o,i,t,u,r,v,s=e.begunModule,c=e.goto,p=e.companyData,m=e.selectedComponent,f=e.setSelectedComponent,_=(e.companyUsersArray,e.companyPositionsArray,e.components),y=void 0===_?[]:_,h=e.step,g=e.print,b=void 0!==g&&g,x=(0,a.useState)(0),E=(0,d.Z)(x,2),C=E[0],w=E[1],Z=(0,a.useState)(),M=(0,d.Z)(Z,2),S=M[0],k=M[1],I=(0,a.useState)(),N=(0,d.Z)(I,2),T=N[0],P=N[1],D=(0,a.useState)([]),A=(0,d.Z)(D,2),O=A[0],L=A[1],z=(0,a.useState)([]),R=(0,d.Z)(z,2),U=R[0],F=R[1],B=(0,a.useState)([]),Y=(0,d.Z)(B,2),j=Y[0],V=Y[1],G=null===s||void 0===s||null===(l=s.processModule)||void 0===l||null===(o=l.completeSteps)||void 0===o||null===(i=o.find((function(e){var n;return(null===e||void 0===e||null===(n=e.component_blueprints)||void 0===n?void 0:n.filter((function(e){return e.selected_fields.filter((function(e){return"Template"===e.data_type_name})).length>0})).length)>0})))||void 0===i||null===(t=i.component_blueprints.find((function(e){return e.selected_fields.find((function(e){return"Template"===e.data_type_name&&1==e.visible}))})))||void 0===t||null===(u=t.selected_fields.find((function(e){return"Template"===e.data_type_name&&1==e.visible})))||void 0===u?void 0:u.field_name,J=null===p||void 0===p||null===(r=p.misc_info)||void 0===r?void 0:r.templatesData.find((function(e){return e.name===G})),K=(0,a.useState)(null===m||void 0===m||null===(v=m.component_fields)||void 0===v?void 0:v.filter((function(e){return"Record"===e.data_type_name}))),Q=(0,d.Z)(K,2),X=Q[0],$=Q[1];return"Scoresheet Template"===G?a.createElement(we.mr,{setRecords:$,selectedComponent:m,template:J,setListItems:F,components:y,setOrderItems:L,setSelectedIndex:k,records:X,listItems:U,orderItems:O,begunModule:s,selectedTabIndex:C,setSelectedTabIndex:w,selectedItems:T,setSelectedItems:P,selectedIndex:S,generalArray:j,setGeneralArray:V,print:b}):"Sports Facility Template"===G?a.createElement(H,{selectedComponent:m,setSelectedComponent:f},e.children):"Player Profile Template"===G?a.createElement(we.yX,{selectedComponent:m,template:J,components:y,setListItems:F,begunModule:s,listItems:U}):"League Template"===G?a.createElement(we.Dr,{selectedComponent:m,template:J,components:y}):"Club Template"===G?a.createElement(q,{title:m.title,selectedComponent:m,setSelectedComponent:f,step:h,template:J,goto:c},e.children):"Meets Template"===G?a.createElement(W,{selectedComponent:m,begunModule:s,goto:c},e.children):a.createElement("div",null,e.children,e.payments,e.creator,e.shares)})),Te=function(e,n,l,i,d,a,u){var r,v=Se.utils.book_new(),s=Se.utils.json_to_sheet([]),c=n.selected_fields.filter((function(e){return e.options.mapToItem})).map((function(e){return(0,o.Z)({},e.field_name,e.options.mapToItem)}));return Se.utils.sheet_add_aoa(s,[c.map((function(e){return Object.keys(e)[0]}))]),Se.utils.sheet_add_json(s,d.map((function(e){return Object.assign.apply(Object,[{}].concat((0,t.Z)(c.map((function(e){return Object.values(e)[0]})).map((function(n){return(0,o.Z)({},n,e[n])})))))})),{origin:"A2",skipHeader:!0}),Se.utils.book_append_sheet(v,s,"".concat(null===(r=a.processModule.module)||void 0===r?void 0:r.name)),(0,Se.writeFile)(v,"".concat(u).concat((0,N.now)(),".xlsx")),0}},85508:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return H},navigateToTransaction:function(){return j}});var o=l(4942),i=l(93433),t=l(1413),d=l(29439),a=l(67861),u=l(23280),r=l(40694),v=l(88374),s=l(93389),c=l(6073),p=l(89293),m=l(88827),f=l(10103),_=l(11577),y=l(1542),h=l(10904),g=l(88550),b=l(73500),x=l(39518),E=l(50981),C=l.n(E),w=l(43984),Z=l(52902),M=l(12075),S=l(63124),k=l(87424),I=l(27658),N=l(75105),T=l(91605),P=l(30994),D=l(57650),A=l(29304),O=l(87453),L=l(12308),z=l(85692),R=l(51481),U=l(34665),F=l(44408),q=l(23910),W={host:"DashboardMobile_host__FXUjc",dashboardPanel:"DashboardMobile_dashboardPanel__lXz07",headerContainer:"DashboardMobile_headerContainer__JAcuY",title:"DashboardMobile_title__UJq7q",modalTitle:"DashboardMobile_modalTitle__yR3Zx",singleButton:"DashboardMobile_singleButton__h-dk5",fieldRowContainer:"DashboardMobile_fieldRowContainer__VvOwp",fieldTypeInput:"DashboardMobile_fieldTypeInput__Qmlee",dashboardCard:"DashboardMobile_dashboardCard__uJUtM",componentCard:"DashboardMobile_componentCard__9UsrE",componentCardv2:"DashboardMobile_componentCardv2__EqNmf",imageCard:"DashboardMobile_imageCard__J6I0d",searchContainer:"DashboardMobile_searchContainer__nrcHL",searchInput:"DashboardMobile_searchInput__GQHtE",ongoingtx:"DashboardMobile_ongoingtx__tEDSh",dropdownSelectComponent:"DashboardMobile_dropdownSelectComponent__RUoXR",dropdownSelectMenuOverlayList:"DashboardMobile_dropdownSelectMenuOverlayList__T2zDR",dropdownSelectMenuOverlayListItem:"DashboardMobile_dropdownSelectMenuOverlayListItem__twu8t",dropdownInput:"DashboardMobile_dropdownInput__CB8Ta",dropdownClearControlsClassName:"DashboardMobile_dropdownClearControlsClassName__TMP-7",listContainer:"DashboardMobile_listContainer__ASOGR",dropdownListContainer:"DashboardMobile_dropdownListContainer__J4smE",dropDownButtonContainer:"DashboardMobile_dropDownButtonContainer__oeCll",searchResults:"DashboardMobile_searchResults__RB3VY",pageContainer:"DashboardMobile_pageContainer__ep2wY",emulatedFlexGap:"DashboardMobile_emulatedFlexGap__mHKc9",popup:"DashboardMobile_popup__wqxbT",profilepopup:"DashboardMobile_profilepopup__0SibL",userCardContainerTop:"DashboardMobile_userCardContainerTop__bT3XW",userCardInnerContainer:"DashboardMobile_userCardInnerContainer__u0yVs",avatarUrlImg:"DashboardMobile_avatarUrlImg__1MY4w",center:"DashboardMobile_center__wR7QQ",moduleTitle:"DashboardMobile_moduleTitle__itg2E",filtersContainer:"DashboardMobile_filtersContainer__Mz0UE",wallet:"DashboardMobile_wallet__QzTMZ",userPanelRows:"DashboardMobile_userPanelRows__XQVNr",actionsContainer:"DashboardMobile_actionsContainer__65lpT",appsTitle:"DashboardMobile_appsTitle__a80ai",stepTitle:"DashboardMobile_stepTitle__FV3ye",stepSubTitle:"DashboardMobile_stepSubTitle__s2cY7",listContainerAll:"DashboardMobile_listContainerAll__ZrR1O",listButton:"DashboardMobile_listButton__zpevX"},B=(l(143),l(60940),l(56120),l(37704),l(72666),l(68623),l(3863),l(95361),l(36832),l(32588)),Y=l(66918),H=(0,x.$j)((function(e){var n=e.flowReducer,l=n.begunModule,o=n.allTasks,i=n.allCompletedTasks,t=n.allCompletedTasksPaginated,d=n.companyProcesses,a=n.allModules,u=n.components,r=n.companyData,v=n.companyUsersArray,s=n.blueprints,c=n.payable,p=n.lastUpdates,m=n.companyPositionsArray,f=e.sessionReducer,_=f.user,y=f.authenticated;return{begunModule:l,allTasks:o,allCompletedTasks:i,allCompletedTasksPaginated:t,companyProcesses:d,allModules:a,components:u,companyData:r,companyUsersArray:v,user:_,authenticatedUser:e.authReducer.authenticatedUser,authenticated:y,blueprints:s,payable:c,lastUpdates:p,companyPositionsArray:m}}),(function(e){return{onSetSelectedProcess:function(n){return e((0,v.Xu)(n))}}}))((function(e){var n,l,H,V,G,J,K,Q,X,$,ee,ne,le,oe,ie,te,de,ae,ue,re,ve,se,ce,pe,me,fe,_e,ye,he,ge;(0,D.z2)();var be=e.authenticated,xe=e.authenticatedUser,Ee=e.user,Ce=e.companyProcesses,we=e.allModules,Ze=e.components,Me=e.companyData,Se=e.begunModule,ke=e.blueprints,Ie=e.payable,Ne=e.companyUsersArray,Te=e.lastUpdates,Pe=e.allTasks,De=e.companyPositionsArray,Ae=(0,a.useState)(!1),Oe=(0,d.Z)(Ae,2),Le=Oe[0],ze=Oe[1],Re=(0,a.useState)({}),Ue=(0,d.Z)(Re,2),Fe=Ue[0],qe=Ue[1],We=(0,a.useState)(!1),Be=(0,d.Z)(We,2),Ye=Be[0],He=Be[1],je=(0,a.useState)(!1),Ve=(0,d.Z)(je,2),Ge=Ve[0],Je=Ve[1],Ke=(0,a.useState)(!1),Qe=(0,d.Z)(Ke,2),Xe=Qe[0],$e=Qe[1],en=(0,a.useState)(!1),nn=(0,d.Z)(en,2),ln=nn[0],on=nn[1],tn=(0,a.useState)(),dn=(0,d.Z)(tn,2),an=dn[0],un=dn[1],rn=(0,a.useState)(!1),vn=(0,d.Z)(rn,2),sn=(vn[0],vn[1]),cn=(0,a.useState)({}),pn=(0,d.Z)(cn,2),mn=pn[0],fn=pn[1],_n=(0,a.useState)(!1),yn=(0,d.Z)(_n,2),hn=yn[0],gn=yn[1],bn=(0,a.useState)({}),xn=(0,d.Z)(bn,2),En=(xn[0],xn[1]),Cn=(0,a.useState)(!1),wn=(0,d.Z)(Cn,2),Zn=wn[0],Mn=wn[1],Sn=(0,a.useState)(-1),kn=(0,d.Z)(Sn,2),In=kn[0],Nn=kn[1],Tn=(0,a.useState)([]),Pn=(0,d.Z)(Tn,2),Dn=Pn[0],An=Pn[1],On=(0,a.useState)(!1),Ln=(0,d.Z)(On,2),zn=Ln[0],Rn=Ln[1],Un=(0,a.useState)(!1),Fn=(0,d.Z)(Un,2),qn=Fn[0],Wn=Fn[1],Bn=(0,a.useState)(!1),Yn=(0,d.Z)(Bn,2),Hn=(Yn[0],Yn[1],(0,g.pQ)()),jn=(0,d.Z)(Hn,2),Vn=jn[0],Gn=jn[1],Jn=(0,a.useState)(!(null===Se||void 0===Se||null===(n=Se.processModule)||void 0===n||null===(l=n.module)||void 0===l||!l.id)&&(null===Ee||void 0===Ee||null===(H=Ee.positions)||void 0===H||null===(V=H.filter((function(e){var n,l,o,i;return(null===Se||void 0===Se||null===(n=Se.processModule)||void 0===n||null===(l=n.module)||void 0===l||null===(o=l.options)||void 0===o||null===(i=o.processors)||void 0===i?void 0:i.indexOf(e.id))>-1})))||void 0===V?void 0:V.length)>0),Kn=(0,d.Z)(Jn,2),Qn=Kn[0],Xn=Kn[1],$n=(0,x.I0)(),el=((0,u.s0)(),(0,u.UO)()),nl=el.paymentID,ll=el.walletID;document.title="Dashboard | ".concat(p.iC," Mobile");var ol=(0,a.useCallback)((function(e,n,l){var o=function(o){var i,d,a,u,r,s,_,h,b,x,C,w,Z,M,S,k,I,T=o.steps.filter((function(e){var n,l,i,t,d,a;return void 0==(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.showStepAll)||1==(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.showStepAll)||0==(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.showStepAll)&&(null===e||void 0===e||null===(t=e.options)||void 0===t||null===(d=t.showOnly)||void 0===d?void 0:d.filter((function(e){return xe.positions.map((function(e){return e.id})).indexOf(e)>-1})).length)>0||(null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.showStepAuthor)&&(null===xe||void 0===xe?void 0:xe.id)===(null===o||void 0===o?void 0:o.user_id)})).map((function(e,n){return(0,t.Z)((0,t.Z)({},e),{},{rank:n+1})}));(m.h.dispatch((0,v.q4)(o)),m.h.dispatch((0,v.an)([o],p.Qc)),m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},o),{},{completeSteps:o.steps,steps:T,stepIndex:l?0:(null===o||void 0===o||null===(i=o.steps)||void 0===i?void 0:i.length)>0?(null===o||void 0===o||null===(d=o.steps[0])||void 0===d||null===(a=d.component_blueprints)||void 0===a?void 0:a.filter((function(e){var n;return 1==(null===(n=e.options)||void 0===n?void 0:n.asModuleList)})).length)>0?1:0:1,module_id:n.id,module:e.find((function(e){return e.id===n.id})),isUpdating:!1}))),Gn({action:g._U.setCurrentStep,value:null===o||void 0===o?void 0:o.steps[l?0:(null===o||void 0===o||null===(u=o.steps)||void 0===u?void 0:u.length)>0?(null===o||void 0===o||null===(r=o.steps[0])||void 0===r||null===(s=r.component_blueprints)||void 0===s?void 0:s.filter((function(e){var n;return 1==(null===(n=e.options)||void 0===n?void 0:n.asModuleList)})).length)>0?1:0:1]}),Gn({action:g._U.setModuleItems,value:Fe.component_items}),Gn({action:g._U.setModuleNewStepComponents,value:[]}),Gn({action:g._U.setComponents,value:[]}),(null===Se||void 0===Se||null===(_=Se.processModule)||void 0===_||null===(h=_.steps)||void 0===h?void 0:h.length)>0&&(null===Se||void 0===Se||null===(b=Se.processModule)||void 0===b||null===(x=b.steps)||void 0===x||x.filter((function(e){var n;return null===e||void 0===e||null===(n=e.component_blueprints)||void 0===n?void 0:n.filter((function(e){return e.selected_fields.filter((function(e){return e.value=void 0}))}))}))),(0,y.vC)(n,p.Qc,p.M4,1,!1).pipe((0,f.q)(1)).subscribe({next:function(e){var l;ze(!1),n.lastUpdate=0,n.count=null!==(l=null===e||void 0===e?void 0:e.total)&&void 0!==l?l:0,(0,c.OQ)(!0,!1).pipe((0,f.q)(1)).subscribe({complete:function(){(0,c.ew)().pipe((0,f.q)(1)).subscribe({})}})}}),null===n||void 0===n||null===(C=n.options)||void 0===C||null===(w=C.supporting)||void 0===w||w.filter((function(e,l){var o,i;(0,y.vC)({id:e,name:null!==(o="".concat(null===we||void 0===we||null===(i=we.find((function(n){return n.id===e})))||void 0===i?void 0:i.name).concat(l))&&void 0!==o?o:"".concat(null===n||void 0===n?void 0:n.name).concat(l)},p.Qc,p.R6,1).pipe((0,f.q)(1)).subscribe({next:function(o){var i,t;Te.componentsByModule[null!==(i="".concat(null===we||void 0===we||null===(t=we.find((function(n){return n.id===e})))||void 0===t?void 0:t.name).concat(l))&&void 0!==i?i:"".concat(null===n||void 0===n?void 0:n.name).concat(l)]=(0,E.now)()}})})),(null===n||void 0===n||null===(Z=n.options)||void 0===Z||null===(M=Z.positions)||void 0===M?void 0:M.length)>0)&&(0,N.n0)(null===n||void 0===n||null===(k=n.options)||void 0===k?void 0:k.positions,5*(null===n||void 0===n||null===(I=n.options)||void 0===I?void 0:I.positions.length)).pipe((0,f.q)(1)).subscribe({});if(null!==n&&void 0!==n&&null!==(S=n.options)&&void 0!==S&&S.single){var P=localStorage.getItem(n.id);dl(o,P?JSON.parse(P):Ze.find((function(e){return e.module_id===n.id})))}};Ce.find((function(e){return e.id===n.procedure.id}))?o(Ce.find((function(e){return e.id===n.procedure.id}))):(ze(!0),(0,s.zJ)(n.procedure.id).pipe((0,_.P)()).subscribe({next:function(e){ze(!1),o(e)},error:function(e){}}))}),[Se]);(0,a.useEffect)((function(){$n((0,v.aV)())}),[]),(0,a.useEffect)((function(){history.pushState(null,null,location.href),window.onpopstate=function(e){history.go(1)},$n((0,v.tR)(!1)),$n((0,v.IW)(!1))}),[Xe]),(0,a.useEffect)((function(){if(be){if("trial_ended"!==(null===Me||void 0===Me?void 0:Me.status)&&"inactive"!==(null===Me||void 0===Me?void 0:Me.status)&&(null===we||void 0===we?void 0:we.length)>0){var e=null===we||void 0===we?void 0:we.filter((function(e){var n;return!0===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.asMobileApp)}));if(1===(null===e||void 0===e?void 0:e.length)){var n,l,o=(null===Ee||void 0===Ee||null===(n=Ee.positions)||void 0===n||null===(l=n.filter((function(n){var l,o,i;return(null===(l=e[0])||void 0===l||null===(o=l.options)||void 0===o||null===(i=o.processors)||void 0===i?void 0:i.indexOf(n.id))>-1})))||void 0===l?void 0:l.length)>0;Xn(o),ol(we,e[0],o)}else if((null===e||void 0===e?void 0:e.length)>0){var i,t,d,a,u=xe.positions.find((function(e){return"1"===e.standards})),r=u&&e.find((function(e){return e.name===u.name})),s=(null===Ee||void 0===Ee||null===(i=Ee.positions)||void 0===i||null===(t=i.filter((function(n){var l,o,i;return(null===(l=e[0])||void 0===l||null===(o=l.options)||void 0===o||null===(i=o.processors)||void 0===i?void 0:i.indexOf(n.id))>-1})))||void 0===t?void 0:t.length)>0;if(r)s=(null===Ee||void 0===Ee||null===(d=Ee.positions)||void 0===d||null===(a=d.filter((function(e){var n,l;return(null===r||void 0===r||null===(n=r.options)||void 0===n||null===(l=n.processors)||void 0===l?void 0:l.indexOf(e.id))>-1})))||void 0===a?void 0:a.length)>0,ol(we,r,s);else ol(we,e[0],s);Xn(s),gn(!0)}}""===(null===Ee||void 0===Ee?void 0:Ee.id)&&($n((0,w.ci)()),$n((0,v.mb)())),"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(e){m.h.dispatch((0,v.Rb)({latitude:e.coords.latitude,longitude:e.coords.longitude}))}))}}),[be,we]),(0,a.useEffect)((function(){we.length>0&&we.filter((function(e){var n;return void 0===Ce.find((function(n){var l;return n.id===(null===e||void 0===e||null===(l=e.procedure)||void 0===l?void 0:l.id)}))&&(0,s.zJ)(null===e||void 0===e||null===(n=e.procedure)||void 0===n?void 0:n.id).pipe((0,_.P)()).subscribe({next:function(){return window.scrollTo({top:-10})}})})),we.length>0&&we.filter((function(e){var n;return(C()((0,E.now)()).diff(C()(null!==(n=Te.componentsByModule[e.name])&&void 0!==n?n:(0,E.now)()),"minutes")>10||void 0===Te.componentsByModule[e.name]||0===Ze.filter((function(n){return n.module_id===e.id})).length)&&(0,y.vC)(e,p.Qc,p.Zp,1,!1).pipe((0,f.q)(1)).subscribe({next:function(n){Te.componentsByModule[e.name]=(0,E.now)(),window.scrollTo({top:-10})}})}))}),[we]),(0,a.useEffect)((function(){be&&((null===Ie||void 0===Ie?void 0:Ie.length)>0&&void 0!==ll&&void 0===nl&&Ie.find((function(e){return e.user_id===(null===xe||void 0===xe?void 0:xe.id)&&e.paymentID===ll}))&&(m.h.dispatch((0,v.Wy)(Ie.filter((function(e){return e.paymentID!==ll})))),(0,N.IC)().pipe((0,_.P)()).subscribe({next:function(e){var n;xe.wallet=null===e||void 0===e?void 0:e.wallet,xe.options=null===e||void 0===e?void 0:e.options,xe.departments=null===e||void 0===e?void 0:e.departments,xe.positions=null===e||void 0===e?void 0:e.positions,xe.pinned_modules=null===e||void 0===e?void 0:e.pinned_modules,null===U.Fc||void 0===U.Fc||null===(n=U.Fc.saveUser)||void 0===n||n.call(U.Fc,xe).then((function(){}))}}),on(!1),$e(!1),Mn(!0)))}),[ll,be]);var il=(0,a.useCallback)((function(e){var n,l,o,i,d,u,s;return a.createElement("div",{className:"tabbar-section",style:{display:"inactive"===(null===Me||void 0===Me?void 0:Me.status)?"none":""}},e.children,a.createElement("div",{className:"mobile-nav"},a.createElement(r.Z,{clear:!0,loading:Le,clicked:function(){var e,n,l;m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},Se.processModule),{},{stepIndex:Qn||null!==(e=Se.processModule)&&void 0!==e&&null!==(n=e.module)&&void 0!==n&&null!==(l=n.options)&&void 0!==l&&l.single?0:1,isUpdating:!1}))),we.filter((function(e){var n;return!0===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.asMobileApp)})).length>1&&gn(!0),$e(!1),on(!1)}},a.createElement("div",{style:{color:"var(--app-color-gray-dark)"}},a.createElement(M.G,{icon:Z.J9Y,className:"tabbar-icon"}),a.createElement("div",{style:{fontSize:"10px",height:"14px"}},"Home")))),(null===Ee||void 0===Ee||null===(n=Ee.ui_permissions)||void 0===n?void 0:n.find((function(e){return"view-dashboard-task"===e})))&&a.createElement("div",{className:"mobile-nav"},a.createElement(r.Z,{clear:!0,clicked:function(){on(!0),$e(!1)}},a.createElement("div",{style:{color:"var(--app-color-gray-dark)"}},a.createElement(M.G,{icon:Z.fT7,className:"tabbar-icon"}),a.createElement("div",{style:{fontSize:"10px",height:"14px"}},"Tasks")))),!(null!==Se&&void 0!==Se&&null!==(l=Se.processModule)&&void 0!==l&&null!==(o=l.module)&&void 0!==o&&null!==(i=o.options)&&void 0!==i&&i.single)&&a.createElement("div",{className:"mobile-nav"},a.createElement(r.Z,{clear:!0,clicked:function(){m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},Se.processModule),{},{stepIndex:0,isUpdating:!1}))),Je(!0),gn(!1),setTimeout((function(){return Je(!1)})),fn({}),sn(!0),$e(!1),on(!1)}},a.createElement("div",{style:{color:"var(--app-color-gray-dark)"}},a.createElement(M.G,{icon:Z.Zrf,className:"tabbar-icon"}),a.createElement("br",null),a.createElement("div",{style:{fontSize:"10px",height:"14px"}},null!==(d=null===(u=Se.processModule)||void 0===u||null===(s=u.module)||void 0===s?void 0:s.name)&&void 0!==d?d:"Transactions")))),a.createElement("div",{className:"mobile-nav"},a.createElement(r.Z,{clear:!0,clicked:function(){$e(!0),on(!1)}},a.createElement("div",{style:{color:"var(--app-color-gray-dark)"}},a.createElement(M.G,{icon:Z.ILF,className:"tabbar-icon"}),a.createElement("div",{style:{fontSize:"10px",height:"14px"}},"Profile")))))}),[qn,Le,Vn,Ze]),tl=(0,a.useCallback)((function(e){var n,l,o,i,t,d,u,v=e.dark,s=void 0===v||v,c=function(){Wn(!qn)};return a.createElement("div",{className:"navbar-section",style:{backgroundColor:s?null!==Me&&void 0!==Me&&null!==(n=Me.company_standards)&&void 0!==n&&null!==(l=n.themeJ)&&void 0!==l&&l.backgroundColorr?null===Me||void 0===Me||null===(o=Me.company_standards)||void 0===o||null===(i=o.themeJ)||void 0===i?void 0:i.backgroundColor:"var(--app-color-gray-dark)":"white"}},a.createElement("div",{className:"mobile-nav"},a.createElement(r.Z,{style:{marginLeft:"10px",height:"30px"},clear:!0,clicked:function(){var e,n;ze(!1),(null===Vn||void 0===Vn||null===(e=Vn.components)||void 0===e?void 0:e.length)>0||(null===Vn||void 0===Vn||null===(n=Vn.newStepComponents)||void 0===n?void 0:n.length)>0?En({open:!0,handler:c}):c(),c()}},a.createElement(M.G,{icon:Z.Ljc,className:"hamb-icon"}))),a.createElement("div",{className:W.moduleTitle},null!==Me&&void 0!==Me&&null!==(t=Me.company_standards)&&void 0!==t&&null!==(d=t.themeJ)&&void 0!==d&&d.title?a.createElement(a.Fragment,null,a.createElement("div",{style:{width:"100%",justifyContent:"center",display:"flex"}},(0,p.lh)("16px",s?"white":"var(--app-color-gray-dark)","bold")),a.createElement("div",{style:{width:"100%",fontSize:"9px",fontWeight:"bold",color:s?"white":"black",justifyContent:"center",display:"flex"}},"".concat((null!==(u=Me.display_name)&&void 0!==u?u:"").toUpperCase()).concat(Qn?"*":"")," ")):a.createElement("div",{style:{width:"100%",justifyContent:"center",display:"flex"}},(0,p.lh)("18px",s?"white":"var(--app-color-gray-dark)","bold"))),a.createElement("div",{className:W.userCardContainerTop},a.createElement(O.ZP,null,a.createElement(A.T$,null))),a.createElement("div",{className:"mobile-navbar ".concat(qn?"open-nav":""),style:{width:"100%",backgroundColor:"transparent"}},a.createElement("div",{className:"mobile-navbar ".concat(qn?"open-nav":""),style:{height:"inherit",width:"80%",boxShadow:"0px 2px 20px 5px rgba(0, 0, 0, 0.1)"}},a.createElement("div",{onClick:c,className:"mobile-navbar-close"},a.createElement(M.G,{icon:Z.QQm,className:"hamb-icon",style:{color:"var(--app-color-gray)",width:"25px",height:"25px"}})),a.createElement("ul",{className:"mobile-navbar-links"},a.createElement("li",null,a.createElement("a",{style:{fontFamily:"Montserrat, serif"},onClick:function(){on(!1),$e(!0),c()}},"PROFILE")),(null===we||void 0===we?void 0:we.find((function(e){var n;return null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.credits})))&&a.createElement("li",null,a.createElement("a",{style:{fontFamily:"Montserrat, serif"},onClick:function(){(0,N.IC)().pipe((0,_.P)()).subscribe({next:function(e){var n;xe.wallet=null===e||void 0===e?void 0:e.wallet,xe.options=null===e||void 0===e?void 0:e.options,xe.departments=null===e||void 0===e?void 0:e.departments,xe.positions=null===e||void 0===e?void 0:e.positions,xe.pinned_modules=null===e||void 0===e?void 0:e.pinned_modules,null===U.Fc||void 0===U.Fc||null===(n=U.Fc.saveUser)||void 0===n||n.call(U.Fc,xe).then((function(){}))}}),on(!1),$e(!1),Mn(!0),c()}},"WALLET")),a.createElement("li",null,a.createElement("a",{style:{fontFamily:"Montserrat, serif"},onClick:function(){He(!0),$e(!1),c()}},"LOGOUT"))))))}),[qn,Le,Vn,Ze]),dl=function(e,n){var l,o;if(n){var d=[],a=0;(null===e||void 0===e||null===(l=e.steps)||void 0===l?void 0:l.length)>0&&(null===e||void 0===e||null===(o=e.steps)||void 0===o||o.filter((function(e){var n;return null===e||void 0===e||null===(n=e.component_blueprints)||void 0===n?void 0:n.filter((function(e){return e.selected_fields.filter((function(e){return e.value=void 0}))}))}))),Y.uniqWith(Y.eqProps("group"))(n.component_fields).map((function(e){d=[].concat((0,i.Z)(d),[{id:e.component_blueprint_id,temp_id:e.id,selected_fields:Y.filter(Y.propEq("group",e.group))(n.component_fields)}])})),e.steps.filter((function(e){e.component_blueprints.filter((function(l){l.selected_fields.filter((function(l){var o=n.component_fields.find((function(e){return e.field_name===l.field_name}));if("Status"===l.data_type_name&&void 0!==status&&(a=+e.rank-1),void 0!=o)l.value=o.value;else if("Record"===l.data_type_name){var i=n.component_fields.find((function(e){return e.field_name===l.options.name}));void 0!=i&&(l.value=i.value)}}))}))})),Gn({action:g._U.setComponents,value:d}),Gn({action:g._U.setModuleItems,value:n.component_items}),m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},e),{},{steps:e.steps,stepIndex:a,module_id:n.module_id,module:we.find((function(e){return e.id===n.module_id})),isUpdating:!0,selectedComponent:n}))),qe(n)}},al=function(e){return Y.sortWith([Y.descend(Y.prop("created_date"))])(Ze.filter((function(n){return n.module_id===(null===e||void 0===e?void 0:e.id)}))).filter((function(e){var n;return!("Closed"===(null===e||void 0===e?void 0:e.status)||"Cancelled"===(null===e||void 0===e?void 0:e.status)||"Expired"===(null===e||void 0===e?void 0:e.status)||"None"===(null===e||void 0===e?void 0:e.status)||(null===e||void 0===e||!e.payments)&&(null===e||void 0===e||null===(n=e.created_by)||void 0===n?void 0:n.id)!==(null===xe||void 0===xe?void 0:xe.id)&&null!==e&&void 0!==e&&e.component_fields.find((function(e){return"Payments"===e.data_type_name&&"Credit Card"===e.value})))})).filter((function(n){var l,o,i,t;return!((null===(l=e.options)||void 0===l?void 0:l.activeFor)>0&&C()((0,E.now)()).diff(C()(n.created_date),"minutes")>+(null===(o=e.options)||void 0===o?void 0:o.activeFor))||!("New"===n.status||"Unassigned"===n.status)||(null===(i=n.assigned_to)||void 0===i?void 0:i.id)||(null===n||void 0===n||null===(t=n.payments)||void 0===t?void 0:t.id)})).map((function(n,l){var o;return a.createElement("div",{key:l,className:W.componentCardv2,style:{display:"flex",fontWeight:"normal",userSelect:"none"},"app-color-variant":"".concat(l%5+1),onClick:function(){j(Ce,qe,sn,Me,n,Gn,xe,Se,Ee,we,Je,Ne,e)}},a.createElement("div",{style:{width:"100%",fontSize:(null===n||void 0===n||null===(o=n.title)||void 0===o?void 0:o.length)>18?"14px":"16px",ffontWeight:"normal",padding:"10px"}},null!==n&&void 0!==n&&n.status?"".concat(n.title," (").concat(null===n||void 0===n?void 0:n.status,")"):n.title))}))},ul=(0,a.memo)((function(){var e,n,l;return a.createElement("div",{style:{padding:"20px 5px"}},a.createElement("div",{style:{display:"flex",textAlign:"left"}},a.createElement("p",{className:W.stepTitle},"My Tasks"),a.createElement(r.Z,{light:!0,clicked:function(){ze(!0),(0,R.km)(Ee.id,!0).pipe((0,f.q)(1)).subscribe({complete:function(){return ze(!1)}})},icon:a.createElement("img",{src:z.Fd})}),a.createElement(r.Z,{light:!0,style:{display:null!==Ee&&void 0!==Ee&&null!==(e=Ee.ui_permissions)&&void 0!==e&&e.find((function(e){return"view-dashboard-task"===e}))?"":"none"},clicked:function(){un(!0)},icon:a.createElement("img",{src:z.IH})})),a.createElement("div",{className:W.stepSubTitle},"Your tasks related to ".concat(null===Se||void 0===Se||null===(n=Se.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.name)),a.createElement(L.default,{title:"",card:!0,className:W.listContainer,isReport:!1,"app-variant-is-mobile":"true",columns:["Name","Status","Due"],list:Pe.filter((function(e){return"Done"!==e.status})).map((function(e){var n,l,i,t,d,a,u,r,v,s,c;return c={Name:e.name,Description:e.description,Status:null!==(n=e.status)&&void 0!==n?n:"New",Due:C()(null===(l=e.add_info)||void 0===l?void 0:l.end).format("DD MMMM h:mm a")},(0,o.Z)(c,"Created By","".concat(null!==(i=null===(t=e.creator)||void 0===t?void 0:t.first_name)&&void 0!==i?i:""," ").concat(null!==(d=null===(a=e.creator)||void 0===a?void 0:a.last_name)&&void 0!==d?d:"")),(0,o.Z)(c,"Assigned To","".concat(null!==(u=null===(r=e.assignee)||void 0===r?void 0:r.first_name)&&void 0!==u?u:""," ").concat(null!==(v=null===(s=e.assignee)||void 0===s?void 0:s.last_name)&&void 0!==v?v:"")),(0,o.Z)(c,"task",e),c})),onListItemClick:function(e){un(e.task)}}))}));return a.createElement(a.Fragment,null,a.createElement("div",{className:W.center,style:{flexDirection:"column",alignItems:"center"}},a.createElement("div",{style:{position:"fixed",top:"0",zIndex:"20",width:"100%"}},(void 0==(null===Se||void 0===Se||null===(G=Se.processModule)||void 0===G?void 0:G.stepIndex)||(null===Se||void 0===Se||null===(J=Se.processModule)||void 0===J?void 0:J.stepIndex)<2)&&we.length>0&&!Xe&&!ln&&"inactive"!==(null===Me||void 0===Me?void 0:Me.status)&&function(e){var n=e?al(e):[];return(null===n||void 0===n?void 0:n.length)>0&&a.createElement("div",{className:W.center,style:{height:(null===n||void 0===n?void 0:n.length)>0?"":"0px",width:"100%",minWidth:"360px",backgroundColor:"var(--app-color-gray-lightest)",flexDirection:"column"}},a.createElement(q.tq,{slidesPerView:1,centeredSlides:!0,spaceBetween:10,initialSlide:0,pagination:{clickable:!0,dynamicBullets:!0},modules:[F.pt,F.tl],className:"mySwiper"},(null===n||void 0===n?void 0:n.length)>0&&n.map((function(e,n){return a.createElement(q.o5,{key:n},e)}))))}(null!==(K=null===Se||void 0===Se||null===(Q=Se.processModule)||void 0===Q?void 0:Q.module)&&void 0!==K?K:null===we||void 0===we?void 0:we.find((function(e){var n;return!0===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.asMobileApp)}))),void 0==(null===Se||void 0===Se||null===(X=Se.processModule)||void 0===X?void 0:X.stepIndex)||(null===Se||void 0===Se||null===($=Se.processModule)||void 0===$?void 0:$.stepIndex)<2?we.length>0&&a.createElement(tl,{dark:!1,ddark:0===al(null===Se||void 0===Se||null===(ee=Se.processModule)||void 0===ee?void 0:ee.module).length||Xe||ln}):a.createElement("div",null)),a.createElement("div",{style:{minHeight:Ze.find((function(e){var n,l;return e.module_id===(null===Se||void 0===Se||null===(n=Se.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.id)&&"None"!==e.status}))?"100px":"60px"}}),0!==(null===Se||void 0===Se||null===(ne=Se.processModule)||void 0===ne?void 0:ne.stepIndex)&&0===(null===we||void 0===we?void 0:we.length)&&a.createElement("div",{style:{display:"flex",margin:"auto",width:"100%",height:"500px",alignContent:"center",alignItems:"center",justifyItems:"center",justifyContent:"center"}},(0,p.lh)("30px")),(void 0==(null===Se||void 0===Se||null===(le=Se.processModule)||void 0===le?void 0:le.stepIndex)||(null===Se||void 0===Se||null===(oe=Se.processModule)||void 0===oe?void 0:oe.stepIndex)<2)&&we.length>0&&!Xe&&!ln&&hn&&"inactive"!==(null===Me||void 0===Me?void 0:Me.status)&&function(e){var n=we.length>0?function(){var e=we.find((function(e){var n;return 1==(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.asGraphical)}));return void 0===e?[]:Y.sortWith([Y.descend(Y.prop("created_date"))])(Ze.filter((function(n){return n.module_id===e.id}))).filter((function(e){var n;return(null===(n=e.component_fields)||void 0===n?void 0:n.filter((function(e){var n;return"Status"===e.data_type_name&&!(e.value===(null===(n=Me.misc_info)||void 0===n?void 0:n.lock)||"Closed"===e.value||"Cancelled"===e.value)})).length)>0})).map((function(e,n){var l,o,i,t,d=e.component_fields.find((function(e){return"Link"===e.data_type_name}));return a.createElement("div",{key:n,className:W.imageCard},d&&((null===(l="".concat(null===d||void 0===d?void 0:d.value))||void 0===l?void 0:l.includes("jpg"))||(null===(o="".concat(null===d||void 0===d?void 0:d.value))||void 0===o?void 0:o.includes("jpeg"))||(null===(i="".concat(null===d||void 0===d?void 0:d.value))||void 0===i?void 0:i.includes("png"))||(null===d||void 0===d||null===(t=d.options)||void 0===t?void 0:t.image))&&a.createElement("img",{alt:"lg",src:null===d||void 0===d?void 0:d.value,style:{objectFit:"fill",height:"160px"}}))}))}():[],l=e?function(e){return Y.sortWith([Y.descend(Y.prop("created_date"))])(Ze.filter((function(n){return n.module_id===e.id}))).filter((function(e){return"None"===(null===e||void 0===e?void 0:e.status)})).filter((function(n){var l,o,i,t;return!((null===(l=e.options)||void 0===l?void 0:l.activeFor)>0&&C()((0,E.now)()).diff(C()(n.created_date),"minutes")>+(null===(o=e.options)||void 0===o?void 0:o.activeFor))||!("New"===n.status||"Unassigned"===n.status)||(null===(i=n.assigned_to)||void 0===i?void 0:i.id)||(null===n||void 0===n||null===(t=n.payments)||void 0===t?void 0:t.id)})).map((function(n,l){var o,i,t,d=n.component_fields.find((function(e){return"Value Button"===e.data_type_name&&(null===e||void 0===e?void 0:e.value)})),u=null===(o=Se.processModule.completeSteps[0].component_blueprints)||void 0===o||null===(i=o.find((function(e){var n,l,o;return 1==e.options.asModuleList&&(xe.positions.filter((function(n){var l,o;return null===(l=e.options)||void 0===l||null===(o=l.showOnly)||void 0===o?void 0:o.includes(n.id)})).length>0||0==(null===(n=e.options)||void 0===n||null===(l=n.showOnly)||void 0===l?void 0:l.length)||void 0===(null===(o=e.options)||void 0===o?void 0:o.showOnly))})))||void 0===i||null===(t=i.selected_fields)||void 0===t?void 0:t.map((function(e){return e.field_name}));return a.createElement("div",{key:l,className:W.componentCard,style:{display:"flex",border:"0.6px solid var(--app-color-gray-lighter)",fontWeight:"normal",alignItems:"flex-start",padding:"30px 10px",height:"200px",userSelect:"none"},"app-color-variant":"".concat(l%5+1),onClick:function(){j(Ce,qe,sn,Me,n,Gn,xe,Se,Ee,we,Je,Ne,e)}},a.createElement("div",{style:{width:d?"80%":"100%",fontFamily:"var(--app-text-mobile-font)",padding:"5px 0px 10px 20px",textAlign:"left"}},u.map((function(e,l){var o,i=n.component_fields.find((function(n){return n.field_name===e}));return"Positions"===(null===i||void 0===i?void 0:i.data_type_name)?a.createElement("div",{key:l,style:{fontSize:0==l?"15px":"10px",fontWeight:0==l?"bold":""}},"".concat(null===(o=De.find((function(e){return(null===e||void 0===e?void 0:e.value)===(null===i||void 0===i?void 0:i.value)})))||void 0===o?void 0:o.label)):a.createElement("div",{key:l,style:{fontSize:0==l?"14px":"10px",fontWeight:0==l?"bold":"",margin:"2px 0"}},null===i||void 0===i?void 0:i.value)})),a.createElement("div",{style:{fontSize:"10px",fontWeight:"bold",width:"100%"}},null===e||void 0===e?void 0:e.name)))}))}(e):[];return a.createElement("div",{className:W.center,style:{display:(null===n||void 0===n?void 0:n.length)>0||(null===l||void 0===l?void 0:l.length)>0?"":"none",width:"100%",minWidth:"360px",backgroundColor:"var(--app-color-gray-lightest)",flexDirection:"column",marginTop:"5px"}},a.createElement(q.tq,{slidesPerView:"auto",centeredSlides:!0,spaceBetween:6,initialSlide:1,pagination:{clickable:!0,dynamicBullets:!0},modules:[F.pt,F.tl],className:"mySwiper"},(null===l||void 0===l?void 0:l.length)>0&&l.map((function(e,n){return a.createElement(q.o5,{key:n,className:W.swiperslide},e)})),(null===n||void 0===n?void 0:n.length)>0&&n.map((function(e,n){return a.createElement(q.o5,{key:n,className:W.swiperslide},e)}))))}(null!==(ie=null===Se||void 0===Se||null===(te=Se.processModule)||void 0===te?void 0:te.module)&&void 0!==ie?ie:null===we||void 0===we?void 0:we.find((function(e){var n;return!0===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.asMobileApp)}))),(null===Se||void 0===Se||null===(de=Se.processModule)||void 0===de?void 0:de.stepIndex)<2&&hn&&!Xe&&!ln&&"inactive"!==(null===Me||void 0===Me?void 0:Me.status)&&function(){var e=we.filter((function(e){var n;return!0===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.asMobileApp)}));return a.createElement("div",{style:{width:"100%",minWidth:"360px",backgroundColor:"var(--app-color-gray-lightest)",flexDirection:"column",marginTop:"10px"}},a.createElement(q.tq,{slidesPerView:2,spaceBetween:0,initialSlide:0,pagination:{clickable:!0,dynamicBullets:!0},modules:[F.pt,F.tl],className:"mySwiper"},e.map((function(e,n){var l;return a.createElement(q.o5,{key:n},a.createElement("div",{style:{padding:"10px",userSelect:"none"}},a.createElement(B.Z,{photo:null===(l=e.options)||void 0===l?void 0:l.background,height:"20vh",width:b.tq?"20vh":"",email:null===e||void 0===e?void 0:e.name,cardClicked:function(){var n,l,o=(null===Ee||void 0===Ee||null===(n=Ee.positions)||void 0===n||null===(l=n.filter((function(n){var l,o;return(null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.processors)||void 0===o?void 0:o.indexOf(n.id))>-1})))||void 0===l?void 0:l.length)>0;Xn(o),ol(we,e,o),gn(!0),$e(!1),on(!1)}})))}))))}(null!==(ae=null===Se||void 0===Se||null===(ue=Se.processModule)||void 0===ue?void 0:ue.module)&&void 0!==ae||(null===we||void 0===we||we.find((function(e){var n;return!0===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.asMobileApp)})))),!(Xe||ln)&&a.createElement("div",{className:W.host,style:{display:"inactive"===Me.status?"none":"",width:"100%"}},a.createElement("div",{className:W.dashboardPanel,style:{display:"flex",margin:"0px 0 0 0"}},(null===Se||void 0===Se||null===(re=Se.processModule)||void 0===re||null===(ve=re.steps)||void 0===ve?void 0:ve.length)>0&&ke.length>0&&!Ge?a.createElement(S.ZP,{isProcessorOnly:Qn,paymentID:nl,navigateTo:mn,selectedComponent:null!==Fe&&void 0!==Fe?Fe:{},setSelectedComponent:qe,selectedProcess:Se.processModule,onCancel:function(){sn(!1),Je(!0),setTimeout((function(){return Je(!1)}))}}):a.createElement(h.$j,{type:"BallTriangle",color:"black",height:40,width:"40px"}))),Xe&&a.createElement("div",{style:{width:"100%",padding:"0 40px"}},a.createElement(T.default,null)),ln&&a.createElement("div",{style:{width:"100%",padding:"0 10px"}},a.createElement(ul,null)),(void 0==(null===Se||void 0===Se||null===(se=Se.processModule)||void 0===se?void 0:se.stepIndex)||(null===Se||void 0===Se||null===(ce=Se.processModule)||void 0===ce?void 0:ce.stepIndex)<2)&&we.length>0&&a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"0",width:"100%"}},a.createElement(il,null)),Zn&&a.createElement(h.U7,{hasCloseIcon:!0,isOpen:Zn,onClose:function(){Mn(!1),Nn(-1)},backdropColor:!0,blured:!1,scrollable:!0,shadowedContainerStyle:{width:"100%"}},a.createElement("div",{className:W.userPanelRows,style:{height:"auto",minHeight:"540px",marginTop:"20px",display:In>0?"none":""}},a.createElement(T.LabeledContainer,{label:"Billing & Payments"}),a.createElement("div",{className:W.wallet},a.createElement("div",{style:{color:"white",fontSize:"14px"}},"Reward Points:"),a.createElement("div",{style:{color:"white",fontSize:"20px",fontWeight:"bold",margin:"5px 0 20px"}},null!==(pe=null===Ee||void 0===Ee||null===(me=Ee.options)||void 0===me||null===(fe=me.points)||void 0===fe?void 0:fe.toFixed(2))&&void 0!==pe?pe:"0.00"," Pts"),a.createElement("div",{style:{color:"white",fontSize:"14px"}},"Payments Wallet:"),a.createElement("div",{style:{color:"white",fontSize:"20px",fontWeight:"bold",margin:"5px 0 80px"}},"Php ",null!==(_e=null===xe||void 0===xe||null===(ye=xe.wallet)||void 0===ye?void 0:ye.toFixed(2))&&void 0!==_e?_e:"0.00"),a.createElement("div",{className:W.actionsContainer},a.createElement(r.Z,{clear:!0,title:"Top Up",clicked:function(){return Nn(0)},style:{backgroundColor:"var(--app-color-blue)",color:"white",width:"140px",display:In>-1?"none":""}})),a.createElement("div",{style:{width:"inherit",display:-1===In?"none":""}},a.createElement("div",{style:{color:"white"},onClick:function(){return Nn(-1)}},"Select your denomination:"),a.createElement(r.Z,{light:!0,title:"Php 500.00",clicked:function(){return Nn(500)},style:{width:"100%"}}),a.createElement(r.Z,{light:!0,title:"Php 1000.00",clicked:function(){return Nn(1e3)},style:{width:"100%"}}),a.createElement(r.Z,{light:!0,title:"Php 2000.00",clicked:function(){return Nn(2e3)},style:{width:"100%"}}),a.createElement(r.Z,{light:!0,title:"Php 3000.00",clicked:function(){return Nn(3e3)},style:{width:"100%"}}))),a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},a.createElement(r.Z,{loading:Le,light:!0,titleStyle:{fontWeight:"normal"},title:zn?"Hide":"Show Recent Payments",style:{marginRight:"40px"},clicked:function(){zn?Rn(!1):(ze(!0),(0,I.GP)().pipe((0,_.P)()).subscribe({next:function(e){ze(!1),Rn(!0),An(e.data)},error:function(){}}))}})),a.createElement("div",{style:{display:zn?"":"none",padding:"20px 0px",fontFamily:"var(--app-text-mobile-font)"}},a.createElement("p",{style:{fontFamily:"var(--app-text-mobile-font)",fontWeight:"bold"}},"Recent Payments:"),a.createElement("br",null),a.createElement("br",null),a.createElement(L.default,{title:"",card:!0,className:W.listContainer,isReport:!1,"app-variant-is-mobile":"true",columns:["Date","ID","Source","Amount"],list:Dn.map((function(e){var n,l;return{Date:"".concat(C()(e.starts_at).format("YY MMM DD h:mm a")),ID:"".concat(null===(n=e.stripe_id)||void 0===n?void 0:n.substring(0,15)),Source:"".concat(e.stripe_status),Amount:"".concat(null===(l=+e.stripe_price)||void 0===l?void 0:l.toFixed(2))}}))}))),In>0?a.createElement(k.default,{label:" ",withBack:!1,paymentPath:"wallet",onClose:function(){return Mn(!1)},companyData:Me,subscriptionInfo:{user_id:xe.id,ref:xe.id,plan_price:In,currency:"PHP",description:"Credits",plan:"Wallet",total:In,billable_users:[Ee],duration:0,dlabel:"Flowhero",id:(0,p.mR)()},onError:function(){return Mn(!1)}}):a.createElement(a.Fragment,null,a.createElement("p",{style:{fontSize:"10px"}},""!==P.lw?"Payments by":""),a.createElement("img",{src:"https://files.readme.io/7586db8-small-paymongo_api_white.png",style:{backgroundColor:"black",height:"30px",width:"140px"}}))),an&&a.createElement(S.pz,{modalVisible:an,heading:"Task for ".concat(null===Se||void 0===Se||null===(he=Se.processModule)||void 0===he||null===(ge=he.module)||void 0===ge?void 0:ge.name),task:!0===an?{}:an,isProcess:!0,blured:!0,shadowedContainerStyle:{width:"100%"},onClose:function(){return un(!1)},isEdit:!0!==an,labels:{valueL:"Value"}}),Ye&&a.createElement(h.P9,{openModal:Ye,setOpenModal:He,slug:null===Me||void 0===Me?void 0:Me.slug})))})),j=function(e,n,l,o,d,a,u,r,s,c,f,y,h){!function(){var b,x,E,C,w,Z,M,S,k,I,T,P,D,A,O,L,z,R,U,F,q,W,B,H,j,V,G=e.find((function(e){return e.id===h.procedure.id}));n(d),l(!0),o.start=!0;var J=[];(null===G||void 0===G||null===(b=G.steps)||void 0===b?void 0:b.length)>0&&(null===G||void 0===G||null===(x=G.steps)||void 0===x||x.filter((function(e){var n;return null===e||void 0===e||null===(n=e.component_blueprints)||void 0===n?void 0:n.filter((function(e){return e.selected_fields.filter((function(e){return e.value=void 0}))}))}))),Y.uniqWith(Y.eqProps("group"))(d.component_fields).map((function(e){J=[].concat((0,i.Z)(J),[{id:e.component_blueprint_id,temp_id:e.id,selected_fields:Y.filter(Y.propEq("group",e.group))(d.component_fields)}])})),G.steps.filter((function(e){e.component_blueprints.filter((function(e){e.selected_fields.filter((function(e){var n,l=null===(n=d.component_fields)||void 0===n?void 0:n.find((function(n){return n.field_name===e.field_name}));if(void 0!=l)e.value=l.value,e.group=l.group;else if("Record"===e.data_type_name){var o,i=null===(o=d.component_fields)||void 0===o?void 0:o.find((function(n){return n.field_name===e.options.name}));void 0!=i&&(e.value=i.value,e.group=i.group)}}))}))})),a({action:g._U.setComponents,value:J}),a({action:g._U.setModuleItems,value:JSON.parse(JSON.stringify(d.component_items))});var K,Q,X,$=G.steps.filter((function(e){var n,l,o,i,t,d;return void 0==(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.showStepAll)||1==(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.showStepAll)||0==(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.showStepAll)&&(null===e||void 0===e||null===(i=e.options)||void 0===i||null===(t=i.showOnly)||void 0===t?void 0:t.filter((function(e){return u.positions.map((function(e){return e.id})).indexOf(e)>-1})).length)>0||(null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.showStepAuthor)&&(null===u||void 0===u?void 0:u.id)===(null===G||void 0===G?void 0:G.user_id)})).map((function(e,n){return(0,t.Z)((0,t.Z)({},e),{},{rank:n+1})})),ee=(null===r||void 0===r||null===(E=r.processModule)||void 0===E||null===(C=E.steps)||void 0===C?void 0:C.length)>0?null===r||void 0===r||null===(w=r.processModule)||void 0===w||null===(Z=w.steps)||void 0===Z||null===(M=Z.find((function(e){return(null===e||void 0===e?void 0:e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Status"===e.data_type_name})).length>0})).length)>0})))||void 0===M||null===(S=M.component_blueprints)||void 0===S||null===(k=S.find((function(e){return e.selected_fields.filter((function(e){return"Status"===e.data_type_name})).length>0})))||void 0===k||null===(I=k.options)||void 0===I?void 0:I.showOnly:[],ne=(null===r||void 0===r||null===(T=r.processModule)||void 0===T||null===(P=T.steps)||void 0===P?void 0:P.length)>0?null===r||void 0===r||null===(D=r.processModule)||void 0===D||null===(A=D.steps)||void 0===A||null===(O=A.find((function(e){return(null===e||void 0===e?void 0:e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Action Button"===e.data_type_name})).length>0})).length)>0})))||void 0===O||null===(L=O.component_blueprints.find((function(e){var n;return(null===(n=e.selected_fields.filter((function(e){return"Action Button"===e.data_type_name})))||void 0===n?void 0:n.length)>0})))||void 0===L||null===(z=L.options)||void 0===z?void 0:z.showOnly:[],le=void 0===d.status&&((null===s||void 0===s?void 0:s.id)===(null===G||void 0===G?void 0:G.user_id)||(null===ee||void 0===ee?void 0:ee.filter((function(e){var n;return(null===u||void 0===u||null===(n=u.positions)||void 0===n?void 0:n.map((function(e){return e.id})).indexOf(e))>-1})).length)>0)||(void 0===d.status||"New"===d.status||"None"===d.status)&&(null===d||void 0===d||null===(R=d.created_by)||void 0===R?void 0:R.id)===(null===u||void 0===u?void 0:u.id)||void 0!==d.status&&!("Closed"===d.status||d.status===(null===o||void 0===o||null===(U=o.misc_info)||void 0===U?void 0:U.lock))&&(null===ee||void 0===ee?void 0:ee.filter((function(e){var n;return(null===u||void 0===u||null===(n=u.positions)||void 0===n?void 0:n.map((function(e){return e.id})).indexOf(e))>-1})).length)>0&&(1!=(null===c||void 0===c||null===(F=c.find((function(e){return e.id===d.module_id})))||void 0===F||null===(q=F.options)||void 0===q?void 0:q.strict)||(null===d||void 0===d||null===(W=d.created_by)||void 0===W?void 0:W.id)!==(null===s||void 0===s?void 0:s.id))||!1===(null===d||void 0===d?void 0:d.is_complete)&&(null===d||void 0===d||null===(B=d.created_by)||void 0===B?void 0:B.id)===(null===s||void 0===s?void 0:s.id),oe=(0,p.cQ)(d.status,ne,d,s,r,o),ie=null!==(H=null===(j=d.component_fields.find((function(e){return"Action Button"===e.data_type_name})))||void 0===j?void 0:j.value)&&void 0!==H?H:"";(m.h.dispatch((0,v.q4)((0,t.Z)((0,t.Z)({},G),{},{completeSteps:G.steps,steps:$,stepIndex:1==le&&d.created_by.id===u.id&&ie||(!le||d.created_by.id!==u.id&&G.user_id!==u.id)&&(!oe||ie!==u.id&&G.user_id!==u.id)?0:1,canEdit:!(1==le&&d.created_by.id===u.id&&ie||(!le||d.created_by.id!==u.id&&G.user_id!==u.id)&&(!oe||ie!==u.id&&G.user_id!==u.id)),status:d.status,back_array:$.length>0?[$[0].id]:[],module_id:d.module_id,module:null===c||void 0===c?void 0:c.find((function(e){return e.id===d.module_id})),isUpdating:!0,selectedComponent:d,showDetail:!0}))),f(!0),null!==d&&void 0!==d&&null!==(V=d.assigned_to)&&void 0!==V&&V.id&&!y.find((function(e){var n;return e.id===(null===d||void 0===d||null===(n=d.assigned_to)||void 0===n?void 0:n.id)})))?(0,N.VG)(y.find((function(e){var n;return e.id===(null===(n=d.created_by)||void 0===n?void 0:n.id)}))?[null===d||void 0===d||null===(K=d.assigned_to)||void 0===K?void 0:K.id]:[null===d||void 0===d||null===(Q=d.assigned_to)||void 0===Q?void 0:Q.id,null===d||void 0===d||null===(X=d.created_by)||void 0===X?void 0:X.id]).pipe((0,_.P)()).subscribe({next:function(e){m.h.dispatch((0,v.NY)(y.concat(e))),setTimeout((function(){f(!1),window.scrollTo({top:0,behavior:"smooth"})}))}}):setTimeout((function(){f(!1),window.scrollTo({top:0,behavior:"smooth"})}))}()}},51330:function(e,n,l){"use strict";var o=l(1413),i=l(93433),t=l(29439),d=l(67861),a=l(48963),u=l(47144),r=l.n(u),v=l(27436),s=l(10904),c=l(88550),p=l(30490),m=l(89293),f=l(12075),_=l(52902),y=l(73500),h=l(50981),g=l.n(h);n.Z=function(e){var n,l,u,h,b,x,E,C,w,Z,M,S,k,I,N,T,P,D,A,O,L,z=e.component,R=e.blueprintIndex,U=e.nextButtonClicked,F=e.setIsMandatoryError,q=e.authenticatedUser,W=e.begunModule,B=e.selectedComponent,Y=e.editMode,H=e.shouldDisplay,j=void 0===H?(!1===(null===z||void 0===z||null===(n=z.options)||void 0===n?void 0:n.useCustomTemplate)||void 0===(null===z||void 0===z||null===(l=z.options)||void 0===l?void 0:l.useCustomTemplate))&&(void 0===(null===z||void 0===z||null===(u=z.options)||void 0===u?void 0:u.showOnly)||(!((null===z||void 0===z||null===(h=z.options)||void 0===h||null===(b=h.showOnly)||void 0===b?void 0:b.length)>0)||(null===z||void 0===z||null===(x=z.options)||void 0===x||null===(E=x.showOnly)||void 0===E?void 0:E.filter((function(e){var n;return(null===q||void 0===q||null===(n=q.positions)||void 0===n?void 0:n.filter((function(n){return n.id===e})).length)>0})).length)>0)):H,V=e.isEnabled,G=void 0===V?void 0===(null===B||void 0===B?void 0:B.id)||((null===B||void 0===B||null===(C=B.created_by)||void 0===C?void 0:C.id)===q.id||(void 0===(null===W||void 0===W||null===(w=W.processModule)||void 0===w||null===(Z=w.module)||void 0===Z||null===(M=Z.options)||void 0===M?void 0:M.strict)||0==(null===W||void 0===W||null===(S=W.processModule)||void 0===S||null===(k=S.module)||void 0===k||null===(I=k.options)||void 0===I?void 0:I.strict)||void 0!==(null===z||void 0===z||null===(N=z.options)||void 0===N?void 0:N.showOnly)&&((null===z||void 0===z||null===(T=z.options)||void 0===T||null===(P=T.showOnly)||void 0===P?void 0:P.length)>0&&(null===z||void 0===z||null===(D=z.options)||void 0===D||null===(A=D.showOnly)||void 0===A?void 0:A.filter((function(e){var n;return(null===q||void 0===q||null===(n=q.positions)||void 0===n?void 0:n.filter((function(n){return n.id===e})).length)>0})).length)>0))):V,J=e.hideTitle,K=void 0!==J&&J,Q=(0,c.pQ)(),X=(0,t.Z)(Q,2),$=X[0],ee=X[1],ne=(0,d.useState)(a.Z.active),le=(0,t.Z)(ne,1)[0],oe=(0,d.useState)(!1),ie=(0,t.Z)(oe,2),te=ie[0],de=ie[1],ae=(0,d.useState)(""),ue=(0,t.Z)(ae,1)[0],re=(0,d.useState)(g()()),ve=(0,t.Z)(re,2),se=ve[0],ce=ve[1],pe=(0,d.useRef)(null),me=null===(O=$.currentStep)||void 0===O?void 0:O.component_blueprints.findIndex((function(e){return e.id===(null===z||void 0===z?void 0:z.id)}));(0,d.useEffect)((function(){fe()}),[U]),(0,d.useEffect)((function(){var e;if(null!==z&&void 0!==z&&null!==(e=z.selected_fields)&&void 0!==e&&e.find((function(e){return"Clock"===e.data_type_name&&!0===e.visible}))){var n=setInterval((function(){ce(g()())}),1e3);return function(){window.clearInterval(n)}}}),[]);var fe=function(){var e;null!==z&&void 0!==z&&null!==(e=z.selected_fields)&&void 0!==e&&e.some((function(e){var n;return!0===e.mandatory&&!0===e.visible&&"output"!==e.data_type&&(!e.value||(null===e||void 0===e||null===(n=e.value)||void 0===n?void 0:n.length)<1)}))?F(!0):F(!1)},_e=function(e,n){var l,o,t,d=(0,i.Z)(null!==(l=null===(o=$.currentStep)||void 0===o?void 0:o.component_blueprints)&&void 0!==l?l:[]),a=null===(t=d[me])||void 0===t?void 0:t.selected_fields[n];"Number"===(null===a||void 0===a?void 0:a.data_type_name)?Number(+e)?a.value=e:""===e&&(a.value=""):null!==a&&void 0!==a&&a.data_type_name&&(a.value=e),null!==a&&void 0!==a&&a.value&&a.mandatory&&(a.errors=""),fe(),ee({action:c._U.setComponentBlueprints,value:d}),ee({action:c._U.setModuleNewStepComponents,value:d})},ye=(0,d.useCallback)((function(e,n,l){var o,t,d,a=(0,i.Z)(null!==(o=null===(t=$.currentStep)||void 0===t?void 0:t.component_blueprints)&&void 0!==o?o:[]),u=null===(d=a[me])||void 0===d?void 0:d.selected_fields[n];u.options.country_code=null===e||void 0===e?void 0:e.countryCode,u.options.country_name=null===e||void 0===e?void 0:e.name,u.options.country_prefix="+".concat(null===e||void 0===e?void 0:e.dialCode),ee({action:c._U.setComponentBlueprints,value:a}),ee({action:c._U.setModuleNewStepComponents,value:a}),_e(l,n)}),[$]),he=(0,d.useCallback)((function(e,n){var l,o,t,d=(0,i.Z)(null!==(l=null===(o=$.currentStep)||void 0===o?void 0:o.component_blueprints)&&void 0!==l?l:[]),a=null===(t=d[me])||void 0===t?void 0:t.selected_fields[n];a.options.currency_type=null===e||void 0===e?void 0:e.label,a.options.currency_value=null===e||void 0===e?void 0:e.value,a.options.symbol=null===e||void 0===e?void 0:e.symbol,ee({action:c._U.setComponentBlueprints,value:d}),ee({action:c._U.setModuleNewStepComponents,value:d})}),[$]);return d.createElement("div",{id:"accordion",className:a.Z.section,key:R,style:{display:j?"":"none",pointerEvents:G?"":"none"}},d.createElement("div",{className:r()(a.Z.accordionContainer,le),"app-variant-has-error":ue?"error":"",style:{border:y.tq?"0":"",padding:y.tq?"0":"",margin:y.tq?"0":""}},!K&&d.createElement("p",{className:y.tq?a.Z.titleII:a.Z.title},null===z||void 0===z?void 0:z.name),d.createElement("div",{ref:pe,style:{maxHeight:le===a.Z.active?"":"0px",display:"flex"},className:a.Z.content},d.createElement(p.g,{component:z,selectedComponent:B,handleInputChange:_e,handlePrefixChange:ye,handleCurrencyChange:he,checkIfAreMandatoryErrored:fe,handleCheckbox:function(e,n){var l,o,t,d=(0,i.Z)(null!==(l=null===(o=$.currentStep)||void 0===o?void 0:o.component_blueprints)&&void 0!==l?l:[]),a=null===(t=d[me])||void 0===t?void 0:t.selected_fields[n];a&&(a.value=e,null!==a&&void 0!==a&&a.value&&a.mandatory&&(a.errors=""),ee({action:c._U.setComponentBlueprints,value:d}),ee({action:c._U.setModuleNewStepComponents,value:d}),fe())},isInherited:!1,indexInContextArray:me,handleLocationChange:function(e,n){var l,o,t,d=(0,i.Z)(null!==(l=null===(o=$.currentStep)||void 0===o?void 0:o.component_blueprints)&&void 0!==l?l:[]);(null===(t=d[me])||void 0===t?void 0:t.selected_fields[n]).value="".concat(e.lat,", ").concat(e.lng),ee({action:c._U.setComponentBlueprints,value:d}),ee({action:c._U.setModuleNewStepComponents,value:d})},processTaskContext:$,setTaskProcessContext:ee,editMode:Y,setShowEdit:de,showEdit:te,clock:se})),d.createElement("div",{style:{paddingLeft:"10px",display:"flex"}},te&&(null===te||void 0===te?void 0:te.item_code)&&d.createElement(s.zx,{light:!0,clicked:function(){var e,n={};z.selected_fields.map((function(e){var l,i,t;if("Formula"===e.data_type_name){var d,a,u,r,v=(0,m.LV)(e.options,z.selected_fields.filter((function(n){return e.options.list.includes(n.field_name)})),$.components,null!==(d=$.items)&&void 0!==d?d:[],null!==(a=null===$||void 0===$?void 0:$.newStepComponents)&&void 0!==a?a:[]);if(null!==e&&void 0!==e&&null!==(u=e.options)&&void 0!==u&&u.mapToItem)n[null===e||void 0===e||null===(r=e.options)||void 0===r?void 0:r.mapToItem]="".concat(null!==v&&void 0!==v?v:"");return(0,o.Z)((0,o.Z)({},e),{},{value:"".concat(null!==v&&void 0!==v?v:"")})}null!==e&&void 0!==e&&null!==(l=e.options)&&void 0!==l&&l.mapToItem&&(n[null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.mapToItem]="".concat(null!==(t=null===e||void 0===e?void 0:e.value)&&void 0!==t?t:""));return e}));var l=null===(e=$.items)||void 0===e?void 0:e.find((function(e){return e.id===(null===te||void 0===te?void 0:te.id)}));ee(void 0===l?{action:c._U.addModuleItems,value:(0,o.Z)((0,o.Z)({},n),{},{id:(0,m.mR)()})}:{action:c._U.updateModuleItems,value:(0,o.Z)((0,o.Z)({},l),n)}),de(!1),z.selected_fields.map((function(e,n){_e("",n)}))}},d.createElement(f.G,{icon:_.r6l,style:{width:"20px",height:"20px"}})),te&&!(null!==te&&void 0!==te&&te.item_code)&&d.createElement(s.zx,{clicked:function(){ee({action:c._U.removeModuleComponents,value:te.temp_id}),de(!1)}},d.createElement(f.G,{icon:_.$aW,style:{width:"20px",height:"20px"}})),te&&(null===te||void 0===te?void 0:te.item_code)&&d.createElement(s.zx,{light:!0,clicked:function(){te.item_code&&(te.alt_value||te.quantity||te.total)?ee({action:c._U.removeModuleItems,value:te}):ee({action:c._U.removeModuleComponents,value:te.temp_id}),de(!1),z.selected_fields.map((function(e,n){_e("",n)}))}},d.createElement(f.G,{icon:_.$aW,style:{width:"20px",height:"20px"}})))),ue&&(null===ue||void 0===ue||null===(L=ue.errors)||void 0===L?void 0:L.title)&&d.createElement(v.Z,{message:ue.errors.title}),ue&&(null===ue||void 0===ue?void 0:ue.message)&&d.createElement(v.Z,{message:ue.message}))}},30490:function(e,n,l){"use strict";l.d(n,{g:function(){return Me}});var o=l(87462),i=l(45987),t=l(1413),d=l(4942),a=l(93433),u=l(29439),r=l(67861),v=l(48963),s=l(85692),c=l(79633),p=l(6073),m=l(94667),f=l(63864),_=l(75105),y=l(11577),h=l(10103),g=l(10904),b=l(66180),x=l.n(b),E=l(89293),C=l(88550),w=l(29960),Z=(l(13721),l(65947)),M=l(12308),S=l(9825),k=l.n(S),I=l(4358),N=l(49523),T=l(25403),P=l(4292),D=l(32086),A=l(68218),O=l(84634),L=l(35606),z=l(79544),R=l(98032),U=l(97606),F=l(8284),q=l(13397),W=l(3616),B=l(90421),Y=l(7538),H=l(77802),j=l(50981),V=l.n(j),G=l(91426),J=l(60534),K=l(48630),Q=l(12075),X=l(52902),$=l(32588),ee=l(39518),ne=l(27426),le=l(27658),oe=l(34710),ie=l(44408),te=l(23910),de=(l(56120),l(37704),l(72666),l(68623),l(3863),l(95361),l(52950)),ae=l(51481),ue=l(68635),re=l.n(ue),ve=l(1542),se=(l(31266),l(84952),l(30519)),ce=l(20089),pe=l(73500),me=(l(68140),l(20777)),fe=l(58535),_e=l(32562),ye=l(88827),he=l(88374),ge=l(93389),be=l(95007),xe=l(41131);e=l.hmd(e);var Ee=["height","start","onClick"],Ce=["height","start","onClick"],we=["height","start","onClick"],Ze="20",Me=(0,r.memo)((function(n){var l,b,S,ue,me,Me,Ne,Te=n.component,Pe=n.selectedComponent,De=n.handleInputChange,Ae=void 0===De?function(){}:De,Oe=n.indexInContextArray,Le=void 0===Oe?0:Oe,ze=n.handleCheckbox,Re=void 0===ze?function(){}:ze,Ue=n.processTaskContext,Fe=n.setTaskProcessContext,qe=n.isInherited,We=void 0!==qe&&qe,Be=n.checkIfAreMandatoryErrored,Ye=void 0===Be?function(){}:Be,He=n.handlePrefixChange,je=void 0===He?function(){}:He,Ve=n.handleCurrencyChange,Ge=void 0===Ve?function(){}:Ve,Je=n.handleLocationChange,Ke=void 0===Je?function(){}:Je,Qe=n.editMode,Xe=void 0!==Qe&&Qe,$e=n.setShowEdit,en=void 0===$e?function(){}:$e,nn=n.isDraft,ln=void 0!==nn&&nn,on=n.clock,tn=(0,ee.v9)((function(e){return e.authReducer})).authenticatedUser,dn=(0,ee.v9)((function(e){return e.flowReducer})),an=dn.currentLocation,un=dn.allTasks,rn=dn.allModules,vn=dn.blueprints,sn=dn.begunModule,cn=dn.components,pn=dn.companyData,mn=dn.companyUsersArray,fn=dn.companyPositionsArray,_n=dn.lastUpdates,yn=(0,r.useState)(!1),hn=(0,u.Z)(yn,2),gn=hn[0],bn=hn[1],xn=(0,r.useState)(new Date),En=(0,u.Z)(xn,2),Cn=En[0],wn=En[1],Zn=(0,r.useState)([new Date,new Date(V()().add(7,"days"))]),Mn=(0,u.Z)(Zn,2),Sn=Mn[0],kn=Mn[1],In=(0,u.Z)(Sn,2),Nn=In[0],Tn=In[1],Pn=(0,r.useState)(""),Dn=(0,u.Z)(Pn,2),An=Dn[0],On=Dn[1],Ln=(0,r.useState)([{label:"",value:""}]),zn=(0,u.Z)(Ln,2),Rn=zn[0],Un=zn[1],Fn=(0,r.useState)(!0),qn=(0,u.Z)(Fn,2),Wn=qn[0],Bn=qn[1],Yn=(0,r.useState)(!0),Hn=(0,u.Z)(Yn,2),jn=Hn[0],Vn=Hn[1],Gn=(0,r.useState)({source:!1,destination:!1}),Jn=(0,u.Z)(Gn,2),Kn=Jn[0],Qn=Jn[1],Xn=(0,r.useState)("50px"),$n=(0,u.Z)(Xn,2),el=$n[0],nl=$n[1],ll=(0,r.useState)(Array(12).fill("")),ol=(0,u.Z)(ll,2),il=ol[0],tl=ol[1],dl=(0,r.useState)({candidates:[]}),al=(0,u.Z)(dl,2),ul=al[0],rl=al[1],vl=(0,r.useState)(!1),sl=(0,u.Z)(vl,2),cl=sl[0],pl=sl[1],ml=(0,r.useState)({}),fl=(0,u.Z)(ml,2),_l=fl[0],yl=fl[1],hl=(0,r.useState)("day"),gl=(0,u.Z)(hl,2),bl=gl[0],xl=gl[1],El=(0,r.useState)(),Cl=(0,u.Z)(El,2),wl=Cl[0],Zl=Cl[1],Ml=(0,r.useRef)(),Sl=(0,r.useState)(mn.map((function(e){return{label:e.first_name+" "+e.last_name,value:e.id,user:e}}))),kl=(0,u.Z)(Sl,2),Il=kl[0],Nl=kl[1],Tl=function(e,n){kn(e),Ae(e,n)},Pl=function(e,n){wn(e),Ae(e,n)},Dl=(0,r.useCallback)((function(e){void 0!==e&&(0==Il.length?bn(!0):bn(!1),(0,_.n0)(e).pipe((0,y.P)()).subscribe({next:function(e){Nl(e),bn(!1)}}))}),[]),Al=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(n[0]),o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null===(e=sn.processModule.module)||void 0===e?void 0:e.name;return r.createElement(g.zx,{light:!0,clicked:function(){var e,i,t,u=null===sn||void 0===sn||null===(e=sn.processModule)||void 0===e||null===(i=e.steps)||void 0===i?void 0:i.find((function(e){return e.component_blueprints.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.allowMultipleInputs)&&(null===(l=e.selected_fields)||void 0===l?void 0:l.find((function(e){return"Transaction List"===e.data_type_name})))})).length>0})),r=null===u||void 0===u||null===(t=u.component_blueprints)||void 0===t?void 0:t.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){return"Transaction List"===e.data_type_name&&!0===e.visible})).length)>0}));if(r){var v,s,c,p,m=null===sn||void 0===sn||null===(v=sn.processModule)||void 0===v||null===(s=v.steps)||void 0===s||null===(c=s.find((function(e){return e.component_blueprints.filter((function(e){var n;return null===(n=e.selected_fields)||void 0===n?void 0:n.find((function(e){return"Template"===e.data_type_name}))})).length>0})))||void 0===c||null===(p=c.component_blueprints)||void 0===p?void 0:p.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){return"Template"===e.data_type_name&&!0===e.visible})).length)>0}));(0,xe._G)(Pe,r,m,l,n,sn,o)}else{var f,_=l,y=be.utils.book_new(),h=be.utils.json_to_sheet([]);be.utils.sheet_add_json(h,n.map((function(e){return Object.assign.apply(Object,[{}].concat((0,a.Z)(_.map((function(n){return(0,d.Z)({},n,e[n])})))))})),{origin:"A2",skipHeader:!0}),be.utils.book_append_sheet(y,h,"".concat(null===(f=sn.processModule.module)||void 0===f?void 0:f.name)),(0,be.writeFile)(y,"".concat(o).concat((0,j.now)(),".xlsx"))}},icon:r.createElement("img",{src:s.so})})},Ol=(0,r.useCallback)((function(e){var n;if(0!=(null===e||void 0===e||null===(n=e.analyze)||void 0===n?void 0:n.length)&&void 0!=(null===e||void 0===e?void 0:e.analyze)){var l={role:"user",parts:[{text:e.analyze}]};1==(null===e||void 0===e?void 0:e.current)?l.parts=[].concat((0,a.Z)(l.parts),[{text:JSON.stringify({table:"Transaction",data:(0,t.Z)((0,t.Z)((0,t.Z)({},Ue.components.map((function(e){var n={};return e.selected_fields.filter((function(e){return n=(0,t.Z)((0,t.Z)({},n),{},(0,d.Z)({},e.field_name,e.value))})),n}))),Ue.newStepComponents.map((function(e){var n={};return e.selected_fields.filter((function(e){return n=(0,t.Z)((0,t.Z)({},n),{},(0,d.Z)({},e.field_name,e.value))})),n}))),{},{items:Ue.items.map((function(e){return{item:e.item_code,quantity:+e.quantity,value:e.value}}))})})}]):(void 0!==e.module_id&&(l.parts=[].concat((0,a.Z)(l.parts),[{text:JSON.stringify({table:rn.find((function(n){return n.id===e.module_id})).name,data:cn.filter((function(n){return n.module_id===e.module_id})).map((function(e){var n={};return e.component_fields.filter((function(e){return n=(0,t.Z)((0,t.Z)({},n),{},(0,d.Z)({},e.field_name,e.value))})),(0,t.Z)((0,t.Z)({},n),{},{created_date:e.created_date,created_by:e.created_by.id,items:null===e||void 0===e?void 0:e.component_items.map((function(e){return{item:e.item_code,quantity:+e.quantity,value:e.value}}))})}))})}])),void 0!==e.module2_id&&(l.parts=[].concat((0,a.Z)(l.parts),[{text:JSON.stringify({table:rn.find((function(n){return n.id===e.module2_id})).name,data:cn.filter((function(n){return n.module_id===e.module2_id})).map((function(e){var n={};return e.component_fields.filter((function(e){return n=(0,t.Z)((0,t.Z)({},n),{},(0,d.Z)({},e.field_name,e.value))})),(0,t.Z)((0,t.Z)({},n),{},{created_date:e.created_date,created_by:e.created_by.id,items:null===e||void 0===e?void 0:e.component_items.map((function(e){return{item:e.item_code,quantity:+e.quantity,value:e.value}}))})}))})}])),void 0!==e.module3_id&&(l.parts=[].concat((0,a.Z)(l.parts),[{text:JSON.stringify({table:rn.find((function(n){return n.id===e.module3_id})).name,data:cn.filter((function(n){return n.module_id===e.module3_id})).map((function(e){var n={};return e.component_fields.filter((function(e){return n=(0,t.Z)((0,t.Z)({},n),{},(0,d.Z)({},e.field_name,e.value))})),(0,t.Z)((0,t.Z)({},n),{},{created_date:e.created_date,created_by:e.created_by.id,items:null===e||void 0===e?void 0:e.component_items.map((function(e){return{item:e.item_code,quantity:+e.quantity,value:e.value}}))})}))})}]))),rl({candidates:[]}),bn(!0),(0,m.hd)(JSON.stringify(l)).pipe((0,y.P)()).subscribe({next:function(e){bn(!1),rl(e)},error:function(e){rl({candidates:[{content:{parts:[{text:JSON.stringify(e)}]}}]}),bn(!1)}})}else rl({candidates:[{content:{parts:[{text:"Enter a question that I could answer"}]}}]})}),[]),Ll=function(e){var n=e.field_name;return Te.selected_fields.findIndex((function(e){return e.field_name===n}))},zl=function(e){var n=Te.selected_fields.filter((function(e){return"Info"===e.data_type_name})),l=cn.find((function(n){return n.id===e}));n.map((function(n){var o;null===n||void 0===n||null===(o=n.options)||void 0===o||o.list.map((function(o){var i,t,d=null===(i=l.component_fields)||void 0===i?void 0:i.find((function(e){return e.field_name===o})),a=Ll({field_name:o});-1!=a&&(null===(t=l.component_fields)||void 0===t?void 0:t.length)>0&&(Te.selected_fields[a].value=d?d.value:"",n.value=e)}))})),Te.selected_fields.filter((function(e){return"Global"===e.data_type_name&&1==e.visible})).map((function(e){var n,o,i=null===(n=l.component_fields)||void 0===n?void 0:n.find((function(n){return n.field_name===e.field_name})),t=Ll({field_name:e.field_name});-1!=t&&(null===(o=l.component_fields)||void 0===o?void 0:o.length)>0&&i&&(Te.selected_fields[t].value=null===i||void 0===i?void 0:i.value)}))},Rl=function(e){var n,l;if(Ue){var o,i,t,d,a,u,r,v=null===(n=sn.processModule.module)||void 0===n||null===(l=n.options)||void 0===l?void 0:l.global;if(!v)v=null===Ue||void 0===Ue||null===(o=Ue.components.concat(null===Ue||void 0===Ue?void 0:Ue.newStepComponents).find((function(n){return n.selected_fields.filter((function(n){var l,o;return"Global"===n.data_type_name&&1==n.visible&&n.field_name===(null===(l=Te.selected_fields.find((function(n){return n.data_type_name===e&&1==n.visible})))||void 0===l||null===(o=l.options)||void 0===o?void 0:o.global)})).length>0})))||void 0===o||null===(i=o.selected_fields.find((function(e){return"Global"===e.data_type_name})))||void 0===i?void 0:i.value;if(!v)v=null===(t=N.Z(T.Z("component_blueprints"),P.Z)(null!==(u=null===sn||void 0===sn||null===(r=sn.processModule)||void 0===r?void 0:r.completeSteps)&&void 0!==u?u:[]).find((function(n){return n.selected_fields.filter((function(n){var l,o;return n.field_name===(null===(l=Te.selected_fields.find((function(n){return n.data_type_name===e&&1==n.visible})))||void 0===l||null===(o=l.options)||void 0===o?void 0:o.global)&&"Value"===n.data_type_name})).length>0})))||void 0===t||null===(d=t.selected_fields.find((function(e){return"Value"===e.data_type_name})))||void 0===d||null===(a=d.options)||void 0===a?void 0:a.value;return v?cn.filter((function(n){return n.component_fields.filter((function(n){var l,o;return n.value===v&&n.field_name===(null===(l=Te.selected_fields.find((function(n){return n.data_type_name===e})))||void 0===l||null===(o=l.options)||void 0===o?void 0:o.global)})).length>0})):cn}},Ul=function(){var n,l,o;null===(n=sn.processModule.module)||void 0===n||null===(l=n.options)||void 0===l||null===(o=l.supporting)||void 0===o||o.filter((function(n,l){var o,i,t;bn(!0),(0,ve.vC)({id:n,name:null!==(o="".concat(null===rn||void 0===rn||null===(i=rn.find((function(e){return e.id===n})))||void 0===i?void 0:i.name).concat(l))&&void 0!==o?o:"".concat(null===(t=e)||void 0===t?void 0:t.name).concat(l)},E.Qc,E.R6,1).pipe((0,h.q)(1)).subscribe({next:function(e){bn(!1)}})}))},Fl=function(e){var n,l,o,i,u,s,c,p,m,_,y,h,b,x,C,w,Z,M,S,I,N,T,P,A,O,L,z,R,U,F,q,W,B,Y,H,G,J,K,$,ee,ne,le,oe,ie,te,de,ae,ue,re,ve,se,ce,me,fe,_e,ye,he,ge,be=e.field,xe=(e.enabled,e.index),Ee=e.isItem,Ce=void 0!==Ee&&Ee,we=e.handleItem,Me=(e.withLabel,e.edit),ke=void 0===Me||Me,Ne=e.item;if("Dropdown"===(null===be||void 0===be?void 0:be.data_type_name)&&(null===be||void 0===be||null===(n=be.options)||void 0===n||null===(l=n.list)||void 0===l?void 0:l.length)>0)return ke?r.createElement("div",{style:{width:"100%",border:"0px solid var(--app-color-gray-light)"}},r.createElement(f.Z,{key:xe,visible:be.visible,mandatory:be.mandatory,items:null===be||void 0===be||null===(P=be.options)||void 0===P?void 0:P.list.map((function(e){return{label:e,value:e}})),className:v.Z.dropdownClassContainer,error:be.errors,onChange:function(e){Ce?we(e,xe):Re(e,xe)},selectionType:null===be||void 0===be||null===(A=be.options)||void 0===A?void 0:A.type,fieldIcon:be.icon,backgroundColor:null!==be&&void 0!==be&&null!==(O=be.options)&&void 0!==O&&O.valueC&&null!==be&&void 0!==be&&be.value?null===be||void 0===be||null===(L=be.options)||void 0===L?void 0:L.valueC:"",value:void 0===be.value||null===be.value?"":be.value})):r.createElement("div",null,null===be||void 0===be?void 0:be.value);if("Formula"===(null===be||void 0===be?void 0:be.data_type_name)&&(null===be||void 0===be||null===(o=be.options)||void 0===o||null===(i=o.operator)||void 0===i?void 0:i.length)>0&&!1===ln){var Pe,De,Oe,ze,Fe,qe,Be,He,je=Ue.newStepComponents.filter((function(e){return null===e.options||(void 0===e.allowMultipleInputs||!1===e.options.allowMultipleInputs)})),Ve=(0,E.LV)(null===be||void 0===be?void 0:be.options,Te.selected_fields.filter((function(e){return be.options.list.includes(e.field_name)&&!e.options.mapToItem})),[].concat((0,a.Z)(Ue.components.filter((function(e){return je.every((function(n){return n.id!==e.id}))}))),(0,a.Z)(D.Z((function(e){return e.selected_fields.filter((function(e){return""===e.value})).length>0}),je))),null!==(Pe=null===Ue||void 0===Ue?void 0:Ue.items)&&void 0!==Pe?Pe:[],null!==(De=null===Ue||void 0===Ue?void 0:Ue.newStepComponents)&&void 0!==De?De:[]);return void 0!==Ve&&(be.value=Ve),"bar"===(null===be||void 0===be||null===(Oe=be.options)||void 0===Oe?void 0:Oe.display)?r.createElement("div",{style:{margin:"20px",display:"flex",height:"30px",width:pe.tq?"100%":"".concat(null!==(ze=null===be||void 0===be||null===(Fe=be.options)||void 0===Fe?void 0:Fe.width)&&void 0!==ze?ze:(null===Te||void 0===Te||null===(qe=Te.selected_fields)||void 0===qe?void 0:qe.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%")}},r.createElement("label",{className:v.Z.fieldTypeInput,style:{width:"20%"}},null===be||void 0===be?void 0:be.field_name),r.createElement("div",{style:{height:"30px",width:"100%",backgroundColor:null===be||void 0===be||null===(Be=be.options)||void 0===Be?void 0:Be.maxC,display:"flex",flexDirection:"column"}},r.createElement("input",{value:Ve||0,className:v.Z.fieldTypeInput,name:be.field_name,disabled:!0,style:{color:"transparent",height:"30px",width:"".concat(+Ve/+be.options.max*100,"%"),backgroundColor:null===be||void 0===be||null===(He=be.options)||void 0===He?void 0:He.barC}}))):Ve||""}if("Item Formula"===(null===be||void 0===be?void 0:be.data_type_name)&&(null===be||void 0===be||null===(u=be.options)||void 0===u||null===(s=u.operator)||void 0===s?void 0:s.length)>0&&!1===ln){var Ge,Je,Ke,Qe,Xe,$e,en=(0,E.LV)(null===be||void 0===be?void 0:be.options,Te.selected_fields.filter((function(e){return be.options.list.includes(e.field_name)&&e.options.mapToItem})),[],[],Ne,!0);if(void 0!==en){var nn,on,tn=Te.selected_fields.find((function(e){var n;return"Transaction List"===e.data_type_name&&(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.simple)}));Ne[null===(nn=be.options)||void 0===nn?void 0:nn.mapToItem]=tn?JSON.stringify((0,t.Z)((0,t.Z)({},Ne[null===(on=be.options)||void 0===on?void 0:on.mapToItem]),{},(0,d.Z)({},null===be||void 0===be?void 0:be.field_name,en))):en}return"bar"===(null===be||void 0===be||null===(Ge=be.options)||void 0===Ge?void 0:Ge.display)?r.createElement("div",{style:{margin:"20px",display:"flex",height:"30px",width:pe.tq?"100%":"".concat(null!==(Je=null===be||void 0===be||null===(Ke=be.options)||void 0===Ke?void 0:Ke.width)&&void 0!==Je?Je:(null===Te||void 0===Te||null===(Qe=Te.selected_fields)||void 0===Qe?void 0:Qe.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%")}},r.createElement("label",{className:v.Z.fieldTypeInput,style:{width:"20%"}},null===be||void 0===be?void 0:be.field_name),r.createElement("div",{style:{height:"30px",width:"100%",backgroundColor:null===be||void 0===be||null===(Xe=be.options)||void 0===Xe?void 0:Xe.maxC,display:"flex",flexDirection:"column"}},r.createElement("input",{value:en||0,className:v.Z.fieldTypeInput,name:be.field_name,disabled:!0,style:{color:"transparent",height:"30px",width:"".concat(+en/+be.options.max*100,"%"),backgroundColor:null===be||void 0===be||null===($e=be.options)||void 0===$e?void 0:$e.barC}}))):en||""}if("Record"===(null===be||void 0===be?void 0:be.data_type_name)&&(null===be||void 0===be||null===(c=be.options)||void 0===c||null===(p=c.component_id)||void 0===p?void 0:p.length)>0){var dn,an,un,rn,vn,sn,mn,fn,_n,yn,hn,bn,xn=(null!==be&&void 0!==be&&null!==(dn=be.options)&&void 0!==dn&&dn.global?Rl(null===be||void 0===be?void 0:be.data_type_name):cn).filter((function(e){var n;return e.component_fields.filter((function(e){var n;return e.component_blueprint_id===(null===be||void 0===be||null===(n=be.options)||void 0===n?void 0:n.component_id)})).length>0||e.module_id===(null===be||void 0===be||null===(n=be.options)||void 0===n?void 0:n.module_id)})).map((function(e){var n,l,o,i,t="";return null===be||void 0===be||null===(n=be.options)||void 0===n||null===(l=n.names)||void 0===l||l.map((function(n){var l,o;return t=""===t?null===(l=e.component_fields.find((function(e){return e.field_name===n})))||void 0===l?void 0:l.value:"".concat(t," ").concat(null===(o=e.component_fields.find((function(e){return e.field_name===n})))||void 0===o?void 0:o.value)})),(0,d.Z)({label:""===t?e.title:t,value:e.id,component:e},null===be||void 0===be||null===(o=be.options)||void 0===o?void 0:o.output,null===(i=e.component_fields.find((function(e){var n;return e.field_name===(null===be||void 0===be||null===(n=be.options)||void 0===n?void 0:n.output)})))||void 0===i?void 0:i.value)}));if(xn.length>0)if(be.value){if(bn=null===xn||void 0===xn?void 0:xn.find((function(e){var n;return e[null===be||void 0===be||null===(n=be.options)||void 0===n?void 0:n.output]===be.value}))){var En,wn;zl(bn.value);var Zn=(0,a.Z)(null!==(En=null===(wn=Ue.currentStep)||void 0===wn?void 0:wn.component_blueprints)&&void 0!==En?En:[]);Zn&&(Ue.newStepComponents=Zn)}}else if(1==xn.length&&1==(null===be||void 0===be?void 0:be.mandatory)&&(bn=xn[0])){var Mn,Sn;zl(bn.value);var kn=(0,a.Z)(null!==(Mn=null===(Sn=Ue.currentStep)||void 0===Sn?void 0:Sn.component_blueprints)&&void 0!==Mn?Mn:[]);kn&&(Ue.newStepComponents=kn)}return ke?r.createElement("div",{style:{width:"inherit",border:"0px solid gray",minWidth:"300px"}},r.createElement(f.Z,{key:xe,visible:null===be||void 0===be?void 0:be.visible,mandatory:null===be||void 0===be?void 0:be.mandatory,items:xn,loading:gn,error:"",className:v.Z.dropdownClassContainer,onChange:function(e){var n,l,o,i,t,d;e&&(null===be||void 0===be||null===(t=be.options)||void 0===t||null===(d=t.list)||void 0===d||d.map((function(n){var l,o,i=Ll({field_name:n});-1!=i&&(Te.selected_fields[i].value=null!==(l=null===(o=xn.find((function(n){return n.value===e})).component.component_fields.find((function(e){return e.field_name===n})))||void 0===o?void 0:o.value)&&void 0!==l?l:"",Te.selected_fields[i].disabled=!0)})));pn.start=!0,zl(e),Ce?we(null!==(n=null===xn||void 0===xn?void 0:xn.find((function(n){return n.value===e}))[null===be||void 0===be||null===(l=be.options)||void 0===l?void 0:l.output])&&void 0!==n?n:null,xe):Re(null!==(o=null===xn||void 0===xn?void 0:xn.find((function(n){return n.value===e}))[null===be||void 0===be||null===(i=be.options)||void 0===i?void 0:i.output])&&void 0!==o?o:null,xe)},selectionType:(null===be||void 0===be||null===(an=be.options)||void 0===an?void 0:an.selection.length)>0?null===be||void 0===be||null===(un=be.options)||void 0===un?void 0:un.selection:null===be||void 0===be||null===(rn=be.options)||void 0===rn?void 0:rn.type,backgroundColor:null!==be&&void 0!==be&&null!==(vn=be.options)&&void 0!==vn&&vn.valueC&&null!==be&&void 0!==be&&be.value?null===be||void 0===be||null===(sn=be.options)||void 0===sn?void 0:sn.valueC:"",value:null!==(mn=null===(fn=bn)||void 0===fn?void 0:fn.label)&&void 0!==mn?mn:""})):r.createElement("div",{style:{backgroundColor:null!==be&&void 0!==be&&null!==(_n=be.options)&&void 0!==_n&&_n.valueC?null===be||void 0===be||null===(yn=be.options)||void 0===yn?void 0:yn.valueC:""}},null===(hn=bn)||void 0===hn?void 0:hn.label)}if("People"===(null===be||void 0===be?void 0:be.data_type_name)&&(null===be||void 0===be||null===(m=be.options)||void 0===m||null===(_=m.position_id)||void 0===_?void 0:_.length)>0){var In,Pn,Dn,An,On,Ln,zn=Il.find((function(e){return e.label===(null===be||void 0===be?void 0:be.value)}));return r.createElement("div",{style:{display:"flex",justifyContent:"center"}},(ke||!zn)&&r.createElement("div",{style:{width:"300px",border:"0px solid var(--app-color-gray-light)",height:"38px"}},r.createElement(f.Z,{onFocus:function(){var e;return 0==Il.length&&Dl(null===be||void 0===be||null===(e=be.options)||void 0===e?void 0:e.position_id)},visible:!0,mandatory:null===be||void 0===be?void 0:be.mandatory,className:v.Z.dropdownClassContainer,items:Il.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.user)||void 0===n||null===(l=n.positions)||void 0===l?void 0:l.filter((function(e){var n,l;return null===be||void 0===be||null===(n=be.options)||void 0===n||null===(l=n.position_id)||void 0===l?void 0:l.includes(null===e||void 0===e?void 0:e.id)})).length)>0})),value:"single"===(null===be||void 0===be||null===(In=be.options)||void 0===In?void 0:In.type)?null===(Pn=Il.find((function(e){var n,l;return e.label===(null!==be&&void 0!==be&&null!==(n=be.options)&&void 0!==n&&n.mapToItem?null===be||void 0===be?void 0:be.value:null===(l=Te.selected_fields[xe])||void 0===l?void 0:l.value)})))||void 0===Pn?void 0:Pn.label:null!==be&&void 0!==be&&null!==(Dn=be.options)&&void 0!==Dn&&Dn.mapToItem?null===be||void 0===be?void 0:be.value:null===(An=Te.selected_fields[xe])||void 0===An?void 0:An.value,loading:gn,error:null===be||void 0===be?void 0:be.errors,onChange:function(e){var n;if("single"===(null===be||void 0===be||null===(n=be.options)||void 0===n?void 0:n.type)){var l=Il.find((function(n){return n.value===e}));Ce?we(null===l||void 0===l?void 0:l.label,xe):Re(null===l||void 0===l?void 0:l.label,xe)}else Ce?we(e,xe):Re(e,xe)},selectionType:null===be||void 0===be||null===(On=be.options)||void 0===On?void 0:On.type,fieldIcon:null===be||void 0===be?void 0:be.icon})),zn&&r.createElement("div",{className:v.Z.avatarContentContainer},r.createElement("img",{alt:"lg",src:null===zn||void 0===zn||null===(Ln=zn.user)||void 0===Ln?void 0:Ln.photo,className:v.Z.avatarUrlImg})))}return"file"===be.data_type?r.createElement(Ie,{field_id:be.id,value:null===be||void 0===be?void 0:be.value,isInherited:We,checkIfAreMandatoryErrored:Ye,options:null===be||void 0===be?void 0:be.options,index:xe,indexInContextArray:Le}):"date"===be.data_type||null!==be&&void 0!==be&&null!==(y=be.options)&&void 0!==y&&y.country_code||null!==be&&void 0!==be&&null!==(h=be.options)&&void 0!==h&&h.currency_type||"Number"===be.data_type_name?ke||"bar"===(null===be||void 0===be||null===(z=be.options)||void 0===z?void 0:z.display)?r.createElement("div",{className:v.Z.fieldTypeInput,style:{paddingLeft:ke?"":"0px",border:ke?"0px solid var(--app-color-gray-light)":"none",height:"auto"}},"date"===be.data_type?"Range"===(null===be||void 0===be||null===(R=be.options)||void 0===R?void 0:R.type)?r.createElement(g.$m,{inputContainerClassName:v.Z.inputContainerClassName,dateChangeHandler:function(e){return Tl(e,xe)},startDate:Nn,endDate:Tn}):null!==be&&void 0!==be&&null!==(U=be.options)&&void 0!==U&&U.time?r.createElement("div",{style:{width:"100%",height:"auto",border:"0"}},r.createElement(k(),{showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,customInput:r.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",padding:"5px",border:"0px solid var(--app-color-gray-lighter)"}},r.createElement("input",{value:null!==be&&void 0!==be&&be.value?V()(null===be||void 0===be?void 0:be.value).format("DD MMMM YYYY HH:mm"):"",disabled:!0,type:"text",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",fontFamily:"var(--app-text-main-font)",fontSize:"16px",lineHeight:"20px",color:"#4A4A4A",textAlign:"left",maxWidth:"98%",border:"0px",backgroundColor:null!==be&&void 0!==be&&null!==(F=be.options)&&void 0!==F&&F.valueC?null===be||void 0===be||null===(q=be.options)||void 0===q?void 0:q.valueC:"",minWidth:"240px"},onChange:function(e){}}),r.createElement(Q.G,{icon:X.WRo,style:{marginLeft:"10px",width:"14px",height:"14px"}})),className:v.Z.singleInputContainer,selected:null!==be&&void 0!==be&&be.value?new Date(V()(null===be||void 0===be?void 0:be.value)):(0,j.now)(),onChange:function(e){e>(0,j.now)()&&(Ce?we(e,xe):Pl(e,xe))}})):r.createElement(g.X9,{value:null!==be&&void 0!==be&&be.value?V()(new Date(null===be||void 0===be?void 0:be.value)).format("Do MMMM YYYY"):"",dateChangeHandler:function(e){Ce?we(e,xe):Pl(e,xe)},selected:new Date(V()(Cn,"YYYY-MM-DD")),iconClassName:v.Z.calendar,inputContainerClassName:v.Z.singleInputContainer,inputStyle:{textAlign:"left",border:"none",fontSize:"16px",margin:"10px 0 10px"},hasCalendarIcon:!0}):ke&&r.createElement("input",{type:be.data_type,onBlur:function(e){Ce?we(e.target.value,xe):Ae(e.target.value,xe)},id:be.field_name,autoComplete:"none",defaultValue:null===be||void 0===be?void 0:be.value,placeholder:"Number"===(null===be||void 0===be?void 0:be.data_type_name)?"0":"",className:v.Z.fieldTypeInput,name:be.field_name,style:{height:"33px",backgroundColor:null!==be&&void 0!==be&&null!==(W=be.options)&&void 0!==W&&W.valueC?null===be||void 0===be||null===(B=be.options)||void 0===B?void 0:B.valueC:"",minWidth:Ce?"100px":""},disabled:null!==(Y=null===be||void 0===be?void 0:be.disabled)&&void 0!==Y&&Y}),"bar"===(null===be||void 0===be||null===(H=be.options)||void 0===H?void 0:H.display)&&"Number"===(null===be||void 0===be?void 0:be.data_type_name)&&r.createElement("div",{style:{height:ke?"5px":"30px",border:"none",width:"100%",backgroundColor:null===be||void 0===be||null===(G=be.options)||void 0===G?void 0:G.maxC,display:"flex",flexDirection:"row"}},r.createElement("input",{value:"",className:v.Z.fieldTypeInput,name:be.field_name,style:{color:"transparent",border:"none",height:ke?"5px":"30px",width:"".concat(+(null===be||void 0===be?void 0:be.value)/+be.options.max*100,"%"),backgroundColor:null!==be&&void 0!==be&&be.value?"0"===(null===be||void 0===be?void 0:be.value)?"transparent":null===be||void 0===be||null===(J=be.options)||void 0===J?void 0:J.barC:"transparent"},disabled:!0}))):r.createElement("div",{style:{backgroundColor:null!==be&&void 0!==be&&null!==(K=be.options)&&void 0!==K&&K.valueC?null===be||void 0===be||null===($=be.options)||void 0===$?void 0:$.valueC:"",minWidth:Ce?"200px":""}},"date"===(null===be||void 0===be?void 0:be.data_type)?null!==be&&void 0!==be&&be.value?V()(be.value).format(null!==be&&void 0!==be&&null!==(ee=be.options)&&void 0!==ee&&ee.time?"DD MMMM YYYY HH:mm":"DD MMMM YYYY"):"":null===be||void 0===be?void 0:be.value):"Long Text"===be.data_type_name?ke?r.createElement("textarea",{className:v.Z.fieldTypeTextarea,style:{minWidth:Ce?"300px":"",border:"0px solid var(--app-color-gray-light)"},type:be.data_type,defaultValue:null!==be&&void 0!==be&&null!==(ne=be.options)&&void 0!==ne&&ne.mapToItem?null===be||void 0===be?void 0:be.value:null!==(le=Te.selected_fields[xe])&&void 0!==le&&le.value?null===(oe=Te.selected_fields[xe])||void 0===oe?void 0:oe.value:""===Se(null===be||void 0===be?void 0:be.options)?"":Se(null===be||void 0===be?void 0:be.options),onFocus:function(){},disabled:null!==(ie=null===(te=Te.selected_fields[xe])||void 0===te?void 0:te.disabled)&&void 0!==ie&&ie,autoComplete:"none",onBlur:function(e){Ce?we(e.target.value,xe):Ae(e.target.value,xe)},placeholder:"Number"===(null===(de=Te.selected_fields[xe])||void 0===de?void 0:de.data_type_name)?"0":"",name:be.field_name}):r.createElement("div",{style:{backgroundColor:null!==be&&void 0!==be&&null!==(ae=be.options)&&void 0!==ae&&ae.valueC?null===be||void 0===be||null===(ue=be.options)||void 0===ue?void 0:ue.valueC:"",minWidth:Ce?"300px":""}},null===be||void 0===be?void 0:be.value):"Link"===be.data_type_name?ke?r.createElement("div",{style:{width:"inherit",display:"flex",flexDirection:"column"}},r.createElement("input",{type:be.data_type,onBlur:function(e){Ce?we(e.target.value,xe):Ae(e.target.value,xe)},autoComplete:"none",defaultValue:null!==be&&void 0!==be&&null!==(re=be.options)&&void 0!==re&&re.mapToItem?null===be||void 0===be?void 0:be.value:null!==(ve=Te.selected_fields[xe])&&void 0!==ve&&ve.value?null===(se=Te.selected_fields[xe])||void 0===se?void 0:se.value:""===Se(null===be||void 0===be?void 0:be.options)?"":Se(null===be||void 0===be?void 0:be.options),placeholder:"Number"===(null===(ce=Te.selected_fields[xe])||void 0===ce?void 0:ce.data_type_name)?"0":"",className:v.Z.fieldTypeInput,style:{border:"0px solid var(--app-color-gray-light)"},name:be.field_name,disabled:null!==(me=null===(fe=Te.selected_fields[xe])||void 0===fe?void 0:fe.disabled)&&void 0!==me&&me})):((null===be||void 0===be||null===(_e=be.value)||void 0===_e?void 0:_e.includes("jpg"))||(null===be||void 0===be||null===(ye=be.value)||void 0===ye?void 0:ye.includes("jpeg"))||(null===be||void 0===be||null===(he=be.options)||void 0===he?void 0:he.image)||(null===be||void 0===be||null===(ge=be.value)||void 0===ge?void 0:ge.includes("png")))&&r.createElement("img",{className:v.Z.avatarUrlImg,alt:"lg",onError:function(e){return e.target.src="https://i.quotev.com/b2gtjqawaaaa.jpg"},src:null===be||void 0===be?void 0:be.value}):ke?r.createElement("input",{type:be.data_type,onBlur:function(e){Ce?we(e.target.value,xe):Ae(e.target.value,xe)},autoComplete:"none",defaultValue:null!==be&&void 0!==be&&null!==(b=be.options)&&void 0!==b&&b.mapToItem?null===be||void 0===be?void 0:be.value:null!==(x=Te.selected_fields[xe])&&void 0!==x&&x.value?null===(C=Te.selected_fields[xe])||void 0===C?void 0:C.value:""===Se(null===be||void 0===be?void 0:be.options)?"":Se(null===be||void 0===be?void 0:be.options),placeholder:"Number"===(null===(w=Te.selected_fields[xe])||void 0===w?void 0:w.data_type_name)?"0":"",className:v.Z.fieldTypeInput,style:{minWidth:Ce?"300px":"",padding:"0 0 0 10px",border:"0px solid var(--app-color-gray-light)",backgroundColor:null!==be&&void 0!==be&&null!==(Z=be.options)&&void 0!==Z&&Z.valueC?null===be||void 0===be||null===(M=be.options)||void 0===M?void 0:M.valueC:""},name:be.field_name,disabled:null!==(S=null===(I=Te.selected_fields[xe])||void 0===I?void 0:I.disabled)&&void 0!==S&&S}):r.createElement("div",{style:{backgroundColor:null!==be&&void 0!==be&&null!==(N=be.options)&&void 0!==N&&N.valueC?null===be||void 0===be||null===(T=be.options)||void 0===T?void 0:T.valueC:"",minWidth:Ce?"200px":""}},null===be||void 0===be?void 0:be.value)},ql=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,l=arguments.length>2?arguments[2]:void 0;return 0==(null===e||void 0===e?void 0:e.length)?0:e.reduce((function(e,o){var i,t,d,a,u,r,v,s,c;if(null===o[null===n||void 0===n||null===(i=n.options)||void 0===i?void 0:i.mapToItem]||""===o[null===n||void 0===n||null===(t=n.options)||void 0===t?void 0:t.mapToItem])return e;var p=null!==(d=null!==l&&void 0!==l&&null!==(a=l.options)&&void 0!==a&&a.simple?JSON.parse(null!==(u=o[null===n||void 0===n||null===(r=n.options)||void 0===r?void 0:r.mapToItem])&&void 0!==u?u:"{}")[n.field_name]:o[null===n||void 0===n||null===(v=n.options)||void 0===v?void 0:v.mapToItem])&&void 0!==d?d:0;return"itemsum"===(null===n||void 0===n||null===(s=n.options)||void 0===s?void 0:s.footer)?e+ +(""===p?0:"".concat(p)):"itemdiff"===(null===n||void 0===n||null===(c=n.options)||void 0===c?void 0:c.footer)?e-+(""===p?0:"".concat(p)):0}),0)},Wl=function(e,n){var l,m,b,S,ee,ue,me,be,xe,Me,Ne,De,Oe,ze,qe,Be,He,Ve,Je,Qe,$e,nn,dn,yn,hn,xn,En,Zn,Mn,Sn,kn,In,Pn,Dn,Ln,zn,Fn,qn,Yn,Hn,Gn,Jn,Xn,$n,ll,ol,dl,al,vl,sl,ml,fl,hl,gl,El,Cl,Sl,kl,Wl,Bl,Yl,Hl,jl,Vl,Gl,Jl,Kl,Ql,Xl,$l="";if((null===e||void 0===e||null===(l=e.options)||void 0===l||null===(m=l.fieldToMatch)||void 0===m?void 0:m.length)>0){var eo,no,lo,oo,io,to,ao,uo,ro,vo,so,co,po,mo,fo,_o,yo,ho,go,bo,xo,Eo,Co,wo,Zo=Te.selected_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.fieldToMatch)}));if(Zo&&(null===e||void 0===e||null===(eo=e.options)||void 0===eo||null===(no=eo.valueToMatch)||void 0===no?void 0:no.length)>0&&(null===e||void 0===e||null===(lo=e.options)||void 0===lo||null===(oo=lo.actionToPerform)||void 0===oo?void 0:oo.length)>0&&(null===e||void 0===e||null===(io=e.options)||void 0===io||null===(to=io.initialState)||void 0===to?void 0:to.length)>0)if(null!==e&&void 0!==e&&null!==(ro=e.options)&&void 0!==ro&&null!==(vo=ro.valueToMatch)&&void 0!==vo&&vo.split(",").includes(null===Zo||void 0===Zo?void 0:Zo.value))"hide"===(null===e||void 0===e||null===(so=e.options)||void 0===so?void 0:so.actionToPerform)?e.visible=!1:"visible"===(null===e||void 0===e||null===(co=e.options)||void 0===co?void 0:co.actionToPerform)?e.visible=!0:"mandatory"===(null===e||void 0===e||null===(po=e.options)||void 0===po?void 0:po.actionToPerform)?(e.mandatory=!0,e.visible=!0):"optional"===(null===e||void 0===e||null===(mo=e.options)||void 0===mo?void 0:mo.actionToPerform)?(e.mandatory=!1,e.visible=!0):"visman"===(null===e||void 0===e||null===(fo=e.options)||void 0===fo?void 0:fo.actionToPerform)?(e.mandatory=!0,e.visible=!0):"disable"===(null===e||void 0===e||null===(_o=e.options)||void 0===_o?void 0:_o.actionToPerform)&&($l="none");else"hidden"===(null===e||void 0===e||null===(yo=e.options)||void 0===yo?void 0:yo.initialState)?e.visible=!1:"visible"===(null===e||void 0===e||null===(ho=e.options)||void 0===ho?void 0:ho.initialState)?e.visible=!0:"mandatory"===(null===e||void 0===e||null===(go=e.options)||void 0===go?void 0:go.initialState)?(e.mandatory=!0,e.visible=!0):"optional"===(null===e||void 0===e||null===(bo=e.options)||void 0===bo?void 0:bo.initialState)?(e.mandatory=!1,e.visible=!0):"visman"===(null===e||void 0===e||null===(xo=e.options)||void 0===xo?void 0:xo.actionToPerform)?(e.mandatory=!0,e.visible=!0):"disable"===(null===e||void 0===e||null===(Eo=e.options)||void 0===Eo?void 0:Eo.actionToPerform)&&($l="none");if(Zo&&(null===e||void 0===e||null===(ao=e.options)||void 0===ao||null===(uo=ao.valueToMatch2)||void 0===uo?void 0:uo.length)>0)if(null!==e&&void 0!==e&&null!==(Co=e.options)&&void 0!==Co&&null!==(wo=Co.valueToMatch2)&&void 0!==wo&&wo.split(",").includes(null===Zo||void 0===Zo?void 0:Zo.value)){var Mo,So,ko,Io,No,To,Po,Do,Ao,Oo,Lo,zo;if((null===e||void 0===e||null===(Mo=e.options)||void 0===Mo||null===(So=Mo.value)||void 0===So?void 0:So.length)>0)if("Text"===(null===e||void 0===e?void 0:e.data_type_name))e.value=null===e||void 0===e||null===(No=e.options)||void 0===No?void 0:No.value;else if("Date"===(null===e||void 0===e?void 0:e.data_type_name)){var Ro,Uo,Fo,qo,Wo,Bo;if(0==(null===e||void 0===e||null===(Ro=e.value)||void 0===Ro?void 0:Ro.length)||void 0==(null===e||void 0===e?void 0:e.value))"today"===(null===e||void 0===e||null===(Uo=e.options)||void 0===Uo?void 0:Uo.value)?e.value=new Date(V()((0,j.now)())):"tomorrow"===(null===e||void 0===e||null===(Fo=e.options)||void 0===Fo?void 0:Fo.value)?e.value=new Date(V()((0,j.now)()).add(1,"days")):"week"===(null===e||void 0===e||null===(qo=e.options)||void 0===qo?void 0:qo.value)?e.value=new Date(V()((0,j.now)()).add(1,"weeks")):"month"===(null===e||void 0===e||null===(Wo=e.options)||void 0===Wo?void 0:Wo.value)&&(e.value=new Date(V()((0,j.now)()).add(1,"months"))),"none"===(null===e||void 0===e||null===(Bo=e.options)||void 0===Bo?void 0:Bo.value)&&(e.value=void 0)}if((null===e||void 0===e||null===(ko=e.options)||void 0===ko||null===(Io=ko.actionToPerform2)||void 0===Io?void 0:Io.length)>0)"hide"===(null===e||void 0===e||null===(To=e.options)||void 0===To?void 0:To.actionToPerform2)?e.visible=!1:"visible"===(null===e||void 0===e||null===(Po=e.options)||void 0===Po?void 0:Po.actionToPerform2)?e.visible=!0:"mandatory"===(null===e||void 0===e||null===(Do=e.options)||void 0===Do?void 0:Do.actionToPerform2)?(e.mandatory=!0,e.visible=!0):"optional"===(null===e||void 0===e||null===(Ao=e.options)||void 0===Ao?void 0:Ao.actionToPerform2)?(e.mandatory=!1,e.visible=!0):"visman"===(null===e||void 0===e||null===(Oo=e.options)||void 0===Oo?void 0:Oo.actionToPerform2)?(e.mandatory=!0,e.visible=!0):"disable"===(null===e||void 0===e||null===(Lo=e.options)||void 0===Lo?void 0:Lo.actionToPerform2)?$l="none":"enable"===(null===e||void 0===e||null===(zo=e.options)||void 0===zo?void 0:zo.actionToPerform2)&&($l="")}}if("Record"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(b=e.options)||void 0===b||null===(S=b.component_id)||void 0===S?void 0:S.length)>0){var Yo,Ho,jo,Vo,Go,Jo,Ko,Qo,Xo,$o,ei,ni,li,oi,ii,ti,di,ai,ui,ri,vi,si,ci,pi,mi,fi,_i,yi,hi,gi,bi,xi,Ei,Ci,wi,Zi,Mi,Si,ki,Ii,Ni,Ti,Pi,Di,Ai,Oi,Li,zi,Ri,Ui,Fi,qi,Wi,Bi,Yi,Hi,ji,Vi,Gi,Ji,Ki,Qi,Xi,$i,et,nt,lt,ot,it,tt,dt,at=(null!==e&&void 0!==e&&null!==(Yo=e.options)&&void 0!==Yo&&Yo.global?Rl(null===e||void 0===e?void 0:e.data_type_name):cn).filter((function(n){var l;return n.component_fields.filter((function(n){var l;return n.component_blueprint_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.component_id)})).length>0||n.module_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.module_id)})),ut=at.map((function(n){var l,o,i,t,a="";return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.names)||void 0===o||o.map((function(e){var l,o;return a=""===a?null===(l=n.component_fields.find((function(n){return n.field_name===e})))||void 0===l?void 0:l.value:"".concat(a," ").concat(null===(o=n.component_fields.find((function(n){return n.field_name===e})))||void 0===o?void 0:o.value)})),(0,d.Z)({label:""===a?n.title:a,value:n.id,component:n},null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.output,null===(t=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})))||void 0===t?void 0:t.value)}));if((null===e||void 0===e||null===(Ho=e.options)||void 0===Ho||null===(jo=Ho.filters)||void 0===jo?void 0:jo.length)>0){if((null===at||void 0===at?void 0:at.length)>0)if(e.value){if(dt=at.find((function(n){return n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)&&n.value===e.value}))}))){var rt,vt,st;zl(null===(rt=dt)||void 0===rt?void 0:rt.id);var ct=(0,a.Z)(null!==(vt=null===(st=Ue.currentStep)||void 0===st?void 0:st.component_blueprints)&&void 0!==vt?vt:[]);ct&&(Ue.newStepComponents=ct)}}else if(1==ut.length&&(dt=at[0])){var pt,mt,ft;zl(null===(pt=dt)||void 0===pt?void 0:pt.id);var _t=(0,a.Z)(null!==(mt=null===(ft=Ue.currentStep)||void 0===ft?void 0:ft.component_blueprints)&&void 0!==mt?mt:[]);_t&&(Ue.newStepComponents=_t)}if(1==ut.length||e.value){var yt,ht,gt,bt;if((null===e||void 0===e||null===(yt=e.options)||void 0===yt?void 0:yt.filters.length)>0)Rn[null===e||void 0===e||null===(gt=e.options)||void 0===gt?void 0:gt.filters[0]]=A.Z(O.Z("value"))(at.map((function(n){var l=null===n||void 0===n?void 0:n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})).filter((function(n){var l;return(null===(l=n.component)||void 0===l?void 0:l.component_fields.filter((function(n){var l,o;return n.value===(null===(l=dt)||void 0===l||null===(o=l.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])})))||void 0===o?void 0:o.value)})).length)>0})));if((null===e||void 0===e||null===(ht=e.options)||void 0===ht?void 0:ht.filters.length)>1)Rn[null===e||void 0===e||null===(bt=e.options)||void 0===bt?void 0:bt.filters[1]]=A.Z(O.Z("value"))(at.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[2])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})).filter((function(n){var l;return(null===(l=n.component)||void 0===l?void 0:l.component_fields.filter((function(n){var l,o;return n.value===(null===(l=dt)||void 0===l||null===(o=l.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])})))||void 0===o?void 0:o.value)})).length)>0})))}}else if(ut.length>0)if(e.value){if(dt=null===ut||void 0===ut?void 0:ut.find((function(n){var l;return n[null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output]===e.value}))){var xt,Et;zl(dt.value);var Ct=(0,a.Z)(null!==(xt=null===(Et=Ue.currentStep)||void 0===Et?void 0:Et.component_blueprints)&&void 0!==xt?xt:[]);Ct&&(Ue.newStepComponents=Ct)}}else if(1==ut.length&&1==(null===e||void 0===e?void 0:e.mandatory)&&(dt=ut[0])){var wt,Zt;zl(dt.value);var Mt=(0,a.Z)(null!==(wt=null===(Zt=Ue.currentStep)||void 0===Zt?void 0:Zt.component_blueprints)&&void 0!==wt?wt:[]);Mt&&(Ue.newStepComponents=Mt)}return 1==(null===e||void 0===e||null===(Vo=e.options)||void 0===Vo||null===(Go=Vo.filters)||void 0===Go?void 0:Go.length)?r.createElement(c.Z,{enabled:$l,width:"".concat(null!==(Jo=null===e||void 0===e||null===(Ko=e.options)||void 0===Ko?void 0:Ko.width)&&void 0!==Jo?Jo:(null===Te||void 0===Te||null===(Qo=Te.selected_fields)||void 0===Qo?void 0:Qo.filter((function(e){return!0===e.visible})).length)<5?"50%":Ze,"%"),style:{border:"0"},editMode:Xe,key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:(null===(Xo=e.errors)||void 0===Xo?void 0:Xo.length)>0?"".concat(e.errors,". Try to select again"):"",notes:null===e||void 0===e||null===($o=e.options)||void 0===$o?void 0:$o.notes},!dt&&(null===e||void 0===e?void 0:e.value)&&r.createElement("div",{key:n},"A record ( ".concat(null===e||void 0===e?void 0:e.value," ) was previously selected but not found. Press the refresh button on the upper right side to retrieve the missing record. If record is still not found, please check with your admin.")),r.createElement(f.Z,{visible:null===e||void 0===e?void 0:e.visible,mandatory:1==(null===e||void 0===e||null===(ei=e.options)||void 0===ei||null===(ni=ei.filters)||void 0===ni?void 0:ni.length)&&(null===e||void 0===e?void 0:e.mandatory),items:A.Z(O.Z("value"))(null===(li=at.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})))||void 0===li?void 0:li.concat({label:"...More",value:"more"})),loading:gn,error:1==(null===e||void 0===e||null===(oi=e.options)||void 0===oi||null===(ii=oi.filters)||void 0===ii?void 0:ii.length)?null===e||void 0===e?void 0:e.errors:"",onChange:function(l){var o,i,t,a,u,r,v;"more"!==l?(null===e||void 0===e||null===(o=e.options)||void 0===o||null===(i=o.filters)||void 0===i?void 0:i.length)>1?(Re(void 0,n),Vn(!1),Bn(!1),setTimeout((function(){Bn(!0),Vn(!0)}),10),Un((0,d.Z)({},null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.filters[0],A.Z(O.Z("value"))(at.map((function(n){var o=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])}));return{label:null===o||void 0===o?void 0:o.value,value:null===o||void 0===o?void 0:o.value,component:n,selected:l}})).filter((function(n){return n.component.component_fields.filter((function(n){var o;return n.value===l&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[0])})).length>0})))))):(nl("50px"),Re(null!==(a=null===(u=at.find((function(e){return e.component_fields.filter((function(e){return e.value===l})).length>0})))||void 0===u||null===(r=u.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})))||void 0===r?void 0:r.value)&&void 0!==a?a:null,n),zl(null===(v=at.find((function(e){return e.component_fields.filter((function(e){return e.value===l})).length>0})))||void 0===v?void 0:v.id)):Ul()},backgroundColor:null!==e&&void 0!==e&&null!==(ti=e.options)&&void 0!==ti&&ti.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(di=e.options)||void 0===di?void 0:di.valueC:"",value:dt?null===(ai=dt.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])})))||void 0===ai?void 0:ai.value:""})):(null===e||void 0===e||null===(ui=e.options)||void 0===ui||null===(ri=ui.filters)||void 0===ri?void 0:ri.length)>1?r.createElement("div",{key:n,className:v.Z.filtersContainer,style:{width:pe.tq?"100%":"".concat(null!==(vi=null===e||void 0===e||null===(si=e.options)||void 0===si?void 0:si.width)&&void 0!==vi?vi:(null===Te||void 0===Te||null===(ci=Te.selected_fields)||void 0===ci?void 0:ci.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),display:null!==e&&void 0!==e&&e.visible?"":"none",pointerEvents:$l,paddingTop:"20px"}},null===vn||void 0===vn||null===(pi=vn.find((function(n){var l;return n.id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.component_id)})))||void 0===pi?void 0:pi.name,r.createElement("br",null),r.createElement("br",null),!dt&&(null===e||void 0===e?void 0:e.value)&&r.createElement("div",{key:n},"A record ( ".concat(null===e||void 0===e?void 0:e.value," ) was previously selected but not found. Press the refresh button on the upper right side to retrieve the missing record. If record is still not found, please check with your admin.")),(null===e||void 0===e||null===(mi=e.options)||void 0===mi||null===(fi=mi.filters)||void 0===fi?void 0:fi.length)>0&&r.createElement(f.Z,{visible:null===e||void 0===e?void 0:e.visible,mandatory:1==(null===e||void 0===e||null===(_i=e.options)||void 0===_i||null===(yi=_i.filters)||void 0===yi?void 0:yi.length)&&(null===e||void 0===e?void 0:e.mandatory),items:A.Z(O.Z("value"))(at.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}}))),loading:gn,error:1==(null===e||void 0===e||null===(hi=e.options)||void 0===hi||null===(gi=hi.filters)||void 0===gi?void 0:gi.length)?null===e||void 0===e?void 0:e.errors:"",onChange:function(l){var o,i,t,a,u,r,v;(null===e||void 0===e||null===(o=e.options)||void 0===o||null===(i=o.filters)||void 0===i?void 0:i.length)>1?(Re(void 0,n),Vn(!1),Bn(!1),setTimeout((function(){Bn(!0),Vn(!0)}),10),Un((0,d.Z)({},null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.filters[0],A.Z(O.Z("value"))(at.map((function(n){var o=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])}));return{label:null===o||void 0===o?void 0:o.value,value:null===o||void 0===o?void 0:o.value,component:n,selected:l}})).filter((function(n){return n.component.component_fields.filter((function(n){var o;return n.value===l&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[0])})).length>0})))))):(nl("50px"),Re(null!==(a=null===(u=at.find((function(e){return e.component_fields.filter((function(e){return e.value===l})).length>0})))||void 0===u||null===(r=u.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})))||void 0===r?void 0:r.value)&&void 0!==a?a:null,n),zl(null===(v=at.find((function(e){return e.component_fields.filter((function(e){return e.value===l})).length>0})))||void 0===v?void 0:v.id))},fieldLabel:null===e||void 0===e||null===(bi=e.options)||void 0===bi?void 0:bi.filters[0],value:dt?null===(xi=dt.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])})))||void 0===xi?void 0:xi.value:"",backgroundColor:null!==e&&void 0!==e&&null!==(Ei=e.options)&&void 0!==Ei&&Ei.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(Ci=e.options)||void 0===Ci?void 0:Ci.valueC:""}),r.createElement("div",{style:{display:null!==e&&void 0!==e&&e.visible?"":"none",margin:"20px 0 10px 0"}},(null===e||void 0===e||null===(wi=e.options)||void 0===wi||null===(Zi=wi.filters)||void 0===Zi?void 0:Zi.length)>1&&Wn&&r.createElement(f.Z,{visible:null===e||void 0===e?void 0:e.visible,mandatory:2==(null===e||void 0===e||null===(Mi=e.options)||void 0===Mi||null===(Si=Mi.filters)||void 0===Si?void 0:Si.length)&&(null===e||void 0===e?void 0:e.mandatory),items:null!==(ki=Rn[null===e||void 0===e||null===(Ii=e.options)||void 0===Ii?void 0:Ii.filters[0]])&&void 0!==ki?ki:[],loading:gn,onClicked:function(e){return nl(e?"180px":"50px")},onChange:function(l){var o,i,a,u,r,v,s,c,p;(null===e||void 0===e||null===(o=e.options)||void 0===o||null===(i=o.filters)||void 0===i?void 0:i.length)>2?(Vn(!1),setTimeout((function(){return Vn(!0)}),10),Un((0,t.Z)((0,t.Z)({},Rn),{},(0,d.Z)({},null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.filters[1],null!==(u=A.Z(O.Z("value"))(at.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[2])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})).filter((function(n){return n.component.component_fields.filter((function(n){var o;return n.value===l&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[1])})).length>0})).filter((function(n){return n.component.component_fields.filter((function(n){var l,o;return n.value===Rn[null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0]][0].component.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])})).value&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[0])})).length>0}))))&&void 0!==u?u:[])))):(nl("50px"),pn.start=!0,Re(null!==(r=null===(v=Rn[null===e||void 0===e||null===(c=e.options)||void 0===c?void 0:c.filters[0]])||void 0===v||null===(s=v.find((function(e){return e.value===l})))||void 0===s?void 0:s.component.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})).value)&&void 0!==r?r:null,n),zl(Rn[null===e||void 0===e||null===(p=e.options)||void 0===p?void 0:p.filters[0]].find((function(e){return e.value===l})).component.id),Vn(!1),Bn(!1),setTimeout((function(){Bn(!0),Vn(!0)}),10))},fieldLabel:null===e||void 0===e||null===(Ni=e.options)||void 0===Ni?void 0:Ni.filters[1],backgroundColor:null!==e&&void 0!==e&&null!==(Ti=e.options)&&void 0!==Ti&&Ti.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(Pi=e.options)||void 0===Pi?void 0:Pi.valueC:"",value:dt?null===(Di=dt.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])})))||void 0===Di?void 0:Di.value:""})),r.createElement("div",{style:{display:null!==e&&void 0!==e&&e.visible?"":"none",margin:"20px 0 10px 0"}},(null===e||void 0===e||null===(Ai=e.options)||void 0===Ai||null===(Oi=Ai.filters)||void 0===Oi?void 0:Oi.length)>2&&jn&&r.createElement(f.Z,{visible:null===e||void 0===e?void 0:e.visible,mandatory:3==(null===e||void 0===e||null===(Li=e.options)||void 0===Li||null===(zi=Li.filters)||void 0===zi?void 0:zi.length)&&(null===e||void 0===e?void 0:e.mandatory),items:null!==(Ri=Rn[null===e||void 0===e||null===(Ui=e.options)||void 0===Ui?void 0:Ui.filters[1]])&&void 0!==Ri?Ri:[],loading:gn,onClicked:function(e){return nl(e?"180px":"50px")},onChange:function(l){var o,i,t,d,a;nl("50px"),pn.start=!0,Re(null!==(o=null===(i=Rn[null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.filters[1]])||void 0===i||null===(t=i.find((function(e){return e.value===l})))||void 0===t?void 0:t.component.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})).value)&&void 0!==o?o:null,n),zl(Rn[null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.filters[1]].find((function(e){return e.value===l})).component.id)},fieldLabel:null===e||void 0===e||null===(Fi=e.options)||void 0===Fi?void 0:Fi.filters[2],backgroundColor:null!==e&&void 0!==e&&null!==(qi=e.options)&&void 0!==qi&&qi.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(Wi=e.options)||void 0===Wi?void 0:Wi.valueC:"",value:dt?null===(Bi=dt.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[2])})))||void 0===Bi?void 0:Bi.value:""})),null===e||void 0===e||null===(Yi=e.options)||void 0===Yi?void 0:Yi.notes):"Tiles"===(null===e||void 0===e||null===(Hi=e.options)||void 0===Hi?void 0:Hi.selection)?r.createElement(c.Z,{enabled:$l,width:"100%",style:{border:"0"},editMode:Xe,showWidth:function(n){e.options=(0,t.Z)((0,t.Z)({},e.options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:(null===(ji=e.errors)||void 0===ji?void 0:ji.length)>0?"".concat(e.errors,". Try to select again"):"",notes:null===e||void 0===e||null===(Vi=e.options)||void 0===Vi?void 0:Vi.notes},r.createElement("div",{style:{width:pe.tq?"100%":"50%"}},r.createElement(M.default,{rowStyleSelected:{border:"2px solid black"},initialSelected:ut.map((function(n){var l;return n[null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output]})).indexOf(null===e||void 0===e?void 0:e.value),modern:!0,isReport:!1,"app-variant-is-mobile":"true",columns:null===e||void 0===e||null===(Gi=e.options)||void 0===Gi?void 0:Gi.names,list:ut.map((function(e){var n=e;return e.component.component_fields.filter((function(e){n[e.field_name]=e.value})),n})),onListItemClick:function(l){var o,i,t,d,a;l&&(null===e||void 0===e||null===(a=e.options)||void 0===a||a.list.map((function(e){var n,o,i=Ll({field_name:e});-1!=i&&(Te.selected_fields[i].value=null!==(n=null===(o=l.component.component_fields.find((function(n){return n.field_name===e})))||void 0===o?void 0:o.value)&&void 0!==n?n:"",Te.selected_fields[i].disabled=!0)})));zl(l),Re(null!==(o=null===ut||void 0===ut||null===(i=ut.find((function(e){return e.value===l.value})))||void 0===i||null===(t=i.component.component_fields)||void 0===t||null===(d=t.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})))||void 0===d?void 0:d.value)&&void 0!==o?o:null,n)}}))):r.createElement(c.Z,{enabled:$l,width:"".concat(null!==(Ji=null===e||void 0===e||null===(Ki=e.options)||void 0===Ki?void 0:Ki.width)&&void 0!==Ji?Ji:(null===Te||void 0===Te||null===(Qi=Te.selected_fields)||void 0===Qi?void 0:Qi.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),editMode:Xe,showWidth:function(n){e.options=(0,t.Z)((0,t.Z)({},e.options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:vn.find((function(n){var l;return n.id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.component_id)})).name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:(null===(Xi=e.errors)||void 0===Xi?void 0:Xi.length)>0?"".concat(e.errors,". Try to select again"):""},r.createElement("div",{style:{width:"inherit",border:"1px solid gray"}},r.createElement(f.Z,{key:n,visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,items:ut,loading:gn,error:"",className:v.Z.dropdownClassContainer,onClicked:function(e){return nl(e?"100px":"50px")},onChange:function(l){var o,i,t,d;l&&(null===e||void 0===e||null===(t=e.options)||void 0===t||null===(d=t.list)||void 0===d||d.map((function(e){var n,o,i=Ll({field_name:e});-1!=i&&(Te.selected_fields[i].value=null!==(n=null===(o=ut.find((function(e){return e.value===l})).component.component_fields.find((function(n){return n.field_name===e})))||void 0===o?void 0:o.value)&&void 0!==n?n:"",Te.selected_fields[i].disabled=!0)})));pn.start=!0,nl("50px"),zl(l),Re(null!==(o=null===ut||void 0===ut?void 0:ut.find((function(e){return e.value===l}))[null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.output])&&void 0!==o?o:null,n)},selectionType:(null===e||void 0===e||null===($i=e.options)||void 0===$i?void 0:$i.selection.length)>0?null===e||void 0===e||null===(et=e.options)||void 0===et?void 0:et.selection:null===e||void 0===e||null===(nt=e.options)||void 0===nt?void 0:nt.type,backgroundColor:null!==e&&void 0!==e&&null!==(lt=e.options)&&void 0!==lt&&lt.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(ot=e.options)||void 0===ot?void 0:ot.valueC:"",value:null!==(it=null===(tt=dt)||void 0===tt?void 0:tt.label)&&void 0!==it?it:""})))}if("Filters"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(ee=e.options)||void 0===ee||null===(ue=ee.component_id)||void 0===ue?void 0:ue.length)>0){var St,kt,It,Nt,Tt,Pt,Dt,At,Ot,Lt,zt,Rt,Ut,Ft,qt,Wt,Bt,Yt,Ht,jt,Vt,Gt,Jt,Kt,Qt,Xt,$t,ed,nd,ld,od,id,td,dd,ad,ud,rd,vd,sd,cd=(null!==e&&void 0!==e&&null!==(St=e.options)&&void 0!==St&&St.global?Rl(null===e||void 0===e?void 0:e.data_type_name):cn).filter((function(n){return n.component_fields.filter((function(n){var l;return n.component_blueprint_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.component_id)})).length>0})),pd=cd.map((function(n){var l,o;return(0,d.Z)({label:n.title,value:n.id,component:n},null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output,null===(o=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})))||void 0===o?void 0:o.value)}));if(cd.length>0){if(e.value){if(sd=cd.find((function(n){return n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)&&n.value===e.value}))}))){var md,fd,_d;zl(null===(md=sd)||void 0===md?void 0:md.id);var yd=(0,a.Z)(null!==(fd=null===(_d=Ue.currentStep)||void 0===_d?void 0:_d.component_blueprints)&&void 0!==fd?fd:[]);yd&&(Ue.newStepComponents=yd)}}else if(1==pd.length&&1==(null===e||void 0===e?void 0:e.mandatory)&&(sd=cd[0])){var hd,gd,bd;zl(null===(hd=sd)||void 0===hd?void 0:hd.id);var xd=(0,a.Z)(null!==(gd=null===(bd=Ue.currentStep)||void 0===bd?void 0:bd.component_blueprints)&&void 0!==gd?gd:[]);xd&&(Ue.newStepComponents=xd)}if(1==pd.length||e.value){var Ed,Cd,wd,Zd;if((null===e||void 0===e||null===(Ed=e.options)||void 0===Ed?void 0:Ed.filters.length)>0)Rn[null===e||void 0===e||null===(wd=e.options)||void 0===wd?void 0:wd.filters[0]]=A.Z(O.Z("value"))(cd.map((function(n){var l=null===n||void 0===n?void 0:n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})));if((null===e||void 0===e||null===(Cd=e.options)||void 0===Cd?void 0:Cd.filters.length)>1)Rn[null===e||void 0===e||null===(Zd=e.options)||void 0===Zd?void 0:Zd.filters[1]]=A.Z(O.Z("value"))(cd.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[2])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})))}}return r.createElement("div",{key:n,className:v.Z.filtersContainer,style:{width:pe.tq?"100%":"".concat(null!==(kt=null===e||void 0===e||null===(It=e.options)||void 0===It?void 0:It.width)&&void 0!==kt?kt:Ze,"%"),display:null!==e&&void 0!==e&&e.visible?"":"none",pointerEvents:$l}},vn.find((function(n){var l;return n.id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.component_id)})).name,r.createElement("br",null),r.createElement("br",null),!sd&&(null===e||void 0===e?void 0:e.value)&&r.createElement("div",{key:n},"A record ( ".concat(null===e||void 0===e?void 0:e.value," ) was previously selected but not found. Press the refresh button on the upper right side to retrieve the missing record. If record is still not found, please check with your admin.")),(null===e||void 0===e||null===(Nt=e.options)||void 0===Nt||null===(Tt=Nt.filters)||void 0===Tt?void 0:Tt.length)>0&&r.createElement("div",{style:{display:null!==e&&void 0!==e&&e.visible?"":"none",marginBottom:"10px"}},r.createElement(f.Z,{visible:null===e||void 0===e?void 0:e.visible,className:v.Z.dropdownSelectComponent,mandatory:1==(null===e||void 0===e||null===(Pt=e.options)||void 0===Pt||null===(Dt=Pt.filters)||void 0===Dt?void 0:Dt.length)&&(null===e||void 0===e?void 0:e.mandatory),items:A.Z(O.Z("value"))(null===(At=cd.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})))||void 0===At?void 0:At.concat({label:"...More",value:"more"})),loading:gn,error:1==(null===e||void 0===e||null===(Ot=e.options)||void 0===Ot||null===(Lt=Ot.filters)||void 0===Lt?void 0:Lt.length)?null===e||void 0===e?void 0:e.errors:"",onChange:function(l){var o,i,t,a,u;"more"!==l?(null===e||void 0===e||null===(o=e.options)||void 0===o||null===(i=o.filters)||void 0===i?void 0:i.length)>1?(Re(void 0,n),Vn(!1),Bn(!1),setTimeout((function(){Bn(!0),Vn(!0)}),10),Un((0,d.Z)({},null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.filters[0],A.Z(O.Z("value"))(cd.map((function(n){var o=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])}));return{label:null===o||void 0===o?void 0:o.value,value:null===o||void 0===o?void 0:o.value,component:n,selected:l}})).filter((function(n){return n.component.component_fields.filter((function(n){var o;return n.value===l&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[0])})).length>0})))))):(nl("50px"),Re(null!==(a=cd.find((function(e){return e.value===l}))[null===e||void 0===e||null===(u=e.options)||void 0===u?void 0:u.output])&&void 0!==a?a:null,n),zl(cd.find((function(e){return e.value===l})).component.id)):Ul()},fieldLabel:null===e||void 0===e||null===(zt=e.options)||void 0===zt?void 0:zt.filters[0],backgroundColor:null!==e&&void 0!==e&&null!==(Rt=e.options)&&void 0!==Rt&&Rt.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(Ut=e.options)||void 0===Ut?void 0:Ut.valueC:"",value:sd?null===(Ft=sd.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])})))||void 0===Ft?void 0:Ft.value:""})),r.createElement("div",{style:{display:null!==e&&void 0!==e&&e.visible?"":"none",marginBottom:"10px"}},(null===e||void 0===e||null===(qt=e.options)||void 0===qt||null===(Wt=qt.filters)||void 0===Wt?void 0:Wt.length)>1&&Wn&&r.createElement(f.Z,{className:v.Z.dropdownSelectComponent,visible:null===e||void 0===e?void 0:e.visible,mandatory:2==(null===e||void 0===e||null===(Bt=e.options)||void 0===Bt||null===(Yt=Bt.filters)||void 0===Yt?void 0:Yt.length)&&(null===e||void 0===e?void 0:e.mandatory),items:null!==(Ht=Rn[null===e||void 0===e||null===(jt=e.options)||void 0===jt?void 0:jt.filters[0]])&&void 0!==Ht?Ht:[],loading:gn,error:2==(null===e||void 0===e||null===(Vt=e.options)||void 0===Vt||null===(Gt=Vt.filters)||void 0===Gt?void 0:Gt.length)?null===e||void 0===e?void 0:e.errors:"",onClicked:function(e){return nl(e?"180px":"50px")},onChange:function(l){var o,i,a,u,r,v,s,c,p;(null===e||void 0===e||null===(o=e.options)||void 0===o||null===(i=o.filters)||void 0===i?void 0:i.length)>2?(Vn(!1),setTimeout((function(){return Vn(!0)}),10),Un((0,t.Z)((0,t.Z)({},Rn),{},(0,d.Z)({},null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.filters[1],null!==(u=A.Z(O.Z("value"))(cd.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[2])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})).filter((function(n){return n.component.component_fields.filter((function(n){var o;return n.value===l&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[1])})).length>0})).filter((function(n){return n.component.component_fields.filter((function(n){var l,o;return n.value===Rn[null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0]][0].component.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])})).value&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[0])})).length>0}))))&&void 0!==u?u:[])))):(nl("50px"),pn.start=!0,Re(null!==(r=null===(v=Rn[null===e||void 0===e||null===(c=e.options)||void 0===c?void 0:c.filters[0]])||void 0===v||null===(s=v.find((function(e){return e.value===l})))||void 0===s?void 0:s.component.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})).value)&&void 0!==r?r:null,n),zl(Rn[null===e||void 0===e||null===(p=e.options)||void 0===p?void 0:p.filters[0]].find((function(e){return e.value===l})).component.id))},fieldLabel:null===e||void 0===e||null===(Jt=e.options)||void 0===Jt?void 0:Jt.filters[1],backgroundColor:null!==e&&void 0!==e&&null!==(Kt=e.options)&&void 0!==Kt&&Kt.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(Qt=e.options)||void 0===Qt?void 0:Qt.valueC:"",value:sd?null===(Xt=sd.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])})))||void 0===Xt?void 0:Xt.value:""})),r.createElement("div",{style:{display:null!==e&&void 0!==e&&e.visible?"":"none",marginBottom:"10px"}},(null===e||void 0===e||null===($t=e.options)||void 0===$t||null===(ed=$t.filters)||void 0===ed?void 0:ed.length)>2&&jn&&r.createElement(f.Z,{visible:null===e||void 0===e?void 0:e.visible,className:v.Z.dropdownSelectComponent,mandatory:3==(null===e||void 0===e||null===(nd=e.options)||void 0===nd||null===(ld=nd.filters)||void 0===ld?void 0:ld.length)&&(null===e||void 0===e?void 0:e.mandatory),items:null!==(od=Rn[null===e||void 0===e||null===(id=e.options)||void 0===id?void 0:id.filters[1]])&&void 0!==od?od:[],loading:gn,error:3==(null===e||void 0===e||null===(td=e.options)||void 0===td||null===(dd=td.filters)||void 0===dd?void 0:dd.length)?null===e||void 0===e?void 0:e.errors:"",onClicked:function(e){return nl(e?"180px":"50px")},onChange:function(l){var o,i,t,d,a;nl("50px"),pn.start=!0,Re(null!==(o=null===(i=Rn[null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.filters[1]])||void 0===i||null===(t=i.find((function(e){return e.value===l})))||void 0===t?void 0:t.component.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})).value)&&void 0!==o?o:null,n),zl(Rn[null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.filters[1]].find((function(e){return e.value===l})).component.id)},fieldLabel:null===e||void 0===e||null===(ad=e.options)||void 0===ad?void 0:ad.filters[2],backgroundColor:null!==e&&void 0!==e&&null!==(ud=e.options)&&void 0!==ud&&ud.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(rd=e.options)||void 0===rd?void 0:rd.valueC:"",value:sd?null===(vd=sd.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[2])})))||void 0===vd?void 0:vd.value:""})))}if("Global"!==(null===e||void 0===e?void 0:e.data_type_name)&&"Connector"!==(null===e||void 0===e?void 0:e.data_type_name)&&"Emails"!==(null===e||void 0===e?void 0:e.data_type_name)&&"Template"!==(null===e||void 0===e?void 0:e.data_type_name)){var Md,Sd,kd,Id,Nd,Td,Pd,Dd,Ad,Od,Ld,zd,Rd,Ud,Fd,qd,Wd,Bd,Yd,Hd,jd,Vd,Gd,Jd,Kd;if("GoogleAI Assistant"===(null===e||void 0===e?void 0:e.data_type_name))return r.createElement("div",{key:n,style:{display:e.visible?"":"none",color:"var(--app-color-gray-dark)",height:"inherit",width:pe.tq?"100%":"80%",flexDirection:"column",marginTop:"50px"}},r.createElement(c.Z,{enabled:$l,width:"".concat(null!==(Md=null===e||void 0===e||null===(Sd=e.options)||void 0===Sd?void 0:Sd.width)&&void 0!==Md?Md:90,"%"),editMode:Xe,showWidth:function(n){e.options=(0,t.Z)((0,t.Z)({},e.options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:"".concat(null===e||void 0===e||null===(kd=e.options)||void 0===kd?void 0:kd.description),fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(Id=e.options)||void 0===Id?void 0:Id.notes},r.createElement("textarea",{className:v.Z.fullLengthTextarea,type:e.data_type,onFocus:function(){},disabled:e.options.fixed,autoComplete:"none",onChange:function(e){Ae(e.target.value,n)},placeholder:"Enter your question here",value:1==e.options.fixed?null===e||void 0===e||null===(Nd=e.options)||void 0===Nd?void 0:Nd.analyze:e.value})),r.createElement("div",{style:{display:"flex"}},r.createElement(g.zx,{light:!0,loading:gn,title:"Ask Assistant ",clicked:function(){0==e.options.fixed&&(e.options.analyze=e.value),Ol(e.options)}},r.createElement("img",{src:"https://ai.google/static/images/share.png",height:"90px",width:"140px"})),(null===ul||void 0===ul?void 0:ul.candidates.length)>0&&r.createElement(g.zx,{title:"Clear",clicked:function(){rl({candidates:[]}),Ae(void 0,n)}})));if("Info"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(me=e.options)||void 0===me||null===(be=me.list)||void 0===be?void 0:be.length)>0&&(null===e||void 0===e||null===(xe=e.options)||void 0===xe||null===(Me=xe.component_id)||void 0===Me?void 0:Me.length)>0&&null!==e&&void 0!==e&&e.visible){var Qd,Xd,$d,ea,na,la,oa,ia,ta,da,aa,ua,ra=cn.find((function(n){return n.id===(null===e||void 0===e?void 0:e.value)})),va={};if(ra)null===e||void 0===e||null===(ua=e.options)||void 0===ua||ua.list.map((function(e,n){var l,o,i,t;if(0==ra.component_fields.length)return r.createElement("div",{key:n});var d,a=ra.component_fields.find((function(n){return n.field_name===e}));"Link"===(null===a||void 0===a?void 0:a.data_type_name)&&(null!==a&&void 0!==a&&null!==(l=a.value)&&void 0!==l&&l.includes("jpg")||null!==a&&void 0!==a&&null!==(o=a.value)&&void 0!==o&&o.includes("jpeg")||null!==a&&void 0!==a&&null!==(i=a.options)&&void 0!==i&&i.image||null!==a&&void 0!==a&&null!==(t=a.value)&&void 0!==t&&t.includes("png"))?va[e]=r.createElement("div",{onClick:function(){return window.open(null===a||void 0===a?void 0:a.value,"_blank")}},r.createElement("img",{alt:"lg",onError:function(e){return e.target.src="https://i.quotev.com/b2gtjqawaaaa.jpg"},src:null===a||void 0===a?void 0:a.value,style:{width:"30px",height:"30px",cursor:"pointer"}})):va[e]=null!==(d=null===a||void 0===a?void 0:a.value)&&void 0!==d?d:""}));return ra&&("rows"===(null===e||void 0===e||null===(Qd=e.options)||void 0===Qd?void 0:Qd.orientation)?r.createElement(c.Z,{style:{border:"0"},width:"100%",key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:!0,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(Xd=e.options)||void 0===Xd?void 0:Xd.notes},r.createElement(J.Z,{className:v.Z.mobileTable_ii,style:{width:(pe.tq,"100%")},tableHostSimple:v.Z.tableHostSimple,columns:null!==($d=null===e||void 0===e||null===(ea=e.options)||void 0===ea?void 0:ea.list)&&void 0!==$d?$d:[],list:[va]})):r.createElement("div",{key:n,className:v.Z.filtersContainer,style:{color:"var(--app-color-gray-light)",height:"inherit",width:pe.tq?"100%":"".concat(null!==(na=null===e||void 0===e||null===(la=e.options)||void 0===la?void 0:la.width)&&void 0!==na?na:(null===Te||void 0===Te||null===(oa=Te.selected_fields)||void 0===oa?void 0:oa.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),display:null!==e&&void 0!==e&&e.visible?"":"none"}},r.createElement("div",{style:{color:"var(--app-color-gray-dark)"}},"Additional Information"),r.createElement("hr",{style:{margin:"20px 0",borderTop:"1px solid #D2D2D2"}}),Object.keys(va).length>0&&(null===e||void 0===e||null===(ia=e.options)||void 0===ia?void 0:ia.list.map((function(n,l){var o,i,t,d,a,u,s;if(0==ra.component_fields.length)return r.createElement("div",{key:l});var p=ra.component_fields.find((function(e){return e.field_name===n}));return r.createElement(c.Z,{style:{border:"0"},key:l,fieldLabel:n,fieldIcon:e.icon,isProcess:!0,visible:!0,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.notes},"Link"===(null===p||void 0===p?void 0:p.data_type_name)&&(null!==p&&void 0!==p&&null!==(i=p.value)&&void 0!==i&&i.includes("jpg")||null!==p&&void 0!==p&&null!==(t=p.value)&&void 0!==t&&t.includes("jpeg")||null!==p&&void 0!==p&&null!==(d=p.options)&&void 0!==d&&d.image||null!==p&&void 0!==p&&null!==(a=p.value)&&void 0!==a&&a.includes("png"))?r.createElement("div",{onClick:function(){return window.open(null===p||void 0===p?void 0:p.value,"_blank")}},r.createElement("img",{onError:function(e){return e.target.src="https://i.quotev.com/b2gtjqawaaaa.jpg"},src:null===p||void 0===p?void 0:p.value,style:{fit:"scale-down",width:"100%",height:"auto",cursor:"pointer"}})):null!==e&&void 0!==e&&null!==(u=e.value)&&void 0!==u&&u.includes("pdf")?r.createElement("div",{style:{width:"inherit"},onClick:function(){return window.open(null===p||void 0===p?void 0:p.value,"_blank")}},r.createElement("embed",{src:"".concat(null===p||void 0===p?void 0:p.value,"#toolbar=0&navpanes=0&scrollbar=0&zoom=100%"),width:"100%",height:"1000px"})):(null===p||void 0===p||null===(s=p.value)||void 0===s?void 0:s.length)<50||void 0===p?r.createElement("input",{onBlur:function(n){return ke(e.data_type_name,n.target.value,Le,l,Ue)},type:e.data_type,value:p?p.value:"",autoComplete:"none",className:v.Z.fieldTypeInput,name:e.field_name,readOnly:!0,style:{border:"1px dashed rgba(234, 231, 231, 0.91)",height:"40px",fontSize:"18px",backgroundColor:"rgba(234, 231, 231, 0.91)"}}):r.createElement("textarea",{className:v.Z.fieldTypeTextarea,type:e.data_type,value:p?p.value:"",onFocus:function(){},autoComplete:"none",onChange:function(e){},readOnly:!0,style:{backgroundColor:"rgba(234, 231, 231, 0.91)",height:"auto",fontSize:"18px"}}))}))),!0===(null===Te||void 0===Te||null===(ta=Te.options)||void 0===ta?void 0:ta.allowMultipleInputs)&&(null===(da=sn.processModule.module.options)||void 0===da||null===(aa=da.computes)||void 0===aa?void 0:aa.map((function(n,l){var o,i,t=null===cn||void 0===cn||null===(o=cn.filter((function(e){return e.module_id===n.module_id})))||void 0===o?void 0:o.find((function(n){return n.component_fields.filter((function(n){var l,o;return n.value===(null!==(l=null===(o=ra.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.key)})))||void 0===o?void 0:o.value)&&void 0!==l?l:"#$")})).length>0})),d=null===t||void 0===t?void 0:t.component_fields.find((function(e){return e.procedure_step_blueprint_field_id===n.field_id}));return r.createElement(c.Z,{style:{display:d?"":"none",border:"0"},key:l,fieldLabel:null===d||void 0===d?void 0:d.field_name,fieldIcon:e.icon,isProcess:!0,visible:!0,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.notes},r.createElement("input",{onBlur:function(n){return ke(e.data_type_name,n.target.value,Le,l,Ue)},type:e.data_type,value:null===d||void 0===d?void 0:d.value,autoComplete:"none",className:v.Z.fieldTypeInput,name:e.field_name,disabled:!0,style:{border:"1px dashed rgba(234, 231, 231, 0.91)",height:"40px",fontSize:"18px",backgroundColor:"rgba(234, 231, 231, 0.91)"}}))})))))}if("Calendar"===(null===e||void 0===e?void 0:e.data_type_name))return r.createElement(c.Z,{enabled:$l,width:"100%",style:{width:"".concat(null!==(Td=null===e||void 0===e||null===(Pd=e.options)||void 0===Pd?void 0:Pd.width)&&void 0!==Td?Td:100,"%")},editMode:Xe,key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(Dd=e.options)||void 0===Dd?void 0:Dd.notes},r.createElement("div",{id:e.field_name,style:{width:"inherit",marginBottom:"160px"}},r.createElement(g.zx,{light:!0,clicked:function(){var e,n;bn(!0),(0,ae.Mk)(null!==(e=null===Pe||void 0===Pe||null===(n=Pe.created_by)||void 0===n?void 0:n.id)&&void 0!==e?e:tn.id,!0).pipe((0,h.q)(1)).subscribe({next:function(){bn(!1)}})},loading:gn,icon:r.createElement("img",{src:s.Fd})}),!(cl||gn)&&r.createElement(fe.Scheduler,{height:1800,events:un.length>0?null===un||void 0===un||null===(Ad=un.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.add_info)||void 0===n?void 0:n.module_id)===(null===(l=sn.processModule)||void 0===l?void 0:l.module_id)})))||void 0===Ad?void 0:Ad.map((function(e){var n,l;return{event_id:e.id,title:e.description,start:new Date(Date.parse(null===(n=e.add_info)||void 0===n?void 0:n.start)),end:null!==e&&void 0!==e&&e.completed_at?new Date(Date.parse(e.completed_at)):new Date(Date.parse(null===(l=e.add_info)||void 0===l?void 0:l.end)),admin_id:2,color:"#50b500",editable:!1,deletable:!1}})):[],navigation:!0,view:bl,agenda:(null===Pe||void 0===Pe||null===(Od=Pe.created_by)||void 0===Od?void 0:Od.id)!==tn.id&&!(null===Pe||void 0===Pe||null===(Ld=Pe.created_by)||void 0===Ld||!Ld.id),day:{startHour:0,endHour:24,cellRenderer:function(e){e.height,e.start,e.onClick;var n=!1,l=(0,i.Z)(e,Ee);return r.createElement(g.zx,(0,o.Z)({style:{height:"100%",background:"transparent",cursor:"pointer"},clicked:function(){pl(!0),yl(void 0)},disabled:n},l))}},month:(null===Pe||void 0===Pe||null===(zd=Pe.created_by)||void 0===zd?void 0:zd.id)!==tn.id&&void 0!==(null===Pe||void 0===Pe?void 0:Pe.created_by)?null:{cellRenderer:function(e){e.height,e.start,e.onClick;var n=!1,l=(0,i.Z)(e,Ce);return r.createElement(g.zx,(0,o.Z)({style:{height:"100%",background:"transparent",cursor:"pointer"},clicked:function(){pl(!0),yl(void 0)},disabled:n},l))}},week:(null===Pe||void 0===Pe||null===(Rd=Pe.created_by)||void 0===Rd?void 0:Rd.id)!==tn.id&&void 0!==(null===Pe||void 0===Pe?void 0:Pe.created_by)?null:{weekDays:[0,1,2,3,4,5],weekStartOn:6,startHour:0,endHour:25,step:60,cellRenderer:function(e){e.height;var n=e.start,l=(e.onClick,!1),t=(0,i.Z)(e,we);return r.createElement(g.zx,(0,o.Z)({style:{height:"100%",background:"transparent",cursor:"pointer"},clicked:function(){wn(n),pl(!0),yl(void 0)},disabled:l},t))}},onEventClick:function(e){pl(!0),yl(null===un||void 0===un?void 0:un.find((function(n){return n.id===e.event_id})))},onViewChange:function(e){return xl(e)}}),cl&&r.createElement(de.Z,{modalVisible:cl,heading:null!==(Ud=null===e||void 0===e||null===(Fd=e.options)||void 0===Fd?void 0:Fd.header)&&void 0!==Ud?Ud:_l?"Update Calendar":"Create New Calendar",labels:null===e||void 0===e?void 0:e.options,task:_l,isProcess:!0,blured:!1,onClose:function(){return pl(!1)},isEdit:!!_l,statuses:null===e||void 0===e||null===(qd=e.options)||void 0===qd?void 0:qd.list,priority:null===e||void 0===e||null===(Wd=e.options)||void 0===Wd?void 0:Wd.priority,span:null===e||void 0===e||null===(Bd=e.options)||void 0===Bd?void 0:Bd.span,start_date:Cn})));if("Lookup"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Ne=e.options)||void 0===Ne||null===(De=Ne.list)||void 0===De?void 0:De.length)>0&&(null===e||void 0===e||null===(Oe=e.options)||void 0===Oe||null===(ze=Oe.source_id)||void 0===ze?void 0:ze.length)>0&&null!==e&&void 0!==e&&null!==(qe=e.options)&&void 0!==qe&&null!==(Be=qe.target_id)&&void 0!==Be&&Be.length){var sa,ca,pa,ma,fa,_a,ya,ha,ga,ba,xa,Ea,Ca,wa,Za,Ma,Sa,ka,Ia,Na,Ta,Pa,Da,Aa,Oa=function(e,n){var l,o;if(Ue){var i,t,d,a,u,r,v,s=null===(l=sn.processModule.module)||void 0===l||null===(o=l.options)||void 0===o?void 0:o.global;return s||(s=null===(i=Ue.components.find((function(n){return n.selected_fields.filter((function(n){return 1==n.visible&&n.field_name===e})).length>0})))||void 0===i||null===(t=i.selected_fields.find((function(n){return n.field_name===e})))||void 0===t?void 0:t.value),s||(s=null===(d=N.Z(T.Z("component_blueprints"),P.Z)(null!==(r=null===sn||void 0===sn||null===(v=sn.processModule)||void 0===v?void 0:v.completeSteps)&&void 0!==r?r:[]).find((function(n){return n.selected_fields.filter((function(n){return n.field_name===e&&"Value"===n.data_type_name})).length>0})))||void 0===d||null===(a=d.selected_fields.find((function(n){return n.field_name===e})))||void 0===a||null===(u=a.options)||void 0===u?void 0:u.value),s?n.filter((function(n){return n[e]===s})):n}}(null===e||void 0===e||null===(sa=e.options)||void 0===sa?void 0:sa.global,function(e,n,l){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:cn,r=u.filter((function(e){var n;return(null===(n=e.component_fields)||void 0===n?void 0:n.filter((function(e){return e.component_blueprint_id===l})).length)>0})),v=[];return u.filter((function(n){return n.component_fields.filter((function(n){return n.component_blueprint_id===e})).length>0})).map((function(e){var l={};o.map((function(n){var o;l[n]=null===(o=e.component_fields.find((function(e){return e.field_name===n})))||void 0===o?void 0:o.value}));var u=e.component_fields.find((function(e){return e.field_name===n}));void 0!==u&&r.filter((function(e){return e.component_fields.filter((function(e){return e.value===u.value&&e.field_name===n})).length>0})).map((function(n){var o,u,r,s=null!==(o=null===(u=n.component_fields.find((function(e){return-1!==d.indexOf(e.field_name)})))||void 0===u?void 0:u.value)&&void 0!==o?o:"",c={};d.length>0&&d.map((function(e){var l=n.component_fields.find((function(n){return n.field_name===e}));l&&(c[e]=l.value)}));var p={};i.length>0&&i.map((function(l){var o=n.component_fields.find((function(e){return e.field_name===l}));if(o)p[l]=o.value;else{var i=e.component_fields.find((function(e){return e.field_name===l}));i&&(p[l]=i.value)}})),v=[].concat((0,a.Z)(v),[(0,t.Z)((0,t.Z)((0,t.Z)({label:s,value:n.id,field:n,grouping:(null===(r=Object.values(l))||void 0===r?void 0:r.length)>0?Object.values(l)[0]:"Fields"},l),p),c)])}))})),v}(null===e||void 0===e||null===(ca=e.options)||void 0===ca?void 0:ca.source_id,null===e||void 0===e||null===(pa=e.options)||void 0===pa?void 0:pa.common_field,null===e||void 0===e||null===(ma=e.options)||void 0===ma?void 0:ma.target_id,null===e||void 0===e||null===(fa=e.options)||void 0===fa?void 0:fa.sourceLabel,null===e||void 0===e||null===(_a=e.options)||void 0===_a?void 0:_a.list,null!==(ya=null===e||void 0===e||null===(ha=e.options)||void 0===ha?void 0:ha.rlist)&&void 0!==ya?ya:[]));return r.createElement(c.Z,{enabled:$l,width:"Tiles"===(null===e||void 0===e||null===(ga=e.options)||void 0===ga?void 0:ga.selection)?"50%":pe.tq?"100%":"".concat(null!==(ba=null===e||void 0===e||null===(xa=e.options)||void 0===xa?void 0:xa.width)&&void 0!==ba?ba:(null===Te||void 0===Te||null===(Ea=Te.selected_fields)||void 0===Ea?void 0:Ea.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),style:{border:"Tiles"===(null===e||void 0===e||null===(Ca=e.options)||void 0===Ca?void 0:Ca.selection)?"0":""},editMode:Xe,key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(wa=e.options)||void 0===wa?void 0:wa.notes},r.createElement("div",{id:e.field_name,style:{width:"100%",border:"Dropdown"===(null===e||void 0===e||null===(Za=e.options)||void 0===Za?void 0:Za.selection)?"1px solid var(--app-color-gray-light)":"none"}},"Dropdown"===(null===e||void 0===e||null===(Ma=e.options)||void 0===Ma?void 0:Ma.selection)?r.createElement(I.yV,{items:Oa,groupedBy:"grouping",groupname:"grouping",triggerType:"chevron",title:An,className:v.Z.dropdownClassContainer,inputClassName:v.Z.peoplePositionsSelectInput,molclassname:v.Z.peoplePositionsSelectMenuOverlay,moliclassname:v.Z.peoplePositionsSelectMenuOverlayItem,notags:"true",onChange:function(l){var o;l.length>0&&(null===e||void 0===e||null===(o=e.options)||void 0===o||o.list.map((function(n){var o=Ll({field_name:n});if(-1!=o){var i=cn.find((function(e){return e.id===l[0].value})),t=i.component_fields.find((function(e){return e.field_name===n}));if(void 0==t){var d=i.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.common_field)})),a=cn.find((function(n){return n.component_fields.filter((function(n){var l;return n.value===d.value&&n.component_blueprint_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.source_id)})).length>0}));if(void 0!=a){var u=a.component_fields.find((function(e){return e.field_name===n}));void 0!=u?(Te.selected_fields[o].value=u.value,Te.selected_fields[o].disabled=!0):Te.selected_fields[o].value=""}else Te.selected_fields[o].value=""}else Te.selected_fields[o].value=t.value,Te.selected_fields[o].disabled=!0}})),Re("".concat(l[0].label,",").concat(l[0].value),n),On("".concat(l[0].grouping)))}}):"Tiles"===(null===e||void 0===e||null===(Sa=e.options)||void 0===Sa?void 0:Sa.selection)?r.createElement(I.qq,{items:Oa,columns:null===e||void 0===e||null===(ka=e.options)||void 0===ka?void 0:ka.rlist,columnsG:null!==(Ia=null===e||void 0===e||null===(Na=e.options)||void 0===Na?void 0:Na.sourceLabel)&&void 0!==Ia?Ia:[],initialSelected:null===e||void 0===e?void 0:e.value,selectedItems:null!==e&&void 0!==e&&null!==(Ta=e.options)&&void 0!==Ta&&Ta.showAll?Oa:Rn,showAll:1==(null===e||void 0===e||null===(Pa=e.options)||void 0===Pa?void 0:Pa.showAll),groupedBy:"grouping",groupname:"grouping",className:v.Z.peoplePositionsSelect,onGroupChange:function(e){Un(Oa.filter((function(n){return n.grouping===e})))},onChange:function(l){var o;l&&(null===e||void 0===e||null===(o=e.options)||void 0===o||o.list.map((function(n){var o=Ll({field_name:n});if(-1!=o){var i=cn.find((function(e){return e.id===l.value})),t=i.component_fields.find((function(e){return e.field_name===n}));if(void 0==t){var d=i.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.common_field)})),a=cn.find((function(n){return n.component_fields.filter((function(n){var l;return n.value===d.value&&n.component_blueprint_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.source_id)})).length>0}));if(void 0!=a){var u=a.component_fields.find((function(e){return e.field_name===n}));void 0!=u?(Te.selected_fields[o].value=u.value,Te.selected_fields[o].disabled=!0):Te.selected_fields[o].value=""}else Te.selected_fields[o].value=""}else Te.selected_fields[o].value=t.value,Te.selected_fields[o].disabled=!0}})),Re("".concat(l.label,",").concat(l.value),n))}}):r.createElement("div",{className:v.Z.openSelectWithSearchHost},r.createElement(G.Z,{title:null===e||void 0===e||null===(Da=e.options)||void 0===Da?void 0:Da.sourceLabel,triggerType:"eyeglass",className:v.Z.openSelectWithSearch,molclassname:v.Z.menuOverlayList,moliclassname:v.Z.menuOverlayListItem,inputClassName:v.Z.menuOverlayListItemInput,inputContainerClassName:v.Z.menuOverlayListItemInputContainerClassName,items:A.Z(O.Z("grouping"))(Oa).map((function(e){return{label:e.grouping,value:e.grouping}})),onChange:function(n){document.getElementById(e.field_name).style.height="80px",Un(Oa.filter((function(e){return e.grouping===n.value})))}}),r.createElement(G.Z,{title:null===e||void 0===e||null===(Aa=e.options)||void 0===Aa?void 0:Aa.referenceLabel,triggerType:"eyeglass",className:v.Z.openSelectWithSearch,molclassname:v.Z.menuOverlayList,moliclassname:v.Z.menuOverlayListItem,inputClassName:v.Z.menuOverlayListItemInput,inputContainerClassName:v.Z.menuOverlayListItemInputContainerClassName,items:Rn,onChange:function(l){var o;(document.getElementById(e.field_name).style.height="80px",l)&&(null===e||void 0===e||null===(o=e.options)||void 0===o||o.list.map((function(n){var o=Ll({field_name:n});if(-1!=o){var i=cn.find((function(e){return e.id===l.value})),t=i.component_fields.find((function(e){return e.field_name===n}));if(void 0==t){var d=i.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.common_field)})),a=cn.find((function(n){return n.component_fields.filter((function(n){var l;return n.value===d.value&&n.component_blueprint_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.source_id)})).length>0}));if(void 0!=a){var u=a.component_fields.find((function(e){return e.field_name===n}));void 0!=u?(Te.selected_fields[o].value=u.value,Te.selected_fields[o].disabled=!0):Te.selected_fields[o].value=""}else Te.selected_fields[o].value=""}else Te.selected_fields[o].value=t.value,Te.selected_fields[o].disabled=!0}})),Re("".concat(l.label,",").concat(l.value),n))}}))))}if(("Step List"===(null===e||void 0===e?void 0:e.data_type_name)||"Component List"===(null===e||void 0===e?void 0:e.data_type_name))&&(null===e||void 0===e||null===(He=e.options)||void 0===He||null===(Ve=He.list)||void 0===Ve?void 0:Ve.length)>0&&(null===e||void 0===e||null===(Je=e.options)||void 0===Je||null===(Qe=Je.component_id)||void 0===Qe?void 0:Qe.length)>0)return r.createElement("div",{key:n,style:{width:"100%",display:1==e.visible?"":"none",padding:pe.tq?"0":"50px"}},r.createElement(M.default,{columns:["No"].concat(null===e||void 0===e||null===(Yd=e.options)||void 0===Yd?void 0:Yd.list),list:(Xl=null===e||void 0===e?void 0:e.options,Ue.components.filter((function(e){return e.id===Xl.component_id})).map((function(e,n){var l={};return Xl.list.map((function(o){var i,a;l=(0,t.Z)((0,t.Z)({},l),{},(a={},(0,d.Z)(a,o,null===(i=e.selected_fields.find((function(e){return e.field_name===o})))||void 0===i?void 0:i.value),(0,d.Z)(a,"temp_id",e.temp_id),(0,d.Z)(a,"No",n+1),a))})),l}))),onListItemClick:function(e){en(e),Te.selected_fields.map((function(n,l){"output"!==n.data_type&&("Text"===n.data_type_name||"Date"===n.data_type_name||"Number"===n.data_type_name||"Link"===n.data_type_name?Ae(e[n.field_name],l):Re(e[n.field_name],l),n.value=e[n.field_name])}))}}));if("Checkbox"===(null===e||void 0===e?void 0:e.data_type_name))return r.createElement(c.Z,{enabled:$l,style:{border:"0px solid gray"},notes:null===e||void 0===e||null===(Hd=e.options)||void 0===Hd?void 0:Hd.notes,editMode:Xe,width:pe.tq?"100%":"".concat(null!==(jd=null===e||void 0===e||null===(Vd=e.options)||void 0===Vd?void 0:Vd.width)&&void 0!==jd?jd:(null===Te||void 0===Te||null===(Gd=Te.selected_fields)||void 0===Gd?void 0:Gd.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),fieldLabel:null===e||void 0===e||null===(Jd=e.options)||void 0===Jd?void 0:Jd.value,key:n,visible:e.visible,mandatory:e.mandatory,error:e.errors,customIconBgColor:"white"},r.createElement(K.X,{defaultChecked:null!==(Kd=e.value)&&void 0!==Kd&&Kd,onChange:function(e){Re(e.target.checked,n)}}));if("Module"===(null===e||void 0===e?void 0:e.data_type_name)&&null!==($e=e.options)&&void 0!==$e&&$e.module_id){var La,za=rn.find((function(n){return n.id===e.options.module_id}));return r.createElement(c.Z,{enabled:$l,style:{border:"0px solid gray",paddingTop:"60px"},notes:null===e||void 0===e||null===(La=e.options)||void 0===La?void 0:La.notes,editMode:Xe,width:"100%",fieldLabel:null===e||void 0===e?void 0:e.field_name,key:n,visible:e.visible,mandatory:e.mandatory,error:e.errors,customIconBgColor:"white"},r.createElement("div",{style:{width:"inherit"}},r.createElement(M.default,{modern:!!pe.tq,className:v.Z.itemsContainer,columns:["Transaction","Date Created","Status"],list:L.Z([z.Z(R.Z("created_date"))])(cn.filter((function(e){return e.module_id===za.id}))).filter((function(n){var l,o,i,t=null===(l=U.Z(F.Z("field_name",null!==(o=null===(i=e.options)||void 0===i?void 0:i.key)&&void 0!==o?o:""),P.Z(T.Z("selected_fields",Ue.components))))||void 0===l?void 0:l.value;return n.component_fields.find((function(n){var l;return n.value===t&&n.field_name===(null===(l=e.options)||void 0===l?void 0:l.key)}))})).map((function(e){var n;return n={Transaction:e.title},(0,d.Z)(n,"Date Created","".concat(V()(new Date(e.created_date)).format("DD MMM YYYY"))),(0,d.Z)(n,"Status",e.status),n}))},r.createElement("div",{className:v.Z.iconsContainer,style:{display:"flex"}},r.createElement(g.zx,{light:!0,message:"Fetching ".concat(za.name,"..."),clicked:function(){bn(!0),(0,ge.zJ)(za.procedure.id).pipe((0,y.P)()).subscribe({next:function(n){bn(!1),e.options.fields.filter((function(e){var l,o,i=null===(l=U.Z(F.Z("field_name",e),P.Z(T.Z("selected_fields",Ue.components))))||void 0===l?void 0:l.value;null===(o=n.steps)||void 0===o||o.forEach((function(n){var l;return null===n||void 0===n||null===(l=n.component_blueprints)||void 0===l?void 0:l.forEach((function(n){var l=n.selected_fields.find((function(n){return n.field_name===e}));l&&(l.value=i)}))}))})),ye.h.dispatch((0,he.q4)((0,t.Z)((0,t.Z)({},n),{},{completeSteps:n.steps,steps:n.steps,stepIndex:1,module_id:e.options.module_id,module:rn.find((function(n){return n.id===e.options.module_id}))}))),Fe({action:C._U.setModuleItems,value:[]}),Fe({action:C._U.setModuleNewStepComponents,value:[]}),Fe({action:C._U.setComponents,value:[]})},error:function(e){}})}},r.createElement(s.mm,null)),r.createElement(g.zx,{light:!0,clicked:function(){bn(!0),_n.componentsByModule[za.name]=0,(0,ve.vC)(za,E.Qc,E.R6,1).pipe((0,h.q)(1)).subscribe({next:function(e){var n;_n.componentsByModule[za.name]=(0,j.now)(),za.lastUpdate=(0,j.now)(),za.count=null!==(n=null===e||void 0===e?void 0:e.total)&&void 0!==n?n:0,bn(!1)},complete:function(){},error:function(){return bn(!1)}})},icon:r.createElement("img",{src:s.Fd}),loading:gn,message:"Fetching ".concat(za.name,"...")})))))}if("Transaction List"===(null===e||void 0===e?void 0:e.data_type_name)&&null!==e&&void 0!==e&&null!==(nn=e.options)&&void 0!==nn&&nn.simple){var Ra,Ua,Fa,qa,Wa,Ba,Ya,Ha,ja,Va=L.Z([q.Z(R.Z("index"))])(null!==(Ra=null!==e&&void 0!==e&&null!==(Ua=e.options)&&void 0!==Ua&&Ua.type?Ue.items.filter((function(n){var l;return n.type===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.type)})):Ue.items)&&void 0!==Ra?Ra:[]);return r.createElement(c.Z,{fieldLabel:null===e||void 0===e?void 0:e.field_name,enabled:$l,width:"100%",editMode:Xe,showWidth:function(n){e.options=(0,t.Z)((0,t.Z)({},e.options),{},{width:"".concat(n,"px")})},style:{border:"0",padding:Va.length>2?"0":"0 0 150px 0",marginTop:"50px"},key:n,visible:e.visible,notes:null===e||void 0===e||null===(Fa=e.options)||void 0===Fa?void 0:Fa.notes,error:(null===(qa=e.errors)||void 0===qa?void 0:qa.length)>0?"".concat(e.errors):""},r.createElement(J.Z,{style:{width:"100%"},modern:!!pe.tq,tableHostSimple:v.Z.itemsContainer_ii,layeredColumns:null===Te||void 0===Te||null===(Wa=Te.selected_fields)||void 0===Wa?void 0:Wa.filter((function(e){var n;return null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem})).map((function(e){var n,l;return null!==(n=e.options)&&void 0!==n&&n.group?{label:null===(l=e.options)||void 0===l?void 0:l.group,subColumns:[{label:e.field_name}]}:{label:e.field_name}})).concat([{label:"Actions"}]),list:null===Va||void 0===Va?void 0:Va.map((function(n,l){var o,i,d={index:l,Actions:r.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",minWidth:"80px"}},!(null!==n&&void 0!==n&&n.edit)&&r.createElement(Q.G,{icon:X.IwR,onClick:function(){n.edit=!0,Fe({action:C._U.setModuleItems,value:Ue.items})}}),(null===n||void 0===n?void 0:n.edit)&&r.createElement(Q.G,{icon:X.EsX,onClick:function(){var l;n.edit=!1,Fe({action:C._U.setModuleItems,value:Ue.items}),null!==Pe&&void 0!==Pe&&Pe.id&&null!==e&&void 0!==e&&null!==(l=e.options)&&void 0!==l&&l.asap&&(0,p.np)(n,Pe.id).subscribe({})}}),(null===n||void 0===n?void 0:n.edit)&&r.createElement(Q.G,{icon:X.$aW,onClick:function(){Fe({action:C._U.setModuleItems,value:Ue.items.filter((function(e){return e.id!==n.id})).map((function(e,n){return(0,t.Z)((0,t.Z)({},e),{},{index:n})}))})}}))};return(null!==(o=null===Te||void 0===Te||null===(i=Te.selected_fields)||void 0===i?void 0:i.filter((function(e){var n;return null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem})))&&void 0!==o?o:[]).forEach((function(e){var o,i,u,v=(0,E.sO)(n[e.options.mapToItem])?JSON.parse(null!==(o=n[e.options.mapToItem])&&void 0!==o?o:"{}"):{};d[e.field_name]=r.createElement("div",{style:{padding:null!==n&&void 0!==n&&n.edit?"5px":""}},r.createElement(Fl,{item:n,index:l,enabled:!0,edit:null!==(i=null===n||void 0===n?void 0:n.edit)&&void 0!==i&&i,isItem:!0,field:(0,t.Z)((0,t.Z)({},e),{},{visible:!0,value:null!==(u=v[e.field_name])&&void 0!==u?u:""}),withLabel:!1,handleItem:function(l,o){v[e.field_name]=l,n[e.options.mapToItem]=JSON.stringify(v),Fe({action:C._U.setModuleItems,value:[].concat((0,a.Z)(Ue.items.filter((function(e){return e.id!==n.id}))),[n])})}}))})),d})),footer:null!==(Ba=e.options)&&void 0!==Ba&&Ba.footer?null===Te||void 0===Te||null===(Ya=Te.selected_fields)||void 0===Ya?void 0:Ya.filter((function(e){var n;return null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem})).map((function(n,l){var o,i;return null!==n&&void 0!==n&&null!==(o=n.options)&&void 0!==o&&o.footer?ql(null!==e&&void 0!==e&&null!==(i=e.options)&&void 0!==i&&i.type?Ue.items.filter((function(n){var l;return n.type===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.type)})):Ue.items,n,e):0===l?"Totals:":""})).concat([""]):[]},(null===Te||void 0===Te||null===(Ha=Te.options)||void 0===Ha?void 0:Ha.allowMultipleInputs)&&r.createElement("div",{className:v.Z.iconsContainer,style:{display:"flex",justifyContent:"space-between"}},r.createElement(g.zx,{light:!0,style:{width:"32px"},clicked:function(){var n,l;Fe({action:C._U.setModuleItems,value:[].concat((0,a.Z)(Ue.items),[{id:(0,E.mR)(),item_code:"",value:"",alt_value:"",quantity:"",total:"",type:null!==(n=null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.type)&&void 0!==n?n:"",edit:!0,index:Ue.items.length}])})}},r.createElement(s.mm,null)),(null===(ja=e.options)||void 0===ja?void 0:ja.export)&&Al(Pe.component_items,["item_code","quantity","value","alt_value"]))))}if("Transaction List"!==(null===e||void 0===e?void 0:e.data_type_name)||null===e||void 0===e||null===(dn=e.options)||void 0===dn||!dn.map||null!==e&&void 0!==e&&null!==(yn=e.options)&&void 0!==yn&&yn.simple){if("ID"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(hn=e.options)||void 0===hn||null===(xn=hn.id)||void 0===xn?void 0:xn.length)>0){var Ga,Ja,Ka,Qa,Xa,$a=void 0===e.value||null===e.value?"".concat(null===e||void 0===e?void 0:e.options.id).concat(null===(null===pn||void 0===pn?void 0:pn.misc_info)?1:null!==(Ga=null===pn||void 0===pn?void 0:pn.misc_info[null===e||void 0===e?void 0:e.field_name])&&void 0!==Ga?Ga:1):e.value;return e.value=$a,Ue.id=$a,r.createElement(c.Z,{width:pe.tq?"100%":"".concat(null!==(Ja=null===e||void 0===e||null===(Ka=e.options)||void 0===Ka?void 0:Ka.width)&&void 0!==Ja?Ja:(null===Te||void 0===Te||null===(Qa=Te.selected_fields)||void 0===Qa?void 0:Qa.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),editMode:Xe,key:n,fieldLabel:e.field_name,fieldIcon:e.icon,notes:null===e||void 0===e||null===(Xa=e.options)||void 0===Xa?void 0:Xa.notes,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,customIconBgColor:"white"},r.createElement("input",{onBlur:function(l){return ke(e.data_type_name,l.target.value,Le,n,Ue)},type:e.data_type,autoComplete:"none",value:$a,className:v.Z.fieldTypeID,name:e.field_name,disabled:!0}))}var eu,nu,lu,ou,iu,tu,du,au,uu,ru,vu,su,cu,pu,mu,fu,_u,yu,hu,gu,bu,xu,Eu,Cu,wu,Zu,Mu,Su,ku,Iu,Nu,Tu,Pu,Du,Au,Ou,Lu,zu,Ru,Uu,Fu,qu,Wu,Bu,Yu,Hu,ju,Vu,Gu,Ju,Ku,Qu,Xu,$u,er,nr,lr,or,ir,tr,dr,ar,ur,rr,vr,sr,cr,pr,mr,fr,_r,yr,hr,gr,br,xr,Er,Cr,wr,Zr,Mr,Sr,kr,Ir,Nr,Tr,Pr,Dr,Ar,Or,Lr,zr,Rr,Ur,Fr,qr;if("Value Button"===(null===e||void 0===e?void 0:e.data_type_name))return r.createElement(c.Z,{width:pe.tq?"100%":"".concat(null!==(eu=null===e||void 0===e||null===(nu=e.options)||void 0===nu?void 0:nu.width)&&void 0!==eu?eu:(null===Te||void 0===Te||null===(lu=Te.selected_fields)||void 0===lu?void 0:lu.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),editMode:Xe,key:n,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,customIconBgColor:"white"},r.createElement(M.default,{rowStyleSelected:{border:null!==e&&void 0!==e&&e.value?"2px solid black":"1px dashed black"},initialSelected:(null===(ou=e.options)||void 0===ou?void 0:ou.value)===(null===e||void 0===e?void 0:e.value)?0:void 0,modern:!0,isReport:!1,"app-variant-is-mobile":"true",columns:["Name","Description","Image"],list:[{Name:null===(iu=e.options)||void 0===iu?void 0:iu.label,Description:null!==(tu=null===e||void 0===e||null===(du=e.options)||void 0===du?void 0:du.notes)&&void 0!==tu?tu:e.field_name,Image:null===(au=e.options)||void 0===au?void 0:au.image}],onListItemClick:function(){var l;null!==e&&void 0!==e&&e.value?Ae(void 0,n):(null===Te||void 0===Te||null===(l=Te.selected_fields)||void 0===l||l.filter((function(e){return"Value Button"===(null===e||void 0===e?void 0:e.data_type_name)})).map((function(e){e.value=void 0})),Ae(e.options.value,n))}}));if("Notes"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(En=e.options)||void 0===En||null===(Zn=En.value)||void 0===Zn?void 0:Zn.length)>0)return r.createElement(c.Z,{enabled:$l,width:pe.tq?"100%":"".concat(null!==(uu=null===e||void 0===e||null===(ru=e.options)||void 0===ru?void 0:ru.width)&&void 0!==uu?uu:80,"%"),editMode:Xe,style:{border:"0"},key:n,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:!1,error:e.errors},r.createElement("label",{key:n,className:v.Z.labelInput,style:{display:e.visible?"":"none"}},"".concat(e.field_name,": ").concat(null===e||void 0===e||null===(vu=e.options)||void 0===vu?void 0:vu.value)));if("List Filter"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Mn=e.options)||void 0===Mn||null===(Sn=Mn.value)||void 0===Sn?void 0:Sn.length)>0)return r.createElement(r.Fragment,null);if("Value"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(kn=e.options)||void 0===kn||null===(In=kn.module_id)||void 0===In?void 0:In.length)>0&&(null===e||void 0===e||null===(Pn=e.options)||void 0===Pn||null===(Dn=Pn.component_id)||void 0===Dn?void 0:Dn.length)>0)return r.createElement(c.Z,{width:pe.tq?"100%":"".concat(null!==(su=null===e||void 0===e||null===(cu=e.options)||void 0===cu?void 0:cu.width)&&void 0!==su?su:(null===Te||void 0===Te||null===(pu=Te.selected_fields)||void 0===pu?void 0:pu.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),key:n,fieldLabel:!0===(null===e||void 0===e||null===(mu=e.options)||void 0===mu?void 0:mu.chart)?"":e.field_name,fieldIcon:e.icon,editMode:Xe,isProcess:!0,visible:e.visible,error:e.errors,customIconBgColor:"white"},!0===(null===e||void 0===e||null===(fu=e.options)||void 0===fu?void 0:fu.chart)?r.createElement(se.Z,{title:e.field_name,series:null===(_u=Te.selected_fields[n])||void 0===_u||null===(yu=_u.value)||void 0===yu?void 0:yu.split(",").map((function(e){return+e})),labels:null!==e&&void 0!==e&&null!==(hu=e.options)&&void 0!==hu&&hu.notes?null===e||void 0===e||null===(gu=e.options)||void 0===gu||null===(bu=gu.notes)||void 0===bu?void 0:bu.split(","):["To accomplish","Done"]}):r.createElement("input",{value:null===e||void 0===e||null===(xu=e.options)||void 0===xu?void 0:xu.value,className:v.Z.fieldTypeInput,name:e.field_name,disabled:!0}));if("URL"===e.data_type_name)return r.createElement(c.Z,{border:{border:"0"},width:pe.tq?"100%":"".concat(null!==(Eu=null===e||void 0===e||null===(Cu=e.options)||void 0===Cu?void 0:Cu.width)&&void 0!==Eu?Eu:80,"%"),editMode:Xe,key:n,notes:null===e||void 0===e||null===(wu=e.options)||void 0===wu?void 0:wu.notes,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,customIconBgColor:"white"},null!==e&&void 0!==e&&null!==(Zu=e.options.value)&&void 0!==Zu&&Zu.includes("jpg")||null!==e&&void 0!==e&&null!==(Mu=e.options.value)&&void 0!==Mu&&Mu.includes("jpeg")||null!==e&&void 0!==e&&null!==(Su=e.options)&&void 0!==Su&&Su.image||null!==e&&void 0!==e&&null!==(ku=e.options.value)&&void 0!==ku&&ku.includes("png")?r.createElement("div",{onClick:function(){return window.open(null===e||void 0===e?void 0:e.options.value,"_blank")}},r.createElement("img",{alt:"lg",onError:function(e){return e.target.src="https://i.quotev.com/b2gtjqawaaaa.jpg"},src:null===e||void 0===e?void 0:e.options.value,style:{width:"100%",height:"100%",cursor:"pointer"}})):null!==e&&void 0!==e&&null!==(Iu=e.options.value)&&void 0!==Iu&&Iu.includes("pdf")?r.createElement("div",{style:{width:"inherit"},onClick:function(){return window.open(null===e||void 0===e?void 0:e.options.value,"_blank")}},r.createElement("embed",{src:"".concat(null===e||void 0===e?void 0:e.options.value,"#toolbar=0&navpanes=0&scrollbar=0&zoom=100%"),width:"100%",height:"1000px"})):r.createElement("div",{style:{width:"inherit"},onClick:function(){return window.open(null===e||void 0===e?void 0:e.options.value,"_blank")}},r.createElement("textarea",{disabled:!0,onChange:function(){},autoComplete:"none",value:null===(null===e||void 0===e?void 0:e.options.value)?"":null===e||void 0===e?void 0:e.options.value,className:v.Z.fieldTypeInput,style:{height:"auto",width:"inherit",cursor:"pointer"},name:e.field_name})));if("Chart"===e.data_type_name){var Wr,Br,Yr,Hr,jr,Vr,Gr,Jr,Kr,Qr,Xr,$r,ev,nv,lv,ov,iv,tv,dv,av=null===(Wr=Ue.newStepComponents.find((function(n){return n.id===e.options.component_id})))||void 0===Wr||null===(Br=Wr.selected_fields.find((function(n){return n.field_name===e.options.key})))||void 0===Br?void 0:Br.value,uv=null!==(Yr=null===e||void 0===e||null===(Hr=e.options)||void 0===Hr?void 0:Hr.config)&&void 0!==Yr?Yr:E.mj,rv=[],vv=[];if(cn.filter((function(n){return n.module_id===(null===e||void 0===e?void 0:e.module_id)})).filter((function(n){var l,o=(null!==(l=null===n||void 0===n?void 0:n.component_fields)&&void 0!==l?l:[]).find((function(n){return n.field_name===(null===e||void 0===e?void 0:e.options.key)}));o&&(vv=[].concat((0,a.Z)(vv),[o.value]))})),"Line"===(null===e||void 0===e||null===(jr=e.options)||void 0===jr?void 0:jr.orientation)||"area"===(null===uv||void 0===uv||null===(Vr=uv.chart)||void 0===Vr?void 0:Vr.type)||"Column"===(null===e||void 0===e||null===(Gr=e.options)||void 0===Gr?void 0:Gr.orientation)||"bar"===(null===uv||void 0===uv||null===(Jr=uv.chart)||void 0===Jr?void 0:Jr.type))(0,a.Z)(new Set(vv)).map((function(e){rv=[].concat((0,a.Z)(rv),[{name:e,data:[]}])}));else if("Donut"===(null===e||void 0===e||null===(Kr=e.options)||void 0===Kr?void 0:Kr.orientation)||"donut"===(null===uv||void 0===uv||null===(Qr=uv.chart)||void 0===Qr?void 0:Qr.type)){var sv,cv,pv;rv=av?null===av||void 0===av?void 0:av.split(",").map((function(e){return+e})):(0,a.Z)(new Set(vv)).map((function(n){var l,o,i,t,d;return"occurences"===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.operation)?vv.filter((function(e){return e===n})).length:null!==e&&void 0!==e&&null!==(o=e.options)&&void 0!==o&&o.items?null===(t=N.Z(T.Z("component_items"),P.Z)(cn.filter((function(l){return l.module_id===e.module_id&&l.component_fields.find((function(l){return l.field_name===e.options.key&&l.value===n}))}))).map((function(n){var l;return+n[null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.items[0]]})))||void 0===t?void 0:t.reduce((function(e,n){return e+n}),0):null!==e&&void 0!==e&&null!==(i=e.options)&&void 0!==i&&i.list?null===(d=N.Z(T.Z("component_fields"),P.Z)(cn.filter((function(l){return l.module_id===e.module_id&&l.component_fields.find((function(l){return l.field_name===e.options.key&&l.value===n}))}))).map((function(n){return n.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.list[0])})).value})))||void 0===d?void 0:d.reduce((function(e,n){return e+ +n}),0):0})),uv.labels=null!==e&&void 0!==e&&null!==(sv=e.options)&&void 0!==sv&&sv.notes?null===e||void 0===e||null===(cv=e.options)||void 0===cv||null===(pv=cv.notes)||void 0===pv?void 0:pv.split(","):(0,a.Z)(new Set(vv)),uv.plotOptions.pie.donut.labels.total.label=e.field_name}return r.createElement(c.Z,{width:pe.tq?"100%":"".concat(null!==(Xr=null===e||void 0===e||null===($r=e.options)||void 0===$r?void 0:$r.width)&&void 0!==Xr?Xr:(null===Te||void 0===Te||null===(ev=Te.selected_fields)||void 0===ev?void 0:ev.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),key:n,fieldIcon:e.icon,editMode:Xe,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,customIconBgColor:"white"},av&&r.createElement("div",{className:"grid grid-cols-12 gap-4 md:gap-6 2xl:gap-7.5",style:{display:"flex",width:"inherit",border:"1px dashed gray",justifyContent:"center",padding:"20px 0"}},r.createElement(ce.Z,{config:uv,type:null!==(nv=null===uv||void 0===uv||null===(lv=uv.chart)||void 0===lv?void 0:lv.type)&&void 0!==nv?nv:"",orientation:null===e||void 0===e||null===(ov=e.options)||void 0===ov?void 0:ov.orientation,series:rv,title:e.field_name,labels:null!==e&&void 0!==e&&null!==(iv=e.options)&&void 0!==iv&&iv.notes?null===e||void 0===e||null===(tv=e.options)||void 0===tv||null===(dv=tv.notes)||void 0===dv?void 0:dv.split(","):["Target","Actual"]})))}if("Item Formula"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Ln=e.options)||void 0===Ln||null===(zn=Ln.operator)||void 0===zn?void 0:zn.length)>0&&!1===ln&&null!==e&&void 0!==e&&e.visible)return null;if("Formula"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Fn=e.options)||void 0===Fn||null===(qn=Fn.operator)||void 0===qn?void 0:qn.length)>0&&!1===ln&&null!==e&&void 0!==e&&e.visible){var mv,fv,_v,yv,hv,gv,bv,xv,Ev,Cv,wv,Zv=Ue.newStepComponents.filter((function(e){return null===e.options||(void 0===e.allowMultipleInputs||!1===e.options.allowMultipleInputs)})),Mv=(0,E.LV)(null===e||void 0===e?void 0:e.options,Te.selected_fields.filter((function(n){return e.options.list.includes(n.field_name)&&!n.options.mapToItem})),[].concat((0,a.Z)(Ue.components.filter((function(e){return Zv.every((function(n){return n.id!==e.id}))}))),(0,a.Z)(D.Z((function(e){return e.selected_fields.filter((function(e){return""===e.value})).length>0}),Zv))),null!==(mv=null===Ue||void 0===Ue?void 0:Ue.items)&&void 0!==mv?mv:[],null!==(fv=null===Ue||void 0===Ue?void 0:Ue.newStepComponents)&&void 0!==fv?fv:[]);return void 0!==Mv&&(e.value=Mv),"bar"===(null===e||void 0===e||null===(_v=e.options)||void 0===_v?void 0:_v.display)?r.createElement("div",{style:{margin:"20px",display:"flex",height:"30px",width:pe.tq?"100%":"".concat(null!==(yv=null===e||void 0===e||null===(hv=e.options)||void 0===hv?void 0:hv.width)&&void 0!==yv?yv:(null===Te||void 0===Te||null===(gv=Te.selected_fields)||void 0===gv?void 0:gv.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%")}},r.createElement("label",{className:v.Z.fieldTypeInput,style:{width:"20%"}},null===e||void 0===e?void 0:e.field_name),r.createElement("div",{style:{height:"30px",width:"100%",backgroundColor:null===e||void 0===e||null===(bv=e.options)||void 0===bv?void 0:bv.maxC,display:"flex",flexDirection:"column"}},r.createElement("input",{value:Mv||0,className:v.Z.fieldTypeInput,name:e.field_name,disabled:!0,style:{color:"transparent",height:"30px",width:"".concat(+Mv/+e.options.max*100,"%"),backgroundColor:null===e||void 0===e||null===(xv=e.options)||void 0===xv?void 0:xv.barC}})),r.createElement("label",{className:v.Z.fieldTypeInput,style:{width:"2%"}},"".concat(+Mv/+e.options.max*100,"%"))):r.createElement(c.Z,{width:pe.tq?"100%":"".concat(null!==(Ev=null===e||void 0===e||null===(Cv=e.options)||void 0===Cv?void 0:Cv.width)&&void 0!==Ev?Ev:(null===Te||void 0===Te||null===(wv=Te.selected_fields)||void 0===wv?void 0:wv.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),editMode:Xe,key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,customIconBgColor:"white"},r.createElement("input",{value:Mv||0,className:v.Z.fieldTypeInput,name:e.field_name,disabled:!0,style:{border:"1px solid var(--app-color-gray-light)"}}))}if("Dropdown"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Yn=e.options)||void 0===Yn||null===(Hn=Yn.list)||void 0===Hn?void 0:Hn.length)>0)return r.createElement(c.Z,{enabled:$l,width:pe.tq?"100%":"".concat(null!==(Nu=null===e||void 0===e||null===(Tu=e.options)||void 0===Tu?void 0:Tu.width)&&void 0!==Nu?Nu:(null===Te||void 0===Te||null===(Pu=Te.selected_fields)||void 0===Pu?void 0:Pu.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),editMode:Xe,key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(Du=e.options)||void 0===Du?void 0:Du.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-light)"}},r.createElement(f.Z,{key:n,visible:e.visible,mandatory:e.mandatory,items:null===e||void 0===e||null===(Au=e.options)||void 0===Au?void 0:Au.list.map((function(e){return{label:e,value:e}})),className:v.Z.dropdownClassContainer,error:e.errors,onClicked:function(e){return nl(e?"180px":"50px")},onChange:function(e){nl("50px"),Re(e,n)},selectionType:null===e||void 0===e||null===(Ou=e.options)||void 0===Ou?void 0:Ou.type,fieldIcon:e.icon,backgroundColor:null!==e&&void 0!==e&&null!==(Lu=e.options)&&void 0!==Lu&&Lu.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(zu=e.options)||void 0===zu?void 0:zu.valueC:"",value:void 0===e.value||null===e.value?"":e.value})));if("Dropdown"===(null===e||void 0===e?void 0:e.data_type_name)&&"modules"===(null===e||void 0===e||null===(Gn=e.options)||void 0===Gn?void 0:Gn.type))return r.createElement(c.Z,{enabled:$l,width:pe.tq?"100%":"".concat(null!==(Ru=null===e||void 0===e||null===(Uu=e.options)||void 0===Uu?void 0:Uu.width)&&void 0!==Ru?Ru:(null===Te||void 0===Te||null===(Fu=Te.selected_fields)||void 0===Fu?void 0:Fu.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),editMode:Xe,key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(qu=e.options)||void 0===qu?void 0:qu.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-light)"}},r.createElement(f.Z,{key:n,visible:e.visible,mandatory:e.mandatory,items:rn.map((function(e){return{label:e.name,value:e.id}})),className:v.Z.dropdownClassContainer,error:e.errors,onClicked:function(e){return nl(e?"180px":"50px")},onChange:function(e){nl("50px"),Re(e,n)},selectionType:null===e||void 0===e||null===(Wu=e.options)||void 0===Wu?void 0:Wu.type,fieldIcon:e.icon,backgroundColor:null!==e&&void 0!==e&&null!==(Bu=e.options)&&void 0!==Bu&&Bu.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(Yu=e.options)||void 0===Yu?void 0:Yu.valueC:"",value:void 0===e.value||null===e.value?"":null===(Hu=rn.map((function(e){return{label:e.name,value:e.id}})).find((function(n){return n.value===e.value})))||void 0===Hu?void 0:Hu.label})));if("Payments"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Jn=e.options)||void 0===Jn||null===(Xn=Jn.list)||void 0===Xn?void 0:Xn.length)>0)return r.createElement(c.Z,{enabled:$l,width:pe.tq?"100%":"".concat(null!==(ju=null===e||void 0===e||null===(Vu=e.options)||void 0===Vu?void 0:Vu.width)&&void 0!==ju?ju:(null===Te||void 0===Te||null===(Gu=Te.selected_fields)||void 0===Gu?void 0:Gu.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),editMode:Xe,key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(Ju=e.options)||void 0===Ju?void 0:Ju.notes,fieldIcon:e.icon,isProcess:!0,visible:!0,mandatory:e.mandatory,error:il[n]},r.createElement("div",{style:{width:"100%",border:"0px solid var(--app-color-gray-dark)",pointerEvents:!0===(null===sn||void 0===sn||null===(Ku=sn.processModule)||void 0===Ku?void 0:Ku.isUpdating)?"none":""}},null!==Pe&&void 0!==Pe&&null!==(Qu=Pe.payments)&&void 0!==Qu&&Qu.stripe_id?r.createElement("div",{style:{padding:"10px 5px 10px 5px",width:"100%",border:"1px solid var(--app-color-gray-lighter)"}},"".concat(null===e||void 0===e?void 0:e.value,", PID: ").concat(null===Pe||void 0===Pe||null===(dr=Pe.payments)||void 0===dr?void 0:dr.stripe_id.slice(0,6))):r.createElement(f.Z,{key:n,className:v.Z.dropdownSelectComponent,visible:e.visible,mandatory:e.mandatory,items:!0===(null===(Xu=sn.processModule)||void 0===Xu||null===($u=Xu.module)||void 0===$u||null===(er=$u.options)||void 0===er?void 0:er.credits)?[].concat((0,a.Z)(null!==(nr=null===e||void 0===e||null===(lr=e.options)||void 0===lr?void 0:lr.list.map((function(e){return{label:e,value:e}})))&&void 0!==nr?nr:[]),[{label:"Wallet",value:"Wallet"}]):null===e||void 0===e||null===(or=e.options)||void 0===or?void 0:or.list.map((function(e){return{label:e,value:e}})),error:e.errors,onClicked:function(e){return nl(e?"180px":"50px")},onChange:function(l){if(l){var o,i,t,d,a,u,r,v,s,c,p,m,f,_,y,h,g,b,x=null===(o=Ue.newStepComponents.find((function(n){return n.selected_fields.filter((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)})).length>0})))||void 0===o||null===(i=o.selected_fields)||void 0===i?void 0:i.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)})),E=null===(t=Ue.components.find((function(n){return n.selected_fields.filter((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)})).length>0})))||void 0===t||null===(d=t.selected_fields)||void 0===d?void 0:d.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)})),C=null===(a=Ue.currentStep)||void 0===a||null===(u=a.component_blueprints)||void 0===u||null===(r=u.find((function(n){var l;return null===n||void 0===n||null===(l=n.selected_fields)||void 0===l?void 0:l.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)}))})))||void 0===r||null===(v=r.selected_fields)||void 0===v?void 0:v.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)}));if(il[n]="",+(null!==(s=null===x||void 0===x?void 0:x.value)&&void 0!==s?s:0)>0)Ue.total=x.value,Ue.plan=x.value;else if(+(null!==(c=null===E||void 0===E?void 0:E.value)&&void 0!==c?c:0)>0)Ue.total=E.value,Ue.plan=E.value;else{if(!(+(null!==(p=null===C||void 0===C?void 0:C.value)&&void 0!==p?p:0)>0))return il[n]="Please enter a payment amount in the designated field",tl([]),void setTimeout((function(){return tl(il)}));Ue.total=C.value,Ue.plan=C.value}if(1==(null===(m=sn.processModule)||void 0===m||null===(f=m.module)||void 0===f||null===(_=f.options)||void 0===_?void 0:_.credits)&&"Wallet"===l){if(+(null!==(b=tn.wallet)&&void 0!==b?b:0)<+Ue.total)return il[n]="Insufficient wallet balance",tl([]),void setTimeout((function(){return tl(il)}))}else if(1==(null===(y=sn.processModule)||void 0===y||null===(h=y.module)||void 0===h||null===(g=h.options)||void 0===g?void 0:g.credits)&&"Points"===l){var w,Z;if(+(null!==(w=null===(Z=tn.options)||void 0===Z?void 0:Z.points)&&void 0!==w?w:0)<+Ue.total)return il[n]="Insufficient points balance",tl([]),void setTimeout((function(){return tl(il)}))}tl([]),setTimeout((function(){return tl(il)})),nl("50px"),Re(l,n)}},selectionType:"Dropdown",fieldIcon:e.icon,backgroundColor:null!==e&&void 0!==e&&null!==(ir=e.options)&&void 0!==ir&&ir.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(tr=e.options)||void 0===tr?void 0:tr.valueC:"",value:void 0===e.value||null===e.value?"":e.value,placeholder:""})));if("Positions"===(null===e||void 0===e?void 0:e.data_type_name)&&"multiple"===(null===e||void 0===e||null===($n=e.options)||void 0===$n?void 0:$n.type))return r.createElement(c.Z,{enabled:$l,style:{height:"".concat((null===e||void 0===e||null===(ar=e.value)||void 0===ar?void 0:ar.split(",").length)>2?"160":"45","px"),marginBottom:"50px"},width:pe.tq?"100%":"".concat(null!==(ur=null===e||void 0===e||null===(rr=e.options)||void 0===rr?void 0:rr.width)&&void 0!==ur?ur:(null===Te||void 0===Te||null===(vr=Te.selected_fields)||void 0===vr?void 0:vr.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),editMode:Xe,key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(sr=e.options)||void 0===sr?void 0:sr.notes},r.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-dark)"}},r.createElement(f.Z,{onOpen:function(e){nl("50px"===el?"180px":"50px")},visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:v.Z.dropdownClassContainer,items:fn.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.value)})),backgroundColor:null!==e&&void 0!==e&&null!==(cr=e.options)&&void 0!==cr&&cr.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(pr=e.options)||void 0===pr?void 0:pr.valueC:"",value:e.value,loading:gn,error:null===e||void 0===e?void 0:e.errors,onChange:function(e){Re(e,n)},selectionType:"multiple",fieldIcon:null===e||void 0===e?void 0:e.icon,placeholder:""})));if("Positions"===(null===e||void 0===e?void 0:e.data_type_name)&&null!==e&&void 0!==e&&null!==(ll=e.options)&&void 0!==ll&&ll.calendar){var Sv,kv,Iv,Nv,Tv,Pv,Dv,Av,Ov,Lv,zv,Rv,Uv,Fv,qv,Wv,Bv,Yv,Hv,jv=JSON.parse(null!==(Sv=null===e||void 0===e?void 0:e.value)&&void 0!==Sv?Sv:JSON.stringify({user:0})),Vv=un.find((function(e){return e.id===(null===jv||void 0===jv?void 0:jv.task)})),Gv=null===un||void 0===un?void 0:un.filter((function(e){var n,l,o,i;return(null===e||void 0===e||null===(n=e.add_info)||void 0===n?void 0:n.module_id)===(null===(l=sn.processModule)||void 0===l?void 0:l.module_id)&&e.creator.id===(null===jv||void 0===jv?void 0:jv.user)&&!(null!==e&&void 0!==e&&null!==(o=e.assignee)&&void 0!==o&&o.id)&&V()((0,j.now)()).diff(V()(null===e||void 0===e||null===(i=e.add_info)||void 0===i?void 0:i.start),"seconds")<0}));return r.createElement(c.Z,{enabled:$l,style:{marginBottom:"50px"},width:pe.tq?"100%":"".concat(null!==(kv=null===e||void 0===e||null===(Iv=e.options)||void 0===Iv?void 0:Iv.width)&&void 0!==kv?kv:(null===Te||void 0===Te||null===(Nv=Te.selected_fields)||void 0===Nv?void 0:Nv.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),editMode:Xe,key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(Tv=e.options)||void 0===Tv?void 0:Tv.notes},r.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},r.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-dark)"}},r.createElement(f.Z,{visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:"multiple"===(null===e||void 0===e||null===(Pv=e.options)||void 0===Pv?void 0:Pv.type)?v.Z.dropdownHeightClassContainer:v.Z.dropdownClassContainer,items:fn.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.value)})),backgroundColor:null!==e&&void 0!==e&&null!==(Dv=e.options)&&void 0!==Dv&&Dv.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(Av=e.options)||void 0===Av?void 0:Av.valueC:"",value:null===(Ov=fn.find((function(e){return e.value===(null===jv||void 0===jv?void 0:jv.pos)})))||void 0===Ov?void 0:Ov.label,loading:gn,error:null===e||void 0===e?void 0:e.errors,onChange:function(e){e.length>0&&(jv.pos=void 0,jv.user=void 0,Re(JSON.stringify(jv),n),(0,_.n0)([e]).pipe((0,h.q)(1)).subscribe({next:function(l){Nl(l),setTimeout((function(){jv.pos=e,Re(JSON.stringify(jv),n)}),10)}}))},selectionType:null===e||void 0===e||null===(Lv=e.options)||void 0===Lv?void 0:Lv.type,fieldIcon:null===e||void 0===e?void 0:e.icon})),r.createElement("div",{style:{width:"100%"}},0==(null===Il||void 0===Il?void 0:Il.length)&&r.createElement("p",null,"No ".concat(e.field_name," found")),!Vv&&r.createElement(M.default,{rowStyleSelected:{border:"2px solid black"},initialSelected:null!==e&&void 0!==e&&e.value?Il.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.user)||void 0===n||null===(l=n.positions)||void 0===l?void 0:l.filter((function(e){return(null===jv||void 0===jv?void 0:jv.pos)===(null===e||void 0===e?void 0:e.id)})).length)>0})).map((function(e){return e.value})).indexOf(null===jv||void 0===jv?void 0:jv.user):void 0,card:!0,isReport:!1,"app-variant-is-mobile":"true",columns:["Name","Location","About","Photo","Ratings"],list:Il.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.user)||void 0===n||null===(l=n.positions)||void 0===l?void 0:l.filter((function(e){return(null===jv||void 0===jv?void 0:jv.pos)===(null===e||void 0===e?void 0:e.id)})).length)>0})).map((function(e){var n,l,o,i,t,d,a,u,s,c,p=null===e||void 0===e||null===(n=e.user)||void 0===n||null===(l=n.ratings)||void 0===l?void 0:l.map((function(e){return+e.ratings}));return{Name:"".concat(e.user.first_name," ").concat(e.user.last_name),Location:null===(o=e.user)||void 0===o?void 0:o.city,About:null!==(i=null===(t=e.user.options)||void 0===t?void 0:t.info)&&void 0!==i?i:null===(d=e.user)||void 0===d?void 0:d.positions.map((function(e){return e.name})).toString().replace(",",", "),id:e.user.id,Photo:null!==(a=null===(u=e.user)||void 0===u?void 0:u.photo)&&void 0!==a?a:null===sn||void 0===sn||null===(s=sn.processModule.module)||void 0===s||null===(c=s.options)||void 0===c?void 0:c.background,Ratings:(null===p||void 0===p?void 0:p.length)>0&&r.createElement("div",{className:v.Z.simpleNames},Array(Math.round(W.Z(B.Z,[Y.Z,H.Z])(p))).fill(0).map((function(e,n){return r.createElement(Q.G,{key:n,icon:X.Tab,style:{color:"var(--app-color-blue)"}})})),Array(5-Math.round(W.Z(B.Z,[Y.Z,H.Z])(p))).fill(0).map((function(e,n){return r.createElement(Q.G,{key:n,icon:X.Tab,style:{color:"lightgray"}})})))}})),onListItemClick:function(e){if(e){var l=Il.find((function(n){return n.value===e.id}));jv.user=null===l||void 0===l?void 0:l.value,Re(JSON.stringify(jv),n),(0,ae.Mk)(null===l||void 0===l?void 0:l.value,!0).pipe((0,h.q)(1)).subscribe({})}}},(null===Gv||void 0===Gv?void 0:Gv.length)>0&&r.createElement("p",null,"Schedules"),(null===Gv||void 0===Gv?void 0:Gv.length)>0&&r.createElement(te.tq,{slidesPerView:3,centeredSlides:!0,spaceBetween:5,initialSlide:1,pagination:{clickable:!0,dynamicBullets:!0},modules:[ie.pt,ie.tl],className:"mySwiper",style:{border:"0.8px dashed gray",padding:"5px",height:"200px"}},null===Gv||void 0===Gv?void 0:Gv.map((function(e,n){return r.createElement(te.o5,{key:n+100,className:v.Z.swiperslide},r.createElement("div",{className:v.Z.dashboardCard,onClick:function(){pl(!0),yl(e)}},r.createElement("div",{style:{fontSize:"10px"}},V()(new Date(e.add_info.start)).format("h:mm a")),e.add_info.end!==e.add_info.start&&r.createElement("div",{style:{fontSize:"10px"}},V()(new Date(e.add_info.end)).format("h:mm a")),r.createElement("hr",{style:{border:"0.8px dashed gray"}}),r.createElement("p",{style:{fontSize:"12px",fontWeight:"bold"}},V()(new Date(e.add_info.start)).format("MMM")),r.createElement("div",{style:{fontSize:"20px",fontWeight:"bold"}},V()(new Date(e.add_info.start)).format("DD"))))})))),Vv&&r.createElement(M.default,{modern:!0,isReport:!1,"app-variant-is-mobile":"true",columns:["Responsible",null!==(zv=null===e||void 0===e||null===(Rv=e.options)||void 0===Rv?void 0:Rv.header)&&void 0!==zv?zv:"Name",null!==(Uv=null===e||void 0===e||null===(Fv=e.options)||void 0===Fv?void 0:Fv.start)&&void 0!==Uv?Uv:"Date","Photo"],list:[Vv].map((function(n){var l,o,i,t,a,u,r;return r={},(0,d.Z)(r,null!==(l=null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.header)&&void 0!==l?l:"Name",n.name),(0,d.Z)(r,null!==(i=null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.start)&&void 0!==i?i:"Date",V()(new Date(null===(a=n.add_info)||void 0===a?void 0:a.start)).format("MMM DD h:mm a")),(0,d.Z)(r,"Responsible","".concat(n.creator.first_name," ").concat(n.creator.last_name)),(0,d.Z)(r,"Photo",null===(u=n.creator)||void 0===u?void 0:u.photo),r})),onListItemClick:function(e){e&&(pl(!0),yl(Vv))}}),cl&&r.createElement(de.Z,{save:!1,modalVisible:cl,heading:null!==(qv=null===e||void 0===e||null===(Wv=e.options)||void 0===Wv?void 0:Wv.header)&&void 0!==qv?qv:_l?"Update Calendar":"Create New Calendar",labels:null===e||void 0===e?void 0:e.options,task:_l,isProcess:!0,blured:!1,onClose:function(){return pl(!1)},isEdit:!!_l,statuses:null===e||void 0===e||null===(Bv=e.options)||void 0===Bv?void 0:Bv.list,priority:null===e||void 0===e||null===(Yv=e.options)||void 0===Yv?void 0:Yv.priority,span:null===e||void 0===e||null===(Hv=e.options)||void 0===Hv?void 0:Hv.span,start_date:Cn,onUpdate:function(l){if(l.creator.id!==(null===tn||void 0===tn?void 0:tn.id)&&(null===l||void 0===l?void 0:l.assignee_id)===(null===tn||void 0===tn?void 0:tn.id)){var o;if(Ue.assigned_to=l.creator.id,jv.task=null===l||void 0===l?void 0:l.id,null!==l&&void 0!==l&&null!==(o=l.add_info)&&void 0!==o&&o.value){var i,t,d,a,u,r,v,s,c;jv.value=null===l||void 0===l||null===(i=l.add_info)||void 0===i?void 0:i.value;var p,m=null===(t=Ue.components.find((function(n){return n.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))})))||void 0===t?void 0:t.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}));if(m)m.value=null===l||void 0===l||null===(p=l.add_info)||void 0===p?void 0:p.value;var f,_=null===(d=Ue.newStepComponents.find((function(n){return n.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))})))||void 0===d?void 0:d.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}));if(_)_.value=null===l||void 0===l||null===(f=l.add_info)||void 0===f?void 0:f.value;var y,h=null===(a=sn.processModule)||void 0===a||null===(u=a.steps)||void 0===u||null===(r=u.find((function(n){var l;return null===(l=n.component_blueprints)||void 0===l?void 0:l.find((function(n){var l;return null===n||void 0===n||null===(l=n.selected_fields)||void 0===l?void 0:l.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))}))})))||void 0===r||null===(v=r.component_blueprints)||void 0===v||null===(s=v.find((function(n){var l;return null===n||void 0===n||null===(l=n.selected_fields)||void 0===l?void 0:l.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))})))||void 0===s||null===(c=s.selected_fields)||void 0===c?void 0:c.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}));if(h)h.value=null===l||void 0===l||null===(y=l.add_info)||void 0===y?void 0:y.value}Re(JSON.stringify(jv),n)}}}))))}if("Positions"===(null===e||void 0===e?void 0:e.data_type_name))return r.createElement(c.Z,{enabled:$l,style:{height:"".concat((null===e||void 0===e||null===(mr=e.value)||void 0===mr?void 0:mr.split(",").length)>2?"160":"45","px"),marginBottom:"50px"},width:pe.tq?"100%":"".concat(null!==(fr=null===e||void 0===e||null===(_r=e.options)||void 0===_r?void 0:_r.width)&&void 0!==fr?fr:(null===Te||void 0===Te||null===(yr=Te.selected_fields)||void 0===yr?void 0:yr.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),editMode:Xe,key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(hr=e.options)||void 0===hr?void 0:hr.notes},r.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-light)"}},r.createElement(f.Z,{visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:"multiple"===(null===e||void 0===e||null===(gr=e.options)||void 0===gr?void 0:gr.type)?v.Z.dropdownHeightClassContainer:v.Z.dropdownClassContainer,items:fn.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.value)})),backgroundColor:null!==e&&void 0!==e&&null!==(br=e.options)&&void 0!==br&&br.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(xr=e.options)||void 0===xr?void 0:xr.valueC:"",value:null===(Er=fn.find((function(n){return n.value===e.value})))||void 0===Er?void 0:Er.label,loading:gn,error:null===e||void 0===e?void 0:e.errors,onChange:function(l){var o;Re(l,n),null!==e&&void 0!==e&&null!==(o=e.options)&&void 0!==o&&o.addToPos&&(0,_.Vy)(tn,(0,t.Z)((0,t.Z)({},null===tn||void 0===tn?void 0:tn.options),{},{selPos:l})).pipe((0,y.P)()).subscribe({next:function(e){(0,oe.aT)(l,null===tn||void 0===tn?void 0:tn.id).subscribe({next:function(){var n;(tn.options.selPos&&tn.options.selPos!==l?(0,oe._s)(tn.options.selPos,null===tn||void 0===tn?void 0:tn.id).subscribe({next:function(){window.scrollTo({top:0,behavior:"smooth"})}}):window.scrollTo({top:0,behavior:"smooth"}),null!==e&&void 0!==e&&e.user)||(tn.options.selPos=null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.selPos)}})}})},selectionType:null===e||void 0===e||null===(Cr=e.options)||void 0===Cr?void 0:Cr.type,fieldIcon:null===e||void 0===e?void 0:e.icon})));if("People"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(ol=e.options)||void 0===ol||null===(dl=ol.position_id)||void 0===dl?void 0:dl.length)>0&&null!==e&&void 0!==e&&null!==(al=e.options)&&void 0!==al&&al.calendar){var Jv,Kv,Qv,Xv,$v,es,ns,ls,os,is,ts,ds,as,us,rs,vs,ss,cs,ps,ms,fs,_s,ys,hs,gs,bs=JSON.parse(null!==(Jv=null===e||void 0===e?void 0:e.value)&&void 0!==Jv?Jv:JSON.stringify({user:0})),xs=un.find((function(e){return e.id===(null===bs||void 0===bs?void 0:bs.task)})),Es=null===un||void 0===un?void 0:un.filter((function(e){var n,l,o,i;return(null===e||void 0===e||null===(n=e.add_info)||void 0===n?void 0:n.module_id)===(null===(l=sn.processModule)||void 0===l?void 0:l.module_id)&&e.creator.id===(null===bs||void 0===bs?void 0:bs.user)&&!(null!==e&&void 0!==e&&null!==(o=e.assignee)&&void 0!==o&&o.id)&&V()((0,j.now)()).diff(V()(null===e||void 0===e||null===(i=e.add_info)||void 0===i?void 0:i.start),"seconds")<0}));return r.createElement(c.Z,{enabled:$l,width:pe.tq?"100%":"".concat(null!==(Kv=null===e||void 0===e||null===(Qv=e.options)||void 0===Qv?void 0:Qv.width)&&void 0!==Kv?Kv:(null===Te||void 0===Te||null===(Xv=Te.selected_fields)||void 0===Xv?void 0:Xv.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),editMode:Xe,dragEnd:function(n){var l,o=null===(l=document.getElementById(null===Te||void 0===Te?void 0:Te.name))||void 0===l?void 0:l.getBoundingClientRect();document.getElementById(e.field_name).style.position="absolute",document.getElementById(e.field_name).style.top="".concat(n.top-o.top,"px"),document.getElementById(e.field_name).style.left="".concat(n.left-o.left,"px")},key:n,fieldLabel:(null===e||void 0===e||null===($v=e.options)||void 0===$v||null===(es=$v.dropdown)||void 0===es?void 0:es.length)>0?"Filter:":"",notes:null===e||void 0===e||null===(ns=e.options)||void 0===ns?void 0:ns.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement("div",{style:{width:"100%"}},(null===e||void 0===e||null===(ls=e.options)||void 0===ls||null===(os=ls.dropdown)||void 0===os?void 0:os.length)>0&&r.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-dark)"}},r.createElement(f.Z,{visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:v.Z.dropdownClassContainer,items:null===e||void 0===e||null===(is=e.options)||void 0===is||null===(ts=is.dropdown)||void 0===ts?void 0:ts.map((function(e){return{label:e,value:e}})),backgroundColor:null!==e&&void 0!==e&&null!==(ds=e.options)&&void 0!==ds&&ds.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(as=e.options)||void 0===as?void 0:as.valueC:"",value:null===bs||void 0===bs?void 0:bs.pos,loading:gn,error:null===e||void 0===e?void 0:e.errors,onChange:function(l){var o,i;l.length>0&&(bs.pos=void 0,bs.user=void 0,Re(JSON.stringify(bs),n),(0,_.FY)(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.position_id,null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.filter,l).pipe((0,h.q)(1)).subscribe({next:function(e){Nl(e),setTimeout((function(){bs.pos=l,Re(JSON.stringify(bs),n)}),0)}}))},selectionType:null===e||void 0===e||null===(us=e.options)||void 0===us?void 0:us.type,fieldIcon:null===e||void 0===e?void 0:e.icon})),(null===Il||void 0===Il?void 0:Il.length)>0&&r.createElement("p",null,e.field_name),0==(null===Il||void 0===Il?void 0:Il.length)&&r.createElement("p",null,"No ".concat(e.field_name," found")),!xs&&r.createElement(M.default,{rowStyleSelected:{border:"2px solid var(--app-color-gray-light)"},initialSelected:null!==e&&void 0!==e&&e.value?Il.filter((function(n){var l,o;return(null===n||void 0===n||null===(l=n.user)||void 0===l||null===(o=l.positions)||void 0===o?void 0:o.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.id)})).length)>0})).map((function(e){return e.value})).indexOf(null===bs||void 0===bs?void 0:bs.user):void 0,card:!0,isReport:!1,"app-variant-is-mobile":"true",columns:["Name","Info","About"].concat((0,a.Z)(null!==(rs=null===pn||void 0===pn||null===(vs=pn.misc_info)||void 0===vs?void 0:vs.profile)&&void 0!==rs?rs:["Rate"]),["Location","Photo","Ratings"]),list:Il.filter((function(n){var l,o;return(null===n||void 0===n||null===(l=n.user)||void 0===l||null===(o=l.positions)||void 0===o?void 0:o.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.id)})).length)>0})).map((function(e){var n,l,o,i,d,a,u,s,c,p,m,f=null===e||void 0===e||null===(n=e.user)||void 0===n||null===(l=n.ratings)||void 0===l?void 0:l.map((function(e){return+e.ratings}));return(0,t.Z)((0,t.Z)({},null!==(o=null===(i=e.user)||void 0===i||null===(d=i.options)||void 0===d?void 0:d.add_info)&&void 0!==o?o:{}),{},{Name:"".concat(e.user.first_name," ").concat(e.user.last_name),Location:r.createElement("div",{style:{marginTop:"10px",fontWeight:"bolder",fontSize:"12px"}},null===(a=e.user)||void 0===a?void 0:a.city),Info:null===(u=e.user.options)||void 0===u?void 0:u.info,id:e.user.id,Photo:null!==(s=null===(c=e.user)||void 0===c?void 0:c.photo)&&void 0!==s?s:null===sn||void 0===sn||null===(p=sn.processModule.module)||void 0===p||null===(m=p.options)||void 0===m?void 0:m.background,Ratings:(null===f||void 0===f?void 0:f.length)>0&&r.createElement("div",{className:v.Z.simpleNames},Array(Math.round(W.Z(B.Z,[Y.Z,H.Z])(f))).fill(0).map((function(e,n){return r.createElement(Q.G,{key:n,icon:X.Tab,style:{color:"var(--app-color-blue)"}})})),Array(5-Math.round(W.Z(B.Z,[Y.Z,H.Z])(f))).fill(0).map((function(e,n){return r.createElement(Q.G,{key:n,icon:X.Tab,style:{color:"lightgray"}})})))})})),onListItemClick:function(e){if(e){var l=Il.find((function(n){return n.value===e.id}));bs.user=null===l||void 0===l?void 0:l.value,Re(JSON.stringify(bs),n),(0,ae.Mk)(null===l||void 0===l?void 0:l.value,!0).pipe((0,h.q)(1)).subscribe({next:function(){return bn(!1)}})}}},(null===Es||void 0===Es?void 0:Es.length)>0&&r.createElement("p",null,"Schedules"),(null===Es||void 0===Es?void 0:Es.length)>0?r.createElement(te.tq,{slidesPerView:3,centeredSlides:!0,spaceBetween:10,pagination:{clickable:!0,dynamicBullets:!0},modules:[ie.pt,ie.tl],className:"mySwiper",style:{border:"0.8px dashed gray",padding:"5px",height:"200px",display:(null===Es||void 0===Es?void 0:Es.length)>0?"":"none",zIndex:"0"}},null===Es||void 0===Es?void 0:Es.map((function(e,n){return r.createElement(te.o5,{key:n+200,className:v.Z.swiperslide},r.createElement("div",{className:v.Z.dashboardCard,onClick:function(){pl(!0),yl(e)}},r.createElement("div",{style:{fontSize:"10px"}},V()(new Date(e.add_info.start)).format("h:mm a")),e.add_info.end!==e.add_info.start&&r.createElement("div",{style:{fontSize:"10px"}},V()(new Date(e.add_info.end)).format("h:mm a")),r.createElement("hr",{style:{border:"0.8px dashed gray"}}),r.createElement("p",{style:{fontSize:"12px",fontWeight:"bold"}},V()(new Date(e.add_info.start)).format("MMM")),r.createElement("div",{style:{fontSize:"20px",fontWeight:"bold"}},V()(new Date(e.add_info.start)).format("DD"))))}))):null!==bs&&void 0!==bs&&bs.user?r.createElement("p",{style:{fontSize:"12px"}},"No Schedules Found"):r.createElement("div",null)),xs&&r.createElement(M.default,{modern:!0,isReport:!1,"app-variant-is-mobile":"true",columns:["Responsible",null!==(ss=null===e||void 0===e||null===(cs=e.options)||void 0===cs?void 0:cs.header)&&void 0!==ss?ss:"Name",null!==(ps=null===e||void 0===e||null===(ms=e.options)||void 0===ms?void 0:ms.start)&&void 0!==ps?ps:"Date","Photo"],list:[xs].map((function(n){var l,o,i,t,a,u,r;return r={},(0,d.Z)(r,null!==(l=null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.header)&&void 0!==l?l:"Name",n.name),(0,d.Z)(r,null!==(i=null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.start)&&void 0!==i?i:"Date",V()(new Date(null===(a=n.add_info)||void 0===a?void 0:a.start)).format("MMM DD h:mm a")),(0,d.Z)(r,"Responsible","".concat(n.creator.first_name," ").concat(n.creator.last_name)),(0,d.Z)(r,"Position",""),(0,d.Z)(r,"Photo",null===(u=n.creator)||void 0===u?void 0:u.photo),r})),onListItemClick:function(e){e&&(pl(!0),yl(xs))}}),cl&&r.createElement(de.Z,{save:!1,modalVisible:cl,heading:null!==(fs=null===e||void 0===e||null===(_s=e.options)||void 0===_s?void 0:_s.header)&&void 0!==fs?fs:_l?"Update Calendar":"Create New Calendar",labels:null===e||void 0===e?void 0:e.options,task:_l,isProcess:!0,blured:!1,onClose:function(){return pl(!1)},isEdit:!!_l,statuses:null===e||void 0===e||null===(ys=e.options)||void 0===ys?void 0:ys.list,priority:null===e||void 0===e||null===(hs=e.options)||void 0===hs?void 0:hs.priority,span:null===e||void 0===e||null===(gs=e.options)||void 0===gs?void 0:gs.span,start_date:Cn,onUpdate:function(l){if(l.creator.id!==(null===tn||void 0===tn?void 0:tn.id)&&(null===l||void 0===l?void 0:l.assignee_id)===(null===tn||void 0===tn?void 0:tn.id)){var o;if(Ue.assigned_to=l.creator.id,bs.task=null===l||void 0===l?void 0:l.id,null!==l&&void 0!==l&&null!==(o=l.add_info)&&void 0!==o&&o.value){var i,t,d,a,u,r,v,s,c;bs.value=null===l||void 0===l||null===(i=l.add_info)||void 0===i?void 0:i.value;var p,m=null===(t=Ue.components.find((function(n){return n.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))})))||void 0===t?void 0:t.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}));if(m)m.value=null===l||void 0===l||null===(p=l.add_info)||void 0===p?void 0:p.value;var f,_=null===(d=Ue.newStepComponents.find((function(n){return n.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))})))||void 0===d?void 0:d.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}));if(_)_.value=null===l||void 0===l||null===(f=l.add_info)||void 0===f?void 0:f.value;var y,h=null===(a=sn.processModule)||void 0===a||null===(u=a.steps)||void 0===u||null===(r=u.find((function(n){var l;return null===(l=n.component_blueprints)||void 0===l?void 0:l.find((function(n){var l;return null===n||void 0===n||null===(l=n.selected_fields)||void 0===l?void 0:l.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))}))})))||void 0===r||null===(v=r.component_blueprints)||void 0===v||null===(s=v.find((function(n){var l;return null===n||void 0===n||null===(l=n.selected_fields)||void 0===l?void 0:l.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))})))||void 0===s||null===(c=s.selected_fields)||void 0===c?void 0:c.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}));if(h)h.value=null===l||void 0===l||null===(y=l.add_info)||void 0===y?void 0:y.value}Re(JSON.stringify(bs),n)}}})))}if("People"===(null===e||void 0===e?void 0:e.data_type_name)&&(!0===(null===e||void 0===e||null===(vl=e.options)||void 0===vl?void 0:vl.slider)||wl)&&(null===mn||void 0===mn?void 0:mn.length)>0)return r.createElement(c.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)",fontWeight:"regular",paddingLeft:"5px"},enabled:$l,width:pe.tq?"100%":"".concat(null!==(wr=null===e||void 0===e||null===(Zr=e.options)||void 0===Zr?void 0:Zr.width)&&void 0!==wr?wr:(null===Te||void 0===Te||null===(Mr=Te.selected_fields)||void 0===Mr?void 0:Mr.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),editMode:Xe,showWidth:function(n){e.field_options=(0,t.Z)((0,t.Z)({},e.field_options),{},{width:"".concat(n,"px")})},dragEnd:function(n){var l,o=null===(l=document.getElementById(null===Te||void 0===Te?void 0:Te.name))||void 0===l?void 0:l.getBoundingClientRect();document.getElementById(e.field_name).style.position="absolute",document.getElementById(e.field_name).style.top="".concat(n.top-o.top,"px"),document.getElementById(e.field_name).style.left="".concat(n.left-o.left,"px")},key:n,notes:null===e||void 0===e||null===(Sr=e.options)||void 0===Sr?void 0:Sr.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement(te.tq,{slidesPerView:1,centeredSlides:!0,spaceBetween:10,initialSlide:1,pagination:{clickable:!0,dynamicBullets:!0},modules:[ie.pt,ie.tl],className:"mySwiper"},mn.filter((function(n){var l;return(null===n||void 0===n||null===(l=n.positions)||void 0===l?void 0:l.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.id)})).length)>0})).map((function(l,o){var i,a,u,s,c,p,m,f,_,y,h,g=null===l||void 0===l||null===(i=l.ratings)||void 0===i?void 0:i.map((function(e){return+e.ratings}));return r.createElement(te.o5,{key:o,className:v.Z.swiperslide},r.createElement("div",{style:{padding:"5px",width:"100%"},onClick:function(){var o;e.open=null===e||void 0===e||!e.open,e.idx=n,null!==e&&void 0!==e&&null!==(o=e.options)&&void 0!==o&&o.skip?Zl(e.open):Re(null===l||void 0===l?void 0:l.id,n)}},r.createElement($.Z,{photo:null===l||void 0===l?void 0:l.photo,height:null!==e&&void 0!==e&&e.open?"auto":"260px",width:"100%",firstName:"".concat(null===l||void 0===l?void 0:l.first_name," ").concat(null===l||void 0===l?void 0:l.last_name),position:r.createElement("div",{style:{marginTop:"10px"}},null===l||void 0===l?void 0:l.city),email:null===(a=l.options)||void 0===a?void 0:a.info},(null===g||void 0===g?void 0:g.length)>0&&r.createElement("div",{className:v.Z.simpleNames},Array(Math.round(W.Z(B.Z,[Y.Z,H.Z])(g))).fill(0).map((function(e,n){return r.createElement(Q.G,{key:n,icon:X.Tab,style:{color:"var(--app-color-blue)"}})})),Array(5-Math.round(W.Z(B.Z,[Y.Z,H.Z])(g))).fill(0).map((function(e,n){return r.createElement(Q.G,{key:n,icon:X.Tab,style:{color:"lightgray"}})}))),r.createElement("div",{className:v.Z.simpleNames,style:{pointerEvents:"none",padding:"20px 10px 0 10px",color:"gray"}},(null===(u=e.options)||void 0===u?void 0:u.info)&&(null===e||void 0===e?void 0:e.open)&&(null===e||void 0===e?void 0:e.idx)==n&&r.createElement(r.Fragment,null,r.createElement("p",null,"General Info:"),r.createElement(M.default,{rowStyleSelected:{border:"2px solid var(--app-color-gray-light)"},card:!0,isReport:!1,"app-variant-is-mobile":"true",columns:["First Name","Last Name","Phone","Address","City","Postal","Bio"],list:[l].map((function(e){var n,l,o,i,t,a,u;return u={},(0,d.Z)(u,"First Name","".concat(null!==(n=null===e||void 0===e?void 0:e.first_name)&&void 0!==n?n:"")),(0,d.Z)(u,"Last Name","".concat(null!==(l=null===e||void 0===e?void 0:e.last_name)&&void 0!==l?l:"")),(0,d.Z)(u,"Phone","".concat(null!==(o=null===e||void 0===e?void 0:e.phone)&&void 0!==o?o:"")),(0,d.Z)(u,"Address","".concat(null!==(i=null===e||void 0===e?void 0:e.address)&&void 0!==i?i:"")),(0,d.Z)(u,"City","".concat(null!==(t=null===e||void 0===e?void 0:e.city)&&void 0!==t?t:"")),(0,d.Z)(u,"Postal","".concat(null!==(a=null===e||void 0===e?void 0:e.postal)&&void 0!==a?a:"")),u}))})),(null===(s=e.options)||void 0===s?void 0:s.other)&&(null===e||void 0===e?void 0:e.open)&&(null===e||void 0===e?void 0:e.idx)==n&&Object.keys(null!==(c=null===l||void 0===l||null===(p=l.options)||void 0===p?void 0:p.add_info)&&void 0!==c?c:{}).length>1&&r.createElement(r.Fragment,null,r.createElement("p",null,"More Info:"),r.createElement(M.default,{rowStyleSelected:{border:"2px solid var(--app-color-gray-light)"},card:!0,isReport:!1,"app-variant-is-mobile":"true",columns:Object.keys(null!==(m=null===l||void 0===l||null===(f=l.options)||void 0===f?void 0:f.add_info)&&void 0!==m?m:{}),list:[l].map((function(e){var n,l;return(0,t.Z)((0,t.Z)({},null!==(n=null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.add_info)&&void 0!==n?n:{}),{},{Rate:""})}))})),(null===(_=e.options)||void 0===_?void 0:_.info)&&(null===e||void 0===e?void 0:e.open)&&(null===l||void 0===l||null===(y=l.ratings)||void 0===y?void 0:y.length)>0&&r.createElement(r.Fragment,null,r.createElement("p",null,"What other users say:"),r.createElement(M.default,{rowStyleSelected:{border:"2px solid var(--app-color-gray-light)"},card:!0,isReport:!1,columns:["Feedback"],list:null===l||void 0===l||null===(h=l.ratings)||void 0===h?void 0:h.map((function(e,n){return{Feedback:'"'.concat(e.comments,'"')}}))}))))))}))));if("People"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(sl=e.options)||void 0===sl||null===(ml=sl.position_id)||void 0===ml?void 0:ml.length)>0)return r.createElement(c.Z,{enabled:$l,width:pe.tq?"100%":"".concat(null!==(kr=null===e||void 0===e||null===(Ir=e.options)||void 0===Ir?void 0:Ir.width)&&void 0!==kr?kr:(null===Te||void 0===Te||null===(Nr=Te.selected_fields)||void 0===Nr?void 0:Nr.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),editMode:Xe,dragEnd:function(n){var l,o=null===(l=document.getElementById(null===Te||void 0===Te?void 0:Te.name))||void 0===l?void 0:l.getBoundingClientRect();document.getElementById(e.field_name).style.position="absolute",document.getElementById(e.field_name).style.top="".concat(n.top-o.top,"px"),document.getElementById(e.field_name).style.left="".concat(n.left-o.left,"px")},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(Tr=e.options)||void 0===Tr?void 0:Tr.notes,fieldIcon:e.icon,isProcess:!0,visible:0!==Il.length&&e.visible,mandatory:e.mandatory,error:e.errors},r.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-light)"}},r.createElement(f.Z,{onOpen:function(e){nl("50px"===el?"180px":"50px")},onFocus:function(){var n;return 0==Il.length&&Dl(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.position_id)},visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:v.Z.dropdownClassContainer,items:Il.filter((function(n){var l,o;return(null===n||void 0===n||null===(l=n.user)||void 0===l||null===(o=l.positions)||void 0===o?void 0:o.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.id)})).length)>0})),backgroundColor:null!==e&&void 0!==e&&null!==(Pr=e.options)&&void 0!==Pr&&Pr.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(Dr=e.options)||void 0===Dr?void 0:Dr.valueC:"",value:"single"===(null===e||void 0===e||null===(Ar=e.options)||void 0===Ar?void 0:Ar.type)?null===(Or=Il.find((function(n){return n.label===(null===e||void 0===e?void 0:e.value)})))||void 0===Or?void 0:Or.label:e.value,loading:gn,error:null===e||void 0===e?void 0:e.errors,onChange:function(l){var o;if("single"===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.type)){var i,t,d=Il.find((function(e){return e.value===l}));if(1==(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.email))e.email=null===d||void 0===d||null===(t=d.user)||void 0===t?void 0:t.email;Re(null===d||void 0===d?void 0:d.label,n)}else Re(l,n);nl("50px")},onClicked:function(e){return nl(e?"180px":"50px")},selectionType:null===e||void 0===e||null===(Lr=e.options)||void 0===Lr?void 0:Lr.type,fieldIcon:null===e||void 0===e?void 0:e.icon,placeholder:"Select user..."})));if("People"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(fl=e.options)||void 0===fl||null===(hl=fl.componentF)||void 0===hl?void 0:hl.length)>0&&(null===e||void 0===e||null===(gl=e.options)||void 0===gl||null===(El=gl.componentO)||void 0===El?void 0:El.length)>0){var Cs,ws,Zs,Ms,Ss,ks,Is,Ns,Ts,Ps,Ds,As=null===(Cs=Ue.components.find((function(n){return n.selected_fields.filter((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.componentF)})).length>0})))||void 0===Cs?void 0:Cs.selected_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.componentF)})),Os=cn.find((function(n){var l;return n.component_fields.filter((function(e){return e.value===(null===As||void 0===As?void 0:As.value)})).length>0&&n.module_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.module_id)})),Ls=null===Os||void 0===Os?void 0:Os.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.componentO)}));return r.createElement(c.Z,{enabled:$l,width:pe.tq?"100%":"".concat(null!==(ws=null===e||void 0===e||null===(Zs=e.options)||void 0===Zs?void 0:Zs.width)&&void 0!==ws?ws:(null===Te||void 0===Te||null===(Ms=Te.selected_fields)||void 0===Ms?void 0:Ms.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),editMode:Xe,key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(Ss=e.options)||void 0===Ss?void 0:Ss.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-light)"}},r.createElement(f.Z,{onFocus:function(){var n;return 0==Il.length&&Dl(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.position_id)},visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:"multiple"===(null===e||void 0===e||null===(ks=e.options)||void 0===ks?void 0:ks.type)?v.Z.dropdownHeightClassContainer:v.Z.dropdownClassContainer,items:Il.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.user)||void 0===n||null===(l=n.positions)||void 0===l?void 0:l.filter((function(e){var n;return null===Ls||void 0===Ls||null===(n=Ls.value)||void 0===n?void 0:n.split(",").includes(null===e||void 0===e?void 0:e.name)})).length)>0})),backgroundColor:null!==e&&void 0!==e&&null!==(Is=e.options)&&void 0!==Is&&Is.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(Ns=e.options)||void 0===Ns?void 0:Ns.valueC:"",value:"single"===(null===e||void 0===e||null===(Ts=e.options)||void 0===Ts?void 0:Ts.type)?null===(Ps=Il.find((function(n){return n.label===(null===e||void 0===e?void 0:e.value)})))||void 0===Ps?void 0:Ps.label:e.value,loading:gn,error:null===e||void 0===e?void 0:e.errors,onChange:function(l){var o;if("single"===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.type)){var i,t,d=Il.find((function(e){return e.value===l}));if(1==(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.email))e.email=null===d||void 0===d||null===(t=d.user)||void 0===t?void 0:t.email;Re(null===d||void 0===d?void 0:d.label,n)}else Re(l,n);nl("50px")},onClicked:function(e){return nl(e?"180px":"50px")},selectionType:null===e||void 0===e||null===(Ds=e.options)||void 0===Ds?void 0:Ds.type,fieldIcon:null===e||void 0===e?void 0:e.icon,placeholder:"Select user..."})))}if("People"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Cl=e.options)||void 0===Cl||null===(Sl=Cl.componentF)||void 0===Sl?void 0:Sl.length)>0&&(null===e||void 0===e||null===(kl=e.options)||void 0===kl||null===(Wl=kl.componentUO)||void 0===Wl?void 0:Wl.length)>0){var zs,Rs,Us,Fs,qs,Ws,Bs,Ys,Hs,js,Vs,Gs=null===(zs=Ue.components.find((function(n){return n.selected_fields.filter((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.componentF)})).length>0})))||void 0===zs?void 0:zs.selected_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.componentF)})),Js=cn.filter((function(n){var l;return n.module_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.module_id)})).find((function(e){return e.component_fields.filter((function(e){return(null===e||void 0===e?void 0:e.value)===(null===Gs||void 0===Gs?void 0:Gs.value)})).length>0})),Ks=Js?null===Js||void 0===Js?void 0:Js.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.componentUO)})):"";return r.createElement(c.Z,{enabled:$l,width:pe.tq?"100%":"".concat(null!==(Rs=null===e||void 0===e||null===(Us=e.options)||void 0===Us?void 0:Us.width)&&void 0!==Rs?Rs:(null===Te||void 0===Te||null===(Fs=Te.selected_fields)||void 0===Fs?void 0:Fs.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),editMode:Xe,key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(qs=e.options)||void 0===qs?void 0:qs.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-light)"}},r.createElement(f.Z,{onFocus:function(){var n;return 0==Il.length&&Dl(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.position_id)},visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:"multiple"===(null===e||void 0===e||null===(Ws=e.options)||void 0===Ws?void 0:Ws.type)?v.Z.dropdownHeightClassContainer:v.Z.dropdownClassContainer,items:Il.filter((function(e){var n;return null===Ks||void 0===Ks||null===(n=Ks.value)||void 0===n?void 0:n.split(",").includes(null===e||void 0===e?void 0:e.label)})),backgroundColor:null!==e&&void 0!==e&&null!==(Bs=e.options)&&void 0!==Bs&&Bs.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(Ys=e.options)||void 0===Ys?void 0:Ys.valueC:"",value:"single"===(null===e||void 0===e||null===(Hs=e.options)||void 0===Hs?void 0:Hs.type)?null===(js=Il.find((function(n){return n.label===(null===e||void 0===e?void 0:e.value)})))||void 0===js?void 0:js.label:e.value,loading:gn,error:null===e||void 0===e?void 0:e.errors,onChange:function(l){var o;if("single"===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.type)){var i,t,d=Il.find((function(e){return e.value===l}));if(1==(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.email))e.email=null===d||void 0===d||null===(t=d.user)||void 0===t?void 0:t.email;Re(null===d||void 0===d?void 0:d.label,n)}else Re(l,n);nl("50px")},onClicked:function(e){return nl(e?"180px":"50px")},selectionType:null===e||void 0===e||null===(Vs=e.options)||void 0===Vs?void 0:Vs.type,fieldIcon:null===e||void 0===e?void 0:e.icon,placeholder:"Select user..."})))}if("Status"===(null===e||void 0===e?void 0:e.data_type_name)){var Qs,Xs,$s,ec,nc,lc,oc,ic,tc,dc,ac,uc,rc,vc,sc,cc,pc,mc,fc,_c,yc=(null===(Qs=e.options)||void 0===Qs||null===(Xs=Qs.list)||void 0===Xs?void 0:Xs.length)>0?null===($s=e.options)||void 0===$s||null===(ec=$s.list)||void 0===ec?void 0:ec.map((function(e){return{label:e,value:e}})):1==(null===sn||void 0===sn||null===(nc=sn.processModule)||void 0===nc||null===(lc=nc.module)||void 0===lc||null===(oc=lc.options)||void 0===oc?void 0:oc.asGraphical)?[{label:"Show",value:"Show"},{label:"Hide",value:"Hide"}]:(null===pn||void 0===pn||null===(ic=pn.misc_info)||void 0===ic||null===(tc=ic.status)||void 0===tc?void 0:tc.length)>0?null===pn||void 0===pn||null===(dc=pn.misc_info)||void 0===dc?void 0:dc.status:[{label:"Ongoing",value:"Ongoing"},{label:"Pending",value:"Pending"},{label:"Awaiting Payment",value:"Awaiting Payment"},{label:"Awaiting Fulfillment",value:"Awaiting Fulfillment"},{label:"Awaiting Shipment",value:"Awaiting Shipment"},{label:"Awaiting Pickup",value:"Awaiting Pickup"},{label:"Partially Shipped",value:"Partially Shipped"},{label:"Completed",value:"Completed"},{label:"Shipped",value:"Shipped"},{label:"Cancelled",value:"Cancelled"},{label:"Declined",value:"Declined"},{label:"Refunded",value:"Refunded"},{label:"Disputed",value:"Disputed"},{label:"Done",value:"Done"},{label:"Closed (Will lock Edit)",value:"Closed"}];if((null===pn||void 0===pn||null===(ac=pn.misc_info)||void 0===ac||null===(uc=ac.rules)||void 0===uc?void 0:uc.length)>0)null===pn||void 0===pn||null===(_c=pn.misc_info)||void 0===_c||_c.rules.filter((function(e){return"status"===e.type})).filter((function(n){n.valueCondition===e.value&&(yc="0"===n.allow?yc.filter((function(l){var o;return n.values.concat(null===(o=e.options)||void 0===o?void 0:o.list).includes(l.value)})):yc.filter((function(l){var o;return!n.values.concat(null===(o=e.options)||void 0===o?void 0:o.list).includes(l.value)})))}));return r.createElement(c.Z,{enabled:$l,width:pe.tq?"100%":"".concat(null!==(rc=null===e||void 0===e||null===(vc=e.options)||void 0===vc?void 0:vc.width)&&void 0!==rc?rc:(null===Te||void 0===Te||null===(sc=Te.selected_fields)||void 0===sc?void 0:sc.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),editMode:Xe,key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(cc=e.options)||void 0===cc?void 0:cc.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement(f.Z,{key:n,visible:e.visible,mandatory:e.mandatory,backgroundColor:null!==e&&void 0!==e&&null!==(pc=e.options)&&void 0!==pc&&pc.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(mc=e.options)||void 0===mc?void 0:mc.valueC:"",value:null!==(fc=e.value)&&void 0!==fc?fc:"",items:yc,error:e.errors,className:v.Z.dropdownSelectComponent,onClicked:function(e){return nl(e?"180px":"50px")},onChange:function(e){pn.start=!0,nl("50px"),Re(e,n);var l=Te.selected_fields.find((function(n){return"Date"===n.data_type_name&n.field_name===e}));l&&(l.value=new Date(V().now()))},fieldIcon:e.icon,placeholder:"Select status..."}))}if("Action Button"===(null===e||void 0===e?void 0:e.data_type_name)||"Ratings"===(null===e||void 0===e?void 0:e.data_type_name))return r.createElement("div",{key:n});if("Video"===(null===e||void 0===e?void 0:e.data_type_name)&&null!==e&&void 0!==e&&null!==(Bl=e.options)&&void 0!==Bl&&Bl.start)return r.createElement(c.Z,{enabled:$l,width:"100%",editMode:Xe,style:{},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(zr=e.options)||void 0===zr?void 0:zr.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement("div",{style:{width:"100%",height:"auto",border:"1px solid var(--app-color-gray-light)"}},r.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",padding:"5px",border:"0px solid var(--app-color-gray-lighter)"}},r.createElement("input",{value:e.value?V()(e.value).format("DD MMMM YYYY HH:mm"):"",disabled:!0,type:"text",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",fontFamily:"var(--app-text-main-font)",fontSize:"16px",lineHeight:"20px",color:"#4A4A4A",textAlign:"left",maxWidth:"98%",border:"0px"},onChange:function(e){}}),r.createElement(Q.G,{icon:X.WRo,style:{width:"14px",height:"14px"}})),r.createElement(_e.Z,{payload:{name:null===Pe||void 0===Pe?void 0:Pe.id}})));if("Video"!==(null===e||void 0===e?void 0:e.data_type_name)||null!==e&&void 0!==e&&null!==(Yl=e.options)&&void 0!==Yl&&Yl.start){var hc,gc,bc,xc,Ec,Cc,wc,Zc,Mc,Sc,kc,Ic,Nc,Tc,Pc,Dc,Ac,Oc,Lc,zc,Rc,Uc,Fc,qc,Wc,Bc,Yc,Hc,jc,Vc,Gc,Jc,Kc,Qc,Xc,$c,ep,np,lp,op,ip,tp,dp,ap,up,rp,vp,sp,cp,pp,mp,fp,_p,yp,hp,gp,bp,xp,Ep,Cp,wp,Zp,Mp,Sp,kp,Ip,Np,Tp,Pp,Dp,Ap,Op,Lp,zp,Rp,Up,Fp,qp,Wp,Bp,Yp,Hp,jp,Vp,Gp,Jp,Kp,Qp,Xp,$p,em,nm,lm,om,im,tm;if("Clock"===(null===e||void 0===e?void 0:e.data_type_name))return r.createElement(c.Z,{enabled:$l,width:pe.tq?"100%":"".concat(null!==(hc=null===e||void 0===e||null===(gc=e.options)||void 0===gc?void 0:gc.width)&&void 0!==hc?hc:(null===Te||void 0===Te||null===(bc=Te.selected_fields)||void 0===bc?void 0:bc.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),editMode:Xe,style:{},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(xc=e.options)||void 0===xc?void 0:xc.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement("div",{className:v.Z.centerDiv,style:{width:"100%",height:"auto",border:"1px dashed var(--app-color-gray-light)",padding:"50px",flexDirection:"column"}},r.createElement("p",{className:v.Z.timer},"".concat(on.format("DD MMMM YYYY HH:mm:ss"))),r.createElement("div",{className:v.Z.centerDiv,style:{display:"flex",flexDirection:"row"}},r.createElement("input",{readOnly:!0,autoComplete:"off",value:V()(new Date(+(null!==(Ec=e.value)&&void 0!==Ec?Ec:0))).format("DD MMM YYYY h:mm a"),className:v.Z.currencyInput,style:{border:"1px solid black",maxWidth:"300px",marginRight:"10px"}}),r.createElement(g.zx,{light:!0,title:"Set",clicked:function(){Ae((0,j.now)(),n)}}))));if("Profile"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Hl=e.options)||void 0===Hl||null===(jl=Hl.type)||void 0===jl?void 0:jl.length)>0&&e.visible){var dm,am,um,rm,vm,sm,cm,pm,mm,fm,_m,ym,hm,gm,bm,xm,Em,Cm,wm,Zm,Mm,Sm,km,Im=tn.id;if("creator"!==e.options.type&&"wallet"!==e.options.type||null===Pe||void 0===Pe||null===(dm=Pe.created_by)||void 0===dm||!dm.id)if("creator"!==e.options.type&&"wallet"!==e.options.type||null!==Pe&&void 0!==Pe&&null!==(am=Pe.created_by)&&void 0!==am&&am.id){if("owner"!==e.options.type)return null;var Nm;Im=null!==Pe&&void 0!==Pe&&Pe.options?null===(Nm=JSON.parse(null===Pe||void 0===Pe?void 0:Pe.options))||void 0===Nm?void 0:Nm.owner:""}else Im=tn.id;else Im=null===(km=Pe.created_by)||void 0===km?void 0:km.id;var Tm=mn.concat([tn]).find((function(e){return e.id===Im})),Pm=null===Tm||void 0===Tm||null===(um=Tm.ratings)||void 0===um?void 0:um.map((function(e){return+e.ratings}));return Tm&&r.createElement("div",{className:v.Z.centerDiv,key:n},"wallet"===e.options.type?r.createElement($.Z,{simple:!0,height:"100px",photo:Tm.photo,noPhoto:0==(null===e||void 0===e||null===(rm=e.options)||void 0===rm?void 0:rm.show),firstName:"".concat(null===Tm||void 0===Tm?void 0:Tm.first_name," ").concat(null===Tm||void 0===Tm?void 0:Tm.last_name),lastName:"(".concat(null===(vm=null!==(sm=Tm.wallet)&&void 0!==sm?sm:0)||void 0===vm?void 0:vm.toFixed(2),")"),position:null===Tm||void 0===Tm||null===(cm=Tm.positions)||void 0===cm||null===(pm=cm.slice(0,1))||void 0===pm?void 0:pm.map((function(e){return e.name})),email:null===Tm||void 0===Tm?void 0:Tm.email,cardClicked:function(){},width:pe.tq?"100%":"".concat(null!==(mm=null===e||void 0===e||null===(fm=e.options)||void 0===fm?void 0:fm.width)&&void 0!==mm?mm:(null===Te||void 0===Te||null===(_m=Te.selected_fields)||void 0===_m?void 0:_m.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%")}):r.createElement($.Z,{photo:Tm.photo,height:"auto",noPhoto:!1,firstName:"".concat(null===Tm||void 0===Tm?void 0:Tm.first_name),lastName:"".concat(null===Tm||void 0===Tm?void 0:Tm.last_name),position:null===Tm||void 0===Tm||null===(ym=Tm.positions)||void 0===ym||null===(hm=ym.slice(0,1))||void 0===hm?void 0:hm.map((function(e){return e.name})),email:null===Tm||void 0===Tm?void 0:Tm.email,cardClicked:function(){},width:pe.tq?"100%":"".concat(null!==(gm=null===e||void 0===e||null===(bm=e.options)||void 0===bm?void 0:bm.width)&&void 0!==gm?gm:(null===Te||void 0===Te||null===(xm=Te.selected_fields)||void 0===xm?void 0:xm.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%")},(null===Pm||void 0===Pm?void 0:Pm.length)>0&&r.createElement("div",{className:v.Z.simpleNames},Array(Math.round(W.Z(B.Z,[Y.Z,H.Z])(Pm))).fill(0).map((function(e,n){return r.createElement(Q.G,{key:n,icon:X.Tab,style:{height:"15px",width:"15px",color:"var(--app-color-blue)"}})})),Array(5-Math.round(W.Z(B.Z,[Y.Z,H.Z])(Pm))).fill(0).map((function(e,n){return r.createElement(Q.G,{key:n,icon:X.Tab,style:{height:"15px",width:"15px",color:"lightgray"}})}))),r.createElement("div",{className:v.Z.simpleNames,style:{pointerEvents:"none",padding:"20px 10px 0 10px",color:"gray"}},r.createElement("p",{style:{fontSize:"14px"}},"General Info:"),r.createElement(M.default,{rowStyleSelected:{border:"2px solid var(--app-color-gray-light)"},card:!0,isReport:!1,"app-variant-is-mobile":"true",columns:["First Name","Last Name","Phone","Address","City","Postal","Bio"],list:[Tm].map((function(e){var n,l,o,i,t,a,u;return u={},(0,d.Z)(u,"First Name","".concat(null!==(n=null===e||void 0===e?void 0:e.first_name)&&void 0!==n?n:"")),(0,d.Z)(u,"Last Name","".concat(null!==(l=null===e||void 0===e?void 0:e.last_name)&&void 0!==l?l:"")),(0,d.Z)(u,"Phone","".concat(null!==(o=null===e||void 0===e?void 0:e.phone)&&void 0!==o?o:"")),(0,d.Z)(u,"Address","".concat(null!==(i=null===e||void 0===e?void 0:e.address)&&void 0!==i?i:"")),(0,d.Z)(u,"City","".concat(null!==(t=null===e||void 0===e?void 0:e.city)&&void 0!==t?t:"")),(0,d.Z)(u,"Postal","".concat(null!==(a=null===e||void 0===e?void 0:e.postal)&&void 0!==a?a:"")),u}))}),Object.keys(null!==(Em=null===Tm||void 0===Tm||null===(Cm=Tm.options)||void 0===Cm?void 0:Cm.add_info)&&void 0!==Em?Em:{}).length>1&&r.createElement(r.Fragment,null,r.createElement("p",{style:{fontSize:"14px"}},"More Info:"),r.createElement(M.default,{rowStyleSelected:{border:"2px solid var(--app-color-gray-light)"},card:!0,isReport:!1,"app-variant-is-mobile":"true",columns:Object.keys(null!==(wm=null===Tm||void 0===Tm||null===(Zm=Tm.options)||void 0===Zm?void 0:Zm.add_info)&&void 0!==wm?wm:{}),list:[Tm].map((function(e){var n,l;return(0,t.Z)((0,t.Z)({},null!==(n=null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.add_info)&&void 0!==n?n:{}),{},{Rate:""})}))})),(null===Tm||void 0===Tm||null===(Mm=Tm.ratings)||void 0===Mm?void 0:Mm.length)>0&&r.createElement(r.Fragment,null,r.createElement("p",{style:{fontSize:"14px"}},"What other users say:"),r.createElement(M.default,{rowStyleSelected:{border:"2px solid var(--app-color-gray-light)"},card:!0,isReport:!1,columns:["Feedback"],list:null===Tm||void 0===Tm||null===(Sm=Tm.ratings)||void 0===Sm?void 0:Sm.map((function(e,n){return{Feedback:'"'.concat(e.comments,'"')}}))})))))}if("Summary"===(null===e||void 0===e?void 0:e.data_type_name)){var Dm,Am={};return Ue.components.map((function(e){return e.selected_fields.filter((function(e){return!("Pin"===e.data_type_name||"Lookup"===e.data_type_name||"Record"===e.data_type_name||"Ratings"===e.data_type_name||"People"===e.data_type_name||"Positions"===e.data_type_name||"Notes"===e.data_type_name||"URL"===e.data_type_name)&&1==e.visible})).map((function(e){var n;Am[e.field_name]="".concat(null!==(n=null===e||void 0===e?void 0:e.value)&&void 0!==n?n:"")}))})),r.createElement(c.Z,{enabled:$l,width:"70%",editMode:Xe,key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(Dm=e.options)||void 0===Dm?void 0:Dm.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement("div",{key:n,style:{width:"100%"}},r.createElement(J.Z,{hideHeaders:!0,className:v.Z.tableHostMobile,style:{width:"100%"},tableHostSimple:v.Z.leagueTable,columns:["1","2"],list:Object.keys(Am).map((function(e){return{1:e,2:Am[e]}}))})))}if("Pin"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Vl=e.options)||void 0===Vl||null===(Gl=Vl.pintype)||void 0===Gl?void 0:Gl.length)>0)return r.createElement(c.Z,{width:pe.tq?"100%":"".concat(null!==(Cc=null===e||void 0===e||null===(wc=e.options)||void 0===wc?void 0:wc.width)&&void 0!==Cc?Cc:50,"%"),style:{border:"0",marginTop:"50px"},enabled:$l,key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(Zc=e.options)||void 0===Zc?void 0:Zc.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},null!==e&&void 0!==e&&null!==(Mc=e.options)&&void 0!==Mc&&Mc.source||null!==(Sc=e.options)&&void 0!==Sc&&Sc.destination?r.createElement("div",{key:n,style:{color:"var(--app-color-gray-dark)",height:"inherit",width:"inherit",display:null!==e&&void 0!==e&&e.visible?"":"none"}},r.createElement("div",{key:n,className:v.Z.filtersContainer,style:{color:"var(--app-color-gray-dark)",height:"inherit",width:"100%",display:null!==e&&void 0!==e&&e.visible?"":"none"}},r.createElement("div",{className:v.Z.actionsContainer,style:{fontSize:"12px"},onClick:function(){Qn({source:!0,destination:!1,field:e,index:n})}},r.createElement("div",{style:{width:"100px"}},1==(null===e||void 0===e||null===(kc=e.options)||void 0===kc?void 0:kc.destination)?"From":"Pin",":"),r.createElement("div",null,null!==e&&void 0!==e&&e.value?null===(Ic=JSON.parse(e.value))||void 0===Ic||null===(Nc=Ic.source)||void 0===Nc?void 0:Nc.address:"")),1==(null===e||void 0===e||null===(Tc=e.options)||void 0===Tc?void 0:Tc.destination)&&r.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}),1==(null===e||void 0===e||null===(Pc=e.options)||void 0===Pc?void 0:Pc.destination)&&r.createElement("div",{className:v.Z.actionsContainer,style:{fontSize:"12px"},onClick:function(){Qn({source:!1,destination:!0,field:e,index:n})}},r.createElement("div",{style:{width:"100px"}},"To",":"),r.createElement("div",null,null!==e&&void 0!==e&&e.value?null===(Dc=JSON.parse(e.value))||void 0===Dc||null===(Ac=Dc.destination)||void 0===Ac?void 0:Ac.address:""))),r.createElement("div",{style:{display:null!==(Oc=e.options)&&void 0!==Oc&&Oc.source?"flex":"none",width:"100%"}},r.createElement(g.zx,{icon:r.createElement(Q.G,{icon:X.W3K,style:{width:"20px",height:"20px"}}),clicked:function(){Qn({source:!0,destination:!1,field:e,index:n})},style:{backgroundColor:"blue",width:"100%"},title:1==(null===e||void 0===e||null===(Lc=e.options)||void 0===Lc?void 0:Lc.destination)?"Origin from":"Pin location"})),1==(null===e||void 0===e||null===(zc=e.options)||void 0===zc?void 0:zc.destination)&&r.createElement("div",{style:{display:null!==(Rc=e.options)&&void 0!==Rc&&Rc.destination?"flex":"none",width:"100%"}},r.createElement(g.zx,{icon:r.createElement(Q.G,{icon:X.opg,style:{width:"20px",height:"20px"}}),clicked:function(){Qn({source:!1,destination:!0,field:e,index:n})},style:{backgroundColor:"green",width:"100%"},title:"Destination"})),(null===Kn||void 0===Kn?void 0:Kn.source)&&r.createElement(g.U7,{hasCloseIcon:!0,blured:!1,scrollable:!0,isOpen:Kn.source,shadowedContainerStyle:{width:pe.tq?"100%":"50%"},onClose:function(){return Qn({source:!1,destination:!1})}},r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"30px"}},r.createElement("div",{className:v.Z.title},null!==(Uc=null===Kn||void 0===Kn||null===(Fc=Kn.field)||void 0===Fc?void 0:Fc.field_name)&&void 0!==Uc?Uc:"Origin:"),r.createElement(w.Z,{value:null===(qc=JSON.parse(null!==(Wc=null===Kn||void 0===Kn||null===(Bc=Kn.field)||void 0===Bc?void 0:Bc.value)&&void 0!==Wc?Wc:JSON.stringify({source:{},destination:{}})))||void 0===qc?void 0:qc.source,onChange:function(l){var o,i,t,d,a,u,r,v,s,c,p=null!==Kn&&void 0!==Kn&&null!==(o=Kn.field)&&void 0!==o&&o.value?JSON.parse(null===Kn||void 0===Kn||null===(i=Kn.field)||void 0===i?void 0:i.value):{source:{lat:0,lng:0,address:""},destination:{lat:0,lng:0,address:""}};if(p.source.lat=l.geometry.location.lat,p.source.lng=l.geometry.location.lng,p.source.address=l.formatted_address,null!==Kn&&void 0!==Kn&&Kn.field&&(null===(t=e.options)||void 0===t||!t.compute))return Ae(JSON.stringify(p),Kn.index),void Qn({source:!1,destination:!1});var m,f,_,y,h,g,b,x,C,w,Z,M,S=null===Te||void 0===Te||null===(d=Te.selected_fields)||void 0===d?void 0:d.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)}));S||((S=null===(m=Ue.newStepComponents)||void 0===m||null===(f=m.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})).length)>0})))||void 0===f||null===(_=f.selected_fields)||void 0===_?void 0:_.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})))||(S=null===(y=Ue.components)||void 0===y||null===(h=y.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})).length)>0})))||void 0===h||null===(g=h.selected_fields)||void 0===g?void 0:g.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})))||(S=null===(b=sn.processModule)||void 0===b||null===(x=b.steps[null!==(Z=null===(M=sn.processModule)||void 0===M?void 0:M.stepIndex)&&void 0!==Z?Z:1].component_blueprints)||void 0===x||null===(C=x.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})).length)>0})))||void 0===C||null===(w=C.selected_fields)||void 0===w?void 0:w.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)}))));if(null!==p&&void 0!==p&&p.source&&null!==(a=e.options)&&void 0!==a&&a.compute&&0==(null===(u=e.options)||void 0===u?void 0:u.destination))p.distance=(0,E.Iw)(p.source.lat,p.source.lng,an.latitude,an.longitude),p.duration=0,S&&(S.value=p.distance,S.disabled=!0),Ae(JSON.stringify(p),n);else if(null!==(r=p.source)&&void 0!==r&&r.address&&null!==Kn&&void 0!==Kn&&null!==(v=Kn.field.options)&&void 0!==v&&v.compute){var k;null===(k=(0,ne.Y)(p.source.address,p.destination.address))||void 0===k||k.subscribe({next:function(e){var n;if((null===e||void 0===e||null===(n=e.routes)||void 0===n?void 0:n.length)>0){var l,o,i,t,d,a=e.routes[0];if((null===a||void 0===a||null===(l=a.legs)||void 0===l?void 0:l.length)>0)p.distance=(null===(o=a.legs[0])||void 0===o||null===(i=o.distance)||void 0===i?void 0:i.value)/1e3,p.duration=null===(t=a.legs[0])||void 0===t||null===(d=t.duration)||void 0===d?void 0:d.value,p.steps=a.legs[0].steps,S&&(S.value=p.distance,S.disabled=!0)}},error:function(e){p.distance=(0,E.Iw)(p.source.lat,p.source.lng,p.destination.lat,p.destination.lng),p.duration=0,S&&(S.value=p.distance,S.disabled=!0)}})}else null!==(s=p.source)&&void 0!==s&&s.address&&(p.distance=(0,E.Iw)(p.source.lat,p.source.lng,p.destination.lat,p.destination.lng),p.duration=0,S&&(S.value=p.distance));Ae(JSON.stringify(p),null!==(c=null===Kn||void 0===Kn?void 0:Kn.index)&&void 0!==c?c:n),Qn({source:!1,destination:!1})},mapkey:null===(Yc=pn.misc_info)||void 0===Yc?void 0:Yc.map}),r.createElement("br",null),r.createElement(g.zx,{clicked:function(){return Qn({source:!1,destination:!1})},title:"Close",style:{width:"80%",backgroundColor:"orange"}}))),(null===Kn||void 0===Kn?void 0:Kn.destination)&&r.createElement(g.U7,{hasCloseIcon:!0,blured:!1,scrollable:!0,isOpen:Kn.destination,shadowedContainerStyle:{width:pe.tq?"100%":"50%"},shadowedContainerClassname:v.Z.mappopup,onClose:function(){return Qn({source:!1,destination:!1})}},r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.createElement("div",{className:v.Z.title},null!==(Hc=null===Kn||void 0===Kn||null===(jc=Kn.field)||void 0===jc?void 0:jc.field_name)&&void 0!==Hc?Hc:"Destination:"),r.createElement(w.Z,{value:null===(Vc=JSON.parse(null!==(Gc=null===Kn||void 0===Kn||null===(Jc=Kn.field)||void 0===Jc?void 0:Jc.value)&&void 0!==Gc?Gc:JSON.stringify({source:{},destination:{}})))||void 0===Vc?void 0:Vc.destination,onChange:function(e){var n,l,o,i,t,d,a,u,r,v,s,c,p,m=null!==Kn&&void 0!==Kn&&null!==(n=Kn.field)&&void 0!==n&&n.value?JSON.parse(null===Kn||void 0===Kn||null===(l=Kn.field)||void 0===l?void 0:l.value):{destination:{lat:0,lng:0,address:""},source:{lat:0,lng:0,address:""}},f=null===Te||void 0===Te||null===(o=Te.selected_fields)||void 0===o?void 0:o.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)}));f||((f=null===(a=Ue.newStepComponents)||void 0===a||null===(u=a.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})).length)>0})))||void 0===u||null===(r=u.selected_fields)||void 0===r?void 0:r.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})))||(f=null===(v=Ue.components)||void 0===v||null===(s=v.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})).length)>0})))||void 0===s||null===(c=s.selected_fields)||void 0===c?void 0:c.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)}))));(m.destination.lat=e.geometry.location.lat,m.destination.lng=e.geometry.location.lng,m.destination.address=e.formatted_address,null!==(i=m.destination)&&void 0!==i&&i.address&&null!==Kn&&void 0!==Kn&&null!==(t=Kn.field.options)&&void 0!==t&&t.compute)?null===(p=(0,ne.Y)(m.source.address,m.destination.address))||void 0===p||p.subscribe({next:function(e){var n;if((null===e||void 0===e||null===(n=e.routes)||void 0===n?void 0:n.length)>0){var l,o,i,t,d,a=e.routes[0];if((null===a||void 0===a||null===(l=a.legs)||void 0===l?void 0:l.length)>0)m.distance=(null===(o=a.legs[0])||void 0===o||null===(i=o.distance)||void 0===i?void 0:i.value)/1e3,m.duration=null===(t=a.legs[0])||void 0===t||null===(d=t.duration)||void 0===d?void 0:d.value,m.steps=a.legs[0].steps,f&&(f.value=m.distance)}},error:function(e){m.distance=(0,E.Iw)(m.source.lat,m.source.lng,m.destination.lat,m.destination.lng),m.duration=0,f&&(f.value=m.distance)}}):null!==(d=m.destination)&&void 0!==d&&d.address&&(m.distance=(0,E.Iw)(m.source.lat,m.source.lng,m.destination.lat,m.destination.lng),m.duration=0,f&&(f.value=m.distance));Ae(JSON.stringify(m),null===Kn||void 0===Kn?void 0:Kn.index),Qn({source:!1,destination:!1})},mapkey:null===(Kc=pn.misc_info)||void 0===Kc?void 0:Kc.map}),r.createElement("br",null),r.createElement(g.zx,{clicked:function(){return Qn({source:!1,destination:!1})},title:"Close",style:{width:"80%",backgroundColor:"orange"}})))):r.createElement(w.Z,{key:n,value:null===Te||void 0===Te?void 0:Te.selected_fields[n].value,onLocationChange:function(e){return Ke(e,n)},mapkey:null===(Qc=pn.misc_info)||void 0===Qc?void 0:Qc.map}));if("Map"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Jl=e.options)||void 0===Jl||null===(Kl=Jl.maptype)||void 0===Kl?void 0:Kl.length)>0)return r.createElement(c.Z,{enabled:$l,width:pe.tq?"100%":"".concat(null!==(Xc=null===e||void 0===e||null===($c=e.options)||void 0===$c?void 0:$c.width)&&void 0!==Xc?Xc:(null===Te||void 0===Te||null===(ep=Te.selected_fields)||void 0===ep?void 0:ep.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),editMode:Xe,key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(np=e.options)||void 0===np?void 0:np.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement(Z.Z,{apikey:null===pn||void 0===pn||null===(lp=pn.misc_info)||void 0===lp?void 0:lp.map,search:null!==(op=null===e||void 0===e||null===(ip=e.options)||void 0===ip?void 0:ip.search)&&void 0!==op&&op}));if("YesNo"===(null===e||void 0===e?void 0:e.data_type_name))return r.createElement(c.Z,{enabled:$l,style:{border:"0.5px dashed gray",padding:"10px"},width:pe.tq?"100%":"".concat(null!==(tp=null===e||void 0===e||null===(dp=e.options)||void 0===dp?void 0:dp.width)&&void 0!==tp?tp:40,"%"),editMode:Xe,key:n,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement("div",{class:"checkbox-wrapper-21"},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",margin:"20px 0px"}},r.createElement("input",{id:"check-23",type:"checkbox",checked:null!==(ap=null===e||void 0===e?void 0:e.value)&&void 0!==ap&&ap,onChange:function(e){return Re(e.target.checked,n)},style:{marginRight:"20px"}}),r.createElement("label",null,e.field_name))));if("Freehand"===(null===e||void 0===e?void 0:e.data_type_name))return r.createElement(c.Z,{enabled:$l,style:{border:"0.5px dashed gray",padding:"10px"},width:pe.tq?"100%":"".concat(null!==(up=null===e||void 0===e||null===(rp=e.options)||void 0===rp?void 0:rp.width)&&void 0!==up?up:40,"%"),height:"400px",editMode:Xe,key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(vp=e.options)||void 0===vp?void 0:vp.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},null!==e&&void 0!==e&&e.value?r.createElement("img",{alt:"lg",src:null===e||void 0===e?void 0:e.value,style:{width:"500px",height:"300px",cursor:"pointer"}}):r.createElement(re(),{penColor:"green",canvasProps:{width:400,height:200,className:"sigCanvas"},ref:Ml,onEnd:function(){return Ae(Ml.current.toDataURL("image/png"),n)}}));if("User Wallet"===(null===e||void 0===e?void 0:e.data_type_name)){var Om,Lm,zm,Rm,Um,Fm,qm,Wm,Bm,Ym=null!==(Om=null===mn||void 0===mn?void 0:mn.find((function(e){var n;return e.id===(null===Pe||void 0===Pe||null===(n=Pe.created_by)||void 0===n?void 0:n.id)})))&&void 0!==Om?Om:tn;return r.createElement("div",{key:n,style:{width:pe.tq?"100%":"".concat(null!==(Lm=null===e||void 0===e||null===(zm=e.options)||void 0===zm?void 0:zm.width)&&void 0!==Lm?Lm:30,"%"),border:"1px dashed gray",padding:"20px",marginTop:"10px"}},r.createElement($.Z,{simple:!0,height:"100px",photo:Ym.photo,firstName:"".concat(null===Ym||void 0===Ym?void 0:Ym.first_name," ").concat(null===Ym||void 0===Ym?void 0:Ym.last_name),lastName:"(".concat(null===(Rm=null!==(Um=Ym.wallet)&&void 0!==Um?Um:0)||void 0===Rm?void 0:Rm.toFixed(2),")"),position:null===Ym||void 0===Ym||null===(Fm=Ym.positions)||void 0===Fm||null===(qm=Fm.slice(0,1))||void 0===qm?void 0:qm.map((function(e){return e.name})),email:null===Ym||void 0===Ym?void 0:Ym.email,cardClicked:function(){},width:pe.tq?"100%":""}),r.createElement(c.Z,{enabled:$l,editMode:Xe,key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(Wm=e.options)||void 0===Wm?void 0:Wm.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement("input",{type:"number",autoComplete:"off",value:null!==(Bm=null===e||void 0===e?void 0:e.value)&&void 0!==Bm?Bm:0,className:v.Z.currencyInput,style:{border:"1px solid black"},onChange:function(e){Ae(e.target.value,n)}})),r.createElement(g.zx,{loading:gn,clear:!0,title:"Release amount",style:{color:"white",backgroundColor:"green",display:e.visible&&null!==e&&void 0!==e&&e.value?"":"none"},clicked:function(){bn(!0),(0,le.e_)({user_id:Ym.id,id:(0,E.mR)(),total:-+(null===e||void 0===e?void 0:e.value),product:"Withdrawal",notes:"Withdrawal",quantity:1}).pipe((0,y.P)()).subscribe({next:function(){Ym.wallet=+(+(null===Ym||void 0===Ym?void 0:Ym.wallet)-(null===e||void 0===e?void 0:e.value)),e.visible=!1,bn(!1)}})}}))}return"Currency"===(null===e||void 0===e?void 0:e.data_type_name)&&null!==e&&void 0!==e&&null!==(Ql=e.options)&&void 0!==Ql&&Ql.currency_type?r.createElement(c.Z,{enabled:$l,width:pe.tq?"100%":"".concat(null!==(sp=null===e||void 0===e||null===(cp=e.options)||void 0===cp?void 0:cp.width)&&void 0!==sp?sp:(null===Te||void 0===Te||null===(pp=Te.selected_fields)||void 0===pp?void 0:pp.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),editMode:Xe,key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(mp=e.options)||void 0===mp?void 0:mp.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement("div",{style:{border:"1px solid var(--app-color-gray-light)",width:"inherit",display:"flex"}},r.createElement("div",{onClick:function(){return bn(!gn)},className:v.Z.currencySymbol},null!==e&&void 0!==e&&null!==(fp=e.options)&&void 0!==fp&&fp.symbol?null===e||void 0===e||null===(_p=e.options)||void 0===_p?void 0:_p.symbol:""," "),gn&&r.createElement(g.Ld,{items:E.s3,defaultSelectedItem:{label:null===e||void 0===e||null===(yp=e.options)||void 0===yp?void 0:yp.currency_type,value:null===e||void 0===e||null===(hp=e.options)||void 0===hp?void 0:hp.country_code},triggerType:"chevron",placeholder:"Select curency...",className:v.Z.currencySelectComponent,inputClassName:v.Z.currencySearchInput,inputContainerClassName:v.Z.currencyInputContainerClassName,clearControlsClassName:v.Z.currencyClearControlsClassName,molclassname:v.Z.currencySelectMenuOverlayList,moliclassname:v.Z.currencySelectMenuOverlayListItem,onChange:function(e){Ue.currency=e.value,Ge(e,n),bn(!1)}}),!gn&&r.createElement("input",{type:"number",autoComplete:"off",value:null!==(gp=Te.selected_fields[n].value)&&void 0!==gp?gp:0,className:v.Z.currencyInput,onChange:function(e){Ae(e.target.value,n)}}))):"Phone"===(null===e||void 0===e?void 0:e.data_type_name)?r.createElement(c.Z,{enabled:$l,style:{border:"0 dashed gray",padding:"0px"},width:pe.tq?"100%":"".concat(null!==(bp=null===e||void 0===e||null===(xp=e.options)||void 0===xp?void 0:xp.width)&&void 0!==bp?bp:Ze,"%"),editMode:Xe,key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(Ep=e.options)||void 0===Ep?void 0:Ep.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement(x(),{specialLabel:"",value:Te.selected_fields[n].value,country:null===e||void 0===e||null===(Cp=e.options)||void 0===Cp?void 0:Cp.country_code,onChange:function(e,l,o){je(l,n,o.target.value)},inputClass:v.Z.phoneIInput})):r.createElement(c.Z,{enabled:$l,width:pe.tq?"100%":"".concat(null!==(wp=null===e||void 0===e||null===(Zp=e.options)||void 0===Zp?void 0:Zp.width)&&void 0!==wp?wp:(null===Te||void 0===Te||null===(Mp=Te.selected_fields)||void 0===Mp?void 0:Mp.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),editMode:Xe,key:n,fieldLabel:"percentage"===(null===e||void 0===e||null===(Sp=e.options)||void 0===Sp?void 0:Sp.type)?"".concat(e.field_name," (%)"):e.field_name,notes:!0===(null===e||void 0===e||null===(kp=e.options)||void 0===kp?void 0:kp.chart)?"":null===e||void 0===e||null===(Ip=e.options)||void 0===Ip?void 0:Ip.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,customIconBgColor:"white"},"file"===e.data_type?r.createElement(Ie,{field_id:e.id,value:null===e||void 0===e?void 0:e.value,isInherited:We,checkIfAreMandatoryErrored:Ye,options:null===e||void 0===e?void 0:e.options,index:n,indexInContextArray:Le}):"date"===e.data_type||null!==e&&void 0!==e&&null!==(Np=e.options)&&void 0!==Np&&Np.country_code||null!==e&&void 0!==e&&null!==(Tp=e.options)&&void 0!==Tp&&Tp.currency_type||"Number"===e.data_type_name?r.createElement("div",{className:v.Z.fieldTypeInput,style:{border:"1px solid var(--app-color-gray-light)",height:"auto"}},"date"===e.data_type?"Range"===(null===e||void 0===e||null===(Pp=e.options)||void 0===Pp?void 0:Pp.type)?r.createElement(g.$m,{inputContainerClassName:v.Z.inputContainerClassName,dateChangeHandler:function(e){return Tl(e,n)},startDate:Nn,endDate:Tn}):null!==e&&void 0!==e&&null!==(Dp=e.options)&&void 0!==Dp&&Dp.time?r.createElement("div",{style:{width:"100%",height:"auto",border:"0"}},r.createElement(k(),{showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,customInput:r.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",padding:"5px",border:"0px"}},r.createElement("input",{value:e.value?V()(e.value).format("DD MMMM YYYY HH:mm"):"",disabled:!0,type:"text",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",fontFamily:"var(--app-text-main-font)",fontSize:"16px",lineHeight:"20px",color:"#4A4A4A",textAlign:"left",maxWidth:"98%",border:"0px",backgroundColor:null!==e&&void 0!==e&&null!==(Ap=e.options)&&void 0!==Ap&&Ap.valueC?null===e||void 0===e||null===(Op=e.options)||void 0===Op?void 0:Op.valueC:""},onChange:function(e){}}),r.createElement(Q.G,{icon:X.WRo,style:{marginLeft:"14px",width:"14px",height:"20px"}})),className:v.Z.singleInputContainer,selected:null!==e&&void 0!==e&&e.value?new Date(V()(null===e||void 0===e?void 0:e.value)):(0,j.now)(),onChange:function(e){e>(0,j.now)()&&Pl(e,n)}})):r.createElement(g.X9,{toggleDP:function(e){return nl(!0===e?"240px":"50px")},value:void 0==e.value?"":V()(new Date(e.value)).format("Do MMMM YYYY"),dateChangeHandler:function(e){return Pl(e,n)},selected:new Date(V()(Cn,"YYYY-MM-DD")),iconClassName:v.Z.calendar,inputContainerClassName:v.Z.singleInputContainer,inputStyle:{textAlign:"left",border:"none",fontSize:"16px"},hasCalendarIcon:!0}):r.createElement(r.Fragment,null,r.createElement("input",{onBlur:function(l){return ke(e.data_type_name,l.target.value,Le,n,Ue)},type:e.data_type,onChange:function(e){Ae(e.target.value,n)},autoComplete:"none",value:Te.selected_fields[n].value?Te.selected_fields[n].value:""===Se(null===e||void 0===e?void 0:e.options)?"":Se(null===e||void 0===e?void 0:e.options),placeholder:"Number"===Te.selected_fields[n].data_type_name?"0":"",className:v.Z.fieldTypeInput,name:e.field_name,style:{height:"33px",backgroundColor:null!==e&&void 0!==e&&null!==(Lp=e.options)&&void 0!==Lp&&Lp.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(zp=e.options)||void 0===zp?void 0:zp.valueC:""},disabled:null!==(Rp=Te.selected_fields[n].disabled)&&void 0!==Rp&&Rp}),!0===(null===e||void 0===e||null===(Up=e.options)||void 0===Up?void 0:Up.chart)&&r.createElement(se.Z,{title:e.field_name,series:null===(Fp=Te.selected_fields[n].value)||void 0===Fp?void 0:Fp.split(",").map((function(e){return+e})),labels:null!==e&&void 0!==e&&null!==(qp=e.options)&&void 0!==qp&&qp.notes?null===e||void 0===e||null===(Wp=e.options)||void 0===Wp||null===(Bp=Wp.notes)||void 0===Bp?void 0:Bp.split(","):["Incomplete","Completed"]}),"bar"===(null===e||void 0===e||null===(Yp=e.options)||void 0===Yp?void 0:Yp.display)&&"Number"===(null===e||void 0===e?void 0:e.data_type_name)&&r.createElement("div",{style:{height:"30px",width:"100%",backgroundColor:null===e||void 0===e||null===(Hp=e.options)||void 0===Hp?void 0:Hp.maxC,display:"flex",flexDirection:"column"}},r.createElement("input",{value:null===(jp=Te.selected_fields[n])||void 0===jp?void 0:jp.value,className:v.Z.fieldTypeInput,name:e.field_name,disabled:!0,style:{color:"transparent",height:"30px",width:"".concat(+(null===(Vp=Te.selected_fields[n])||void 0===Vp?void 0:Vp.value)/+e.options.max*100,"%"),backgroundColor:null===e||void 0===e||null===(Gp=e.options)||void 0===Gp?void 0:Gp.barC}})))):"Long Text"===e.data_type_name?r.createElement("textarea",{className:v.Z.fieldTypeTextarea,style:{border:"1px solid var(--app-color-gray-light)",backgroundColor:null!==e&&void 0!==e&&null!==(Jp=e.options)&&void 0!==Jp&&Jp.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(Kp=e.options)||void 0===Kp?void 0:Kp.valueC:""},onBlur:function(l){return ke(e.data_type_name,l.target.value,Le,n,Ue)},type:e.data_type,value:Te.selected_fields[n].value?Te.selected_fields[n].value:""===Se(null===e||void 0===e?void 0:e.options)?"":Se(null===e||void 0===e?void 0:e.options),onFocus:function(){},disabled:null!==(Qp=Te.selected_fields[n].disabled)&&void 0!==Qp&&Qp,autoComplete:"none",onChange:function(e){Ae(e.target.value,n)},placeholder:"Number"===Te.selected_fields[n].data_type_name?"0":"",name:e.field_name}):"Link"===e.data_type_name?r.createElement("div",{style:{width:"inherit",display:"flex",flexDirection:"column"}},(null===e||void 0===e?void 0:e.value)&&((null===e||void 0===e||null===(Xp=e.value)||void 0===Xp?void 0:Xp.includes("jpg"))||(null===e||void 0===e||null===($p=e.value)||void 0===$p?void 0:$p.includes("jpeg"))||(null===e||void 0===e||null===(em=e.options)||void 0===em?void 0:em.image)||(null===e||void 0===e||null===(nm=e.value)||void 0===nm?void 0:nm.includes("png")))&&r.createElement("img",{alt:"lg",onError:function(e){return e.target.src="https://i.quotev.com/b2gtjqawaaaa.jpg"},src:null===e||void 0===e?void 0:e.value,style:{width:"100%",height:"100%",cursor:"pointer"}}),ln&&r.createElement("img",{alt:"lg",onError:function(e){return e.target.src="https://i.quotev.com/b2gtjqawaaaa.jpg"},src:"https://i.quotev.com/b2gtjqawaaaa.jpg",style:{width:"100%",height:"100%",cursor:"pointer"}}),r.createElement("input",{onBlur:function(l){return ke(e.data_type_name,l.target.value,Le,n,Ue)},type:e.data_type,onChange:function(e){Ae(e.target.value,n)},autoComplete:"none",value:Te.selected_fields[n].value?Te.selected_fields[n].value:""===Se(null===e||void 0===e?void 0:e.options)?"":Se(null===e||void 0===e?void 0:e.options),placeholder:"Number"===Te.selected_fields[n].data_type_name?"0":"",className:v.Z.fieldTypeInput,style:{border:"1px solid var(--app-color-gray-light)"},name:e.field_name,disabled:null!==(lm=Te.selected_fields[n].disabled)&&void 0!==lm&&lm})):r.createElement("input",{onBlur:function(l){return ke(e.data_type_name,l.target.value,Le,n,Ue)},type:e.data_type,onChange:function(e){Ae(e.target.value,n)},autoComplete:"none",value:Te.selected_fields[n].value?Te.selected_fields[n].value:""===Se(null===e||void 0===e?void 0:e.options)?"":Se(null===e||void 0===e?void 0:e.options),placeholder:"Number"===Te.selected_fields[n].data_type_name?"0":"",className:v.Z.fieldTypeInput,style:{border:"1px solid var(--app-color-gray-light)",backgroundColor:null!==e&&void 0!==e&&null!==(om=e.options)&&void 0!==om&&om.valueC&&null!==e&&void 0!==e&&e.value?null===e||void 0===e||null===(im=e.options)||void 0===im?void 0:im.valueC:""},name:e.field_name,disabled:null!==(tm=Te.selected_fields[n].disabled)&&void 0!==tm&&tm}))}return r.createElement(c.Z,{enabled:$l,width:pe.tq?"100%":"".concat(null!==(Rr=null===e||void 0===e||null===(Ur=e.options)||void 0===Ur?void 0:Ur.width)&&void 0!==Rr?Rr:(null===Te||void 0===Te||null===(Fr=Te.selected_fields)||void 0===Fr?void 0:Fr.filter((function(e){return!0===e.visible})).length)<5?"50":Ze,"%"),editMode:Xe,style:{},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(qr=e.options)||void 0===qr?void 0:qr.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement("div",{style:{width:"100%",height:"auto",border:"1px solid var(--app-color-gray-light)"}},r.createElement(k(),{showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,customInput:r.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",padding:"5px",border:"0px solid var(--app-color-gray-lighter)"}},r.createElement("input",{value:e.value?V()(e.value).format("DD MMMM YYYY HH:mm"):"",disabled:!0,type:"text",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",fontFamily:"var(--app-text-main-font)",fontSize:"16px",lineHeight:"20px",color:"#4A4A4A",textAlign:"left",maxWidth:"98%",border:"0px"},onChange:function(e){}}),r.createElement(Q.G,{icon:X.WRo,style:{marginLeft:"10px",width:"14px",height:"14px"}})),className:v.Z.singleInputContainer,selected:null!==e&&void 0!==e&&e.value?new Date(V()(null===e||void 0===e?void 0:e.value)):(0,j.now)(),onChange:function(e){e>(0,j.now)()&&Pl(e,n)}})))}var Hm,jm,Vm,Gm,Jm,Km,Qm,Xm,$m,ef,nf=Object.entries(Object.assign({item_code:null,quantity:null,value:null,alt_value:null,total:null},e.options.map)).reduce((function(e,n){var l=(0,u.Z)(n,2),o=l[0],i=l[1];return null===i||(e[o]=i),e}),{});return r.createElement(c.Z,{fieldLabel:null===e||void 0===e?void 0:e.field_name,enabled:$l,width:"100%",editMode:Xe,showWidth:function(n){e.options=(0,t.Z)((0,t.Z)({},e.options),{},{width:"".concat(n,"px")})},style:{border:"0",padding:Ue.items.length>1?"0":"0 0 150px 0",marginTop:"50px"},key:n,visible:e.visible,notes:null===e||void 0===e||null===(Hm=e.options)||void 0===Hm?void 0:Hm.notes,error:(null===(jm=e.errors)||void 0===jm?void 0:jm.length)>0?"".concat(e.errors):""},r.createElement(J.Z,{style:{width:"100%"},tableHostSimple:v.Z.itemsContainer_ii,layeredColumns:null===Te||void 0===Te||null===(Vm=Te.selected_fields)||void 0===Vm?void 0:Vm.filter((function(e){var n;return null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem})).map((function(e){var n,l;return null!==(n=e.options)&&void 0!==n&&n.group?{label:null===(l=e.options)||void 0===l?void 0:l.group,subColumns:[{label:e.field_name}]}:{label:e.field_name}})).concat([{label:"Actions"}]),list:null===(Gm=L.Z([q.Z(R.Z("index"))])(null!==(Jm=null!==e&&void 0!==e&&null!==(Km=e.options)&&void 0!==Km&&Km.type?Ue.items.filter((function(n){var l;return n.type===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.type)})):Ue.items)&&void 0!==Jm?Jm:[]))||void 0===Gm?void 0:Gm.map((function(n,l){var o={index:l,Actions:r.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",minWidth:"80px"}},!(null!==n&&void 0!==n&&n.edit)&&r.createElement(Q.G,{icon:X.IwR,onClick:function(){n.edit=!0,Fe({action:C._U.setModuleItems,value:Ue.items})}}),(null===n||void 0===n?void 0:n.edit)&&r.createElement(Q.G,{icon:X.EsX,onClick:function(){var l;n.edit=!1,Fe({action:C._U.setModuleItems,value:Ue.items}),null!==Pe&&void 0!==Pe&&Pe.id&&null!==e&&void 0!==e&&null!==(l=e.options)&&void 0!==l&&l.asap&&(0,p.np)(n,Pe.id).subscribe({})}}),(null===n||void 0===n?void 0:n.edit)&&r.createElement(Q.G,{icon:X.$aW,onClick:function(){Fe({action:C._U.setModuleItems,value:Ue.items.filter((function(e){return e.id!==n.id})).map((function(e,n){return(0,t.Z)((0,t.Z)({},e),{},{index:n})}))})}}))};return Object.entries(null!==nf&&void 0!==nf?nf:[]).forEach((function(e){var i,d,u;o[e[1]]=r.createElement("div",{style:{padding:null!==n&&void 0!==n&&n.edit?"5px":""}},r.createElement(Fl,{index:l,enabled:!0,edit:null!==(i=null===n||void 0===n?void 0:n.edit)&&void 0!==i&&i,isItem:!0,item:n,field:(0,t.Z)((0,t.Z)({},null!==(d=null===Te||void 0===Te||null===(u=Te.selected_fields)||void 0===u?void 0:u.find((function(n){var l;return(null===n||void 0===n||null===(l=n.options)||void 0===l?void 0:l.mapToItem)===e[0]})))&&void 0!==d?d:{}),{},{visible:!0,value:n[e[0]]}),withLabel:!1,handleItem:function(l,o){n[e[0]]!==l&&(n[e[0]]=l,Fe({action:C._U.setModuleItems,value:[].concat((0,a.Z)(Ue.items.filter((function(e){return e.id!==n.id}))),[n])}))}}))})),o})),footer:null!==(Qm=e.options)&&void 0!==Qm&&Qm.footer?null===Te||void 0===Te||null===(Xm=Te.selected_fields)||void 0===Xm?void 0:Xm.filter((function(e){var n;return null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem})).map((function(n,l){var o,i;return null!==n&&void 0!==n&&null!==(o=n.options)&&void 0!==o&&o.footer?ql(null!==e&&void 0!==e&&null!==(i=e.options)&&void 0!==i&&i.type?Ue.items.filter((function(n){var l;return n.type===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.type)})):Ue.items,n,e):0===l?"Totals:":""})).concat([""]):[]},(null===Te||void 0===Te||null===($m=Te.options)||void 0===$m?void 0:$m.allowMultipleInputs)&&r.createElement("div",{className:v.Z.iconsContainer,style:{display:"flex",justifyContent:"space-between"}},r.createElement(g.zx,{light:!0,style:{width:"32px"},clicked:function(){var n,l;Fe({action:C._U.setModuleItems,value:[].concat((0,a.Z)(Ue.items),[{id:(0,E.mR)(),item_code:"",value:"",alt_value:"",quantity:"",total:"",type:null!==(n=null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.type)&&void 0!==n?n:"",edit:!0,index:Ue.items.length}])})}},r.createElement(s.mm,null)),(null===(ef=e.options)||void 0===ef?void 0:ef.export)&&Al(Pe.component_items,["item_code","quantity","value","alt_value"]))))}null!==e&&void 0!==e&&e.visible},Bl=(null===Te||void 0===Te||null===(l=Te.selected_fields)||void 0===l?void 0:l.length)>0&&(null===Te||void 0===Te||null===(b=Te.selected_fields)||void 0===b?void 0:b.sort((function(e,n){return e.index-n.index})).map((function(e,n){var l,o,i,d=(0,t.Z)((0,t.Z)({},e),{},{visible:!(null===e||void 0===e||!e.visible)&&(!((null===Te||void 0===Te||null===(l=Te.options)||void 0===l||null===(o=l.left)||void 0===o||null===(i=o.find((function(n){return n===e.field_name})))||void 0===i?void 0:i.length)>0)&&e.visible)});return Wl(d,n)}))),Yl=(null===Te||void 0===Te||null===(S=Te.selected_fields)||void 0===S?void 0:S.length)>0&&(null===Te||void 0===Te||null===(ue=Te.selected_fields)||void 0===ue?void 0:ue.sort((function(e,n){return e.index-n.index})).map((function(e,n){var l,o,i,d=(0,t.Z)((0,t.Z)({},e),{},{visible:!!e.visible&&((null===Te||void 0===Te||null===(l=Te.options)||void 0===l||null===(o=l.left)||void 0===o||null===(i=o.find((function(n){return n===e.field_name})))||void 0===i?void 0:i.length)>0&&e.visible)});return Wl(d,n)})));return r.createElement("div",{id:null===Te||void 0===Te?void 0:Te.name,className:v.Z.emulatedFlexGap,style:{width:pe.tq?"100%":"",position:"relative",marginBottom:el}},(null===Te||void 0===Te?void 0:Te.selected_fields.filter((function(e){var n,l;return null===Te||void 0===Te||null===(n=Te.options)||void 0===n||null===(l=n.left)||void 0===l?void 0:l.find((function(n){return n===e.field_name}))})).length)>0?r.createElement("div",{style:{display:pe.tq?"block":"flex",width:"100%"}},r.createElement("div",{style:{width:pe.tq?"100%":"30%",overflow:"auto"}},Yl),r.createElement("div",{className:v.Z.emulatedFlexGap,style:{width:pe.tq?"100%":"80%",overflow:"auto"}},Bl)):Bl,(null===ul||void 0===ul||null===(me=ul.candidates)||void 0===me?void 0:me.length)>0&&r.createElement(c.Z,{width:"80%",fieldLabel:"Response",visible:!0},r.createElement("textarea",{className:v.Z.fullLengthTextarea,type:"text",onFocus:function(){},disabled:!0,value:null===ul||void 0===ul||null===(Me=ul.candidates[0])||void 0===Me||null===(Ne=Me.content.parts[0])||void 0===Ne?void 0:Ne.text})))}));function Se(e){return null!==e&&void 0!==e&&e.country_prefix?null===e||void 0===e?void 0:e.country_prefix:null!==e&&void 0!==e&&e.currency_value?(null===e||void 0===e?void 0:e.currency_value)+" ":""}var ke=function(e,n,l,o,i){var t,d,u,r=null===(u=(0,a.Z)(null!==(t=null===(d=i.currentStep)||void 0===d?void 0:d.component_blueprints)&&void 0!==t?t:[])[l])||void 0===u?void 0:u.selected_fields[o];switch(e){case"Link":!function(e){var n;try{n=new URL(e)}catch(l){return!1}return"http:"===n.protocol||"https:"===n.protocol}(n)?r.errors="This field should contain a link!":r.errors="";break;case"E-mail":case"Email":new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(n)?r.errors="":r.errors="This field should contain an valid email address!";break;case"Phone":new RegExp(/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/im).test(n)?r.errors="":r.errors="This field should contain an valid phone number!";break;case"Email Recipient":new RegExp(/^([a-z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*)(([, ]+[a-z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])\.([a-z0-9]([a-z0-9-]*[a-z0-9]))*)?)*$/).test(n)?r.errors="":r.errors="This field should contain an valid email address!"}},Ie=function(e){var n,l=e.options,o=e.field_id,i=e.index,t=e.indexInContextArray,d=e.value,s=e.checkIfAreMandatoryErrored,c=(0,r.useState)(),m=(0,u.Z)(c,2),f=m[0],_=m[1],y=(0,r.useState)(!1),h=(0,u.Z)(y,2),g=h[0],b=h[1],x=(0,C.pQ)(),E=(0,u.Z)(x,2),w=E[0],Z=E[1];return r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flex:"1 1",overflow:"hidden",border:"1px solid black",height:"36px"}},r.createElement("u",{onClick:function(){var e;null===(e=document.getElementById("file-change-".concat(o)))||void 0===e||e.click()},style:{cursor:"pointer",marginLeft:"20px",wordWrap:"break-word"}},null!==f&&void 0!==f&&f.name||d?(null===f||void 0===f?void 0:f.name)||d:"Click to upload file..."),r.createElement("input",{accept:"."+(null===l||void 0===l||null===(n=l.accepted_mimes)||void 0===n?void 0:n.replace(/,/g,",.")),type:"file",onChange:function(){return function(e){var n,l,d=document.getElementById("file-change-".concat(o)).files[0],u=((null===d||void 0===d?void 0:d.size)/1024/1024).toFixed(4),r=(e/1024).toFixed(4);b(!0);var v=(0,a.Z)(null!==(n=null===(l=w.currentStep)||void 0===l?void 0:l.component_blueprints)&&void 0!==n?n:[]);u>r?alert("File is too big!"):(0,p.kf)(d,o).subscribe({next:function(e){_(d),b(!1),v[t].selected_fields[i].value=null===e||void 0===e?void 0:e.file_url,v[t].selected_fields[i].value&&v[t].selected_fields[i].mandatory&&(v[t].selected_fields[i].errors=""),s(),Z({action:C._U.setComponentBlueprints,value:v}),Z({action:C._U.setModuleNewStepComponents,value:v})}})}(null===l||void 0===l?void 0:l.max_file_size)},style:{position:"absolute",visibility:"hidden",width:"0px"},id:"file-change-".concat(o),className:v.Z.fieldTypeInput}),g&&r.createElement(me.Z,{type:pe.G6?"Watch":"Puff",color:"#4A4A4A",secondaryColor:"gray",radius:22,height:22,width:"22px"}),(null===f||void 0===f?void 0:f.type)&&r.createElement(Ne,{fileType:null===f||void 0===f?void 0:f.type}))},Ne=function(e){return"application/pdf"===(null===e||void 0===e?void 0:e.fileType)?r.createElement("img",{alt:"",src:s.ed}):r.createElement("img",{alt:"",src:s.dm})}},63124:function(e,n,l){"use strict";l.d(n,{pz:function(){return nn},ZP:function(){return tn}});var o=l(87462),i=l(45987),t=l(4942),d=l(93433),a=l(1413),u=l(29439),r=l(67861),v=l(39518),s=l(11577),c=l(10103),p=l(65019),m=l(88550),f=l(88827),_=l(88374),y=l(10904),h=l(73500),g=l(6073),b=l(43984),x=l(23280),E=l(59401),C=l(85692),w=l(93389),Z=l(34710),M=l(49119),S=l(12308),k=l(41131),I=l(27436),N=l(63864),T=l(60534),P=l(63077),D=l(79492),A=l.n(D),O=l(89293),L=l(4358),z=l(1542),R=(l(83381),l(66918)),U=l(49523),F=l(25403),q=l(4292),W=l(9204),B=l(32086),Y=l(53431),H=l(68218),j=l(84634),V=l(35606),G=l(79544),J=l(98032),K=l(62169),Q=l(13397),X=l(88346),$=l(8284),ee=l(3616),ne=l(90421),le=l(7538),oe=l(77802),ie=l(97606),te=(l(67055),l(71901),l(50981)),de=l.n(te),ae=l(87424),ue=l(27658),re=l(52902),ve=l(12075),se=l(44408),ce=l(23910),pe=(l(56120),l(37704),l(72666),l(68623),l(3863),l(95361),l(46415)),me=(l(60940),{ProcessModuleContainer:"ProcessModule_ProcessModuleContainer__FsiP8",modalLabelHeader:"ProcessModule_modalLabelHeader__RSEXx",processStepHost:"ProcessModule_processStepHost__jnVYj",processModuleContainer:"ProcessModule_processModuleContainer__T-efO",renderComponentContainer:"ProcessModule_renderComponentContainer__MQMoJ",accordionModuleContainer:"ProcessModule_accordionModuleContainer__QQQn5",detailContainer:"ProcessModule_detailContainer__yrECc",leftCardMargin:"ProcessModule_leftCardMargin__+5cc+",centeredCardMargin:"ProcessModule_centeredCardMargin__8ns+o",centeredSpinner:"ProcessModule_centeredSpinner__T1+25",emptyElementsSection:"ProcessModule_emptyElementsSection__LP79x",stepCounter:"ProcessModule_stepCounter__BLQiH",clockIcon:"ProcessModule_clockIcon__Iq90d",stepTitle:"ProcessModule_stepTitle__92AhY",stepGuidanceSmaller:"ProcessModule_stepGuidanceSmaller__fbek+",stepTitleSmaller:"ProcessModule_stepTitleSmaller__o-RAS",stepGuidance:"ProcessModule_stepGuidance__VN9ID",inputContainer:"ProcessModule_inputContainer__ov5HE",selectInput:"ProcessModule_selectInput__gIlsq",multiselectWithSearch:"ProcessModule_multiselectWithSearch__HPDWF",smoMultiselectParent:"ProcessModule_smoMultiselectParent__XMpxu",selectMenuItem:"ProcessModule_selectMenuItem__D9YuM",inputClassName:"ProcessModule_inputClassName__FaizJ",toggleMenuInputButton:"ProcessModule_toggleMenuInputButton__u2LB6",goToNextStep:"ProcessModule_goToNextStep__5FEFk",nextStepsContainer:"ProcessModule_nextStepsContainer__0lDZ4",nextStepImageContainer:"ProcessModule_nextStepImageContainer__ESZoP",nextStepWrapper:"ProcessModule_nextStepWrapper__8aQAo",tasksTableHost:"ProcessModule_tasksTableHost__jF7kU",headerContainer:"ProcessModule_headerContainer__B9M39",content:"ProcessModule_content__TwxRx","react-grid-layout":"ProcessModule_react-grid-layout__kuSHy",layoutJSON:"ProcessModule_layoutJSON__swsUL",columns:"ProcessModule_columns__74Ypn","react-grid-item":"ProcessModule_react-grid-item__SV1zr","react-grid-placeholder":"ProcessModule_react-grid-placeholder__RsO19",resizing:"ProcessModule_resizing__lsJHw",static:"ProcessModule_static__fjtpd",text:"ProcessModule_text__JRaDx",minMax:"ProcessModule_minMax__n6Nqc",add:"ProcessModule_add__73-R8","react-grid-dragHandleExample":"ProcessModule_react-grid-dragHandleExample__ifaCX",cssTransforms:"ProcessModule_cssTransforms__Tj9J0","react-draggable-dragging":"ProcessModule_react-draggable-dragging__df7gg","react-resizable-handle":"ProcessModule_react-resizable-handle__HFiOI",singleButton:"ProcessModule_singleButton__VBAVx",menuRightButtons:"ProcessModule_menuRightButtons__YMGk1",menuButtons:"ProcessModule_menuButtons__t3peI",menuAccordionButtons:"ProcessModule_menuAccordionButtons__IwPeb",detailLabel:"ProcessModule_detailLabel__ujv54",subLabel:"ProcessModule_subLabel__ljjWe",modalHeaderTitle:"ProcessModule_modalHeaderTitle__20ZkP",p:"ProcessModule_p__fq5W3",itemsTable:"ProcessModule_itemsTable__Lhi8m",sharesTable:"ProcessModule_sharesTable__0LY0Q",peoplePositionsSelect:"ProcessModule_peoplePositionsSelect__3PUST",peoplePositionsSelectInput:"ProcessModule_peoplePositionsSelectInput__uW3vb",peoplePositionsSelectMenuOverlay:"ProcessModule_peoplePositionsSelectMenuOverlay__7WF9K",peoplePositionsSelectMenuOverlayItem:"ProcessModule_peoplePositionsSelectMenuOverlayItem__thx5T",deleteText:"ProcessModule_deleteText__LHcJR",deleteButton:"ProcessModule_deleteButton__Vd-mb",searchContainer:"ProcessModule_searchContainer__7U0ti",searchInput:"ProcessModule_searchInput__21v+N",emailInput:"ProcessModule_emailInput__OSseh",actionsContainer:"ProcessModule_actionsContainer__dN4VO",detailButton:"ProcessModule_detailButton__hsMZQ",detailButtonTitleContainer:"ProcessModule_detailButtonTitleContainer__9vGQV",fetchingLatestP:"ProcessModule_fetchingLatestP__w43Ah",modalTitle:"ProcessModule_modalTitle__ZzDzz",modalSubTitle:"ProcessModule_modalSubTitle__iCPup",dropdownSelectComponent:"ProcessModule_dropdownSelectComponent__fwabj",dropdownSelectComponentL:"ProcessModule_dropdownSelectComponentL__UjHu+",dropdownSelectOperation:"ProcessModule_dropdownSelectOperation__Z0sof",dropdownSelectReport:"ProcessModule_dropdownSelectReport__VhkMx",cardTitle:"ProcessModule_cardTitle__5UI1u",customButton:"ProcessModule_customButton__EmZ3f",fieldRowContainer:"ProcessModule_fieldRowContainer__w-2m5",templateInformation:"ProcessModule_templateInformation__diTyj",emulatedFlexGap:"ProcessModule_emulatedFlexGap__0zLFx",selectAndMultiselectHost:"ProcessModule_selectAndMultiselectHost__heH79",selectAndMultiselectHostTiles:"ProcessModule_selectAndMultiselectHostTiles__iC2AB",section:"ProcessModule_section__wECKG",accordionContainer:"ProcessModule_accordionContainer__ivI1e",active:"ProcessModule_active__krZBG",title:"ProcessModule_title__ePgXX",customTitleInput:"ProcessModule_customTitleInput__ONvpq",icon:"ProcessModule_icon__OW9E6",loaderContainer:"ProcessModule_loaderContainer__zN3G3",host:"ProcessModule_host__95lCJ",iconsContainer:"ProcessModule_iconsContainer__ktO+d",rotate:"ProcessModule_rotate__gwBr5",fieldTypeInput:"ProcessModule_fieldTypeInput__+x8RA",fieldMapInput:"ProcessModule_fieldMapInput__TyyrY",fieldTypeDate:"ProcessModule_fieldTypeDate__yjKi1",labelInput:"ProcessModule_labelInput__HMbSI",accordion:"ProcessModule_accordion__Er3uD",regularAccordion:"ProcessModule_regularAccordion__FpzQa",singleInputContainer:"ProcessModule_singleInputContainer__jGXcH",dateInputContainer:"ProcessModule_dateInputContainer__gXUmg",inputContainerClassName:"ProcessModule_inputContainerClassName__T8Rwy",phoneIInput:"ProcessModule_phoneIInput__DrOHj",currencySelectContainer:"ProcessModule_currencySelectContainer__w+Q8U",currencySymbol:"ProcessModule_currencySymbol__hnqlD",currencySelectComponent:"ProcessModule_currencySelectComponent__DiSZQ",currencySelectMenuOverlayList:"ProcessModule_currencySelectMenuOverlayList__eWmgR",currencySelectMenuOverlayListItem:"ProcessModule_currencySelectMenuOverlayListItem__HJNGm",currencySearchInput:"ProcessModule_currencySearchInput__QNuK3",currencyClearControlsClassName:"ProcessModule_currencyClearControlsClassName__cQ2JL",currencyInputContainerClassName:"ProcessModule_currencyInputContainerClassName__jjeME",currencyInput:"ProcessModule_currencyInput__ockL5",peopleContainer:"ProcessModule_peopleContainer__qhRGZ",peopleBooleansOptions:"ProcessModule_peopleBooleansOptions__1QKZY",peoplePositionSelectContainer:"ProcessModule_peoplePositionSelectContainer__Dek6h",unfocusableWrapper:"ProcessModule_unfocusableWrapper__lYnko",menuOverlayList:"ProcessModule_menuOverlayList__stXtG",menuOverlayListItem:"ProcessModule_menuOverlayListItem__q5Cp8",menuOverlayListItemInput:"ProcessModule_menuOverlayListItemInput__mGtmf",menuOverlayListItemInputContainerClassName:"ProcessModule_menuOverlayListItemInputContainerClassName__c2qiO",openSelectWithSearchHost:"ProcessModule_openSelectWithSearchHost__GVLkU",openSelectWithSearch:"ProcessModule_openSelectWithSearch__zQUZm",dropdownClassContainer:"ProcessModule_dropdownClassContainer__4rFl4",dropdownHeightClassContainer:"ProcessModule_dropdownHeightClassContainer__6Rqku",fieldTypeTextarea:"ProcessModule_fieldTypeTextarea__9rSMB",fullLengthTextarea:"ProcessModule_fullLengthTextarea__eYuTp",filtersContainer:"ProcessModule_filtersContainer__ZXr-v",filtersContainerII:"ProcessModule_filtersContainerII__7cIxb",customMenuOverlayListItemCheckboxCheckedMark:"ProcessModule_customMenuOverlayListItemCheckboxCheckedMark__vi6VV",customMenuOverlayListItemNormalCheckedMark:"ProcessModule_customMenuOverlayListItemNormalCheckedMark__U5+ho",checkbox:"ProcessModule_checkbox__iHQvz",listContainer:"ProcessModule_listContainer__gwweI",tableHostMobile:"ProcessModule_tableHostMobile__j-DPP",tableHostSimple:"ProcessModule_tableHostSimple__Vct0M",action:"ProcessModule_action__iCvd1",mobileTable_ii:"ProcessModule_mobileTable_ii__vrooR",centerDiv:"ProcessModule_centerDiv__DT2hU",calendar:"ProcessModule_calendar__dkHMo",multiselectComponent:"ProcessModule_multiselectComponent__nKtu7",multiselectComponentNoBorder:"ProcessModule_multiselectComponentNoBorder__E-5tg",infoTitle:"ProcessModule_infoTitle__ZuUto",mappopup:"ProcessModule_mappopup__jQF6G",popup:"ProcessModule_popup__UhrxE",ratingsDiv:"ProcessModule_ratingsDiv__CRzxP",slider:"ProcessModule_slider__Le7zs",ratingsInput:"ProcessModule_ratingsInput__TJzIX",swiperslide:"ProcessModule_swiperslide__rHvXl",dashboardCard:"ProcessModule_dashboardCard__8GAEl",buttonsContainer:"ProcessModule_buttonsContainer__IZ5YN"}),fe=l(58535),_e=l(9825),ye=l.n(_e),he=l(79633),ge=l(94667),be=l(47144),xe=l.n(be),Ee=l(75105),Ce=l(66180),we=l.n(Ce),Ze=l(29960),Me=l(13721),Se=l(20777),ke=l(91426),Ie=l(48630),Ne=l(32588),Te=(l(68140),l(27426)),Pe=l(51481),De=l(31266),Ae=l(84952),Oe=l(30519),Le=l(32562),ze=l(41757);e=l.hmd(e);var Re=l(456),Ue=["height","start","onClick"],Fe=["height","start","onClick"],qe=["height","start","onClick"],We=(0,r.memo)((function(e){var n,l,o,i,t,d,v,c=e.step,p=e.isMandatoryError,m=e.nextButtonClicked,f=e.setIsMandatoryError,_=e.begunModule,h=e.companyData,g=e.components,b=e.isEditing,x=e.companyUsersArray,E=e.products,C=e.selectedComponent,Z=e.goToNextStep,S=e.authenticatedUser,I=(e.setIsCompleted,e.companyPositionsArray),T=e.blueprints,P=e.allModules,D=e.editMode,A=e.isProcessorOnly,O=((0,M.WidthProvider)(M.Responsive),(0,r.useState)(null===(n=null===C||void 0===C?void 0:C.is_complete)||void 0===n||n)),L=((0,u.Z)(O,1)[0],[]),z=(null===c||void 0===c||null===(l=c.component_blueprints)||void 0===l?void 0:l.length)>0?null===c||void 0===c?void 0:c.component_blueprints.map((function(e,n){var l=e.selected_fields.find((function(e){return"Template"===e.data_type_name&&1==e.visible})),o=e.selected_fields.find((function(e){return"Video"===e.data_type_name&&1==e.visible}));return l?r.createElement("div",{key:n,style:{padding:"0px"}},r.createElement(k.ZP,{templateName:l.field_name,nextButtonClicked:m,isMandatoryError:p,blueprintIndex:n,setIsMandatoryError:f,component:e,companyData:h,components:g,products:E,selectedComponent:C})):e.selected_fields.filter((function(e){return 1==e.visible})).length>0?r.createElement("div",{key:n,className:me.renderComponentContainer},r.createElement(Ye,{editMode:D,nextButtonClicked:m,isMandatoryError:p,blueprintIndex:n,setIsMandatoryError:f,blueprints:T,component:e,companyData:h,components:g,allModules:P,products:E,authenticatedUser:S,selectedComponent:C,companyUsersArray:x,companyPositionsArray:I,begunModule:_,isProcessorOnly:A}),(null===C||void 0===C?void 0:C.id)&&(null===o||void 0===o?void 0:o.value)&&de()(null===o||void 0===o?void 0:o.value)<=(0,te.now)()&&(0,te.now)()<de()(null===o||void 0===o?void 0:o.value).add("minutes",10)&&r.createElement(Ye,{editMode:D,nextButtonClicked:m,isMandatoryError:p,blueprintIndex:n,setIsMandatoryError:f,blueprints:T,component:(0,a.Z)((0,a.Z)({},e),{},{name:"Video Call",selected_fields:[(0,a.Z)((0,a.Z)({},o),{},{options:(0,a.Z)((0,a.Z)({},o.options),{},{start:!0})})]}),companyData:h,components:g,allModules:P,products:E,authenticatedUser:S,selectedComponent:C,companyUsersArray:x,companyPositionsArray:I,begunModule:_,shouldDisplay:!0,isEnabled:!0})):r.createElement("div",{key:n,className:me.emptyElementsSection})})):r.createElement("div",{className:me.emptyElementsSection}),R=r.createElement(pe.mQ,{style:{width:"100%",marginTop:"50px",minHeight:"30vh"}},r.createElement(pe.td,null,null===c||void 0===c?void 0:c.component_blueprints.filter((function(e){return e.selected_fields.filter((function(n){var l,o;return 1==n.visible&&"Emails"!==n.data_type_name&&(void 0===(null===(l=e.options)||void 0===l?void 0:l.showOnly)||0==(null===(o=e.options)||void 0===o?void 0:o.showOnly.length)||S.positions.filter((function(n){var l,o;return null===(l=e.options)||void 0===l||null===(o=l.showOnly)||void 0===o?void 0:o.includes(n.id)})).length>0)})).length>0})).map((function(e,n){return r.createElement(pe.OK,{style:{fontSize:"16px",fontWeight:"lightest",fontFamily:"var(--app-text-font-mobile)"},key:n},e.name)}))),(null===c||void 0===c||null===(o=c.component_blueprints)||void 0===o?void 0:o.length)>0?null===c||void 0===c?void 0:c.component_blueprints.filter((function(e){return e.selected_fields.filter((function(n){var l,o;return 1==n.visible&&"Emails"!==n.data_type_name&&(void 0===(null===(l=e.options)||void 0===l?void 0:l.showOnly)||0==(null===(o=e.options)||void 0===o?void 0:o.showOnly.length)||S.positions.filter((function(n){var l,o;return null===(l=e.options)||void 0===l||null===(o=l.showOnly)||void 0===o?void 0:o.includes(n.id)})).length>0)})).length>0})).map((function(e,n){var l=e.selected_fields.find((function(e){return"Template"===e.data_type_name&&1==e.visible})),o=e.selected_fields.find((function(e){return"Video"===e.data_type_name&&1==e.visible}));return l?r.createElement(pe.x4,{key:n},r.createElement(k.ZP,{templateName:l.field_name,nextButtonClicked:m,isMandatoryError:p,blueprintIndex:n,setIsMandatoryError:f,component:e,companyData:h,components:g,products:E,selectedComponent:C,component_blueprint:e,editMode:D,blueprints:T,allModules:P,authenticatedUser:S,companyUsersArray:x,companyPositionsArray:I,begunModule:_})):e.selected_fields.filter((function(e){return 1==e.visible})).length>0?r.createElement(pe.x4,{key:n,style:{margin:"30px 0 0 0"}},r.createElement(Ye,{editMode:D,nextButtonClicked:m,isMandatoryError:p,blueprintIndex:n,setIsMandatoryError:f,blueprints:T,component:e,companyData:h,components:g,allModules:P,products:E,authenticatedUser:S,selectedComponent:C,companyUsersArray:x,companyPositionsArray:I,begunModule:_}),(null===C||void 0===C?void 0:C.id)&&(null===o||void 0===o?void 0:o.value)&&de()(null===o||void 0===o?void 0:o.value)<=(0,te.now)()&&(0,te.now)()<de()(null===o||void 0===o?void 0:o.value).add("minutes",10)&&r.createElement(Ye,{editMode:D,nextButtonClicked:m,isMandatoryError:p,blueprintIndex:n,setIsMandatoryError:f,blueprints:T,component:(0,a.Z)((0,a.Z)({},e),{},{name:"Video Call",selected_fields:[(0,a.Z)((0,a.Z)({},o),{},{options:(0,a.Z)((0,a.Z)({},o.options),{},{start:!0})})]}),companyData:h,components:g,allModules:P,products:E,authenticatedUser:S,selectedComponent:C,companyUsersArray:x,companyPositionsArray:I,begunModule:_,shouldDisplay:!0,isEnabled:!0})):r.createElement(pe.x4,null)})):r.createElement(pe.x4,null)),U=(0,r.useState)({currentBreakpoint:"lg",compactType:"vertical",mounted:!1,layouts:{lg:c.options.layout},editing:b}),F=(0,u.Z)(U,2),q=F[0],W=F[1];return r.createElement("div",{style:{width:"inherit"}},r.createElement(y.j3,{permissions:[y.po.processes.create]},r.createElement("button",{onClick:function(){L=q.layouts.lg.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{static:!1})})),W((0,a.Z)((0,a.Z)({},q),{},{layouts:{lg:L},editing:!q.editing}))},hidden:!q.editing},"Edit Layout"),r.createElement("button",{onClick:function(){var e=L.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{static:!0})}));(0,w.T5)({options:(0,a.Z)((0,a.Z)({},c.options),{},{layout:e})},c.id,!0).pipe((0,s.P)()).subscribe({next:function(n){W((0,a.Z)((0,a.Z)({},q),{},{layouts:{lg:e},editing:!q.editing}))},error:function(e){W((0,a.Z)((0,a.Z)({},q),{},{layouts:{lg:c.options.layout},editing:!q.editing}))}})},hidden:!q.editing},"Save Layout")),null!==c&&void 0!==c&&null!==(i=c.options)&&void 0!==i&&i.tabbed?R:z,(null===(t=_.processModule.module)||void 0===t?void 0:t.options.forSpecificUsers)&&(null===c||void 0===c?void 0:c.is_end)&&r.createElement("div",{style:{height:"100px"}}),(null===c||void 0===c||null===(d=c.pathway_steps)||void 0===d?void 0:d.length)>0&&function(){var e=c.pathway_steps.map((function(e){return{label:"".concat(e.name),value:e.id}})),n=x.map((function(e){return{label:"".concat(e.first_name," ").concat(e.last_name),value:e.id}}));return r.createElement("div",{className:me.emptyElementsSection,style:{width:"60%",padding:"20px 20px 20px 20px",height:"".concat(n.length*n.length>4?70:200,"px")}},r.createElement(N.Z,{visible:!0,mandatory:!1,items:e,onChange:function(e){Z(e)},placeholder:"Continue to this step..."}))}(),(null===c||void 0===c||null===(v=c.pathway_processes)||void 0===v?void 0:v.length)>0&&function(){var e=c.pathway_processes.map((function(e){return{label:"".concat(e.name),value:e.id}})),n=x.map((function(e){return{label:"".concat(e.first_name," ").concat(e.last_name),value:e.id}}));return r.createElement("div",{className:me.emptyElementsSection,style:{width:"60%",padding:"20px 20px 20px 20px",height:"".concat(n.length*n.length>4?70:200,"px")}},r.createElement(N.Z,{visible:!0,mandatory:!1,items:e,onChange:function(){},placeholder:"Continue to this process..."}))}(),e.children)})),Be=r.forwardRef((function(e,n){var l,o,i,v,s,c,p,m,f,_,y,g=e.begunModule,b=e.allModules,x=e.companyData,E=e.setSelectedComponent,C=e.selectedComponent,w=e.companyUsersArray,Z=e.companyPositionsArray,M=e.print,I=e.components,N=void 0===I?[]:I,T=(e.user,e.bypassCustom),P=void 0!==T&&T,D=e.goto,A=(0,r.useState)([]),O=(0,u.Z)(A,2),L=O[0],z=O[1],R=null===g||void 0===g||null===(l=g.processModule)||void 0===l||null===(o=l.completeSteps)||void 0===o?void 0:o.find((function(e){var n;return(null===(n=e.component_blueprints)||void 0===n?void 0:n.filter((function(e){return e.selected_fields.filter((function(e){return"Template"===e.data_type_name})).length>0})).length)>0&&0==P}));(0,r.useEffect)((function(){var l,o,i,t=[];if(H.Z(j.Z("group"))(null!==(l=null===C||void 0===C?void 0:C.component_fields)&&void 0!==l?l:[]).map((function(e){t=[].concat((0,d.Z)(t),[{id:e.component_blueprint_id,selected_fields:X.Z($.Z("group",e.group))(C.component_fields)}])})),(null===g||void 0===g||null===(o=g.processModule)||void 0===o||null===(i=o.completeSteps)||void 0===i?void 0:i.length)>0){var u=[r.createElement("div",{key:0,style:{display:null!==e&&void 0!==e&&e.noHeader?"none":""}},M&&r.createElement("p",{className:me.detailLabel},x.display_name)),R?r.createElement("div",{key:1}):U()];if(g.processModule.completeSteps.map((function(e){e.component_blueprints.filter((function(e){var n,l;return 0==(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.asModuleList)||void 0==(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.asModuleList)})).map((function(n,l){var o,i,v,s,c,p,m=null!==(o=null===C||void 0===C||null===(i=C.component_fields)||void 0===i?void 0:i.filter((function(e){return e.component_blueprint_id===n.id})))&&void 0!==o?o:[],f=!(null===m||void 0===m||!m.find((function(e){return!(""===e.value||void 0===e.value||null===e.value)})));(null===m||void 0===m?void 0:m.length)>0&&(null===(v=n.selected_fields)||void 0===v?void 0:v.filter((function(e){return 1==e.visible})).length)>0&&(null!==n.options?!1!==n.options.allowMultipleInputs&&void 0!==n.options.allowMultipleInputs&&null!==n.options.allowMultipleInputs||(u=[].concat((0,d.Z)(u),[r.createElement("div",{key:u.length,style:{display:f?"":"none"}},r.createElement(Qe,{step:e,isInherited:!1,nextButtonClicked:function(){},isMandatoryError:!1,stepId:e.id,blueprintIndex:l,setIsMandatoryError:function(){},component:(0,a.Z)((0,a.Z)({},n),{},{created_date:C.created_date,values:null!==(s=null===(c=t.find((function(e){return e.id===n.id})))||void 0===c?void 0:c.selected_fields)&&void 0!==s?s:[]}),begunModule:g,allModules:b,companyData:x,components:t,allComponents:N,companyUsersArray:w,status:null===C||void 0===C?void 0:C.status,selectedComponent:C}))])):u=[].concat((0,d.Z)(u),[r.createElement("div",{key:u.length},r.createElement(Qe,{step:e,isInherited:!1,nextButtonClicked:function(){},isMandatoryError:!1,stepId:e.id,blueprintIndex:l,setIsMandatoryError:function(){},component:(0,a.Z)((0,a.Z)({},n),{},{created_date:C.created_date,values:null===(p=t.find((function(e){return e.id===n.id})))||void 0===p?void 0:p.selected_fields}),begunModule:g,allModules:b,companyData:x,components:t,allComponents:N,companyUsersArray:w,status:null===C||void 0===C?void 0:C.status,selectedComponent:C}))]))}))})),R)return void z(r.createElement(k.C6,{ref:n,begunModule:g,allModules:b,companyData:x,components:N,selectedComponent:C,setSelectedComponent:E,companyUsersArray:w,companyPositionsArray:Z,goto:D},u,r.createElement(en,{component:C}),r.createElement($e,{component:C})));z([].concat((0,d.Z)(u),[r.createElement(en,{component:C,key:u.length+1}),r.createElement($e,{component:C,key:u.length+2})]))}}),[C]);var U=function(){var e,n,l,o,i,d,u,v,s,c,p,m,f,_,y,b,E=null===g||void 0===g||null===(e=g.processModule)||void 0===e||null===(n=e.completeSteps)||void 0===n?void 0:n.find((function(e){return e.component_blueprints.filter((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return"item_code"===(null===(n=e.options)||void 0===n?void 0:n.mapToItem)||"Transactions Field"===e.data_type_name||"Template"===e.data_type_name})).length)>0})).length>0})),w=null!==(l=null!==(o=null!==(i=null===E||void 0===E||null===(d=E.component_blueprints)||void 0===d?void 0:d.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return"item_code"===(null===(n=e.options)||void 0===n?void 0:n.mapToItem)})).length)>0})))&&void 0!==i?i:null===E||void 0===E||null===(u=E.component_blueprints)||void 0===u?void 0:u.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){return"Transactions Field"===e.data_type_name})).length)>0})))&&void 0!==o?o:null===E||void 0===E||null===(v=E.component_blueprints)||void 0===v?void 0:v.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){return"Template"===e.data_type_name})).length)>0})))&&void 0!==l?l:void 0,Z=w?null===(s=w.selected_fields)||void 0===s||null===(c=s.find((function(e){return"Template"===e.data_type_name})))||void 0===c?void 0:c.field_name:"",M=null===x||void 0===x||null===(p=x.misc_info)||void 0===p||null===(m=p.templatesData)||void 0===m?void 0:m.find((function(e){return e.name===Z})),k=M?(null===M||void 0===M||null===(f=M.tlist)||void 0===f?void 0:f.length)>0?null===M||void 0===M?void 0:M.tlist:null===(_=M.config)||void 0===_?void 0:_.filter((function(e){return"Text"===e.value||"Number"===e.value||"Connector"===e.value})):w?w.selected_fields.filter((function(e){var n,l,o;return 1==e.visible&&!(""===(null===(n=e.options)||void 0===n?void 0:n.mapToItem)||void 0==(null===(l=e.options)||void 0===l?void 0:l.mapToItem)||null==(null===(o=e.options)||void 0===o?void 0:o.mapToItem))})):[];return(null===C||void 0===C||null===(y=C.component_items)||void 0===y?void 0:y.length)>0&&r.createElement("div",{className:me.accordionContainer,style:{border:h.tq?"0":"",marginTop:"10px",padding:h.tq?"10px":"",backgroundColor:"var(--app-color-gray-lightest)"}},r.createElement(S.default,{modern:!0,className:me.listContainer,isReport:!1,"app-variant-is-mobile":"true",title:"Items",columns:k?k.map((function(e){return M?e.label:e.field_name})):["Product ID","Quantity","Price"],list:null===C||void 0===C||null===(b=C.component_items)||void 0===b?void 0:b.map((function(e){var n,l,o,i,d,u,v,s,c,p,m,f,_,y,h,g,b,x,E,C,w,Z,S,I,N,T,P,D,A;if((null===M||void 0===M||null===(n=M.tlist)||void 0===n?void 0:n.length)>0){var O={};return M.tlist.filter((function(n){O=(0,a.Z)((0,a.Z)({},O),{},(0,t.Z)({},null===n||void 0===n?void 0:n.label,e[null===n||void 0===n?void 0:n.key]))})),O}var L=e.item_code,z=e.quantity,R=null!==(l=e.alt_value)&&void 0!==l?l:0,U=null!==(o=e.value)&&void 0!==o?o:0,F=null!==(i=e.total)&&void 0!==i?i:0;return void 0!=M?(h={},(0,t.Z)(h,null!==(d=null===(u=M.config.find((function(e){return"item_code"===e.key})))||void 0===u?void 0:u.label)&&void 0!==d?d:"Item Code",r.createElement("div",{className:me.templateInformation},L)),(0,t.Z)(h,null!==(v=null===(s=M.config.find((function(e){return"value"===e.key})))||void 0===s?void 0:s.label)&&void 0!==v?v:"Price",r.createElement("div",{className:me.templateInformation},U)),(0,t.Z)(h,null!==(c=null===(p=M.config.find((function(e){return"total"===e.key})))||void 0===p?void 0:p.label)&&void 0!==c?c:"Total",r.createElement("div",{className:me.templateInformation},F)),(0,t.Z)(h,null!==(m=null===(f=M.config.find((function(e){return"quantity"===e.key})))||void 0===f?void 0:f.label)&&void 0!==m?m:"Quantity",r.createElement("div",{className:me.templateInformation},z)),(0,t.Z)(h,null!==(_=null===(y=M.config.find((function(e){return"alt_value"===e.key})))||void 0===y?void 0:y.label)&&void 0!==_?_:"Discount",r.createElement("div",{className:me.templateInformation},R)),(0,t.Z)(h,"id",e.id),h):null!==k&&void 0!==k&&k.find((function(e){var n,l,o,i,t;return"item_code"===(null===(n=e.options)||void 0===n?void 0:n.mapToItem)||"value"===(null===(l=e.options)||void 0===l?void 0:l.mapToItem)||"total"===(null===(o=e.options)||void 0===o?void 0:o.mapToItem)||"quantity"===(null===(i=e.options)||void 0===i?void 0:i.mapToItem)||"alt_value"===(null===(t=e.options)||void 0===t?void 0:t.mapToItem)}))?(D={},(0,t.Z)(D,null!==(g=null===(b=k.find((function(e){var n;return"item_code"===(null===(n=e.options)||void 0===n?void 0:n.mapToItem)})))||void 0===b?void 0:b.field_name)&&void 0!==g?g:"Product ID",r.createElement("div",{className:me.templateInformation},L)),(0,t.Z)(D,null!==(x=null===(E=k.find((function(e){var n;return"value"===(null===(n=e.options)||void 0===n?void 0:n.mapToItem)})))||void 0===E?void 0:E.field_name)&&void 0!==x?x:"Price",r.createElement("div",{className:me.templateInformation},U)),(0,t.Z)(D,null!==(C=null===(w=k.find((function(e){var n;return"total"===(null===(n=e.options)||void 0===n?void 0:n.mapToItem)})))||void 0===w?void 0:w.field_name)&&void 0!==C?C:"Total",r.createElement("div",{className:me.templateInformation},F)),(0,t.Z)(D,null!==(Z=null===(S=k.find((function(e){var n;return"quantity"===(null===(n=e.options)||void 0===n?void 0:n.mapToItem)})))||void 0===S?void 0:S.field_name)&&void 0!==Z?Z:"Quantity",r.createElement("div",{className:me.templateInformation},z)),(0,t.Z)(D,null!==(I=null===(N=k.find((function(e){var n;return"alt_value"===(null===(n=e.options)||void 0===n?void 0:n.mapToItem)})))||void 0===N?void 0:N.field_name)&&void 0!==I?I:"Discount",r.createElement("div",{className:me.templateInformation},R)),(0,t.Z)(D,null!==(T=null===(P=k.find((function(e){var n;return"alt_value"===(null===(n=e.options)||void 0===n?void 0:n.mapToItem)})))||void 0===P?void 0:P.field_name)&&void 0!==T?T:"Actual",r.createElement("div",{className:me.templateInformation},R)),(0,t.Z)(D,"id",e.id),D):(A={},(0,t.Z)(A,"Product ID",L),(0,t.Z)(A,"Quantity",z),(0,t.Z)(A,"Price",U),A)})),onListItemClick:function(e){}}))},F=r.createElement("div",{style:{display:h.tq?"none":""}},((null===C||void 0===C||null===(i=C.shared_users)||void 0===i?void 0:i.length)>0||(null===C||void 0===C||null===(v=C.shared_positions)||void 0===v?void 0:v.length)>0)&&r.createElement("div",{className:me.accordionContainer},r.createElement("p",{className:me.cardTitle},"Shares"),r.createElement("div",{style:{display:"flex"}},(null===C||void 0===C||null===(s=C.shared_positions)||void 0===s?void 0:s.length)>0&&r.createElement(S.default,{className:me.sharesTable,columns:["Position"],list:null===C||void 0===C||null===(c=C.shared_positions)||void 0===c?void 0:c.map((function(e){var n,l=Z.find((function(n){return n.value===e.id}));return(0,t.Z)({},"Position",null!==(n=null===l||void 0===l?void 0:l.label)&&void 0!==n?n:"")}))}),(null===C||void 0===C||null===(p=C.shared_users)||void 0===p?void 0:p.length)>0&&r.createElement(S.default,{className:me.sharesTable,columns:["User"],list:null===C||void 0===C||null===(m=C.shared_users)||void 0===m?void 0:m.map((function(e){var n=w.find((function(n){return n.id===e.id}));return(0,t.Z)({},"User","".concat(null===n||void 0===n?void 0:n.first_name," ").concat(null===n||void 0===n?void 0:n.last_name))}))}))));return r.createElement("div",{ref:n,style:{userSelect:"none",padding:M?"50px 120px 50px 100px":"50px 10px 10px 10px",alignSelf:"center",width:"100%"}},L,(null===g||void 0===g||null===(f=g.processModule)||void 0===f||null===(_=f.module)||void 0===_||null===(y=_.options)||void 0===y?void 0:y.forSpecificUsers)&&F)})),Ye=function(e){var n,l,o,i,t,v,s,c,p,f,_,g,b,x,E,w,Z,M,S,k,N,T,P,D=e.allModules,A=e.component,L=e.blueprintIndex,z=e.nextButtonClicked,R=e.setIsMandatoryError,U=e.companyUsersArray,F=e.companyData,q=e.components,W=e.products,Y=e.authenticatedUser,H=e.begunModule,j=e.blueprints,V=e.selectedComponent,G=e.companyPositionsArray,J=e.editMode,K=e.isProcessorOnly,Q=e.shouldDisplay,X=void 0===Q?(!1===(null===A||void 0===A||null===(n=A.options)||void 0===n?void 0:n.useCustomTemplate)||void 0===(null===A||void 0===A||null===(l=A.options)||void 0===l?void 0:l.useCustomTemplate))&&(void 0===(null===A||void 0===A||null===(o=A.options)||void 0===o?void 0:o.showOnly)||(!((null===A||void 0===A||null===(i=A.options)||void 0===i||null===(t=i.showOnly)||void 0===t?void 0:t.length)>0)||(null===A||void 0===A||null===(v=A.options)||void 0===v||null===(s=v.showOnly)||void 0===s?void 0:s.filter((function(e){var n;return(null===Y||void 0===Y||null===(n=Y.positions)||void 0===n?void 0:n.filter((function(n){return n.id===e})).length)>0})).length)>0)):Q,ee=e.isEnabled,ne=void 0===ee?void 0===(null===V||void 0===V?void 0:V.id)||((null===V||void 0===V||null===(c=V.created_by)||void 0===c?void 0:c.id)===Y.id||(void 0===(null===H||void 0===H||null===(p=H.processModule)||void 0===p||null===(f=p.module)||void 0===f||null===(_=f.options)||void 0===_?void 0:_.strict)||0==(null===H||void 0===H||null===(g=H.processModule)||void 0===g||null===(b=g.module)||void 0===b||null===(x=b.options)||void 0===x?void 0:x.strict)||void 0!==(null===A||void 0===A||null===(E=A.options)||void 0===E?void 0:E.showOnly)&&((null===A||void 0===A||null===(w=A.options)||void 0===w||null===(Z=w.showOnly)||void 0===Z?void 0:Z.length)>0&&(null===A||void 0===A||null===(M=A.options)||void 0===M||null===(S=M.showOnly)||void 0===S?void 0:S.filter((function(e){var n;return(null===Y||void 0===Y||null===(n=Y.positions)||void 0===n?void 0:n.filter((function(n){return n.id===e})).length)>0})).length)>0))):ee,le=(0,m.pQ)(),oe=(0,u.Z)(le,2),ie=oe[0],te=oe[1],ae=(0,r.useState)(me.active),ue=(0,u.Z)(ae,2),re=ue[0],ve=(ue[1],(0,r.useState)(!1)),se=(0,u.Z)(ve,2),ce=se[0],pe=se[1],fe=(0,r.useState)(""),_e=(0,u.Z)(fe,2),ye=_e[0],he=_e[1],ge=(0,r.useState)(de()()),be=(0,u.Z)(ge,2),Ee=be[0],Ce=be[1],we=(0,r.useRef)(null),Ze=null===(k=ie.currentStep)||void 0===k?void 0:k.component_blueprints.findIndex((function(e){return e.id===A.id}));(0,r.useEffect)((function(){Me()}),[z]),(0,r.useEffect)((function(){if(null!==A&&void 0!==A&&A.selected_fields.find((function(e){return"Clock"===e.data_type_name&&!0===e.visible}))){var e=setInterval((function(){Ce(de()())}),1e3);return function(){window.clearInterval(e)}}}),[]);var Me=function(){var e;null!==A&&void 0!==A&&null!==(e=A.selected_fields)&&void 0!==e&&e.some((function(e){var n;return!0===e.mandatory&&!0===e.visible&&(!e.value||(null===e||void 0===e||null===(n=e.value)||void 0===n?void 0:n.length)<1)}))?R(!0):R(!1)},ke=(0,r.useCallback)((function(){var e,n,l,o=(0,d.Z)(null!==(e=null===(n=ie.currentStep)||void 0===n?void 0:n.component_blueprints)&&void 0!==e?e:[]),i=null===(l=o[Ze])||void 0===l?void 0:l.selected_fields;Me(),o[Ze].selected_fields=null===i||void 0===i?void 0:i.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{errors:!0!==e.mandatory||e.value?"":"Field is mandatory"})})),te({action:m._U.setComponentBlueprints,value:o}),te({action:m._U.setModuleNewStepComponents,value:o})}),[ie.currentStep]),Ie=function(e,n){var l,o,i,t=(0,d.Z)(null!==(l=null===(o=ie.currentStep)||void 0===o?void 0:o.component_blueprints)&&void 0!==l?l:[]),a=null===(i=t[Ze])||void 0===i?void 0:i.selected_fields[n];"Number"===(null===a||void 0===a?void 0:a.data_type_name)?Number(+e)?a.value=e:""===e&&(a.value=""):null!==a&&void 0!==a&&a.data_type_name&&(a.value=e),null!==a&&void 0!==a&&a.value&&a.mandatory&&(a.errors=""),Me(),te({action:m._U.setComponentBlueprints,value:t}),te({action:m._U.setModuleNewStepComponents,value:t})},Ne=(0,r.useCallback)((function(e,n,l){var o,i,t,a=(0,d.Z)(null!==(o=null===(i=ie.currentStep)||void 0===i?void 0:i.component_blueprints)&&void 0!==o?o:[]),u=null===(t=a[Ze])||void 0===t?void 0:t.selected_fields[n];u.options.country_code=null===e||void 0===e?void 0:e.countryCode,u.options.country_name=null===e||void 0===e?void 0:e.name,u.options.country_prefix="+".concat(null===e||void 0===e?void 0:e.dialCode),te({action:m._U.setComponentBlueprints,value:a}),te({action:m._U.setModuleNewStepComponents,value:a}),Ie(l,n)}),[ie]),Te=(0,r.useCallback)((function(e,n){var l,o,i,t=(0,d.Z)(null!==(l=null===(o=ie.currentStep)||void 0===o?void 0:o.component_blueprints)&&void 0!==l?l:[]),a=null===(i=t[Ze])||void 0===i?void 0:i.selected_fields[n];a.options.currency_type=null===e||void 0===e?void 0:e.label,a.options.currency_value=null===e||void 0===e?void 0:e.value,a.options.symbol=null===e||void 0===e?void 0:e.symbol,te({action:m._U.setComponentBlueprints,value:t}),te({action:m._U.setModuleNewStepComponents,value:t})}),[ie]),Pe=A.selected_fields.filter((function(e){return"Transaction List"===e.data_type_name||"Step List"===e.data_type_name||"Pin"===e.data_type_name})).length>0;return r.createElement("div",{id:"accordion",className:me.accordionModuleContainer,key:L,style:{width:Pe?"100%":"",border:K&&ne?"4px solid var(--app-color-gray-lighter)":Pe?"0":"",boxShadow:h.tq?Pe?"0 var(--app-color-white-lightest)":"":1==(null===C.Nb||void 0===C.Nb||null===(N=C.Nb.options)||void 0===N?void 0:N.popup)?"0 var(--app-color-white-lightest)":"",display:X?"":"none",pointerEvents:ne?"":"none"}},r.createElement("div",{className:xe()(me.accordionContainer,re),"app-variant-has-error":ye?"error":"",style:{border:h.tq?"0":"",padding:h.tq?"0":"",margin:h.tq?"0":""}},r.createElement("div",{ref:we,style:{maxHeight:re===me.active?"":"0px",display:"flex"},className:me.content},r.createElement(Ve,{blueprints:j,component:A,selectedComponent:V,handleInputChange:Ie,handlePrefixChange:Ne,handleCurrencyChange:Te,checkIfAreMandatoryErrored:Me,handleCheckbox:function(e,n){var l,o,i,t=(0,d.Z)(null!==(l=null===(o=ie.currentStep)||void 0===o?void 0:o.component_blueprints)&&void 0!==l?l:[]),a=null===(i=t[Ze])||void 0===i?void 0:i.selected_fields[n];a&&(a.value=e,null!==a&&void 0!==a&&a.value&&a.mandatory&&(a.errors=""),te({action:m._U.setComponentBlueprints,value:t}),te({action:m._U.setModuleNewStepComponents,value:t}),Me())},isInherited:!1,indexInContextArray:Ze,handleLocationChange:function(e,n){var l,o,i,t=(0,d.Z)(null!==(l=null===(o=ie.currentStep)||void 0===o?void 0:o.component_blueprints)&&void 0!==l?l:[]);(null===(i=t[Ze])||void 0===i?void 0:i.selected_fields[n]).value="".concat(e.lat,", ").concat(e.lng),te({action:m._U.setComponentBlueprints,value:t}),te({action:m._U.setModuleNewStepComponents,value:t})},processTaskContext:ie,begunModule:H,setTaskProcessContext:te,companyData:F,companyUsersArray:U,companyPositionsArray:G,components:q,products:W,allModules:D,editMode:J,clock:Ee})),r.createElement("div",{style:{paddingLeft:"10px"}},r.createElement("div",{onClick:function(){var e;if(ke(),null===A||void 0===A||null===(e=A.selected_fields)||void 0===e||!e.some((function(e){var n;return!0===e.mandatory&&!0===e.visible&&(!e.value||(null===e||void 0===e||null===(n=e.value)||void 0===n?void 0:n.length)<1)}))){var n={},l=A.selected_fields.map((function(e){var l,o;if("Formula"===e.data_type_name){var i,t,d,u,r=(0,O.LV)(e.options,A.selected_fields.filter((function(n){return e.options.list.includes(n.field_name)})),ie.components,null!==(i=ie.items)&&void 0!==i?i:[],null!==(t=null===ie||void 0===ie?void 0:ie.newStepComponents)&&void 0!==t?t:[]);if(null!==e&&void 0!==e&&null!==(d=e.options)&&void 0!==d&&d.mapToItem)n[null===e||void 0===e||null===(u=e.options)||void 0===u?void 0:u.mapToItem]="".concat(r);return(0,a.Z)((0,a.Z)({},e),{},{value:"".concat(r)})}null!==e&&void 0!==e&&null!==(l=e.options)&&void 0!==l&&l.mapToItem&&(n[null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.mapToItem]="".concat(null===e||void 0===e?void 0:e.value));return e}));if(Object.keys(n).length>0){var o,i=null===(o=ie.items)||void 0===o?void 0:o.find((function(e){return e.item_code===n.item_code}));void 0===i?te({action:m._U.addModuleItems,value:(0,a.Z)((0,a.Z)({},n),{},{id:(0,O.mR)()})}):0==n.quantity?te({action:m._U.removeModuleItems,value:i}):te({action:m._U.updateModuleItems,value:(0,a.Z)((0,a.Z)({},i),n)})}else{var t=JSON.parse(JSON.stringify((0,a.Z)((0,a.Z)({},A),{},{temp_id:(0,O.mR)(),selected_fields:l})));te({action:m._U.addModuleComponents,value:t})}pe(!1),he(""),A.selected_fields.map((function(e,n){Ie("",n)})),te({action:m._U.setModuleNewStepComponents,value:(0,d.Z)(B.Z((function(e){return e.selected_fields.filter((function(e){return""===e.value})).length>0}),(0,d.Z)(B.Z($.Z("id",A.id))(ie.newStepComponents))))})}},className:me.iconsContainer,style:{display:null===(null===A||void 0===A?void 0:A.options)?"none":!0===(null===A||void 0===A||null===(T=A.options)||void 0===T?void 0:T.allowMultipleInputs)?"":"none"}},ce?r.createElement("div",{className:me.loaderContainer},r.createElement(Se.Z,{type:h.G6?"Watch":"Puff",color:"var(--app-color-gray-dark)",secondaryColor:"gray",radius:32,height:32,width:"32px"})):r.createElement(y.zx,{light:!0},r.createElement(C.mm,null))))),ye&&(null===ye||void 0===ye||null===(P=ye.errors)||void 0===P?void 0:P.title)&&r.createElement(I.Z,{message:ye.errors.title}),ye&&(null===ye||void 0===ye?void 0:ye.message)&&r.createElement(I.Z,{message:ye.message}))};function He(e){return null!==e&&void 0!==e&&e.country_prefix?null===e||void 0===e?void 0:e.country_prefix:null!==e&&void 0!==e&&e.currency_value?(null===e||void 0===e?void 0:e.currency_value)+" ":""}var je=function(e,n,l,o,i){var t,a,u,r=null===(u=(0,d.Z)(null!==(t=null===(a=i.currentStep)||void 0===a?void 0:a.component_blueprints)&&void 0!==t?t:[])[l])||void 0===u?void 0:u.selected_fields[o];switch(e){case"Link":!function(e){var n;try{n=new URL(e)}catch(l){return!1}return"http:"===n.protocol||"https:"===n.protocol}(n)?r.errors="This field should contain a link!":r.errors="";break;case"E-mail":case"Email":new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(n)?r.errors="":r.errors="This field should contain an valid email address!";break;case"Phone":new RegExp(/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/im).test(n)?r.errors="":r.errors="This field should contain an valid phone number!";break;case"Email Recipient":new RegExp(/^([a-z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*)(([, ]+[a-z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])\.([a-z0-9]([a-z0-9-]*[a-z0-9]))*)?)*$/).test(n)?r.errors="":r.errors="This field should contain an valid email address!"}},Ve=(0,r.memo)((function(e){var n,l,p,f,_,g=e.component,b=e.selectedComponent,x=e.handleInputChange,E=e.indexInContextArray,w=e.handleCheckbox,M=e.processTaskContext,k=e.setTaskProcessContext,I=e.isInherited,P=e.checkIfAreMandatoryErrored,D=e.handlePrefixChange,A=e.handleCurrencyChange,z=e.handleLocationChange,R=e.companyData,W=e.components,Y=e.begunModule,K=e.blueprints,X=e.companyUsersArray,$=e.companyPositionsArray,ie=e.allModules,ae=e.editMode,ue=e.clock,pe=(0,r.useState)(X.map((function(e){return{label:e.first_name+" "+e.last_name,value:e.id,user:e}}))),_e=(0,u.Z)(pe,2),be=_e[0],xe=_e[1],Ce=(0,v.v9)((function(e){return e.authReducer})),Se=Ce.authenticatedUser,ze=(0,v.v9)((function(e){return e.sessionReducer})),Re=ze.user,We=(0,v.v9)((function(e){return e.flowReducer})),Be=We.currentLocation,Ye=We.allTasks,Ve=(0,r.useState)(!1),Je=(0,u.Z)(Ve,2),Qe=Je[0],Xe=Je[1],$e=(0,r.useState)(new Date),en=(0,u.Z)($e,2),ln=en[0],on=en[1],tn=(0,r.useState)([new Date,new Date(de()().add(7,"days"))]),dn=(0,u.Z)(tn,2),an=dn[0],un=dn[1],rn=(0,u.Z)(an,2),vn=rn[0],sn=rn[1],cn=(0,r.useState)(""),pn=(0,u.Z)(cn,2),mn=pn[0],fn=pn[1],_n=(0,r.useState)([{label:"",value:""}]),yn=(0,u.Z)(_n,2),hn=yn[0],gn=yn[1],bn=(0,r.useState)(!0),xn=(0,u.Z)(bn,2),En=xn[0],Cn=xn[1],wn=(0,r.useState)(!0),Zn=(0,u.Z)(wn,2),Mn=Zn[0],Sn=Zn[1],kn=(0,r.useState)({source:!1,destination:!1}),In=(0,u.Z)(kn,2),Nn=In[0],Tn=In[1],Pn=(0,r.useState)("50px"),Dn=(0,u.Z)(Pn,2),An=Dn[0],On=Dn[1],Ln=(0,r.useState)(Array(12).fill("")),zn=(0,u.Z)(Ln,2),Rn=zn[0],Un=zn[1],Fn=(0,r.useState)({candidates:[]}),qn=(0,u.Z)(Fn,2),Wn=qn[0],Bn=qn[1],Yn=(0,r.useState)(!1),Hn=(0,u.Z)(Yn,2),jn=Hn[0],Vn=Hn[1],Gn=(0,r.useState)({}),Jn=(0,u.Z)(Gn,2),Kn=Jn[0],Qn=Jn[1],Xn=(0,r.useState)("day"),$n=(0,u.Z)(Xn,2),el=$n[0],nl=$n[1],ll=(0,r.useState)({}),ol=(0,u.Z)(ll,2),il=ol[0],tl=ol[1],dl=((0,r.useRef)(),(0,r.useState)(!1)),al=(0,u.Z)(dl,2),ul=al[0],rl=al[1],vl=function(){rl(!ul)},sl=function(e,n){un(e),x(e,n)},cl=function(e,n){on(e),x(e,n)},pl=(0,r.useCallback)((function(e){void 0!==e&&(0==be.length?Xe(!0):Xe(!1),(0,Ee.n0)(e).pipe((0,s.P)()).subscribe({next:function(e){xe(e),Xe(!1)}}))}),[]),ml=(0,r.useCallback)((function(){0==$.length?Xe(!0):Xe(!1),(0,Z.hj)().pipe((0,s.P)(1)).subscribe({})}),[]),fl=(0,r.useCallback)((function(e){var n;if(0!=(null===e||void 0===e||null===(n=e.analyze)||void 0===n?void 0:n.length)&&void 0!=(null===e||void 0===e?void 0:e.analyze)){var l={role:"user",parts:[{text:e.analyze}]};1==(null===e||void 0===e?void 0:e.current)?l.parts=[].concat((0,d.Z)(l.parts),[{text:JSON.stringify({table:"Transaction",data:(0,a.Z)((0,a.Z)((0,a.Z)({},M.components.map((function(e){var n={};return e.selected_fields.filter((function(e){return n=(0,a.Z)((0,a.Z)({},n),{},(0,t.Z)({},e.field_name,e.value))})),n}))),M.newStepComponents.map((function(e){var n={};return e.selected_fields.filter((function(e){return n=(0,a.Z)((0,a.Z)({},n),{},(0,t.Z)({},e.field_name,e.value))})),n}))),{},{items:M.items.map((function(e){return{item:e.item_code,quantity:+e.quantity,value:e.value}}))})})}]):(void 0!==e.module_id&&(l.parts=[].concat((0,d.Z)(l.parts),[{text:JSON.stringify({table:ie.find((function(n){return n.id===e.module_id})).name,data:W.filter((function(n){return n.module_id===e.module_id})).map((function(e){var n,l={};return e.component_fields.filter((function(e){return l=(0,a.Z)((0,a.Z)({},l),{},(0,t.Z)({},e.field_name,e.value))})),(0,a.Z)((0,a.Z)({},l),{},{created_date:e.created_date,created_by:null===(n=e.created_by)||void 0===n?void 0:n.id,items:null===e||void 0===e?void 0:e.component_items.map((function(e){return{item:e.item_code,quantity:+e.quantity,value:e.value}}))})}))})}])),void 0!==e.module2_id&&(l.parts=[].concat((0,d.Z)(l.parts),[{text:JSON.stringify({table:ie.find((function(n){return n.id===e.module2_id})).name,data:W.filter((function(n){return n.module_id===e.module2_id})).map((function(e){var n,l={};return e.component_fields.filter((function(e){return l=(0,a.Z)((0,a.Z)({},l),{},(0,t.Z)({},e.field_name,e.value))})),(0,a.Z)((0,a.Z)({},l),{},{created_date:e.created_date,created_by:null===(n=e.created_by)||void 0===n?void 0:n.id,items:null===e||void 0===e?void 0:e.component_items.map((function(e){return{item:e.item_code,quantity:+e.quantity,value:e.value}}))})}))})}])),void 0!==e.module3_id&&(l.parts=[].concat((0,d.Z)(l.parts),[{text:JSON.stringify({table:ie.find((function(n){return n.id===e.module3_id})).name,data:W.filter((function(n){return n.module_id===e.module3_id})).map((function(e){var n,l={};return e.component_fields.filter((function(e){return l=(0,a.Z)((0,a.Z)({},l),{},(0,t.Z)({},e.field_name,e.value))})),(0,a.Z)((0,a.Z)({},l),{},{created_date:e.created_date,created_by:null===(n=e.created_by)||void 0===n?void 0:n.id,items:null===e||void 0===e?void 0:e.component_items.map((function(e){return{item:e.item_code,quantity:+e.quantity,value:e.value}}))})}))})}]))),Bn({candidates:[]}),Xe(!0),(0,ge.hd)(JSON.stringify(l)).pipe((0,s.P)()).subscribe({next:function(e){Xe(!1),Bn(e)},error:function(e){Bn({candidates:[{content:{parts:[{text:JSON.stringify(e)}]}}]}),Xe(!1)}})}else Bn({candidates:[{content:{parts:[{text:"Enter a question that I could answer"}]}}]})}),[]),_l=function(e){var n=e.field_name;return g.selected_fields.findIndex((function(e){return e.field_name===n}))},yl=function(e){var n=g.selected_fields.filter((function(e){return"Info"===e.data_type_name})),l=W.find((function(n){return n.id===e}));n.map((function(n){var o;null===n||void 0===n||null===(o=n.options)||void 0===o||o.list.map((function(o){var i,t,d=null===(i=l.component_fields)||void 0===i?void 0:i.find((function(e){return e.field_name===o})),a=_l({field_name:o});-1!=a&&(null===(t=l.component_fields)||void 0===t?void 0:t.length)>0&&(g.selected_fields[a].value=d?d.value:"",n.value=e)}))})),g.selected_fields.filter((function(e){return"Global"===e.data_type_name&&1==e.visible})).map((function(e){var n,o,i=null===(n=l.component_fields)||void 0===n?void 0:n.find((function(n){return n.field_name===e.field_name})),t=_l({field_name:e.field_name});-1!=t&&(null===(o=l.component_fields)||void 0===o?void 0:o.length)>0&&i&&(g.selected_fields[t].value=null===i||void 0===i?void 0:i.value)}))},hl=function(e){var n,l,o,i,t,d,a,u=null===(n=Y.processModule.module)||void 0===n||null===(l=n.options)||void 0===l?void 0:l.global;u||(u=null===(o=M.components.find((function(n){return n.selected_fields.filter((function(n){var l,o;return"Global"===n.data_type_name&&1==n.visible&&n.field_name===(null===(l=g.selected_fields.find((function(n){return n.data_type_name===e&&1==n.visible})))||void 0===l||null===(o=l.options)||void 0===o?void 0:o.global)})).length>0})))||void 0===o||null===(i=o.selected_fields.find((function(e){return"Global"===e.data_type_name})))||void 0===i?void 0:i.value);u||(u=null===(t=U.Z(F.Z("component_blueprints"),q.Z)(Y.processModule.completeSteps).find((function(n){return n.selected_fields.filter((function(n){var l,o;return n.field_name===(null===(l=g.selected_fields.find((function(n){return n.data_type_name===e&&1==n.visible})))||void 0===l||null===(o=l.options)||void 0===o?void 0:o.global)&&"Value"===n.data_type_name})).length>0})))||void 0===t||null===(d=t.selected_fields.find((function(e){return"Value"===e.data_type_name})))||void 0===d||null===(a=d.options)||void 0===a?void 0:a.value);return u?W.filter((function(n){return n.component_fields.filter((function(n){var l,o;return n.value===u&&n.field_name===(null===(l=g.selected_fields.find((function(n){return n.data_type_name===e})))||void 0===l||null===(o=l.options)||void 0===o?void 0:o.global)})).length>0})):W},gl=function(e){var n,l,o,i,u,v,s,c,p,m,f,_,h,b,C,Z,S,k,T,D,A,L,z,U,F,q,Y,H,j,V,G,J,K,Q,X,$,ee,ne,le,oe,ie,ae,ue,se,ce,pe,fe,_e,he,ge,xe,Ee,Ce,we,Ze,Me,Se,ke,Ie=e.field,Ne=(e.enabled,e.index),Te=e.isItem,Pe=void 0!==Te&&Te,De=e.handleItem,Ae=(e.withLabel,e.edit),Oe=void 0===Ae||Ae,Le=e.item;if("Dropdown"===(null===Ie||void 0===Ie?void 0:Ie.data_type_name)&&(null===Ie||void 0===Ie||null===(n=Ie.options)||void 0===n||null===(l=n.list)||void 0===l?void 0:l.length)>0)return Oe?r.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-light)"}},r.createElement(N.Z,{key:Ne,visible:Ie.visible,mandatory:Ie.mandatory,items:null===Ie||void 0===Ie||null===(z=Ie.options)||void 0===z?void 0:z.list.map((function(e){return{label:e,value:e}})),className:me.dropdownClassContainer,error:Ie.errors,onChange:function(e){Pe?De(e,Ne):w(e,Ne)},selectionType:null===Ie||void 0===Ie||null===(U=Ie.options)||void 0===U?void 0:U.type,fieldIcon:Ie.icon,backgroundColor:null!==Ie&&void 0!==Ie&&null!==(F=Ie.options)&&void 0!==F&&F.valueC&&null!==Ie&&void 0!==Ie&&Ie.value?null===Ie||void 0===Ie||null===(q=Ie.options)||void 0===q?void 0:q.valueC:"",value:void 0===Ie.value||null===Ie.value?"":Ie.value})):r.createElement("div",null,null===Ie||void 0===Ie?void 0:Ie.value);if("Formula"===(null===Ie||void 0===Ie?void 0:Ie.data_type_name)&&(null===Ie||void 0===Ie||null===(o=Ie.options)||void 0===o||null===(i=o.operator)||void 0===i?void 0:i.length)>0){var ze,Re,Ue,Fe,qe,We=M.newStepComponents.filter((function(e){return null===e.options||(void 0===e.allowMultipleInputs||!1===e.options.allowMultipleInputs)})),Be=(0,O.LV)(null===Ie||void 0===Ie?void 0:Ie.options,g.selected_fields.filter((function(e){return Ie.options.list.includes(e.field_name)&&!e.options.mapToItem})),[].concat((0,d.Z)(M.components.filter((function(e){return We.every((function(n){return n.id!==e.id}))}))),(0,d.Z)(B.Z((function(e){return e.selected_fields.filter((function(e){return""===e.value})).length>0}),We))),null!==(ze=null===M||void 0===M?void 0:M.items)&&void 0!==ze?ze:[],null!==(Re=null===M||void 0===M?void 0:M.newStepComponents)&&void 0!==Re?Re:[]);return void 0!==Be&&(Ie.value=Be),"bar"===(null===Ie||void 0===Ie||null===(Ue=Ie.options)||void 0===Ue?void 0:Ue.display)?r.createElement("div",{style:{margin:"20px",display:"flex",height:"30px",width:"100%"}},r.createElement("label",{className:me.fieldTypeInput,style:{width:"20%"}},null===Ie||void 0===Ie?void 0:Ie.field_name),r.createElement("div",{style:{height:"30px",width:"100%",backgroundColor:null===Ie||void 0===Ie||null===(Fe=Ie.options)||void 0===Fe?void 0:Fe.maxC,display:"flex",flexDirection:"column"}},r.createElement("input",{value:Be||0,className:me.fieldTypeInput,name:Ie.field_name,disabled:!0,style:{color:"transparent",height:"30px",width:"".concat(+Be/+Ie.options.max*100,"%"),backgroundColor:null===Ie||void 0===Ie||null===(qe=Ie.options)||void 0===qe?void 0:qe.barC}}))):r.createElement("input",{value:Be||0,className:me.fieldTypeInput,name:Ie.field_name,disabled:!0,style:{border:Oe?"1px solid var(--app-color-gray-light)":"0px"}})}if("Item Formula"===(null===Ie||void 0===Ie?void 0:Ie.data_type_name)&&(null===Ie||void 0===Ie||null===(u=Ie.options)||void 0===u||null===(v=u.operator)||void 0===v?void 0:v.length)>0){var Ye,je,Ve,Je=(0,O.LV)(null===Ie||void 0===Ie?void 0:Ie.options,g.selected_fields.filter((function(e){return Ie.options.list.includes(e.field_name)&&e.options.mapToItem})),[],[],Le,!0);if(void 0!==Je){var Ke,Xe,$e=g.selected_fields.find((function(e){return"Transaction List"===e.data_type_name&&e.options.simple}));Le[null===(Ke=Ie.options)||void 0===Ke?void 0:Ke.mapToItem]=$e?JSON.stringify((0,a.Z)((0,a.Z)({},Le[null===(Xe=Ie.options)||void 0===Xe?void 0:Xe.mapToItem]),{},(0,t.Z)({},null===Ie||void 0===Ie?void 0:Ie.field_name,Je))):Je}return"bar"===(null===Ie||void 0===Ie||null===(Ye=Ie.options)||void 0===Ye?void 0:Ye.display)?r.createElement("div",{style:{margin:"20px",display:"flex",height:"30px",width:"100%"}},r.createElement("label",{className:me.fieldTypeInput,style:{width:"20%"}},null===Ie||void 0===Ie?void 0:Ie.field_name),r.createElement("div",{style:{height:"30px",width:"100%",backgroundColor:null===Ie||void 0===Ie||null===(je=Ie.options)||void 0===je?void 0:je.maxC,display:"flex",flexDirection:"column"}},r.createElement("input",{value:Je||0,className:me.fieldTypeInput,name:Ie.field_name,disabled:!0,style:{color:"transparent",height:"30px",width:"".concat(+Je/+Ie.options.max*100,"%"),backgroundColor:null===Ie||void 0===Ie||null===(Ve=Ie.options)||void 0===Ve?void 0:Ve.barC}}))):r.createElement("input",{value:Je||0,className:me.fieldTypeInput,name:Ie.field_name,disabled:!0,style:{border:Oe?"1px solid var(--app-color-gray-light)":"0px"}})}if("Record"===(null===Ie||void 0===Ie?void 0:Ie.data_type_name)&&(null===Ie||void 0===Ie||null===(s=Ie.options)||void 0===s||null===(c=s.component_id)||void 0===c?void 0:c.length)>0){var en,nn,on,tn,dn,an,un,rn,cn,pn,mn,fn,_n=(null!==Ie&&void 0!==Ie&&null!==(en=Ie.options)&&void 0!==en&&en.global?hl(null===Ie||void 0===Ie?void 0:Ie.data_type_name):W).filter((function(e){var n;return e.component_fields.filter((function(e){var n;return e.component_blueprint_id===(null===Ie||void 0===Ie||null===(n=Ie.options)||void 0===n?void 0:n.component_id)})).length>0||e.module_id===(null===Ie||void 0===Ie||null===(n=Ie.options)||void 0===n?void 0:n.module_id)})).map((function(e){var n,l,o,i,d="";return null===Ie||void 0===Ie||null===(n=Ie.options)||void 0===n||null===(l=n.names)||void 0===l||l.map((function(n){var l,o;return d=""===d?null===(l=e.component_fields.find((function(e){return e.field_name===n})))||void 0===l?void 0:l.value:"".concat(d," ").concat(null===(o=e.component_fields.find((function(e){return e.field_name===n})))||void 0===o?void 0:o.value)})),(0,t.Z)({label:""===d?e.title:d,value:e.id,component:e},null===Ie||void 0===Ie||null===(o=Ie.options)||void 0===o?void 0:o.output,null===(i=e.component_fields.find((function(e){var n;return e.field_name===(null===Ie||void 0===Ie||null===(n=Ie.options)||void 0===n?void 0:n.output)})))||void 0===i?void 0:i.value)}));if(_n.length>0)if(Ie.value){if(fn=null===_n||void 0===_n?void 0:_n.find((function(e){var n;return e[null===Ie||void 0===Ie||null===(n=Ie.options)||void 0===n?void 0:n.output]===Ie.value}))){var yn,hn;yl(fn.value);var gn=(0,d.Z)(null!==(yn=null===(hn=M.currentStep)||void 0===hn?void 0:hn.component_blueprints)&&void 0!==yn?yn:[]);gn&&(M.newStepComponents=gn)}}else if(1==_n.length&&1==(null===Ie||void 0===Ie?void 0:Ie.mandatory)&&(fn=_n[0])){var bn,xn;yl(fn.value);var En=(0,d.Z)(null!==(bn=null===(xn=M.currentStep)||void 0===xn?void 0:xn.component_blueprints)&&void 0!==bn?bn:[]);En&&(M.newStepComponents=En)}return Oe?r.createElement("div",{style:{width:"inherit",border:"1px solid gray",minWidth:"300px"}},r.createElement(N.Z,{key:Ne,visible:null===Ie||void 0===Ie?void 0:Ie.visible,mandatory:null===Ie||void 0===Ie?void 0:Ie.mandatory,items:_n,loading:Qe,error:"",className:me.dropdownClassContainer,onChange:function(e){var n,l,o,i,t,d;e&&(null===Ie||void 0===Ie||null===(t=Ie.options)||void 0===t||null===(d=t.list)||void 0===d||d.map((function(n){var l,o,i=_l({field_name:n});-1!=i&&(g.selected_fields[i].value=null!==(l=null===(o=_n.find((function(n){return n.value===e})).component.component_fields.find((function(e){return e.field_name===n})))||void 0===o?void 0:o.value)&&void 0!==l?l:"",g.selected_fields[i].disabled=!0)})));R.start=!0,yl(e),Pe?De(null!==(n=null===_n||void 0===_n?void 0:_n.find((function(n){return n.value===e}))[null===Ie||void 0===Ie||null===(l=Ie.options)||void 0===l?void 0:l.output])&&void 0!==n?n:null,Ne):w(null!==(o=null===_n||void 0===_n?void 0:_n.find((function(n){return n.value===e}))[null===Ie||void 0===Ie||null===(i=Ie.options)||void 0===i?void 0:i.output])&&void 0!==o?o:null,Ne)},selectionType:(null===Ie||void 0===Ie||null===(nn=Ie.options)||void 0===nn?void 0:nn.selection.length)>0?null===Ie||void 0===Ie||null===(on=Ie.options)||void 0===on?void 0:on.selection:null===Ie||void 0===Ie||null===(tn=Ie.options)||void 0===tn?void 0:tn.type,backgroundColor:null!==Ie&&void 0!==Ie&&null!==(dn=Ie.options)&&void 0!==dn&&dn.valueC&&null!==Ie&&void 0!==Ie&&Ie.value?null===Ie||void 0===Ie||null===(an=Ie.options)||void 0===an?void 0:an.valueC:"",value:null!==(un=null===(rn=fn)||void 0===rn?void 0:rn.label)&&void 0!==un?un:""})):r.createElement("div",{style:{backgroundColor:null!==Ie&&void 0!==Ie&&null!==(cn=Ie.options)&&void 0!==cn&&cn.valueC?null===Ie||void 0===Ie||null===(pn=Ie.options)||void 0===pn?void 0:pn.valueC:""}},null===(mn=fn)||void 0===mn?void 0:mn.label)}if("People"===(null===Ie||void 0===Ie?void 0:Ie.data_type_name)&&(null===Ie||void 0===Ie||null===(p=Ie.options)||void 0===p||null===(m=p.position_id)||void 0===m?void 0:m.length)>0){var Cn,wn,Zn,Mn,Sn,kn,In=be.find((function(e){return e.label===(null===Ie||void 0===Ie?void 0:Ie.value)}));return r.createElement("div",{style:{display:"flex",justifyContent:"center"}},(Oe||!In)&&r.createElement("div",{style:{width:"300px",border:"1px solid var(--app-color-gray-light)",height:"38px"}},r.createElement(N.Z,{onFocus:function(){var e;return 0==be.length&&pl(null===Ie||void 0===Ie||null===(e=Ie.options)||void 0===e?void 0:e.position_id)},visible:!0,mandatory:null===Ie||void 0===Ie?void 0:Ie.mandatory,className:me.dropdownClassContainer,items:be.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.user)||void 0===n||null===(l=n.positions)||void 0===l?void 0:l.filter((function(e){var n,l;return null===Ie||void 0===Ie||null===(n=Ie.options)||void 0===n||null===(l=n.position_id)||void 0===l?void 0:l.includes(null===e||void 0===e?void 0:e.id)})).length)>0})),value:"single"===(null===Ie||void 0===Ie||null===(Cn=Ie.options)||void 0===Cn?void 0:Cn.type)?null===(wn=be.find((function(e){var n,l;return e.label===(null!==Ie&&void 0!==Ie&&null!==(n=Ie.options)&&void 0!==n&&n.mapToItem?null===Ie||void 0===Ie?void 0:Ie.value:null===(l=g.selected_fields[Ne])||void 0===l?void 0:l.value)})))||void 0===wn?void 0:wn.label:null!==Ie&&void 0!==Ie&&null!==(Zn=Ie.options)&&void 0!==Zn&&Zn.mapToItem?null===Ie||void 0===Ie?void 0:Ie.value:null===(Mn=g.selected_fields[Ne])||void 0===Mn?void 0:Mn.value,loading:Qe,error:null===Ie||void 0===Ie?void 0:Ie.errors,onChange:function(e){var n;if("single"===(null===Ie||void 0===Ie||null===(n=Ie.options)||void 0===n?void 0:n.type)){var l=be.find((function(n){return n.value===e}));Pe?De(null===l||void 0===l?void 0:l.label,Ne):w(null===l||void 0===l?void 0:l.label,Ne)}else Pe?De(e,Ne):w(e,Ne)},selectionType:null===Ie||void 0===Ie||null===(Sn=Ie.options)||void 0===Sn?void 0:Sn.type,fieldIcon:null===Ie||void 0===Ie?void 0:Ie.icon})),In&&r.createElement("div",{className:me.avatarContentContainer},r.createElement("img",{alt:"lg",src:null===In||void 0===In||null===(kn=In.user)||void 0===kn?void 0:kn.photo,className:me.avatarUrlImg})))}return"file"===Ie.data_type?r.createElement(Ge,{field_id:Ie.id,value:null===Ie||void 0===Ie?void 0:Ie.value,isInherited:I,checkIfAreMandatoryErrored:P,options:null===Ie||void 0===Ie?void 0:Ie.options,index:Ne,indexInContextArray:E}):"date"===Ie.data_type||null!==Ie&&void 0!==Ie&&null!==(f=Ie.options)&&void 0!==f&&f.country_code||null!==Ie&&void 0!==Ie&&null!==(_=Ie.options)&&void 0!==_&&_.currency_type||"Number"===Ie.data_type_name?Oe||"bar"===(null===Ie||void 0===Ie||null===(Y=Ie.options)||void 0===Y?void 0:Y.display)?r.createElement("div",{className:me.fieldTypeInput,style:{paddingLeft:Oe?"":"0px",border:Oe?"1px solid var(--app-color-gray-light)":"none",height:"auto"}},"date"===Ie.data_type?"Range"===(null===Ie||void 0===Ie||null===(H=Ie.options)||void 0===H?void 0:H.type)?r.createElement(y.$m,{inputContainerClassName:me.inputContainerClassName,dateChangeHandler:function(e){return sl(e,Ne)},startDate:vn,endDate:sn}):null!==Ie&&void 0!==Ie&&null!==(j=Ie.options)&&void 0!==j&&j.time?r.createElement("div",{style:{width:"100%",height:"auto",border:"0"}},r.createElement(ye(),{showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,customInput:r.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",padding:"5px",border:"0px solid var(--app-color-gray-lighter)"}},r.createElement("input",{value:null!==Ie&&void 0!==Ie&&Ie.value?de()(null===Ie||void 0===Ie?void 0:Ie.value).format("DD MMMM YYYY HH:mm"):"",disabled:!0,type:"text",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",fontFamily:"var(--app-text-font-mobile)",fontSize:"16px",lineHeight:"20px",color:"#4A4A4A",textAlign:"left",maxWidth:"98%",border:"0px",backgroundColor:null!==Ie&&void 0!==Ie&&null!==(V=Ie.options)&&void 0!==V&&V.valueC?null===Ie||void 0===Ie||null===(G=Ie.options)||void 0===G?void 0:G.valueC:"",minWidth:"240px"},onChange:function(e){}}),r.createElement(ve.G,{icon:re.WRo,style:{marginLeft:"10px",width:"14px",height:"14px"}})),className:me.singleInputContainer,selected:null!==Ie&&void 0!==Ie&&Ie.value?new Date(de()(null===Ie||void 0===Ie?void 0:Ie.value)):(0,te.now)(),onChange:function(e){e>(0,te.now)()&&(Pe?De(e,Ne):cl(e,Ne))}})):r.createElement(y.X9,{value:null!==Ie&&void 0!==Ie&&Ie.value?de()(new Date(null===Ie||void 0===Ie?void 0:Ie.value)).format("Do MMMM YYYY"):"",dateChangeHandler:function(e){Pe?De(e,Ne):cl(e,Ne)},selected:new Date(de()(ln,"YYYY-MM-DD")),iconClassName:me.calendar,inputContainerClassName:me.singleInputContainer,inputStyle:{textAlign:"left",border:"none",fontSize:"16px",margin:"10px 0 10px"},hasCalendarIcon:!0}):Oe&&r.createElement("input",{type:Ie.data_type,onBlur:function(e){Pe?De(e.target.value,Ne):x(e.target.value,Ne)},id:Ie.field_name,autoComplete:"none",defaultValue:null===Ie||void 0===Ie?void 0:Ie.value,placeholder:"Number"===(null===Ie||void 0===Ie?void 0:Ie.data_type_name)?"0":"",className:me.fieldTypeInput,name:Ie.field_name,style:{height:"33px",backgroundColor:null!==Ie&&void 0!==Ie&&null!==(J=Ie.options)&&void 0!==J&&J.valueC?null===Ie||void 0===Ie||null===(K=Ie.options)||void 0===K?void 0:K.valueC:"",minWidth:Pe?"100px":""},disabled:null!==(Q=null===Ie||void 0===Ie?void 0:Ie.disabled)&&void 0!==Q&&Q}),"bar"===(null===Ie||void 0===Ie||null===(X=Ie.options)||void 0===X?void 0:X.display)&&"Number"===(null===Ie||void 0===Ie?void 0:Ie.data_type_name)&&r.createElement("div",{style:{height:Oe?"5px":"30px",border:"none",width:"100%",backgroundColor:null===Ie||void 0===Ie||null===($=Ie.options)||void 0===$?void 0:$.maxC,display:"flex",flexDirection:"row"}},r.createElement("input",{value:"",className:me.fieldTypeInput,name:Ie.field_name,style:{color:"transparent",border:"none",height:Oe?"5px":"30px",width:"".concat(+(null===Ie||void 0===Ie?void 0:Ie.value)/+Ie.options.max*100,"%"),backgroundColor:null!==Ie&&void 0!==Ie&&Ie.value?"0"===(null===Ie||void 0===Ie?void 0:Ie.value)?"transparent":null===Ie||void 0===Ie||null===(ee=Ie.options)||void 0===ee?void 0:ee.barC:"transparent"},disabled:!0}))):r.createElement("div",{style:{backgroundColor:null!==Ie&&void 0!==Ie&&null!==(ne=Ie.options)&&void 0!==ne&&ne.valueC?null===Ie||void 0===Ie||null===(le=Ie.options)||void 0===le?void 0:le.valueC:"",minWidth:Pe?"200px":""}},"date"===(null===Ie||void 0===Ie?void 0:Ie.data_type)?null!==Ie&&void 0!==Ie&&Ie.value?de()(Ie.value).format(null!==Ie&&void 0!==Ie&&null!==(oe=Ie.options)&&void 0!==oe&&oe.time?"DD MMMM YYYY HH:mm":"DD MMMM YYYY"):"":null===Ie||void 0===Ie?void 0:Ie.value):"Long Text"===Ie.data_type_name?Oe?r.createElement("textarea",{className:me.fieldTypeTextarea,style:{minWidth:Pe?"300px":"",border:"1px solid var(--app-color-gray-light)"},type:Ie.data_type,defaultValue:null!==Ie&&void 0!==Ie&&null!==(ie=Ie.options)&&void 0!==ie&&ie.mapToItem?null===Ie||void 0===Ie?void 0:Ie.value:null!==(ae=g.selected_fields[Ne])&&void 0!==ae&&ae.value?null===(ue=g.selected_fields[Ne])||void 0===ue?void 0:ue.value:""===He(null===Ie||void 0===Ie?void 0:Ie.options)?"":He(null===Ie||void 0===Ie?void 0:Ie.options),onFocus:function(){},disabled:null!==(se=null===(ce=g.selected_fields[Ne])||void 0===ce?void 0:ce.disabled)&&void 0!==se&&se,autoComplete:"none",onBlur:function(e){Pe?De(e.target.value,Ne):x(e.target.value,Ne)},placeholder:"Number"===(null===(pe=g.selected_fields[Ne])||void 0===pe?void 0:pe.data_type_name)?"0":"",name:Ie.field_name}):r.createElement("div",{style:{backgroundColor:null!==Ie&&void 0!==Ie&&null!==(fe=Ie.options)&&void 0!==fe&&fe.valueC?null===Ie||void 0===Ie||null===(_e=Ie.options)||void 0===_e?void 0:_e.valueC:"",minWidth:Pe?"300px":""}},null===Ie||void 0===Ie?void 0:Ie.value):"Link"===Ie.data_type_name?r.createElement("div",{style:{width:"inherit",display:"flex",flexDirection:"column"}},(null===Ie||void 0===Ie?void 0:Ie.value)&&((null===Ie||void 0===Ie||null===(he=Ie.value)||void 0===he?void 0:he.includes("jpg"))||(null===Ie||void 0===Ie||null===(ge=Ie.value)||void 0===ge?void 0:ge.includes("jpeg"))||(null===Ie||void 0===Ie||null===(xe=Ie.options)||void 0===xe?void 0:xe.image)||(null===Ie||void 0===Ie||null===(Ee=Ie.value)||void 0===Ee?void 0:Ee.includes("png")))&&r.createElement("img",{alt:"lg",onError:function(e){return e.target.src="https://i.quotev.com/b2gtjqawaaaa.jpg"},src:null===Ie||void 0===Ie?void 0:Ie.value,style:{width:"100%",height:"100%",cursor:"pointer"}}),r.createElement("img",{alt:"lg",onError:function(e){return e.target.src="https://i.quotev.com/b2gtjqawaaaa.jpg"},src:"https://i.quotev.com/b2gtjqawaaaa.jpg",style:{width:"100%",height:"100%",cursor:"pointer"}}),r.createElement("input",{type:Ie.data_type,onBlur:function(e){Pe?De(e.target.value,Ne):x(e.target.value,Ne)},autoComplete:"none",defaultValue:null!==Ie&&void 0!==Ie&&null!==(Ce=Ie.options)&&void 0!==Ce&&Ce.mapToItem?null===Ie||void 0===Ie?void 0:Ie.value:null!==(we=g.selected_fields[Ne])&&void 0!==we&&we.value?null===(Ze=g.selected_fields[Ne])||void 0===Ze?void 0:Ze.value:""===He(null===Ie||void 0===Ie?void 0:Ie.options)?"":He(null===Ie||void 0===Ie?void 0:Ie.options),placeholder:"Number"===(null===(Me=g.selected_fields[Ne])||void 0===Me?void 0:Me.data_type_name)?"0":"",className:me.fieldTypeInput,style:{border:"1px solid var(--app-color-gray-light)"},name:Ie.field_name,disabled:null!==(Se=null===(ke=g.selected_fields[Ne])||void 0===ke?void 0:ke.disabled)&&void 0!==Se&&Se})):Oe?r.createElement("input",{type:Ie.data_type,onBlur:function(e){Pe?De(e.target.value,Ne):x(e.target.value,Ne)},autoComplete:"none",defaultValue:null!==Ie&&void 0!==Ie&&null!==(h=Ie.options)&&void 0!==h&&h.mapToItem?null===Ie||void 0===Ie?void 0:Ie.value:null!==(b=g.selected_fields[Ne])&&void 0!==b&&b.value?null===(C=g.selected_fields[Ne])||void 0===C?void 0:C.value:""===He(null===Ie||void 0===Ie?void 0:Ie.options)?"":He(null===Ie||void 0===Ie?void 0:Ie.options),placeholder:"Number"===(null===(Z=g.selected_fields[Ne])||void 0===Z?void 0:Z.data_type_name)?"0":"",className:me.fieldTypeInput,style:{minWidth:Pe?"300px":"",padding:"0 0 0 10px",border:"1px solid var(--app-color-gray-light)",backgroundColor:null!==Ie&&void 0!==Ie&&null!==(S=Ie.options)&&void 0!==S&&S.valueC?null===Ie||void 0===Ie||null===(k=Ie.options)||void 0===k?void 0:k.valueC:""},name:Ie.field_name,disabled:null!==(T=null===(D=g.selected_fields[Ne])||void 0===D?void 0:D.disabled)&&void 0!==T&&T}):r.createElement("div",{style:{backgroundColor:null!==Ie&&void 0!==Ie&&null!==(A=Ie.options)&&void 0!==A&&A.valueC?null===Ie||void 0===Ie||null===(L=Ie.options)||void 0===L?void 0:L.valueC:"",minWidth:Pe?"200px":""}},null===Ie||void 0===Ie?void 0:Ie.value)},bl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,l=arguments.length>2?arguments[2]:void 0;return 0==(null===e||void 0===e?void 0:e.length)?0:e.reduce((function(e,o){var i,t,d,a,u,r,v,s,c;if(null===o[null===n||void 0===n||null===(i=n.options)||void 0===i?void 0:i.mapToItem]||""===o[null===n||void 0===n||null===(t=n.options)||void 0===t?void 0:t.mapToItem])return e;var p=null!==(d=null!==l&&void 0!==l&&null!==(a=l.options)&&void 0!==a&&a.simple?JSON.parse(null!==(u=o[null===n||void 0===n||null===(r=n.options)||void 0===r?void 0:r.mapToItem])&&void 0!==u?u:"{}")[n.field_name]:o[null===n||void 0===n||null===(v=n.options)||void 0===v?void 0:v.mapToItem])&&void 0!==d?d:0;return"itemsum"===(null===n||void 0===n||null===(s=n.options)||void 0===s?void 0:s.footer)?e+ +(""===p?0:"".concat(p)):"itemdiff"===(null===n||void 0===n||null===(c=n.options)||void 0===c?void 0:c.footer)?e-+(""===p?0:"".concat(p)):0}),0)},xl=(null===g||void 0===g||null===(n=g.selected_fields)||void 0===n?void 0:n.length)>0&&(null===g||void 0===g||null===(l=g.selected_fields)||void 0===l?void 0:l.sort((function(e,n){return e.index-n.index})).map((function(e,n){var l,v,p,f,_,ie,pe,_e,ge,Ce,ze,We,Ve,Je,$e,en,tn,dn,an,un,rn,cn,pn,_n,yn,bn,xn,wn,Zn,kn,In,Pn,Dn,Ln,zn,Fn,qn,Yn,Hn,Gn,Jn,Xn,$n,ll,ol,dl,al,rl,xl,El,Cl,wl,Zl,Ml,Sl,kl,Il,Nl,Tl,Pl,Dl,Al="";if((null===e||void 0===e||null===(l=e.options)||void 0===l||null===(v=l.fieldToMatch)||void 0===v?void 0:v.length)>0){var Ol,Ll,zl,Rl,Ul,Fl,ql,Wl,Bl,Yl,Hl,jl,Vl,Gl,Jl,Kl,Ql,Xl,$l,eo,no,lo,oo,io,to=g.selected_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.fieldToMatch)}));if(to&&(null===e||void 0===e||null===(Ol=e.options)||void 0===Ol||null===(Ll=Ol.valueToMatch)||void 0===Ll?void 0:Ll.length)>0&&(null===e||void 0===e||null===(zl=e.options)||void 0===zl||null===(Rl=zl.actionToPerform)||void 0===Rl?void 0:Rl.length)>0&&(null===e||void 0===e||null===(Ul=e.options)||void 0===Ul||null===(Fl=Ul.initialState)||void 0===Fl?void 0:Fl.length)>0)if(null!==e&&void 0!==e&&null!==(Bl=e.options)&&void 0!==Bl&&null!==(Yl=Bl.valueToMatch)&&void 0!==Yl&&Yl.split(",").includes(null===to||void 0===to?void 0:to.value))"hide"===(null===e||void 0===e||null===(Hl=e.options)||void 0===Hl?void 0:Hl.actionToPerform)?e.visible=!1:"visible"===(null===e||void 0===e||null===(jl=e.options)||void 0===jl?void 0:jl.actionToPerform)?e.visible=!0:"mandatory"===(null===e||void 0===e||null===(Vl=e.options)||void 0===Vl?void 0:Vl.actionToPerform)?(e.mandatory=!0,e.visible=!0):"optional"===(null===e||void 0===e||null===(Gl=e.options)||void 0===Gl?void 0:Gl.actionToPerform)?(e.mandatory=!1,e.visible=!0):"visman"===(null===e||void 0===e||null===(Jl=e.options)||void 0===Jl?void 0:Jl.actionToPerform)?(e.mandatory=!0,e.visible=!0):"disable"===(null===e||void 0===e||null===(Kl=e.options)||void 0===Kl?void 0:Kl.actionToPerform)&&(Al="none");else"hidden"===(null===e||void 0===e||null===(Ql=e.options)||void 0===Ql?void 0:Ql.initialState)?e.visible=!1:"visible"===(null===e||void 0===e||null===(Xl=e.options)||void 0===Xl?void 0:Xl.initialState)?e.visible=!0:"mandatory"===(null===e||void 0===e||null===($l=e.options)||void 0===$l?void 0:$l.initialState)?(e.mandatory=!0,e.visible=!0):"optional"===(null===e||void 0===e||null===(eo=e.options)||void 0===eo?void 0:eo.initialState)?(e.mandatory=!1,e.visible=!0):"visman"===(null===e||void 0===e||null===(no=e.options)||void 0===no?void 0:no.actionToPerform)?(e.mandatory=!0,e.visible=!0):"disable"===(null===e||void 0===e||null===(lo=e.options)||void 0===lo?void 0:lo.actionToPerform)&&(Al="none");if(to&&(null===e||void 0===e||null===(ql=e.options)||void 0===ql||null===(Wl=ql.valueToMatch2)||void 0===Wl?void 0:Wl.length)>0)if(null!==e&&void 0!==e&&null!==(oo=e.options)&&void 0!==oo&&null!==(io=oo.valueToMatch2)&&void 0!==io&&io.split(",").includes(null===to||void 0===to?void 0:to.value)){var ao,uo,ro,vo,so,co,po,mo,fo,_o,yo,ho;if((null===e||void 0===e||null===(ao=e.options)||void 0===ao||null===(uo=ao.value)||void 0===uo?void 0:uo.length)>0)if("Text"===(null===e||void 0===e?void 0:e.data_type_name))e.value=null===e||void 0===e||null===(so=e.options)||void 0===so?void 0:so.value;else if("Date"===(null===e||void 0===e?void 0:e.data_type_name)){var go,bo,xo,Eo,Co,wo;if(0==(null===e||void 0===e||null===(go=e.value)||void 0===go?void 0:go.length)||void 0==(null===e||void 0===e?void 0:e.value))"today"===(null===e||void 0===e||null===(bo=e.options)||void 0===bo?void 0:bo.value)?e.value=new Date(de()((0,te.now)())):"tomorrow"===(null===e||void 0===e||null===(xo=e.options)||void 0===xo?void 0:xo.value)?e.value=new Date(de()((0,te.now)()).add(1,"days")):"week"===(null===e||void 0===e||null===(Eo=e.options)||void 0===Eo?void 0:Eo.value)?e.value=new Date(de()((0,te.now)()).add(1,"weeks")):"month"===(null===e||void 0===e||null===(Co=e.options)||void 0===Co?void 0:Co.value)&&(e.value=new Date(de()((0,te.now)()).add(1,"months"))),"none"===(null===e||void 0===e||null===(wo=e.options)||void 0===wo?void 0:wo.value)&&(e.value=void 0)}if((null===e||void 0===e||null===(ro=e.options)||void 0===ro||null===(vo=ro.actionToPerform2)||void 0===vo?void 0:vo.length)>0)"hide"===(null===e||void 0===e||null===(co=e.options)||void 0===co?void 0:co.actionToPerform2)?e.visible=!1:"visible"===(null===e||void 0===e||null===(po=e.options)||void 0===po?void 0:po.actionToPerform2)?e.visible=!0:"mandatory"===(null===e||void 0===e||null===(mo=e.options)||void 0===mo?void 0:mo.actionToPerform2)?(e.mandatory=!0,e.visible=!0):"optional"===(null===e||void 0===e||null===(fo=e.options)||void 0===fo?void 0:fo.actionToPerform2)?(e.mandatory=!1,e.visible=!0):"visman"===(null===e||void 0===e||null===(_o=e.options)||void 0===_o?void 0:_o.actionToPerform2)?(e.mandatory=!0,e.visible=!0):"disable"===(null===e||void 0===e||null===(yo=e.options)||void 0===yo?void 0:yo.actionToPerform2)?Al="none":"enable"===(null===e||void 0===e||null===(ho=e.options)||void 0===ho?void 0:ho.actionToPerform2)&&(Al="")}}if("Record"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(p=e.options)||void 0===p||null===(f=p.component_id)||void 0===f?void 0:f.length)>0){var Zo,Mo,So,ko,Io,No,To,Po,Do,Ao,Oo,Lo,zo,Ro,Uo,Fo,qo,Wo,Bo,Yo,Ho,jo,Vo,Go,Jo,Ko,Qo,Xo,$o,ei,ni,li,oi,ii,ti,di,ai,ui,ri,vi,si,ci,pi=(null!==e&&void 0!==e&&null!==(Zo=e.options)&&void 0!==Zo&&Zo.global?hl(null===e||void 0===e?void 0:e.data_type_name):W).filter((function(n){var l;return n.component_fields.filter((function(n){var l;return n.component_blueprint_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.component_id)})).length>0||n.module_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.module_id)})),mi=pi.map((function(n){var l,o,i,d,a="";return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.names)||void 0===o||o.map((function(e){var l,o;return a=""===a?null===(l=n.component_fields.find((function(n){return n.field_name===e})))||void 0===l?void 0:l.value:"".concat(a," ").concat(null===(o=n.component_fields.find((function(n){return n.field_name===e})))||void 0===o?void 0:o.value)})),(0,t.Z)({label:""===a?n.title:a,value:n.id,component:n},null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.output,null===(d=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})))||void 0===d?void 0:d.value)}));if((null===e||void 0===e||null===(Mo=e.options)||void 0===Mo||null===(So=Mo.filters)||void 0===So?void 0:So.length)>0){if((null===pi||void 0===pi?void 0:pi.length)>0)if(e.value){if(ci=pi.find((function(n){return n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)&&n.value===e.value}))}))){var fi,_i,yi;yl(null===(fi=ci)||void 0===fi?void 0:fi.id);var hi=(0,d.Z)(null!==(_i=null===(yi=M.currentStep)||void 0===yi?void 0:yi.component_blueprints)&&void 0!==_i?_i:[]);hi&&(M.newStepComponents=hi)}}else if(1==mi.length&&(ci=pi[0])){var gi,bi,xi;yl(null===(gi=ci)||void 0===gi?void 0:gi.id);var Ei=(0,d.Z)(null!==(bi=null===(xi=M.currentStep)||void 0===xi?void 0:xi.component_blueprints)&&void 0!==bi?bi:[]);Ei&&(M.newStepComponents=Ei)}if(1==mi.length||e.value){var Ci,wi,Zi,Mi;if((null===e||void 0===e||null===(Ci=e.options)||void 0===Ci?void 0:Ci.filters.length)>0)hn[null===e||void 0===e||null===(Zi=e.options)||void 0===Zi?void 0:Zi.filters[0]]=H.Z(j.Z("value"))(pi.map((function(n){var l=null===n||void 0===n?void 0:n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})).filter((function(n){var l;return(null===(l=n.component)||void 0===l?void 0:l.component_fields.filter((function(n){var l,o;return n.value===(null===(l=ci)||void 0===l||null===(o=l.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])})))||void 0===o?void 0:o.value)})).length)>0})));if((null===e||void 0===e||null===(wi=e.options)||void 0===wi?void 0:wi.filters.length)>1)hn[null===e||void 0===e||null===(Mi=e.options)||void 0===Mi?void 0:Mi.filters[1]]=H.Z(j.Z("value"))(pi.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[2])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})).filter((function(n){var l;return(null===(l=n.component)||void 0===l?void 0:l.component_fields.filter((function(n){var l,o;return n.value===(null===(l=ci)||void 0===l||null===(o=l.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])})))||void 0===o?void 0:o.value)})).length)>0})))}}else if(mi.length>0)if(e.value){if(ci=null===mi||void 0===mi?void 0:mi.find((function(n){var l;return n[null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output]===e.value}))){var Si,ki;yl(ci.value);var Ii=(0,d.Z)(null!==(Si=null===(ki=M.currentStep)||void 0===ki?void 0:ki.component_blueprints)&&void 0!==Si?Si:[]);Ii&&(M.newStepComponents=Ii)}}else if(1==mi.length&&1==(null===e||void 0===e?void 0:e.mandatory)&&(ci=mi[0])){var Ni,Ti;yl(ci.value);var Pi=(0,d.Z)(null!==(Ni=null===(Ti=M.currentStep)||void 0===Ti?void 0:Ti.component_blueprints)&&void 0!==Ni?Ni:[]);Pi&&(M.newStepComponents=Pi)}return!ci&&null!==e&&void 0!==e&&e.value?r.createElement("div",{key:n},"A record ( ".concat(null===e||void 0===e?void 0:e.value," ) was previously selected but not found. Press the refresh button on the upper right side to retrieve the missing record. If record is still not found, please check with your admin.")):(null===e||void 0===e||null===(ko=e.options)||void 0===ko||null===(Io=ko.filters)||void 0===Io?void 0:Io.length)>0?r.createElement("div",{key:n,style:{width:"100%",display:null!==e&&void 0!==e&&e.visible?"":"none",pointerEvents:Al,border:"1px dashed gray",fontSize:"16px",color:"var(--app-color-gray-dark)",padding:"20px",marginBottom:"10px"}},null===K||void 0===K||null===(No=K.find((function(n){var l;return n.id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.component_id)})))||void 0===No?void 0:No.name,r.createElement("br",null),r.createElement("br",null),(null===e||void 0===e||null===(To=e.options)||void 0===To||null===(Po=To.filters)||void 0===Po?void 0:Po.length)>0&&r.createElement(N.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)"},className:me.multiselectComponent,visible:null===e||void 0===e?void 0:e.visible,mandatory:1==(null===e||void 0===e||null===(Do=e.options)||void 0===Do||null===(Ao=Do.filters)||void 0===Ao?void 0:Ao.length)&&(null===e||void 0===e?void 0:e.mandatory),items:H.Z(j.Z("value"))(pi.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}}))),loading:Qe,error:1==(null===e||void 0===e||null===(Oo=e.options)||void 0===Oo||null===(Lo=Oo.filters)||void 0===Lo?void 0:Lo.length)?null===e||void 0===e?void 0:e.errors:"",onChange:function(l){var o,i,d,a,u;(null===e||void 0===e||null===(o=e.options)||void 0===o||null===(i=o.filters)||void 0===i?void 0:i.length)>1?(w(void 0,n),Sn(!1),Cn(!1),setTimeout((function(){Cn(!0),Sn(!0)}),10),gn((0,t.Z)({},null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.filters[0],H.Z(j.Z("value"))(pi.map((function(n){var o=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])}));return{label:null===o||void 0===o?void 0:o.value,value:null===o||void 0===o?void 0:o.value,component:n,selected:l}})).filter((function(n){return n.component.component_fields.filter((function(n){var o;return n.value===l&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[0])})).length>0})))))):(On("50px"),w(null!==(a=pi.find((function(e){return e.value===l}))[null===e||void 0===e||null===(u=e.options)||void 0===u?void 0:u.output])&&void 0!==a?a:null,n),yl(pi.find((function(e){return e.value===l})).component.id))},fieldLabel:null===e||void 0===e||null===(zo=e.options)||void 0===zo?void 0:zo.filters[0],value:ci?null===(Ro=ci.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])})))||void 0===Ro?void 0:Ro.value:""}),r.createElement("div",{style:{display:null!==e&&void 0!==e&&e.visible?"":"none",marginBottom:"10px"}},(null===e||void 0===e||null===(Uo=e.options)||void 0===Uo||null===(Fo=Uo.filters)||void 0===Fo?void 0:Fo.length)>1&&En&&r.createElement(N.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)"},className:me.multiselectComponent,visible:null===e||void 0===e?void 0:e.visible,mandatory:2==(null===e||void 0===e||null===(qo=e.options)||void 0===qo||null===(Wo=qo.filters)||void 0===Wo?void 0:Wo.length)&&(null===e||void 0===e?void 0:e.mandatory),items:null!==(Bo=hn[null===e||void 0===e||null===(Yo=e.options)||void 0===Yo?void 0:Yo.filters[0]])&&void 0!==Bo?Bo:[],loading:Qe,onClicked:function(e){return On(e?"180px":"50px")},onChange:function(l){var o,i,d,u,r,v,s,c,p;(null===e||void 0===e||null===(o=e.options)||void 0===o||null===(i=o.filters)||void 0===i?void 0:i.length)>2?(Sn(!1),setTimeout((function(){return Sn(!0)}),10),gn((0,a.Z)((0,a.Z)({},hn),{},(0,t.Z)({},null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.filters[1],null!==(u=H.Z(j.Z("value"))(pi.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[2])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})).filter((function(n){return n.component.component_fields.filter((function(n){var o;return n.value===l&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[1])})).length>0})).filter((function(n){return n.component.component_fields.filter((function(n){var l,o;return n.value===hn[null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0]][0].component.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])})).value&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[0])})).length>0}))))&&void 0!==u?u:[])))):(On("50px"),R.start=!0,w(null!==(r=null===(v=hn[null===e||void 0===e||null===(c=e.options)||void 0===c?void 0:c.filters[0]])||void 0===v||null===(s=v.find((function(e){return e.value===l})))||void 0===s?void 0:s.component.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})).value)&&void 0!==r?r:null,n),yl(hn[null===e||void 0===e||null===(p=e.options)||void 0===p?void 0:p.filters[0]].find((function(e){return e.value===l})).component.id),Sn(!1),Cn(!1),setTimeout((function(){Cn(!0),Sn(!0)}),10))},fieldLabel:null===e||void 0===e||null===(Ho=e.options)||void 0===Ho?void 0:Ho.filters[1],value:ci?null===(jo=ci.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])})))||void 0===jo?void 0:jo.value:""})),r.createElement("div",{style:{display:null!==e&&void 0!==e&&e.visible?"":"none",marginBottom:"10px"}},(null===e||void 0===e||null===(Vo=e.options)||void 0===Vo||null===(Go=Vo.filters)||void 0===Go?void 0:Go.length)>2&&Mn&&r.createElement(N.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)"},className:me.multiselectComponent,visible:null===e||void 0===e?void 0:e.visible,mandatory:3==(null===e||void 0===e||null===(Jo=e.options)||void 0===Jo||null===(Ko=Jo.filters)||void 0===Ko?void 0:Ko.length)&&(null===e||void 0===e?void 0:e.mandatory),items:null!==(Qo=hn[null===e||void 0===e||null===(Xo=e.options)||void 0===Xo?void 0:Xo.filters[1]])&&void 0!==Qo?Qo:[],loading:Qe,onClicked:function(e){return On(e?"180px":"50px")},onChange:function(l){var o,i,t,d,a;On("50px"),R.start=!0,w(null!==(o=null===(i=hn[null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.filters[1]])||void 0===i||null===(t=i.find((function(e){return e.value===l})))||void 0===t?void 0:t.component.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})).value)&&void 0!==o?o:null,n),yl(hn[null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.filters[1]].find((function(e){return e.value===l})).component.id)},fieldLabel:null===e||void 0===e||null===($o=e.options)||void 0===$o?void 0:$o.filters[2],value:ci?null===(ei=ci.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[2])})))||void 0===ei?void 0:ei.value:""}))):"Tiles"===(null===e||void 0===e||null===(ni=e.options)||void 0===ni?void 0:ni.selection)?r.createElement(he.Z,{enabled:Al,width:"100%",style:{border:"0"},editMode:ae,showWidth:function(n){e.field_options=(0,a.Z)((0,a.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:(null===(li=e.errors)||void 0===li?void 0:li.length)>0?"".concat(e.errors,". Try to select again"):"",notes:null===e||void 0===e||null===(oi=e.options)||void 0===oi?void 0:oi.notes},r.createElement("div",{style:{width:"100%"}},r.createElement(S.default,{rowStyleSelected:{border:"2px solid black"},initialSelected:mi.map((function(n){var l;return n[null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output]})).indexOf(null===e||void 0===e?void 0:e.value),modern:!0,isReport:!1,className:me.listContainer,"app-variant-is-mobile":"true",columns:null===e||void 0===e||null===(ii=e.options)||void 0===ii?void 0:ii.names,list:mi.map((function(e){var n=e;return e.component.component_fields.filter((function(e){n[e.field_name]=e.value})),n})),onListItemClick:function(l){var o,i,t,d,a;l&&(null===e||void 0===e||null===(a=e.options)||void 0===a||a.list.map((function(e){var n,o,i=_l({field_name:e});-1!=i&&(g.selected_fields[i].value=null!==(n=null===(o=l.component.component_fields.find((function(n){return n.field_name===e})))||void 0===o?void 0:o.value)&&void 0!==n?n:"",g.selected_fields[i].disabled=!0)})));vl(),yl(l),w(null!==(o=null===mi||void 0===mi||null===(i=mi.find((function(e){return e.value===l.value})))||void 0===i||null===(t=i.component.component_fields)||void 0===t||null===(d=t.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})))||void 0===d?void 0:d.value)&&void 0!==o?o:null,n)}}))):r.createElement(he.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)",fontWeight:"regular",paddingLeft:"5px"},enabled:Al,width:"100%",style:{marginTop:"0px",border:"1px dashed var(--app-color-gray-light)",padding:"5px"},editMode:ae,showWidth:function(n){e.field_options=(0,a.Z)((0,a.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:K.find((function(n){var l;return n.id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.component_id)})).name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:(null===(ti=e.errors)||void 0===ti?void 0:ti.length)>0?"".concat(e.errors,". Try to select again"):"",notes:null===e||void 0===e||null===(di=e.options)||void 0===di?void 0:di.notes},r.createElement("div",{style:{width:"inherit"}},r.createElement(N.Z,{key:n,visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,items:mi,loading:Qe,error:"",className:me.dropdownClassContainer,onClicked:function(e){return On(e?"100px":"50px")},onChange:function(l){var o,i;R.start=!0,On("50px"),yl(l),w(null!==(o=null===mi||void 0===mi?void 0:mi.find((function(e){return e.value===l}))[null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.output])&&void 0!==o?o:null,n)},selectionType:(null===e||void 0===e||null===(ai=e.options)||void 0===ai?void 0:ai.selection.length)>0?null===e||void 0===e||null===(ui=e.options)||void 0===ui?void 0:ui.selection:null===e||void 0===e||null===(ri=e.options)||void 0===ri?void 0:ri.type,value:null!==(vi=null===(si=ci)||void 0===si?void 0:si.label)&&void 0!==vi?vi:""})))}if("Filters"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(_=e.options)||void 0===_||null===(ie=_.component_id)||void 0===ie?void 0:ie.length)>0){var Di,Ai,Oi,Li,zi,Ri,Ui,Fi,qi,Wi,Bi,Yi,Hi,ji,Vi,Gi,Ji,Ki,Qi,Xi,$i,et,nt,lt,ot,it,tt,dt,at,ut,rt=(null!==e&&void 0!==e&&null!==(Di=e.options)&&void 0!==Di&&Di.global?hl(null===e||void 0===e?void 0:e.data_type_name):W).filter((function(n){return n.component_fields.filter((function(n){var l;return n.component_blueprint_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.component_id)})).length>0})),vt=rt.map((function(n){var l,o;return(0,t.Z)({label:n.title,value:n.id,component:n},null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output,null===(o=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})))||void 0===o?void 0:o.value)}));if(rt.length>0){if(e.value){if(ut=rt.find((function(n){return n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)&&n.value===e.value}))}))){var st,ct,pt;yl(null===(st=ut)||void 0===st?void 0:st.id);var mt=(0,d.Z)(null!==(ct=null===(pt=M.currentStep)||void 0===pt?void 0:pt.component_blueprints)&&void 0!==ct?ct:[]);mt&&(M.newStepComponents=mt)}}else if(1==vt.length&&1==(null===e||void 0===e?void 0:e.mandatory)&&(ut=rt[0])){var ft,_t,yt;yl(null===(ft=ut)||void 0===ft?void 0:ft.id);var ht=(0,d.Z)(null!==(_t=null===(yt=M.currentStep)||void 0===yt?void 0:yt.component_blueprints)&&void 0!==_t?_t:[]);ht&&(M.newStepComponents=ht)}if(1==vt.length||e.value){var gt,bt,xt,Et;if((null===e||void 0===e||null===(gt=e.options)||void 0===gt?void 0:gt.filters.length)>0)hn[null===e||void 0===e||null===(xt=e.options)||void 0===xt?void 0:xt.filters[0]]=H.Z(j.Z("value"))(rt.map((function(n){var l=null===n||void 0===n?void 0:n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})));if((null===e||void 0===e||null===(bt=e.options)||void 0===bt?void 0:bt.filters.length)>1)hn[null===e||void 0===e||null===(Et=e.options)||void 0===Et?void 0:Et.filters[1]]=H.Z(j.Z("value"))(rt.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[2])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})))}}return!ut&&null!==e&&void 0!==e&&e.value?r.createElement("div",{key:n},"A record ( ".concat(null===e||void 0===e?void 0:e.value," ) was previously selected but not found. Press the refresh button on the upper right side to retrieve the missing record. If record is still not found, please check with your admin.")):r.createElement("div",{key:n,style:{width:"100%",display:null!==e&&void 0!==e&&e.visible?"":"none",pointerEvents:Al,border:"1px dashed gray",fontSize:"16px",color:"var(--app-color-gray-dark)",marginBottom:"10px",padding:"20px"}},K.find((function(n){var l;return n.id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.component_id)})).name,r.createElement("br",null),r.createElement("br",null),(null===e||void 0===e||null===(Ai=e.options)||void 0===Ai||null===(Oi=Ai.filters)||void 0===Oi?void 0:Oi.length)>0&&r.createElement(N.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)"},className:me.multiselectComponent,visible:null===e||void 0===e?void 0:e.visible,mandatory:1==(null===e||void 0===e||null===(Li=e.options)||void 0===Li||null===(zi=Li.filters)||void 0===zi?void 0:zi.length)&&(null===e||void 0===e?void 0:e.mandatory),items:H.Z(j.Z("value"))(rt.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}}))),loading:Qe,error:1==(null===e||void 0===e||null===(Ri=e.options)||void 0===Ri||null===(Ui=Ri.filters)||void 0===Ui?void 0:Ui.length)?null===e||void 0===e?void 0:e.errors:"",onChange:function(l){var o,i,d,a,u;(null===e||void 0===e||null===(o=e.options)||void 0===o||null===(i=o.filters)||void 0===i?void 0:i.length)>1?(w(void 0,n),Sn(!1),Cn(!1),setTimeout((function(){Cn(!0),Sn(!0)}),10),gn((0,t.Z)({},null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.filters[0],H.Z(j.Z("value"))(rt.map((function(n){var o=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])}));return{label:null===o||void 0===o?void 0:o.value,value:null===o||void 0===o?void 0:o.value,component:n,selected:l}})).filter((function(n){return n.component.component_fields.filter((function(n){var o;return n.value===l&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[0])})).length>0})))))):(On("50px"),w(null!==(a=rt.find((function(e){return e.value===l}))[null===e||void 0===e||null===(u=e.options)||void 0===u?void 0:u.output])&&void 0!==a?a:null,n),yl(rt.find((function(e){return e.value===l})).component.id))},fieldLabel:null===e||void 0===e||null===(Fi=e.options)||void 0===Fi?void 0:Fi.filters[0],value:ut?null===(qi=ut.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])})))||void 0===qi?void 0:qi.value:""}),r.createElement("div",{style:{display:null!==e&&void 0!==e&&e.visible?"":"none",marginBottom:"10px"}},(null===e||void 0===e||null===(Wi=e.options)||void 0===Wi||null===(Bi=Wi.filters)||void 0===Bi?void 0:Bi.length)>1&&En&&r.createElement(N.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)"},className:me.multiselectComponent,visible:null===e||void 0===e?void 0:e.visible,mandatory:2==(null===e||void 0===e||null===(Yi=e.options)||void 0===Yi||null===(Hi=Yi.filters)||void 0===Hi?void 0:Hi.length)&&(null===e||void 0===e?void 0:e.mandatory),items:null!==(ji=hn[null===e||void 0===e||null===(Vi=e.options)||void 0===Vi?void 0:Vi.filters[0]])&&void 0!==ji?ji:[],loading:Qe,error:2==(null===e||void 0===e||null===(Gi=e.options)||void 0===Gi||null===(Ji=Gi.filters)||void 0===Ji?void 0:Ji.length)?null===e||void 0===e?void 0:e.errors:"",onClicked:function(e){return On(e?"180px":"50px")},onChange:function(l){var o,i,d,u,r,v,s,c,p;(null===e||void 0===e||null===(o=e.options)||void 0===o||null===(i=o.filters)||void 0===i?void 0:i.length)>2?(Sn(!1),setTimeout((function(){return Sn(!0)}),10),gn((0,a.Z)((0,a.Z)({},hn),{},(0,t.Z)({},null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.filters[1],null!==(u=H.Z(j.Z("value"))(rt.map((function(n){var l=n.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[2])}));return{label:null===l||void 0===l?void 0:l.value,value:null===l||void 0===l?void 0:l.value,component:n}})).filter((function(n){return n.component.component_fields.filter((function(n){var o;return n.value===l&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[1])})).length>0})).filter((function(n){return n.component.component_fields.filter((function(n){var l,o;return n.value===hn[null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0]][0].component.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[0])})).value&&n.field_name===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.filters[0])})).length>0}))))&&void 0!==u?u:[])))):(vl(),On("50px"),R.start=!0,w(null!==(r=null===(v=hn[null===e||void 0===e||null===(c=e.options)||void 0===c?void 0:c.filters[0]])||void 0===v||null===(s=v.find((function(e){return e.value===l})))||void 0===s?void 0:s.component.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})).value)&&void 0!==r?r:null,n),yl(hn[null===e||void 0===e||null===(p=e.options)||void 0===p?void 0:p.filters[0]].find((function(e){return e.value===l})).component.id))},fieldLabel:null===e||void 0===e||null===(Ki=e.options)||void 0===Ki?void 0:Ki.filters[1],value:ut?null===(Qi=ut.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[1])})))||void 0===Qi?void 0:Qi.value:""})),r.createElement("div",{style:{display:null!==e&&void 0!==e&&e.visible?"":"none",marginBottom:"10px"}},(null===e||void 0===e||null===(Xi=e.options)||void 0===Xi||null===($i=Xi.filters)||void 0===$i?void 0:$i.length)>2&&Mn&&r.createElement(N.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)"},className:me.multiselectComponent,visible:null===e||void 0===e?void 0:e.visible,mandatory:3==(null===e||void 0===e||null===(et=e.options)||void 0===et||null===(nt=et.filters)||void 0===nt?void 0:nt.length)&&(null===e||void 0===e?void 0:e.mandatory),items:null!==(lt=hn[null===e||void 0===e||null===(ot=e.options)||void 0===ot?void 0:ot.filters[1]])&&void 0!==lt?lt:[],loading:Qe,error:3==(null===e||void 0===e||null===(it=e.options)||void 0===it||null===(tt=it.filters)||void 0===tt?void 0:tt.length)?null===e||void 0===e?void 0:e.errors:"",onClicked:function(e){return On(e?"180px":"50px")},onChange:function(l){var o,i,t,d,a;On("50px"),R.start=!0,w(null!==(o=null===(i=hn[null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.filters[1]])||void 0===i||null===(t=i.find((function(e){return e.value===l})))||void 0===t?void 0:t.component.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.output)})).value)&&void 0!==o?o:null,n),yl(hn[null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.filters[1]].find((function(e){return e.value===l})).component.id)},fieldLabel:null===e||void 0===e||null===(dt=e.options)||void 0===dt?void 0:dt.filters[2],value:ut?null===(at=ut.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.filters[2])})))||void 0===at?void 0:at.value:""})))}if("Global"===(null===e||void 0===e?void 0:e.data_type_name)||"Connector"===(null===e||void 0===e?void 0:e.data_type_name)||"Emails"===(null===e||void 0===e?void 0:e.data_type_name)||"Template"===(null===e||void 0===e?void 0:e.data_type_name));else if("Action Button"!==(null===e||void 0===e?void 0:e.data_type_name)){var Ct,wt,Zt,Mt,St,kt,It,Nt,Tt,Pt,Dt,At,Ot,Lt,zt,Rt;if("GoogleAI Assistant"===(null===e||void 0===e?void 0:e.data_type_name))return r.createElement("div",{key:n,style:{display:e.visible?"":"none",color:"var(--app-color-gray-dark)",height:"inherit",width:"100%",flexDirection:"column",marginTop:"50px"}},r.createElement(he.Z,{enabled:Al,width:null!==(Ct=null===e||void 0===e||null===(wt=e.field_options)||void 0===wt?void 0:wt.width)&&void 0!==Ct?Ct:"100%",editMode:ae,showWidth:function(n){e.field_options=(0,a.Z)((0,a.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:"".concat(null===e||void 0===e||null===(Zt=e.options)||void 0===Zt?void 0:Zt.description),fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(Mt=e.options)||void 0===Mt?void 0:Mt.notes},r.createElement("textarea",{className:me.fullLengthTextarea,type:e.data_type,onFocus:function(){},disabled:e.options.fixed,autoComplete:"none",onChange:function(e){x(e.target.value,n)},placeholder:"Enter your question here",value:1==e.options.fixed?null===e||void 0===e||null===(St=e.options)||void 0===St?void 0:St.analyze:e.value})),r.createElement("div",{style:{display:"flex"}},r.createElement(y.zx,{light:!0,loading:Qe,title:"Ask",clicked:function(){0==e.options.fixed&&(e.options.analyze=e.value),fl(e.options)}},r.createElement("img",{src:"https://ai.google/static/images/share.png",height:"90px",width:"140px"})),(null===Wn||void 0===Wn?void 0:Wn.candidates.length)>0&&r.createElement(y.zx,{title:"Clear",clicked:function(){Bn({candidates:[]}),x(void 0,n)}})));if("Chart"===e.data_type_name)return r.createElement(he.Z,{width:"100%",key:n,fieldLabel:e.field_name,fieldIcon:e.icon,editMode:ae,notes:null===e||void 0===e||null===(kt=e.options)||void 0===kt?void 0:kt.notes,isProcess:!0,visible:e.visible,error:e.errors,customIconBgColor:"white"},r.createElement("div",{className:"grid grid-cols-12 gap-4 md:gap-6 2xl:gap-7.5",style:{width:"inherit"}},"Line"===(null===e||void 0===e||null===(It=e.options)||void 0===It?void 0:It.orientation)&&r.createElement(De.Z,{series:[{name:"Product One",data:[23,11,22,27,13,22,37,21,44,22,30,45]},{name:"Product Two",data:[30,25,36,30,45,35,64,52,59,36,39,51]}]}),"Column"===(null===e||void 0===e||null===(Nt=e.options)||void 0===Nt?void 0:Nt.orientation)&&r.createElement(Ae.Z,{series:[{name:"Sales",data:[44,55,41,67,22,43,65]},{name:"Revenue",data:[13,23,20,8,13,27,15]}]}),"Donut"===(null===e||void 0===e||null===(Tt=e.options)||void 0===Tt?void 0:Tt.orientation)&&r.createElement(Oe.Z,{series:[65,34,12,56],labels:["Desktop","Tablet","Mobile","AI"]})));if("Info"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(pe=e.options)||void 0===pe||null===(_e=pe.list)||void 0===_e?void 0:_e.length)>0&&(null===e||void 0===e||null===(ge=e.options)||void 0===ge||null===(Ce=ge.component_id)||void 0===Ce?void 0:Ce.length)>0){var Ut,Ft,qt,Wt,Bt,Yt,Ht,jt,Vt,Gt=W.find((function(n){return n.id===(null===e||void 0===e?void 0:e.value)})),Jt={};if(Gt)null===e||void 0===e||null===(Vt=e.options)||void 0===Vt||Vt.list.map((function(e,n){var l,o,i,t;if(0==Gt.component_fields.length)return r.createElement("div",{key:n});var d,a=Gt.component_fields.find((function(n){return n.field_name===e}));"Link"===(null===a||void 0===a?void 0:a.data_type_name)&&(null!==(l="".concat(null===a||void 0===a?void 0:a.value))&&void 0!==l&&l.includes("jpg")||null!==a&&void 0!==a&&null!==(o=a.options)&&void 0!==o&&o.image||null!==(i="".concat(null===a||void 0===a?void 0:a.value))&&void 0!==i&&i.includes("jpeg")||null!==(t="".concat(null===a||void 0===a?void 0:a.value))&&void 0!==t&&t.includes("png"))?Jt[e]=r.createElement("div",{key:n,onClick:function(){return window.open(null===a||void 0===a?void 0:a.value,"_blank")}},r.createElement("img",{alt:"lg",src:null===a||void 0===a?void 0:a.value,style:{width:"30px",height:"30px",cursor:"pointer"}})):Jt[e]=null!==(d=null===a||void 0===a?void 0:a.value)&&void 0!==d?d:""}));return Gt&&("rows"===(null===e||void 0===e||null===(Ut=e.options)||void 0===Ut?void 0:Ut.orientation)?r.createElement(he.Z,{style:{border:"0"},width:"100%",key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:!0,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(Ft=e.options)||void 0===Ft?void 0:Ft.notes},r.createElement(T.Z,{className:me.mobileTable_ii,style:{width:"100%"},tableHostSimple:me.tableHostSimple,columns:null!==(qt=null===e||void 0===e||null===(Wt=e.options)||void 0===Wt?void 0:Wt.list)&&void 0!==qt?qt:[],list:[Jt]})):r.createElement("div",{style:{width:"inherit"},key:n},Gt&&r.createElement(y.zx,{light:!0,title:"Show Information",style:{width:"100%",backgroundColor:"var(--app-color-blue)",color:"white"},clicked:function(){return vl()}}),vl&&r.createElement(Ke,{title:"Information:",nav:ul,openNav:vl},r.createElement("div",{style:{color:"var(--app-color-gray-dark)",height:"inherit",width:"100%",display:null!==e&&void 0!==e&&e.visible?"":"none"}},Object.keys(Jt).length>0&&(null===e||void 0===e||null===(Bt=e.options)||void 0===Bt?void 0:Bt.list.map((function(n,l){var o,i,t,d,a,u,v;if(0==Gt.component_fields.length)return r.createElement("div",{key:l});var s=Gt.component_fields.find((function(e){return e.field_name===n}));return l<3?r.createElement("div",{key:l},r.createElement("div",{className:me.actionsContainer,style:{fontSize:(n.length>10||s.value.length,"12px")}},r.createElement("div",null,n,":"),r.createElement("div",{style:{fontWeight:"bold"}},s?s.value:"")),r.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}})):r.createElement("div",{style:{border:"0"},key:l,fieldLabel:n,fieldIcon:e.icon,isProcess:!0,visible:!0,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.notes},"Link"===(null===s||void 0===s?void 0:s.data_type_name)&&(null!==(i="".concat(null===s||void 0===s?void 0:s.value))&&void 0!==i&&i.includes("jpg")||null!==(t="".concat(null===s||void 0===s?void 0:s.value))&&void 0!==t&&t.includes("jpeg")||null!==s&&void 0!==s&&null!==(d=s.options)&&void 0!==d&&d.image||null!==(a="".concat(null===s||void 0===s?void 0:s.value))&&void 0!==a&&a.includes("png"))?r.createElement("div",{onClick:function(){return window.open(null===s||void 0===s?void 0:s.value,"_blank")}},r.createElement("img",{alt:"lg",src:null===s||void 0===s?void 0:s.value,style:{width:"50%",height:"100%",cursor:"pointer"}})):null!==e&&void 0!==e&&null!==(u=e.value)&&void 0!==u&&u.includes("pdf")?r.createElement("div",{style:{width:"inherit"},onClick:function(){return window.open(null===s||void 0===s?void 0:s.value,"_blank")}},r.createElement("embed",{src:"".concat(null===s||void 0===s?void 0:s.value,"#toolbar=0&navpanes=0&scrollbar=0&zoom=100%"),width:"100%",height:"1000px"})):(null===s||void 0===s||null===(v=s.value)||void 0===v?void 0:v.length)<50||void 0===s?r.createElement("input",{onBlur:function(n){return je(e.data_type_name,n.target.value,E,l,M)},type:e.data_type,value:s?s.value:"",autoComplete:"none",className:me.fieldTypeInput,name:e.field_name,disabled:!0,style:{border:"1px dashed rgba(234, 231, 231, 0.91)",height:"40px",fontSize:"18px",backgroundColor:"rgba(234, 231, 231, 0.91)"}}):r.createElement("textarea",{className:me.fieldTypeTextarea,type:e.data_type,value:s?s.value:"",onFocus:function(){},autoComplete:"none",onChange:function(e){},disabled:!0,style:{backgroundColor:"rgba(234, 231, 231, 0.91)",height:"auto",fontSize:"18px"}}))}))),!0===(null===g||void 0===g||null===(Yt=g.options)||void 0===Yt?void 0:Yt.allowMultipleInputs)&&(null===(Ht=Y.processModule.module.options)||void 0===Ht||null===(jt=Ht.computes)||void 0===jt?void 0:jt.map((function(n,l){var o,i,t=null===W||void 0===W||null===(o=W.filter((function(e){return e.module_id===n.module_id})))||void 0===o?void 0:o.find((function(n){return n.component_fields.filter((function(n){var l,o;return n.value===(null!==(l=null===(o=Gt.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.key)})))||void 0===o?void 0:o.value)&&void 0!==l?l:"#$")})).length>0})),d=null===t||void 0===t?void 0:t.component_fields.find((function(e){return e.procedure_step_blueprint_field_id===n.field_id}));return r.createElement(he.Z,{style:{display:d?"":"none",border:"0"},key:l,fieldLabel:null===d||void 0===d?void 0:d.field_name,fieldIcon:e.icon,isProcess:!0,visible:!0,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.notes},r.createElement("input",{onBlur:function(n){return je(e.data_type_name,n.target.value,E,l,M)},type:e.data_type,value:null===d||void 0===d?void 0:d.value,autoComplete:"none",className:me.fieldTypeInput,name:e.field_name,disabled:!0,style:{border:"1px dashed rgba(234, 231, 231, 0.91)",height:"40px",fontSize:"18px",backgroundColor:"rgba(234, 231, 231, 0.91)"}}))}))),r.createElement("br",null),r.createElement(y.zx,{clicked:function(){return vl()},title:"Close",style:{width:"100%",backgroundColor:"orange"}})))))}if("Lookup"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(ze=e.options)||void 0===ze||null===(We=ze.list)||void 0===We?void 0:We.length)>0&&(null===e||void 0===e||null===(Ve=e.options)||void 0===Ve||null===(Je=Ve.source_id)||void 0===Je?void 0:Je.length)>0&&null!==e&&void 0!==e&&null!==($e=e.options)&&void 0!==$e&&null!==(en=$e.target_id)&&void 0!==en&&en.length){var Kt,Qt,Xt,$t,ed,nd,ld,od,id,td,dd,ad,ud,rd,vd,sd,cd,pd,md=function(e,n){var l,o,i,t,d,a,u,r=null===(l=Y.processModule.module)||void 0===l||null===(o=l.options)||void 0===o?void 0:o.global;return r||(r=null===(i=M.components.find((function(n){return n.selected_fields.filter((function(n){return 1==n.visible&&n.field_name===e})).length>0})))||void 0===i||null===(t=i.selected_fields.find((function(n){return n.field_name===e})))||void 0===t?void 0:t.value),r||(r=null===(d=U.Z(F.Z("component_blueprints"),q.Z)(Y.processModule.completeSteps).find((function(n){return n.selected_fields.filter((function(n){return n.field_name===e&&"Value"===n.data_type_name})).length>0})))||void 0===d||null===(a=d.selected_fields.find((function(n){return n.field_name===e})))||void 0===a||null===(u=a.options)||void 0===u?void 0:u.value),r?n.filter((function(n){return n[e]===r})):n}(null===e||void 0===e||null===(Kt=e.options)||void 0===Kt?void 0:Kt.global,function(e,n,l,o,i){var t=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:W,r=u.filter((function(e){var n;return(null===(n=e.component_fields)||void 0===n?void 0:n.filter((function(e){return e.component_blueprint_id===l})).length)>0})),v=[];return u.filter((function(n){return n.component_fields.filter((function(n){return n.component_blueprint_id===e})).length>0})).map((function(e){var l={};o.map((function(n){var o;l[n]=null===(o=e.component_fields.find((function(e){return e.field_name===n})))||void 0===o?void 0:o.value}));var u=e.component_fields.find((function(e){return e.field_name===n}));void 0!==u&&r.filter((function(e){return e.component_fields.filter((function(e){return e.value===u.value&&e.field_name===n})).length>0})).map((function(n){var o,u,r,s=null!==(o=null===(u=n.component_fields.find((function(e){return-1!==t.indexOf(e.field_name)})))||void 0===u?void 0:u.value)&&void 0!==o?o:"",c={};t.length>0&&t.map((function(e){var l=n.component_fields.find((function(n){return n.field_name===e}));l&&(c[e]=l.value)}));var p={};i.length>0&&i.map((function(l){var o=n.component_fields.find((function(e){return e.field_name===l}));if(o)p[l]=o.value;else{var i=e.component_fields.find((function(e){return e.field_name===l}));i&&(p[l]=i.value)}})),v=[].concat((0,d.Z)(v),[(0,a.Z)((0,a.Z)((0,a.Z)({label:s,value:n.id,field:n,grouping:(null===(r=Object.values(l))||void 0===r?void 0:r.length)>0?Object.values(l)[0]:"Fields"},l),p),c)])}))})),v}(null===e||void 0===e||null===(Qt=e.options)||void 0===Qt?void 0:Qt.source_id,null===e||void 0===e||null===(Xt=e.options)||void 0===Xt?void 0:Xt.common_field,null===e||void 0===e||null===($t=e.options)||void 0===$t?void 0:$t.target_id,null===e||void 0===e||null===(ed=e.options)||void 0===ed?void 0:ed.sourceLabel,null===e||void 0===e||null===(nd=e.options)||void 0===nd?void 0:nd.list,null!==(ld=null===e||void 0===e||null===(od=e.options)||void 0===od?void 0:od.rlist)&&void 0!==ld?ld:[]));return r.createElement(he.Z,{enabled:Al,width:"100%",style:{border:"Tiles"===(null===e||void 0===e||null===(id=e.options)||void 0===id?void 0:id.selection)?"0":"1px dashed gray"},titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)",fontWeight:"regular",paddingLeft:"5px"},editMode:ae,showWidth:function(n){e.field_options=(0,a.Z)((0,a.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(td=e.options)||void 0===td?void 0:td.notes},r.createElement("div",{id:e.field_name,style:{width:"100%"}},"Dropdown"===(null===e||void 0===e||null===(dd=e.options)||void 0===dd?void 0:dd.selection)?r.createElement(L.yV,{items:md,groupedBy:"grouping",groupname:"grouping",triggerType:"chevron",title:mn,className:me.dropdownClassContainer,inputClassName:me.peoplePositionsSelectInput,molclassname:me.peoplePositionsSelectMenuOverlay,moliclassname:me.peoplePositionsSelectMenuOverlayItem,notags:"true",onChange:function(l){var o;l.length>0&&(null===e||void 0===e||null===(o=e.options)||void 0===o||o.list.map((function(n){var o=_l({field_name:n});if(-1!=o){var i=W.find((function(e){return e.id===l[0].value})),t=i.component_fields.find((function(e){return e.field_name===n}));if(void 0==t){var d=i.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.common_field)})),a=W.find((function(n){return n.component_fields.filter((function(n){var l;return n.value===d.value&&n.component_blueprint_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.source_id)})).length>0}));if(void 0!=a){var u=a.component_fields.find((function(e){return e.field_name===n}));void 0!=u?(g.selected_fields[o].value=u.value,g.selected_fields[o].disabled=!0):g.selected_fields[o].value=""}else g.selected_fields[o].value=""}else g.selected_fields[o].value=t.value,g.selected_fields[o].disabled=!0}})),w("".concat(l[0].label,",").concat(l[0].value),n),fn("".concat(l[0].grouping)))}}):"Tiles"===(null===e||void 0===e||null===(ad=e.options)||void 0===ad?void 0:ad.selection)?r.createElement(L.qq,{items:md,columns:null===e||void 0===e||null===(ud=e.options)||void 0===ud?void 0:ud.rlist,columnsG:null===e||void 0===e||null===(rd=e.options)||void 0===rd?void 0:rd.sourceLabel,initialSelected:null===e||void 0===e?void 0:e.value,selectedItems:null!==e&&void 0!==e&&null!==(vd=e.options)&&void 0!==vd&&vd.showAll?md:hn,showAll:1==(null===e||void 0===e||null===(sd=e.options)||void 0===sd?void 0:sd.showAll),groupedBy:"grouping",groupname:"grouping",className:me.peoplePositionsSelect,onGroupChange:function(e){gn(md.filter((function(n){return n.grouping===e})))},onChange:function(l){var o;l&&(null===e||void 0===e||null===(o=e.options)||void 0===o||o.list.map((function(n){var o=_l({field_name:n});if(-1!=o){var i=W.find((function(e){return e.id===l.value})),t=i.component_fields.find((function(e){return e.field_name===n}));if(void 0==t){var d=i.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.common_field)})),a=W.find((function(n){return n.component_fields.filter((function(n){var l;return n.value===d.value&&n.component_blueprint_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.source_id)})).length>0}));if(void 0!=a){var u=a.component_fields.find((function(e){return e.field_name===n}));void 0!=u?(g.selected_fields[o].value=u.value,g.selected_fields[o].disabled=!0):g.selected_fields[o].value=""}else g.selected_fields[o].value=""}else g.selected_fields[o].value=t.value,g.selected_fields[o].disabled=!0}})),vl(),w("".concat(l.label,",").concat(l.value),n))}}):r.createElement("div",{className:me.openSelectWithSearchHost},r.createElement(ke.Z,{title:null===e||void 0===e||null===(cd=e.options)||void 0===cd?void 0:cd.sourceLabel,triggerType:"eyeglass",className:me.openSelectWithSearch,molclassname:me.menuOverlayList,moliclassname:me.menuOverlayListItem,inputClassName:me.menuOverlayListItemInput,inputContainerClassName:me.menuOverlayListItemInputContainerClassName,items:H.Z(j.Z("grouping"))(md).map((function(e){return{label:e.grouping,value:e.grouping}})),onChange:function(n){document.getElementById(e.field_name).style.height="80px",gn(md.filter((function(e){return e.grouping===n.value})))}}),r.createElement(ke.Z,{title:null===e||void 0===e||null===(pd=e.options)||void 0===pd?void 0:pd.referenceLabel,triggerType:"eyeglass",className:me.openSelectWithSearch,molclassname:me.menuOverlayList,moliclassname:me.menuOverlayListItem,inputClassName:me.menuOverlayListItemInput,inputContainerClassName:me.menuOverlayListItemInputContainerClassName,items:hn,onChange:function(l){var o;(document.getElementById(e.field_name).style.height="80px",l)&&(null===e||void 0===e||null===(o=e.options)||void 0===o||o.list.map((function(n){var o=_l({field_name:n});if(-1!=o){var i=W.find((function(e){return e.id===l.value})),t=i.component_fields.find((function(e){return e.field_name===n}));if(void 0==t){var d=i.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.common_field)})),a=W.find((function(n){return n.component_fields.filter((function(n){var l;return n.value===d.value&&n.component_blueprint_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.source_id)})).length>0}));if(void 0!=a){var u=a.component_fields.find((function(e){return e.field_name===n}));void 0!=u?(g.selected_fields[o].value=u.value,g.selected_fields[o].disabled=!0):g.selected_fields[o].value=""}else g.selected_fields[o].value=""}else g.selected_fields[o].value=t.value,g.selected_fields[o].disabled=!0}})),w("".concat(l.label,",").concat(l.value),n))}}))))}if(("Step List"===(null===e||void 0===e?void 0:e.data_type_name)||"Component List"===(null===e||void 0===e?void 0:e.data_type_name))&&(null===e||void 0===e||null===(tn=e.options)||void 0===tn||null===(dn=tn.list)||void 0===dn?void 0:dn.length)>0&&(null===e||void 0===e||null===(an=e.options)||void 0===an||null===(un=an.component_id)||void 0===un?void 0:un.length)>0)return r.createElement("div",{key:n,style:{width:"100%",display:1==e.visible?"":"none"}},r.createElement(S.default,{columns:null===e||void 0===e||null===(Pt=e.options)||void 0===Pt?void 0:Pt.list,list:(Dl=null===e||void 0===e?void 0:e.options,M.components.filter((function(e){return e.id===Dl.component_id})).map((function(e){var n={};return Dl.list.map((function(l){var o,i;n=(0,a.Z)((0,a.Z)({},n),{},(i={},(0,t.Z)(i,l,null===(o=e.selected_fields.find((function(e){return e.field_name===l})))||void 0===o?void 0:o.value),(0,t.Z)(i,"temp_id",e.temp_id),i))})),n}))),onListItemClick:function(e){k({action:m._U.removeModuleComponents,value:e.temp_id})}}));if("Checkbox"===(null===e||void 0===e?void 0:e.data_type_name))return r.createElement(he.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},enabled:Al,border:{border:"0",paddingTop:"40px"},notes:null===e||void 0===e||null===(Dt=e.options)||void 0===Dt?void 0:Dt.notes,editMode:ae,width:"100%",showWidth:function(n){e.field_options=(0,a.Z)((0,a.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,visible:e.visible,mandatory:e.mandatory,error:e.errors,customIconBgColor:"white"},r.createElement(Ie.X,{defaultChecked:null!==(At=e.value)&&void 0!==At&&At,checkboxLabel:null===e||void 0===e||null===(Ot=e.options)||void 0===Ot?void 0:Ot.value,onChange:function(e){w(e.target.checked,n)}}));if("YesNo"===(null===e||void 0===e?void 0:e.data_type_name))return r.createElement(he.Z,{enabled:Al,style:{border:"0.5px dashed gray",padding:"10px"},width:"100%",editMode:ae,key:n,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement("div",{class:"checkbox-wrapper-21"},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",margin:"20px 0px"}},r.createElement("input",{id:"check-23",type:"checkbox",checked:null!==(Lt=null===e||void 0===e?void 0:e.value)&&void 0!==Lt&&Lt,onChange:function(e){return w(e.target.checked,n)},style:{marginRight:"20px"}}),r.createElement("label",null,null!==(zt=null===e||void 0===e||null===(Rt=e.options)||void 0===Rt?void 0:Rt.notes)&&void 0!==zt?zt:e.field_name))));if("Transaction List"===(null===e||void 0===e?void 0:e.data_type_name)&&null!==e&&void 0!==e&&null!==(rn=e.options)&&void 0!==rn&&rn.simple){var fd,_d,yd,hd,gd,bd,xd,Ed=V.Z([Q.Z(J.Z("index"))])(null!==(fd=null!==e&&void 0!==e&&null!==(_d=e.options)&&void 0!==_d&&_d.type?M.items.filter((function(n){var l;return n.type===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.type)})):M.items)&&void 0!==fd?fd:[]);return r.createElement(he.Z,{fieldLabel:null===e||void 0===e?void 0:e.field_name,enabled:Al,width:"100%",editMode:ae,showWidth:function(n){e.options=(0,a.Z)((0,a.Z)({},e.options),{},{width:"".concat(n,"px")})},style:{border:"0",padding:"0",marginTop:"50px"},key:n,visible:e.visible,notes:null===e||void 0===e||null===(yd=e.options)||void 0===yd?void 0:yd.notes,error:(null===(hd=e.errors)||void 0===hd?void 0:hd.length)>0?"".concat(e.errors):""},r.createElement("div",{style:{width:"inherit"}},(null===g||void 0===g||null===(gd=g.options)||void 0===gd?void 0:gd.allowMultipleInputs)&&r.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"}},r.createElement(y.zx,{light:!0,style:{width:"32px"},clicked:function(){var n,l;k({action:m._U.setModuleItems,value:[].concat((0,d.Z)(M.items),[{id:(0,O.mR)(),item_code:"",value:"",alt_value:"",quantity:"",total:"",type:null!==(n=null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.type)&&void 0!==n?n:"",edit:!0}])})}},r.createElement(C.mm,null))),r.createElement(S.default,{modern:!!h.tq,className:me.itemsContainer,columns:null===g||void 0===g||null===(bd=g.selected_fields)||void 0===bd?void 0:bd.filter((function(e){var n;return null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem})).map((function(e){return e.field_name})).concat(["Actions"]),list:null===Ed||void 0===Ed?void 0:Ed.map((function(e,n){var l,o;e.index=n;var i={index:n,Actions:r.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",minWidth:"80px"}},!(null!==e&&void 0!==e&&e.edit)&&r.createElement(ve.G,{icon:re.IwR,onClick:function(){e.edit=!0,k({action:m._U.setModuleItems,value:[].concat((0,d.Z)(Ed.filter((function(n){return n.id!==e.id}))),[e])})}}),(null===e||void 0===e?void 0:e.edit)&&r.createElement(ve.G,{icon:re.EsX,onClick:function(){e.edit=!1,k({action:m._U.setModuleItems,value:[].concat((0,d.Z)(Ed.filter((function(n){return n.id!==e.id}))),[e])})}}),(null===e||void 0===e?void 0:e.edit)&&r.createElement(ve.G,{icon:re.$aW,onClick:function(){k({action:m._U.setModuleItems,value:Ed.filter((function(n){return n.id!==e.id}))})}}))};return(null!==(l=null===g||void 0===g||null===(o=g.selected_fields)||void 0===o?void 0:o.filter((function(e){var n;return null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem})))&&void 0!==l?l:[]).forEach((function(l){var o,t,u,v=(0,O.sO)(e[l.options.mapToItem])?JSON.parse(null!==(o=e[l.options.mapToItem])&&void 0!==o?o:"{}"):{};i[l.field_name]=r.createElement("div",{style:{padding:null!==e&&void 0!==e&&e.edit?"5px":""}},r.createElement(gl,{item:e,index:n,enabled:!0,edit:null!==(t=null===e||void 0===e?void 0:e.edit)&&void 0!==t&&t,isItem:!0,field:(0,a.Z)((0,a.Z)({},l),{},{visible:!0,value:null!==(u=v[l.field_name])&&void 0!==u?u:""}),withLabel:!1,handleItem:function(n,o){v[l.field_name]=n,e[l.options.mapToItem]=JSON.stringify(v),k({action:m._U.setModuleItems,value:[].concat((0,d.Z)(M.items.filter((function(n){return n.id!==e.id}))),[e])})}}))})),i})),footer:null===g||void 0===g||null===(xd=g.selected_fields)||void 0===xd?void 0:xd.filter((function(e){var n;return null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem})).map((function(n){var l;return null!==n&&void 0!==n&&null!==(l=n.options)&&void 0!==l&&l.footer?bl(M.items,n,e):""})).concat([""])})))}if("Transaction List"!==(null===e||void 0===e?void 0:e.data_type_name)||null===e||void 0===e||null===(cn=e.options)||void 0===cn||!cn.map||null!==e&&void 0!==e&&null!==(pn=e.options)&&void 0!==pn&&pn.simple){var Cd,wd,Zd,Md,Sd,kd,Id,Nd,Td,Pd,Dd,Ad,Od,Ld,zd,Rd,Ud,Fd,qd,Wd,Bd,Yd,Hd,jd,Vd,Gd,Jd,Kd,Qd,Xd,$d,ea,na,la,oa,ia,ta,da,aa,ua,ra,va,sa,ca,pa,ma,fa;if("Clock"===(null===e||void 0===e?void 0:e.data_type_name))return r.createElement(he.Z,{enabled:Al,width:"100%",editMode:ae,style:{},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(Cd=e.options)||void 0===Cd?void 0:Cd.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement("div",{className:me.centerDiv,style:{width:"100%",height:"auto",border:"1px dashed var(--app-color-gray-light)",padding:"50px",flexDirection:"column"}},r.createElement("p",{className:me.timer},"".concat(ue.format("DD MMMM YYYY HH:mm:ss"))),r.createElement("div",{className:me.centerDiv,style:{display:"flex",flexDirection:"row"}},r.createElement("input",{readOnly:!0,autoComplete:"off",value:null!==e&&void 0!==e&&e.value?de()(new Date(null===e||void 0===e?void 0:e.value)).format("MMM DD hh:mm:ss"):"",className:me.currencyInput,style:{border:"1px solid black",maxWidth:"300px",marginRight:"10px"}}),r.createElement(y.zx,{light:!0,title:"Set",clicked:function(){x((0,te.now)(),n)}}))));if("ID"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(_n=e.options)||void 0===_n||null===(yn=_n.id)||void 0===yn?void 0:yn.length)>0){var _a,ya,ha=void 0===e.value||null===e.value?"".concat(null===e||void 0===e?void 0:e.options.id).concat(null===(null===R||void 0===R?void 0:R.misc_info)?1:null!==(_a=null===R||void 0===R?void 0:R.misc_info[null===e||void 0===e?void 0:e.field_name])&&void 0!==_a?_a:1):e.value;return e.value=ha,M.id=ha,r.createElement(he.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)",fontWeight:"regular",paddingLeft:"5px"},width:"100%",style:{marginTop:"0px",border:"1px dashed var(--app-color-gray-light)",padding:"5px"},editMode:ae,showWidth:function(n){e.field_options=(0,a.Z)((0,a.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,fieldIcon:e.icon,notes:null===e||void 0===e||null===(ya=e.options)||void 0===ya?void 0:ya.notes,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,customIconBgColor:"white"},r.createElement("div",{className:me.fieldTypeInput,style:{border:"0"}},e.value))}if("Notes"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(bn=e.options)||void 0===bn||null===(xn=bn.value)||void 0===xn?void 0:xn.length)>0)return r.createElement(he.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)",fontWeight:"regular",paddingLeft:"5px"},enabled:Al,width:"100%",editMode:ae,showWidth:function(n){e.field_options=(0,a.Z)((0,a.Z)({},e.field_options),{},{width:"".concat(n,"px")})},style:{border:"0"},key:n,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:!1,error:e.errors},r.createElement("label",{key:n,className:me.labelInput,style:{display:e.visible?"":"none"}},"".concat(e.field_name,": ").concat(null===e||void 0===e||null===(wd=e.options)||void 0===wd?void 0:wd.value)));if("List Filter"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(wn=e.options)||void 0===wn||null===(Zn=wn.value)||void 0===Zn?void 0:Zn.length)>0)return r.createElement(r.Fragment,null);if("Ratings"===(null===e||void 0===e?void 0:e.data_type_name))return r.createElement(r.Fragment,null);if("Value"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(kn=e.options)||void 0===kn||null===(In=kn.module_id)||void 0===In?void 0:In.length)>0&&(null===e||void 0===e||null===(Pn=e.options)||void 0===Pn||null===(Dn=Pn.component_id)||void 0===Dn?void 0:Dn.length)>0)return r.createElement(he.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},width:"100%",style:{border:"0"},key:n,fieldLabel:e.field_name,fieldIcon:e.icon,editMode:ae,showWidth:function(n){e.field_options=(0,a.Z)((0,a.Z)({},e.field_options),{},{width:"".concat(n,"px")})},notes:null===e||void 0===e||null===(Zd=e.options)||void 0===Zd?void 0:Zd.notes,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,customIconBgColor:"white"},r.createElement("input",{value:null===e||void 0===e||null===(Md=e.options)||void 0===Md?void 0:Md.value,className:me.fieldTypeInput,name:e.field_name,disabled:!0}));if("URL"===e.data_type_name)return r.createElement(he.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},border:{border:"0"},width:"100%",editMode:ae,showWidth:function(n){e.field_options=(0,a.Z)((0,a.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,notes:null===e||void 0===e||null===(Sd=e.options)||void 0===Sd?void 0:Sd.notes,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,customIconBgColor:"white"},null!==e&&void 0!==e&&null!==(kd=e.options.value)&&void 0!==kd&&kd.includes("jpg")||null!==e&&void 0!==e&&null!==(Id=e.options.value)&&void 0!==Id&&Id.includes("jpeg")||null!==e&&void 0!==e&&null!==(Nd=e.options)&&void 0!==Nd&&Nd.image||null!==e&&void 0!==e&&null!==(Td=e.options.value)&&void 0!==Td&&Td.includes("png")?r.createElement("div",{onClick:function(){return window.open(null===e||void 0===e?void 0:e.options.value,"_blank")}},r.createElement("img",{alt:"lg",src:null===e||void 0===e?void 0:e.options.value,style:{width:"100%",height:"100%",cursor:"pointer"}})):null!==e&&void 0!==e&&null!==(Pd=e.options.value)&&void 0!==Pd&&Pd.includes("pdf")?r.createElement("div",{style:{width:"inherit"},onClick:function(){return window.open(null===e||void 0===e?void 0:e.options.value,"_blank")}},r.createElement("embed",{src:"".concat(null===e||void 0===e?void 0:e.options.value,"#toolbar=0&navpanes=0&scrollbar=0&zoom=100%"),width:"100%",height:"1000px"})):r.createElement("div",{style:{width:"inherit"},onClick:function(){return window.open(null===e||void 0===e?void 0:e.options.value,"_blank")}},r.createElement("textarea",{disabled:!0,onChange:function(){},autoComplete:"none",value:null===(null===e||void 0===e?void 0:e.options.value)?"":null===e||void 0===e?void 0:e.options.value,className:me.fieldTypeInput,style:{height:"auto",width:"inherit",cursor:"pointer"},name:e.field_name})));if("Formula"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Ln=e.options)||void 0===Ln||null===(zn=Ln.operator)||void 0===zn?void 0:zn.length)>0){var ga,ba,xa,Ea,Ca,wa=M.newStepComponents.filter((function(e){return null===e.options||(void 0===e.allowMultipleInputs||!1===e.options.allowMultipleInputs)})),Za=(0,O.LV)(null===e||void 0===e?void 0:e.options,g.selected_fields.filter((function(n){return e.options.list.includes(n.field_name)})),[].concat((0,d.Z)(M.components.filter((function(e){return wa.every((function(n){return n.id!==e.id}))}))),(0,d.Z)(B.Z((function(e){return e.selected_fields.filter((function(e){return""===e.value})).length>0}),wa))),null!==(ga=null===M||void 0===M?void 0:M.items)&&void 0!==ga?ga:[],null!==(ba=null===M||void 0===M?void 0:M.newStepComponents)&&void 0!==ba?ba:[]);return void 0!==Za&&0!==Za&&(e.value=Za),"bar"===(null===e||void 0===e||null===(xa=e.options)||void 0===xa?void 0:xa.display)?r.createElement("div",{style:{margin:"20px",display:"flex",height:"30px",width:"100%"}},r.createElement("label",{className:me.fieldTypeInput,style:{width:"20%"}},null===e||void 0===e?void 0:e.field_name),r.createElement("div",{style:{height:"30px",width:"100%",backgroundColor:null===e||void 0===e||null===(Ea=e.options)||void 0===Ea?void 0:Ea.maxC,display:"flex",flexDirection:"column"}},r.createElement("input",{value:Za||0,className:me.fieldTypeInput,name:e.field_name,disabled:!0,style:{color:"transparent",height:"30px",width:"".concat(+Za/+e.options.max*100,"%"),backgroundColor:null===e||void 0===e||null===(Ca=e.options)||void 0===Ca?void 0:Ca.barC}})),r.createElement("label",{className:me.fieldTypeInput,style:{width:"2%"}},"".concat(+Za/+e.options.max*100,"%"))):r.createElement(he.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)",fontWeight:"regular",paddingLeft:"5px"},width:"100%",style:{border:"1px dashed var(--app-color-gray-light)",padding:"5px"},editMode:ae,showWidth:function(n){e.field_options=(0,a.Z)((0,a.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,customIconBgColor:"white"},r.createElement("div",{style:{flexDirection:"column",width:"inherit"},key:n},r.createElement("input",{value:Za||0,className:me.fieldTypeInput,name:e.field_name,readOnly:!0,style:{border:"0"}}),ul&&Za>0&&r.createElement(Ke,{title:"",nav:ul,openNav:vl},r.createElement("div",{style:{color:"var(--app-color-gray-dark)",height:"inherit",width:"100%",display:null!==e&&void 0!==e&&e.visible?"":"none"}},r.createElement("div",{key:n},r.createElement("div",{className:me.actionsContainer,style:{fontSize:"20px"}},r.createElement("div",null,e.field_name,":"),r.createElement("div",{style:{fontWeight:"bolder"}},Za)),r.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}})),r.createElement("br",null),r.createElement(y.zx,{clicked:function(){return vl()},title:"Continue",style:{width:"100%"}})))))}if("Dropdown"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Fn=e.options)||void 0===Fn||null===(qn=Fn.list)||void 0===qn?void 0:qn.length)>0)return r.createElement(he.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)",fontWeight:"regular",paddingLeft:"5px"},enabled:Al,width:"100%",style:{marginTop:"0px",border:"1px dashed var(--app-color-gray-light)",padding:"5px"},editMode:ae,showWidth:function(n){e.field_options=(0,a.Z)((0,a.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(Dd=e.options)||void 0===Dd?void 0:Dd.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement("div",{style:{width:"100%"}},r.createElement(N.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},key:n,visible:e.visible,mandatory:e.mandatory,items:null===e||void 0===e||null===(Ad=e.options)||void 0===Ad?void 0:Ad.list.map((function(e){return{label:e,value:e}})),className:me.dropdownClassContainer,error:e.errors,onClicked:function(e){return On(e?"180px":"50px")},onChange:function(e){On("50px"),w(e,n)},selectionType:null===e||void 0===e||null===(Od=e.options)||void 0===Od?void 0:Od.type,fieldIcon:e.icon,value:void 0===e.value||null===e.value?"":e.value})));if("Payments"===(null===e||void 0===e?void 0:e.data_type_name))return r.createElement(he.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)",fontWeight:"regular",paddingLeft:"5px"},enabled:Al,width:"100%",style:{marginTop:"0px",border:"1px dashed var(--app-color-gray-light)",padding:"5px"},editMode:ae,showWidth:function(n){e.field_options=(0,a.Z)((0,a.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(Ld=e.options)||void 0===Ld?void 0:Ld.notes,fieldIcon:e.icon,isProcess:!0,visible:!0,mandatory:e.mandatory,error:Rn[n]},r.createElement("div",{style:{width:"100%",pointerEvents:!0===(null===Y||void 0===Y||null===(zd=Y.processModule)||void 0===zd?void 0:zd.isUpdating)?"none":""}},null!==b&&void 0!==b&&null!==(Rd=b.payments)&&void 0!==Rd&&Rd.stripe_id?r.createElement("div",{style:{padding:"10px 5px 10px 5px",width:"100%",border:"0px solid var(--app-color-gray-lighter)"}},"".concat(null===e||void 0===e?void 0:e.value,", ").concat(null===b||void 0===b||null===(Hd=b.payments)||void 0===Hd?void 0:Hd.stripe_id.slice(0,6))):r.createElement(N.Z,{key:n,visible:e.visible,mandatory:e.mandatory,items:!0===(null===(Ud=Y.processModule)||void 0===Ud||null===(Fd=Ud.module)||void 0===Fd||null===(qd=Fd.options)||void 0===qd?void 0:qd.credits)?[].concat((0,d.Z)(null!==(Wd=null===e||void 0===e||null===(Bd=e.options)||void 0===Bd?void 0:Bd.list.map((function(e){return{label:e,value:e}})))&&void 0!==Wd?Wd:[]),[{label:"Wallet",value:"Wallet"}]):null===e||void 0===e||null===(Yd=e.options)||void 0===Yd?void 0:Yd.list.map((function(e){return{label:e,value:e}})),className:me.dropdownClassContainer,error:e.errors,onClicked:function(e){return On(e?"180px":"50px")},onChange:function(l){if(l){var o,i,t,d,a,u,r,v,s,c,p,m,f,_,y,h,g,b,x=null===(o=M.newStepComponents.find((function(n){return n.selected_fields.filter((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)})).length>0})))||void 0===o||null===(i=o.selected_fields)||void 0===i?void 0:i.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)})),E=null===(t=M.components.find((function(n){return n.selected_fields.filter((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)})).length>0})))||void 0===t||null===(d=t.selected_fields)||void 0===d?void 0:d.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)})),C=null===(a=M.currentStep)||void 0===a||null===(u=a.component_blueprints)||void 0===u||null===(r=u.find((function(n){var l;return null===n||void 0===n||null===(l=n.selected_fields)||void 0===l?void 0:l.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)}))})))||void 0===r||null===(v=r.selected_fields)||void 0===v?void 0:v.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)}));if(Rn[n]="",+(null!==(s=null===x||void 0===x?void 0:x.value)&&void 0!==s?s:0)>0)M.total=x.value,M.plan=x.value;else if(+(null!==(c=null===E||void 0===E?void 0:E.value)&&void 0!==c?c:0)>0)M.total=E.value,M.plan=E.value;else{if(!(+(null!==(p=null===C||void 0===C?void 0:C.value)&&void 0!==p?p:0)>0))return Rn[n]="Please enter a payment amount in the designated field",Un([]),void setTimeout((function(){return Un(Rn)}));M.total=C.value,M.plan=C.value}if(1==(null===(m=Y.processModule)||void 0===m||null===(f=m.module)||void 0===f||null===(_=f.options)||void 0===_?void 0:_.credits)&&"Wallet"===l){if(+(null!==(b=Re.wallet)&&void 0!==b?b:0)<+M.total)return Rn[n]="Insufficient wallet balance",Un([]),void setTimeout((function(){return Un(Rn)}))}else if(1==(null===(y=Y.processModule)||void 0===y||null===(h=y.module)||void 0===h||null===(g=h.options)||void 0===g?void 0:g.credits)&&"Points"===l){var Z,S;if(+(null!==(Z=null===(S=Re.options)||void 0===S?void 0:S.points)&&void 0!==Z?Z:0)<+M.total)return Rn[n]="Insufficient points balance",Un([]),void setTimeout((function(){return Un(Rn)}))}Rn[n]="",Un([]),setTimeout((function(){return Un(Rn)})),On("50px"),w(l,n)}},selectionType:"Dropdown",fieldIcon:e.icon,value:void 0===e.value||null===e.value?"":e.value,placeholder:""})));if("Positions"===(null===e||void 0===e?void 0:e.data_type_name)&&"multiple"===(null===e||void 0===e||null===(Yn=e.options)||void 0===Yn?void 0:Yn.type))return r.createElement(he.Z,{enabled:Al,style:{height:"".concat((null===e||void 0===e||null===(jd=e.value)||void 0===jd?void 0:jd.split(",").length)>2?"160":"45","px"),marginBottom:"50px"},width:"100%",editMode:ae,key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(Vd=e.options)||void 0===Vd?void 0:Vd.notes},r.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-dark)"}},r.createElement(N.Z,{onOpen:function(e){On("50px"===An?"180px":"50px")},visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:me.dropdownClassContainer,items:$.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.value)})),value:e.value,loading:Qe,error:null===e||void 0===e?void 0:e.errors,onChange:function(e){w(e,n)},selectionType:"multiple",fieldIcon:null===e||void 0===e?void 0:e.icon,placeholder:""})));if("Positions"===(null===e||void 0===e?void 0:e.data_type_name)&&null!==e&&void 0!==e&&null!==(Hn=e.options)&&void 0!==Hn&&Hn.calendar){var Ma,Sa,ka,Ia,Na,Ta,Pa,Da,Aa,Oa,La,za,Ra,Ua,Fa,qa,Wa=JSON.parse(null!==(Ma=null===e||void 0===e?void 0:e.value)&&void 0!==Ma?Ma:JSON.stringify({user:0})),Ba=Ye.find((function(e){return e.id===(null===Wa||void 0===Wa?void 0:Wa.task)})),Ya=null===Ye||void 0===Ye?void 0:Ye.filter((function(e){var n,l,o,i;return(null===e||void 0===e||null===(n=e.add_info)||void 0===n?void 0:n.module_id)===(null===(l=Y.processModule)||void 0===l?void 0:l.module_id)&&e.creator.id===(null===Wa||void 0===Wa?void 0:Wa.user)&&!(null!==e&&void 0!==e&&null!==(o=e.assignee)&&void 0!==o&&o.id)&&de()((0,te.now)()).diff(de()(null===e||void 0===e||null===(i=e.add_info)||void 0===i?void 0:i.start),"seconds")<0}));return r.createElement(he.Z,{enabled:Al,style:{marginBottom:"50px"},width:"100%",editMode:ae,key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(Sa=e.options)||void 0===Sa?void 0:Sa.notes},r.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},r.createElement("div",{style:{width:"100%",border:"1px solid var(--app-color-gray-light)"}},r.createElement(N.Z,{onFocus:function(){return 0==$.length&&ml()},visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:"multiple"===(null===e||void 0===e||null===(ka=e.options)||void 0===ka?void 0:ka.type)?me.dropdownHeightClassContainer:me.dropdownClassContainer,value:null===(Ia=$.find((function(e){return e.value===(null===Wa||void 0===Wa?void 0:Wa.pos)})))||void 0===Ia?void 0:Ia.label,loading:Qe,items:$.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.value)})),error:null===e||void 0===e?void 0:e.errors,onChange:function(e){e.length>0&&(Wa.pos=void 0,Wa.user=void 0,w(JSON.stringify(Wa),n),(0,Ee.n0)([e]).pipe((0,c.q)(1)).subscribe({next:function(l){xe(l),setTimeout((function(){Wa.pos=e,w(JSON.stringify(Wa),n)}),0)}}))},selectionType:null===e||void 0===e||null===(Na=e.options)||void 0===Na?void 0:Na.type,fieldIcon:null===e||void 0===e?void 0:e.icon})),r.createElement("div",{style:{width:"100%"}},0==(null===be||void 0===be?void 0:be.length)&&r.createElement("p",null,"No ".concat(e.field_name," found")),!Ba&&r.createElement(S.default,{initialSelected:null!==e&&void 0!==e&&e.value?be.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.user)||void 0===n||null===(l=n.positions)||void 0===l?void 0:l.filter((function(e){return(null===Wa||void 0===Wa?void 0:Wa.pos)===(null===e||void 0===e?void 0:e.id)})).length)>0})).map((function(e){return e.value})).indexOf(null===Wa||void 0===Wa?void 0:Wa.user):void 0,card:!0,isReport:!1,"app-variant-is-mobile":"true",columns:["Name","Info","About"].concat((0,d.Z)(null!==(Ta=null===R||void 0===R||null===(Pa=R.misc_info)||void 0===Pa?void 0:Pa.profile)&&void 0!==Ta?Ta:["Rate"]),["Location","Photo","Ratings"]),list:be.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.user)||void 0===n||null===(l=n.positions)||void 0===l?void 0:l.filter((function(e){return(null===Wa||void 0===Wa?void 0:Wa.pos)===(null===e||void 0===e?void 0:e.id)})).length)>0})).map((function(e){var n,l,o,i,t,d,u,v,s,c,p,m,f,_=null===e||void 0===e||null===(n=e.user)||void 0===n||null===(l=n.ratings)||void 0===l?void 0:l.map((function(e){return+e.ratings}));return(0,a.Z)((0,a.Z)({},null!==(o=null===(i=e.user)||void 0===i||null===(t=i.options)||void 0===t?void 0:t.add_info)&&void 0!==o?o:{}),{},{Name:"".concat(e.user.first_name," ").concat(e.user.last_name),Location:r.createElement("div",{style:{marginTop:"10px"}},null===(d=e.user)||void 0===d?void 0:d.city),About:null!==(u=null===(v=e.user.options)||void 0===v?void 0:v.info)&&void 0!==u?u:null===(s=e.user)||void 0===s?void 0:s.positions.map((function(e){return e.name})).toString().replace(",",", "),id:e.user.id,Photo:null!==(c=null===(p=e.user)||void 0===p?void 0:p.photo)&&void 0!==c?c:null===Y||void 0===Y||null===(m=Y.processModule.module)||void 0===m||null===(f=m.options)||void 0===f?void 0:f.background,Ratings:(null===_||void 0===_?void 0:_.length)>0&&r.createElement("div",{className:me.simpleNames},Array(Math.round(ee.Z(ne.Z,[le.Z,oe.Z])(_))).fill(0).map((function(e,n){return r.createElement(ve.G,{key:n,icon:re.Tab,style:{color:"var(--app-color-blue)"}})})),Array(5-Math.round(ee.Z(ne.Z,[le.Z,oe.Z])(_))).fill(0).map((function(e,n){return r.createElement(ve.G,{key:n,icon:re.Tab,style:{color:"lightgray"}})})))})})),onListItemClick:function(e){if(e){var l=be.find((function(n){return n.value===e.id}));Wa.user=null===l||void 0===l?void 0:l.value,w(JSON.stringify(Wa),n),(0,Pe.Mk)(null===l||void 0===l?void 0:l.value,!0).pipe((0,c.q)(1)).subscribe({})}}},(null===Ya||void 0===Ya?void 0:Ya.length)>0&&r.createElement("p",null,"Schedules"),(null===Ya||void 0===Ya?void 0:Ya.length)>0&&r.createElement(ce.tq,{slidesPerView:3,centeredSlides:!0,spaceBetween:5,initialSlide:1,pagination:{clickable:!0,dynamicBullets:!0},modules:[se.pt,se.tl],className:"mySwiper",style:{border:"0.8px dashed gray",padding:"5px",height:"200px",display:(null===Ya||void 0===Ya?void 0:Ya.length)>0?"":"none"}},null===Ya||void 0===Ya?void 0:Ya.map((function(e,n){return r.createElement(ce.o5,{key:n+100,className:me.swiperslide},r.createElement("div",{className:me.dashboardCard,onClick:function(){Vn(!0),Qn(e)}},r.createElement("div",{style:{fontSize:"10px"}},de()(new Date(e.add_info.start)).format("h:mm a")),e.add_info.end!==e.add_info.start&&r.createElement("div",{style:{fontSize:"10px"}},de()(new Date(e.add_info.end)).format("h:mm a")),r.createElement("hr",{style:{border:"0.8px dashed gray"}}),r.createElement("p",{style:{fontSize:"12px",fontWeight:"bold"}},de()(new Date(e.add_info.start)).format("MMM")),r.createElement("div",{style:{fontSize:"20px",fontWeight:"bold"}},de()(new Date(e.add_info.start)).format("DD"))))})))),Ba&&r.createElement(S.default,{modern:!0,isReport:!1,"app-variant-is-mobile":"true",columns:["Responsible",null!==(Da=null===e||void 0===e||null===(Aa=e.options)||void 0===Aa?void 0:Aa.header)&&void 0!==Da?Da:"Name",null!==(Oa=null===e||void 0===e||null===(La=e.options)||void 0===La?void 0:La.start)&&void 0!==Oa?Oa:"Date","Photo"],list:[Ba].map((function(n){var l,o,i,d,a,u,r;return r={},(0,t.Z)(r,null!==(l=null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.header)&&void 0!==l?l:"Name",n.name),(0,t.Z)(r,null!==(i=null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.start)&&void 0!==i?i:"Date",de()(new Date(null===(a=n.add_info)||void 0===a?void 0:a.start)).format("MMM DD h:mm a")),(0,t.Z)(r,"Responsible","".concat(n.creator.first_name," ").concat(n.creator.last_name)),(0,t.Z)(r,"Photo",null===(u=n.creator)||void 0===u?void 0:u.photo),r})),onListItemClick:function(e){e&&(Vn(!0),Qn(Ba))}}),jn&&r.createElement(nn,{save:!1,modalVisible:jn,heading:null!==(za=null===e||void 0===e||null===(Ra=e.options)||void 0===Ra?void 0:Ra.header)&&void 0!==za?za:Kn?"Update Calendar":"Create New Calendar",labels:null===e||void 0===e?void 0:e.options,task:Kn,isProcess:!0,blured:!1,onClose:function(){return Vn(!1)},isEdit:!!Kn,statuses:null===e||void 0===e||null===(Ua=e.options)||void 0===Ua?void 0:Ua.list,priority:null===e||void 0===e||null===(Fa=e.options)||void 0===Fa?void 0:Fa.priority,span:null===e||void 0===e||null===(qa=e.options)||void 0===qa?void 0:qa.span,start_date:ln,onUpdate:function(l){if(l.creator.id!==(null===Se||void 0===Se?void 0:Se.id)&&(null===l||void 0===l?void 0:l.assignee_id)===(null===Se||void 0===Se?void 0:Se.id)){var o;if(M.assigned_to=l.creator.id,Wa.task=null===l||void 0===l?void 0:l.id,null!==l&&void 0!==l&&null!==(o=l.add_info)&&void 0!==o&&o.value){var i,t,d,a,u,r,v,s,c;Wa.value=null===l||void 0===l||null===(i=l.add_info)||void 0===i?void 0:i.value;var p,m=null===(t=M.components.find((function(n){return n.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))})))||void 0===t?void 0:t.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}));if(m)m.value=null===l||void 0===l||null===(p=l.add_info)||void 0===p?void 0:p.value;var f,_=null===(d=M.newStepComponents.find((function(n){return n.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))})))||void 0===d?void 0:d.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}));if(_)_.value=null===l||void 0===l||null===(f=l.add_info)||void 0===f?void 0:f.value;var y,h=null===(a=Y.processModule)||void 0===a||null===(u=a.steps)||void 0===u||null===(r=u.find((function(n){var l;return null===(l=n.component_blueprints)||void 0===l?void 0:l.find((function(n){var l;return null===n||void 0===n||null===(l=n.selected_fields)||void 0===l?void 0:l.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))}))})))||void 0===r||null===(v=r.component_blueprints)||void 0===v||null===(s=v.find((function(n){var l;return null===n||void 0===n||null===(l=n.selected_fields)||void 0===l?void 0:l.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))})))||void 0===s||null===(c=s.selected_fields)||void 0===c?void 0:c.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}));if(h)h.value=null===l||void 0===l||null===(y=l.add_info)||void 0===y?void 0:y.value}w(JSON.stringify(Wa),n)}}}))))}if("Positions"===(null===e||void 0===e?void 0:e.data_type_name))return r.createElement(he.Z,{enabled:Al,titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)",fontWeight:"regular",paddingLeft:"5px"},style:{marginTop:"0px",border:"1px dashed var(--app-color-gray-light)",padding:"5px"},width:"100%",editMode:ae,key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(Gd=e.options)||void 0===Gd?void 0:Gd.notes},r.createElement("div",{style:{width:"100%",bborder:"1px dashed var(--app-color-gray-light)"}},r.createElement(N.Z,{visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:"multiple"===(null===e||void 0===e||null===(Jd=e.options)||void 0===Jd?void 0:Jd.type)?me.dropdownHeightClassContainer:me.dropdownClassContainer,items:$.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.value)})),value:null===(Kd=$.find((function(n){return n.value===e.value})))||void 0===Kd?void 0:Kd.label,loading:Qe,error:null===e||void 0===e?void 0:e.errors,onChange:function(l){var o;w(l,n),null!==e&&void 0!==e&&null!==(o=e.options)&&void 0!==o&&o.addToPos&&(0,Ee.Vy)(Se,(0,a.Z)((0,a.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{selPos:l})).pipe((0,s.P)()).subscribe({next:function(e){(0,Z.aT)(l,null===Se||void 0===Se?void 0:Se.id).subscribe({next:function(){var n;(Se.options.selPos&&Se.options.selPos!==l?(0,Z._s)(Se.options.selPos,null===Se||void 0===Se?void 0:Se.id).subscribe({next:function(){window.scrollTo({top:0,behavior:"smooth"})}}):window.scrollTo({top:0,behavior:"smooth"}),null!==e&&void 0!==e&&e.user)||(Se.options.selPos=null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.selPos)}})}})},selectionType:null===e||void 0===e||null===(Qd=e.options)||void 0===Qd?void 0:Qd.type,fieldIcon:null===e||void 0===e?void 0:e.icon})));if("Value Button"===(null===e||void 0===e?void 0:e.data_type_name))return r.createElement(he.Z,{width:"100%",editMode:ae,key:n,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,customIconBgColor:"white"},r.createElement(S.default,{rowStyleSelected:{border:null!==e&&void 0!==e&&e.value?"2px solid black":"1px dashed black"},initialSelected:(null===(Xd=e.options)||void 0===Xd?void 0:Xd.value)===(null===e||void 0===e?void 0:e.value)?0:void 0,modern:!0,isReport:!1,filtersContainer:me.filtersContainerII,"app-variant-is-mobile":"true",columns:["Type","Description","Image"],list:[{Type:null===($d=e.options)||void 0===$d?void 0:$d.label,Description:null!==(ea=null===e||void 0===e||null===(na=e.options)||void 0===na?void 0:na.notes)&&void 0!==ea?ea:e.field_name,Image:null===(la=e.options)||void 0===la?void 0:la.image}],onListItemClick:function(){var l;null!==e&&void 0!==e&&e.value?x(void 0,n):(null===g||void 0===g||null===(l=g.selected_fields)||void 0===l||l.filter((function(e){return"Value Button"===(null===e||void 0===e?void 0:e.data_type_name)})).map((function(e){e.value=void 0})),x(e.options.value,n))}}));if("Calendar"===(null===e||void 0===e?void 0:e.data_type_name))return r.createElement(he.Z,{enabled:Al,width:"100%",style:{width:"100%"},editMode:ae,showWidth:function(n){e.field_options=(0,a.Z)((0,a.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,notes:null===e||void 0===e||null===(oa=e.options)||void 0===oa?void 0:oa.notes},r.createElement("div",{id:e.field_name,style:{width:"inherit",marginBottom:"160px"}},r.createElement(y.zx,{light:!0,clicked:function(){var e,n;Xe(!0),(0,Pe.Mk)(null!==(e=null===b||void 0===b||null===(n=b.created_by)||void 0===n?void 0:n.id)&&void 0!==e?e:Se.id,!0).pipe((0,c.q)(1)).subscribe({next:function(){Xe(!1)}})},loading:Qe,icon:r.createElement("img",{src:C.Fd})}),!(jn||Qe)&&r.createElement(fe.Scheduler,{events:Ye.length>0?null===Ye||void 0===Ye||null===(ia=Ye.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.add_info)||void 0===n?void 0:n.module_id)===(null===(l=Y.processModule)||void 0===l?void 0:l.module_id)})))||void 0===ia?void 0:ia.map((function(e){var n,l;return{event_id:e.id,title:e.description,start:new Date(Date.parse(null===(n=e.add_info)||void 0===n?void 0:n.start)),end:null!==e&&void 0!==e&&e.completed_at?new Date(Date.parse(e.completed_at)):new Date(Date.parse(null===(l=e.add_info)||void 0===l?void 0:l.end)),admin_id:2,color:"#50b500",editable:!1,deletable:!1}})):[],navigation:!0,view:el,agenda:(null===b||void 0===b||null===(ta=b.created_by)||void 0===ta?void 0:ta.id)!==Se.id&&!(null===b||void 0===b||null===(da=b.created_by)||void 0===da||!da.id),day:{startHour:0,endHour:24,cellRenderer:function(e){e.height,e.start,e.onClick;var n=!1,l=(0,i.Z)(e,Ue);return r.createElement(y.zx,(0,o.Z)({style:{height:"100%",background:"transparent",cursor:"pointer"},clicked:function(){Vn(!0),Qn(void 0)},disabled:n},l))}},month:(null===b||void 0===b||null===(aa=b.created_by)||void 0===aa?void 0:aa.id)!==Se.id&&void 0!==(null===b||void 0===b?void 0:b.created_by)?null:{cellRenderer:function(e){e.height,e.start,e.onClick;var n=!1,l=(0,i.Z)(e,Fe);return r.createElement(y.zx,(0,o.Z)({style:{height:"100%",background:"transparent",cursor:"pointer"},clicked:function(){Vn(!0),Qn(void 0)},disabled:n},l))}},week:(null===b||void 0===b||null===(ua=b.created_by)||void 0===ua?void 0:ua.id)!==Se.id&&void 0!==(null===b||void 0===b?void 0:b.created_by)?null:{weekDays:[0,1,2,3,4,5],weekStartOn:6,startHour:0,endHour:25,step:60,cellRenderer:function(e){e.height;var n=e.start,l=(e.onClick,!1),t=(0,i.Z)(e,qe);return r.createElement(y.zx,(0,o.Z)({style:{height:"100%",background:"transparent",cursor:"pointer"},clicked:function(){on(n),Vn(!0),Qn(void 0)},disabled:l},t))}},onEventClick:function(e){Vn(!0),Qn(null===Ye||void 0===Ye?void 0:Ye.find((function(n){return n.id===e.event_id})))},onViewChange:function(e){return nl(e)}}),jn&&r.createElement(nn,{modalVisible:jn,heading:null!==e&&void 0!==e&&null!==(ra=e.options)&&void 0!==ra&&ra.title?null===e||void 0===e||null===(va=e.options)||void 0===va?void 0:va.title:Kn?"Update Calendar":"Create New Calendar",task:Kn,isProcess:!0,blured:!1,onClose:function(){return Vn(!1)},isEdit:!!Kn,statuses:null===e||void 0===e||null===(sa=e.options)||void 0===sa?void 0:sa.list,priority:null===e||void 0===e||null===(ca=e.options)||void 0===ca?void 0:ca.priority,span:null===e||void 0===e||null===(pa=e.options)||void 0===pa?void 0:pa.span,start_date:ln})));if("Video"===(null===e||void 0===e?void 0:e.data_type_name)&&null!==e&&void 0!==e&&null!==(Gn=e.options)&&void 0!==Gn&&Gn.start)return r.createElement(he.Z,{enabled:Al,width:"100%",editMode:ae,style:{},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(ma=e.options)||void 0===ma?void 0:ma.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement("div",{style:{width:"100%",height:"auto",border:"1px solid var(--app-color-gray-light)"}},r.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",padding:"5px",border:"0px solid var(--app-color-gray-lighter)"}},r.createElement(ve.G,{icon:re.WRo,style:{width:"14px",height:"14px"}}),r.createElement("input",{value:e.value?de()(e.value).format("DD MMMM YYYY HH:mm"):"",disabled:!0,type:"text",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",fontFamily:"var(--app-text-font-mobile)",fontSize:"16px",lineHeight:"20px",color:"#4A4A4A",textAlign:"left",maxWidth:"98%",border:"0px"},onChange:function(e){}})),r.createElement(Le.Z,{payload:{name:null===b||void 0===b?void 0:b.id}})));if("Video"!==(null===e||void 0===e?void 0:e.data_type_name)||null!==e&&void 0!==e&&null!==(Jn=e.options)&&void 0!==Jn&&Jn.start){if("People"===(null===e||void 0===e?void 0:e.data_type_name)&&null!==e&&void 0!==e&&null!==(Xn=e.options)&&void 0!==Xn&&Xn.calendar){var Ha,ja,Va,Ga,Ja,Ka,Qa,Xa,$a,eu,nu,lu,ou,iu,tu,du,au,uu,ru,vu,su,cu=JSON.parse(null!==(Ha=null===e||void 0===e?void 0:e.value)&&void 0!==Ha?Ha:JSON.stringify({user:0})),pu=Ye.find((function(e){return e.id===(null===cu||void 0===cu?void 0:cu.task)})),mu=null===Ye||void 0===Ye?void 0:Ye.filter((function(e){var n,l,o,i;return(null===e||void 0===e||null===(n=e.add_info)||void 0===n?void 0:n.module_id)===(null===(l=Y.processModule)||void 0===l?void 0:l.module_id)&&e.creator.id===(null===cu||void 0===cu?void 0:cu.user)&&!(null!==e&&void 0!==e&&null!==(o=e.assignee)&&void 0!==o&&o.id)&&de()((0,te.now)()).diff(de()(null===e||void 0===e||null===(i=e.add_info)||void 0===i?void 0:i.start),"seconds")<0}));return r.createElement(he.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)",fontWeight:"regular"},enabled:Al,width:"100%",editMode:ae,dragEnd:function(n){var l,o=null===(l=document.getElementById(null===g||void 0===g?void 0:g.name))||void 0===l?void 0:l.getBoundingClientRect();document.getElementById(e.field_name).style.position="absolute",document.getElementById(e.field_name).style.top="".concat(n.top-o.top,"px"),document.getElementById(e.field_name).style.left="".concat(n.left-o.left,"px")},key:n,fieldLabel:null===e||void 0===e?void 0:e.field_name,notes:null===e||void 0===e||null===(ja=e.options)||void 0===ja?void 0:ja.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement("div",{style:{width:"100%"}},(null===e||void 0===e||null===(Va=e.options)||void 0===Va||null===(Ga=Va.dropdown)||void 0===Ga?void 0:Ga.length)>0&&r.createElement("div",{style:{width:"100%",border:"0.5px solid var(--app-color-gray-dark)"}},r.createElement(N.Z,{visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:me.dropdownClassContainer,items:null===e||void 0===e||null===(Ja=e.options)||void 0===Ja||null===(Ka=Ja.dropdown)||void 0===Ka?void 0:Ka.map((function(e){return{label:e,value:e}})),value:null===cu||void 0===cu?void 0:cu.pos,error:null===e||void 0===e?void 0:e.errors,onChange:function(l){var o,i;l.length>0&&(cu.pos=void 0,cu.user=void 0,w(JSON.stringify(cu),n),xe([]),Xe(!0),(0,Ee.FY)(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.position_id,null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.filter,l).pipe((0,c.q)(1)).subscribe({next:function(e){Xe(!1),xe(e),setTimeout((function(){cu.pos=l,w(JSON.stringify(cu),n)}),0)},error:function(){return Xe(!1)}}))},selectionType:null===e||void 0===e||null===(Qa=e.options)||void 0===Qa?void 0:Qa.type,fieldIcon:null===e||void 0===e?void 0:e.icon})),0==(null===be||void 0===be?void 0:be.length)&&!Qe&&r.createElement("p",null,"No ".concat(e.field_name," found")),0==(null===be||void 0===be?void 0:be.length)&&Qe&&r.createElement("p",null,"Searching for ".concat(e.field_name)),!pu&&r.createElement(S.default,{rowStyleSelected:{border:"2px solid var(--app-color-gray-light)"},initialSelected:null!==e&&void 0!==e&&e.value?be.filter((function(n){var l,o;return(null===n||void 0===n||null===(l=n.user)||void 0===l||null===(o=l.positions)||void 0===o?void 0:o.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.id)})).length)>0})).map((function(e){return e.value})).indexOf(null===cu||void 0===cu?void 0:cu.user):void 0,card:!0,isReport:!1,"app-variant-is-mobile":"true",columns:["Name","Info","About"].concat((0,d.Z)(null!==(Xa=null===R||void 0===R||null===($a=R.misc_info)||void 0===$a?void 0:$a.profile)&&void 0!==Xa?Xa:["Rate"]),["Location","Photo","Ratings"]),list:be.filter((function(n){var l,o;return(null===n||void 0===n||null===(l=n.user)||void 0===l||null===(o=l.positions)||void 0===o?void 0:o.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.id)})).length)>0})).map((function(e){var n,l,o,i,t,d,u,v,s,c,p,m=null===e||void 0===e||null===(n=e.user)||void 0===n||null===(l=n.ratings)||void 0===l?void 0:l.map((function(e){return+e.ratings}));return(0,a.Z)((0,a.Z)({},null!==(o=null===(i=e.user)||void 0===i||null===(t=i.options)||void 0===t?void 0:t.add_info)&&void 0!==o?o:{}),{},{Name:"".concat(e.user.first_name," ").concat(e.user.last_name),Location:r.createElement("div",{style:{marginTop:"10px",fontWeight:"bolder",fontSize:"12px"}},null===(d=e.user)||void 0===d?void 0:d.city),Info:null===(u=e.user.options)||void 0===u?void 0:u.info,id:e.user.id,Photo:null!==(v=null===(s=e.user)||void 0===s?void 0:s.photo)&&void 0!==v?v:null===Y||void 0===Y||null===(c=Y.processModule.module)||void 0===c||null===(p=c.options)||void 0===p?void 0:p.background,Ratings:(null===m||void 0===m?void 0:m.length)>0&&r.createElement("div",{className:me.simpleNames},Array(Math.round(ee.Z(ne.Z,[le.Z,oe.Z])(m))).fill(0).map((function(e,n){return r.createElement(ve.G,{key:n,icon:re.Tab,style:{color:"var(--app-color-blue)"}})})),Array(5-Math.round(ee.Z(ne.Z,[le.Z,oe.Z])(m))).fill(0).map((function(e,n){return r.createElement(ve.G,{key:n,icon:re.Tab,style:{color:"lightgray"}})})))})})),onListItemClick:function(e){if(e){var l=be.find((function(n){return n.value===e.id}));cu.user=null===l||void 0===l?void 0:l.value,w(JSON.stringify(cu),n),Xe(!0),(0,Pe.Mk)(null===l||void 0===l?void 0:l.value,!0).pipe((0,c.q)(1)).subscribe({next:function(){return Xe(!1)},error:function(){return Xe(!1)}})}}},(null===mu||void 0===mu?void 0:mu.length)>0&&r.createElement("p",null,"Schedules"),(null===mu||void 0===mu?void 0:mu.length)>0&&(null===mu||void 0===mu?void 0:mu.length)>0?r.createElement(ce.tq,{slidesPerView:3,centeredSlides:!0,spaceBetween:10,initialSlide:1,pagination:{clickable:!0,dynamicBullets:!0},modules:[se.pt,se.tl],className:"mySwiper",style:{border:"0.8px dashed gray",padding:"5px",height:"200px",display:(null===mu||void 0===mu?void 0:mu.length)>0?"":"none",zIndex:"0"}},null===(eu=V.Z([G.Z(J.Z("due_date"))])(mu))||void 0===eu?void 0:eu.map((function(e,n){return r.createElement(ce.o5,{key:n+200,className:me.swiperslide},r.createElement("div",{className:me.dashboardCard,onClick:function(){Vn(!0),Qn(e)}},r.createElement("div",{style:{fontSize:"10px"}},de()(new Date(e.add_info.start)).format("h:mm a")),e.add_info.end!==e.add_info.start&&r.createElement("div",{style:{fontSize:"10px"}},de()(new Date(e.add_info.end)).format("h:mm a")),r.createElement("hr",{style:{border:"0.8px dashed gray"}}),r.createElement("p",{style:{fontSize:"12px",fontWeight:"bold"}},de()(new Date(e.add_info.start)).format("MMM")),r.createElement("div",{style:{fontSize:"20px",fontWeight:"bold"}},de()(new Date(e.add_info.start)).format("DD"))))}))):null!==cu&&void 0!==cu&&cu.user?r.createElement("p",{style:{fontSize:"12px",paddingLeft:"10px"}},Qe?"Searching for Schedules":"No Schedules Found"):r.createElement("div",null)),r.createElement("div",{className:me.centerDiv},!pu&&!(null!==e&&void 0!==e&&null!==(nu=e.options)&&void 0!==nu&&nu.dropdown)&&(!(null!==e&&void 0!==e&&e.last_page)||1===(null===e||void 0===e?void 0:e.last_page))&&r.createElement(y.zx,{title:"More",style:{width:"30%"},clicked:function(){var l,o;(0,Ee.Wz)(null===(l=Y.processModule.module)||void 0===l||null===(o=l.options)||void 0===o?void 0:o.positions,5,1).pipe((0,s.P)()).subscribe({next:function(l){e.last_page=null===l||void 0===l?void 0:l.last_page,xe(null===l||void 0===l?void 0:l.data),cu.user=void 0,w(JSON.stringify(cu),n)}})}}),!pu&&!(null!==e&&void 0!==e&&null!==(lu=e.options)&&void 0!==lu&&lu.dropdown)&&(null===e||void 0===e?void 0:e.last_page)>1&&r.createElement("div",{style:{display:"flex"}},(0,d.Z)(Array(Math.ceil(+(null===e||void 0===e?void 0:e.last_page)))).map((function(l,o){return r.createElement(y.zx,{title:o+1,clear:!0,key:o,style:{width:"40px",display:o<18?"":"none"},titleContainer:me.pageContainer,disabled:o==(null===e||void 0===e?void 0:e.page)-1,clicked:function(){var l,i;e.page=o+1,(0,Ee.Wz)(null===(l=Y.processModule.module)||void 0===l||null===(i=l.options)||void 0===i?void 0:i.positions,5,null===e||void 0===e?void 0:e.page).pipe((0,s.P)()).subscribe({next:function(l){e.last_page=null===l||void 0===l?void 0:l.last_page,xe(null===l||void 0===l?void 0:l.data),cu.user=void 0,w(JSON.stringify(cu),n)}})}})})))),pu&&r.createElement(S.default,{modern:!0,isReport:!1,"app-variant-is-mobile":"true",columns:["Responsible",null!==(ou=null===e||void 0===e||null===(iu=e.options)||void 0===iu?void 0:iu.header)&&void 0!==ou?ou:"Name",null!==(tu=null===e||void 0===e||null===(du=e.options)||void 0===du?void 0:du.start)&&void 0!==tu?tu:"Date","Photo"],list:[pu].map((function(n){var l,o,i,d,a,u,r;return r={},(0,t.Z)(r,null!==(l=null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.header)&&void 0!==l?l:"Name",n.name),(0,t.Z)(r,null!==(i=null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.start)&&void 0!==i?i:"Date",de()(new Date(null===(a=n.add_info)||void 0===a?void 0:a.start)).format("MMM DD h:mm a")),(0,t.Z)(r,"Responsible","".concat(n.creator.first_name," ").concat(n.creator.last_name)),(0,t.Z)(r,"Position",""),(0,t.Z)(r,"Photo",null===(u=n.creator)||void 0===u?void 0:u.photo),r})),onListItemClick:function(e){e&&(Vn(!0),Qn(pu))}}),jn&&r.createElement(nn,{save:!1,modalVisible:jn,heading:null!==(au=null===e||void 0===e||null===(uu=e.options)||void 0===uu?void 0:uu.header)&&void 0!==au?au:Kn?"Update Calendar":"Create New Calendar",labels:null===e||void 0===e?void 0:e.options,task:Kn,isProcess:!0,blured:!1,onClose:function(){return Vn(!1)},isEdit:!!Kn,statuses:null===e||void 0===e||null===(ru=e.options)||void 0===ru?void 0:ru.list,priority:null===e||void 0===e||null===(vu=e.options)||void 0===vu?void 0:vu.priority,span:null===e||void 0===e||null===(su=e.options)||void 0===su?void 0:su.span,start_date:ln,onUpdate:function(l){if(l.creator.id!==(null===Se||void 0===Se?void 0:Se.id)&&(null===l||void 0===l?void 0:l.assignee_id)===(null===Se||void 0===Se?void 0:Se.id)){var o;if(M.assigned_to=l.creator.id,cu.task=null===l||void 0===l?void 0:l.id,null!==l&&void 0!==l&&null!==(o=l.add_info)&&void 0!==o&&o.value){var i,t,d,a,u,r,v,s,c;cu.value=null===l||void 0===l||null===(i=l.add_info)||void 0===i?void 0:i.value;var p,m=null===(t=M.components.find((function(n){return n.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))})))||void 0===t?void 0:t.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}));if(m)m.value=null===l||void 0===l||null===(p=l.add_info)||void 0===p?void 0:p.value;var f,_=null===(d=M.newStepComponents.find((function(n){return n.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))})))||void 0===d?void 0:d.selected_fields.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}));if(_)_.value=null===l||void 0===l||null===(f=l.add_info)||void 0===f?void 0:f.value;var y,h=null===(a=Y.processModule)||void 0===a||null===(u=a.steps)||void 0===u||null===(r=u.find((function(n){var l;return null===(l=n.component_blueprints)||void 0===l?void 0:l.find((function(n){var l;return null===n||void 0===n||null===(l=n.selected_fields)||void 0===l?void 0:l.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))}))})))||void 0===r||null===(v=r.component_blueprints)||void 0===v||null===(s=v.find((function(n){var l;return null===n||void 0===n||null===(l=n.selected_fields)||void 0===l?void 0:l.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}))})))||void 0===s||null===(c=s.selected_fields)||void 0===c?void 0:c.find((function(n){var l;return n.field_name===(null===(l=e.options)||void 0===l?void 0:l.valueL)}));if(h)h.value=null===l||void 0===l||null===(y=l.add_info)||void 0===y?void 0:y.value}w(JSON.stringify(cu),n)}}})))}var fu,_u,yu,hu,gu,bu,xu,Eu,Cu,wu,Zu,Mu,Su,ku,Iu,Nu,Tu,Pu,Du,Au,Ou,Lu,zu,Ru,Uu,Fu,qu,Wu,Bu,Yu,Hu,ju,Vu,Gu,Ju,Ku,Qu,Xu,$u,er,nr,lr,or,ir,tr,dr,ar;if("People"===(null===e||void 0===e?void 0:e.data_type_name)&&(!0===(null===e||void 0===e||null===($n=e.options)||void 0===$n?void 0:$n.slider)||il)&&(null===X||void 0===X?void 0:X.length)>0)return r.createElement(he.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)",fontWeight:"regular",paddingLeft:"5px"},enabled:Al,width:"100%",editMode:ae,showWidth:function(n){e.field_options=(0,a.Z)((0,a.Z)({},e.field_options),{},{width:"".concat(n,"px")})},dragEnd:function(n){var l,o=null===(l=document.getElementById(null===g||void 0===g?void 0:g.name))||void 0===l?void 0:l.getBoundingClientRect();document.getElementById(e.field_name).style.position="absolute",document.getElementById(e.field_name).style.top="".concat(n.top-o.top,"px"),document.getElementById(e.field_name).style.left="".concat(n.left-o.left,"px")},key:n,notes:null===e||void 0===e||null===(fu=e.options)||void 0===fu?void 0:fu.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement(ce.tq,{slidesPerView:1,centeredSlides:!0,spaceBetween:10,initialSlide:0,pagination:{clickable:!0,dynamicBullets:!0},style:{zIndex:0},modules:[se.pt,se.tl],className:"mySwiper"},X.filter((function(n){var l;return(null===n||void 0===n||null===(l=n.positions)||void 0===l?void 0:l.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.id)})).length)>0})).map((function(l,o){var i,d,u,v,s,c,p,m,f,_,y,h=null===l||void 0===l||null===(i=l.ratings)||void 0===i?void 0:i.map((function(e){return+e.ratings}));return r.createElement(ce.o5,{key:o,className:me.swiperslide},r.createElement("div",{style:{padding:"20px",width:"100%"},onClick:function(){var o;e.open=null===e||void 0===e||!e.open,e.idx=n,null!==e&&void 0!==e&&null!==(o=e.options)&&void 0!==o&&o.skip?tl(e.open):w(null===l||void 0===l?void 0:l.id,n)}},r.createElement(Ne.Z,{photo:null===l||void 0===l?void 0:l.photo,height:null!==e&&void 0!==e&&e.open?"auto":"300px",width:"100%",firstName:"".concat(null===l||void 0===l?void 0:l.first_name),lastName:"".concat(null===l||void 0===l?void 0:l.last_name),position:r.createElement("div",{style:{marginTop:"10px"}},null===l||void 0===l?void 0:l.city),email:null===(d=l.options)||void 0===d?void 0:d.info},(null===h||void 0===h?void 0:h.length)>0&&r.createElement("div",{className:me.simpleNames},Array(Math.round(ee.Z(ne.Z,[le.Z,oe.Z])(h))).fill(0).map((function(e,n){return r.createElement(ve.G,{key:n,icon:re.Tab,style:{height:"15px",width:"15px",color:"var(--app-color-blue)"}})})),Array(5-Math.round(ee.Z(ne.Z,[le.Z,oe.Z])(h))).fill(0).map((function(e,n){return r.createElement(ve.G,{key:n,icon:re.Tab,style:{height:"15px",width:"15px",color:"lightgray"}})}))),r.createElement("div",{className:me.simpleNames,style:{pointerEvents:"none",padding:"20px 10px 0 10px",color:"gray"}},(null===(u=e.options)||void 0===u?void 0:u.info)&&(null===e||void 0===e?void 0:e.open)&&(null===e||void 0===e?void 0:e.idx)==n&&r.createElement(r.Fragment,null,r.createElement("p",{style:{fontSize:"14px"}},"General Info:"),r.createElement(S.default,{rowStyleSelected:{border:"2px solid var(--app-color-gray-light)"},card:!0,isReport:!1,"app-variant-is-mobile":"true",columns:["First Name","Last Name","Phone","Address","City","Postal","Bio"],list:[l].map((function(e){var n,l,o,i,d,a,u;return u={},(0,t.Z)(u,"First Name","".concat(null!==(n=null===e||void 0===e?void 0:e.first_name)&&void 0!==n?n:"")),(0,t.Z)(u,"Last Name","".concat(null!==(l=null===e||void 0===e?void 0:e.last_name)&&void 0!==l?l:"")),(0,t.Z)(u,"Phone","".concat(null!==(o=null===e||void 0===e?void 0:e.phone)&&void 0!==o?o:"")),(0,t.Z)(u,"Address","".concat(null!==(i=null===e||void 0===e?void 0:e.address)&&void 0!==i?i:"")),(0,t.Z)(u,"City","".concat(null!==(d=null===e||void 0===e?void 0:e.city)&&void 0!==d?d:"")),(0,t.Z)(u,"Postal","".concat(null!==(a=null===e||void 0===e?void 0:e.postal)&&void 0!==a?a:"")),u}))})),(null===(v=e.options)||void 0===v?void 0:v.other)&&(null===e||void 0===e?void 0:e.open)&&(null===e||void 0===e?void 0:e.idx)==n&&Object.keys(null!==(s=null===l||void 0===l||null===(c=l.options)||void 0===c?void 0:c.add_info)&&void 0!==s?s:{}).length>1&&r.createElement(r.Fragment,null,r.createElement("p",{style:{fontSize:"14px"}},"More Info:"),r.createElement(S.default,{rowStyleSelected:{border:"2px solid var(--app-color-gray-light)"},card:!0,isReport:!1,"app-variant-is-mobile":"true",columns:Object.keys(null!==(p=null===l||void 0===l||null===(m=l.options)||void 0===m?void 0:m.add_info)&&void 0!==p?p:{}),list:[l].map((function(e){var n,l;return(0,a.Z)((0,a.Z)({},null!==(n=null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.add_info)&&void 0!==n?n:{}),{},{Rate:""})}))})),(null===(f=e.options)||void 0===f?void 0:f.info)&&(null===e||void 0===e?void 0:e.open)&&(null===l||void 0===l||null===(_=l.ratings)||void 0===_?void 0:_.length)>0&&r.createElement(r.Fragment,null,r.createElement("p",{style:{fontSize:"14px"}},"What other users say:"),r.createElement(S.default,{rowStyleSelected:{border:"2px solid var(--app-color-gray-light)"},card:!0,isReport:!1,columns:["Feedback"],list:null===l||void 0===l||null===(y=l.ratings)||void 0===y?void 0:y.map((function(e,n){return{Feedback:'"'.concat(e.comments,'"')}}))}))))))}))));if("People"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(ll=e.options)||void 0===ll||null===(ol=ll.position_id)||void 0===ol?void 0:ol.length)>0)return r.createElement(he.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)",fontWeight:"regular",paddingLeft:"5px"},enabled:Al,width:"100%",style:{marginTop:"0px",border:"1px dashed var(--app-color-gray-light)",padding:"5px"},editMode:ae,showWidth:function(n){e.field_options=(0,a.Z)((0,a.Z)({},e.field_options),{},{width:"".concat(n,"px")})},dragEnd:function(n){var l,o=null===(l=document.getElementById(null===g||void 0===g?void 0:g.name))||void 0===l?void 0:l.getBoundingClientRect();document.getElementById(e.field_name).style.position="absolute",document.getElementById(e.field_name).style.top="".concat(n.top-o.top,"px"),document.getElementById(e.field_name).style.left="".concat(n.left-o.left,"px")},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(_u=e.options)||void 0===_u?void 0:_u.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement("div",{style:{width:"100%"}},r.createElement(N.Z,{onOpen:function(e){On("50px"===An?"180px":"50px")},onFocus:function(){var n;return 0==be.length&&pl(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.position_id)},visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},className:me.dropdownClassContainer,items:be.filter((function(n){var l,o;return(null===n||void 0===n||null===(l=n.user)||void 0===l||null===(o=l.positions)||void 0===o?void 0:o.filter((function(n){var l,o;return null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.position_id)||void 0===o?void 0:o.includes(null===n||void 0===n?void 0:n.id)})).length)>0})),value:"single"===(null===e||void 0===e||null===(yu=e.options)||void 0===yu?void 0:yu.type)?null===(hu=be.find((function(n){return n.label===(null===e||void 0===e?void 0:e.value)})))||void 0===hu?void 0:hu.label:e.value,loading:Qe,error:null===e||void 0===e?void 0:e.errors,onChange:function(l){var o;if("single"===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.type)){var i,t,d=be.find((function(e){return e.value===l}));if(1==(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.email))e.email=null===d||void 0===d||null===(t=d.user)||void 0===t?void 0:t.email;w(null===d||void 0===d?void 0:d.label,n)}else w(l,n);On("50px")},onClicked:function(e){return On(e?"180px":"50px")},selectionType:null===e||void 0===e||null===(gu=e.options)||void 0===gu?void 0:gu.type,fieldIcon:null===e||void 0===e?void 0:e.icon})));if("People"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(dl=e.options)||void 0===dl||null===(al=dl.componentF)||void 0===al?void 0:al.length)>0&&(null===e||void 0===e||null===(rl=e.options)||void 0===rl||null===(xl=rl.componentO)||void 0===xl?void 0:xl.length)>0){var ur,rr,vr,sr,cr,pr,mr=null===(ur=M.components.find((function(n){return n.selected_fields.filter((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.componentF)})).length>0})))||void 0===ur?void 0:ur.selected_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.componentF)})),fr=W.find((function(n){var l;return n.component_fields.filter((function(e){return e.value===(null===mr||void 0===mr?void 0:mr.value)})).length>0&&n.module_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.module_id)})),_r=null===fr||void 0===fr?void 0:fr.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.componentO)}));return r.createElement(he.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)",fontWeight:"regular",paddingLeft:"5px"},enabled:Al,width:"100%",style:{marginTop:"0px",border:"1px dashed var(--app-color-gray-light)",padding:"5px"},editMode:ae,showWidth:function(n){e.field_options=(0,a.Z)((0,a.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(rr=e.options)||void 0===rr?void 0:rr.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement("div",{style:{width:"100%"}},r.createElement(N.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},onFocus:function(){var n;On("180px"),0==be.length&&pl(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.position_id)},visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:"multiple"===(null===e||void 0===e||null===(vr=e.options)||void 0===vr?void 0:vr.type)?me.dropdownHeightClassContainer:me.dropdownClassContainer,items:be.filter((function(e){var n,l;return(null===e||void 0===e||null===(n=e.user)||void 0===n||null===(l=n.positions)||void 0===l?void 0:l.filter((function(e){var n;return null===_r||void 0===_r||null===(n=_r.value)||void 0===n?void 0:n.split(",").includes(null===e||void 0===e?void 0:e.name)})).length)>0})),value:"single"===(null===e||void 0===e||null===(sr=e.options)||void 0===sr?void 0:sr.type)?null===(cr=be.find((function(n){return n.label===(null===e||void 0===e?void 0:e.value)})))||void 0===cr?void 0:cr.label:e.value,loading:Qe,error:null===e||void 0===e?void 0:e.errors,onChange:function(l){var o;if("single"===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.type)){var i,t,d=be.find((function(e){return e.value===l}));if(1==(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.email))e.email=null===d||void 0===d||null===(t=d.user)||void 0===t?void 0:t.email;w(null===d||void 0===d?void 0:d.label,n)}else w(l,n);On("50px")},onClicked:function(e){return On(e?"180px":"50px")},selectionType:null===e||void 0===e||null===(pr=e.options)||void 0===pr?void 0:pr.type,fieldIcon:null===e||void 0===e?void 0:e.icon,placeholder:"Select user..."})))}if("People"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(El=e.options)||void 0===El||null===(Cl=El.componentF)||void 0===Cl?void 0:Cl.length)>0&&(null===e||void 0===e||null===(wl=e.options)||void 0===wl||null===(Zl=wl.componentUO)||void 0===Zl?void 0:Zl.length)>0){var yr,hr,gr,br,xr,Er,Cr=null===(yr=M.components.find((function(n){return n.selected_fields.filter((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.componentF)})).length>0})))||void 0===yr?void 0:yr.selected_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.componentF)})),wr=W.filter((function(n){var l;return n.module_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.module_id)})).find((function(e){return e.component_fields.filter((function(e){return(null===e||void 0===e?void 0:e.value)===(null===Cr||void 0===Cr?void 0:Cr.value)})).length>0})),Zr=wr?null===wr||void 0===wr?void 0:wr.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.componentUO)})):"";return r.createElement(he.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)",fontWeight:"regular",paddingLeft:"5px"},enabled:Al,width:"100%",style:{marginTop:"0px",border:"1px dashed var(--app-color-gray-light)",padding:"5px"},editMode:ae,showWidth:function(n){e.field_options=(0,a.Z)((0,a.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(hr=e.options)||void 0===hr?void 0:hr.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement(N.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},onFocus:function(){var n;return 0==be.length&&pl(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.position_id)},visible:null===e||void 0===e?void 0:e.visible,mandatory:null===e||void 0===e?void 0:e.mandatory,className:"multiple"===(null===e||void 0===e||null===(gr=e.options)||void 0===gr?void 0:gr.type)?me.dropdownHeightClassContainer:me.dropdownClassContainer,items:be.filter((function(e){var n;return null===Zr||void 0===Zr||null===(n=Zr.value)||void 0===n?void 0:n.split(",").includes(null===e||void 0===e?void 0:e.label)})),value:"single"===(null===e||void 0===e||null===(br=e.options)||void 0===br?void 0:br.type)?null===(xr=be.find((function(n){return n.label===(null===e||void 0===e?void 0:e.value)})))||void 0===xr?void 0:xr.label:e.value,loading:Qe,error:null===e||void 0===e?void 0:e.errors,onChange:function(l){var o;if("single"===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.type)){var i,t,d=be.find((function(e){return e.value===l}));if(1==(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.email))e.email=null===d||void 0===d||null===(t=d.user)||void 0===t?void 0:t.email;w(null===d||void 0===d?void 0:d.label,n)}else w(l,n);On("50px")},onClicked:function(e){return On(e?"180px":"50px")},selectionType:null===e||void 0===e||null===(Er=e.options)||void 0===Er?void 0:Er.type,fieldIcon:null===e||void 0===e?void 0:e.icon,placeholder:"Select user..."}))}if("Status"===(null===e||void 0===e?void 0:e.data_type_name)){var Mr,Sr,kr,Ir,Nr,Tr,Pr,Dr,Ar,Or,Lr,zr,Rr,Ur,Fr,qr,Wr,Br=(null===(Mr=e.options)||void 0===Mr||null===(Sr=Mr.list)||void 0===Sr?void 0:Sr.length)>0?null===(kr=e.options)||void 0===kr||null===(Ir=kr.list)||void 0===Ir?void 0:Ir.map((function(e){return{label:e,value:e}})):1==(null===Y||void 0===Y||null===(Nr=Y.processModule)||void 0===Nr||null===(Tr=Nr.module)||void 0===Tr||null===(Pr=Tr.options)||void 0===Pr?void 0:Pr.asGraphical)?[{label:"Show",value:"Show"},{label:"Hide",value:"Hide"}]:(null===R||void 0===R||null===(Dr=R.misc_info)||void 0===Dr||null===(Ar=Dr.status)||void 0===Ar?void 0:Ar.length)>0?null===R||void 0===R||null===(Or=R.misc_info)||void 0===Or?void 0:Or.status:[{label:"Ongoing",value:"Ongoing"},{label:"Pending",value:"Pending"},{label:"Awaiting Payment",value:"Awaiting Payment"},{label:"Awaiting Fulfillment",value:"Awaiting Fulfillment"},{label:"Awaiting Shipment",value:"Awaiting Shipment"},{label:"Awaiting Pickup",value:"Awaiting Pickup"},{label:"Partially Shipped",value:"Partially Shipped"},{label:"Completed",value:"Completed"},{label:"Shipped",value:"Shipped"},{label:"Cancelled",value:"Cancelled"},{label:"Declined",value:"Declined"},{label:"Refunded",value:"Refunded"},{label:"Disputed",value:"Disputed"},{label:"Done",value:"Done"},{label:"Closed (Will lock Edit)",value:"Closed"}];if((null===R||void 0===R||null===(Lr=R.misc_info)||void 0===Lr||null===(zr=Lr.rules)||void 0===zr?void 0:zr.length)>0)null===R||void 0===R||null===(Wr=R.misc_info)||void 0===Wr||Wr.rules.filter((function(e){return"status"===e.type})).filter((function(n){n.valueCondition===e.value&&(Br="0"===n.allow?Br.filter((function(l){var o;return n.values.concat(null===(o=e.options)||void 0===o?void 0:o.list).includes(l.value)})):Br.filter((function(l){var o;return!n.values.concat(null===(o=e.options)||void 0===o?void 0:o.list).includes(l.value)})))}));return null!==Y&&void 0!==Y&&null!==(Rr=Y.processModule)&&void 0!==Rr&&null!==(Ur=Rr.module)&&void 0!==Ur&&null!==(Fr=Ur.options)&&void 0!==Fr&&Fr.canCancel&&(Br=Br.concat({label:"Request Cancellation",value:"Cancellation Request"})),r.createElement("div",{key:n,style:{width:"100%",pointerEvents:Al,marginBottom:"10px",border:"1px dashed var(--app-color-gray-light)",padding:"5px"}},r.createElement(N.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)",fontWeight:"regular",paddingLeft:"5px"},className:me.multiselectComponentNoBorder,style:{border:"0px"},key:n,visible:e.visible,mandatory:e.mandatory,value:null!==(qr=e.value)&&void 0!==qr?qr:"",items:Br,error:e.errors,onClicked:function(e){return On(e?"180px":"50px")},onChange:function(e){R.start=!0,On("50px"),w(e,n);var l=g.selected_fields.find((function(n){return"Date"===n.data_type_name&n.field_name===e}));l&&(l.value=new Date(de().now()))},fieldIcon:e.icon,fieldLabel:e.field_name}))}if("Profile"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Ml=e.options)||void 0===Ml||null===(Sl=Ml.type)||void 0===Sl?void 0:Sl.length)>0){var Yr,Hr,jr,Vr=Se.id;if("creator"!==e.options.type&&"wallet"!==e.options.type||null===b||void 0===b||null===(Yr=b.created_by)||void 0===Yr||!Yr.id)if("creator"!==e.options.type&&"wallet"!==e.options.type||null!==b&&void 0!==b&&null!==(Hr=b.created_by)&&void 0!==Hr&&Hr.id){if("owner"!==e.options.type)return null;var Gr;Vr=null!==b&&void 0!==b&&b.options?null===(Gr=JSON.parse(null===b||void 0===b?void 0:b.options))||void 0===Gr?void 0:Gr.owner:""}else Vr=Se.id;else Vr=b.user_id;return(null===(jr=Vr)||void 0===jr?void 0:jr.length)>0?(null===X||void 0===X?void 0:X.length)>0&&(null===X||void 0===X?void 0:X.filter((function(e){return e.id===Vr})).map((function(n,l){var o,i,t,d;return r.createElement("div",{className:me.centerDiv,key:l},"wallet"===e.options.type?r.createElement(S.default,{modern:!0,columns:["Name","Wallet","Email","Photo"],list:[{Name:"".concat(null===n||void 0===n?void 0:n.first_name," ").concat(null===n||void 0===n?void 0:n.last_name),Wallet:"".concat(null===(o=n.wallet)||void 0===o?void 0:o.toFixed(2)),Email:null===n||void 0===n?void 0:n.email,Photo:n.photo}]}):r.createElement(Ne.Z,{photo:null===n||void 0===n?void 0:n.photo,noPhoto:0==(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.show),firstName:"".concat(null===n||void 0===n?void 0:n.first_name),lastName:"".concat(null===n||void 0===n?void 0:n.last_name),position:null===n||void 0===n||null===(t=n.positions)||void 0===t||null===(d=t.slice(0,1))||void 0===d?void 0:d.map((function(e){return e.name})),email:null===n||void 0===n?void 0:n.email,cardClicked:function(){},width:h.tq?"100%":""}))}))):null}if("Pin"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(kl=e.options)||void 0===kl||null===(Il=kl.pintype)||void 0===Il?void 0:Il.length)>0)return r.createElement(he.Z,{style:{border:"0",width:"100%"},enabled:Al,key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(bu=e.options)||void 0===bu?void 0:bu.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},null!==e&&void 0!==e&&null!==(xu=e.options)&&void 0!==xu&&xu.source||null!==(Eu=e.options)&&void 0!==Eu&&Eu.destination?r.createElement("div",{style:{color:"var(--app-color-gray-dark)",height:"inherit",width:"100%",display:null!==e&&void 0!==e&&e.visible?"":"none"}},r.createElement("div",{className:me.filtersContainer,style:{color:"var(--app-color-gray-dark)",height:"inherit",width:"100%",display:null!==e&&void 0!==e&&e.visible?"":"none"}},r.createElement("div",{className:me.actionsContainer,style:{fontSize:"12px"},onClick:function(){Tn({source:!0,destination:!1,field:e,index:n})}},r.createElement("div",{style:{width:"30%",textAlign:"left"}},r.createElement(ve.G,{icon:1==(null===e||void 0===e||null===(Cu=e.options)||void 0===Cu?void 0:Cu.destination)?re.W3K:re.opg,style:{width:"20px",height:"20px",marginRight:"5px",color:"blue"}}),1==(null===e||void 0===e||null===(wu=e.options)||void 0===wu?void 0:wu.destination)?"From":"Pin",":"),r.createElement("div",{style:{width:"70%",textAlign:"left"}},null!==e&&void 0!==e&&e.value?null===(Zu=JSON.parse(e.value))||void 0===Zu||null===(Mu=Zu.source)||void 0===Mu?void 0:Mu.address:"")),1==(null===e||void 0===e||null===(Su=e.options)||void 0===Su?void 0:Su.destination)&&r.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}),1==(null===e||void 0===e||null===(ku=e.options)||void 0===ku?void 0:ku.destination)&&r.createElement("div",{className:me.actionsContainer,style:{fontSize:"12px"},onClick:function(){Tn({source:!1,destination:!0,field:e,index:n})}},r.createElement("div",{style:{width:"30%",textAlign:"left"}},r.createElement(ve.G,{icon:re.opg,style:{width:"20px",height:"20px",marginRight:"5px",color:"green"}}),"To",":"),r.createElement("div",{style:{width:"70%",textAlign:"left"}},null!==e&&void 0!==e&&e.value?null===(Iu=JSON.parse(e.value))||void 0===Iu||null===(Nu=Iu.destination)||void 0===Nu?void 0:Nu.address:""))),(null===Nn||void 0===Nn?void 0:Nn.source)&&r.createElement(y.U7,{hasCloseIcon:!0,blured:!1,scrollable:!0,isOpen:Nn.source,shadowedContainerStyle:{width:"100%"},onClose:function(){return Tn({source:!1,destination:!1})}},r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"30px"}},r.createElement("div",{className:me.title},null!==(Tu=null===Nn||void 0===Nn||null===(Pu=Nn.field)||void 0===Pu?void 0:Pu.field_name)&&void 0!==Tu?Tu:"Origin:"),r.createElement(Ze.Z,{value:null===(Du=JSON.parse(null!==(Au=null===Nn||void 0===Nn||null===(Ou=Nn.field)||void 0===Ou?void 0:Ou.value)&&void 0!==Au?Au:JSON.stringify({source:{},destination:{}})))||void 0===Du?void 0:Du.source,onChange:function(l){var o,i,t,d,a,u,r,v,s,c,p=null!==Nn&&void 0!==Nn&&null!==(o=Nn.field)&&void 0!==o&&o.value?JSON.parse(null===Nn||void 0===Nn||null===(i=Nn.field)||void 0===i?void 0:i.value):{source:{lat:0,lng:0,address:""},destination:{lat:0,lng:0,address:""}};if(p.source.lat=l.geometry.location.lat,p.source.lng=l.geometry.location.lng,p.source.address=l.formatted_address,null!==Nn&&void 0!==Nn&&Nn.field&&(null===(t=e.options)||void 0===t||!t.compute))return x(JSON.stringify(p),Nn.index),void Tn({source:!1,destination:!1});var m,f,_,y,h,b,E,C,w,Z,S,k,I=null===g||void 0===g||null===(d=g.selected_fields)||void 0===d?void 0:d.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)}));I||((I=null===(m=M.newStepComponents)||void 0===m||null===(f=m.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})).length)>0})))||void 0===f||null===(_=f.selected_fields)||void 0===_?void 0:_.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})))||(I=null===(y=M.components)||void 0===y||null===(h=y.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})).length)>0})))||void 0===h||null===(b=h.selected_fields)||void 0===b?void 0:b.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})))||(I=null===(E=Y.processModule)||void 0===E||null===(C=E.steps[null!==(S=null===(k=Y.processModule)||void 0===k?void 0:k.stepIndex)&&void 0!==S?S:1].component_blueprints)||void 0===C||null===(w=C.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})).length)>0})))||void 0===w||null===(Z=w.selected_fields)||void 0===Z?void 0:Z.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)}))));if(null!==p&&void 0!==p&&p.source&&null!==(a=e.options)&&void 0!==a&&a.compute&&0==(null===(u=e.options)||void 0===u?void 0:u.destination))p.distance=(0,O.Iw)(p.source.lat,p.source.lng,Be.latitude,Be.longitude),p.duration=0,I&&(I.value=p.distance,I.disabled=!0),x(JSON.stringify(p),n);else if(null!==(r=p.source)&&void 0!==r&&r.address&&null!==Nn&&void 0!==Nn&&null!==(v=Nn.field.options)&&void 0!==v&&v.compute){var N;null===(N=(0,Te.Y)(p.source.address,p.destination.address))||void 0===N||N.subscribe({next:function(e){var n;if((null===e||void 0===e||null===(n=e.routes)||void 0===n?void 0:n.length)>0){var l,o,i,t,d,a=e.routes[0];if((null===a||void 0===a||null===(l=a.legs)||void 0===l?void 0:l.length)>0)p.distance=(null===(o=a.legs[0])||void 0===o||null===(i=o.distance)||void 0===i?void 0:i.value)/1e3,p.duration=null===(t=a.legs[0])||void 0===t||null===(d=t.duration)||void 0===d?void 0:d.value,p.steps=a.legs[0].steps,I&&(I.value=p.distance,I.disabled=!0)}},error:function(e){p.distance=(0,O.Iw)(p.source.lat,p.source.lng,p.destination.lat,p.destination.lng),p.duration=0,I&&(I.value=p.distance,I.disabled=!0)}})}else null!==(s=p.source)&&void 0!==s&&s.address&&(p.distance=(0,O.Iw)(p.source.lat,p.source.lng,p.destination.lat,p.destination.lng),p.duration=0,I&&(I.value=p.distance));x(JSON.stringify(p),null!==(c=null===Nn||void 0===Nn?void 0:Nn.index)&&void 0!==c?c:n),Tn({source:!1,destination:!1})},mapkey:null===(Lu=R.misc_info)||void 0===Lu?void 0:Lu.map}))),(null===Nn||void 0===Nn?void 0:Nn.destination)&&r.createElement(y.U7,{hasCloseIcon:!0,blured:!1,scrollable:!0,isOpen:Nn.destination,shadowedContainerStyle:{width:"100%"},shadowedContainerClassname:me.mappopup,onClose:function(){return Tn({source:!1,destination:!1})}},r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.createElement("div",{className:me.title},null!==(zu=null===Nn||void 0===Nn||null===(Ru=Nn.field)||void 0===Ru?void 0:Ru.field_name)&&void 0!==zu?zu:"Destination:"),r.createElement(Ze.Z,{value:null===(Uu=JSON.parse(null!==(Fu=null===Nn||void 0===Nn||null===(qu=Nn.field)||void 0===qu?void 0:qu.value)&&void 0!==Fu?Fu:JSON.stringify({source:{},destination:{}})))||void 0===Uu?void 0:Uu.destination,onChange:function(e){var n,l,o,i,t,d,a,u,r,v,s,c,p,m=null!==Nn&&void 0!==Nn&&null!==(n=Nn.field)&&void 0!==n&&n.value?JSON.parse(null===Nn||void 0===Nn||null===(l=Nn.field)||void 0===l?void 0:l.value):{destination:{lat:0,lng:0,address:""},source:{lat:0,lng:0,address:""}},f=null===g||void 0===g||null===(o=g.selected_fields)||void 0===o?void 0:o.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)}));f||((f=null===(a=M.newStepComponents)||void 0===a||null===(u=a.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})).length)>0})))||void 0===u||null===(r=u.selected_fields)||void 0===r?void 0:r.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})))||(f=null===(v=M.components)||void 0===v||null===(s=v.find((function(e){var n;return(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)})).length)>0})))||void 0===s||null===(c=s.selected_fields)||void 0===c?void 0:c.find((function(e){var n;return"distance"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)}))));(m.destination.lat=e.geometry.location.lat,m.destination.lng=e.geometry.location.lng,m.destination.address=e.formatted_address,null!==(i=m.destination)&&void 0!==i&&i.address&&null!==Nn&&void 0!==Nn&&null!==(t=Nn.field.options)&&void 0!==t&&t.compute)?null===(p=(0,Te.Y)(m.source.address,m.destination.address))||void 0===p||p.subscribe({next:function(e){var n;if((null===e||void 0===e||null===(n=e.routes)||void 0===n?void 0:n.length)>0){var l,o,i,t,d,a=e.routes[0];if((null===a||void 0===a||null===(l=a.legs)||void 0===l?void 0:l.length)>0)m.distance=(null===(o=a.legs[0])||void 0===o||null===(i=o.distance)||void 0===i?void 0:i.value)/1e3,m.duration=null===(t=a.legs[0])||void 0===t||null===(d=t.duration)||void 0===d?void 0:d.value,m.steps=a.legs[0].steps,f&&(f.value=m.distance)}},error:function(e){m.distance=(0,O.Iw)(m.source.lat,m.source.lng,m.destination.lat,m.destination.lng),m.duration=0,f&&(f.value=m.distance)}}):null!==(d=m.destination)&&void 0!==d&&d.address&&(m.distance=(0,O.Iw)(m.source.lat,m.source.lng,m.destination.lat,m.destination.lng),m.duration=0,f&&(f.value=m.distance));x(JSON.stringify(m),null===Nn||void 0===Nn?void 0:Nn.index),Tn({source:!1,destination:!1})},mapkey:null===(Wu=R.misc_info)||void 0===Wu?void 0:Wu.map})))):r.createElement(Ze.Z,{key:n,value:null===g||void 0===g?void 0:g.selected_fields[n].value,onLocationChange:function(e){return z(e,n)},mapkey:null===(Bu=R.misc_info)||void 0===Bu?void 0:Bu.map}));if("Map"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(Nl=e.options)||void 0===Nl||null===(Tl=Nl.maptype)||void 0===Tl?void 0:Tl.length)>0)return r.createElement(he.Z,{enabled:Al,width:"100%",editMode:ae,showWidth:function(n){e.field_options=(0,a.Z)((0,a.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(Yu=e.options)||void 0===Yu?void 0:Yu.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement(Me.Z,{key:n,value:null===g||void 0===g?void 0:g.selected_fields[n].value,onLocationChange:function(e){return z(e,n)}}));if("Summary"===(null===e||void 0===e?void 0:e.data_type_name)){var Jr={};return M.components.map((function(e){return e.selected_fields.filter((function(e){return!("Pin"===e.data_type_name||"Lookup"===e.data_type_name||"Record"===e.data_type_name||"Ratings"===e.data_type_name||"People"===e.data_type_name||"Positions"===e.data_type_name||"Notes"===e.data_type_name||"URL"===e.data_type_name)&&1==e.visible})).map((function(e){var n,l;(0,O.gD)(null!==(n=null===e||void 0===e?void 0:e.value)&&void 0!==n?n:"")?Jr[e.field_name]="":Jr[e.field_name]="".concat(null!==(l=null===e||void 0===e?void 0:e.value)&&void 0!==l?l:"")}))})),M.newStepComponents.map((function(e){return e.selected_fields.filter((function(e){return!("Pin"===e.data_type_name||"Lookup"===e.data_type_name||"Record"===e.data_type_name||"Ratings"===e.data_type_name||"People"===e.data_type_name||"Positions"===e.data_type_name||"Notes"===e.data_type_name||"URL"===e.data_type_name)&&1==e.visible})).map((function(e){var n,l;(0,O.gD)(null!==(n=null===e||void 0===e?void 0:e.value)&&void 0!==n?n:"")?Jr[e.field_name]="":Jr[e.field_name]="".concat(null!==(l=null===e||void 0===e?void 0:e.value)&&void 0!==l?l:"")}))})),r.createElement(he.Z,{enabled:Al,width:"100%",editMode:ae,style:{border:"0"},key:n,fieldLabel:e.field_name,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement("div",{key:n,style:{marginTop:"30px",width:"100%"}},r.createElement(S.default,{modern:!0,columns:Object.keys(Jr),list:[Jr]})))}return"Currency"===(null===e||void 0===e?void 0:e.data_type_name)&&null!==e&&void 0!==e&&null!==(Pl=e.options)&&void 0!==Pl&&Pl.currency_type?r.createElement(he.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)",fontWeight:"regular",paddingLeft:"5px"},style:{border:"1px solid var(--app-color-gray-lighter)"},enabled:Al,width:"100%",editMode:ae,showWidth:function(n){e.field_options=(0,a.Z)((0,a.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(Hu=e.options)||void 0===Hu?void 0:Hu.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement("div",{style:{width:"inherit",display:"flex"}},r.createElement("div",{onClick:function(){return Xe(!Qe)},className:me.currencySymbol},null!==e&&void 0!==e&&null!==(ju=e.options)&&void 0!==ju&&ju.symbol?null===e||void 0===e||null===(Vu=e.options)||void 0===Vu?void 0:Vu.symbol:""," "),Qe&&r.createElement(y.Ld,{items:O.s3,defaultSelectedItem:{label:null===e||void 0===e||null===(Gu=e.options)||void 0===Gu?void 0:Gu.currency_type,value:null===e||void 0===e||null===(Ju=e.options)||void 0===Ju?void 0:Ju.country_code},triggerType:"chevron",className:me.currencySelectComponent,inputClassName:me.currencySearchInput,inputContainerClassName:me.currencyInputContainerClassName,clearControlsClassName:me.currencyClearControlsClassName,molclassname:me.currencySelectMenuOverlayList,moliclassname:me.currencySelectMenuOverlayListItem,onChange:function(e){M.currency=e.value,A(e,n),Xe(!1)}}),!Qe&&r.createElement("input",{type:"number",autoComplete:"off",value:null!==(Ku=g.selected_fields[n].value)&&void 0!==Ku?Ku:0,className:me.currencyInput,onChange:function(e){x(e.target.value,n)}}))):r.createElement(he.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)",fontWeight:"regular",paddingLeft:"5px"},enabled:Al,width:"100%",style:{marginTop:"0px",border:"1px dashed var(--app-color-gray-light)",padding:"5px"},editMode:ae,showWidth:function(n){e.field_options=(0,a.Z)((0,a.Z)({},e.field_options),{},{width:"".concat(n,"px")})},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(Qu=e.options)||void 0===Qu?void 0:Qu.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors,customIconBgColor:"white"},"file"===e.data_type?r.createElement(Ge,{notes:null===e||void 0===e||null===(Xu=e.options)||void 0===Xu?void 0:Xu.notes,field_id:e.id,value:null===e||void 0===e?void 0:e.value,isInherited:I,checkIfAreMandatoryErrored:P,options:null===e||void 0===e?void 0:e.options,index:n,indexInContextArray:E}):"date"===e.data_type||null!==e&&void 0!==e&&null!==($u=e.options)&&void 0!==$u&&$u.country_code||null!==e&&void 0!==e&&null!==(er=e.options)&&void 0!==er&&er.currency_type||"Number"===e.data_type_name?r.createElement("div",{style:{width:"inherit"}},"date"===e.data_type?"Range"===(null===e||void 0===e||null===(nr=e.options)||void 0===nr?void 0:nr.type)?r.createElement(y.$m,{inputContainerClassName:me.inputContainerClassName,dateChangeHandler:function(e){return sl(e,n)},startDate:vn,endDate:sn}):null!==e&&void 0!==e&&null!==(lr=e.options)&&void 0!==lr&&lr.time?r.createElement("div",{style:{width:"100%",height:"auto",border:"0"}},r.createElement(ye(),{showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,customInput:r.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",padding:"5px",border:"0px solid var(--app-color-gray-lighter)"}},r.createElement("input",{value:e.value?de()(e.value).format("DD MMMM YYYY HH:mm"):"",readOnly:!0,type:"text",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",fontFamily:"var(--app-text-font-mobile)",fontSize:"16px",lineHeight:"20px",color:"#4A4A4A",textAlign:"left",maxWidth:"98%",border:"0px"},onChange:function(e){}}),r.createElement(ve.G,{icon:re.WRo,style:{marginLeft:"10px",width:"14px",height:"14px"}})),className:me.singleInputContainer,selected:null!==e&&void 0!==e&&e.value?new Date(de()(null===e||void 0===e?void 0:e.value)):(0,te.now)(),onChange:function(e){e>(0,te.now)()&&cl(e,n)}})):r.createElement(y.X9,{toggleDP:function(e){return On(!0===e?"240px":"50px")},value:void 0==e.value?"":de()(new Date(e.value)).format("Do MMMM YYYY"),dateChangeHandler:function(e){return cl(e,n)},selected:new Date(de()(ln,"YYYY-MM-DD")),iconClassName:me.calendar,inputContainerClassName:me.singleInputContainer,inputStyle:{textAlign:"left",border:"none",height:"auto",fontSize:"16px"},hasCalendarIcon:!0}):null!==e&&void 0!==e&&null!==(or=e.options)&&void 0!==or&&or.country_code?r.createElement("div",{style:{padding:"10px"}},r.createElement(we(),{specialLabel:"",value:g.selected_fields[n].value,country:null===e||void 0===e||null===(ir=e.options)||void 0===ir?void 0:ir.country_code,onChange:function(e,l,o){D(l,n,o.target.value)},inputClass:me.phoneIInput,inputProps:{style:{border:"0"}}})):r.createElement("input",{onBlur:function(l){return je(e.data_type_name,l.target.value,E,n,M)},type:e.data_type,onChange:function(e){x(e.target.value,n)},autoComplete:"none",value:g.selected_fields[n].value?g.selected_fields[n].value:""===He(null===e||void 0===e?void 0:e.options)?"":He(null===e||void 0===e?void 0:e.options),placeholder:"Number"===g.selected_fields[n].data_type_name?"0":"",className:me.fieldTypeInput,style:{border:"0"},name:e.field_name,disabled:null!==(tr=g.selected_fields[n].disabled)&&void 0!==tr&&tr})):"Long Text"===e.data_type_name?r.createElement("textarea",{className:me.fieldTypeTextarea,onBlur:function(l){return je(e.data_type_name,l.target.value,E,n,M)},type:e.data_type,value:g.selected_fields[n].value?g.selected_fields[n].value:""===He(null===e||void 0===e?void 0:e.options)?"":He(null===e||void 0===e?void 0:e.options),onFocus:function(){},disabled:null!==(dr=g.selected_fields[n].disabled)&&void 0!==dr&&dr,autoComplete:"none",onChange:function(e){x(e.target.value,n)},placeholder:"Number"===g.selected_fields[n].data_type_name?"0":"",name:e.field_name,style:{border:"0"}}):r.createElement("input",{onBlur:function(l){return je(e.data_type_name,l.target.value,E,n,M)},type:e.data_type,onChange:function(e){x(e.target.value,n)},autoComplete:"none",value:g.selected_fields[n].value?g.selected_fields[n].value:""===He(null===e||void 0===e?void 0:e.options)?"":He(null===e||void 0===e?void 0:e.options),placeholder:"Number"===g.selected_fields[n].data_type_name?"0":"",className:me.fieldTypeInput,name:e.field_name,disabled:null!==(ar=g.selected_fields[n].disabled)&&void 0!==ar&&ar,style:{border:"0"}}))}return r.createElement(he.Z,{enabled:Al,width:"100%",editMode:ae,style:{},key:n,fieldLabel:e.field_name,notes:null===e||void 0===e||null===(fa=e.options)||void 0===fa?void 0:fa.notes,fieldIcon:e.icon,isProcess:!0,visible:e.visible,mandatory:e.mandatory,error:e.errors},r.createElement("div",{style:{width:"100%",height:"auto",border:"1px solid var(--app-color-gray-light)"}},r.createElement(ye(),{showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,customInput:r.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",padding:"5px",border:"0px solid var(--app-color-gray-lighter)"}},r.createElement(ve.G,{icon:re.WRo,style:{marginLeft:"10px",width:"14px",height:"14px"}}),r.createElement("input",{disabled:!0,value:e.value?de()(e.value).format("DD MMMM YYYY HH:mm"):"",type:"text",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",fontFamily:"var(--app-text-font-mobile)",fontSize:"16px",lineHeight:"20px",color:"#4A4A4A",textAlign:"left",width:"80%",border:"0px"},onChange:function(e){}})),className:me.singleInputContainer,selected:null!==e&&void 0!==e&&e.value?new Date(de()(null===e||void 0===e?void 0:e.value)):(0,te.now)(),onChange:function(e){e>(0,te.now)()&&cl(e,n)}})))}var Kr,Qr,Xr,$r,ev,nv,lv,ov=Object.entries(Object.assign({item_code:null,quantity:null,value:null,alt_value:null,total:null},e.options.map)).reduce((function(e,n){var l=(0,u.Z)(n,2),o=l[0],i=l[1];return null===i||(e[o]=i),e}),{});return r.createElement(he.Z,{fieldLabel:null===e||void 0===e?void 0:e.field_name,enabled:Al,width:"100%",editMode:ae,showWidth:function(n){e.options=(0,a.Z)((0,a.Z)({},e.options),{},{width:"".concat(n,"px")})},style:{border:"0",padding:"0",marginTop:"50px"},key:n,visible:e.visible,notes:null===e||void 0===e||null===(Kr=e.options)||void 0===Kr?void 0:Kr.notes,error:(null===(Qr=e.errors)||void 0===Qr?void 0:Qr.length)>0?"".concat(e.errors):""},r.createElement(S.default,{modern:!!h.tq,className:me.itemsContainer,columns:null===g||void 0===g||null===(Xr=g.selected_fields)||void 0===Xr?void 0:Xr.filter((function(e){var n;return null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem})).map((function(e){return e.field_name})).concat(["Actions"]),list:null===($r=V.Z([Q.Z(J.Z("index"))])(null!==(ev=null!==e&&void 0!==e&&null!==(nv=e.options)&&void 0!==nv&&nv.type?M.items.filter((function(n){var l;return n.type===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.type)})):M.items)&&void 0!==ev?ev:[]))||void 0===$r?void 0:$r.map((function(e,n){e.index=n;var l={index:n,Actions:r.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",minWidth:"80px"}},!(null!==e&&void 0!==e&&e.edit)&&r.createElement(ve.G,{icon:re.IwR,onClick:function(){e.edit=!0,k({action:m._U.setModuleItems,value:[].concat((0,d.Z)(M.items.filter((function(n){return n.id!==e.id}))),[e])})}}),(null===e||void 0===e?void 0:e.edit)&&r.createElement(ve.G,{icon:re.EsX,onClick:function(){e.edit=!1,k({action:m._U.setModuleItems,value:[].concat((0,d.Z)(M.items.filter((function(n){return n.id!==e.id}))),[e])})}}),(null===e||void 0===e?void 0:e.edit)&&r.createElement(ve.G,{icon:re.$aW,onClick:function(){k({action:m._U.setModuleItems,value:M.items.filter((function(n){return n.id!==e.id}))})}}))};return Object.entries(null!==ov&&void 0!==ov?ov:[]).forEach((function(o){var i,t,u;l[o[1]]=r.createElement("div",{style:{padding:null!==e&&void 0!==e&&e.edit?"5px":""}},r.createElement(gl,{index:n,enabled:!0,edit:null!==(i=null===e||void 0===e?void 0:e.edit)&&void 0!==i&&i,isItem:!0,item:e,field:(0,a.Z)((0,a.Z)({},null!==(t=null===g||void 0===g||null===(u=g.selected_fields)||void 0===u?void 0:u.find((function(e){var n;return(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem)===o[0]})))&&void 0!==t?t:{}),{},{visible:!0,value:e[o[0]]}),withLabel:!1,handleItem:function(n,l){e[o[0]]!==n&&(e[o[0]]=n,k({action:m._U.setModuleItems,value:[].concat((0,d.Z)(M.items.filter((function(n){return n.id!==e.id}))),[e])}))}}))})),l})),footer:null===g||void 0===g||null===(lv=g.selected_fields)||void 0===lv?void 0:lv.filter((function(e){var n;return null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.mapToItem})).map((function(n){var l;return null!==n&&void 0!==n&&null!==(l=n.options)&&void 0!==l&&l.footer?bl(M.items,n,e):""})).concat([""])}))}})));return r.createElement("div",{id:null===g||void 0===g?void 0:g.name,className:me.emulatedFlexGap,style:{width:"100%",position:"relative",marginBottom:An}},xl,(null===Wn||void 0===Wn||null===(p=Wn.candidates)||void 0===p?void 0:p.length)>0&&r.createElement(he.Z,{width:"80%",fieldLabel:"Response",visible:!0},r.createElement("textarea",{className:me.fullLengthTextarea,type:"text",onFocus:function(){},disabled:!0,value:null===Wn||void 0===Wn||null===(f=Wn.candidates[0])||void 0===f||null===(_=f.content.parts[0])||void 0===_?void 0:_.text})))})),Ge=function(e){e.notes;var n,l=e.options,o=e.field_id,i=e.index,t=e.indexInContextArray,a=e.value,v=e.checkIfAreMandatoryErrored,s=(0,r.useState)(),c=(0,u.Z)(s,2),p=c[0],f=c[1],_=(0,r.useState)(!1),y=(0,u.Z)(_,2),b=y[0],x=y[1],E=(0,m.pQ)(),C=(0,u.Z)(E,2),w=C[0],Z=C[1];return r.createElement("div",{style:{width:"inherit",flexDirection:"column",fontSize:"12px"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flex:"1 1",overflow:"hidden",fontSize:"14px"}},r.createElement("u",{onClick:function(){var e;null===(e=document.getElementById("file-change-".concat(o)))||void 0===e||e.click()},style:{cursor:"pointer",marginLeft:"2px",wordWrap:"break-word"}},null!==p&&void 0!==p&&p.name||a?"File":"Click to upload file..."),r.createElement("input",{accept:"."+(null===l||void 0===l||null===(n=l.accepted_mimes)||void 0===n?void 0:n.replace(/,/g,",.")),type:"file",onChange:function(){return function(e){var n,l,a=document.getElementById("file-change-".concat(o)).files[0],u=((null===a||void 0===a?void 0:a.size)/1024/1024).toFixed(4),r=(e/1024).toFixed(4);x(!0);var s=(0,d.Z)(null!==(n=null===(l=w.currentStep)||void 0===l?void 0:l.component_blueprints)&&void 0!==n?n:[]);u>r?alert("File is too big!"):(0,g.kf)(a,o).subscribe({next:function(e){f(a),x(!1),s[t].selected_fields[i].value=null===e||void 0===e?void 0:e.file_url,s[t].selected_fields[i].value&&s[t].selected_fields[i].mandatory&&(s[t].selected_fields[i].errors=""),v(),Z({action:m._U.setComponentBlueprints,value:s}),Z({action:m._U.setModuleNewStepComponents,value:s})}})}(null===l||void 0===l?void 0:l.max_file_size)},style:{position:"absolute",visibility:"hidden",width:"0px"},id:"file-change-".concat(o),className:me.fieldTypeInput}),b&&r.createElement(Se.Z,{type:h.G6?"Watch":"Puff",color:"#4A4A4A",secondaryColor:"gray",radius:22,height:22,width:"22px"}),(null===p||void 0===p?void 0:p.type)&&r.createElement(Je,{fileType:null===p||void 0===p?void 0:p.type})))},Je=function(e){return"application/pdf"===(null===e||void 0===e?void 0:e.fileType)?r.createElement("img",{alt:"",src:C.ed}):r.createElement("img",{alt:"",src:C.dm})},Ke=(0,r.memo)((function(e){var n=e.children,l=e.nav,o=e.openNav,i=e.title;return r.createElement(y.U7,{onClose:o,blured:!1,scrollable:!0,isOpen:l,shadowedContainerStyle:{width:"100%",minWidth:"50%",minHeight:"400px"},shadowedContainerClassname:me.popup},r.createElement("div",{style:{width:"inherit",height:"inherit"},onClick:o},i.length>0&&r.createElement("div",{className:me.actionsContainer},r.createElement("p",{className:me.infoTitle},i)),n))})),Qe=function(e){var n,l,o=e.component,i=e.blueprintIndex,t=e.setSelectedComponent,d=e.selectedComponent,a=e.companyData,v=e.components,s=e.allComponents,c=e.companyUsersArray,p=e.user,f=e.status,_=(0,m.pQ)(),y=(0,u.Z)(_,1)[0],g=(0,r.useState)(me.active),b=(0,u.Z)(g,1)[0],x=(0,r.useState)(""),E=(0,u.Z)(x,1)[0],C=null===(n=y.currentStep)||void 0===n?void 0:n.component_blueprints.findIndex((function(e){return e.id===o.id})),w=o.selected_fields.filter((function(e){return"Pin"===e.data_type_name||"Map"===e.data_type_name})).length>0,Z=null===d||void 0===d||null===(l=d.component_fields)||void 0===l?void 0:l.find((function(e){return"Action Button"===e.data_type_name}));return r.createElement("div",{id:"accordion",key:i,className:xe()(me.accordionContainer,b),"app-variant-has-error":E?"error":"",style:h.tq?w?{padding:"0",border:"0"}:{border:"0"}:{}},r.createElement("p",{className:me.cardTitle,style:{fontSize:"16px"}},null===o||void 0===o?void 0:o.name,":"),r.createElement(Xe,{components:v,allComponents:s,component:o,handleInputChange:function(){},handlePrefixChange:function(){},handleCurrencyChange:function(){},checkIfAreMandatoryErrored:!1,handleCheckbox:function(){},isInherited:!1,indexInContextArray:C,handleLocationChange:function(){},processTaskContext:y,companyData:a,companyUsersArray:c,selectedComponent:d,setSelectedComponent:t,hasAction:Z,user:p,status:f}))},Xe=(0,r.memo)((function(e){var n,l,o=e.component,i=e.components,d=e.companyData,c=e.allComponents,p=e.companyUsersArray,m=e.setSelectedComponent,f=e.selectedComponent,_=e.hasAction,b=e.user,x=e.status,E=(0,v.v9)((function(e){return e.flowReducer})),C=E.allTasks,w=E.companyPositionsArray,Z=(0,r.useState)(!1),M=(0,u.Z)(Z,2),k=M[0],I=M[1],N=(0,r.useState)(0),T=(0,u.Z)(N,2),P=T[0],D=T[1],A=(0,r.useState)(!1),O=(0,u.Z)(A,2),L=O[0],z=O[1],U=(0,r.useState)(!1),F=(0,u.Z)(U,2),q=F[0],W=F[1],B=(null===o||void 0===o||null===(n=o.selected_fields)||void 0===n?void 0:n.length)>0&&V.Z([Q.Z(J.Z("index"))])(null===o||void 0===o||null===(l=o.selected_fields)||void 0===l?void 0:l.filter((function(e){return!0!==e.value||void 0!==(null===e||void 0===e?void 0:e.value)}))).map((function(e,n){var l,u,v,E;if((null===e||void 0===e||null===(l=e.options)||void 0===l||null===(u=l.list)||void 0===u?void 0:u.length)>0&&(null===e||void 0===e||null===(v=e.options)||void 0===v||null===(E=v.component_id)||void 0===E?void 0:E.length)>0&&("Step List"===(null===e||void 0===e?void 0:e.data_type_name)||"Component List"===(null===e||void 0===e?void 0:e.data_type_name)))return r.createElement("div",{key:n,style:{width:"100%"}},r.createElement(S.default,{modern:!0,columns:e.options.list,list:(ee=e.options,i.filter((function(e){return e.id===ee.component_id})).map((function(e){var n={};return ee.list.map((function(l){n=(0,a.Z)((0,a.Z)({},n),{},(0,t.Z)({},l,e.selected_fields.find((function(e){return e.field_name===l})).value))})),n})))}));if("output"===e.data_type&&"Formula"!==e.data_type_name&&"Item Formula"!==e.data_type_name&&"Record"!==e.data_type_name&&"Filters"!==e.data_type_name)return null;if("Info"===e.data_type_name)return null;if("URL"===e.data_type_name)return null;if("Map"===e.data_type_name)return null;if("Lookup"===e.data_type_name)return null;if("Rewards"===e.data_type_name)return null;if("Summary"===e.data_type_name)return null;if("Ratings"===e.data_type_name)return null;if("ID"===e.data_type_name){var Z,M,N=null!==(Z=null===R||void 0===R?void 0:ie.Z(null===R||void 0===R?void 0:$.Z("field_name",e.field_name))(o.values))&&void 0!==Z?Z:null;return r.createElement("div",{key:n},r.createElement("div",{className:me.actionsContainer,style:{fontSize:"12px"}},r.createElement("div",{style:{fontWeight:"normal",fontSize:"14px"}},e.field_name,":"),r.createElement("div",null,null===N||null===N.value?"":null===N||void 0===N||null===(M=N.value)||void 0===M?void 0:M.split(",")[0])),r.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}))}var T,A,O,U,F,B,Y,H,j,V,G,J,K,Q,X,ee,ne=null!==(T=null===R||void 0===R?void 0:ie.Z(null===R||void 0===R?void 0:$.Z("field_name",null===e||void 0===e?void 0:e.field_name))(null!==(A=null===f||void 0===f?void 0:f.component_fields)&&void 0!==A?A:[]))&&void 0!==T?T:{},le=null===(O=ne)||void 0===O?void 0:O.value,oe=null===o||void 0===o||null===(U=o.selected_fields)||void 0===U?void 0:U.find((function(e){return"Info"===e.data_type_name}));if(oe){var ae,ue,se=c.find((function(e){return(null===e||void 0===e?void 0:e.component_fields.filter((function(e){return e.component_blueprint_id===oe.options.component_id&&e.value===le})).length)>0}));if(se)return null===oe||void 0===oe||null===(ae=oe.options)||void 0===ae||null===(ue=ae.list)||void 0===ue?void 0:ue.map((function(e,n){var l,o,i=null!==(l=null===(o=se.component_fields.find((function(n){return n.field_name===e})))||void 0===o?void 0:o.value)&&void 0!==l?l:"";return r.createElement("div",{key:n},r.createElement("div",{className:me.actionsContainer,style:{fontSize:"12px"}},r.createElement("div",{style:{fontWeight:"normal",fontSize:"14px"}},e,":"),r.createElement("div",null,i)),r.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}))}))}if("Pin"===e.data_type_name&&(null!==e&&void 0!==e&&e.value||le)){var ce,pe,fe,_e,ye,ge,be,xe,Ee,Ce,we,Ze,Me,Se,ke,Ie,Pe,De=JSON.parse(null!==(ce=null===e||void 0===e?void 0:e.value)&&void 0!==ce?ce:le),Ae=null===f||void 0===f||null===(pe=f.component_fields)||void 0===pe||null===(fe=pe.find((function(e){return"Status"===e.data_type_name})))||void 0===fe?void 0:fe.value;if(void 0===ne)ne=null===(Pe=f.component_fields)||void 0===Pe?void 0:Pe.find((function(e){return"Pin"===e.data_type_name}));return r.createElement("div",{key:n,style:{display:"",width:"100%"}},q&&r.createElement(Te.Z,{mapkey:null===(_e=d.misc_info)||void 0===_e?void 0:_e.map,pins:null!==De&&void 0!==De&&De.realtime?null!==De&&void 0!==De&&null!==(ye=De.destination)&&void 0!==ye&&ye.address?[(0,a.Z)((0,a.Z)({},De.destination),{},{type:"destination"}),(0,a.Z)((0,a.Z)({},De.source),{},{type:"source"}),(0,a.Z)((0,a.Z)({},De.realtime),{},{type:"realtime"})]:[(0,a.Z)((0,a.Z)({},De.source),{},{type:"source"}),(0,a.Z)((0,a.Z)({},De.realtime),{},{type:"realtime"})]:null!==De&&void 0!==De&&null!==(ge=De.destination)&&void 0!==ge&&ge.address?[(0,a.Z)((0,a.Z)({},De.destination),{},{type:"destination"}),(0,a.Z)((0,a.Z)({},De.source),{},{type:"source"})]:[(0,a.Z)((0,a.Z)({},De.source),{},{type:"source"})]}),r.createElement("div",{key:n,className:me.filtersContainer,style:{color:"var(--app-color-gray-dark)",height:"inherit",width:"100%",display:null!==e&&void 0!==e&&e.visible?"":"none"}},r.createElement("div",{className:me.actionsContainer,style:{fontSize:"12px"},onClick:function(){return W(!q)}},null!==De&&void 0!==De&&null!==(be=De.destination)&&void 0!==be&&be.address?r.createElement("div",{style:{width:"50px",textAlign:"left",fontWeight:"normal",fontSize:"14px"}},"From:"):r.createElement(ve.G,{icon:re.opg,style:{color:"green",width:"20px",height:"20px"}}),r.createElement("div",{style:{width:"70%",textAlign:"right"}},De.source.address)),(null===De||void 0===De||null===(xe=De.destination)||void 0===xe?void 0:xe.address)&&r.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}),(null===De||void 0===De||null===(Ee=De.destination)||void 0===Ee?void 0:Ee.address)&&r.createElement("div",{className:me.actionsContainer,style:{fontSize:"12px"}},r.createElement("div",{style:{width:"50px",textAlign:"left",fontWeight:"normal",fontSize:"14px"}},"To",":"),r.createElement("div",{style:{width:"70%",textAlign:"right"}},null===De||void 0===De||null===(Ce=De.destination)||void 0===Ce?void 0:Ce.address))),r.createElement(y.zx,{light:!0,title:0!=P?"Stop Location Updates":null!==e&&void 0!==e&&null!==(we=e.options)&&void 0!==we&&we.realtime?"Send Location Updates":"Update Location",clicked:function(){0===P?navigator.geolocation.getCurrentPosition((function(n){var l,o,i,t;De&&(De.realtime={lat:n.coords.latitude,lng:n.coords.longitude,id:"10"},e.value=JSON.stringify(De),1==(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.realtime)?D(setInterval((function(){I(!0),(0,g.po)({component_id:f.id,index:e.index,value:JSON.stringify(De),group:e.group,component_field_id:ne.id}).subscribe({next:function(e){I(!1)},error:function(){return I(!1)},complete:function(){}})}),+(null!==(o=null===(i=ne)||void 0===i||null===(t=i.options)||void 0===t?void 0:t.interval)&&void 0!==o?o:6e4))):(I(!0),(0,g.po)({component_id:f.id,index:ne.index,value:JSON.stringify(De),group:ne.group,component_field_id:ne.id}).subscribe({next:function(e){I(!1)},error:function(){return I(!1)},complete:function(){}})))})):(window.clearInterval(P),D(0))},loading:k,style:{width:"100%",display:"Closed"===(null===f||void 0===f?void 0:f.sttaus)||"New"===(null===f||void 0===f?void 0:f.sttaus)||(null===f||void 0===f?void 0:f.status)===(null===d||void 0===d||null===(Ze=d.misc_info)||void 0===Ze?void 0:Ze.lock)||"Closed"===Ae||"New"===Ae||Ae===(null===d||void 0===d||null===(Me=d.misc_info)||void 0===Me?void 0:Me.lock)||"Cancelled"===Ae?"none":_&&"user"===_.options.action&&(null===_||void 0===_?void 0:_.value)===(null===b||void 0===b?void 0:b.id)?"":"none"}}),q&&r.createElement(y.zx,{light:!0,title:"Refresh location",clicked:function(){I(!0),(0,g.r6)(f.id).pipe((0,s.P)()).subscribe({next:function(e){m(e),I(!1)},error:function(){return I(!1)}})},loading:k,style:{width:"100%",display:"Closed"===(null===f||void 0===f?void 0:f.sttaus)||"New"===(null===f||void 0===f?void 0:f.sttaus)||(null===f||void 0===f?void 0:f.status)===(null===d||void 0===d||null===(Se=d.misc_info)||void 0===Se?void 0:Se.lock)||"Closed"===Ae||"New"===Ae||Ae===(null===d||void 0===d||null===(ke=d.misc_info)||void 0===ke?void 0:ke.lock)||"Cancelled"===Ae?"none":_&&"user"===_.options.action&&null!==_&&void 0!==_&&_.value&&(null===f||void 0===f||null===(Ie=f.created_by)||void 0===Ie?void 0:Ie.id)===(null===b||void 0===b?void 0:b.id)?"":"none"}}))}if("Action Button"===(null===e||void 0===e?void 0:e.data_type_name)&&(null===e||void 0===e||null===(F=e.options)||void 0===F||null===(B=F.action)||void 0===B?void 0:B.length)>0)return null!==e&&void 0!==e&&e.value||le?r.createElement(he.Z,{width:"100%",key:n,style:{flexDirection:"column",border:"0"},isProcess:!0,visible:void 0!==(null===e||void 0===e?void 0:e.value)||e.visible,mandatory:!1,error:e.errors},r.createElement("div",{className:me.centeredDiv,style:{width:"inherit",fontSize:"14px",fontWeight:"normal"}},r.createElement("p",{style:{width:"inherit",fontSize:"12px",fontWeight:"bold"}},null!==e&&void 0!==e&&e.value||le?null!==(V=e.options)&&void 0!==V&&V.notes?null===(G=e.options)||void 0===G?void 0:G.notes:"".concat(e.field_name,":"):"user"===e.options.action?"Not yet assigned":"No status"),"user"===e.options.action&&(null===p||void 0===p?void 0:p.length)>0&&(null===p||void 0===p?void 0:p.filter((function(n){return n.id===(le||(null===e||void 0===e?void 0:e.value))})).map((function(e,n){var l,o,i,t,d,a;return r.createElement("div",{key:n,className:me.filtersContainer,style:{fontSize:"12px"}},r.createElement(Ne.Z,{ratings:(null===e||void 0===e||null===(l=e.ratings)||void 0===l?void 0:l.length)>0?null===e||void 0===e||null===(o=e.ratings)||void 0===o?void 0:o.map((function(e){return+e.ratings})):[],simple:!0,photo:e.photo,firstName:null===e||void 0===e?void 0:e.first_name,lastName:null===e||void 0===e?void 0:e.last_name,email:null===e||void 0===e||null===(i=e.positions)||void 0===i||null===(t=i.slice(0,1))||void 0===t?void 0:t.map((function(e){return e.name})),position:"",cardClicked:function(){return z(!L)},width:"100%"}),L&&r.createElement("div",{style:{padding:"10px"}},r.createElement("h3",null,"User Feedback:"),(null===e||void 0===e||null===(d=e.ratings)||void 0===d?void 0:d.length)>0?null===e||void 0===e||null===(a=e.ratings)||void 0===a?void 0:a.map((function(e,n){return r.createElement("div",{className:me.actionsContainer,key:n,style:{fontSize:"12px",marginBottom:"10px"}},r.createElement("div",{style:{width:"60%",textAlign:"left"}},'"'.concat(e.comments,'"')))})):null))}))))):null;if("Link"===e.data_type_name){var Oe,ze="".concat(le||(null===e||void 0===e?void 0:e.value));return r.createElement(he.Z,{width:h.tq?"100%":"50%",style:{border:"0"},key:n,fieldIcon:e.icon,isProcess:!0,visible:void 0!==(null===e||void 0===e?void 0:e.value)||e.visible,mandatory:!1,error:e.errors,customIconBgColor:"white"},null!==ze&&void 0!==ze&&ze.includes("jpg")||null!==ze&&void 0!==ze&&ze.includes("jpeg")||null!==e&&void 0!==e&&null!==(Oe=e.options)&&void 0!==Oe&&Oe.image||null!==ze&&void 0!==ze&&ze.includes("png")?r.createElement("div",{className:me.accordionContainer,onClick:function(){return window.open(ze,"_blank")}},r.createElement("img",{alt:"lg",src:ze,style:{width:"100%",height:"100%",cursor:"pointer"}})):null!==ze&&void 0!==ze&&ze.includes("pdf")?r.createElement("div",{className:me.accordionContainer,onClick:function(){return window.open(ze,"_blank")}},r.createElement("embed",{onClick:function(){return window.open(ze,"_blank")},src:"".concat(ze,"#toolbar=0&navpanes=0&scrollbar=0"),width:"400px",height:"500px"})):r.createElement("div",{style:{width:"inherit",textDecoration:"underline",textAlign:"center",cursor:"pointer"},onClick:function(){return window.open(le,"_blank")}},"Link"))}if("Checkbox"===e.data_type_name)return r.createElement("div",{key:n},r.createElement("div",{className:me.actionsContainer,style:{fontSize:"12px"}},r.createElement("div",{style:{fontWeight:"normal",fontSize:"14px"}},e.options.value,":"),r.createElement("div",null,void 0===le?!0===(null===e||void 0===e?void 0:e.value)?"Yes":"No":1==le?"Yes":"No")),r.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}));if("Status"===e.data_type_name)return r.createElement("div",{key:n},r.createElement("div",{className:me.actionsContainer,style:{fontSize:"12px"}},r.createElement("div",{style:{fontWeight:"normal",fontSize:"14px"}},"Status",":"),r.createElement("div",null,null!==(J=null===f||void 0===f?void 0:f.status)&&void 0!==J?J:le)),r.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}));if("Upload"===e.data_type_name)return r.createElement("div",{key:n},r.createElement("div",{className:me.actionsContainer,style:{fontSize:"12px"}},r.createElement("div",{style:{fontWeight:"normal",fontSize:"14px"}},e.field_name,":"),(le||(null===e||void 0===e?void 0:e.value))&&r.createElement("a",{style:{fontFamily:"var(--app-text-font-mobile)"},key:n,href:le||(null===e||void 0===e?void 0:e.value),download:"Example-PDF-document",target:"_blank",rel:"noreferrer"},"Download File")),r.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}));if("Tiles"===(null===e||void 0===e||null===(Y=e.options)||void 0===Y?void 0:Y.selection)){var Re,Ue,Fe=c.find((function(n){return(null===n||void 0===n?void 0:n.component_fields.filter((function(n){return n.component_blueprint_id===e.options.component_id&&n.value===le})).length)>0}));if(Fe)return r.createElement("div",{key:n,className:me.filtersContainer,style:{color:"var(--app-color-gray-dark)",height:"inherit",width:"100%",display:null!==e&&void 0!==e&&e.visible?"":"none"}},null===e||void 0===e||null===(Re=e.options)||void 0===Re||null===(Ue=Re.names)||void 0===Ue?void 0:Ue.map((function(e,n){var l,o,i,t,d=null!==(l=null===(o=Fe.component_fields.find((function(n){return n.field_name===e})))||void 0===o?void 0:o.value)&&void 0!==l?l:"";return null!==d&&void 0!==d&&d.includes("jpg")||null!==d&&void 0!==d&&d.includes("jpeg")||null!==d&&void 0!==d&&d.includes("png")?r.createElement("div",{key:n,style:{width:"inherit",display:"flex",justifyContent:"right",marginBottom:"20px"}},r.createElement("img",{alt:"lg",src:d,style:{objectFit:"contain",width:"40px",height:"30px",cursor:"pointer"}})):r.createElement("div",{key:n},r.createElement("div",{className:me.actionsContainer,style:{fontSize:"12px"}},r.createElement("div",{style:{width:"20%",textAlign:"left",fontWeight:"normal",fontSize:"14px"}},e,":"),r.createElement("div",{style:{width:"80%",textAlign:"right"}},null!==(i=null===(t=Fe.component_fields.find((function(n){return n.field_name===e})))||void 0===t?void 0:t.value)&&void 0!==i?i:"")),r.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}))})))}if("People"===e.data_type_name)if(e.options.calendar){var qe,We,Be=JSON.parse(null!==(qe=le)&&void 0!==qe?qe:null!==(We=null===e||void 0===e?void 0:e.value)&&void 0!==We?We:JSON.stringify({})),Ye=p.find((function(e){return e.id===Be.user}));if(le=Ye?"".concat(Ye.first_name," ").concat(Ye.last_name):"",null!==Be&&void 0!==Be&&Be.task){var He,je=C.find((function(e){return e.id===Be.task}));return r.createElement("div",{key:n,style:{margin:"10px 0 10px 0",display:e.visible&&le?"":"none"}},r.createElement("div",{className:me.actionsContainer,style:{fontSize:"12px"}},r.createElement("div",{style:{fontWeight:"normal",fontSize:"14px"}},e.field_name,":"),r.createElement("div",{style:{display:"flex",flexDirection:"column",textAlign:"right"}},r.createElement("div",null,le),je&&"Closed"!==f.status&&r.createElement("div",null,null===je||void 0===je?void 0:je.name),je&&"Closed"!==f.status&&r.createElement("div",null,de()(new Date(null===je||void 0===je||null===(He=je.add_info)||void 0===He?void 0:He.start)).format("DD MMM YYYY h:mm a")),(null===je||void 0===je?void 0:je.status)&&"Closed"!==f.status&&r.createElement("div",null,null===je||void 0===je?void 0:je.status))),r.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}))}}else{var Ve=p.find((function(n){var l;return n.id===(null!==(l=le)&&void 0!==l?l:e.value)}));le=Ve?"".concat(Ve.first_name," ").concat(Ve.last_name):""}return"Video"===e.data_type_name&&x===(null!==(H=null===e||void 0===e||null===(j=e.options)||void 0===j?void 0:j.status)&&void 0!==H?H:"New")&&null!==e&&void 0!==e&&e.value&&de()(null===e||void 0===e?void 0:e.value)<=(0,te.now)()&&(0,te.now)()<de()(null===e||void 0===e?void 0:e.value).add("minutes",+(null!==(K=null===e||void 0===e||null===(Q=e.options)||void 0===Q?void 0:Q.expiry)&&void 0!==K?K:30))?r.createElement("div",{key:n,style:{width:"100%",fontSize:"12px",display:"flex",flexDirection:"column",justifyContent:"center"}},r.createElement("div",{style:{fontWeight:"normal",fontSize:"14px"}},e.field_name,":"),r.createElement("div",{style:{width:"100%",fontSize:"12px",display:"flex",flexDirection:"column",justifyContent:"center"}},r.createElement(Le.Z,{payload:{name:null===f||void 0===f?void 0:f.id}}))):("Clock"===e.data_type_name&&(le=de()(new Date(+le)).format("DD MMM YYYY h:mm a")),"Positions"===e.data_type_name?r.createElement("div",{key:n,style:{margin:"10px 0 10px 0",display:e.visible&&le?"":"none"}},r.createElement("div",{className:me.actionsContainer,style:{fontSize:"12px"}},r.createElement("div",{style:{fontWeight:"normal",fontSize:"14px"}},e.field_name,":"),r.createElement("div",{style:{textAlign:"right",width:"60%"}},null!==e&&void 0!==e&&e.value?null===(X=w.find((function(n){return n.value===(null===e||void 0===e?void 0:e.value)})))||void 0===X?void 0:X.label:"-")),r.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}})):r.createElement("div",{key:n,style:{margin:"10px 0 10px 0",display:e.visible&&le?"":"none"}},r.createElement("div",{className:me.actionsContainer,style:{fontSize:"12px"}},r.createElement("div",{style:{fontWeight:"normal",fontSize:"14px"}},e.field_name,":"),r.createElement("div",{style:{textAlign:"right",width:"60%"}},null===le||void 0===le?null!==e&&void 0!==e&&e.value?"Date"===e.data_type_name||"Video"===e.data_type_name?"Invalid date"===de()(new Date(null===e||void 0===e?void 0:e.value)).format("DD MMM YYYY h:mm a")?"":de()(new Date(null===e||void 0===e?void 0:e.value)).format("DD MMM YYYY h:mm a"):null===e||void 0===e?void 0:e.value:"":"Date"===e.data_type_name||"Video"===e.data_type_name?"Invalid date"===de()(new Date(le)).format("DD MMM YYYY h:mm a")?"":de()(new Date(le)).format("DD MMM YYYY h:mm a"):le)),r.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}})))}));return r.createElement("div",{style:{width:"100%",display:k?"none":"",margin:"20px 0"}},B)})),$e=function(e){var n,l,o,i=e.component,t=e.title,d=void 0===t?"Created by":t,a=(0,v.v9)((function(e){return e.flowReducer})),u=a.companyUsersArray.find((function(e){var n;return e.id===(null===(n=i.created_by)||void 0===n?void 0:n.id)}));return r.createElement("div",{className:me.centeredDiv,style:{width:"inherit",fontSize:"14px",marginTop:"20px"}},r.createElement("div",{style:{fontFamily:"var(--app-text-font-mobile)",fontWeight:"bold",color:"var(--app-color-gray-dark)",paddingLeft:"5px"}},d),r.createElement("div",{className:me.filtersContainer},r.createElement(Ne.Z,{title:"Created by:",simple:!0,photo:null!==(n=null===u||void 0===u?void 0:u.photo)&&void 0!==n?n:"https://s3-symbol-logo.tradingview.com/logo-yazilim--600.png",email:"Document Date: ".concat(de()(new Date(i.created_date)).format("DD MMM YYYY")),position:"Time: ".concat(de()(new Date(i.created_date)).format("h:mm a")),firstName:r.createElement("div",{style:{fontWeight:"bold"}},"".concat(null===(l=i.created_by)||void 0===l?void 0:l.first_name," ").concat(null===(o=i.created_by)||void 0===o?void 0:o.last_name)),cardClicked:function(){},width:"100%"})))},en=function(e){var n,l,o,i,t,d,a,u,s,c,p,m,f,_,y=e.component,h=(0,v.v9)((function(e){return e.flowReducer})),g=h.companyData,b=(0,v.v9)((function(e){return e.authReducer})),x=b.authenticatedUser,E=null===y||void 0===y?void 0:y.component_fields.find((function(e){var n;return"Payments"===e.data_type_name&&("Done"===(null===y||void 0===y?void 0:y.status)||"Closed"===(null===y||void 0===y?void 0:y.status))&&(null===y||void 0===y||null===(n=y.created_by)||void 0===n?void 0:n.id)===(null===x||void 0===x?void 0:x.id)})),C=null===y||void 0===y?void 0:y.component_fields.find((function(e){var n;return e.field_name===(null===E||void 0===E||null===(n=E.options)||void 0===n?void 0:n.paymentField)}));return r.createElement("div",{className:me.filtersContainer,style:{display:E?"":"none"}},null!==y&&void 0!==y&&y.payments?r.createElement("div",null,r.createElement("div",{className:me.actionsContainer,style:{fontSize:"12px"}},r.createElement("div",null,"Payments:",":"),r.createElement("div",null,"".concat(null===(n=y.payments)||void 0===n?void 0:n.stripe_product,", ID: ").concat(null===(l=y.payments)||void 0===l?void 0:l.stripe_id.substring(0,5)))),r.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}),r.createElement("div",{className:me.actionsContainer,style:{fontSize:"12px"}},r.createElement("div",null,"Amount Paid",":"),r.createElement("div",null,"".concat((+(null!==(o=null===(i=y.payments)||void 0===i?void 0:i.stripe_price)&&void 0!==o?o:0)).toFixed(2)))),r.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}),(null===(t=y.assigned_to)||void 0===t?void 0:t.id)===(null===x||void 0===x?void 0:x.id)&&r.createElement("div",{className:me.actionsContainer,style:{fontSize:"12px"}},r.createElement("div",null,"Transaction Fees",":"),r.createElement("div",null,"".concat((+(null===(d=y.payments)||void 0===d?void 0:d.stripe_price)*(null!==(a=null===g||void 0===g||null===(u=g.misc_info)||void 0===u?void 0:u.rate)&&void 0!==a?a:.2)).toFixed(2))))):r.createElement("div",null,"Cash"===(null===E||void 0===E?void 0:E.value)&&r.createElement("div",{className:me.actionsContainer,style:{fontSize:"12px"}},r.createElement("div",null,"Payments:",":"),r.createElement("div",null,"Cash")),"Cash"===(null===E||void 0===E?void 0:E.value)&&r.createElement("div",{className:me.actionsContainer,style:{fontSize:"12px"}},r.createElement("div",null,"Cash Paid",":"),r.createElement("div",null,"".concat((+(null===C||void 0===C?void 0:C.value)).toFixed(2)))),"Cash"===(null===E||void 0===E?void 0:E.value)&&(null===(s=y.assigned_to)||void 0===s?void 0:s.id)===(null===x||void 0===x?void 0:x.id)&&r.createElement("div",{className:me.actionsContainer,style:{fontSize:"12px"}},r.createElement("div",null,"Deducted from wallet",":"),r.createElement("div",null,"".concat((+(null===C||void 0===C?void 0:C.value)+ +(null===C||void 0===C?void 0:C.value)*(null!==(c=null===g||void 0===g||null===(p=g.misc_info)||void 0===p?void 0:p.rate)&&void 0!==c?c:.2)).toFixed(2)))),"Cash"===(null===E||void 0===E?void 0:E.value)&&(null===(m=y.assigned_to)||void 0===m?void 0:m.id)===(null===x||void 0===x?void 0:x.id)&&r.createElement("div",{className:me.actionsContainer,style:{fontSize:"12px"}},r.createElement("div",null,"Total Fees",":"),r.createElement("div",null,"".concat((+(null===C||void 0===C?void 0:C.value)*(null!==(f=null===g||void 0===g||null===(_=g.misc_info)||void 0===_?void 0:_.rate)&&void 0!==f?f:.2)).toFixed(2)))),"Cash"!==(null===E||void 0===E?void 0:E.value)&&r.createElement("div",{className:me.actionsContainer,style:{fontSize:"12px",fontWeight:"bold"}},r.createElement("div",null,"Payments:",":"),r.createElement("div",{style:{color:"red"}},"Pending"))))},nn=function(e){var n=f.h.getState().flowReducer.companyUsersArray,l=e.isEdit,o=e.modalVisible,i=e.heading,t=e.onClose,d=e.isProcess,a=e.setIsProcessBegin,v=e.task,c=e.priority,p=void 0===c||c,m=e.shadowedContainerStyle,h=e.statuses,g=e.start_date,b=e.span,x=e.labels,E=void 0===x?{}:x,C=e.onUpdate,w=void 0===C?function(){}:C,Z=e.save,M=void 0===Z||Z,S=(0,r.useState)(E),k=(0,u.Z)(S,1)[0],I=(0,r.useState)(d),N=(0,u.Z)(I,1)[0],T=(0,r.useState)(i),P=(0,u.Z)(T,1)[0];return(0,r.useEffect)((function(){var e=[];if(v){var l,o;if(!n.find((function(e){var n;return e.id===(null===v||void 0===v||null===(n=v.creator)||void 0===n?void 0:n.id)})))e=e.concat(null===(l=v.creator)||void 0===l?void 0:l.id);if(!n.find((function(e){var n;return e.id===(null===v||void 0===v||null===(n=v.assignee)||void 0===n?void 0:n.id)})))e=e.concat(null===(o=v.assignee)||void 0===o?void 0:o.id);e.length>0&&(0,Ee.VG)(e).pipe((0,s.P)()).subscribe({next:function(e){f.h.dispatch((0,_.NY)(n.concat(e)))}})}}),[]),r.createElement("div",null,r.createElement(y.U7,{scrollable:!0,shadowedContainerStyle:m||{width:"100%",minHeight:"100vh"},isOpen:o,onClose:function(){},blured:!1},r.createElement("div",null,r.createElement("p",{style:{fontFamily:"var(--app-text-font-mobile)",fontSize:"20px",fontWeight:"bold",color:"#4A4A4A",marginTop:"50px",marginBottom:"20px",textAlign:"center"}},null!==v&&void 0!==v&&v.completed_at?"Completed Task":P),r.createElement(ln,{labels:k,showPriority:p,statuses:h,task:v,setIsProcessBegin:a,setDisplayModal:t,isProcess:N,isEdit:l,onClose:function(){return t()},start_date:g,span:b,onUpdate:w,save:M}))))};function ln(e){var n,l,o,i,t,v,s,c,p,m,_,h,g,b,x,E,C,w,Z,M,S,k,N,T,D,L,z,R,U,F,q,W,B,Y,H,j,V,G,J,K,Q,X,$,ee,ne,le,oe,ie=f.h.getState().flowReducer,te=ie.selectedProcess,ae=ie.companyUsersArray,ue=ie.begunModule,se=ie.companyData,ce=f.h.getState().sessionReducer.user,pe=e.isProcess,fe=e.statuses,_e=e.task,ge=e.isEdit,be=e.assigneeId,xe=e.setDisplayModal,Ee=e.onClose,Ce=e.start_date,we=void 0===Ce?(new Date).setDate((new Date).getDate()):Ce,Ze=e.span,Me=void 0===Ze||Ze,Se=e.labels,ke=e.onUpdate,Ie=void 0===ke?function(){}:ke,Ne=e.save,Te=void 0===Ne||Ne,De=(0,r.useState)(null!==_e&&void 0!==_e&&null!==(n=_e.assignee)&&void 0!==n&&n.id?{assignee_id:null===_e||void 0===_e||null===(l=_e.assignee)||void 0===l?void 0:l.id}:""),Ae=(0,u.Z)(De,2),Oe=Ae[0],Le=Ae[1],ze=(0,r.useState)(null!==_e&&void 0!==_e&&null!==(o=_e.process)&&void 0!==o&&o.id?{process:null===_e||void 0===_e||null===(i=_e.process)||void 0===i?void 0:i.id}:""),Re=(0,u.Z)(ze,2),Ue=(Re[0],Re[1]),Fe=(0,r.useState)((null===_e||void 0===_e?void 0:_e.name)||""),qe=(0,u.Z)(Fe,2),We=qe[0],Be=qe[1],Ye=(0,r.useState)((null===_e||void 0===_e?void 0:_e.status)||""),He=(0,u.Z)(Ye,2),je=He[0],Ve=He[1],Ge=(0,r.useState)((null===_e||void 0===_e?void 0:_e.description)||""),Je=(0,u.Z)(Ge,2),Ke=Je[0],Qe=Je[1],Xe=(0,r.useState)(null!==_e&&void 0!==_e&&_e.due_date?new Date(null===_e||void 0===_e?void 0:_e.due_date):(new Date).setDate((new Date).getDate())+36e5),$e=(0,u.Z)(Xe,2),en=$e[0],nn=($e[1],(0,r.useState)(null!==_e&&void 0!==_e&&null!==(t=_e.add_info)&&void 0!==t&&t.start?new Date(null===_e||void 0===_e||null===(v=_e.add_info)||void 0===v?void 0:v.start):we)),ln=(0,u.Z)(nn,2),tn=ln[0],dn=ln[1],an=(0,r.useState)(null!==_e&&void 0!==_e&&null!==(s=_e.add_info)&&void 0!==s&&s.end?new Date(null===_e||void 0===_e||null===(c=_e.add_info)||void 0===c?void 0:c.end):we),un=(0,u.Z)(an,2),rn=un[0],vn=un[1],sn=(0,r.useState)(null===_e||void 0===_e||null===(p=_e.add_info)||void 0===p?void 0:p.value),cn=(0,u.Z)(sn,2),pn=cn[0],mn=cn[1],fn=(0,r.useState)(""),_n=(0,u.Z)(fn,2),yn=_n[0],hn=_n[1],gn=(0,r.useState)(!1),bn=(0,u.Z)(gn,2),xn=bn[0],En=bn[1],Cn=(0,r.useState)(!1),wn=(0,u.Z)(Cn,2),Zn=wn[0],Mn=wn[1],Sn=(0,r.useState)(!1),kn=(0,u.Z)(Sn,2),In=kn[0],Nn=kn[1],Tn=(0,r.useState)(!1),Pn=(0,u.Z)(Tn,2),Dn=Pn[0],An=Pn[1],On=(0,r.useState)(pe),Ln=(0,u.Z)(On,2),zn=Ln[0],Rn=(Ln[1],(0,r.useState)((null===_e||void 0===_e||null===(m=_e.add_info)||void 0===m?void 0:m.priority)||"")),Un=(0,u.Z)(Rn,2),Fn=Un[0],qn=(Un[1],(null===ae||void 0===ae?void 0:ae.length)>0?ge&&(null===_e||void 0===_e||null===(_=_e.creator)||void 0===_?void 0:_.id)!==ce.id?[{label:ce.first_name+" "+ce.last_name,value:ce.id}]:(null===Se||void 0===Se||null===(h=Se.aList)||void 0===h?void 0:h.length)>0?ae.filter((function(e){var n;return(null===e||void 0===e||null===(n=e.positions)||void 0===n?void 0:n.filter((function(e){var n,l;return null===Se||void 0===Se||null===(n=Se.options)||void 0===n||null===(l=n.aList)||void 0===l?void 0:l.includes(null===e||void 0===e?void 0:e.id)})).length)>0})).map((function(e){return{label:e.first_name+" "+e.last_name,value:e.id}})):ae.map((function(e){return{label:e.first_name+" "+e.last_name,value:e.id}})):[]);(0,r.useEffect)((function(){return Nn(!0),function(){Nn(!1)}}),[]),(0,r.useEffect)((function(){if(zn&&null!==te&&void 0!==te&&te.id&&In){Ue({procedure_id:te.id}),Qe(te.description)}}),[zn,In,te.description,te.id]);var Wn=fe?fe.map((function(e){return{label:e,value:e}})):[{label:"Ongoing",value:"Ongoing"},{label:"In Review",value:"In Review"},{label:"Approved",value:"Approved"},{label:"Postponed",value:"Postponed"},{label:"Moved",value:"Moved"},{label:"Cancelled",value:"Cancelled"}];return r.createElement("div",{className:me.newTaskFormHost,style:{padding:"0 20px 0 20px"}},r.createElement(A(),{style:{flex:1}},r.createElement(he.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)",fontWeight:"regular",paddingLeft:"5px"},enabled:void 0===(null===_e||void 0===_e?void 0:_e.id)||(null===_e||void 0===_e||!_e.completed_at)&&ce.id===(null===_e||void 0===_e||null===(g=_e.creator)||void 0===g?void 0:g.id),width:"100%",style:{marginTop:"0px",border:"1px dashed var(--app-color-gray-light)",padding:"5px"},editMode:!1,fieldLabel:null!==(b=null===Se||void 0===Se?void 0:Se.title)&&void 0!==b?b:"Event Name",isProcess:!0,visible:!0,mandatory:!0,error:null===yn||void 0===yn||null===(x=yn.errors)||void 0===x?void 0:x.name},r.createElement("textarea",{className:me.fieldTypeTextarea,type:"text",value:We,readOnly:void 0!==(null===_e||void 0===_e?void 0:_e.id)&&(!(null===_e||void 0===_e||!_e.completed_at)||ce.id!==(null===_e||void 0===_e||null===(E=_e.creator)||void 0===E?void 0:E.id)),autoComplete:"none",onChange:function(e){return Be(e.target.value)},placeholder:"",style:{height:"60px",border:"0"}})),r.createElement(he.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)",fontWeight:"regular",paddingLeft:"5px"},enabled:void 0===(null===_e||void 0===_e?void 0:_e.id)||(null===_e||void 0===_e||!_e.completed_at)&&ce.id===(null===_e||void 0===_e||null===(C=_e.creator)||void 0===C?void 0:C.id),width:"100%",style:{marginTop:"0px",border:"1px dashed var(--app-color-gray-light)",padding:"5px"},editMode:!0,fieldLabel:null!==(w=null===Se||void 0===Se?void 0:Se.description)&&void 0!==w?w:"Description",isProcess:!0,visible:(null!==_e&&void 0!==_e&&_e.completed_at,!0),mandatory:!0,error:null===yn||void 0===yn||null===(Z=yn.errors)||void 0===Z?void 0:Z.name},r.createElement("textarea",{className:me.fieldTypeTextarea,style:{border:"0",minHeight:"160px"},readOnly:void 0!==(null===_e||void 0===_e?void 0:_e.id)&&(!(null===_e||void 0===_e||!_e.completed_at)||ce.id!==(null===_e||void 0===_e||null===(M=_e.creator)||void 0===M?void 0:M.id)),required:null===yn||void 0===yn||null===(S=yn.errors)||void 0===S?void 0:S.description,value:Ke,onChange:function(e){return Qe(e.target.value)}})),r.createElement(he.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)",fontWeight:"regular",paddingLeft:"5px"},enabled:void 0===(null===_e||void 0===_e?void 0:_e.id)||(null===_e||void 0===_e||!_e.completed_at)&&ce.id===(null===_e||void 0===_e||null===(k=_e.creator)||void 0===k?void 0:k.id),width:"100%",style:{marginTop:"0px",border:"1px dashed var(--app-color-gray-light)",padding:"5px"},editMode:!1,fieldLabel:null===Se||void 0===Se?void 0:Se.valueL,isProcess:!0,visible:!(null===Se||void 0===Se||!Se.valueL),mandatory:!0},r.createElement("div",null,r.createElement("input",{className:me.fieldTypeInput,style:{border:"0"},readOnly:void 0!==(null===_e||void 0===_e?void 0:_e.id)&&(!(null===_e||void 0===_e||!_e.completed_at)||ce.id!==(null===_e||void 0===_e||null===(N=_e.creator)||void 0===N?void 0:N.id)),value:pn,onChange:function(e){return mn(e.target.value)},onBlur:function(){var e,n,l;null!==ue&&void 0!==ue&&null!==(e=ue.processModule)&&void 0!==e&&null!==(n=e.module)&&void 0!==n&&null!==(l=n.options)&&void 0!==l&&l.credits&&+pn>+(null===ce||void 0===ce?void 0:ce.wallet)&&(mn("0.00"),hn({errors:{value:"You have insufficient funds in your wallet. You currently have ".concat(null===ce||void 0===ce?void 0:ce.wallet,".")}}))}}),yn&&(null===yn||void 0===yn||null===(T=yn.errors)||void 0===T?void 0:T.value)&&r.createElement(I.Z,{message:yn.errors.value,onClick:function(){return hn("")}}))),r.createElement(he.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)",fontWeight:"regular",paddingLeft:"5px"},enabled:void 0===(null===_e||void 0===_e?void 0:_e.id)||(null===_e||void 0===_e||!_e.completed_at)&&ce.id===(null===_e||void 0===_e||null===(D=_e.creator)||void 0===D?void 0:D.id),width:"100%",style:{marginTop:"0px",border:"1px dashed var(--app-color-gray-light)",padding:"5px"},editMode:!1,fieldLabel:null!==(L=null===Se||void 0===Se?void 0:Se.start)&&void 0!==L?L:"Start Date",isProcess:!0,visible:!0,mandatory:!0,error:null===yn||void 0===yn||null===(z=yn.errors)||void 0===z?void 0:z.due_date},r.createElement(ye(),{showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,readOnly:void 0!==(null===_e||void 0===_e?void 0:_e.id)&&(!(null===_e||void 0===_e||!_e.completed_at)||ce.id!==(null===_e||void 0===_e||null===(R=_e.creator)||void 0===R?void 0:R.id)),placeholderText:"Start Date",customInput:r.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch"}},r.createElement("input",{readOnly:!0,value:void 0!==(null===_e||void 0===_e?void 0:_e.id)&&(null!==_e&&void 0!==_e&&_e.completed_at||ce.id!==(null===_e||void 0===_e||null===(U=_e.creator)||void 0===U?void 0:U.id))?"".concat(de()(tn).format("DD MMMM YYYY HH:mm")):de()(tn).format("DD MMMM YYYY HH:mm"),type:"text",required:null===yn||void 0===yn||null===(F=yn.errors)||void 0===F?void 0:F.startDate,id:"start-date",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",border:"none",fontFamily:"var(--app-text-font-mobile)",fontSize:"16px",fontWeight:"bold",lineHeight:"20px",color:"#4A4A4A",textAlign:(null===tn||void 0===tn?void 0:tn.length)>0?"center":"left",maxWidth:"98%"},placeholder:"Start Date",onChange:function(e){}}),r.createElement(ve.G,{icon:re.WRo,style:{width:"14px",height:"14px"}})),className:me.datePickerWrapper,selected:tn,onChange:function(e){de()(e).diff(de()(rn),"minutes")<1?dn(e):(dn(e),vn(e))}})),r.createElement(he.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-dark)",fontWeight:"regular",paddingLeft:"5px"},enabled:void 0===(null===_e||void 0===_e?void 0:_e.id)||(null===_e||void 0===_e||!_e.completed_at)&&ce.id===(null===_e||void 0===_e||null===(q=_e.creator)||void 0===q?void 0:q.id),width:"100%",style:{marginTop:"0px",border:"1px dashed var(--app-color-gray-light)",padding:"5px"},editMode:!1,fieldLabel:null!==(W=null===Se||void 0===Se?void 0:Se.end)&&void 0!==W?W:"End Date",isProcess:!0,visible:!0,mandatory:!0,error:null===yn||void 0===yn||null===(B=yn.errors)||void 0===B?void 0:B.due_date},r.createElement(ye(),{showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,readOnly:void 0!==(null===_e||void 0===_e?void 0:_e.id)&&(!(null===_e||void 0===_e||!_e.completed_at)||ce.id!==(null===_e||void 0===_e||null===(Y=_e.creator)||void 0===Y?void 0:Y.id)),placeholderText:"End Date",customInput:r.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch"}},r.createElement("input",{readOnly:!0,value:de()(rn).format("DD MMMM YYYY HH:mm"),type:"text",required:null===yn||void 0===yn||null===(H=yn.errors)||void 0===H?void 0:H.endDate,id:"due-date",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",border:"none",fontFamily:"var(--app-text-font-mobile)",fontSize:"16px",fontWeight:"bold",lineHeight:"20px",color:"#4A4A4A",textAlign:(null===rn||void 0===rn?void 0:rn.length)>0?"center":"left",maxWidth:"98%"},placeholder:"Due Date",onChange:function(e){}}),r.createElement(ve.G,{icon:re.WRo,style:{width:"14px",height:"14px"}})),className:me.datePickerWrapper,selected:rn,onChange:function(e){de()(e).diff(de()(tn),"minutes")>0?!1===Me?de()(e).format("DD")===de()(rn).format("DD")?vn(e):vn(rn):vn(e):vn(rn)}})),r.createElement("div",{style:{marginBottom:"10px"}},r.createElement("label",{style:{fontSize:"12px",color:"var(--app-color-gray-dark)",fontWeight:"regular",paddingLeft:"5px"}},null!==(j=null===Se||void 0===Se?void 0:Se.assignee)&&void 0!==j?j:"Assignee",null!==_e&&void 0!==_e&&_e.completed_at?r.createElement("div",null,r.createElement("input",{style:{cursor:"auto"},placeholder:(null===_e||void 0===_e?void 0:_e.assignee.first_name)+" "+(null===_e||void 0===_e?void 0:_e.assignee.last_name),readOnly:!0})):r.createElement(P.ZP,{isSearchable:!1,key:"Assignee",styles:O.X2,defaultInputValue:"",components:{DropdownIndicator:O.ms},placeholder:"",value:qn[qn.findIndex((function(e){return e.value===Oe.assignee_id}))],options:qn.concat([{label:"None",value:""}]),onChange:function(e){e&&Le((function(n){return(0,a.Z)((0,a.Z)({},n),{},{assignee_id:e.value})}))}})),yn&&(null===yn||void 0===yn||null===(V=yn.errors)||void 0===V?void 0:V.assignee_id)&&r.createElement(I.Z,{message:yn.errors.assignee_id})),((null===_e||void 0===_e?void 0:_e.completed_at)||ce.id===(null===_e||void 0===_e||null===(G=_e.creator)||void 0===G?void 0:G.id))&&r.createElement("div",{style:{marginBottom:"10px"}},r.createElement("label",{style:{fontSize:"12px",color:"var(--app-color-gray-dark)",fontWeight:"regular",paddingLeft:"5px"}},"Status",null!==_e&&void 0!==_e&&_e.completed_at?r.createElement("input",{style:{cursor:"auto"},placeholder:null!==(J=null===_e||void 0===_e?void 0:_e.status)&&void 0!==J?J:"No status set",readOnly:!0}):ce.id===(null===_e||void 0===_e||null===(K=_e.creator)||void 0===K?void 0:K.id)?r.createElement(P.ZP,{onFocus:function(){return hn("")},key:"status",isSearchable:!1,styles:O.X2,defaultInputValue:"",components:{DropdownIndicator:O.ms},placeholder:"",value:Wn.find((function(e){return e.value===je})),options:ce.id===(null===_e||void 0===_e||null===(Q=_e.creator)||void 0===Q?void 0:Q.id)?[].concat((0,d.Z)(Wn),[{label:null===se||void 0===se||null===(X=se.misc_info)||void 0===X?void 0:X.lock,value:null===se||void 0===se||null===($=se.misc_info)||void 0===$?void 0:$.lock},{label:"No status",value:""}]):Wn,onChange:function(e){return Ve(e.value)}}):r.createElement("input",{style:{cursor:"auto"},placeholder:null!==(ee=null===_e||void 0===_e?void 0:_e.status)&&void 0!==ee?ee:"No status set",readOnly:!0})),yn&&(null===yn||void 0===yn||null===(ne=yn.errors)||void 0===ne?void 0:ne.procedure_id)&&r.createElement(I.Z,{message:yn.errors.procedure_id})),yn&&(null===yn||void 0===yn?void 0:yn.message)&&r.createElement(I.Z,{message:yn.message})),null!==_e&&void 0!==_e&&_e.completed_at?r.createElement("div",{className:me.buttonsContainer},r.createElement(y.zx,{clicked:Ee,className:me.saveButton,title:"Close"})):ge?r.createElement("div",{className:me.buttonsContainer},r.createElement(y.zx,{clicked:Ee,className:me.saveButton,title:"Close"}),Te&&ce.id===(null===(le=_e.creator)||void 0===le?void 0:le.id)&&!(null!==_e&&void 0!==_e&&null!==(oe=_e.assignee)&&void 0!==oe&&oe.id)&&r.createElement(y.zx,{light:!0,clicked:function(){return An(!0)},className:me.saveButton,title:"Delete"}),Te&&r.createElement(y.zx,{light:!0,clicked:function(){return function(){var n,l;En(!0);var o=Oe?Oe.assignee_id:be;(0,Pe.xJ)({assignee_id:o,name:We,description:Ke,due_date:de()(en).format("YYYY-MM-DD HH:mm"),status:null!==je&&void 0!==je?je:"",add_info:(0,a.Z)((0,a.Z)({},null===e||void 0===e||null===(n=e.task)||void 0===n?void 0:n.add_info),{},{priority:null!==Fn&&void 0!==Fn?Fn:"",start:tn,end:rn,value:pn})},null===e||void 0===e||null===(l=e.task)||void 0===l?void 0:l.id).subscribe({next:function(e){Ie(e),En(!1),xe(!1)},error:function(e){e&&(hn(e.data),En(!1))},complete:function(){}})}()},className:me.saveButton,title:"Update",loading:xn}),!Te&&r.createElement(y.zx,{title:"Save",light:!0,clicked:function(){var n;Ie((0,a.Z)((0,a.Z)({},null===e||void 0===e?void 0:e.task),{},{assignee_id:Oe?Oe.assignee_id:be,name:We,description:Ke,due_date:de()(en).format("YYYY-MM-DD HH:mm"),status:null!==je&&void 0!==je?je:"",add_info:(0,a.Z)((0,a.Z)({},null===e||void 0===e||null===(n=e.task)||void 0===n?void 0:n.add_info),{},{priority:null!==Fn&&void 0!==Fn?Fn:"",start:tn,end:rn,value:pn})})),xe(!1)},className:me.saveButton})):r.createElement("div",{className:me.buttonsContainer},r.createElement(y.zx,{clicked:Ee,className:me.saveButton,title:"Close"}),r.createElement(y.zx,{light:!0,clicked:function(){return En(!0),void(0,Pe.vr)({newAssignee:Oe,taskProcess:null===ue||void 0===ue?void 0:ue.processModule,taskName:We,taskDescription:null!==Ke&&void 0!==Ke?Ke:"-",dueDate:de()(rn).format("YYYY-MM-DD HH:mm"),add_info:{module_id:null===ue||void 0===ue?void 0:ue.processModule.module_id,priority:Fn,start:tn,end:rn,value:pn}}).subscribe({next:function(e){Ee()},error:function(e){e&&(hn(e.data),En(!1))},complete:function(){En(!1),!zn&&xe(!1)}})},className:me.saveButton,title:"Save",loading:xn})),Dn&&r.createElement(on,{taskId:_e.id,isOpen:Dn,removeTask:function(e){Mn(!0),(0,Pe._5)(e).subscribe({next:function(e){Mn(!1),An(!1)},error:function(e){Mn(!1)},complete:function(){xe(!1)}})},loading:Zn,onClose:An}))}var on=function(e){var n=e.isOpen,l=e.onClose,o=e.loading,i=e.removeTask,t=e.taskId;return r.createElement(y.U7,{isOpen:n,onClose:function(){return l(!1)},backdropColor:!0,blured:!0,scrollable:!0,shadowedContainerStyle:{width:"35%"}},r.createElement("div",null,r.createElement("p",{style:{textAlign:"center",fontSize:"20px",color:"#4A4A4A",fontFamily:"var(--app-text-font-mobile)"}},"Are you sure do you want to delete this task?"),r.createElement(y.zx,{loading:o,clicked:function(){return i(t)},title:"Yes, Delete",style:{fontWeight:"500",marginLeft:"auto",marginRight:"auto"}}),r.createElement("p",{style:{cursor:"pointer",textAlign:"center",fontSize:"16px",fontWeight:600,color:"#4A4A4A",fontFamily:"var(--app-text-font-mobile)"},onClick:function(){return l(!1)},className:"go-back-text"},"No, Go Back")))},tn=(0,v.$j)((function(e){var n=e.flowReducer,l=n.begunModule,o=n.allModules,i=n.companyData,t=n.components,d=n.rememberPath,a=n.lastUpdates,u=n.companyUsersArray,r=n.products,v=n.transactions,s=n.companyProcesses,c=n.companyPositionsArray,p=n.cart,m=n.blueprints,f=n.payable,_=n.allTasks,y=e.authReducer.authenticatedUser;return{user:e.sessionReducer.user,begunModule:l,allModules:o,companyData:i,components:t,rememberPath:d,lastUpdates:a,companyUsersArray:u,products:r,transactions:v,companyProcesses:s,companyPositionsArray:c,cart:p,blueprints:m,payable:f,authenticatedUser:y,allTasks:_}}),(function(e){return{onSetAuthenticatedUser:function(n){return e((0,b.IF)(n))}}}))((function(e){var n,l,o,i,b,w,M,k,T,P,D,A,R,X,$,ee,ne,le,oe,ie,se,ce,pe,fe,_e,ye,he,ge,be,xe,Ce,we,Ze,Me,Se,ke,Ie,Te,De,Ae,Oe,Le,Ue,Fe,qe,Ye,He,je,Ve,Ge,Je,Qe,Xe,$e,en,nn,ln,on,tn,dn,an,un,rn,vn,sn,cn,pn,mn,fn,_n,yn,hn,gn,bn,xn,En,Cn,wn,Zn,Mn,Sn,kn=e.navigateTo,In=void 0===kn?{}:kn,Nn=e.begunModule,Tn=e.user,Pn=e.cart,Dn=e.selectedProcess,An=void 0===Dn?{steps:[]}:Dn,On=e.allModules,Ln=e.companyData,zn=e.components,Rn=e.onCancel,Un=void 0===Rn?function(){}:Rn,Fn=e.companyUsersArray,qn=e.products,Wn=e.companyPositionsArray,Bn=e.blueprints,Yn=e.paymentID,Hn=void 0===Yn?"":Yn,jn=e.isEditing,Vn=void 0!==jn&&jn,Gn=e.payable,Jn=e.selectedComponent,Kn=e.setSelectedComponent,Qn=e.isProcessorOnly,Xn=void 0!==Qn&&Qn,$n=e.companyProcesses,el=e.lastUpdates,nl=e.allTasks,ll=(0,v.v9)((function(e){return e.authReducer})),ol=ll.authenticatedUser,il=(0,r.useState)(!1),tl=(0,u.Z)(il,2),dl=tl[0],al=tl[1],ul=(0,r.useState)(1),rl=(0,u.Z)(ul,1)[0],vl=(0,r.useState)(!1),sl=(0,u.Z)(vl,2),cl=sl[0],pl=sl[1],ml=(0,r.useState)(!1),fl=(0,u.Z)(ml,2),_l=fl[0],yl=fl[1],hl=(0,r.useState)(""),gl=(0,u.Z)(hl,2),bl=gl[0],xl=gl[1],El=(0,r.useState)(!1),Cl=(0,u.Z)(El,2),wl=Cl[0],Zl=Cl[1],Ml=(0,r.useState)(!1),Sl=(0,u.Z)(Ml,2),kl=Sl[0],Il=Sl[1],Nl=(0,r.useState)(null===(n=null===Jn||void 0===Jn?void 0:Jn.is_complete)||void 0===n||n),Tl=(0,u.Z)(Nl,2),Pl=Tl[0],Dl=Tl[1],Al=(0,r.useState)([]),Ol=(0,u.Z)(Al,2),Ll=Ol[0],zl=Ol[1],Rl=(0,r.useState)([]),Ul=(0,u.Z)(Rl,2),Fl=Ul[0],ql=Ul[1],Wl=(0,r.useState)(!1),Bl=(0,u.Z)(Wl,2),Yl=Bl[0],Hl=Bl[1],jl=(0,r.useState)(!1),Vl=(0,u.Z)(jl,2),Gl=Vl[0],Jl=Vl[1],Kl=(0,r.useState)(!1),Ql=(0,u.Z)(Kl,2),Xl=Ql[0],$l=Ql[1],eo=(0,r.useState)(!1),no=(0,u.Z)(eo,2),lo=no[0],oo=no[1],io=(0,r.useState)(!1),to=(0,u.Z)(io,2),ao=to[0],uo=to[1],ro=(0,r.useState)(!1),vo=(0,u.Z)(ro,2),so=vo[0],co=vo[1],po=(0,r.useState)(!1),mo=(0,u.Z)(po,2),fo=mo[0],_o=mo[1],yo=(0,r.useState)([]),ho=(0,u.Z)(yo,2),go=ho[0],bo=ho[1],xo=(0,r.useState)([]),Eo=(0,u.Z)(xo,2),Co=Eo[0],wo=Eo[1],Zo=(0,r.useState)([]),Mo=(0,u.Z)(Zo,2),So=Mo[0],ko=Mo[1],Io=(0,r.useState)(!1),No=(0,u.Z)(Io,2),To=No[0],Po=No[1],Do=(0,r.useState)(!1),Ao=(0,u.Z)(Do,2),Oo=Ao[0],Lo=Ao[1],zo=(0,r.useState)(!1),Ro=(0,u.Z)(zo,2),Uo=Ro[0],Fo=Ro[1],qo=(0,r.useState)(!1),Wo=(0,u.Z)(qo,2),Bo=Wo[0],Yo=Wo[1],Ho=(0,r.useState)(5),jo=(0,u.Z)(Ho,2),Vo=jo[0],Go=jo[1],Jo=(0,r.useState)(0),Ko=(0,u.Z)(Jo,2),Qo=Ko[0],Xo=Ko[1],$o=(0,r.useState)(!1),ei=(0,u.Z)($o,2),ni=ei[0],li=ei[1],oi=(0,r.useState)(!1),ii=(0,u.Z)(oi,2)[1],ti=(0,r.useState)(!1),di=(0,u.Z)(ti,2),ai=di[0],ui=di[1],ri=(0,r.useState)(!1),vi=(0,u.Z)(ri,2),si=vi[0],ci=vi[1],pi=(0,x.s0)(),mi=(null===An||void 0===An||null===(l=An.steps)||void 0===l?void 0:l.length)>0?null===An||void 0===An?void 0:An.steps[Nn.processModule.stepIndex]:{},fi=(null===An||void 0===An||null===(o=An.steps)||void 0===o?void 0:o.length)>0?null===An||void 0===An||null===(i=An.steps[Nn.processModule.stepIndex])||void 0===i?void 0:i.pathway_steps:[],_i=(null===An||void 0===An||null===(b=An.steps)||void 0===b?void 0:b.length)>0?null===(w=An.steps[Nn.processModule.stepIndex])||void 0===w?void 0:w.pathway_processes:[],yi=(0,r.useRef)(),hi=(0,r.useRef)(),gi=(0,m.pQ)(),bi=(0,u.Z)(gi,2),xi=bi[0],Ei=bi[1];(0,r.useEffect)((function(){var e,n;if(void 0===(null===Nn||void 0===Nn||null===(e=Nn.processModule)||void 0===e?void 0:e.isUpdating)){var l=An;if(l&&l.steps.length>0){var o,i=(0,a.Z)((0,a.Z)((0,a.Z)({},Nn.processModule),l),{},{steps:l.steps.filter((function(e){var n,o,i,t,d,a;return void 0==(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.showStepAll)||1==(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.showStepAll)||0==(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.showStepAll)&&(null===e||void 0===e||null===(t=e.options)||void 0===t||null===(d=t.showOnly)||void 0===d?void 0:d.filter((function(e){return ol.positions.map((function(e){return e.id})).indexOf(e)>-1})).length)>0||(null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.showStepAuthor)&&(null===ol||void 0===ol?void 0:ol.id)===(null===l||void 0===l?void 0:l.user_id)})).map((function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{rank:n+1})}))});f.h.dispatch((0,_.q4)(i)),Ei({action:m._U.setCurrentStep,value:i.steps[null!==(o=Nn.processModule.stepIndex)&&void 0!==o?o:0]})}}else if(!0===(null===Nn||void 0===Nn||null===(n=Nn.processModule)||void 0===n?void 0:n.isUpdating)){var t;Ei({action:m._U.setCurrentStep,value:Nn.processModule.steps[null!==(t=Nn.processModule.stepIndex)&&void 0!==t?t:0]})}}),[]),(0,r.useEffect)((function(){var e=Fn.filter((function(e){return 0==e.departments.length})).map((function(e){return{label:"".concat(e.first_name," ").concat(e.last_name),value:e.id,department:"General",user:e}}));Fn.filter((function(e){return e.departments.length>0})).filter((function(n){n.departments.filter((function(l){e=[].concat((0,d.Z)(e),[{label:"".concat(n.first_name," ").concat(n.last_name),value:n.id,department:null===l||void 0===l?void 0:l.name,user:n}])}))})),wo(e)}),[Fn]),(0,r.useEffect)((function(){Gn.length>0&&""!==Hn&&Gn.map((function(e,n){var l;al(!0),(0,ue.e_)({user_id:ol.id,id:null===e||void 0===e?void 0:e.id,total:-Math.abs(+(null!==(l=null===e||void 0===e?void 0:e.amount)&&void 0!==l?l:0)),product:null===e||void 0===e?void 0:e.product,notes:"Payment",quantity:1}).pipe((0,s.P)()).subscribe({next:function(){if(al(!1),n+1==Gn.length){var e,l,o,i;if(Gn.filter((function(e){return e.paymentID===Hn})).length>0)co((null===Nn||void 0===Nn||null===(e=Nn.processModule)||void 0===e||null===(l=e.module)||void 0===l||null===(o=l.options)||void 0===o||null===(i=o.message)||void 0===i?void 0:i.length)>0);f.h.dispatch((0,_.Wy)([])),Si()}}})}))}),[Gn,Hn]),(0,r.useEffect)((function(){var e,n;if((null===Nn||void 0===Nn||null===(e=Nn.processModule)||void 0===e||null===(n=e.steps)||void 0===n?void 0:n.length)>0){var l,o,i={id:""},t=[],d=[];if(W.Z((function(e){e.component_fields.map((function(n){var l,o;e.procedure_id!==(null===Re||void 0===Re?void 0:Re.id)&&(null!==(l=i=$n.find((function(n){return n.id===e.procedure_id})))&&void 0!==l&&l.steps&&(t=U.Z(F.Z("component_blueprints"),q.Z)(null===(o=i)||void 0===o?void 0:o.steps),d=U.Z(F.Z("selected_fields"),q.Z)(t)));var a,u=d.find((function(e){return e.procedure_step_blueprint_field_id===n.procedure_step_blueprint_field_id}));u&&(n.data_type_name=u.data_type_name,n.data_type=u.data_type,n.field_name=u.field_name,n.options=u.options,n.component_blueprint_id=null===(a=t.find((function(e){return e.selected_fields.filter((function(e){return e.procedure_step_blueprint_field_id===n.procedure_step_blueprint_field_id})).length>0})))||void 0===a?void 0:a.id)}))}),zn.filter((function(e){return e.component_fields.filter((function(e){return void 0===(null===e||void 0===e?void 0:e.field_name)})).length>0}))),void 0!==(null===In||void 0===In?void 0:In.key))bo(Ti(null===Nn||void 0===Nn||null===(l=Nn.processModule)||void 0===l||null===(o=l.module)||void 0===o?void 0:o.id,zn,In.value,In.key));else bo(zn.filter((function(e){var n,l;return e.module_id===(null===Nn||void 0===Nn||null===(n=Nn.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.id)})))}}),[In,Nn,zn]);var Ci=(0,r.useCallback)((function(){var e=!1;return mi.component_blueprints.filter((function(e){var n,l;return null===e.options||(!1===(null===(n=e.options)||void 0===n?void 0:n.allowMultipleInputs)||void 0===(null===(l=e.options)||void 0===l?void 0:l.allowMultipleInputs))})).some((function(e){var n;return!0===(null===(n=e.selected_fields)||void 0===n?void 0:n.filter((function(e){return"Profile"!==e.data_type_name&&"ID"!==e.data_type_name&&"Info"!==e.data_type_name&&"Notes"!==e.data_type_name&&"URL"!==e.data_type_name&&"Emails"!==e.data_type_name&&"Template"!==e.data_type_name&&"Global"!==e.data_type_name&&"Chart"!==e.data_type_name&&"Value"!==e.data_type_name})).some((function(e){var n;return!0===e.mandatory&&!0===e.visible&&(!e.value||(null===e||void 0===e||null===(n=e.value)||void 0===n?void 0:n.length)<1)})))}))&&(e=!0),!0===e?(yl(!0),!0):(xl(""),yl(!1),!1)}),[mi]),wi=function(e){var n;Zl(!0),Ci()&&!1===(null===Nn||void 0===Nn||null===(n=Nn.processModule)||void 0===n?void 0:n.isUpdating)?Ni():Mi(e)},Zi=function(e){xi.components=[],xi.items=[],xi.currentStep={},xi.newStepComponents=[],Nn.processModule.steps.filter((function(e){return e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return e.value=void 0}))}))})),f.h.dispatch((0,_.q4)((0,a.Z)((0,a.Z)({},Nn.processModule),{},{isUpdating:!1}))),Il(!1),Zl(!0),Mi(e),Ln.start=!1,(0,Z.aK)().pipe((0,s.P)()).subscribe({next:function(){}})},Mi=function(e){Zl(!1),yl(!1),pl(!1);var n={};if(void 0===e){if(void 0===(n=Nn.processModule.steps[Nn.processModule.stepIndex+1]))return void f.h.dispatch((0,_.Xc)({show:!0,message:"Misconfigured next step, please contact your administrator",color:"red",bottom:!0}));Ei({action:m._U.setCurrentStep,value:n}),f.h.dispatch((0,_.q4)((0,a.Z)((0,a.Z)({},Nn.processModule),{},{stepIndex:Nn.processModule.stepIndex+1})))}else{if(void 0==(n=An.steps.find((function(n){return n.id===e}))))n=An.steps[Nn.processModule.stepIndex+1],f.h.dispatch((0,_.q4)((0,a.Z)((0,a.Z)({},Nn.processModule),{},{stepIndex:Nn.processModule.stepIndex+1})));else{var l,o,i=An.steps[(null===(l=n)||void 0===l?void 0:l.rank)-1];if(void 0===i)return void f.h.dispatch((0,_.Xc)({show:!0,message:"Misconfigured next step, please contact your administrator",color:"red",bottom:!0}));f.h.dispatch((0,_.q4)((0,a.Z)((0,a.Z)({},Nn.processModule),{},{stepIndex:(null===(o=n)||void 0===o?void 0:o.rank)-1})))}Ei({action:m._U.setCurrentStep,value:n})}var t=xi.newStepComponents.filter((function(e){return null===e.options||(void 0===e.allowMultipleInputs||!1===e.options.allowMultipleInputs)}));Ei({action:m._U.setComponents,value:[].concat((0,d.Z)(xi.components.filter((function(e){return t.every((function(n){return n.id!==e.id}))}))),(0,d.Z)(B.Z((function(e){return e.selected_fields.filter((function(e){return""===e.value})).length>0}),t)))}),Ei({action:m._U.setModuleNewStepComponents,value:n.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Status"===e.data_type_name||"ID"===e.data_type_name||"Value"===e.data_type_name})).length>0}))})},Si=function(){var e,n,l,o;Ei({action:m._U.setModuleItems,value:[]}),Ei({action:m._U.setComponents,value:[]}),Ei({action:m._U.addModuleComponents,value:[]}),Ei({action:m._U.setModuleNewStepComponents,value:[]}),f.h.dispatch((0,_.q4)((0,a.Z)((0,a.Z)({},null!==(e=null===Nn||void 0===Nn?void 0:Nn.processModule)&&void 0!==e?e:{}),{},{isUpdating:!1})));var i=(null===An||void 0===An||null===(n=An.steps)||void 0===n?void 0:n.length)>0&&!((null===An||void 0===An||null===(l=An.steps[0])||void 0===l||null===(o=l.component_blueprints)||void 0===o?void 0:o.filter((function(e){var n;return 1==(null===(n=e.options)||void 0===n?void 0:n.asModuleList)})).length)>0);Zi(Xn||i?Nn.processModule.steps[0].id:Nn.processModule.steps[1].id)},ki=function(){var e,n,l,o,i,t,u,r,v,c,p,m,y,h;if(Ci())return xl("Fill up all the required fields"),window.scrollTo({top:0,behavior:"smooth"}),void pl(!1);var b,x=xi.newStepComponents.filter((function(e){var n,l;return null===e.options||(!1===(null===(n=e.options)||void 0===n?void 0:n.allowMultipleInputs)||void 0===(null===(l=e.options)||void 0===l?void 0:l.allowMultipleInputs))})),E=[].concat((0,d.Z)(xi.components.filter((function(e){return x.every((function(n){return n.id!==e.id}))}))),(0,d.Z)(B.Z((function(e){return e.selected_fields.filter((function(e){return""===e.value})).length>0}),x))),C=[],w=[],Z="",M="",S=!1,k="None",I={x:0},N=[],T=null===Jn||void 0===Jn?void 0:Jn.status,P={},D=null!==Nn&&void 0!==Nn&&null!==(e=Nn.processModule)&&void 0!==e&&e.isUpdating?(null!==(n=Y.Z(Math.max,F.Z("group",H.Z(j.Z("group"))(null!==(l=null===Jn||void 0===Jn?void 0:Jn.component_fields)&&void 0!==l?l:[]))))&&void 0!==n?n:-1)+1:0;E.map((function(e,n){var l,o,i,t,u,r,v=n,s=null===(l=e.selected_fields.filter((function(e){return"Record"===e.data_type_name||"Filters"===e.data_type_name})))||void 0===l?void 0:l.find((function(e){return+(null===e||void 0===e?void 0:e.group)>=0}));s&&null!==Nn&&void 0!==Nn&&null!==(o=Nn.processModule)&&void 0!==o&&o.isUpdating?v=s.group:null!==Nn&&void 0!==Nn&&null!==(i=Nn.processModule)&&void 0!==i&&i.isUpdating&&(v=D,D++),e.selected_fields.filter((function(e){return("Record"===e.data_type_name||"Filters"===e.data_type_name)&&!0===e.visible})).map((function(e,n){var l;if(null!==e.value&&void 0!==e.value&&1!=(null===(l=e.options)||void 0===l?void 0:l.skip)){var o,i;w=[].concat((0,d.Z)(w),[(0,a.Z)((0,a.Z)({},e),{},{index:n,group:v})]),Z=e.value,P[e.field_name]=e.value;var t=null===(o=zn.find((function(n){return n.component_fields.filter((function(n){var l;return n.component_blueprint_id===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.component_id)&&(null===n||void 0===n?void 0:n.value)===Z})).length>0})))||void 0===o||null===(i=o.component_fields.find((function(e){return"Email Recipient"===e.data_type_name})))||void 0===i?void 0:i.value;t&&(b=t)}}));var c=null===(t=e.selected_fields.filter((function(e){return!("Record"===e.data_type_name||"Filters"===e.data_type_name)})))||void 0===t?void 0:t.find((function(e){return+(null===e||void 0===e?void 0:e.group)>=0}));c&&null!==Nn&&void 0!==Nn&&null!==(u=Nn.processModule)&&void 0!==u&&u.isUpdating?v=c.group:null!==Nn&&void 0!==Nn&&null!==(r=Nn.processModule)&&void 0!==r&&r.isUpdating&&(v=D,D++),e.selected_fields.filter((function(e){return!("Record"===e.data_type_name||"Filters"===e.data_type_name)})).map((function(e,n){var l,o,i,t;if(null!==e.value&&void 0!==e.value&&1!=(null===(l=e.options)||void 0===l?void 0:l.skip)){if(P[e.field_name]=e.value,"ID"===(null===e||void 0===e?void 0:e.data_type_name))null!==Nn&&void 0!==Nn&&null!==(i=Nn.processModule)&&void 0!==i&&i.isUpdating?w=[].concat((0,d.Z)(w),[(0,a.Z)((0,a.Z)({},e),{},{index:n,group:v})]):(w=[].concat((0,d.Z)(w),[(0,a.Z)((0,a.Z)({},e),{},{index:n,group:v,value:"".concat(null===e||void 0===e?void 0:e.options.id).concat(null===(null===Ln||void 0===Ln?void 0:Ln.misc_info)?1:null!==(t=null===Ln||void 0===Ln?void 0:Ln.misc_info[null===e||void 0===e?void 0:e.field_name])&&void 0!==t?t:1)})]),C=[].concat((0,d.Z)(C),["".concat(e.field_name)]));else if("Value"===(null===e||void 0===e?void 0:e.data_type_name)){var u;w=[].concat((0,d.Z)(w),[(0,a.Z)((0,a.Z)({},e),{},{index:n,value:null===e||void 0===e||null===(u=e.options)||void 0===u?void 0:u.value,group:v})])}else if("Email Recipient"===(null===e||void 0===e?void 0:e.data_type_name))w=[].concat((0,d.Z)(w),[(0,a.Z)((0,a.Z)({},e),{},{index:n,value:e.value.replace(/ /g,""),group:v})]);else if("Product Lookup"===e.data_type_name)w=(0,d.Z)(w);else if("Status"===e.data_type_name&&"Draft"===e.value&&1==Pl)S=!0,w=[].concat((0,d.Z)(w),[(0,a.Z)((0,a.Z)({},e),{},{index:n,value:"New",group:v})]),k="New";else if("Status"===e.data_type_name)w=[].concat((0,d.Z)(w),[(0,a.Z)((0,a.Z)({},e),{},{index:n,value:null===e||void 0===e?void 0:e.value,group:v})]),k=null===e||void 0===e?void 0:e.value;else if("Positions"===e.data_type_name&&!0===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.share))w=[].concat((0,d.Z)(w),[(0,a.Z)((0,a.Z)({},e),{},{index:n,value:null===e||void 0===e?void 0:e.value,group:v})]),N=[null===e||void 0===e?void 0:e.value];else if("Pin"===e.data_type_name)w=[].concat((0,d.Z)(w),[(0,a.Z)((0,a.Z)({},e),{},{index:n,value:null===e||void 0===e?void 0:e.value,group:v})]);else if("Formula"===e.data_type_name){var r,s=null!==Nn&&void 0!==Nn&&null!==(r=Nn.processModule)&&void 0!==r&&r.isUpdating?(0,O.LV)(null===e||void 0===e?void 0:e.options,Jn.component_fields.filter((function(n){var l;return null===(l=e.options)||void 0===l?void 0:l.list.includes(n.field_name)})),E,xi.items):e.value;w=[].concat((0,d.Z)(w),[(0,a.Z)((0,a.Z)({},e),{},{index:n,value:s.toString(),group:v})])}else if("output"!==e.data_type){var c,p,m,f,_;if("People"===e.data_type_name)if(!0===(null===(_=e.options)||void 0===_?void 0:_.email)){var y,h,g=null===(y=Co.find((function(n){return n.label===(null===e||void 0===e?void 0:e.value)})))||void 0===y||null===(h=y.user)||void 0===h?void 0:h.email;M=g?M.concat(M.length>0?",".concat(g):g):M,e.email=void 0}"email"===(null===e||void 0===e||null===(c=e.options)||void 0===c?void 0:c.actionToPerform2)&&null!==e&&void 0!==e&&null!==(p=e.options)&&void 0!==p&&null!==(m=p.valueToMatch2)&&void 0!==m&&null!==(f=m.split(","))&&void 0!==f&&f.includes(null===e||void 0===e?void 0:e.value)&&b&&(S=!0,M=M.concat(M.length>0?",".concat(b):b)),w=[].concat((0,d.Z)(w),[(0,a.Z)((0,a.Z)({},e),{},{index:n,group:v})])}}else if("Status"===(null===e||void 0===e?void 0:e.data_type_name))1==Pl?(w=[].concat((0,d.Z)(w),[(0,a.Z)((0,a.Z)({},e),{},{index:n,value:"New",group:v})]),k="New"):(w=[].concat((0,d.Z)(w),[(0,a.Z)((0,a.Z)({},e),{},{index:n,value:"Draft",group:v})]),k="Draft"),P[e.field_name]=e.value;else if("Action Button"===(null===e||void 0===e?void 0:e.data_type_name)){var x,Z,I;w=(0,d.Z)(w),P[e.field_name]=e.value,"status"===(null===e||void 0===e||null===(x=e.options)||void 0===x?void 0:x.action)?k=e.value:"user"!==(null===(Z=e.options)||void 0===Z?void 0:Z.action)&&"creator"!==(null===(I=e.options)||void 0===I?void 0:I.action)||(Jn.assigned_to=null===e||void 0===e?void 0:e.value)}}))}));var A,L,z,R,U,q,W,V,G,J,K,Q,X,$,ee,ne,le,oe,ie,te,ae,re,ve,se,ce,pe="";if((null===(o=Nn.processModule)||void 0===o||null===(i=o.module)||void 0===i||null===(t=i.options)||void 0===t||null===(u=t.title)||void 0===u?void 0:u.length)>0){var me,fe,_e,ye,he,ge,be,xe,Ce,we,Ze,Me,Se,ke;if(null===(me=Nn.processModule)||void 0===me||null===(fe=me.module)||void 0===fe||null===(_e=fe.options)||void 0===_e||null===(ye=_e.title)||void 0===ye||ye.map((function(e){if("Info"!==e){var n,l,o,i,t=w.find((function(n){return n.field_name===e}));if("Date"===(null===t||void 0===t?void 0:t.data_type_name)||"Calendar"===(null===t||void 0===t?void 0:t.data_type_name))pe=""===pe?"".concat(de()(null===t||void 0===t?void 0:t.value).format("DD MMMM YYYY")):"".concat(null!==(n=pe)&&void 0!==n?n:"","  ").concat(de()(null===t||void 0===t?void 0:t.value).format("DD MMMM YYYY HH:mm"));else pe=""===pe?"".concat(null!==(l=null===t||void 0===t?void 0:t.value)&&void 0!==l?l:""):"".concat(null!==(o=pe)&&void 0!==o?o:"","  ").concat(null!==(i=null===t||void 0===t?void 0:t.value)&&void 0!==i?i:"")}else{var d,a=null===(d=Nn.processModule)||void 0===d?void 0:d.completeSteps.find((function(e){var n;return(null===(n=e.component_blueprints.filter((function(e){var n;return(null===(n=e.selected_fields.filter((function(e){return"Info"===e.data_type_name})))||void 0===n?void 0:n.length)>0})))||void 0===n?void 0:n.length)>0}));if(void 0!==a){var u,r,v,s,c,p,m,f,_,y=null===(u=a.component_blueprints)||void 0===u||null===(r=u.find((function(e){var n;return(null===(n=e.selected_fields.filter((function(e){return"Info"===e.data_type_name})))||void 0===n?void 0:n.length)>0})).selected_fields)||void 0===r?void 0:r.find((function(e){return"Info"===e.data_type_name})),h=zn.find((function(e){var n;return(null===(n=e.component_fields.filter((function(e){return e.component_blueprint_id===y.options.component_id&&e.value===P[y.field_name]})))||void 0===n?void 0:n.length)>0}));if(h)if((null===y||void 0===y||null===(v=y.options)||void 0===v||null===(s=v.list)||void 0===s?void 0:s.length)>0)pe=""===pe?"".concat(null!==(c=null===(p=h.component_fields.find((function(e){var n;return e.field_name===(null===y||void 0===y||null===(n=y.options)||void 0===n?void 0:n.list[0])})))||void 0===p?void 0:p.value)&&void 0!==c?c:""):"".concat(null!==(m=pe)&&void 0!==m?m:"","  ").concat(null!==(f=null===(_=h.component_fields.find((function(e){var n;return e.field_name===(null===y||void 0===y||null===(n=y.options)||void 0===n?void 0:n.list[0])})))||void 0===_?void 0:_.value)&&void 0!==f?f:"")}}})),null!==(he=Nn.processModule)&&void 0!==he&&null!==(ge=he.module)&&void 0!==ge&&null!==(be=ge.options)&&void 0!==be&&be.title.find((function(e){return"UUID"===e})))pe="".concat(null!==Nn&&void 0!==Nn&&null!==(Ze=Nn.processModule)&&void 0!==Ze&&Ze.isUpdating?Jn.id:(0,O.mR)());if(null!==(xe=Nn.processModule)&&void 0!==xe&&null!==(Ce=xe.module)&&void 0!==Ce&&null!==(we=Ce.options)&&void 0!==we&&we.title.find((function(e){return"Module Name"===e})))pe=" ".concat(null===(Me=Nn.processModule)||void 0===Me||null===(Se=Me.module)||void 0===Se?void 0:Se.name," - ").concat(null!==(ke=pe)&&void 0!==ke?ke:"")}else{var Ie;pe=null!==Nn&&void 0!==Nn&&null!==(Ie=Nn.processModule)&&void 0!==Ie&&Ie.isUpdating?Jn.id:(0,O.mR)()}if(!0===(null===(r=Nn.processModule)||void 0===r||null===(v=r.module)||void 0===v||null===(c=v.options)||void 0===c?void 0:c.emailOutputs)){var Ne,Te,De,Ae,Oe,Le=Nn.processModule.steps.find((function(e){var n;return(null===(n=e.component_blueprints.filter((function(e){var n;return(null===(n=e.selected_fields.filter((function(e){return"Info"===e.data_type_name&&1==e.options.email})))||void 0===n?void 0:n.length)>0})))||void 0===n?void 0:n.length)>0}));if(void 0!==Le){var ze,Re,Ue=null===(ze=Le.component_blueprints)||void 0===ze||null===(Re=ze.find((function(e){var n;return(null===(n=e.selected_fields.filter((function(e){var n;return"Info"===e.data_type_name&&1==(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.email)})))||void 0===n?void 0:n.length)>0})).selected_fields)||void 0===Re?void 0:Re.find((function(e){var n;return"Info"===e.data_type_name&&!0===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.email)})),Fe=zn.find((function(e){var n;return(null===(n=e.component_fields.filter((function(e){return e.component_blueprint_id===Ue.options.component_id&&e.value===Z})))||void 0===n?void 0:n.length)>0}));Fe&&(L=Ue.id,A=Fe.id)}if(void 0!==(Le=Nn.processModule.steps.find((function(e){var n;return!0===e.is_end&&(null===(n=e.component_blueprints.filter((function(e){var n;return(null===(n=e.selected_fields.filter((function(e){return"Emails"===e.data_type_name})))||void 0===n?void 0:n.length)>0})))||void 0===n?void 0:n.length)>0}))))(null===(De=Le.component_blueprints)||void 0===De?void 0:De.find((function(e){var n;return(null===(n=e.selected_fields.filter((function(e){return"Emails"===e.data_type_name})))||void 0===n?void 0:n.length)>0}))).selected_fields.filter((function(e){return"Emails"===e.data_type_name})).filter((function(e){var n;w.find((function(n){return n.value===e.options.valueToMatch&&n.field_name===e.options.fieldToMatch}))&&(b&&(z=e,S=!0,!0===(null===(n=e.options)||void 0===n?void 0:n.copyEmailRecip)&&(M=M.concat(M.length>0?",".concat(b):b))))}));if(M=""===M?[]:null!==(Ne=M.split(","))&&void 0!==Ne?Ne:[],So.length>0||M.length>0)M=null!==Nn&&void 0!==Nn&&null!==(Ae=Nn.processModule)&&void 0!==Ae&&Ae.isUpdating?!0===S?[].concat((0,d.Z)(So),(0,d.Z)(M)):(0,d.Z)(So):[].concat((0,d.Z)(So),(0,d.Z)(M));if(M.length>0&&(I={emailTo:M}),L&&A&&(I=(0,a.Z)((0,a.Z)({},I),{},{info:L,target:A})),(null===(Te=z)||void 0===Te?void 0:Te.id.length)>0)I=(0,a.Z)((0,a.Z)({},I),{},{template:null===(Oe=z)||void 0===Oe?void 0:Oe.id})}if(!0===(null===(p=Nn.processModule)||void 0===p||null===(m=p.module)||void 0===m||null===(y=m.options)||void 0===y?void 0:y.rewards)&&T!==k){var qe,We,Be,Ye,He,je,Ve=Nn.processModule.steps.find((function(e){var n;return(null===(n=e.component_blueprints.filter((function(e){var n;return(null===(n=e.selected_fields.filter((function(e){return"Rewards"===e.data_type_name})))||void 0===n?void 0:n.length)>0})))||void 0===n?void 0:n.length)>0}));if(void 0!==Ve)if((R=null===(qe=Ve.component_blueprints)||void 0===qe||null===(We=qe.find((function(e){var n;return(null===(n=e.selected_fields.filter((function(e){return"Rewards"===e.data_type_name})))||void 0===n?void 0:n.length)>0})).selected_fields)||void 0===We?void 0:We.find((function(e){return"Rewards"===e.data_type_name}))).options.status===k)ol.options.rewards=+(null!==(Be=null===ol||void 0===ol||null===(Ye=ol.options)||void 0===Ye?void 0:Ye.rewards)&&void 0!==Be?Be:0)+ +(null===(He=R)||void 0===He||null===(je=He.options)||void 0===je?void 0:je.points)}(null===(h=w)||void 0===h?void 0:h.length)>0?(al(!0),null!==Nn&&void 0!==Nn&&null!==(U=Nn.processModule)&&void 0!==U&&U.isUpdating?(Jn.options=I,Jn.status=k,null!==xi&&void 0!==xi&&xi.assigned_to&&(Jn.assigned_to={id:null===xi||void 0===xi?void 0:xi.assigned_to}),(0,g.KL)((0,a.Z)((0,a.Z)({},Jn),{},{selected_fields:(0,d.Z)(w),component_items:xi.items}),Jn.id,null===Jn||void 0===Jn||null===(q=Jn.shared_users)||void 0===q?void 0:q.map((function(e){return null===e||void 0===e?void 0:e.id})),pe,Pl,(null===(W=Nn.processModule)||void 0===W||null===(V=W.module)||void 0===V||null===(G=V.options)||void 0===G||null===(J=G.shares)||void 0===J?void 0:J.length)>0?[].concat((0,d.Z)(null!==(K=null===(Q=Nn.processModule)||void 0===Q||null===(X=Q.module)||void 0===X||null===($=X.options)||void 0===$?void 0:$.shares)&&void 0!==K?K:[]),(0,d.Z)(N)):[].concat((0,d.Z)(null!==(ee=null===Jn||void 0===Jn||null===(ne=Jn.shared_positions)||void 0===ne?void 0:ne.map((function(e){return null===e||void 0===e?void 0:e.id})))&&void 0!==ee?ee:[]),(0,d.Z)(N))).subscribe({next:function(e){var n,l,o,i,t,d,u,r;if(null!==(n=Nn.processModule)&&void 0!==n&&null!==(l=n.module)&&void 0!==l&&null!==(o=l.options)&&void 0!==o&&o.single)return localStorage.setItem(null===(d=Nn.processModule)||void 0===d?void 0:d.module.id,JSON.stringify(null===e||void 0===e?void 0:e.data)),void Mi(null===(u=Nn.processModule)||void 0===u||null===(r=u.steps[0])||void 0===r?void 0:r.id);var v=w.find((function(e){var n;return"People"===e.data_type_name&&!0===(null===(n=e.options)||void 0===n?void 0:n.calendar)}));if(v){var c,p,m=JSON.parse(null!==(c=null===v||void 0===v?void 0:v.value)&&void 0!==c?c:{task:0}),f=nl.find((function(e){return e.id===(null===m||void 0===m?void 0:m.task)}));if(f)(0,Pe.xJ)((0,a.Z)((0,a.Z)({},f),{},{assignee_id:null===e||void 0===e||null===(p=e.data.created_by)||void 0===p?void 0:p.id}),null===f||void 0===f?void 0:f.id).pipe((0,s.P)()).subscribe({})}var _,y=w.find((function(e){return"Payments"===e.data_type_name})),h=w.find((function(e){var n;return e.field_name===(null===y||void 0===y||null===(n=y.options)||void 0===n?void 0:n.paymentField)}));if(!y||null!==e&&void 0!==e&&null!==(i=e.data.payments)&&void 0!==i&&i.stripe_id||"Cash"===(null===y||void 0===y?void 0:y.value)||"Wallet"===(null===y||void 0===y?void 0:y.value)||"Points"===(null===y||void 0===y?void 0:y.value)||ol.id!==(null===Jn||void 0===Jn||null===(t=Jn.created_by)||void 0===t?void 0:t.id))if(y){var g,b;if(h&&"Cash"!==(null===y||void 0===y?void 0:y.value)&&k===(null===(g=Ln.misc_info)||void 0===g?void 0:g.lock)&&ol.id===(null===Jn||void 0===Jn||null===(b=Jn.assigned_to)||void 0===b?void 0:b.id)&&T!==k){var x,E,C=+(null===h||void 0===h?void 0:h.value)-+(null===h||void 0===h?void 0:h.value)*+(null!==(x=null===Ln||void 0===Ln||null===(E=Ln.misc_info)||void 0===E?void 0:E.rate)&&void 0!==x?x:.2);(0,ue.e_)({user_id:ol.id,id:(0,O.mR)(),total:C,product:"CR-".concat(pe),notes:"Wallet",quantity:1}).pipe((0,s.P)()).subscribe({next:function(){var e;ol.wallet=+(+(null!==(e=null===Tn||void 0===Tn?void 0:Tn.wallet)&&void 0!==e?e:0)+C),al(!1),Si(),Oi(),window.scrollTo({top:0,behavior:"smooth"})}})}else R?(0,Ee.Vy)(ol,null===ol||void 0===ol?void 0:ol.options).pipe((0,s.P)()).subscribe({next:function(){Si(),Oi(),window.scrollTo({top:0,behavior:"smooth"})}}):(Si(),Oi(),window.scrollTo({top:0,behavior:"smooth"})),al(!1)}else al(!1),Si(),Oi(),window.scrollTo({top:0,behavior:"smooth"});else xi.total=+(null===h||void 0===h?void 0:h.value),xi.plan=+(null===h||void 0===h?void 0:h.value),xi.id=null===e||void 0===e||null===(_=e.data)||void 0===_?void 0:_.title,al(!1),Lo(!0)}})):(0,g.LM)({id:E[0].id,selected_fields:(0,d.Z)(w),component_items:xi.items,options:I,status:k,assigned_to:null!==(le=null===xi||void 0===xi?void 0:xi.assigned_to)&&void 0!==le?le:""},"",Nn.processModule.module_id,Ll,pe,Pl,(null===(oe=Nn.processModule)||void 0===oe||null===(ie=oe.module)||void 0===ie||null===(te=ie.options)||void 0===te||null===(ae=te.shares)||void 0===ae?void 0:ae.length)>0?[].concat((0,d.Z)(null!==(re=null===(ve=Nn.processModule)||void 0===ve||null===(se=ve.module)||void 0===se||null===(ce=se.options)||void 0===ce?void 0:ce.shares)&&void 0!==re?re:[]),(0,d.Z)(N)):[].concat((0,d.Z)(Fl),(0,d.Z)(N))).subscribe({next:function(e){var n,l,o,i,t,d,u;if(null!==(n=Nn.processModule)&&void 0!==n&&null!==(l=n.module)&&void 0!==l&&null!==(o=l.options)&&void 0!==o&&o.single)return localStorage.setItem(null===(t=Nn.processModule)||void 0===t?void 0:t.module.id,JSON.stringify(e)),void Mi(null===(d=Nn.processModule)||void 0===d||null===(u=d.steps[0])||void 0===u?void 0:u.id);(null===(i=C)||void 0===i?void 0:i.length)>0&&Ii(C);var r=w.find((function(e){var n;return"People"===e.data_type_name&&!0===(null===(n=e.options)||void 0===n?void 0:n.calendar)}));if(r){var v,c,p,m=JSON.parse(null!==(v=null===r||void 0===r?void 0:r.value)&&void 0!==v?v:{task:0}),y=nl.find((function(e){return e.id===(null===m||void 0===m?void 0:m.task)}));if(y)(0,Pe.xJ)((0,a.Z)((0,a.Z)({},y),{},{assignee_id:null!==(c=null===e||void 0===e||null===(p=e.created_by)||void 0===p?void 0:p.id)&&void 0!==c?c:ol.id}),null===y||void 0===y?void 0:y.id).pipe((0,s.P)()).subscribe({})}if(Nn.processModule.selectedComponent=e,w.filter((function(e){return!("Cash"===(null===e||void 0===e?void 0:e.value)||"Wallet"===(null===e||void 0===e?void 0:e.value)||"Points"===(null===e||void 0===e?void 0:e.value))&&"Payments"===e.data_type_name})).length>0)al(!1),Lo(!0);else if(w.filter((function(e){return("Wallet"===(null===e||void 0===e?void 0:e.value)||"Points"===(null===e||void 0===e?void 0:e.value))&&"Payments"===e.data_type_name})).length>0){var h,b=w.find((function(e){return"Payments"===e.data_type_name}));(0,ue.e_)({user_id:ol.id,id:null!==(h=null===e||void 0===e?void 0:e.id)&&void 0!==h?h:(0,O.mR)(),total:-xi.total,product:"DB-".concat(pe),notes:"Wallet",quantity:1}).pipe((0,s.P)()).subscribe({next:function(){var n,l;(0,Ee.Vy)(ol,(0,a.Z)((0,a.Z)({},null===ol||void 0===ol?void 0:ol.options),{},{points:+(+(null!==(n=null===Tn||void 0===Tn||null===(l=Tn.options)||void 0===l?void 0:l.points)&&void 0!==n?n:0)-("Points"===(null===b||void 0===b?void 0:b.value)?+xi.total:0))})).pipe((0,s.P)()).subscribe({next:function(n){var l,o,i,t,d,a,u,r,v,c;(al(!1),ol.options=n.options,null!==Nn&&void 0!==Nn&&null!==(l=Nn.processModule)&&void 0!==l&&null!==(o=l.steps)&&void 0!==o&&o.find((function(e){return e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Action Button"===e.data_type_name&&("user"===e.options.action||"creator"===e.options.action)})).length>0})).length>0})))?(_o((null===Nn||void 0===Nn||null===(i=Nn.processModule)||void 0===i||null===(t=i.module)||void 0===t||null===(d=t.options)||void 0===d||null===(a=d.message)||void 0===a?void 0:a.length)>0&&1==e.is_complete),Xo(setInterval((function(){(0,g.r6)(e.id).pipe((0,s.P)()).subscribe({next:function(e){var n;null!==e&&void 0!==e&&null!==(n=e.component_fields)&&void 0!==n&&n.find((function(e){return"Action Button"===e.data_type_name&&(null===e||void 0===e?void 0:e.value)}))&&(Kn(e),window.clearInterval(Qo))},error:function(){window.clearInterval(Qo)}})}),15e3))):co((null===Nn||void 0===Nn||null===(u=Nn.processModule)||void 0===u||null===(r=u.module)||void 0===r||null===(v=r.options)||void 0===v||null===(c=v.message)||void 0===c?void 0:c.length)>0&&1==e.is_complete);f.h.dispatch((0,_.RV)({})),Oi(),Si()}})}})}else{var x,E,Z,M,S,k,I,N,T,P;if(al(!1),null!==Nn&&void 0!==Nn&&null!==(x=Nn.processModule)&&void 0!==x&&null!==(E=x.steps)&&void 0!==E&&E.find((function(e){return e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Action Button"===e.data_type_name&&("user"===e.options.action||"creator"===e.options.action)})).length>0})).length>0})))_o((null===Nn||void 0===Nn||null===(Z=Nn.processModule)||void 0===Z||null===(M=Z.module)||void 0===M||null===(S=M.options)||void 0===S||null===(k=S.message)||void 0===k?void 0:k.length)>0&&1==e.is_complete),Xo(setInterval((function(){(0,g.r6)(e.id).pipe((0,s.P)()).subscribe({next:function(e){var n;null!==e&&void 0!==e&&null!==(n=e.component_fields)&&void 0!==n&&n.find((function(e){return"Action Button"===e.data_type_name&&(null===e||void 0===e?void 0:e.value)}))&&(Kn(e),window.clearInterval(Qo))},error:function(){window.clearInterval(Qo)}})}),15e3));else co((null===Nn||void 0===Nn||null===(I=Nn.processModule)||void 0===I||null===(N=I.module)||void 0===N||null===(T=N.options)||void 0===T||null===(P=T.message)||void 0===P?void 0:P.length)>0&&1==e.is_complete);f.h.dispatch((0,_.RV)({})),Oi(),Si()}},error:function(e){var n,l,o,i;null!==e&&void 0!==e&&e.data&&(null!==C&&Ii(C),co((null===Nn||void 0===Nn||null===(n=Nn.processModule)||void 0===n||null===(l=n.module)||void 0===l||null===(o=l.options)||void 0===o||null===(i=o.message)||void 0===i?void 0:i.length)>0&&1==(null===e||void 0===e?void 0:e.data.is_complete)),f.h.dispatch((0,_.RV)({})),Si())}})):(f.h.dispatch((0,_.Xc)({show:!0,message:"There are no items to be saved",color:"red"})),window.scrollTo({top:0,behavior:"smooth"}))},Ii=function(e){if((null===e||void 0===e?void 0:e.length)>0){var n,l=null!==(n=Ln.misc_info)&&void 0!==n?n:{};e.filter((function(e){var n;l[e]=+(null!==(n=l[e])&&void 0!==n?n:1)+1})),al(!0),(0,Z.x5)({misc_info:l}).pipe((0,s.P)()).subscribe({})}},Ni=function(){xl("Fill up all the required fields"),window.scrollTo({top:0,behavior:"smooth"}),pl(!1)},Ti=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],t=n.filter((function(n){return n.module_id===e})).filter((function(e){var n;return i.length>0?i.includes(e.id):""===l?e:e.title.includes(l)||(null===(n=e.component_fields.filter((function(e){var n,i,t,d,a;return"Record"===e.data_type_name?null===(n=zn.find((function(n){var l;return(null===(l=n.component_fields.filter((function(n){return n.field_name===e.options.output&&n.component_blueprint_id===e.options.component_id&&n.value===(null===e||void 0===e?void 0:e.value)})))||void 0===l?void 0:l.length)>0})))||void 0===n?void 0:n.component_fields.find((function(n){var l;return null===(l=e.options)||void 0===l?void 0:l.names.includes(n.field_name)})).value.includes(l):void 0!==o?("date"===e.data_type?null===(i=de()(new Date(null===e||void 0===e?void 0:e.value)))||void 0===i?void 0:i.format("DD MMM YYYY").includes(l):null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.includes(l))&&e.field_name===o:"date"===e.data_type?null===(d=de()(new Date(null===e||void 0===e?void 0:e.value)))||void 0===d?void 0:d.format("DD MMM YYYY").includes(l):null===e||void 0===e||null===(a=e.value)||void 0===a?void 0:a.includes(l)})))||void 0===n?void 0:n.length)>0}));return t},Pi=function(e){var n,l,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:go,i=V.Z([G.Z(J.Z("created_date"))])(o.filter((function(e){return e.created_by.id===(null===ol||void 0===ol?void 0:ol.id)?e:"Expired"!==e.status}))).map((function(n){var l,o,i,d,u,r,v,s,c,p,m={};e.list.map((function(e){var l=n.component_fields.find((function(n){return n.field_name===e}));if(void 0!=l)if("People"===l.data_type_name)m=(0,a.Z)((0,a.Z)({},m),{},(0,t.Z)({},e,l.value));else if("Positions"===l.data_type_name)m=(0,a.Z)((0,a.Z)({},m),{},(0,t.Z)({},e,Wn.find((function(e){return e.value===l.value})).label));else if("Date"===l.data_type_name){var o,i=new Date(null===l||void 0===l||null===(o=l.value)||void 0===o?void 0:o.split(",")[0]);m=(0,a.Z)((0,a.Z)({},m),{},(0,t.Z)({},e,de()(i).format("DD MMM YYYY")))}else if("Record"===l.data_type_name||"Component"===l.data_type_name){var d;m=(0,a.Z)((0,a.Z)({},m),{},(0,t.Z)({},e,h.tq?"".concat(null===l||void 0===l?void 0:l.value.slice(0,40)):"".concat(null===l||void 0===l?void 0:l.value))),null===(d=zn.find((function(e){var n;return(null===(n=e.component_fields.filter((function(e){return e.field_name===l.options.output&&e.component_blueprint_id===l.options.component_id&&e.value===(null===l||void 0===l?void 0:l.value)})))||void 0===n?void 0:n.length)>0})))||void 0===d||d.component_fields.filter((function(e){m=(0,a.Z)((0,a.Z)({},m),{},(0,t.Z)({},e.field_name,h.tq?e.value.slice(0,40):e.value))}))}else if("Filters"===l.data_type_name){var u;m=(0,a.Z)((0,a.Z)({},m),{},(0,t.Z)({},e,h.tq?"".concat(null===l||void 0===l?void 0:l.value.slice(0,30)):"".concat(null===l||void 0===l?void 0:l.value))),null===(u=zn.find((function(e){var n;return(null===(n=e.component_fields.filter((function(e){return e.field_name===l.options.output&&e.component_blueprint_id===l.options.component_id&&e.value===(null===l||void 0===l?void 0:l.value)})))||void 0===n?void 0:n.length)>0})))||void 0===u||u.component_fields.filter((function(e){m=(0,a.Z)((0,a.Z)({},m),{},(0,t.Z)({},e.field_name,h.tq?e.value.slice(0,40):e.value))}))}else if("Status"===l.data_type_name){var r,v,s,c,p,f;if(0==n.is_complete)m=(0,a.Z)((0,a.Z)({},m),{},(0,t.Z)({},e,"Draft"));else if(!((null===(r=Nn.processModule.module)||void 0===r||null===(v=r.options)||void 0===v?void 0:v.activeFor)>0&&de()((0,te.now)()).diff(de()(n.created_date),"minutes")>+(null===(s=Nn.processModule.module)||void 0===s||null===(c=s.options)||void 0===c?void 0:c.activeFor))||"New"!==n.status&&"Unassigned"!==n.status||null!==(p=n.assigned_to)&&void 0!==p&&p.id)m=(0,a.Z)((0,a.Z)({},m),{},(0,t.Z)({},e,"".concat(null!==(f=null===n||void 0===n?void 0:n.status)&&void 0!==f?f:null===l||void 0===l?void 0:l.value)));else m=(0,a.Z)((0,a.Z)({},m),{},(0,t.Z)({},e,"Expired"))}else{var _,y;m=(0,a.Z)((0,a.Z)({},m),{},(0,t.Z)({},e,h.tq?null===l||void 0===l||null===(_=l.value)||void 0===_?void 0:_.slice(0,40).split(",")[0]:null===l||void 0===l||null===(y=l.value)||void 0===y?void 0:y.split(",")[0]))}})),(null===n||void 0===n||null===(l=n.component_items)||void 0===l?void 0:l.length)>0&&(m=(0,a.Z)((0,a.Z)({},m),{},(0,t.Z)({},"Total Qty",n.component_items.reduce((function(e,n){return e+ +n.quantity}),0)))),(null===n||void 0===n||null===(o=n.shared_positions)||void 0===o?void 0:o.length)>0&&(m=(0,a.Z)((0,a.Z)({},m),{},{Shares:null===n||void 0===n?void 0:n.shared_positions.map((function(e){var n;return null===(n=Wn.find((function(n){return n.value===e.id})))||void 0===n?void 0:n.label})).toString()}));var f=new Date(n.created_date);return m=(0,a.Z)((0,a.Z)({},m),{},(c={id:n.id},(0,t.Z)(c,"Created By","".concat(null===n||void 0===n||null===(i=n.created_by)||void 0===i?void 0:i.first_name," ").concat(null===n||void 0===n||null===(d=n.created_by)||void 0===d?void 0:d.last_name)),(0,t.Z)(c,"Created Date",de()(f).format("DD MMM YYYY")),(0,t.Z)(c,"Assigned To","".concat(null!==(u=null===n||void 0===n||null===(r=n.assigned_to)||void 0===r?void 0:r.first_name)&&void 0!==u?u:""," ").concat(null!==(v=null===n||void 0===n||null===(s=n.assigned_to)||void 0===s?void 0:s.last_name)&&void 0!==v?v:"")),(0,t.Z)(c,"Title",n.title),(0,t.Z)(c,"items",n.component_items),(0,t.Z)(c,"Status",n.status),(0,t.Z)(c,Nn.processModule.module.name,n.title),c)),null===e||void 0===e||null===(p=e.reports)||void 0===p||p.filter((function(e){return"Formula"===e.data_type_name})).map((function(e){var l=(0,O.LV)(e.options,e.options.list.map((function(e){var n;return{value:null!==(n=m[e])&&void 0!==n?n:0}})),zn.filter((function(e){var n,l;return e.module_id===(null===Nn||void 0===Nn||null===(n=Nn.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.id)})),null===n||void 0===n?void 0:n.component_items);m=(0,a.Z)((0,a.Z)({},m),{},(0,t.Z)({},e.field_name,"".concat(l)))})),m}));null===e||void 0===e||null===(n=e.reports)||void 0===n||n.filter((function(e){return"List Filter"===e.data_type_name})).map((function(e){i=i.filter((function(n){var l,o;return n[null===(l=e.options)||void 0===l?void 0:l.field]===(null===(o=e.options)||void 0===o?void 0:o.value)}))}));var u=null===e||void 0===e||null===(l=e.reports)||void 0===l?void 0:l.find((function(e){return"Transaction List"===e.data_type_name}));if(u){var r=[];i.map((function(e){e.items.filter((function(n){var l=(0,a.Z)({},e);Object.keys(u.options.map).map((function(e){l[u.options.map[e]]=n[e]})),r=[].concat((0,d.Z)(r),[l])})),delete e.items})),i=r}return i},Di=null===Jn||void 0===Jn||null===(M=Jn.component_fields)||void 0===M||null===(k=M.find((function(e){return"Status"===e.data_type_name})))||void 0===k?void 0:k.value,Ai=(null===Nn||void 0===Nn||null===(T=Nn.processModule)||void 0===T||null===(P=T.steps)||void 0===P?void 0:P.length)>0?null===Nn||void 0===Nn||null===(D=Nn.processModule)||void 0===D||null===(A=D.steps)||void 0===A||null===(R=A.find((function(e){return(null===e||void 0===e?void 0:e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Action Button"===e.data_type_name})).length>0})).length)>0})))||void 0===R||null===(X=R.component_blueprints.find((function(e){var n;return(null===(n=e.selected_fields.filter((function(e){return"Action Button"===e.data_type_name})))||void 0===n?void 0:n.length)>0})))||void 0===X||null===($=X.options)||void 0===$?void 0:$.showOnly:[],Oi=function(){var e,n,l,o;Kn({}),Ei({action:m._U.setModuleItems,value:Jn.component_items}),Ei({action:m._U.setModuleNewStepComponents,value:[]}),Ei({action:m._U.setComponents,value:[]}),(null===Nn||void 0===Nn||null===(e=Nn.processModule)||void 0===e||null===(n=e.steps)||void 0===n?void 0:n.length)>0&&(null===Nn||void 0===Nn||null===(l=Nn.processModule)||void 0===l||null===(o=l.steps)||void 0===o||o.filter((function(e){var n;return null===e||void 0===e||null===(n=e.component_blueprints)||void 0===n?void 0:n.filter((function(e){return e.selected_fields.filter((function(e){return e.value=void 0}))}))}))),f.h.dispatch((0,_.q4)((0,a.Z)((0,a.Z)({},Nn.processModule),{},{selectedComponent:{id:""},stepIndex:Xn||Ri?0:1,isUpdating:!1})))},Li=!!Array.isArray(null===Nn||void 0===Nn||null===(ee=Nn.processModule)||void 0===ee?void 0:ee.steps)&&(null===Nn||void 0===Nn||null===(ne=Nn.processModule)||void 0===ne||null===(le=ne.steps)||void 0===le||null===(oe=le.find((function(e){var n;return(null===e||void 0===e||null===(n=e.component_blueprints)||void 0===n?void 0:n.filter((function(e){return e.selected_fields.filter((function(e){return"Ratings"===e.data_type_name})).length>0})).length)>0})))||void 0===oe||null===(ie=oe.component_blueprints)||void 0===ie||null===(se=ie.find((function(e){var n;return(null===(n=e.selected_fields.filter((function(e){return"Ratings"===e.data_type_name})))||void 0===n?void 0:n.length)>0})))||void 0===se||null===(ce=se.selected_fields)||void 0===ce?void 0:ce.find((function(e){return"Ratings"===e.data_type_name}))),zi=null===Fn||void 0===Fn?void 0:Fn.find((function(e){var n,l,o,i;return e.id===(null===Nn||void 0===Nn||null===(n=Nn.processModule)||void 0===n||null===(l=n.selectedComponent)||void 0===l||null===(o=l.component_fields)||void 0===o||null===(i=o.find((function(e){var n;return e.field_name===(null===Li||void 0===Li||null===(n=Li.options)||void 0===n?void 0:n.field)})))||void 0===i?void 0:i.value)})),Ri=(null===An||void 0===An||null===(pe=An.steps)||void 0===pe?void 0:pe.length)>0&&!((null===An||void 0===An||null===(fe=An.steps[0])||void 0===fe||null===(_e=fe.component_blueprints)||void 0===_e?void 0:_e.filter((function(e){var n;return 1==(null===(n=e.options)||void 0===n?void 0:n.asModuleList)})).length)>0),Ui=function(){var e,n,l,o,i,t;return r.createElement("div",{ref:hi,className:me.menuAccordionButtons},(0==Ri&&Nn.processModule.stepIndex>1||1==Ri&&Nn.processModule.stepIndex>0||(null===Jn||void 0===Jn?void 0:Jn.title))&&r.createElement(y.zx,{title:"Cancel",light:!0,style:{width:"100%",display:null!==(e=Nn.processModule.module.options)&&void 0!==e&&e.single?"none":""},clicked:function(){xi.components.length>0||xi.newStepComponents.length>0?ui(!0):(Nn.processModule.back_array=[],Mi(Ri?An.steps[0].id:An.steps[1].id),Po(!1),Oi(),Un())}}),(0==Ri&&Nn.processModule.stepIndex>1||1==Ri&&Nn.processModule.stepIndex>0)&&r.createElement(y.zx,{title:"Back",light:!0,style:{width:"100%"},clicked:function(){var e,n,l;if(1==Nn.processModule.stepIndex&&bo(zn.filter((function(e){var n,l;return e.module_id===(null===Nn||void 0===Nn||null===(n=Nn.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.id)}))),1==(null===mi||void 0===mi||null===(e=mi.options)||void 0===e?void 0:e.deleteOnBack)&&mi.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"output"!==e.data_type})).map((function(e){e.value=void 0}))})),(null===Nn||void 0===Nn||null===(n=Nn.processModule)||void 0===n||null===(l=n.back_array)||void 0===l?void 0:l.length)>0){var o,i=null===Nn||void 0===Nn||null===(o=Nn.processModule)||void 0===o?void 0:o.back_array.pop();i&&Mi(i)}else{var t;Mi(null===(t=Nn.processModule.steps[Nn.processModule.stepIndex-1])||void 0===t?void 0:t.id)}}}),!0===(null===mi||void 0===mi?void 0:mi.is_end)?r.createElement(y.zx,{disabled:!1===(null===Ln||void 0===Ln?void 0:Ln.start),title:1==(null===Nn||void 0===Nn||null===(n=Nn.processModule)||void 0===n?void 0:n.isUpdating)?"Update":Pl&&null!==(l=null===Nn||void 0===Nn||null===(o=Nn.processModule)||void 0===o||null===(i=o.module)||void 0===i||null===(t=i.options)||void 0===t?void 0:t.save)&&void 0!==l?l:"Save",loading:dl,style:{width:"100%",display:xi.components.length>0||xi.newStepComponents.length>0?"":"none"},clicked:function(){var e,n,l,o,i,t;return To?xl("Saving is not allowed in Edit Mode"):1==(null===Nn||void 0===Nn||null===(e=Nn.processModule)||void 0===e||null===(n=e.module)||void 0===n||null===(l=n.options)||void 0===l?void 0:l.emailOutputs)&&1==(null===Nn||void 0===Nn||null===(o=Nn.processModule)||void 0===o||null===(i=o.module)||void 0===i||null===(t=i.options)||void 0===t?void 0:t.selectiveEmail)&&Pl?$l(!0):ki()}}):r.createElement(y.zx,{disabled:!1===(null===Ln||void 0===Ln?void 0:Ln.start),title:"Next",style:{width:"100%"},clicked:function(){var e,n,l,o,i,t,d,a,u;Array.isArray(null===Nn||void 0===Nn||null===(e=Nn.processModule)||void 0===e?void 0:e.back_array)||(Nn.processModule.back_array=[]),null===Nn||void 0===Nn||null===(n=Nn.processModule)||void 0===n||n.back_array.push(null===xi||void 0===xi||null===(l=xi.currentStep)||void 0===l?void 0:l.id);var r,v,s,c,p,m=null===(o=mi.component_blueprints.find((function(e){return e.selected_fields.filter((function(e){var n,l;return"Dropdown"===e.data_type_name&&(null===(n=e.options)||void 0===n?void 0:n.jump1)&&"decision"===(null===(l=e.options)||void 0===l?void 0:l.type)})).length>0})))||void 0===o||null===(i=o.selected_fields)||void 0===i?void 0:i.find((function(e){var n;return"Dropdown"===e.data_type_name&&(null===(n=e.options)||void 0===n?void 0:n.jump1)})),y=null===(t=mi.component_blueprints.find((function(e){return e.selected_fields.filter((function(e){var n;return"Value Button"===e.data_type_name&&(null===(n=e.options)||void 0===n?void 0:n.jump1)})).length>0})))||void 0===t||null===(d=t.selected_fields)||void 0===d?void 0:d.filter((function(e){var n;return"Value Button"===e.data_type_name&&(null===(n=e.options)||void 0===n?void 0:n.jump1)}));if(null!==m&&void 0!==m&&null!==(a=m.options)&&void 0!==a&&a.jump1&&null!==m&&void 0!==m&&null!==(u=m.options)&&void 0!==u&&u.jump2)if(0==(null===m||void 0===m||null===(r=m.options)||void 0===r?void 0:r.list.indexOf(null===m||void 0===m?void 0:m.value)))wi(null===(s=$n.find((function(e){var n;return e.id===(null===m||void 0===m||null===(n=m.options)||void 0===n?void 0:n.process)})))||void 0===s||null===(c=s.steps)||void 0===c||null===(p=c.find((function(e){return e.id===(null===m||void 0===m?void 0:m.options.jump1)})))||void 0===p?void 0:p.id);else if(1==(null===m||void 0===m||null===(v=m.options)||void 0===v?void 0:v.list.indexOf(null===m||void 0===m?void 0:m.value))){var h,g,b;wi(null===(h=$n.find((function(e){var n;return e.id===(null===m||void 0===m||null===(n=m.options)||void 0===n?void 0:n.process)})))||void 0===h||null===(g=h.steps)||void 0===g||null===(b=g.find((function(e){return e.id===(null===m||void 0===m?void 0:m.options.jump2)})))||void 0===b?void 0:b.id)}else{var x,E;null===Nn||void 0===Nn||null===(x=Nn.processModule)||void 0===x||null===(E=x.back_array)||void 0===E||E.pop(),f.h.dispatch((0,_.Xc)({show:!0,message:"Please select a value for ".concat(null===m||void 0===m?void 0:m.field_name),color:"red",bottom:!1})),window.scrollTo({top:0,behavior:"smooth"})}else if((null===y||void 0===y?void 0:y.length)>0){var C,w,Z,M,S,k=y.filter((function(e){return void 0!==e.value}));if(1==k.length)wi(null===(C=$n.find((function(e){var n,l;return e.id===(null===(n=k[0])||void 0===n||null===(l=n.options)||void 0===l?void 0:l.process)})))||void 0===C||null===(w=C.steps)||void 0===w||null===(Z=w.find((function(e){var n;return e.id===(null===(n=k[0])||void 0===n?void 0:n.options.jump1)})))||void 0===Z?void 0:Z.id);else null===Nn||void 0===Nn||null===(M=Nn.processModule)||void 0===M||null===(S=M.back_array)||void 0===S||S.pop(),f.h.dispatch((0,_.Xc)({show:!0,message:"A selection is required",color:"red",bottom:!1})),window.scrollTo({top:0,behavior:"smooth"})}else if((null===mi||void 0===mi?void 0:mi.next_steps.length)>1||fi.length>1||_i.length>1)pl(!cl);else if(1===mi.next_steps.length){var I;wi(null===mi||void 0===mi||null===(I=mi.next_steps[0])||void 0===I?void 0:I.id)}else{var N;wi(null===(N=An.steps[An.steps.findIndex((function(e){return e.id===mi.id}))+1])||void 0===N?void 0:N.id)}}}),cl&&r.createElement("div",{className:me.goToNextStep},null===mi||void 0===mi?void 0:mi.next_steps.map((function(e,n){return r.createElement("div",{key:n,onClick:function(){return wi(e.id)},className:me.nextStepsContainer},r.createElement("div",{className:me.nextStepImageContainer},r.createElement(ve.G,{icon:re.d63})),r.createElement("p",null,null===e||void 0===e?void 0:e.name))})),null===fi||void 0===fi?void 0:fi.map((function(e,n){return r.createElement("div",{key:n,onClick:function(){return wi(e.id)},className:me.nextStepsContainer},r.createElement("div",{className:me.nextStepImageContainer},r.createElement(ve.G,{icon:re.t3U})),r.createElement("p",null,null===e||void 0===e?void 0:e.name))})),null===_i||void 0===_i?void 0:_i.map((function(e,n){return r.createElement("div",{key:n,onClick:function(){return function(e){f.h.dispatch((0,_.pU)(e)),pl(!1)}(e)},className:me.nextStepsContainer},r.createElement("div",{className:me.nextStepImageContainer},r.createElement(ve.G,{icon:re.t3U})),r.createElement("p",null,null===e||void 0===e?void 0:e.name))}))))};return r.createElement(p.LN,null,r.createElement(E.sM,null,r.createElement("div",{className:me.processStepHost,style:{backgroundColor:h.tq?"":!0===(null===mi||void 0===mi||null===(ye=mi.options)||void 0===ye?void 0:ye.popup)?"var(--app-color-white-lightest)":""}},r.createElement("div",{className:me.leftCardMargin,"app-variant-is-mobile":h.tq?"true":"false"},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"}},r.createElement("p",{className:me.stepTitle},null===mi||void 0===mi?void 0:mi.name),(0==Nn.processModule.stepIndex||1==Nn.processModule.stepIndex)&&r.createElement(y.zx,{light:!0,clicked:function(){al(!0);var e=On.find((function(e){return e.id===Nn.processModule.module_id}));el.componentsByModule[e.name]=0,(0,z.vC)(e,O.Qc,1e3,1).pipe((0,c.q)(1)).subscribe({next:function(n){var l,o=null!==n&&void 0!==n&&n.data?null===n||void 0===n?void 0:n.data:n;f.h.dispatch((0,_.mK)(K.Z(J.Z("created_date"),[].concat((0,d.Z)(zn.filter((function(e){return e.module_id!==Nn.processModule.module_id}))),(0,d.Z)(o))),O.KI)),al(!1),e.lastUpdate=(0,te.now)(),e.count=null!==(l=null===n||void 0===n?void 0:n.total)&&void 0!==l?l:0},complete:function(){},error:function(){return al(!1)}})},icon:r.createElement("img",{src:C.Fd}),loading:dl})),!Xn&&(null===mi||void 0===mi||null===(he=mi.guidance)||void 0===he?void 0:he.length)>0&&r.createElement("label",{className:me.stepGuidanceSmaller},null===mi||void 0===mi?void 0:mi.guidance),bl&&(_l||To)&&r.createElement(I.Z,{message:bl,onClick:function(){return xl("")}}),1===rl&&void 0===(null===mi||void 0===mi?void 0:mi.component_blueprints)?r.createElement("div",{className:me.centeredSpinner}):(null===mi||void 0===mi||null===(ge=mi.component_blueprints)||void 0===ge?void 0:ge.filter((function(e){var n;return 1==(null===(n=e.options)||void 0===n?void 0:n.asModuleList)})).length)>0?null===mi||void 0===mi||null===(be=mi.component_blueprints)||void 0===be?void 0:be.filter((function(e){var n,l,o;return 1==e.options.asModuleList&&(ol.positions.filter((function(n){var l,o;return null===(l=e.options)||void 0===l||null===(o=l.showOnly)||void 0===o?void 0:o.includes(n.id)})).length>0||0==(null===(n=e.options)||void 0===n||null===(l=n.showOnly)||void 0===l?void 0:l.length)||void 0===(null===(o=e.options)||void 0===o?void 0:o.showOnly))})).map((function(e,n){var l,o,i;return r.createElement("div",{key:n,style:{width:"100%",padding:"0 10px 0 10px"}},r.createElement(S.default,{card:!0,className:me.listContainer,isReport:!1,"app-variant-is-mobile":"true",columns:(0,d.Z)(new Set((null!==(l=null===(o=e.selected_fields.find((function(e){return 1==e.visible&&"Info"===e.data_type_name})))||void 0===o||null===(i=o.options)||void 0===i?void 0:i.list)&&void 0!==l?l:[]).concat(V.Z([Q.Z(J.Z("index"))])(e.selected_fields.filter((function(e){return 1==e.visible&&"Info"!==e.data_type_name}))).map((function(e){return e.field_name}))))).splice(0,3),list:Pi({list:e.selected_fields.filter((function(e){return 1==e.visible||"Info"===e.data_type_name})).map((function(e){var n,l;return"Info"===e.data_type_name&&null!==(n=null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.key)&&void 0!==n?n:e.field_name}))}),onListItemClick:function(e){(null===e||void 0===e?void 0:e.id)===(null===ni||void 0===ni?void 0:ni.id)?li(!1):li(e)}},ni&&r.createElement("div",{style:{backgroundColor:"white"}},r.createElement(Be,{ref:yi,begunModule:Nn,allModules:On,companyData:Ln,components:zn,selectedComponent:go.find((function(e){return e.id===(null===ni||void 0===ni?void 0:ni.id)})),setSelectedComponent:Kn,companyUsersArray:Fn,print:Yl,step:C.Nb,companyPositionsArray:Wn,user:Tn,goto:!1}))))})):1===rl&&void 0===mi.component_blueprints?r.createElement(r.Fragment,null,"No components in step"):r.createElement("div",{className:me.processModuleContainer,"app-variant-is-mobile":h.tq?"true":"false"},r.createElement(y.U7,{blured:!1,scrollable:!1,isOpen:!h.tq&&(null!==(xe=null===mi||void 0===mi||null===(Ce=mi.options)||void 0===Ce?void 0:Ce.popup)&&void 0!==xe&&xe),shadowedContainerStyle:{width:"100%",minWidth:"50%"}},r.createElement(We,{nextButtonClicked:wl,step:mi,setIsMandatoryError:yl,isMandatoryError:_l,begunModule:Nn,companyData:Ln,blueprints:Bn,components:zn,products:qn,authenticatedUser:ol,isEditing:Vn,companyUsersArray:Fn,usersArray:Co,setUsers:zl,setPositions:ql,setIsCompleted:Dl,selectedComponent:Jn,goToNextStep:Mi,companyPositionsArray:Wn,cart:Pn,allModules:On,editMode:To},r.createElement("div",{className:me.menuRightButtons}),Ui())),(!0!==(null===mi||void 0===mi||null===(we=mi.options)||void 0===we?void 0:we.popup)||h.tq)&&r.createElement(We,{nextButtonClicked:wl,step:mi,setIsMandatoryError:yl,isMandatoryError:_l,begunModule:Nn,companyData:Ln,blueprints:Bn,components:zn,products:qn,authenticatedUser:ol,isEditing:Vn,companyUsersArray:Fn,usersArray:Co,setUsers:zl,setPositions:ql,setIsCompleted:Dl,selectedComponent:Jn,goToNextStep:Mi,companyPositionsArray:Wn,cart:Pn,allModules:On,editMode:To,isProcessorOnly:Xn},Ui())),ai&&r.createElement(ze.Z,{openModal:ai,setOpenModal:ui,dialogHandler:function(){Nn.processModule.back_array=[],Mi(Ri?An.steps[0].id:An.steps[1].id),Po(!1),Oi(),Un()},title:"You have unsaved items. Are you sure you want to cancel?",proceedTitle:"Yes",cancelTitle:"No, return back",loading:dl}),Gl&&r.createElement(y.U7,{isOpen:g.v7,onClose:function(){},backdropColor:!0,blured:!0,scrollable:!0,shadowedContainerStyle:{width:"100%"}},r.createElement("div",null,r.createElement("p",{className:me.deleteText},"Are you sure you want to delete ".concat(Jn.title,"?")),r.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.createElement(y.zx,{title:"Delete",clicked:function(){uo(!0),(0,g.v7)(Jn.id).pipe((0,s.P)()).subscribe({next:function(){uo(!1),Il(!1),Jl(!1)},complete:function(){},error:function(){uo(!1),Jl(!1)}})},loading:ao}),r.createElement(y.zx,{title:"No",light:!0,clicked:function(){return Jl(!1)}})))),lo&&r.createElement(y.U7,{isOpen:lo,onClose:function(){},backdropColor:!0,blured:!1,scrollable:!0,shadowedContainerStyle:{width:"100%"}},r.createElement("div",null,r.createElement("p",{className:me.deleteText},"Cannot delete ".concat(Jn.title,". Some transactions and master data are using this item")),r.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.createElement(y.zx,{title:"Close",light:!0,clicked:function(){return oo(!1)}}))))),si&&r.createElement(ze.Z,{openModal:si,setOpenModal:ci,dialogHandler:function(){Lo(!1),ci(!1),f.h.dispatch((0,_.q4)((0,a.Z)((0,a.Z)({},Nn.processModule),{},{stepIndex:0,isUpdating:!1})))},title:"No payments made. Do you want to pay later?",proceedTitle:"Yes",cancelTitle:"No, return back"}),Oo&&r.createElement(y.U7,{hasCloseIcon:!0,isOpen:Oo,onClose:function(){return ci(!0)},backdropColor:!0,blured:!1,scrollable:!0,shadowedContainerStyle:{width:"100%"}},r.createElement(ae.default,{label:" ",withBack:!1,paymentPath:"begin-mobile",onClose:function(){return Lo(!1)},companyData:Ln,subscriptionInfo:{user_id:ol.id,ref:xi.id,plan_price:null!==(Ze=null===xi||void 0===xi?void 0:xi.plan)&&void 0!==Ze?Ze:0,currency:null!==(Me=null===xi||void 0===xi?void 0:xi.currency)&&void 0!==Me?Me:"PHP",plan:"CC-".concat(xi.id),total:null!==(Se=+(null===xi||void 0===xi?void 0:xi.total))&&void 0!==Se?Se:0,billable_users:[ol],duration:0,dlabel:xi.id,id:null===Nn||void 0===Nn||null===(ke=Nn.processModule)||void 0===ke||null===(Ie=ke.selectedComponent)||void 0===Ie?void 0:Ie.id},onError:function(e){ii(!0),xl(e),yl(!0),Lo(!1),f.h.dispatch((0,_.q4)((0,a.Z)((0,a.Z)({},Nn.processModule),{},{stepIndex:0,isUpdating:!1})))}})),Xl&&r.createElement(y.U7,{isOpen:Xl,onClose:function(){return $l(!1)},backdropColor:!0,blured:!0,scrollable:!0,shadowedContainerStyle:{width:"100%"}},r.createElement("div",null,r.createElement(y.jL,{ungrouped:!0,title:"nonmanager"===ol.user_type?"Type an email address to send copy of this transaction (optional)":"Select users to email this transaction (Optional)",columned:!0,withAckButton:!1},"nonmanager"===ol.user_type?r.createElement("input",{placeholder:"Use comma, no space, for multiple email addresses",className:me.emailInput,onChange:function(e){new RegExp(/^([a-z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*)(([, ]+[a-z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])\.([a-z0-9]([a-z0-9-]*[a-z0-9]))*)?)*$/).test(e.target.value)&&ko(e.target.value.split(","))}}):r.createElement(L.Cm,{id:"Users",tagEmplacement:"inlined",searchable:!1,items:Co.filter((function(e){var n;return e.department===(null===(n=ol.departments[0])||void 0===n?void 0:n.name)})),groupedBy:"department",groupname:"department",triggerType:"chevron",initialSelectedValues:[],className:me.peoplePositionsSelect,inputClassName:me.peoplePositionsSelectInput,molclassname:me.peoplePositionsSelectMenuOverlay,moliclassname:me.peoplePositionsSelectMenuOverlayItem,onChange:function(e){e.length>0?ko(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.user.email}))):ko([])}})),r.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.createElement(y.zx,{title:"Back",light:!0,clicked:function(){return $l(!1)}}),r.createElement(y.zx,{disabled:!1===(null===Ln||void 0===Ln?void 0:Ln.start),title:null!==Nn&&void 0!==Nn&&null!==(Te=Nn.processModule)&&void 0!==Te&&Te.isUpdating?"Update":Pl&&null!==(De=null===Nn||void 0===Nn||null===(Ae=Nn.processModule)||void 0===Ae||null===(Oe=Ae.module)||void 0===Oe||null===(Le=Oe.options)||void 0===Le?void 0:Le.save)&&void 0!==De?De:"Save",loading:dl,style:{width:"160px",marginLeft:"0px"},clicked:function(){$l(!1),ki()}})))),r.createElement(y.U7,{hasCloseIcon:!0,blured:!0,scrollable:!0,isOpen:(kl||!0===(null===Nn||void 0===Nn||null===(Ue=Nn.processModule)||void 0===Ue?void 0:Ue.showDetail))&&void 0!==(null===Jn||void 0===Jn?void 0:Jn.title),shadowedContainerStyle:{padding:"0 20px 20px 20px",width:"100%"},sshadowedContainerClassname:me.popup,onClose:function(){Il(!1),Hl(!1),f.h.dispatch((0,_.q4)((0,a.Z)((0,a.Z)({},Nn.processModule),{},{showDetail:!1}))),Xn?Oi():(bo(zn.filter((function(e){var n,l;return e.module_id===(null===Nn||void 0===Nn||null===(n=Nn.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.id)}))),Mi(Ri?An.steps[0].id:An.steps[1].id),Po(!1),Oi(),Un())}},r.createElement(Be,{ref:yi,begunModule:Nn,allModules:On,companyData:Ln,components:zn,selectedComponent:Jn,setSelectedComponent:Kn,companyUsersArray:Fn,print:Yl,step:C.Nb,companyPositionsArray:Wn,user:Tn,goto:!0}),r.createElement("div",{className:me.emulatedFlexGap,style:{width:"100%"}},(null===Jn||void 0===Jn||null===(Fe=Jn.component_fields)||void 0===Fe?void 0:Fe.length)>0&&r.createElement(r.Fragment,null,(0,O.cQ)(Di,Ai,Jn,ol,Nn,Ln)&&(null===Nn||void 0===Nn||null===(qe=Nn.processModule)||void 0===qe||null===(Ye=qe.steps)||void 0===Ye||null===(He=Ye.find((function(e){return e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Action Button"===e.data_type_name})).length>0})).length>0})))||void 0===He||null===(je=He.component_blueprints.find((function(e){return e.selected_fields.filter((function(e){return"Action Button"===e.data_type_name})).length>0})))||void 0===je?void 0:je.selected_fields.filter((function(e){return"Action Button"===e.data_type_name})).map((function(e,n){var l,o,i,t;if("status"===e.options.action){var d,u,v,c,p,m,h,b,x,E=(null===Ln||void 0===Ln||null===(d=Ln.misc_info)||void 0===d||null===(u=d.status)||void 0===u?void 0:u.length)>0?null===Ln||void 0===Ln||null===(v=Ln.misc_info)||void 0===v?void 0:v.status:[{label:"Ongoing",value:"Ongoing"},{label:"Pending",value:"Pending"},{label:"Awaiting Payment",value:"Awaiting Payment"},{label:"Awaiting Fulfillment",value:"Awaiting Fulfillment"},{label:"Awaiting Shipment",value:"Awaiting Shipment"},{label:"Awaiting Pickup",value:"Awaiting Pickup"},{label:"Partially Shipped",value:"Partially Shipped"},{label:"Completed",value:"Completed"},{label:"Shipped",value:"Shipped"},{label:"Cancelled",value:"Cancelled"},{label:"Declined",value:"Declined"},{label:"Refunded",value:"Refunded"},{label:"Disputed",value:"Disputed"},{label:"Done",value:"Done"},{label:"Closed (Will lock Edit)",value:"Closed"}];if((null===Ln||void 0===Ln||null===(c=Ln.misc_info)||void 0===c||null===(p=c.rules)||void 0===p?void 0:p.length)>0)null===Ln||void 0===Ln||null===(x=Ln.misc_info)||void 0===x||x.rules.filter((function(e){return"status"===e.type})).filter((function(n){n.valueCondition===e.value&&(E="0"===n.allow?E.filter((function(e){return n.values.includes(e.value)})):E.filter((function(e){return!n.values.includes(e.value)})))}));return r.createElement("div",{key:n,style:{width:"100%",display:"user"===e.options.action&&null!==(m=Jn.component_fields)&&void 0!==m&&null!==(h=m.find((function(n){return n.procedure_step_blueprint_field_id===e.procedure_step_blueprint_field_id})))&&void 0!==h&&h.value?"none":""}},r.createElement(N.Z,{titleProps:{fontSize:"12px",color:"var(--app-color-gray-light)"},className:me.multiselectComponent,key:n,visible:e.visible,mandatory:e.mandatory,value:null!==(b=e.value)&&void 0!==b?b:"",items:E,error:e.errors,onChange:function(n){var l,o,i,t;if(null!==(l=Nn.processModule)&&void 0!==l&&null!==(o=l.module)&&void 0!==o&&null!==(i=o.options)&&void 0!==i&&i.credits&&(n===(null===(t=Ln.options)||void 0===t?void 0:t.lock)||"Closed"===n)){var d,u,r,v,c,p,m,y,h,b,x=null===Nn||void 0===Nn||null===(d=Nn.processModule)||void 0===d||null===(u=d.steps)||void 0===u||null===(r=u.find((function(e){return e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Payments"===e.data_type_name})).length>0})).length>0})))||void 0===r||null===(v=r.component_blueprints.find((function(e){return e.selected_fields.filter((function(e){return"Payments"===e.data_type_name})).length>0})))||void 0===v?void 0:v.selected_fields.find((function(e){return"Payments"===e.data_type_name})),E=null===(c=xi.newStepComponents.concat(xi.components).find((function(e){return e.selected_fields.filter((function(e){var n;return e.field_name===(null===x||void 0===x||null===(n=x.options)||void 0===n?void 0:n.paymentField)})).length>0})))||void 0===c||null===(p=c.selected_fields)||void 0===p?void 0:p.find((function(e){var n;return e.field_name===(null===x||void 0===x||null===(n=x.options)||void 0===n?void 0:n.paymentField)})),C=0;if(null===(m=Nn.processModule)||void 0===m||null===(y=m.selectedComponent.payments)||void 0===y||!y.stripe_id)return Il(!1),Nn.processModule.showDetail=!1,void f.h.dispatch((0,_.Xc)({show:!0,message:"Check support payment docs",color:"red",spinner:!1,bottom:!0}));if(!(+(null!==(h=null===E||void 0===E?void 0:E.value)&&void 0!==h?h:0)>0))return void f.h.dispatch((0,_.Xc)({show:!0,message:"No amount found",color:"red",spinner:!1,bottom:!0}));C=+(null!==(b=null===E||void 0===E?void 0:E.value)&&void 0!==b?b:0),"Cash"!==(null===x||void 0===x?void 0:x.value)&&(0,ue.e_)({user_id:ol.id,id:(0,O.mR)(),total:C,product:"CR-".concat(null===Jn||void 0===Jn?void 0:Jn.title),notes:"Wallet",quantity:1}).pipe((0,s.P)()).subscribe({next:function(){var e;Tn.wallet=+(+(null!==(e=null===Tn||void 0===Tn?void 0:Tn.wallet)&&void 0!==e?e:0)+C)}})}Ln.start=!0,al(!0),(0,g.C0)({component_id:Jn.id,index:0,group:99,value:n,procedure_step_blueprint_field_id:e.procedure_step_blueprint_field_id}).subscribe({next:function(e){(0,g.zK)(null===Jn||void 0===Jn?void 0:Jn.id,n).subscribe({next:function(e){al(!1),Il(!1),f.h.dispatch((0,_.q4)((0,a.Z)((0,a.Z)({},Nn.processModule),{},{showDetail:!1})))}})},error:function(){},complete:function(){}})},fieldIcon:e.icon,fieldLabel:e.field_name,placeholder:"Select status..."}))}return r.createElement("div",{key:n,style:{width:"100%",display:null!==Jn&&void 0!==Jn&&Jn.payments||null===Jn||void 0===Jn||!Jn.component_fields.find((function(e){return"Payments"===e.data_type_name&&"Credit Card"===e.value}))?"":"none"}},r.createElement(y.zx,{light:!0,title:e.field_name,loading:dl,clicked:function(){if("user"===e.options.action||"creator"===e.options.action){var n,l,o,i,t,d,u,r,v;if(1==(null===(n=Nn.processModule)||void 0===n||null===(l=n.module)||void 0===l||null===(o=l.options)||void 0===o?void 0:o.activeFor)&&de()((0,te.now)()).diff(de()(Jn.created_date),"minutes")>+(null===(i=Nn.processModule)||void 0===i||null===(t=i.module)||void 0===t||null===(d=t.options)||void 0===d?void 0:d.activeFor))return void f.h.dispatch((0,_.Xc)({show:!0,message:"This transaction has already expired.",color:"red",spinner:!1,bottom:!0}));var c="user"===e.options.action?ol:Fn.find((function(e){var n;return e.id===(null===(n=Jn.created_by)||void 0===n?void 0:n.id)}));if(null!==(u=Nn.processModule)&&void 0!==u&&null!==(r=u.module)&&void 0!==r&&null!==(v=r.options)&&void 0!==v&&v.credits){var p,m,y,h,b,x,E,C,w,Z,M=null===Nn||void 0===Nn||null===(p=Nn.processModule)||void 0===p||null===(m=p.steps)||void 0===m||null===(y=m.find((function(e){return e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Payments"===e.data_type_name})).length>0})).length>0})))||void 0===y||null===(h=y.component_blueprints.find((function(e){return e.selected_fields.filter((function(e){return"Payments"===e.data_type_name})).length>0})))||void 0===h?void 0:h.selected_fields.find((function(e){return"Payments"===e.data_type_name}));if("Credit Card"===(null===M||void 0===M?void 0:M.value)&&(null===Jn||void 0===Jn||!Jn.payments))return f.h.dispatch((0,_.Xc)({show:!0,message:"This ",color:"red",spinner:!1,bottom:!0})),Nn.processModule.showDetail=!1,void Il(!1);var S=null===(b=xi.newStepComponents.concat(xi.components).find((function(e){return e.selected_fields.filter((function(e){var n;return e.field_name===(null===M||void 0===M||null===(n=M.options)||void 0===n?void 0:n.paymentField)})).length>0})))||void 0===b||null===(x=b.selected_fields)||void 0===x?void 0:x.find((function(e){var n;return e.field_name===(null===M||void 0===M||null===(n=M.options)||void 0===n?void 0:n.paymentField)})),k=0;if(void 0===(null===c||void 0===c?void 0:c.wallet)||0===(null===c||void 0===c?void 0:c.wallet))return f.h.dispatch((0,_.Xc)({show:!0,message:"You need to setup funds for your wallet",color:"red",spinner:!1,bottom:!0})),Nn.processModule.showDetail=!1,void Il(!1);if(+(null!==(E=null===S||void 0===S?void 0:S.value)&&void 0!==E?E:0)>0&&"Cash"===(null===M||void 0===M?void 0:M.value)){var I,N,T,P,D;if((null!==(I=+(null===c||void 0===c?void 0:c.wallet))&&void 0!==I?I:0)<+(null===S||void 0===S?void 0:S.value)+ +(null===S||void 0===S?void 0:S.value)*+(null!==(N=null===(T=Ln.misc_info)||void 0===T?void 0:T.rate)&&void 0!==N?N:.2))return f.h.dispatch((0,_.Xc)({show:!0,message:"Insufficient funds in wallet",color:"red",spinner:!1,bottom:!0})),Nn.processModule.showDetail=!1,void Il(!1);k=null!==S&&void 0!==S&&S.value?+(null===S||void 0===S?void 0:S.value)+ +(null===S||void 0===S?void 0:S.value)*+(null!==(P=null===(D=Ln.misc_info)||void 0===D?void 0:D.rate)&&void 0!==P?P:.2):0}else if(!("Wallet"===(null===M||void 0===M?void 0:M.value)||"Points"===(null===M||void 0===M?void 0:M.value)||null!==(C=Nn.processModule)&&void 0!==C&&null!==(w=C.selectedComponent)&&void 0!==w&&null!==(Z=w.payments)&&void 0!==Z&&Z.stripe_id))return Il(!1),Nn.processModule.showDetail=!1,void f.h.dispatch((0,_.Xc)({show:!0,message:"Check support payment docs",color:"red",spinner:!1,bottom:!0}));"Cash"===(null===M||void 0===M?void 0:M.value)&&(0,ue.e_)({user_id:ol.id,id:(0,O.mR)(),total:-k,product:"DB-".concat(null===Jn||void 0===Jn?void 0:Jn.title),notes:"Wallet",quantity:1}).pipe((0,s.P)()).subscribe({next:function(){var e;return c.wallet=+(+(null!==(e=null===c||void 0===c?void 0:c.wallet)&&void 0!==e?e:0)-k)},error:function(){return f.h.dispatch((0,_.Xc)({show:!0,message:"Purchase error encountered",color:"red",spinner:!1,bottom:!0}))}})}al(!0),(0,g.C0)({component_id:Jn.id,index:0,group:99,value:c.id,procedure_step_blueprint_field_id:e.procedure_step_blueprint_field_id}).subscribe({next:function(e){(0,g.dn)(Jn.id,c.id).subscribe({next:function(e){al(!1),Il(!1),f.h.dispatch((0,_.q4)((0,a.Z)((0,a.Z)({},Nn.processModule),{},{showDetail:!1})))}})},error:function(){},complete:function(){}})}else"status"===e.options.action||"date"===e.options.action||e.options.action,al(!1)},style:{backgroundColor:"green",color:"white",width:"100%",display:"user"===e.options.action&&null!==(l=Jn.component_fields)&&void 0!==l&&null!==(o=l.find((function(n){return n.procedure_step_blueprint_field_id===e.procedure_step_blueprint_field_id})))&&void 0!==o&&o.value?"none":""}}),r.createElement(y.zx,{title:"Decline",light:!0,loading:dl,clicked:function(){var e,n;al(!0);var l=Jn.component_fields.find((function(e){var n;return"People"===e.data_type_name&&!0===(null===(n=e.options)||void 0===n?void 0:n.calendar)}));(0,g.KL)((0,a.Z)((0,a.Z)({},Jn),{},{selected_fields:l?Jn.component_fields.filter((function(e){return e.id!==l.id})):Jn.component_fields,assigned_to:{id:""},status:"Unassigned"}),Jn.id,null===(e=Jn.shared_users)||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.id})),Jn.title,Jn.is_complete,null===(n=Jn.shared_positions)||void 0===n?void 0:n.map((function(e){return null===e||void 0===e?void 0:e.id}))).subscribe({error:function(e){f.h.dispatch((0,_.Xc)({show:!0,message:"Errors found",color:"red"}))},next:function(e){f.h.dispatch((0,_.aT)(Jn.id)),al(!1),Il(!1),f.h.dispatch((0,_.q4)((0,a.Z)((0,a.Z)({},Nn.processModule),{},{showDetail:!1})))}})},style:{backgroundColor:"red",color:"white",width:"100%",display:"user"===e.options.action&&null!==(i=Jn.component_fields)&&void 0!==i&&null!==(t=i.find((function(n){return n.procedure_step_blueprint_field_id===e.procedure_step_blueprint_field_id})))&&void 0!==t&&t.value?"none":""}}))})))),!(null!==Nn&&void 0!==Nn&&null!==(Ve=Nn.processModule)&&void 0!==Ve&&Ve.canEdit)&&("Closed"===(null===Nn||void 0===Nn||null===(Ge=Nn.processModule)||void 0===Ge?void 0:Ge.status)||(null===Nn||void 0===Nn||null===(Je=Nn.processModule)||void 0===Je?void 0:Je.status)===(null===Ln||void 0===Ln||null===(Qe=Ln.misc_info)||void 0===Qe?void 0:Qe.lock))&&(null===Nn||void 0===Nn||null===(Xe=Nn.processModule.selectedComponent)||void 0===Xe||null===($e=Xe.created_by)||void 0===$e?void 0:$e.id)===ol.id&&(null===Nn||void 0===Nn||null===(en=Nn.processModule)||void 0===en||null===(nn=en.steps)||void 0===nn?void 0:nn.find((function(e){return e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Ratings"===e.data_type_name})).length>0}))})))&&!(null!==Nn&&void 0!==Nn&&null!==(ln=Nn.processModule.selectedComponent)&&void 0!==ln&&ln.component_fields.find((function(e){return"Ratings"===e.data_type_name})))&&zi&&r.createElement(y.zx,{clear:!0,title:"Rate",style:{backgroundColor:"orange",color:"white",width:"100%"},clicked:function(){Fo(!0)}}),(null===(on=Nn.processModule)||void 0===on?void 0:on.canEdit)&&r.createElement(y.zx,{title:Nn.processModule.canEdit?"Edit":"Close",style:{width:"100%"},clicked:function(){Il(!1),Hl(!1),f.h.dispatch((0,_.q4)((0,a.Z)((0,a.Z)({},Nn.processModule),{},{showDetail:!1}))),Nn.processModule.canEdit||(Xn?Oi():(bo(zn.filter((function(e){var n,l;return e.module_id===(null===Nn||void 0===Nn||null===(n=Nn.processModule)||void 0===n||null===(l=n.module)||void 0===l?void 0:l.id)}))),Mi(Ri?An.steps[0].id:An.steps[1].id),Po(!1),Oi(),Un())),window.scrollTo({top:Nn.processModule.canEdit?1e3:0,behavior:"smooth"})}}),(null===Nn||void 0===Nn||null===(tn=Nn.processModule)||void 0===tn||null===(dn=tn.module)||void 0===dn||null===(an=dn.options)||void 0===an?void 0:an.canCancel)&&("New"===Jn.status||"Unassigned"===Jn.status)&&!(null!==(un=Jn.assigned_to)&&void 0!==un&&un.id)&&r.createElement(y.zx,{loading:dl,title:"Cancel Transaction",style:{backgroundColor:"red",color:"white",width:"100%"},clear:!0,clicked:function(){al(!0),(0,g.tE)(null===Jn||void 0===Jn?void 0:Jn.id,"Cancelled").pipe((0,s.P)()).subscribe({next:function(e){var n;if(al(!1),null!==e&&void 0!==e&&null!==(n=e.data.payments)&&void 0!==n&&n.stripe_id){var l,o=Math.abs(+(null===e||void 0===e||null===(l=e.data.payments)||void 0===l?void 0:l.stripe_price));(0,ue.e_)({user_id:ol.id,id:(0,O.mR)(),total:o,product:"RF-".concat(Jn.title),notes:"Wallet",quantity:1}).pipe((0,s.P)()).subscribe({next:function(){var e;ol.wallet=+(+(null!==(e=null===Tn||void 0===Tn?void 0:Tn.wallet)&&void 0!==e?e:0)+o),al(!1),Il(!1),Hl(!1),f.h.dispatch((0,_.q4)((0,a.Z)((0,a.Z)({},Nn.processModule),{},{showDetail:!1}))),window.scrollTo({top:0,behavior:"smooth"})}})}else al(!1),Il(!1),Hl(!1),f.h.dispatch((0,_.q4)((0,a.Z)((0,a.Z)({},Nn.processModule),{},{showDetail:!1}))),window.scrollTo({top:0,behavior:"smooth"})}})}}),(null===Nn||void 0===Nn||null===(rn=Nn.processModule)||void 0===rn||null===(vn=rn.module)||void 0===vn||null===(sn=vn.options)||void 0===sn?void 0:sn.canCancel)&&"Cancellation Request"===(null===Jn||void 0===Jn?void 0:Jn.status)&&(null===ol||void 0===ol?void 0:ol.id)===(null===Jn||void 0===Jn||null===(cn=Jn.created_by)||void 0===cn?void 0:cn.id)&&r.createElement(y.zx,{loading:dl,title:"Allow Cancellation",style:{backgroundColor:"red",color:"white",width:"100%"},clear:!0,clicked:function(){var e;if(al(!0),null!==(e=Jn.payments)&&void 0!==e&&e.stripe_id){var n,l,o=Math.abs(null!==(n=+(null===Jn||void 0===Jn||null===(l=Jn.payments)||void 0===l?void 0:l.stripe_price))&&void 0!==n?n:0);(0,ue.e_)({user_id:ol.id,id:(0,O.mR)(),total:o,product:"RF-".concat(Jn.title),notes:"Wallet",quantity:1}).pipe((0,s.P)()).subscribe({next:function(){var e;ol.wallet=+(+(null!==(e=null===Tn||void 0===Tn?void 0:Tn.wallet)&&void 0!==e?e:0)+o),(0,g.tE)(null===Jn||void 0===Jn?void 0:Jn.id,"Cancelled").pipe((0,s.P)()).subscribe({next:function(e){al(!1),Il(!1),Hl(!1),f.h.dispatch((0,_.q4)((0,a.Z)((0,a.Z)({},Nn.processModule),{},{showDetail:!1}))),window.scrollTo({top:0,behavior:"smooth"})}})}})}else(0,g.tE)(null===Jn||void 0===Jn?void 0:Jn.id,"Refund").pipe((0,s.P)()).subscribe({next:function(e){al(!1),Il(!1),Hl(!1),f.h.dispatch((0,_.q4)((0,a.Z)((0,a.Z)({},Nn.processModule),{},{showDetail:!1}))),window.scrollTo({top:0,behavior:"smooth"})}})}}),(null===Nn||void 0===Nn||null===(pn=Nn.processModule)||void 0===pn||null===(mn=pn.module)||void 0===mn||null===(fn=mn.options)||void 0===fn?void 0:fn.canCancel)&&"Refund"===Jn.status&&(null===ol||void 0===ol?void 0:ol.id)===(null===(_n=Jn.assigned_to)||void 0===_n?void 0:_n.id)&&r.createElement(y.zx,{loading:dl,title:"Refund",style:{backgroundColor:"red",color:"white",width:"100%"},clear:!0,clicked:function(){var e=Jn.component_fields.find((function(e){var n;return"Payments"===e.data_type_name&&"Refund"===Jn.status&&(null===(n=Jn.assigned_to)||void 0===n?void 0:n.id)===(null===ol||void 0===ol?void 0:ol.id)})),n=Jn.component_fields.find((function(n){var l;return n.field_name===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.paymentField)}));if(n){var l,o,i;al(!0);var t=Math.abs(null!==(l=+(null===n||void 0===n?void 0:n.value))&&void 0!==l?l:0)+ +(null===n||void 0===n?void 0:n.value)*+(null!==(o=null===(i=Ln.misc_info)||void 0===i?void 0:i.rate)&&void 0!==o?o:.2);(0,ue.e_)({user_id:ol.id,id:(0,O.mR)(),total:t,product:"RF-".concat(Jn.title),notes:"Wallet",quantity:1}).pipe((0,s.P)()).subscribe({next:function(){var e;ol.wallet=+(+(null!==(e=null===Tn||void 0===Tn?void 0:Tn.wallet)&&void 0!==e?e:0)+t),(0,g.tE)(null===Jn||void 0===Jn?void 0:Jn.id,"Cancelled").pipe((0,s.P)()).subscribe({next:function(e){al(!1),Il(!1),Hl(!1),Si(),Oi(),window.scrollTo({top:0,behavior:"smooth"})}})}})}else al(!1),Il(!1),Hl(!1),f.h.dispatch((0,_.q4)((0,a.Z)((0,a.Z)({},Nn.processModule),{},{showDetail:!1}))),window.scrollTo({top:0,behavior:"smooth"})}}))),Bo&&r.createElement(y.U7,{hasCloseIcon:!0,blured:!0,scrollable:!0,isOpen:Bo,shadowedContainerStyle:{borderTopLeftRadius:"30px",borderTopRightRadius:"30px",padding:"20px",width:"100%"},sshadowedContainerClassname:me.popup,onClose:function(){Yo(!1)}},r.createElement(Be,{ref:yi,begunModule:Nn,allModules:On,companyData:Ln,components:zn,setSelectedComponent:Kn,selectedComponent:Jn,companyUsersArray:Fn,print:Yl,step:C.Nb,companyPositionsArray:Wn,user:Tn,goto:!0}),r.createElement("div",{className:me.emulatedFlexGap,style:{width:"100%"}},r.createElement(y.zx,{title:"Close",style:{width:"100%"},clicked:function(){Yo(!1)}}))),Uo&&r.createElement(y.U7,{isOpen:Uo,hasCloseIcon:!0,onClose:function(){return Fo(!1)},backdropColor:!0,blured:!1,scrollable:!0,shadowedContainerStyle:{width:"100%",height:"auto"}},r.createElement("div",{className:me.ratingsDiv},r.createElement("h3",null,"Rate your experience"),r.createElement("h5",null,"Ratings and reviews of users are visible to everyone"),r.createElement(Ne.Z,{photo:null===zi||void 0===zi?void 0:zi.photo,firstName:null===zi||void 0===zi?void 0:zi.first_name,lastName:null===zi||void 0===zi?void 0:zi.last_name,email:null===zi||void 0===zi?void 0:zi.email,position:null===zi||void 0===zi?void 0:zi.phone,cardClicked:function(){},width:"100%"}),r.createElement("div",{className:me.slider},r.createElement(y.zx,{clear:!0,clicked:function(){return Go(1)}},r.createElement(ve.G,{icon:re.Tab,style:{color:Vo<1?"lightgray":"black",height:"30px",width:"30px"}})),r.createElement(y.zx,{clear:!0,clicked:function(){return Go(2)}},r.createElement(ve.G,{icon:re.Tab,style:{color:Vo<2?"lightgray":"black",height:"30px",width:"30px"}})),r.createElement(y.zx,{clear:!0,clicked:function(){return Go(3)}},r.createElement(ve.G,{icon:re.Tab,style:{color:Vo<3?"lightgray":"black",height:"30px",width:"30px"}})),r.createElement(y.zx,{clear:!0,clicked:function(){return Go(4)}},r.createElement(ve.G,{icon:re.Tab,style:{color:Vo<4?"lightgray":"black",height:"30px",width:"30px"}})),r.createElement(y.zx,{clear:!0,clicked:function(){return Go(5)}},r.createElement(ve.G,{icon:re.Tab,style:{color:Vo<5?"lightgray":"black",height:"30px",width:"30px"}}))),"Comments:",r.createElement("textarea",{type:"text",autoComplete:"none",className:me.ratingsInput,name:"Comments",id:"Comments",style:{padding:"0 10px 0 10px",fontSize:"16px",backgroundColor:"rgba(234, 231, 231, 0.91)",marginBottom:"30px"}}),r.createElement(y.zx,{title:"Rate",clicked:function(){var e,n,l,o,i=null===Nn||void 0===Nn||null===(e=Nn.processModule)||void 0===e||null===(n=e.steps)||void 0===n||null===(l=n.find((function(e){return e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Ratings"===e.data_type_name})).length>0})).length>0})))||void 0===l||null===(o=l.component_blueprints.find((function(e){return e.selected_fields.filter((function(e){return"Ratings"===e.data_type_name})).length>0})).selected_fields)||void 0===o?void 0:o.find((function(e){return"Ratings"===e.data_type_name}));zi&&(al(!0),(0,g.C0)({component_id:Jn.id,index:0,gropup:100,value:"".concat(document.getElementById("Comments").value,",").concat(Vo),procedure_step_blueprint_field_id:i.procedure_step_blueprint_field_id}).subscribe({next:function(){(0,g.zK)(Jn.id,"Closed").subscribe({next:function(e){(0,Ee.DV)(zi,{ratings:Vo,comments:document.getElementById("Comments").value,component_id:Jn.id}).pipe((0,s.P)()).subscribe({next:function(e){al(!1),Fo(!1),f.h.dispatch((0,_.q4)((0,a.Z)((0,a.Z)({},Nn.processModule),{},{showDetail:!1}))),Kn((0,a.Z)((0,a.Z)({},Jn),{},{status:"Closed"}))},error:function(e){al(!1),Fo(!1),f.h.dispatch((0,_.q4)((0,a.Z)((0,a.Z)({},Nn.processModule),{},{showDetail:!1}))),Oi()}})}})}}))}}))),fo&&r.createElement(Ke,{title:"",nav:fo,openNav:function(){window.clearInterval(Qo),Hn?pi("/"):_o(!1)}},r.createElement("div",{style:{color:"var(--app-color-gray-dark)",height:"inherit",width:"100%"}},r.createElement("div",null,r.createElement("div",{style:{textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",padding:"0 20px 20px 20px"}},!(null!==Jn&&void 0!==Jn&&Jn.assigned_to)&&r.createElement(y.$j,{type:"BallTriangle",color:"black",height:30,width:"30px"}),r.createElement("p",{className:me.modalSubTitle},null!==Jn&&void 0!==Jn&&Jn.assigned_to?"Your transaction has been assigned to:":"Waiting for ".concat(null!==(yn=null===Jn||void 0===Jn?void 0:Jn.title)&&void 0!==yn?yn:"transaction"," to be assigned")),null!==Jn&&void 0!==Jn&&Jn.assigned_to||"Unassigned"!==(null===Jn||void 0===Jn?void 0:Jn.status)?(null===Jn||void 0===Jn?void 0:Jn.assigned_to)&&r.createElement(Ne.Z,{photo:null===Jn||void 0===Jn||null===(hn=Jn.assigned_to)||void 0===hn?void 0:hn.photo,height:"150px",width:h.tq?"100%":"80%",firstName:"".concat(null===Jn||void 0===Jn||null===(gn=Jn.assigned_to)||void 0===gn?void 0:gn.first_name," ").concat(null===Jn||void 0===Jn||null===(bn=Jn.assigned_to)||void 0===bn?void 0:bn.last_name),email:null!==(xn=null===Jn||void 0===Jn||null===(En=Jn.assigned_to)||void 0===En?void 0:En.phone)&&void 0!==xn?xn:""}):r.createElement(Ne.Z,{noPhoto:!0,height:"150px",width:h.tq?"100%":"80%",firstName:"Unassigned",email:"Please close and select another provider"})),r.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}})),r.createElement("br",null),r.createElement(y.zx,{clicked:function(){window.clearInterval(Qo),_o(!1)},title:"Hide",style:{width:"100%"},loading:dl}))),so&&r.createElement(y.U7,{isOpen:so,hasCloseIcon:!0,onClose:function(){return Hn?pi("/"):co(!1)},backdropColor:!0,blured:!1,scrollable:!0,shadowedContainerStyle:{width:"100%",height:"auto"}},r.createElement("div",{style:{textAlign:"center",padding:"20px"}},r.createElement("p",{className:me.modalTitle},null===(Cn=Nn.processModule.module)||void 0===Cn?void 0:Cn.name),r.createElement("p",{className:me.modalSubTitle},null!==(wn=null===Nn||void 0===Nn||null===(Zn=Nn.processModule)||void 0===Zn||null===(Mn=Zn.module)||void 0===Mn||null===(Sn=Mn.options)||void 0===Sn?void 0:Sn.message)&&void 0!==wn?wn:"Transaction saved"))))))}))},63864:function(e,n,l){"use strict";l.d(n,{Z:function(){return N}});var o=l(1413),i=l(29439),t=l(67861),d=l(10904),a="SelectAndMultiselect_selectAndMultiselectHost__JL5Qu",u="SelectAndMultiselect_tiles__GNuMU",r="SelectAndMultiselect_fieldLabel__LpRMc",v="SelectAndMultiselect_multiselectComponent__0I85T",s="SelectAndMultiselect_multiselectMenuOverlayList__4knAb",c="SelectAndMultiselect_multiselectMenuOverlayListItem__fBe0B",p="SelectAndMultiselect_dropdownSelectMenuOverlayList__MRf2l",m="SelectAndMultiselect_dropdownSelectComponent__0UNAl",f="SelectAndMultiselect_dropdownInput__BPcW7",_="SelectAndMultiselect_menuButtonPlaceholder__V0wnB",y="SelectAndMultiselect_dropdownSelectMenuOverlayListItem__NM5xS",h="SelectAndMultiselect_center__Dukva",g=l(64967),b=l(27436),x="Card_statusCardContainer__m5Upe",E="Card_statusCard__3ICe3",C="Card_statusTitleContainer__C4HCR",w="Card_statusDescriptionContainer__E3WnX",Z=l(47144),M=l.n(Z),S=l(67861),k=function(e){var n=e.onClick,l=e.cardTitle,o=e.subtitle,i=void 0===o?"":o,t=e.className;return S.createElement("div",{className:M()(x,t),style:{display:"inline-block"},onClick:function(){return n()}},S.createElement("div",{className:E},S.createElement("div",{style:{padding:"15px"}},S.createElement("div",{className:C},S.createElement("p",null,l)),S.createElement("div",{className:w},S.createElement("p",null,i)))))},I=l(66918),N=function(e){var n=e.selectionType,l=void 0===n?"Dropdown":n,x=e.items,E=e.fieldIcon,C=e.placeholder,w=e.fieldLabel,Z=e.onChange,M=e.visible,S=void 0===M||M,N=e.mandatory,T=void 0!==N&&N,P=e.error,D=e.loading,A=e.onFocus,O=e.onClicked,L=void 0===O?function(){}:O,z=e.value,R=e.className,U=(e.onClose,e.onOpen),F=void 0===U?function(){}:U,q=e.titleProps,W=void 0===q?{}:q,B=e.children,Y=e.backgroundColor,H=(0,t.useState)(!0),j=(0,i.Z)(H,2),V=j[0],G=j[1];return t.createElement("div",{onFocus:A,onClick:F,className:a,style:{display:S?"":"none"}},w?t.createElement("label",{className:r,style:(0,o.Z)({},W)},w," ",T&&t.createElement("span",null,"*")):t.createElement(t.Fragment,null),t.createElement("div",{className:u},"Tiles"===l&&x.map((function(e,n){return t.createElement(k,{cardTitle:e.label,key:n,onClick:function(){Z("".concat(e.value))}})}))),"multiple"===l&&t.createElement(d.NU,{loading:D,items:null!==x&&void 0!==x?x:[],toggleLeftIcon:E,notags:!0,error:!!P,style:{backgroundColor:null!==Y&&void 0!==Y?Y:""},initialSelectedValues:z&&I.split(",",z),itemType:"checkboxes",tmiClassName:f,className:R||v,molclassname:s,moliclassname:c,menuButtonPlaceholder:R||_,placeholder:C,checkboxEmplacement:"right",onOpen:function(e){return L(e)},onChange:function(e){Z(e.map((function(e){return e.label})).toString())}},B),("single"===l||"Dropdown"===l||"decision"===l||"modules"===l)&&t.createElement(g.M,{style:{backgroundColor:Y},className:R||m,tmiClassName:f,molclassname:p,moliclassname:y,menuButtonPlaceholder:_,selectType:"checkbox",loading:D,title:"",error:P,placeholder:C,onOpen:function(e){return L(e)},onChange:function(e){Z("".concat(e.value))},items:null!==x&&void 0!==x?x:[],defaultSelected:z&&x.find((function(e){return e.label===z}))},B),D&&V?t.createElement(d.U7,{blured:!0,scrollable:!0,isOpen:D&&V,shadowedContainerStyle:{width:"200px"}},t.createElement("div",{className:h,style:{width:"200px",height:"50px"},onClick:function(){return G(!1)}},t.createElement(d.$j,{type:"BallTriangle",color:"black",height:30,width:"30px",style:{marginRight:"30px"}}),"Processing...")):null,P&&t.createElement(b.Z,{message:P}))}},52950:function(e,n,l){"use strict";l.d(n,{Z:function(){return L}});var o=l(29439),i=l(67861),t=(l(83381),l(10904)),d=l(93433),a=l(1413),u=l(50981),r=l.n(u),v=l(9825),s=l.n(v),c=l(39518),p=l(23280),m=l(63077),f=l(79492),_=l.n(f),y=l(85692),h=l(51481),g=l(89293),b=l(40694),x="TaskForm_newTaskFormHost__8YIFH",E="TaskForm_buttonsContainer__Y5EGp",C="TaskForm_datePickerWrapper__vAFgZ",w="TaskForm_saveButton__6OqA+",Z="TaskForm_calendarSVG__bXc-+",M=l(27436);l(66918);var S=function(e){var n=e.isOpen,l=e.onClose,o=e.loading,d=e.removeTask,a=e.taskId;return i.createElement(t.U7,{isOpen:n,onClose:function(){return l(!1)},backdropColor:!0,blured:!0,scrollable:!0,shadowedContainerStyle:{width:"35%"}},i.createElement("div",null,i.createElement("p",{style:{textAlign:"center",fontSize:"20px",color:"#4A4A4A",fontFamily:"var(--app-text-main-font)"}},"Are you sure do you want to delete this task?"),i.createElement(b.Z,{loading:o,clicked:function(){return d(a)},title:"Yes, Delete",style:{fontWeight:"500",marginLeft:"auto",marginRight:"auto"}}),i.createElement("p",{style:{cursor:"pointer",textAlign:"center",fontSize:"16px",fontWeight:600,color:"#4A4A4A",fontFamily:"var(--app-text-main-font)"},onClick:function(){return l(!1)},className:"go-back-text"},"No, Go Back")))},k=(0,c.$j)((function(e){var n=e.flowReducer,l=n.selectedProcess,o=n.companyUsersArray,i=n.companyProcesses,t=n.allModules,d=n.begunModule,a=n.companyData;return{selectedProcess:l,companyUsersArray:o,companyProcesses:i,allModules:t,user:e.sessionReducer.user,begunModule:d,companyData:a}}))((function(e){(0,p.s0)();var n,l,t,u,v,c,f,k,I,N,T,P,D,A,O,L,z,R,U,F,q,W,B,Y,H,j,V,G,J,K,Q,X,$,ee,ne,le,oe,ie,te,de,ae,ue,re,ve,se,ce,pe,me,fe,_e=e.showPriority,ye=void 0===_e||_e,he=e.selectedProcess,ge=e.isProcess,be=e.statuses,xe=e.companyUsersArray,Ee=e.task,Ce=e.isEdit,we=e.assigneeId,Ze=e.setDisplayModal,Me=e.begunModule,Se=e.onClose,ke=e.user,Ie=e.start_date,Ne=void 0===Ie?(new Date).setDate((new Date).getDate()):Ie,Te=e.span,Pe=void 0===Te||Te,De=e.setTaskLabels,Ae=e.allModules,Oe=e.onModuleSelect,Le=void 0===Oe?function(){}:Oe,ze=e.companyData,Re=(0,i.useState)(null!==Ee&&void 0!==Ee&&null!==(n=Ee.assignee)&&void 0!==n&&n.id?{assignee_id:null===Ee||void 0===Ee||null===(l=Ee.assignee)||void 0===l?void 0:l.id}:""),Ue=(0,o.Z)(Re,2),Fe=Ue[0],qe=Ue[1],We=(0,i.useState)(null!==Ee&&void 0!==Ee&&null!==(t=Ee.process)&&void 0!==t&&t.id?{process:null===Ee||void 0===Ee||null===(u=Ee.process)||void 0===u?void 0:u.id}:""),Be=(0,o.Z)(We,2),Ye=(Be[0],Be[1]),He=(0,i.useState)((null===Ee||void 0===Ee?void 0:Ee.name)||""),je=(0,o.Z)(He,2),Ve=je[0],Ge=je[1],Je=(0,i.useState)((null===Ee||void 0===Ee?void 0:Ee.status)||""),Ke=(0,o.Z)(Je,2),Qe=Ke[0],Xe=Ke[1],$e=(0,i.useState)((null===Ee||void 0===Ee?void 0:Ee.description)||""),en=(0,o.Z)($e,2),nn=en[0],ln=en[1],on=(0,i.useState)(null!==Ee&&void 0!==Ee&&null!==(v=Ee.add_info)&&void 0!==v&&v.end?new Date(null===Ee||void 0===Ee||null===(c=Ee.add_info)||void 0===c?void 0:c.end):null!==Ee&&void 0!==Ee&&Ee.due_date?new Date(null===Ee||void 0===Ee?void 0:Ee.due_date):(new Date).setDate((new Date).getDate())+36e5),tn=(0,o.Z)(on,2),dn=tn[0],an=tn[1],un=(0,i.useState)(null!==Ee&&void 0!==Ee&&null!==(f=Ee.add_info)&&void 0!==f&&f.start?new Date(null===Ee||void 0===Ee||null===(k=Ee.add_info)||void 0===k?void 0:k.start):Ne),rn=(0,o.Z)(un,2),vn=rn[0],sn=rn[1],cn=(0,i.useState)(null!==Ee&&void 0!==Ee&&null!==(I=Ee.add_info)&&void 0!==I&&I.end?new Date(null===Ee||void 0===Ee||null===(N=Ee.add_info)||void 0===N?void 0:N.end):Ne),pn=(0,o.Z)(cn,2),mn=pn[0],fn=pn[1],_n=(0,i.useState)(""),yn=(0,o.Z)(_n,2),hn=yn[0],gn=yn[1],bn=(0,i.useState)(!1),xn=(0,o.Z)(bn,2),En=xn[0],Cn=xn[1],wn=(0,i.useState)(!1),Zn=(0,o.Z)(wn,2),Mn=Zn[0],Sn=Zn[1],kn=(0,i.useState)(!1),In=(0,o.Z)(kn,2),Nn=In[0],Tn=In[1],Pn=(0,i.useState)(!1),Dn=(0,o.Z)(Pn,2),An=Dn[0],On=Dn[1],Ln=(0,i.useState)(ge),zn=(0,o.Z)(Ln,2),Rn=zn[0],Un=(zn[1],(0,i.useState)((null===Ee||void 0===Ee||null===(T=Ee.add_info)||void 0===T?void 0:T.priority)||"")),Fn=(0,o.Z)(Un,2),qn=Fn[0],Wn=Fn[1],Bn=(null===xe||void 0===xe?void 0:xe.length)>0?xe.map((function(e){return{label:e.first_name+" "+e.last_name,value:e.id}})):[];(0,i.useEffect)((function(){return Tn(!0),function(){Tn(!1)}}),[]),(0,i.useEffect)((function(){if(Rn&&null!==he&&void 0!==he&&he.id&&Nn){Ye({procedure_id:he.id}),ln(he.description)}}),[Rn,Nn,he.description,he.id]);var Yn={control:function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{boxShadow:"none","&:hover":{border:"1px solid var(--app-color-gray-lighter)"},position:"relative",height:"60px",width:"100%",border:"var(--app-color-gray-lighter) solid 1px",padding:"3px",paddingLeft:"10px",fontFamily:"var(--app-text-main-font)",fontSize:"1.4em",fontWeight:"700",color:"#4A4A4A",textAlign:"left",flex:"1 1 auto",justifyContent:"center",alignItems:"center",alignContent:"center",alignSelf:"center",margin:"10px 0 0 0 ",marginBottom:"20px"})},input:function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{fontFamily:"var(--app-text-main-font)",color:"#4A4A4A",width:"100%",textAlign:"left",fontSize:"0.8em",fontWeight:"700",alignSelf:"center"})},menu:function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{justifyContent:"center",alignItems:"center",verticalTextAlign:"center",alignContent:"center"})},menulist:function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{justifyContent:"center",alignItems:"center",verticalTextAlign:"center",alignContent:"center",fontFamily:"var(--app-text-main-font)"})},option:function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{minHeight:15,paddingTop:0,fontSize:"1.1em",color:"black",verticalTextAlign:"center",justifyContent:"center",alignItems:"center",alignContent:"center",fontFamily:"var(--app-text-main-font)"})},placeholder:function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{fontSize:"0.75em",lineHeight:"20px",color:"#4A4A4A",fontWeight:400,overflow:"hidden",fontFamily:"var(--app-text-main-font)"})},singleValue:function(e,n){var l=n.isDisabled?.5:1;return(0,a.Z)((0,a.Z)({},e),{},{opacity:l,transition:"opacity 300ms",marginLeft:"0px",fontSize:"0.75em",lineHeight:"20px",color:"#4A4A4A",fontFamily:"var(--app-text-main-font)"})},indicatorsContainer:function(e,n){n._data;return(0,a.Z)((0,a.Z)({},e),{},{marginTop:"auto",marginBottom:"auto",color:"#4A4A4A",size:7,":hover":{color:"gray"},width:"65px",height:"45px"})}},Hn=be?be.map((function(e){return{label:e,value:e}})):[{label:"Done",value:"Done"},{label:"Ongoing",value:"Ongoing"},{label:"In Review",value:"In Review"},{label:"Approved",value:"Approved"},{label:"Postponed",value:"Postponed"},{label:"Moved",value:"Moved"},{label:"Cancelled",value:"Cancelled"}];return i.createElement("div",{className:x},i.createElement(_(),{style:{flex:1}},i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==hn&&void 0!==hn&&null!==(P=hn.errors)&&void 0!==P&&P.name?"var(--app-color-error)":"",display:(null!==Ee&&void 0!==Ee&&Ee.completed_at,"")}},i.createElement("p",null,"Name"),i.createElement("textarea",{readOnly:void 0!==(null===Ee||void 0===Ee?void 0:Ee.id)&&(!(null===Ee||void 0===Ee||!Ee.completed_at)||ke.id!==(null===Ee||void 0===Ee||null===(D=Ee.creator)||void 0===D?void 0:D.id)),required:null===hn||void 0===hn||null===(A=hn.errors)||void 0===A?void 0:A.name,onFocus:function(){return gn("")},value:Ve,onChange:function(e){return Ge(e.target.value)}})),hn&&(null===hn||void 0===hn||null===(O=hn.errors)||void 0===O?void 0:O.name)&&i.createElement(M.Z,{message:hn.errors.name})),ge?i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==hn&&void 0!==hn&&null!==(L=hn.errors)&&void 0!==L&&L.due_date?"var(--app-color-error)":""}},"Start Date",i.createElement("div",null,i.createElement(s(),{showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,disabled:void 0!==(null===Ee||void 0===Ee?void 0:Ee.id)&&(!(null===Ee||void 0===Ee||!Ee.completed_at)||ke.id!==(null===Ee||void 0===Ee||null===(z=Ee.creator)||void 0===z?void 0:z.id)),placeholderText:"Start Date",customInput:i.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",border:"1px solid",borderColor:"var(--app-color-gray-lighter)"}},i.createElement("input",{disabled:!0,readOnly:void 0!==(null===Ee||void 0===Ee?void 0:Ee.id)&&(!(null===Ee||void 0===Ee||!Ee.completed_at)||ke.id!==(null===Ee||void 0===Ee||null===(R=Ee.creator)||void 0===R?void 0:R.id)),onFocus:function(){return gn("")},value:r()(vn).format("DD MMMM YYYY HH:mm"),type:"text",required:null===hn||void 0===hn||null===(U=hn.errors)||void 0===U?void 0:U.startDate,id:"start-date",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",border:"none",fontFamily:"var(--app-text-main-font)",fontSize:"16px",lineHeight:"20px",color:"#4A4A4A",textAlign:(null===vn||void 0===vn?void 0:vn.length)>0?"center":"left",maxWidth:"98%"},placeholder:"Start Date",onChange:function(e){}}),i.createElement(y.f,{className:Z})),className:C,selected:vn,onChange:function(e){r()(e).diff(r()(mn),"minutes")<1&&sn(e)}}))),i.createElement("br",null),i.createElement("label",{style:{color:null!==hn&&void 0!==hn&&null!==(F=hn.errors)&&void 0!==F&&F.due_date?"var(--app-color-error)":""}},"End Date",i.createElement("div",null,i.createElement(s(),{showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,disabled:void 0!==(null===Ee||void 0===Ee?void 0:Ee.id)&&(!(null===Ee||void 0===Ee||!Ee.completed_at)||ke.id!==(null===Ee||void 0===Ee||null===(q=Ee.creator)||void 0===q?void 0:q.id)),placeholderText:"End Date",customInput:i.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",border:"1px solid",borderColor:null!==hn&&void 0!==hn&&null!==(W=hn.errors)&&void 0!==W&&W.endDate?"var(--app-color-error)":"var(--app-color-gray-lighter)"}},i.createElement("input",{disabled:!0,readOnly:void 0!==(null===Ee||void 0===Ee?void 0:Ee.id)&&(!(null===Ee||void 0===Ee||!Ee.completed_at)||ke.id!==(null===Ee||void 0===Ee||null===(B=Ee.creator)||void 0===B?void 0:B.id)),onFocus:function(){return gn("")},value:r()(mn).format("DD MMMM YYYY HH:mm"),type:"text",required:null===hn||void 0===hn||null===(Y=hn.errors)||void 0===Y?void 0:Y.endDate,id:"due-date",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",border:"none",fontFamily:"var(--app-text-main-font)",fontSize:"16px",lineHeight:"20px",color:"#4A4A4A",textAlign:(null===mn||void 0===mn?void 0:mn.length)>0?"center":"left",maxWidth:"98%"},placeholder:"Due Date",onChange:function(e){}}),i.createElement(y.f,{className:Z})),className:C,selected:mn,onChange:function(e){r()(e).diff(r()(vn),"minutes")>0?!1===Pe?r()(e).format("DD")===r()(mn).format("DD")?fn(e):fn(mn):fn(e):fn(mn)}}))),hn&&(null===hn||void 0===hn||null===(H=hn.errors)||void 0===H?void 0:H.due_date)&&i.createElement(M.Z,{message:hn.errors.endDate})):i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==hn&&void 0!==hn&&null!==(j=hn.errors)&&void 0!==j&&j.due_date?"var(--app-color-error)":""}},"Due Date",i.createElement("div",{style:{marginTop:"10px"}},i.createElement(s(),{disabled:void 0!==(null===Ee||void 0===Ee?void 0:Ee.id)&&(!(null===Ee||void 0===Ee||!Ee.completed_at)||ke.id!==(null===Ee||void 0===Ee||null===(V=Ee.creator)||void 0===V?void 0:V.id)),placeholderText:"Due Date",customInput:i.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",border:"1px solid",borderColor:null!==hn&&void 0!==hn&&null!==(G=hn.errors)&&void 0!==G&&G.due_date?"var(--app-color-error)":"var(--app-color-gray-lighter)"}},i.createElement("input",{readOnly:void 0!==(null===Ee||void 0===Ee?void 0:Ee.id)&&(!(null===Ee||void 0===Ee||!Ee.completed_at)||ke.id!==(null===Ee||void 0===Ee||null===(J=Ee.creator)||void 0===J?void 0:J.id)),onFocus:function(){return gn("")},value:r()(dn).format("DD MMMM YYYY HH:mm"),type:"text",required:null===hn||void 0===hn||null===(K=hn.errors)||void 0===K?void 0:K.due_date,id:"due-date",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",border:"none",fontFamily:"var(--app-text-main-font)",fontSize:"16px",lineHeight:"20px",color:"#4A4A4A",textAlign:(null===dn||void 0===dn?void 0:dn.length)>0?"center":"left",maxWidth:"98%"},placeholder:"Due Date",onChange:function(e){}}),i.createElement(y.f,{className:Z})),className:C,selected:dn,onChange:function(e){an(e)}}))),hn&&(null===hn||void 0===hn||null===(Q=hn.errors)||void 0===Q?void 0:Q.due_date)&&i.createElement(M.Z,{message:hn.errors.due_date})),i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==hn&&void 0!==hn&&null!==(X=hn.errors)&&void 0!==X&&X.description?"var(--app-color-error)":""}},"Description",i.createElement("textarea",{style:{marginTop:"10px"},disabled:!(null===Ee||void 0===Ee||!Ee.completed_at),onFocus:function(){return gn("")},required:null===hn||void 0===hn||null===($=hn.errors)||void 0===$?void 0:$.description,value:nn,onChange:function(e){return ln(e.target.value)}})),hn&&(null===hn||void 0===hn||null===(ee=hn.errors)||void 0===ee?void 0:ee.description)&&i.createElement(M.Z,{message:hn.errors.description})),i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==hn&&void 0!==hn&&null!==(ne=hn.errors)&&void 0!==ne&&ne.assignee_id?"var(--app-color-error)":""}},"Assignee",null!==Ee&&void 0!==Ee&&Ee.completed_at?i.createElement("div",null,i.createElement("input",{style:{cursor:"auto"},defaultValue:(null===Ee||void 0===Ee?void 0:Ee.assignee.first_name)+" "+(null===Ee||void 0===Ee?void 0:Ee.assignee.last_name),readOnly:!0})):i.createElement(m.ZP,{onFocus:function(){return gn("")},isSearchable:!1,key:"Assignee",styles:Yn,defaultInputValue:"",components:{DropdownIndicator:g.ms},placeholder:"",value:Bn[Bn.findIndex((function(e){return e.value===Fe.assignee_id}))],options:Bn.concat([{label:"None",value:""}]),onChange:function(e){e&&qe((function(n){return(0,a.Z)((0,a.Z)({},n),{},{assignee_id:e.value})}))}})),hn&&(null===hn||void 0===hn||null===(le=hn.errors)||void 0===le?void 0:le.assignee_id)&&i.createElement(M.Z,{message:hn.errors.assignee_id})),(null===e||void 0===e||null===(oe=e.task)||void 0===oe?void 0:oe.creator)&&i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",null,i.createElement("p",null,"Creator"),i.createElement("input",{style:{cursor:"auto"},defaultValue:(null===Ee||void 0===Ee?void 0:Ee.creator.first_name)+" "+(null===Ee||void 0===Ee?void 0:Ee.creator.last_name),readOnly:!0})),i.createElement("label",null,i.createElement("p",null,"Created Date"),i.createElement("input",{style:{cursor:"auto"},defaultValue:r()(null===Ee||void 0===Ee?void 0:Ee.created_at).format("DD MMMM YYYY"),readOnly:!0}))),i.createElement("div",{style:{marginBottom:"10px"}},ye&&i.createElement("label",{style:{color:null!==hn&&void 0!==hn&&null!==(ie=hn.errors)&&void 0!==ie&&ie.procedure_id?"var(--app-color-error)":""}},i.createElement("p",null,"Priority"),null!==Ee&&void 0!==Ee&&Ee.completed_at?i.createElement("input",{style:{cursor:"auto"},defaultValue:null!==(te=null===Ee||void 0===Ee?void 0:Ee.priority)&&void 0!==te?te:"Medium",readOnly:!0}):i.createElement(m.ZP,{onFocus:function(){return gn("")},key:"priority",styles:Yn,defaultInputValue:"",components:{DropdownIndicator:g.ms},placeholder:"",value:g._l.find((function(e){return e.value===qn})),options:g._l,onChange:function(e){return Wn(e.value)}})),i.createElement("label",{style:{color:null!==hn&&void 0!==hn&&null!==(de=hn.errors)&&void 0!==de&&de.procedure_id?"var(--app-color-error)":""}},i.createElement("p",null,"Status"),null!==Ee&&void 0!==Ee&&Ee.completed_at?i.createElement("input",{style:{cursor:"auto"},defaultValue:null!==(ae=null===Ee||void 0===Ee?void 0:Ee.status)&&void 0!==ae?ae:"No status set",readOnly:!0}):i.createElement(m.ZP,{onFocus:function(){return gn("")},key:"status",styles:Yn,defaultInputValue:"",components:{DropdownIndicator:g.ms},placeholder:"",value:Hn.find((function(e){return e.value===Qe})),options:ke.id===(null===Ee||void 0===Ee||null===(ue=Ee.creator)||void 0===ue?void 0:ue.id)?[].concat((0,d.Z)(Hn),[{label:null===ze||void 0===ze||null===(re=ze.misc_info)||void 0===re?void 0:re.lock,value:null===ze||void 0===ze||null===(ve=ze.misc_info)||void 0===ve?void 0:ve.lock},{label:"No status",value:""}]):Hn,onChange:function(e){return Xe(e.value)}})),hn&&(null===hn||void 0===hn||null===(se=hn.errors)||void 0===se?void 0:se.procedure_id)&&i.createElement(M.Z,{message:hn.errors.procedure_id})),i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==hn&&void 0!==hn&&null!==(ce=hn.errors)&&void 0!==ce&&ce.procedure_id?"var(--app-color-error)":""}},i.createElement("p",null,"Module"),null!==Ee&&void 0!==Ee&&null!==(pe=Ee.add_info)&&void 0!==pe&&pe.module_id||null!==Ee&&void 0!==Ee&&Ee.completed_at?i.createElement("input",{style:{cursor:"auto"},defaultValue:null===(me=Ae.find((function(e){var n;return e.id===(null===Ee||void 0===Ee||null===(n=Ee.add_info)||void 0===n?void 0:n.module_id)})))||void 0===me?void 0:me.name,readOnly:!0}):i.createElement(m.ZP,{onFocus:function(){return gn("")},key:"module",styles:Yn,components:{DropdownIndicator:g.ms},placeholder:"",options:Ae.map((function(e){return{label:e.name,value:e.id,module:e}})),onChange:function(e){Me.processModule=(0,a.Z)((0,a.Z)({},e.module.procedure),{},{module_id:e.value}),De({valueL:"Value"}),Le(e.module)}})),hn&&(null===hn||void 0===hn||null===(fe=hn.errors)||void 0===fe?void 0:fe.procedure_id)&&i.createElement(M.Z,{message:hn.errors.procedure_id})),hn&&(null===hn||void 0===hn?void 0:hn.message)&&i.createElement(M.Z,{message:hn.message})),null!==Ee&&void 0!==Ee&&Ee.completed_at?i.createElement("div",{className:E},i.createElement(b.Z,{clicked:Se,className:w,title:"Close"})):Ce?i.createElement("div",{className:E},i.createElement(b.Z,{clicked:Se,className:w,title:"Close"}),i.createElement(b.Z,{light:!0,clicked:function(){return On(!0)},className:w,title:"Delete"}),i.createElement(b.Z,{light:!0,clicked:function(){return function(){var n,l;Cn(!0);var o=Fe?Fe.assignee_id:we;(0,h.xJ)({assignee_id:o,name:Ve,description:nn,due_date:r()(dn).format("YYYY-MM-DD HH:mm"),status:null!==Qe&&void 0!==Qe?Qe:"",add_info:(0,a.Z)((0,a.Z)({},null===e||void 0===e||null===(n=e.task)||void 0===n?void 0:n.add_info),{},{priority:null!==qn&&void 0!==qn?qn:"",start:vn,end:mn})},null===e||void 0===e||null===(l=e.task)||void 0===l?void 0:l.id).subscribe({next:function(e){Cn(!1),Ze(!1)},error:function(e){e&&(gn(e.data),Cn(!1))},complete:function(){}})}()},className:w,title:"Update",loading:En})):i.createElement("div",{className:E},i.createElement(b.Z,{clicked:Se,className:w,title:"Close"}),i.createElement(b.Z,{light:!0,clicked:function(){return Cn(!0),void(0,h.vr)(null!==Me&&void 0!==Me&&Me.processModule?{newAssignee:Fe,taskProcess:null===Me||void 0===Me?void 0:Me.processModule,taskName:Ve,taskDescription:nn,dueDate:r()(mn).format("YYYY-MM-DD HH:mm"),add_info:{module_id:null===Me||void 0===Me?void 0:Me.processModule.module_id,priority:qn,start:vn,end:mn}}:{newAssignee:Fe,taskName:Ve,taskDescription:nn,dueDate:r()(dn).format("YYYY-MM-DD HH:mm"),add_info:{priority:null!==qn&&void 0!==qn?qn:""}}).subscribe({next:function(e){Se()},error:function(e){e&&(gn(e.data),Cn(!1))},complete:function(){Cn(!1),!Rn&&Ze(!1)}})},className:w,title:"Save",loading:En})),An&&i.createElement(S,{taskId:Ee.id,isOpen:An,removeTask:function(e){Sn(!0),(0,h._5)(e).subscribe({next:function(e){Sn(!1),On(!1)},error:function(e){Sn(!1)},complete:function(){Ze(!1)}})},loading:Mn,onClose:On}))})),I=l(73500);l(63864),l(66918);var N=function(e){var n=e.isOpen,l=e.onClose,o=e.loading,d=e.removeTask,a=e.taskId;return i.createElement(t.U7,{isOpen:n,onClose:function(){return l(!1)},backdropColor:!0,blured:!0,scrollable:!0,shadowedContainerStyle:{width:"35%"}},i.createElement("div",null,i.createElement("p",{style:{textAlign:"center",fontSize:"20px",color:"#4A4A4A",fontFamily:"var(--app-text-main-font)"}},"Are you sure do you want to delete this task?"),i.createElement(b.Z,{loading:o,clicked:function(){return d(a)},title:"Yes, Delete",style:{fontWeight:"500",marginLeft:"auto",marginRight:"auto"}}),i.createElement("p",{style:{cursor:"pointer",textAlign:"center",fontSize:"16px",fontWeight:600,color:"#4A4A4A",fontFamily:"var(--app-text-main-font)"},onClick:function(){return l(!1)},className:"go-back-text"},"No, Go Back")))},T=(0,c.$j)((function(e){var n=e.flowReducer,l=n.selectedProcess,o=n.companyUsersArray,i=n.companyProcesses,t=n.allModules,d=n.begunModule,a=n.companyData;return{selectedProcess:l,companyUsersArray:o,companyProcesses:i,allModules:t,user:e.sessionReducer.user,begunModule:d,companyData:a}}))((function(e){var n,l,t,u,v,c,p,f,S,k,I,T,P,D,A,O,L,z,R,U,F,q,W,B,Y,H,j,V,G,J,K,Q,X,$,ee,ne,le,oe,ie,te,de,ae,ue,re,ve,se,ce,pe,me,fe,_e,ye=e.selectedProcess,he=e.isProcess,ge=e.statuses,be=e.companyUsersArray,xe=e.task,Ee=e.isEdit,Ce=e.assigneeId,we=e.setDisplayModal,Ze=e.begunModule,Me=e.onClose,Se=e.user,ke=e.start_date,Ie=void 0===ke?(new Date).setDate((new Date).getDate()):ke,Ne=e.span,Te=void 0===Ne||Ne,Pe=e.labels,De=e.onUpdate,Ae=void 0===De?function(){}:De,Oe=e.companyData,Le=e.save,ze=void 0===Le||Le,Re=(0,i.useState)(null!==xe&&void 0!==xe&&null!==(n=xe.assignee)&&void 0!==n&&n.id?{assignee_id:null===xe||void 0===xe||null===(l=xe.assignee)||void 0===l?void 0:l.id}:""),Ue=(0,o.Z)(Re,2),Fe=Ue[0],qe=Ue[1],We=(0,i.useState)(null!==xe&&void 0!==xe&&null!==(t=xe.process)&&void 0!==t&&t.id?{process:null===xe||void 0===xe||null===(u=xe.process)||void 0===u?void 0:u.id}:""),Be=(0,o.Z)(We,2),Ye=(Be[0],Be[1]),He=(0,i.useState)((null===xe||void 0===xe?void 0:xe.name)||""),je=(0,o.Z)(He,2),Ve=je[0],Ge=je[1],Je=(0,i.useState)((null===xe||void 0===xe?void 0:xe.status)||""),Ke=(0,o.Z)(Je,2),Qe=Ke[0],Xe=Ke[1],$e=(0,i.useState)((null===xe||void 0===xe?void 0:xe.description)||""),en=(0,o.Z)($e,2),nn=en[0],ln=en[1],on=(0,i.useState)(null!==xe&&void 0!==xe&&xe.due_date?new Date(null===xe||void 0===xe?void 0:xe.due_date):(new Date).setDate((new Date).getDate())+36e5),tn=(0,o.Z)(on,2),dn=tn[0],an=(tn[1],(0,i.useState)(null!==xe&&void 0!==xe&&null!==(v=xe.add_info)&&void 0!==v&&v.start?new Date(null===xe||void 0===xe||null===(c=xe.add_info)||void 0===c?void 0:c.start):Ie)),un=(0,o.Z)(an,2),rn=un[0],vn=un[1],sn=(0,i.useState)(null!==xe&&void 0!==xe&&null!==(p=xe.add_info)&&void 0!==p&&p.end?new Date(null===xe||void 0===xe||null===(f=xe.add_info)||void 0===f?void 0:f.end):Ie),cn=(0,o.Z)(sn,2),pn=cn[0],mn=cn[1],fn=(0,i.useState)(null===xe||void 0===xe||null===(S=xe.add_info)||void 0===S?void 0:S.value),_n=(0,o.Z)(fn,2),yn=_n[0],hn=_n[1],gn=(0,i.useState)(""),bn=(0,o.Z)(gn,2),xn=bn[0],En=bn[1],Cn=(0,i.useState)(!1),wn=(0,o.Z)(Cn,2),Zn=wn[0],Mn=wn[1],Sn=(0,i.useState)(!1),kn=(0,o.Z)(Sn,2),In=kn[0],Nn=kn[1],Tn=(0,i.useState)(!1),Pn=(0,o.Z)(Tn,2),Dn=Pn[0],An=Pn[1],On=(0,i.useState)(!1),Ln=(0,o.Z)(On,2),zn=Ln[0],Rn=Ln[1],Un=(0,i.useState)(he),Fn=(0,o.Z)(Un,2),qn=Fn[0],Wn=(Fn[1],(0,i.useState)((null===xe||void 0===xe||null===(k=xe.add_info)||void 0===k?void 0:k.priority)||"")),Bn=(0,o.Z)(Wn,2),Yn=Bn[0],Hn=(Bn[1],(null===be||void 0===be?void 0:be.length)>0?Ee&&(null===xe||void 0===xe||null===(I=xe.creator)||void 0===I?void 0:I.id)!==Se.id?[{label:Se.first_name+" "+Se.last_name,value:Se.id}]:be.map((function(e){return{label:e.first_name+" "+e.last_name,value:e.id}})):[]);(0,i.useEffect)((function(){return An(!0),function(){An(!1)}}),[]),(0,i.useEffect)((function(){if(qn&&null!==ye&&void 0!==ye&&ye.id&&Dn){Ye({procedure_id:ye.id}),ln(ye.description)}}),[qn,Dn,ye.description,ye.id]);var jn={control:function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{boxShadow:"none","&:hover":{border:"1px solid var(--app-color-gray-lighter)"},position:"relative",height:"60px",width:"100%",border:"var(--app-color-gray-lighter) solid 1px",padding:"3px",fontFamily:"var(--app-text-main-font)",fontSize:"1.4em",fontWeight:"700",color:"#4A4A4A",textAlign:"left",flex:"1 1 auto",justifyContent:"center",alignItems:"center",alignContent:"center",alignSelf:"center"})},input:function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{fontFamily:"var(--app-text-main-font)",color:"#4A4A4A",width:"100%",textAlign:"left",fontSize:"0.8em",fontWeight:"700",alignSelf:"center"})},menu:function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{justifyContent:"center",alignItems:"center",verticalTextAlign:"center",alignContent:"center"})},menulist:function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{justifyContent:"center",alignItems:"center",verticalTextAlign:"center",alignContent:"center",fontFamily:"var(--app-text-main-font)"})},option:function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{minHeight:15,paddingTop:0,fontSize:"1.1em",color:"black",verticalTextAlign:"center",justifyContent:"center",alignItems:"center",alignContent:"center",fontFamily:"var(--app-text-main-font)",fontWeight:"bold"})},placeholder:function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{fontSize:"0.75em",lineHeight:"20px",color:"#4A4A4A",fontWeight:400,overflow:"hidden",fontFamily:"var(--app-text-main-font)"})},singleValue:function(e,n){var l=n.isDisabled?.5:1;return(0,a.Z)((0,a.Z)({},e),{},{opacity:l,transition:"opacity 300ms",marginLeft:"0px",fontSize:"0.75em",lineHeight:"20px",color:"#4A4A4A",fontFamily:"var(--app-text-main-font)"})},indicatorsContainer:function(e,n){n._data;return(0,a.Z)((0,a.Z)({},e),{},{marginTop:"auto",marginBottom:"auto",color:"#4A4A4A",size:7,":hover":{color:"gray"},width:"65px",height:"45px"})}},Vn=ge?ge.map((function(e){return{label:e,value:e}})):[{label:"Ongoing",value:"Ongoing"},{label:"In Review",value:"In Review"},{label:"Approved",value:"Approved"},{label:"Postponed",value:"Postponed"},{label:"Moved",value:"Moved"},{label:"Cancelled",value:"Cancelled"}];return i.createElement("div",{className:x},i.createElement(_(),{style:{flex:1}},i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==xn&&void 0!==xn&&null!==(T=xn.errors)&&void 0!==T&&T.name?"var(--app-color-error)":"",display:(null!==xe&&void 0!==xe&&xe.completed_at,"")}},i.createElement("p",null,null!==(P=null===Pe||void 0===Pe?void 0:Pe.title)&&void 0!==P?P:"Event Name"),i.createElement("textarea",{readOnly:void 0!==(null===xe||void 0===xe?void 0:xe.id)&&(!(null===xe||void 0===xe||!xe.completed_at)||Se.id!==(null===xe||void 0===xe||null===(D=xe.creator)||void 0===D?void 0:D.id)),required:null===xn||void 0===xn||null===(A=xn.errors)||void 0===A?void 0:A.name,onFocus:function(){return En("")},value:Ve,onChange:function(e){return Ge(e.target.value)}})),xn&&(null===xn||void 0===xn||null===(O=xn.errors)||void 0===O?void 0:O.name)&&i.createElement(M.Z,{message:xn.errors.name})),i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==xn&&void 0!==xn&&null!==(L=xn.errors)&&void 0!==L&&L.name?"var(--app-color-error)":"",display:(null!==xe&&void 0!==xe&&xe.completed_at,"")}},i.createElement("p",null,null!==(z=null===Pe||void 0===Pe?void 0:Pe.description)&&void 0!==z?z:"Description"),i.createElement("textarea",{style:{minHeight:"200px"},readOnly:void 0!==(null===xe||void 0===xe?void 0:xe.id)&&(!(null===xe||void 0===xe||!xe.completed_at)||Se.id!==(null===xe||void 0===xe||null===(R=xe.creator)||void 0===R?void 0:R.id)),required:null===xn||void 0===xn||null===(U=xn.errors)||void 0===U?void 0:U.description,onFocus:function(){return En("")},value:nn,onChange:function(e){return ln(e.target.value)}})),xn&&(null===xn||void 0===xn||null===(F=xn.errors)||void 0===F?void 0:F.name)&&i.createElement(M.Z,{message:xn.errors.description})),(null===Pe||void 0===Pe?void 0:Pe.valueL)&&i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==xn&&void 0!==xn&&null!==(q=xn.errors)&&void 0!==q&&q.name?"var(--app-color-error)":""}},i.createElement("p",null,null===Pe||void 0===Pe?void 0:Pe.valueL),i.createElement("input",{readOnly:void 0!==(null===xe||void 0===xe?void 0:xe.id)&&(!(null===xe||void 0===xe||!xe.completed_at)||Se.id!==(null===xe||void 0===xe||null===(W=xe.creator)||void 0===W?void 0:W.id)),onFocus:function(){return En("")},value:yn,onChange:function(e){return hn(e.target.value)},onBlur:function(){var e,n,l;null!==Ze&&void 0!==Ze&&null!==(e=Ze.processModule)&&void 0!==e&&null!==(n=e.module)&&void 0!==n&&null!==(l=n.options)&&void 0!==l&&l.credits&&+yn>+(null===Se||void 0===Se?void 0:Se.wallet)&&(hn("0.00"),En({errors:{value:"You have insufficient funds in your wallet. You currently have ".concat(null===Se||void 0===Se?void 0:Se.wallet,".")}}))}})),xn&&(null===xn||void 0===xn||null===(B=xn.errors)||void 0===B?void 0:B.value)&&i.createElement(M.Z,{message:xn.errors.value})),i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==xn&&void 0!==xn&&null!==(Y=xn.errors)&&void 0!==Y&&Y.due_date?"var(--app-color-error)":""}},i.createElement("p",null,null!==(H=null===Pe||void 0===Pe?void 0:Pe.start)&&void 0!==H?H:"Start Date"),i.createElement(s(),{showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,disabled:!(void 0===(null===xe||void 0===xe?void 0:xe.id)||!(null!==xe&&void 0!==xe&&xe.completed_at||Se.id!==(null===xe||void 0===xe||null===(j=xe.creator)||void 0===j?void 0:j.id))),placeholderText:"Start Date",customInput:i.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",border:"1px solid",borderColor:"var(--app-color-gray-lighter)"}},i.createElement("input",{disabled:!0,readOnly:void 0!==(null===xe||void 0===xe?void 0:xe.id)&&(!(null===xe||void 0===xe||!xe.completed_at)||Se.id!==(null===xe||void 0===xe||null===(V=xe.creator)||void 0===V?void 0:V.id)),onFocus:function(){return En("")},value:void 0!==(null===xe||void 0===xe?void 0:xe.id)&&(null!==xe&&void 0!==xe&&xe.completed_at||Se.id!==(null===xe||void 0===xe||null===(G=xe.creator)||void 0===G?void 0:G.id))?"".concat(r()(rn).format("DD MMMM YYYY HH:mm")):r()(rn).format("DD MMMM YYYY HH:mm"),type:"text",required:null===xn||void 0===xn||null===(J=xn.errors)||void 0===J?void 0:J.startDate,id:"start-date",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",border:"none",fontFamily:"var(--app-text-main-font)",fontSize:"16px",lineHeight:"20px",color:"#4A4A4A",textAlign:(null===rn||void 0===rn?void 0:rn.length)>0?"center":"left",maxWidth:"98%"},placeholder:"Start Date",onChange:function(e){}}),i.createElement(y.f,{className:Z})),className:C,selected:rn,onChange:function(e){r()(e).diff(r()(pn),"minutes")<1?vn(e):(vn(e),mn(e))}}))),(void 0===(null===xe||void 0===xe?void 0:xe.id)||!(null!==xe&&void 0!==xe&&xe.completed_at)&&Se.id===(null===xe||void 0===xe||null===(K=xe.creator)||void 0===K?void 0:K.id))&&i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==xn&&void 0!==xn&&null!==(Q=xn.errors)&&void 0!==Q&&Q.due_date?"var(--app-color-error)":""}},i.createElement("p",null,null!==(X=null===Pe||void 0===Pe?void 0:Pe.end)&&void 0!==X?X:"End Date"),i.createElement(s(),{showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,disabled:void 0!==(null===xe||void 0===xe?void 0:xe.id)&&(!(null===xe||void 0===xe||!xe.completed_at)||Se.id!==(null===xe||void 0===xe||null===($=xe.creator)||void 0===$?void 0:$.id)),placeholderText:"End Date",customInput:i.createElement("div",{id:"custom-input",style:{cursor:"pointer",display:"flex",justifyContent:"center",width:"100%",alignItems:"stretch",border:"1px solid",borderColor:null!==xn&&void 0!==xn&&null!==(ee=xn.errors)&&void 0!==ee&&ee.endDate?"var(--app-color-error)":"var(--app-color-gray-lighter)"}},i.createElement("input",{disabled:!0,readOnly:void 0!==(null===xe||void 0===xe?void 0:xe.id)&&(!(null===xe||void 0===xe||!xe.completed_at)||Se.id!==(null===xe||void 0===xe||null===(ne=xe.creator)||void 0===ne?void 0:ne.id)),onFocus:function(){return En("")},value:r()(pn).format("DD MMMM YYYY HH:mm"),type:"text",required:null===xn||void 0===xn||null===(le=xn.errors)||void 0===le?void 0:le.endDate,id:"due-date",style:{flex:1,marginTop:"auto",marginBottom:"auto",outline:"none",border:"none",fontFamily:"var(--app-text-main-font)",fontSize:"16px",lineHeight:"20px",color:"#4A4A4A",textAlign:(null===pn||void 0===pn?void 0:pn.length)>0?"center":"left",maxWidth:"98%"},placeholder:"Due Date",onChange:function(e){}}),i.createElement(y.f,{className:Z})),className:C,selected:pn,onChange:function(e){r()(e).diff(r()(rn),"minutes")>0?!1===Te?r()(e).format("DD")===r()(pn).format("DD")?mn(e):mn(pn):mn(e):mn(pn)}}))),xn&&(null===xn||void 0===xn||null===(oe=xn.errors)||void 0===oe?void 0:oe.due_date)&&i.createElement(M.Z,{message:xn.errors.endDate}),i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==xn&&void 0!==xn&&null!==(ie=xn.errors)&&void 0!==ie&&ie.assignee_id?"var(--app-color-error)":""}},i.createElement("p",null,null!==(te=null===Pe||void 0===Pe?void 0:Pe.assignee)&&void 0!==te?te:"Assignee"),null!==xe&&void 0!==xe&&xe.completed_at?i.createElement("div",null,i.createElement("input",{style:{cursor:"auto"},placeholder:(null===xe||void 0===xe?void 0:xe.assignee.first_name)+" "+(null===xe||void 0===xe?void 0:xe.assignee.last_name),readOnly:!0})):i.createElement(m.ZP,{onFocus:function(){return En("")},isSearchable:!1,key:"Assignee",styles:jn,defaultInputValue:"",components:{DropdownIndicator:g.ms},placeholder:"",value:Hn[Hn.findIndex((function(e){return e.value===Fe.assignee_id}))],options:Hn.concat([{label:"None",value:""}]),onChange:function(e){e&&qe((function(n){return(0,a.Z)((0,a.Z)({},n),{},{assignee_id:e.value})}))}})),xn&&(null===xn||void 0===xn||null===(de=xn.errors)||void 0===de?void 0:de.assignee_id)&&i.createElement(M.Z,{message:xn.errors.assignee_id})),((null===xe||void 0===xe?void 0:xe.completed_at)||Se.id===(null===xe||void 0===xe||null===(ae=xe.creator)||void 0===ae?void 0:ae.id))&&i.createElement("div",{style:{marginBottom:"10px"}},i.createElement("label",{style:{color:null!==xn&&void 0!==xn&&null!==(ue=xn.errors)&&void 0!==ue&&ue.procedure_id?"var(--app-color-error)":""}},i.createElement("p",null,"Status"),null!==xe&&void 0!==xe&&xe.completed_at?i.createElement("input",{style:{cursor:"auto"},placeholder:null!==(re=null===xe||void 0===xe?void 0:xe.status)&&void 0!==re?re:"No status set",readOnly:!0}):Se.id===(null===xe||void 0===xe||null===(ve=xe.creator)||void 0===ve?void 0:ve.id)?i.createElement(m.ZP,{onFocus:function(){return En("")},key:"status",isSearchable:!1,styles:jn,defaultInputValue:"",components:{DropdownIndicator:g.ms},placeholder:"",value:Vn.find((function(e){return e.value===Qe})),options:Se.id===(null===xe||void 0===xe||null===(se=xe.creator)||void 0===se?void 0:se.id)?[].concat((0,d.Z)(Vn),[{label:null===Oe||void 0===Oe||null===(ce=Oe.misc_info)||void 0===ce?void 0:ce.lock,value:null===Oe||void 0===Oe||null===(pe=Oe.misc_info)||void 0===pe?void 0:pe.lock},{label:"No status",value:""}]):Vn,onChange:function(e){return Xe(e.value)}}):i.createElement("input",{style:{cursor:"auto"},placeholder:null!==(me=null===xe||void 0===xe?void 0:xe.status)&&void 0!==me?me:"No status set",readOnly:!0})),xn&&(null===xn||void 0===xn||null===(fe=xn.errors)||void 0===fe?void 0:fe.procedure_id)&&i.createElement(M.Z,{message:xn.errors.procedure_id})),xn&&(null===xn||void 0===xn?void 0:xn.message)&&i.createElement(M.Z,{message:xn.message})),null!==xe&&void 0!==xe&&xe.completed_at?i.createElement("div",{className:E},i.createElement(b.Z,{clicked:Me,className:w,title:"Close"})):Ee?i.createElement("div",{className:E},i.createElement(b.Z,{clicked:Me,className:w,title:"Close"}),ze&&Se.id===(null===(_e=xe.creator)||void 0===_e?void 0:_e.id)&&i.createElement(b.Z,{light:!0,clicked:function(){return Rn(!0)},className:w,title:"Delete"}),ze&&i.createElement(b.Z,{light:!0,clicked:function(){return function(){var n,l;Mn(!0);var o=Fe?Fe.assignee_id:Ce;(0,h.xJ)({assignee_id:o,name:Ve,description:nn,due_date:r()(dn).format("YYYY-MM-DD HH:mm"),status:null!==Qe&&void 0!==Qe?Qe:"",add_info:(0,a.Z)((0,a.Z)({},null===e||void 0===e||null===(n=e.task)||void 0===n?void 0:n.add_info),{},{priority:null!==Yn&&void 0!==Yn?Yn:"",start:rn,end:pn,value:yn})},null===e||void 0===e||null===(l=e.task)||void 0===l?void 0:l.id).subscribe({next:function(e){Ae(e),Mn(!1),we(!1)},error:function(e){e&&(En(e.data),Mn(!1))},complete:function(){}})}()},className:w,title:"Update",loading:Zn}),!ze&&i.createElement(b.Z,{title:"Assign",light:!0,clicked:function(){var n;Ae((0,a.Z)((0,a.Z)({},null===e||void 0===e?void 0:e.task),{},{assignee_id:Fe?Fe.assignee_id:Ce,name:Ve,description:nn,due_date:r()(dn).format("YYYY-MM-DD HH:mm"),status:null!==Qe&&void 0!==Qe?Qe:"",add_info:(0,a.Z)((0,a.Z)({},null===e||void 0===e||null===(n=e.task)||void 0===n?void 0:n.add_info),{},{priority:null!==Yn&&void 0!==Yn?Yn:"",start:rn,end:pn,value:yn})})),we(!1)},className:w})):i.createElement("div",{className:E},i.createElement(b.Z,{clicked:Me,className:w,title:"Close"}),i.createElement(b.Z,{light:!0,clicked:function(){return Mn(!0),void(0,h.vr)({newAssignee:Fe,taskProcess:null===Ze||void 0===Ze?void 0:Ze.processModule,taskName:Ve,taskDescription:null!==nn&&void 0!==nn?nn:"-",dueDate:r()(pn).format("YYYY-MM-DD HH:mm"),add_info:{module_id:null===Ze||void 0===Ze?void 0:Ze.processModule.module_id,priority:Yn,start:rn,end:pn,value:yn}}).subscribe({next:function(e){Me()},error:function(e){e&&(En(e.data),Mn(!1))},complete:function(){Mn(!1),!qn&&we(!1)}})},className:w,title:"Save",loading:Zn})),zn&&i.createElement(N,{taskId:xe.id,isOpen:zn,removeTask:function(e){Nn(!0),(0,h._5)(e).subscribe({next:function(e){Nn(!1),Rn(!1)},error:function(e){Nn(!1)},complete:function(){we(!1)}})},loading:In,onClose:Rn}))})),P=(l(64967),l(75105)),D=l(11577),A=l(88374),O=l(88827),L=(0,c.$j)((function(e){var n=e.flowReducer,l=n.allModules,o=n.begunModule,i=n.companyUsersArray;return{allModules:l,user:e.sessionReducer.user,begunModule:o,companyUsersArray:i}}))((function(e){var n=e.isEdit,l=e.modalVisible,d=e.heading,a=e.onClose,u=e.isProcess,r=e.setIsProcessBegin,v=e.task,s=e.priority,c=void 0===s||s,p=e.shadowedContainerStyle,m=e.statuses,f=e.start_date,_=e.span,y=e.labels,h=void 0===y?{}:y,g=e.onUpdate,b=void 0===g?function(){}:g,x=e.save,E=void 0===x||x,C=e.companyUsersArray,w=(0,i.useState)(h),Z=(0,o.Z)(w,2),M=Z[0],S=Z[1],N=(0,i.useState)(u),L=(0,o.Z)(N,2),z=L[0],R=L[1],U=(0,i.useState)(d),F=(0,o.Z)(U,2),q=F[0],W=F[1];return(0,i.useEffect)((function(){var e=[];if(v){var n,l;if(!C.find((function(e){var n;return e.id===(null===v||void 0===v||null===(n=v.creator)||void 0===n?void 0:n.id)})))e=e.concat(null===(n=v.creator)||void 0===n?void 0:n.id);if(!C.find((function(e){var n;return e.id===(null===v||void 0===v||null===(n=v.assignee)||void 0===n?void 0:n.id)})))e=e.concat(null===(l=v.assignee)||void 0===l?void 0:l.id);e.length>0&&(0,P.VG)(e).pipe((0,D.P)()).subscribe({next:function(e){O.h.dispatch((0,A.NY)(C.concat(e)))}})}}),[]),i.createElement("div",null,i.createElement(t.U7,{scrollable:!0,shadowedContainerStyle:p||{width:I.tq?"96%":"35%"},isOpen:l,onClose:function(){},blured:!1},z?i.createElement("div",null,i.createElement("p",{style:{fontFamily:"var(--app-text-main-font)",fontSize:I.tq?"20px":"30px",fontWeight:"bold",color:"#4A4A4A",marginTop:"50px",marginBottom:"5px",textAlign:"center"}},null!==v&&void 0!==v&&v.completed_at?"Completed Task":q.toUpperCase()),i.createElement(T,{labels:M,showPriority:c,statuses:m,task:v,setIsProcessBegin:r,setDisplayModal:a,isProcess:z,isEdit:n,onClose:function(){return a()},start_date:f,span:_,onUpdate:b,save:E})):i.createElement("div",null,i.createElement("p",{style:{fontFamily:"var(--app-text-main-font)",fontSize:"2rem",fontWeight:"bold",color:"#4A4A4A",marginTop:"10px",marginBottom:"5px",textAlign:"center"}},null!==v&&void 0!==v&&v.completed_at?"Completed Task":q),n&&i.createElement("p",{style:{fontFamily:"var(--app-text-main-font)",fontSize:"15px",fontWeight:"700",color:"#4A4A4A",marginTop:"5px",marginBottom:"5px",textAlign:"center"}},"Task ID: ".concat(v.id.slice(-6))),i.createElement(k,{showPriority:c,statuses:m,task:v,setIsProcessBegin:r,setDisplayModal:a,isProcess:z,isEdit:n,onClose:function(){return a()},start_date:f,span:_,setTaskLabels:S,onModuleSelect:function(e){R(!0),W("New Task for ".concat(e.name))}}))))}))},65947:function(e,n,l){"use strict";l.d(n,{Z:function(){return we}});var o,i,t,d,a,u=l(67861),r=l(86025),v=l(29439),s=l(39518),c=l(1413),p=l(37390),m=["title","titleId"];function f(){return f=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},f.apply(this,arguments)}function _(e,n){if(null==e)return{};var l,o,i=function(e,n){if(null==e)return{};var l,o,i={},t=Object.keys(e);for(o=0;o<t.length;o++)l=t[o],n.indexOf(l)>=0||(i[l]=e[l]);return i}(e,n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(o=0;o<t.length;o++)l=t[o],n.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(i[l]=e[l])}return i}var y,h,g=function(e,n){var l=e.title,r=e.titleId,v=_(e,m);return u.createElement("svg",f({width:8,height:68,viewBox:"0 0 8 68",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},v),l?u.createElement("title",{id:r},l):null,o||(o=u.createElement("circle",{cx:4,cy:4,r:3.5,fill:"white",stroke:"#0094FF"})),i||(i=u.createElement("circle",{cx:4,cy:29,r:1,fill:"#0094FF"})),t||(t=u.createElement("circle",{cx:4,cy:34,r:1,fill:"#0094FF"})),d||(d=u.createElement("circle",{cx:4,cy:39,r:1,fill:"#0094FF"})),a||(a=u.createElement("circle",{cx:4,cy:64,r:4,fill:"#0094FF"})))},b=(0,u.forwardRef)(g),x=(l.p,["title","titleId"]);function E(){return E=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},E.apply(this,arguments)}function C(e,n){if(null==e)return{};var l,o,i=function(e,n){if(null==e)return{};var l,o,i={},t=Object.keys(e);for(o=0;o<t.length;o++)l=t[o],n.indexOf(l)>=0||(i[l]=e[l]);return i}(e,n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(o=0;o<t.length;o++)l=t[o],n.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(i[l]=e[l])}return i}var w,Z,M=function(e,n){var l=e.title,o=e.titleId,i=C(e,x);return u.createElement("svg",E({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":o},i),l?u.createElement("title",{id:o},l):null,y||(y=u.createElement("g",{clipPath:"url(#clip0_1648_5272)"},u.createElement("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5H6.5C5.84 5 5.29 5.42 5.08 6.01L3.11 11.68C3.04 11.89 3 12.11 3 12.34V19.5C3 20.33 3.67 21 4.5 21C5.33 21 6 20.33 6 19.5V19H18V19.5C18 20.32 18.67 21 19.5 21C20.32 21 21 20.33 21 19.5V12.34C21 12.12 20.96 11.89 20.89 11.68L18.92 6.01ZM6.5 16C5.67 16 5 15.33 5 14.5C5 13.67 5.67 13 6.5 13C7.33 13 8 13.67 8 14.5C8 15.33 7.33 16 6.5 16ZM17.5 16C16.67 16 16 15.33 16 14.5C16 13.67 16.67 13 17.5 13C18.33 13 19 13.67 19 14.5C19 15.33 18.33 16 17.5 16ZM5 11L6.27 7.18C6.41 6.78 6.79 6.5 7.22 6.5H16.78C17.21 6.5 17.59 6.78 17.73 7.18L19 11H5Z"}))),h||(h=u.createElement("defs",null,u.createElement("clipPath",{id:"clip0_1648_5272"},u.createElement("rect",{width:24,height:24,fill:"white"})))))},S=(0,u.forwardRef)(M),k=(l.p,["title","titleId"]);function I(){return I=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},I.apply(this,arguments)}function N(e,n){if(null==e)return{};var l,o,i=function(e,n){if(null==e)return{};var l,o,i={},t=Object.keys(e);for(o=0;o<t.length;o++)l=t[o],n.indexOf(l)>=0||(i[l]=e[l]);return i}(e,n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(o=0;o<t.length;o++)l=t[o],n.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(i[l]=e[l])}return i}var T,P,D,A,O=function(e,n){var l=e.title,o=e.titleId,i=N(e,k);return u.createElement("svg",I({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":o},i),l?u.createElement("title",{id:o},l):null,w||(w=u.createElement("g",{clipPath:"url(#clip0_1648_5275)"},u.createElement("path",{d:"M20 11C19.82 11 19.64 11.03 19.47 11.05L17.41 9H19C19.55 9 20 8.55 20 8V7.62C20 6.88 19.22 6.39 18.55 6.73L16.27 7.87L13.7 5.3C13.52 5.11 13.26 5 13 5H10C9.45 5 9 5.45 9 6C9 6.55 9.45 7 10 7H12.17C12.44 7 12.69 7.11 12.88 7.29L14.59 9H11.24C11.08 9 10.93 9.04 10.79 9.11L7.65 10.68C7.27 10.87 6.8 10.8 6.5 10.49L5.3 9.29C5.11 9.11 4.85 9 4.59 9H1C0.45 9 0 9.45 0 10C0 10.55 0.45 11 1 11H4C1.48 11 -0.49 13.32 0.11 15.94C0.44 17.39 1.61 18.56 3.06 18.89C5.68 19.49 8 17.52 8 15L9.41 16.41C9.79 16.79 10.3 17 10.83 17H11.84C12.56 17 13.22 16.62 13.58 15.99L16.49 10.9L17.5 11.91C16.37 12.82 15.74 14.32 16.12 15.96C16.46 17.4 17.63 18.57 19.07 18.9C21.68 19.49 24 17.51 24 15C24 12.79 22.21 11 20 11ZM4 17C2.9 17 2 16.1 2 15C2 13.9 2.9 13 4 13C5.1 13 6 13.9 6 15C6 16.1 5.1 17 4 17ZM20 17C18.9 17 18 16.1 18 15C18 13.9 18.9 13 20 13C21.1 13 22 13.9 22 15C22 16.1 21.1 17 20 17Z"}))),Z||(Z=u.createElement("defs",null,u.createElement("clipPath",{id:"clip0_1648_5275"},u.createElement("rect",{width:24,height:24,fill:"white"})))))},L=(0,u.forwardRef)(O),z=(l.p,["title","titleId"]);function R(){return R=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},R.apply(this,arguments)}function U(e,n){if(null==e)return{};var l,o,i=function(e,n){if(null==e)return{};var l,o,i={},t=Object.keys(e);for(o=0;o<t.length;o++)l=t[o],n.indexOf(l)>=0||(i[l]=e[l]);return i}(e,n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(o=0;o<t.length;o++)l=t[o],n.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(i[l]=e[l])}return i}var F,q,W,B=function(e,n){var l=e.title,o=e.titleId,i=U(e,z);return u.createElement("svg",R({width:54,height:54,viewBox:"0 0 54 54",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":o},i),l?u.createElement("title",{id:o},l):null,T||(T=u.createElement("circle",{opacity:.24,cx:27.3333,cy:27.3333,r:26.6667,fill:"#0094FF"})),P||(P=u.createElement("circle",{cx:27.3333,cy:27.3333,r:20,fill:"#0094FF",stroke:"white",strokeWidth:2.66667})),D||(D=u.createElement("g",{clipPath:"url(#clip0_1648_5266)"},u.createElement("path",{d:"M33.4845 22.0089C33.3067 21.4844 32.8089 21.1111 32.2222 21.1111H22.4445C21.8578 21.1111 21.3689 21.4844 21.1822 22.0089L19.4311 27.0489C19.3689 27.2356 19.3333 27.4311 19.3333 27.6356V34C19.3333 34.7378 19.9289 35.3333 20.6667 35.3333C21.4045 35.3333 22 34.7378 22 34V33.5556H32.6667V34C32.6667 34.7289 33.2622 35.3333 34 35.3333C34.7289 35.3333 35.3333 34.7378 35.3333 34V27.6356C35.3333 27.44 35.2978 27.2356 35.2356 27.0489L33.4845 22.0089ZM22.4445 30.8889C21.7067 30.8889 21.1111 30.2933 21.1111 29.5556C21.1111 28.8178 21.7067 28.2222 22.4445 28.2222C23.1822 28.2222 23.7778 28.8178 23.7778 29.5556C23.7778 30.2933 23.1822 30.8889 22.4445 30.8889ZM32.2222 30.8889C31.4845 30.8889 30.8889 30.2933 30.8889 29.5556C30.8889 28.8178 31.4845 28.2222 32.2222 28.2222C32.96 28.2222 33.5556 28.8178 33.5556 29.5556C33.5556 30.2933 32.96 30.8889 32.2222 30.8889ZM21.1111 26.4444L22.24 23.0489C22.3645 22.6933 22.7022 22.4444 23.0845 22.4444H31.5822C31.9645 22.4444 32.3022 22.6933 32.4267 23.0489L33.5556 26.4444H21.1111Z",fill:"white"}))),A||(A=u.createElement("defs",null,u.createElement("clipPath",{id:"clip0_1648_5266"},u.createElement("rect",{width:21.3333,height:21.3333,fill:"white",transform:"translate(16.6667 16.6667)"})))))},Y=(0,u.forwardRef)(B),H=(l.p,["title","titleId"]);function j(){return j=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},j.apply(this,arguments)}function V(e,n){if(null==e)return{};var l,o,i=function(e,n){if(null==e)return{};var l,o,i={},t=Object.keys(e);for(o=0;o<t.length;o++)l=t[o],n.indexOf(l)>=0||(i[l]=e[l]);return i}(e,n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(o=0;o<t.length;o++)l=t[o],n.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(i[l]=e[l])}return i}var G=function(e,n){var l=e.title,o=e.titleId,i=V(e,H);return u.createElement("svg",j({width:51,height:51,viewBox:"0 0 51 51",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":o},i),l?u.createElement("title",{id:o},l):null,F||(F=u.createElement("g",{filter:"url(#filter0_dd_1648_5267)"},u.createElement("circle",{cx:25.3333,cy:23.3333,r:21.3333,fill:"#0094FF"}),u.createElement("circle",{cx:25.3333,cy:23.3333,r:20,stroke:"white",strokeWidth:2.66667}))),q||(q=u.createElement("g",{clipPath:"url(#clip0_1648_5267)"},u.createElement("path",{d:"M27.1333 17.6667L26.92 16.6C26.84 16.1911 26.4755 15.8889 26.0489 15.8889H19.6667C19.1778 15.8889 18.7778 16.2889 18.7778 16.7778V30.1111C18.7778 30.6 19.1778 31 19.6667 31C20.1555 31 20.5555 30.6 20.5555 30.1111V24.7778H25.5333L25.7467 25.8445C25.8267 26.2622 26.1911 26.5556 26.6178 26.5556H31.2222C31.7111 26.5556 32.1111 26.1556 32.1111 25.6667V18.5556C32.1111 18.0667 31.7111 17.6667 31.2222 17.6667H27.1333Z",fill:"white"}))),W||(W=u.createElement("defs",null,u.createElement("filter",{id:"filter0_dd_1648_5267",x:0,y:0,width:50.6667,height:50.6667,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},u.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),u.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),u.createElement("feOffset",null),u.createElement("feGaussianBlur",{stdDeviation:.5}),u.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.24 0"}),u.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1648_5267"}),u.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),u.createElement("feOffset",{dy:2}),u.createElement("feGaussianBlur",{stdDeviation:2}),u.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"}),u.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow_1648_5267",result:"effect2_dropShadow_1648_5267"}),u.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_1648_5267",result:"shape"})),u.createElement("clipPath",{id:"clip0_1648_5267"},u.createElement("rect",{width:21.3333,height:21.3333,fill:"white",transform:"translate(14.3333 12.3333)"})))))},J=(0,u.forwardRef)(G),K=(l.p,{ThreeDot:b,DRIVE:S,TWO_WHEELER:L,OriginMarker:Y,DestinationMarker:J}),Q=function(e){var n=e.type,l=e.color,o=e.strokeColor,i=e.text,t=e.onClick,d=(0,u.useMemo)((function(){var e=K[n];return e?u.createElement(e,{style:{fill:l||void 0,stroke:o||void 0}}):null}),[n,l]);return u.createElement("div",{className:"img-".concat(n),onClick:t},d,void 0!==i&&u.createElement("span",null,i))},X=u.memo(Q),$=l(12075),ee=l(52902),ne=function(e){var n=e.style,l=e.position,o=e.active,i=e.onToggle,t=e.type;return u.createElement(r._Q,{position:l,className:"marker ".concat(o?"active":""),zIndex:o?2:1,onClick:i},"Pin"===t?u.createElement($.G,{icon:ee.opg,style:{color:"green",width:"30px",height:"30px"}}):"ThreeDot"===t||"DRIVE"===t||"TWO_WHEELER"===t||"OriginMarker"===t||"DestinationMarker"===t?u.createElement(X,{type:t,style:n}):u.createElement("img",{alt:"lg",src:t,className:"customPin"}))},le=l(87462),oe=l(45987),ie=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut","encodedPath"];var te=(0,u.forwardRef)((function(e,n){var l=function(e){var n,l=e.onClick,o=e.onDrag,i=e.onDragStart,t=e.onDragEnd,d=e.onMouseOver,a=e.onMouseOut,s=e.encodedPath,c=(0,oe.Z)(e,ie),p=(0,u.useRef)({});Object.assign(p.current,{onClick:l,onDrag:o,onDragStart:i,onDragEnd:t,onMouseOver:d,onMouseOut:a});var m=(0,r.kY)("geometry"),f=(0,u.useRef)(new window.google.maps.Polyline).current;(0,u.useMemo)((function(){f.setOptions(c)}),[f,c]);var _=null===(n=(0,u.useContext)(r._Z))||void 0===n?void 0:n.map;return(0,u.useMemo)((function(){if(s&&m){var e=m.encoding.decodePath(s);f.setPath(e)}}),[f,s,m]),(0,u.useEffect)((function(){if(_)return f.setMap(_),function(){f.setMap(null)};void 0===_&&console.error("<Polyline> has to be inside a Map component.")}),[_,f]),(0,u.useEffect)((function(){if(f){var e=window.google.maps.event;return[["click","onClick"],["drag","onDrag"],["dragstart","onDragStart"],["dragend","onDragEnd"],["mouseover","onMouseOver"],["mouseout","onMouseOut"]].forEach((function(n){var l=(0,v.Z)(n,2),o=l[0],i=l[1];e.addListener(f,o,(function(e){var n=p.current[i];n&&n(e)}))})),function(){e.clearInstanceListeners(f)}}}),[f]),f}(e);return(0,u.useImperativeHandle)(n,(function(){return l}),[l]),null})),de=function(e){if(!e)return"";var n=parseInt(e,10);if("s"===e.slice(-1)){var l=Math.floor(n/3600),o=Math.floor(n%3600/60),i=n%60;return l>=1?"".concat(l.toFixed(0)," hr")+" "+"".concat(o," min"):o>=1?"".concat(o.toFixed(0)," min")+" "+"".concat(i," sec"):"".concat(i," secs")}throw new Error('Invalid time unit. Only seconds ("s") are supported.')},ae=function(e){var n=e.route,l=e.activeRoute,o=e.routeIndex,i=e.onClick,t=(0,u.useState)([]),d=(0,v.Z)(t,2),a=d[0],s=d[1],c=(0,r.kY)("geometry");return(0,u.useEffect)((function(){var e;if(null!==n&&void 0!==n&&null!==(e=n.polyline)&&void 0!==e&&e.encodedPolyline&&c){var i,t=(i=n.polyline.encodedPolyline,c.encoding.decodePath(i).map((function(e){return{lat:e.lat(),lng:e.lng()}}))),d=n.travelAdvisory.speedReadingIntervals.length+2,a=n.travelAdvisory.speedReadingIntervals.map((function(e){var n=t.slice(e.startPolylinePointIndex,e.endPolylinePointIndex+1);return{path:c.encoding.encodePath(n),options:{zIndex:100-o+d--,strokeColor:p.Gd[e.speed]||p.Gd.NORMAL,strokeOpacity:o===l?1:.5,strokeWeight:6}}}));return s(a),function(){s([])}}}),[n,c,o,l]),u.createElement(u.Fragment,null,a.map((function(e,l){return u.createElement(te,(0,le.Z)({key:"p-".concat(l),onClick:function(e){return i(e,n,o)},encodedPath:e.path},e.options))})))},ue=u.memo(ae),re=function(e){var n=e.route,l=e.travelMode;return u.createElement("div",{className:"polyline-info-window"},u.createElement("div",{className:"content"},u.createElement("div",{className:"title"},u.createElement(X,{type:l,color:"#212121"}),u.createElement("b",null,de(n.duration))),u.createElement("div",{className:"distanceMeters"},u.createElement("p",null,(n.distanceMeters/1e3).toFixed(2)," km"))))},ve=function(e){var n=e.map,l=e.stops;return(0,u.useEffect)((function(){if(n){if(l.length>0){var e=new window.google.maps.LatLngBounds;l.forEach((function(n){e.extend(new window.google.maps.LatLng(n.position.lat,n.position.lng))})),n.fitBounds(e)}1===l.length&&n.setZoom(14)}}),[n,l]),null},se=u.memo(ve),ce=function(e){var n=e.origin,l=e.destination,o=e.travelMode,i=e.routes,t=e.currentLocation,d=e.pins,a=void 0===d?[]:d,s=(e.controls,e.zoom),m=(0,r.Sx)(),f=(0,u.useState)(null),_=(0,v.Z)(f,2),y=_[0],h=_[1],g=(0,u.useState)(0),b=(0,v.Z)(g,2),x=b[0],E=b[1],C=(0,u.useMemo)((function(){var e=[];return null!==n&&void 0!==n&&n.position&&e.push(n),a&&(null===a||void 0===a||a.map((function(n){return e.push(n)}))),null!==l&&void 0!==l&&l.position&&e.push(l),e}),[n,l,a]),w=function(e,n,l){var i={lat:e.latLng.lat(),lng:e.latLng.lng()};E(l),h({position:i,content:u.createElement(re,{route:n,travelMode:o})})};return u.createElement(r.D5,{mapId:"FLOWHEROMAPS",defaultZoom:p.o0,defaultCenter:null!==t&&void 0!==t?t:p.k1,center:1===(null===a||void 0===a?void 0:a.length)?(0,c.Z)({},a[0].position):null,zoom:1===(null===a||void 0===a?void 0:a.length)?s:null,gestureHandling:"greedy",disableDefaultUI:!1},u.createElement(se,{map:m,stops:C}),n&&u.createElement(ne,{type:"OriginMarker",position:n.position}),l&&u.createElement(ne,{type:"DestinationMarker",position:l.position}),(null===a||void 0===a?void 0:a.length)>0&&(null===a||void 0===a?void 0:a.map((function(e,n){return u.createElement(ne,{key:n,type:null!==e&&void 0!==e&&e.type?null===e||void 0===e?void 0:e.type:"Pin",position:e.position})}))),(null===t||void 0===t?void 0:t.icon)&&u.createElement(ne,{type:null===t||void 0===t?void 0:t.icon,position:t}),i.map((function(e,n){return u.createElement(ue,{key:"polyline-".concat(n),route:e,activeRoute:x,routeIndex:n,onClick:w})})),y&&u.createElement(r.nx,{key:y.position.lat+","+y.position.lng,position:y.position,onCloseClick:function(){return h(null)}},y.content))},pe=u.memo(ce),me=function(e){var n,l=e.controls,o=(e.zoom,(0,s.v9)((function(e){return e.flowReducer}))),i=o.map,t=o.currentLocation,d=(0,u.useState)(t),a=(0,v.Z)(d,2),r=a[0];a[1];return u.createElement(pe,{origin:null===i||void 0===i?void 0:i.origin,destination:null===i||void 0===i?void 0:i.destination,travelMode:null===i||void 0===i?void 0:i.travelMode,routes:(null===i||void 0===i?void 0:i.routes[null===i||void 0===i?void 0:i.travelMode])||[],currentLocation:r,pins:null!==(n=null===i||void 0===i?void 0:i.pins)&&void 0!==n?n:[],controls:l,zoom:null===i||void 0===i?void 0:i.zoom})},fe=l(4942),_e=l(74165),ye=l(37762),he=l(15861),ge=function(e){var n=e.onPlaceSelect,l=(0,u.useState)(null),o=(0,v.Z)(l,2),i=o[0],t=o[1],d=(0,u.useRef)(null),a=(0,r.kY)("places");return(0,u.useEffect)((function(){if(a&&d.current){t(new a.Autocomplete(d.current,{fields:["place_id","geometry","name","formatted_address"]}))}}),[a]),(0,u.useEffect)((function(){i&&i.addListener("place_changed",(function(){n(i.getPlace())}))}),[n,i]),u.createElement("div",{className:"autocomplete-container"},u.createElement("input",{ref:d}))},be=function(e){var n=e.routes,l=e.travelMode,o=e.onTravelModeChange,i=e.onOriginAddressChange,t=e.onDestinationAddressChange;return u.createElement("div",{className:"search-box"},u.createElement("div",{className:"travel-mode-filter-btns"},p.jk.map((function(e){var i,t,d=de(null===(i=n[e])||void 0===i||null===(t=i[0])||void 0===t?void 0:t.duration);return u.createElement("button",{key:e,className:l===e?"active":"",onClick:function(){return o(e)}},u.createElement(X,{type:e}),d&&u.createElement("span",null,d))}))),u.createElement("div",{className:"input-address-group"},u.createElement(X,{type:"ThreeDot"}),u.createElement(ge,{onPlaceSelect:i}),u.createElement(ge,{onPlaceSelect:t})))},xe=l(11217),Ee=l(88374),Ce=function(){var e=(0,s.v9)((function(e){return e.flowReducer})),n=e.map,l=e.companyData,o=(0,s.I0)();(0,u.useEffect)((function(){var e=function(){var e=(0,he.Z)((0,_e.Z)().mark((function e(){var i,t,d,a,u,r,v,s;return(0,_e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!==n&&void 0!==n&&n.origin&&null!==n&&void 0!==n&&n.destination&&null!==(i=Object.keys(null===n||void 0===n?void 0:n.origin))&&void 0!==i&&i.length&&null!==(t=Object.keys(null===n||void 0===n?void 0:n.destination))&&void 0!==t&&t.length)){e.next=28;break}e.prev=1,d={},a=(0,ye.Z)(p.jk),e.prev=4,a.s();case 6:if((u=a.n()).done){e.next=14;break}return v=u.value,e.next=10,(0,xe.s)({origin:{address:null===n||void 0===n?void 0:n.origin.formattedAddress},destination:{address:null===n||void 0===n?void 0:n.destination.formattedAddress},travelMode:v,routingPreference:"traffic_aware",extraComputations:["TRAFFIC_ON_POLYLINE"]},null===l||void 0===l||null===(r=l.misc_info)||void 0===r?void 0:r.map);case 10:s=e.sent,d[v]=(null===s||void 0===s?void 0:s.routes)||[];case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),a.e(e.t0);case 19:return e.prev=19,a.f(),e.finish(19);case 22:o((0,Ee.wM)({routes:d})),e.next=28;break;case 25:e.prev=25,e.t1=e.catch(1),o((0,Ee.wM)({routes:[],error:"Failed to fetch directions"}));case 28:case"end":return e.stop()}}),e,null,[[1,25],[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}();e()}),[null===n||void 0===n?void 0:n.origin,null===n||void 0===n?void 0:n.destination,o]);var i=function(e,n){o((0,Ee.wM)((0,fe.Z)({},e,{name:n.name,formattedAddress:n.formatted_address,position:{lat:n.geometry.location.lat(),lng:n.geometry.location.lng()},place_id:n.place_id})))};return u.createElement(be,{travelMode:null===n||void 0===n?void 0:n.travelMode,routes:null===n||void 0===n?void 0:n.routes,onTravelModeChange:function(e){return o((0,Ee.wM)({travelMode:e}))},onOriginAddressChange:function(e){return i("origin",e)},onDestinationAddressChange:function(e){return i("destination",e)}})},we=function(e){var n=e.search,l=void 0===n||n,o=e.apikey,i=void 0===o?"":o,t=e.controls,d=void 0===t||t;return u.createElement("div",{className:"GoogleMaps"},u.createElement(r.un,{apiKey:i},l&&u.createElement("div",{className:"control-pannel"},u.createElement(Ce,null)),u.createElement(me,{controls:d})))}},11217:function(e,n,l){"use strict";l.d(n,{s:function(){return v}});var o=l(74165),i=l(15861),t=l(1413),d=l(22148),a=l.n(d),u="https://routes.googleapis.com/directions/v2:computeRoutes",r=function(e){return(0,t.Z)((0,t.Z)({},e),{},{polylineQuality:"high_quality",computeAlternativeRoutes:!0})},v=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n){var l,i,t=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=t.length>1&&void 0!==t[1]?t[1]:"",e.prev=1,e.next=4,a().post(u,r(n),{headers:{"x-goog-api-key":l,"x-goog-fieldmask":"routes.duration,routes.distanceMeters,routes.polyline.encodedPolyline,routes.optimizedIntermediateWaypointIndex,routes.travelAdvisory.speedReadingIntervals"}});case 4:return i=e.sent,e.abrupt("return",i.data);case 8:throw e.prev=8,e.t0=e.catch(1),console.error("Error fetching directions:",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}()},29960:function(e,n,l){"use strict";var o=l(29439),i=l(81235),t=l(84878),d=l(67861),a=l(54868),u=l(12075),r=l(52902),v=l(40694),s=l(39518),c=l(88827),p=l(88374),m=l(67861);l(66918);n.Z=function(e){e.onLocationChange;var n,l,f,_,y,h=e.value,g=e.mapkey,b=void 0===g?"":g,x=e.onChange,E=void 0===x?function(){}:x,C=(e.placeholder,(0,s.v9)((function(e){return e.flowReducer})).currentLocation),w=(0,d.useState)(null!==(n=null===h||void 0===h?void 0:h.address)&&void 0!==n?n:""),Z=(0,o.Z)(w,2),M=Z[0],S=Z[1],k=(0,d.useState)([]),I=(0,o.Z)(k,2),N=I[0],T=I[1],P=(0,d.useState)({}),D=(0,o.Z)(P,2),A=D[0],O=D[1],L=(0,d.useState)(""),z=(0,o.Z)(L,2),R=z[0],U=z[1],F=(0,d.useState)({id:1,title:null!==h&&void 0!==h&&h.lat?"Target Location":"Current Location",lat:null!==(l=null!==(f=null===h||void 0===h?void 0:h.lat)&&void 0!==f?f:null===C||void 0===C?void 0:C.latitude)&&void 0!==l?l:0,lng:null!==(_=null!==(y=null===h||void 0===h?void 0:h.lng)&&void 0!==y?y:null===C||void 0===C?void 0:C.longitude)&&void 0!==_?_:0}),q=(0,o.Z)(F,2),W=q[0],B=q[1];(0,d.useEffect)((function(){(0,a.setKey)(b),navigator.geolocation.getCurrentPosition((function(e){null!==h&&void 0!==h&&h.lat&&null!==h&&void 0!==h&&h.lng||e&&(B({id:1,title:"Current Location",lat:e.coords.latitude,lng:e.coords.longitude}),O({id:1,title:"Current Location",lat:e.coords.latitude,lng:e.coords.longitude}),c.h.dispatch((0,p.Rb)({latitude:e.coords.latitude,longitude:e.coords.longitude})))}),(function(e){return console.log(e)}))}),[]);var Y=function(e){var n=e.text,l=e.tooltip;return m.createElement("div",{className:t.Z.xcircle},m.createElement("span",{className:t.Z.circleText,title:l},m.createElement(u.G,{icon:r.opg,style:{color:"green",width:"50px",height:"50px"}}),n))},H=function(e){e.text,e.tooltip;return m.createElement(u.G,{icon:r.diR,style:{color:"red",width:"10px",height:"10px"}})};return m.createElement("div",{style:{height:N.length>0?"":"600px",width:"100%",margin:"20px",textAlign:"center"}},m.createElement("div",{style:{display:"flex",width:"100%",margin:"auto",border:"1px dashed black"}},m.createElement(v.Z,{clear:!0,style:{width:"10%",height:"20px"},clicked:function(){Object.keys(A).length>0&&(B(A),(0,a.fromLatLng)(A.lat,A.lng).then((function(e){var n=e.results;S(n[0].formatted_address),T(n.map((function(e){return{label:e.formatted_address,value:e.formatted_address,res:e}})))})).catch(console.error))},icon:m.createElement(u.G,{icon:r.TqS,style:{swidth:"20px",height:"20px"}})}),m.createElement("input",{onBlur:function(e){e.target.value.length>3?(0,a.geocode)(a.RequestType.ADDRESS,M).then((function(e){var n=e.results,l=n[0].geometry.location,o=l.lat,i=l.lng;B({id:1,title:"Target Location",lat:o,lng:i}),T(n.map((function(e){return{label:e.formatted_address,value:e.formatted_address,res:e}})))})).catch((function(){return U("Address need more details")})):T([])},type:"text",onChange:function(e){S(e.target.value)},value:M,autoComplete:"none",className:t.Z.fieldTypeInput,style:{width:"74%",border:"0"},placeholder:"Type address"}),m.createElement(v.Z,{clear:!0,style:{width:"10%",height:"20px"},icon:m.createElement(u.G,{icon:r.wn1,style:{swidth:"20px",height:"20px"},clicked:function(){M.length>3&&(0,a.geocode)(a.RequestType.ADDRESS,M).then((function(e){var n=e.results,l=n[0].geometry.location,o=l.lat,i=l.lng;B({id:1,title:"Target Location",lat:o,lng:i}),T(n.map((function(e){return{label:e.formatted_address,value:e}})))})).catch((function(){}))}})})),m.createElement("p",{onClick:function(){return U("")}},R),N.slice(0,5).map((function(e,n){return m.createElement("div",{key:n},m.createElement(v.Z,{light:!0,title:e.value,style:{height:"100px",width:"100%"},titleStyle:{textAlign:"left"},clicked:function(){E(null===e||void 0===e?void 0:e.res)}}))})),m.createElement("div",{style:{marginTop:"20px",height:"80%",width:"100%"}},m.createElement(i.ZP,{onClick:function(e){(0,a.fromLatLng)(e.lat,e.lng).then((function(e){var n=e.results;S(n[0].formatted_address),T(n.map((function(e){return{label:e.formatted_address,value:e.formatted_address,res:e}})))})).catch(console.error),B({id:1,title:"Target Location",lat:e.lat,lng:e.lng})},bootstrapURLKeys:{key:b,language:"en",region:"US"},center:{lat:+W.lat,lng:+W.lng},defaultZoom:10,distanceToMouse:function(e,n){if(e&&n)return Math.sqrt((e.x-n.x)*(e.x-n.x)+(e.y-n.y)*(e.y-n.y))}},C&&m.createElement(H,{key:1e3,lat:C.latitude,lng:C.longitude,tooltip:"Current Location"}),"Current Location"!==W.title&&m.createElement(Y,{key:W.id,lat:W.lat,lng:W.lng,tooltip:W.title}))))}},13721:function(e,n,l){"use strict";var o=l(1413),i=l(87462),t=l(93433),d=l(29439),a=l(81235),u=l(84878),r=l(67861),v=l(6073),s=l(39518),c=l(10904),p=l(13845),m=l(11577),f=l(67861),_=l(66918),y={selectProcess:{id:"selectedProcess",title:"Select Workflow",tooltipText:"Select target process for this map",defaultHighlighted:!0,withAckButton:!1,useContext:p.fG},selectBlueprint:{id:"selectedComponentBlueprint",title:"Select source of map pins",tooltipText:"Select target source pins for this map",defaultHighlighted:!0,withAckButton:!1,useContext:p.fG},selectComponent:{id:"selectedComponent",title:"Select Component",tooltipText:"Select target component for this map",defaultHighlighted:!0,withAckButton:!1,useContext:p.fG},selectFields:{id:"selectedFields",title:"Filter by",tooltipText:"Select target filter for this map",defaultHighlighted:!0,withAckButton:!1,useContext:p.fG},selectItem:{id:"selectedItem",title:"Select Item",tooltipText:"Select target item for this map",defaultHighlighted:!0,withAckButton:!1,useContext:p.fG},selectRoutingMethod:{id:"selectedRouting",title:"Select Routing",tooltipText:"Select target routing method for this map",defaultHighlighted:!0,withAckButton:!1,useContext:p.fG}};n.Z=(0,s.$j)((function(e){return{companyProcesses:e.flowReducer.companyProcesses}}))((function(e){var n=e.companyProcesses,l=(e.mapkey,(0,r.useState)({name:"",icon:"",fields:"",components:""})),s=(0,d.Z)(l,2),h=s[0],g=s[1],b=(0,r.useState)([]),x=(0,d.Z)(b,2),E=x[0],C=(x[1],(0,r.useState)([])),w=(0,d.Z)(C,2),Z=w[0],M=w[1],S=(0,r.useState)([]),k=(0,d.Z)(S,2),I=k[0],N=k[1],T=(0,r.useState)([]),P=(0,d.Z)(T,2),D=P[0],A=P[1],O=(0,r.useState)([]),L=(0,d.Z)(O,2),z=L[0],R=L[1],U=(0,r.useState)([]),F=(0,d.Z)(U,2),q=F[0],W=F[1],B=(0,r.useState)({value:"",blueprint:{}}),Y=(0,d.Z)(B,2),H=Y[0],j=Y[1],V=(0,r.useState)({value:"",process:{}}),G=(0,d.Z)(V,2),J=G[0],K=G[1],Q=(0,r.useState)({value:"",field:{}}),X=(0,d.Z)(Q,2),$=X[0],ee=X[1],ne=(0,r.useState)({value:"",item:{}}),le=(0,d.Z)(ne,2),oe=le[0],ie=le[1],te=(0,r.useState)([]),de=(0,d.Z)(te,2),ae=de[0],ue=de[1],re=(null===n||void 0===n?void 0:n.length)>0?n.map((function(e){return{label:e.name,value:e.id}})):[],ve=function(e){var n=e.text,l=e.tooltip;return f.createElement("div",{className:u.Z.circle},f.createElement("span",{className:u.Z.circleText,title:l},n))};(0,r.useEffect)((function(){ce()}),[]);var se=(0,r.useCallback)((function(e,n){var l=e.filter((function(e){return e.component.component_fields.filter((function(e){return e.value===n.value})).length>0})),o=[];return l.map((function(e){var n=e.component.component_fields.find((function(e){return"Pin"===e.field_name}));if(void 0!=n&&n.value){var l=_.split(",",n.value);o.push({id:e.id,title:e.label,lat:+l[0],lng:+l[1]})}})),{components:l,pins:o}})),ce=(0,r.useCallback)((function(){(0,v.d7)().pipe((0,m.P)()).pipe((0,m.P)()).subscribe({next:function(e){var n=e.data.length>0?_.sortBy(_.prop("name"),e.data.filter((function(e){return e.fields.filter((function(e){return"Pin"===e.name})).length>0}))):[];M(n.map((function(e){return{label:e.name,value:e.id,blueprint:e}})))},error:function(e){}})}));return f.createElement("div",{style:{height:"auto",width:"100%",padding:"20px"}},f.createElement(p.ij,null,f.createElement("div",{style:{height:"80vh",width:"100%"}},f.createElement(a.ZP,{bootstrapURLKeys:{key:"",language:"en",region:"US"},center:{lat:-33.8149597,lng:150.9171779},defaultZoom:11,distanceToMouse:function(e,n){if(e&&n)return Math.sqrt((e.x-n.x)*(e.x-n.x)+(e.y-n.y)*(e.y-n.y))}},ae.map((function(e){var n=e.lat,l=e.lng,o=e.id,i=e.title;return f.createElement(ve,{key:o,lat:n,lng:l,tooltip:i})})))),f.createElement("br",null),f.createElement("div",{style:{minWidth:"50%"}},f.createElement(c.n2,(0,i.Z)({},y.selectBlueprint,{value:H.value,placeholder:"Select blueprint...",sectionError:h.icon,onOpenChanged:function(){}}),f.createElement(c.rk,{items:Z,defaultSelected:"",className:u.Z.selectComponent,molclassname:u.Z.selectMenuOverlayList,moliclassname:u.Z.selectMenuOverlayListItem,placeholder:"Select blueprint...",onChange:function(e){var n=e.blueprint.fields.filter((function(e){return"Pin"!=e.name}));j({value:e.label,blueprint:e.blueprint}),A((0,t.Z)(n.map((function(e){return{label:e.value,value:e.id,field:e}})))),ue([]),ee({value:"",field:{}}),ie({value:"",item:{}}),K({value:"",process:{}});var l=[];E.map((function(e){var n=e.component.component_fields.find((function(e){return"Pin"===e.field_name}));if(void 0!=n&&n.value){var o=_.split(",",n.value);l.push({id:e.id,title:e.label,lat:+o[0],lng:+o[1]})}})),ue([].concat(l))}})),f.createElement(c.n2,(0,i.Z)({},y.selectFields,{value:$.value,placeholder:"Select field...",sectionError:h.icon,onOpenChanged:function(){}}),f.createElement(c.rk,{items:D,iconValue:!0,defaultSelected:"",className:u.Z.selectComponent,molclassname:u.Z.selectMenuOverlayList,moliclassname:u.Z.selectMenuOverlayListItem,placeholder:"Select field...",onChange:function(e){ee({value:e.label,field:e.field});var n=E.filter((function(n){return n.component.component_fields.filter((function(n){return n.component_blueprint_id===e.field.component_blueprint_id})).length>0})),l=[];n.map((function(n){var o=n.component.component_fields.find((function(n){return n.field_name===e.label}));void 0!=o&&("People"===o.data_type_name||"Record"===o.data_type_name?l.push({label:o.value.split(",")[0],value:o.value,id:o.id,component:n.component}):l.push({label:o.value,value:o.value,id:o.id,component:n.component}))})),R((0,t.Z)(new Map(l.map((function(e){return[e.label,e]}))).values())),N(n),ue([]),ie({value:"",item:{}}),K({value:"",process:{}})}})),f.createElement(c.n2,(0,i.Z)({},y.selectItem,{value:oe.value,placeholder:"Select item...",sectionError:h.icon,onOpenChanged:function(){}}),f.createElement(c.rk,{items:z,iconValue:!0,defaultSelected:"",className:u.Z.selectComponent,molclassname:u.Z.selectMenuOverlayList,moliclassname:u.Z.selectMenuOverlayListItem,placeholder:"Select item...",onChange:function(e){var n=se(I,e);ie({value:e.label,id:e.id,item:e}),W(re.filter((function(e){return(0,t.Z)(n.components.map((function(e){return e.component.procedure_id}))).some((function(n){return e.value===n}))}))),ue((0,t.Z)(n.pins)),K({value:"",process:{}})}})),f.createElement(c.n2,(0,i.Z)({},y.selectProcess,{value:J.value,placeholder:"Select workflow...",sectionError:h.icon,onOpenChanged:function(){g((function(e){return(0,o.Z)((0,o.Z)({},e),{},{icon:""})}))}}),f.createElement(c.rk,{items:q,iconValue:!0,defaultSelected:"",className:u.Z.selectComponent,molclassname:u.Z.selectMenuOverlayList,moliclassname:u.Z.selectMenuOverlayListItem,placeholder:"Select workflow...",onChange:function(e){var n=se(I.filter((function(n){return n.component.procedure_id===e.value})),{value:oe.item.value});K({id:e.value,value:e.label}),ue((0,t.Z)(n.pins))}})),f.createElement(c.n2,(0,i.Z)({},y.selectRoutingMethod,{placeholder:"Select routing method...",sectionError:h.icon,onOpenChanged:function(){}}),f.createElement(c.rk,{items:[{label:"By Manual Routing",value:"Method 1"},{label:"Automated - by distance",value:"Method 2"},{label:"By sales visit time",value:"Method 3"}],iconValue:!0,defaultSelected:"",className:u.Z.selectComponent,molclassname:u.Z.selectMenuOverlayList,moliclassname:u.Z.selectMenuOverlayListItem,placeholder:"Select routing method...",onChange:function(){}})))))}))},27426:function(e,n,l){"use strict";l.d(n,{Y:function(){return p},Z:function(){return c}});var o=l(93433),i=l(81235),t={App:"MapView_App__nakdl",circleText:"MapView_circleText__hsWm+",fieldTypeInput:"MapView_fieldTypeInput__jTYlG",selectText:"MapView_selectText__V-czl",inputField:"MapView_inputField__bZlly",industryMOL:"MapView_industryMOL__efdJc",industryMOLI:"MapView_industryMOLI__GM343"},d=(l(67861),l(60192)),a=(l(54868),l(12075)),u=l(52902),r=(l(89293),l(73500)),v=l(95256),s=l(67861),c=(l(66918),function(e){var n=e.pins,l=void 0===n?{lat:0,lng:0,address:"Nowhere"}:n,v=e.mapkey,c=void 0===v?"":v,p=(e.current,e.direction),m=(Math.max.apply(Math,(0,o.Z)(l.map((function(e){return e.lng}))))+Math.min.apply(Math,(0,o.Z)(l.map((function(e){return e.lng})))))/2,f=(Math.max.apply(Math,(0,o.Z)(l.map((function(e){return e.lat}))))+Math.min.apply(Math,(0,o.Z)(l.map((function(e){return e.lat})))))/2,_=function(e){e.text;var n=e.tooltip,l=e.type,o=void 0===l?"source":l;return s.createElement("div",{className:t.circle},s.createElement("span",{className:t.circleText,title:n},s.createElement(a.G,{icon:"realtime"===o?u.lft:u.opg,style:{color:"realtime"===o?"black":"destination"===o?"blue":"green",width:"30px",height:"30px"}})))},y=function(e,n,l){if((null===l||void 0===l?void 0:l.length)>1){var o=function(e,n,l){var o=new n.LatLngBounds;return l.forEach((function(e){o.extend(new n.LatLng(e.lat,e.lng))})),o}(0,n,l);e.fitBounds(o),function(e,n,l){n.event.addDomListenerOnce(e,"idle",(function(){n.event.addDomListener(window,"resize",(function(){e.fitBounds(l)}))}))}(e,n,o)}};return s.createElement("div",{style:{height:"500px",width:"100%",margin:r.tq?"0":"20px"}},s.createElement("div",{style:{marginTop:"20px",height:"inherit",width:"inherit"}},s.createElement(i.ZP,{onClick:function(e){},bootstrapURLKeys:{key:"localhost"===window.location.hostname?"":c,language:"en",region:"US"},center:{lat:isNaN(f)?0:+f,lng:isNaN(m)?0:+m},defaultZoom:15,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){var n=e.map,o=e.maps;return y(n,o,l)}},l.length>0&&l.map((function(e,n){return s.createElement(_,{key:n,lat:e.lat,lng:e.lng,text:e.address,tooltip:e.address,type:e.type})})),p&&s.createElement(d.tH,{direction:p}))))}),p=function(e,n){if(""!==e&&""!==n){var l=new window.google.maps.DirectionsService;return new v.y((function(o){return null===l||void 0===l?void 0:l.route({origin:e,destination:n,travelMode:window.google.maps.TravelMode.DRIVING}).then((function(e){o.next(e)})).catch((function(e){o.error(e)}))}))}}},31266:function(e,n,l){"use strict";l(1413);var o=l(29439),i=l(67861),t=l(61058);n.Z=function(e){var n=e.series,l=e.categories,d=(0,i.useState)({series:n}),a=(0,o.Z)(d,2),u=a[0],r=(a[1],{legend:{show:!1,position:"top",horizontalAlign:"left"},colors:["#3C50E0","#80CAEE"],chart:{type:"area",dropShadow:{enabled:!0,color:"#623CEA14",top:10,blur:4,left:0,opacity:.1},toolbar:{show:!1}},responsive:[{breakpoint:1024,options:{chart:{height:100}}},{breakpoint:1366,options:{chart:{}}}],stroke:{width:[2,2],curve:"straight"},grid:{xaxis:{lines:{show:!1}},yaxis:{lines:{show:!1}}},dataLabels:{enabled:!1},markers:{size:1,colors:"#fff",strokeColors:["#3056D3","#80CAEE"],strokeWidth:3,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,discrete:[],hover:{size:void 0,sizeOffset:5}},xaxis:{type:"category",categories:l,axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{title:{style:{fontSize:"0px"}},min:0,max:70}});return i.createElement("div",null,i.createElement("div",{id:"chartOne",className:"-ml-5"},i.createElement(t.Z,{options:r,series:u.series,type:"area",height:350})))}},30519:function(e,n,l){"use strict";l(1413);var o=l(29439),i=l(67861),t=l(61058);n.Z=function(e){var n=e.series,l=e.labels,d=e.title,a=void 0===d?"Total":d,u=(0,i.useState)({series:n}),r=(0,o.Z)(u,2),v=r[0],s=(r[1],{chart:{fontFamily:"var(--app-text-main-font)",type:"donut"},colors:["#3C50E0","#0FADCF","#6577F3","#8FD0EF"],labels:l,legend:{show:!0,position:"bottom"},plotOptions:{pie:{donut:{background:"transparent",labels:{show:!0,name:{show:!0,fontSize:"22px",fontFamily:"var(--app-text-main-font)",color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:"var(--app-text-main-font)",fontWeight:"normal",color:void 0,offsetY:16,formatter:function(e){return e}},total:{show:!0,showAlways:!0,label:a,fontSize:"22px",fontFamily:"var(--app-text-main-font)",fontWeight:600,color:"#373d3f",formatter:function(e){return e.globals.seriesTotals.reduce((function(e,n){return e+n}),0)}}}}}},dataLabels:{enabled:!0},responsive:[{breakpoint:2600,options:{chart:{width:380}}},{breakpoint:640,options:{chart:{width:200}}}]});return i.createElement("div",{className:"mb-2"},i.createElement("div",{id:"chartThree",className:"mx-auto flex justify-center"},i.createElement(t.Z,{options:s,series:v.series,type:"donut"})))}},84952:function(e,n,l){"use strict";l(1413);var o=l(29439),i=l(67861),t=l(61058);n.Z=function(e){var n=e.series,l=e.categories,d=(0,i.useState)({series:n}),a=(0,o.Z)(d,2),u=a[0],r=(a[1],{colors:["#3C50E0","#80CAEE"],chart:{fontFamily:"Satoshi, sans-serif",type:"bar",stacked:!1,toolbar:{show:!1},zoom:{enabled:!0}},responsive:[{breakpoint:1536,options:{plotOptions:{bar:{borderRadius:0,columnWidth:"25%"}}}}],plotOptions:{bar:{horizontal:!0,borderRadius:0,columnWidth:"25%",borderRadiusApplication:"end",borderRadiusWhenStacked:"last"}},dataLabels:{enabled:!1},grid:{xaxis:{lines:{show:!1}},yaxis:{lines:{show:!1}}},xaxis:{categories:l},legend:{show:!1,position:"top",horizontalAlign:"left",fontFamily:"Satoshi",fontWeight:500,fontSize:"14px",markers:{radius:99}},fill:{opacity:1}});return i.createElement("div",null,i.createElement("div",{id:"chartTwo",className:"-ml-5 -mb-9"},i.createElement(t.Z,{options:r,series:u.series,type:"bar",height:350})))}},20089:function(e,n,l){"use strict";var o=l(61058),i=l(31266),t=l(84952),d=l(30519),a=l(67861);n.Z=function(e){var n=e.orientation,l=e.series,u=e.labels,r=e.config,v=e.title,s=e.type;return a.createElement("div",null,"Line"===n&&a.createElement(i.Z,{series:l}),"Column"===n&&a.createElement(t.Z,{series:l}),"Donut"===n&&a.createElement(d.Z,{title:v,series:l,labels:u,config:r,type:s}),"Custom"===n&&a.createElement("div",{className:"mb-2"},a.createElement("div",{id:"reactApexChart",className:"mx-auto flex justify-center"},a.createElement(o.Z,{options:r,series:l,type:s}))))}},91426:function(e,n,l){"use strict";l.d(n,{Z:function(){return f}});var o=l(87462),i=l(1413),t=l(29439),d=l(45987),a=l(47144),u=l.n(a),r=l(88239),v=l(67861),s=l(85692),c=l(64468),p={host:"OpenSelectWithSearch_host__AREPA",toggleMenuControlsIcons:"OpenSelectWithSearch_toggleMenuControlsIcons__1MKyC",toggleMenuButton:"OpenSelectWithSearch_toggleMenuButton__bFOLO",inputContainer:"OpenSelectWithSearch_inputContainer__1riPP",input:"OpenSelectWithSearch_input__moy3y",menuOverlayList:"OpenSelectWithSearch_menuOverlayList__FgGKF",menuOverlayListItem:"OpenSelectWithSearch_menuOverlayListItem__uRq1S",title:"OpenSelectWithSearch_title__IiTec"},m=["defaultSelectedItem","items","title","id","placeholder","hasMandatoryIndicator","responsiveOnChange","errorMessage","itemType","onChange","onDropDownClosed","focusSelectedMenuItem","className","inputContainerClassName","inputClassName","clearControlsClassName","molclassname","moliclassname","inputStyle","menuOverlayListStyle","menuOverlayListItemStyle","triggerType","isClearable"],f=function(e){var n=e.defaultSelectedItem,l=e.items,a=e.title,f=e.id,_=void 0===f?null===a||void 0===a?void 0:a.replace(/ /g,"-"):f,y=e.placeholder,h=(e.hasMandatoryIndicator,e.responsiveOnChange),g=e.errorMessage,b=e.itemType,x=e.onChange,E=e.onDropDownClosed,C=e.focusSelectedMenuItem,w=e.className,Z=e.inputContainerClassName,M=e.inputClassName,S=e.clearControlsClassName,k=e.molclassname,I=e.moliclassname,N=e.inputStyle,T=e.menuOverlayListStyle,P=e.menuOverlayListItemStyle,D=e.triggerType,A=e.isClearable,O=(0,d.Z)(e,m),L=(0,v.useState)(l),z=(0,t.Z)(L,2),R=z[0],U=z[1],F=(0,v.useState)(!1),q=(0,t.Z)(F,2),W=q[0],B=q[1],Y=function(e){return B(e)},H=null!=g,j=(0,r.Kb)({items:R,id:_,defaultSelectedItem:n,stateReducer:function(e,n){var o=n.type,t=n.changes;switch(o){case r.Kb.stateChangeTypes.ToggleButtonClick:case r.Kb.stateChangeTypes.InputBlur:return(0,i.Z)((0,i.Z)({},t),{},{inputValue:""});case r.Kb.stateChangeTypes.FunctionOpenMenu:return U(l),(0,i.Z)((0,i.Z)({},t),{},{highlightedIndex:e.selectedItem?l.indexOf(e.selectedItem):-1})}return t},itemToString:function(e){var n;return null!==(n=null===e||void 0===e?void 0:e.label)&&void 0!==n?n:""},onSelectedItemChange:function(e){return null===x||void 0===x?void 0:x(e.selectedItem)},onInputValueChange:function(e){var n=e.inputValue;n&&U(l.filter((function(e){var l,o;return null===e||void 0===e||null===(l=e.label)||void 0===l||null===(o=l.toLowerCase())||void 0===o?void 0:o.includes(n.toLowerCase())})))}}),V=j.isOpen,G=j.getToggleButtonProps,J=(j.getLabelProps,j.getMenuProps),K=j.getInputProps,Q=j.getComboboxProps,X=j.highlightedIndex,$=j.getItemProps,ee=j.selectedItem,ne=j.openMenu,le=j.closeMenu,oe=j.selectItem;(0,v.useEffect)((function(){h&&V&&oe({value:"",label:""})}),[V,oe]),(0,v.useEffect)((function(){V&&ee&&C&&requestAnimationFrame((function(){var e=document.querySelector("#".concat(_,"-item-").concat(l.indexOf(ee)));null===e||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})}))}),[_,V,l,ee]);var ie=(0,v.useCallback)((function(){W&&(null===E||void 0===E||E(ee))}),[E,ee,W]);return(0,v.useEffect)((function(){V?Y(!0):(ie(),Y(!1)),ne()}),[V,ie]),v.createElement("div",(0,o.Z)({className:u()(p.host,w)},O),v.createElement("div",{className:p.title,style:{padding:"10px 0 0 26px"}},a.toUpperCase()),v.createElement(c.fv,(0,o.Z)({},Q(),{isActive:V,hasError:H,className:u()(p.inputContainer,Z)}),v.createElement(c.II,(0,o.Z)({className:u()(p.input,M),style:N},K({placeholder:y,"aria-invalid":null!=g||void 0,onFocus:function(){var n;V||ne(),null===e||void 0===e||null===(n=e.onFocus)||void 0===n||n.call(e)}}))),A&&(null===ee||void 0===ee?void 0:ee.label)&&v.createElement("div",{className:S,onClick:function(e){e.stopPropagation(),e.preventDefault(),oe(null)}},v.createElement(s.KF,{className:p.toggleMenuControlsIcons})),v.createElement(c.LG,(0,o.Z)({triggerType:D,isOpen:V,onClick:function(){return V?le():ne()}},G()))),v.createElement(c.ai,(0,o.Z)({},J(),{className:u()(p.menuOverlayList,k),"app-is-visible":V?"true":"false",style:T}),V&&(null===R||void 0===R?void 0:R.map((function(e,n){return v.createElement(c.q_,(0,o.Z)({itemType:b,isVisible:!0,key:"".concat(e).concat(n),className:u()(p.menuOverlayListItem,I),style:P,isHighlighted:X===n},$({item:e,index:n})),(null===e||void 0===e?void 0:e.icon)&&v.createElement("img",{alt:"",style:{alignSelf:"center",marginLeft:"8px",marginRight:"12px",height:"17px",display:"none"},src:null===e||void 0===e?void 0:e.icon}),e.label,v.createElement("pre",{className:p.currencySymbol},null===e||void 0===e?void 0:e.symbol," "))})))),g&&v.createElement(c.Bc,null,g))}},60179:function(e,n,l){"use strict";l.d(n,{iA:function(){return w},z0:function(){return Z},zx:function(){return M}});var o,i,t,d,a,u=l(29439),r=l(87462),v=l(30168),s=l(67861),c=l(43745),p=l(49866),m=l(33613),f=l(79602),_=l(66624),y=l(90369),h=l(67861),g=c.ZP.div(o||(o=(0,v.Z)(["\n\theight: 1rem;\n\tvertical-align: bottom;\n\tdisplay: inline-block;\n\tmargin-right: 0.5rem;\n\tsvg {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\tcursor: ",";\n"])),(function(e){return e.isDragging?"grabbing":"grab"})),b=function(e){return h.createElement(g,e,h.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"grip-vertical",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},h.createElement("path",{fill:"currentColor",fillOpacity:"0.1",d:"M96 32H32C14.33 32 0 46.33 0 64v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM288 32h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z"})))},x=c.ZP.td(i||(i=(0,v.Z)(["\n\tbackground: rgba(127, 207, 250, 0.3);\n"]))),E=c.ZP.td(t||(t=(0,v.Z)(["\n\tbackground: white;\n\t&:first-of-type {\n\t\tmin-width: 20ch;\n\t}\n"]))),C=function(e){var n=e.row,l=(0,p.nB)({id:n.original.id}),o=l.attributes,i=l.listeners,t=l.transform,d=l.transition,a=l.setNodeRef,u=l.isDragging,v={transform:m.ux.Transform.toString(t),transition:d};return h.createElement("tr",(0,r.Z)({ref:a,style:v},n.getRowProps()),u?h.createElement(x,{colSpan:1},"\xa0"):n.cells.map((function(e,n){if(0===n)return h.createElement(E,(0,r.Z)({key:n},e.getCellProps()),h.createElement(b,(0,r.Z)({},o,i)),h.createElement("span",null,e.render("Cell")))})))};function w(e){var n=e.columns,l=e.data,o=e.onhandleDragEnd,i=(0,s.useState)(),t=(0,u.Z)(i,2)[1],d=(0,s.useMemo)((function(){return null===l||void 0===l?void 0:l.map((function(e){return e.id}))}),[l]),a=(0,y.useTable)({columns:n,data:l}),r=a.getTableProps,v=a.getTableBodyProps,c=a.rows,m=a.prepareRow,g=(0,f.Dy)((0,f.VT)(f.MA,{}),(0,f.VT)(f.LO,{}),(0,f.VT)(f.Lg,{}));return h.createElement(f.LB,{sensors:g,onDragEnd:function(e){var n=e.active,i=e.over;if(n.id!==i.id){var a=d.indexOf(n.id),u=d.indexOf(i.id),r=(0,p.Rp)(l,a,u);o(r)}t(null)},onDragStart:function(e){t(e.active.id)},onDragCancel:function(){t(null)},collisionDetection:f.pE,modifiers:[_.DL]},h.createElement("table",r(),h.createElement("tbody",v(),h.createElement(p.Fo,{items:d,strategy:p.qw},c.map((function(e){return m(e),h.createElement(C,{key:e.original.id,row:e})}))))))}var Z=c.ZP.div(d||(d=(0,v.Z)(["\n\t\n\toverflow:auto;\n\tpadding: 0rem;\n\ttable {\n\t\tborder-spacing: 0;\n\t\tborder: 0px dashed black;\n\n\t\ttr {\n\t\t\t:last-child {\n\t\t\t\ttd {\n\t\t\t\t\tborder-bottom: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tth,\n\t\ttd {\n\t\t\tmargin: 0;\n\t\t\twidth: 200rem;\n\t\t\tpadding: 0rem;\n\n\t\t\t:last-child {\n\t\t\t\tborder-right: 0;\n\t\t\t}\n\t\t}\n\t}\n"]))),M=c.ZP.div(a||(a=(0,v.Z)(["\n\tmax-height: 100vh; \n\toverflow:auto;\n\tpadding: 0rem;\n\ttable {\n\t\tborder-spacing: 0;\n\t\tborder: 0px dashed black;\n\n\t\ttr {\n\t\t\t:last-child {\n\t\t\t\ttd {\n\t\t\t\t\tborder-bottom: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tth,\n\t\ttd {\n\t\t\tmargin: 0;\n\t\t\twidth: 200rem;\n\t\t\tpadding: 0rem;\n\n\t\t\t:last-child {\n\t\t\t\tborder-right: 0;\n\t\t\t}\n\t\t}\n\t}\n"])))},32562:function(e,n,l){"use strict";l.d(n,{Z:function(){return D}});var o=l(74165),i=l(15861),t=l(29439),d=l(67861),a=l(88425),u=l(71853),r=l(40694);function v(e){var n=e.createCall,l=e.startHairCheck;return d.createElement("div",{className:"home-screen"},d.createElement(r.Z,{clicked:function(){n().then((function(e){l(e)}))},type:"button",title:"Join Call"}))}var s=l(67861);function c(e){var n=e.id,l=e.isLocal,o=(0,u.ou)(n,"user_name");return s.createElement("div",{className:"username"},o||"Other Participant"," ",l&&"(You)")}var p=l(73500),m=l(67861);function f(e){var n=e.id,l=e.isScreenShare,o=e.isLocal,i=e.isAlone;return o&&(" self-view",i&&" alone"),(0,u._)(n).isOff&&" no-video",m.createElement("div",{className:p.tq?"containerCssClassesMobile":"containerCssClasses",style:{padding:"20px"}},m.createElement(u.E5,{fit:"cover",automirror:!0,sessionId:n,type:l?"screenVideo":"video"}),!l&&m.createElement(c,{id:n,isLocal:o}))}var _=function(){console.log("make sure to allow access to your microphone and camera in your browser's permissions"),window.location.reload()};function y(){return d.createElement("div",{className:"call"},d.createElement("div",{className:"info-box get-user-media-error"},d.createElement("h1",null,"Camera or mic blocked"),d.createElement("button",{onClick:_,type:"button"},"Try again"),d.createElement("p",null,d.createElement("a",{href:"https://docs.daily.co/guides/how-daily-works/handling-device-permissions",target:"_blank",rel:"noreferrer"},"Get help"))))}function h(){var e=(0,d.useState)(!1),n=(0,t.Z)(e,2),l=n[0],o=n[1];(0,u.VU)("camera-error",(0,d.useCallback)((function(){o(!0)}),[]));var i=(0,u.N2)().screens,a=(0,u.OV)({filter:"remote"}),r=(0,u.q5)(),v=a.length<1;return l?d.createElement(y,null):d.createElement("div",{className:"call",style:{display:"flex",flexDirection:p.tq?"column":"row"}},r&&d.createElement(f,{id:r,isLocal:!0,isAlone:v}),a.length>0||i.length>0?d.createElement(d.Fragment,null,a.map((function(e){return d.createElement(f,{key:e,id:e})}))):d.createElement("div",{className:"info-box"},d.createElement("p",null,"Waiting for the other participant")))}function g(){return d.createElement("svg",{"aria-hidden":"true",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 7.5C3.89543 7.5 3 8.39543 3 9.5V14.5C3 15.6046 3.89543 16.5 5 16.5H13C14.1046 16.5 15 15.6046 15 14.5V9.5C15 8.39543 14.1046 7.5 13 7.5H5ZM16.5 10.9491C16.5 10.6634 16.6221 10.3914 16.8356 10.2017L19.3356 7.97943C19.9805 7.40618 21 7.86399 21 8.72684V15.2732C21 16.136 19.9805 16.5938 19.3356 16.0206L16.8356 13.7983C16.6221 13.6086 16.5 13.3366 16.5 13.0509V10.9491Z",fill:"currentColor"}))}function b(){return d.createElement("svg",{"aria-hidden":"true",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{d:"M20.5303 4.53033C20.8232 4.23744 20.8232 3.76256 20.5303 3.46967C20.2374 3.17678 19.7626 3.17678 19.4697 3.46967L14.6168 8.32252L14.6162 8.32164L6.43781 16.5H6.43934L3.46967 19.4697C3.17678 19.7626 3.17678 20.2374 3.46967 20.5303C3.76256 20.8232 4.23744 20.8232 4.53033 20.5303L8.56066 16.5H13C14.1046 16.5 15 15.6046 15 14.5V10.0607L20.5303 4.53033Z",fill:"#f63135"}),d.createElement("path",{d:"M13.2949 7.52159C13.1987 7.50737 13.1002 7.5 13 7.5H5C3.89543 7.5 3 8.39543 3 9.5V14.5C3 15.3978 3.59155 16.1574 4.40614 16.4104L13.2949 7.52159Z",fill:"#f63135"}),d.createElement("path",{d:"M16.5 10.9491C16.5 10.6634 16.6221 10.3914 16.8356 10.2017L19.3356 7.97943C19.9805 7.40618 21 7.86399 21 8.72684V15.2732C21 16.136 19.9805 16.5938 19.3356 16.0206L16.8356 13.7983C16.6221 13.6086 16.5 13.3366 16.5 13.0509V10.9491Z",fill:"#f63135"}))}function x(){return d.createElement("svg",{"aria-hidden":"true",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C10.3431 3 9 4.34315 9 6V12C9 13.6569 10.3431 15 12 15C13.6569 15 15 13.6569 15 12V6C15 4.34315 13.6569 3 12 3ZM7.5 12C7.5 11.5858 7.16421 11.25 6.75 11.25C6.33579 11.25 6 11.5858 6 12C6 13.9175 6.62158 15.4436 7.73826 16.4858C8.67527 17.3603 9.90114 17.8386 11.25 17.9654V20.25C11.25 20.6642 11.5858 21 12 21C12.4142 21 12.75 20.6642 12.75 20.25V17.9654C14.0989 17.8386 15.3247 17.3603 16.2617 16.4858C17.3784 15.4436 18 13.9175 18 12C18 11.5858 17.6642 11.25 17.25 11.25C16.8358 11.25 16.5 11.5858 16.5 12C16.5 13.5825 15.9966 14.6814 15.2383 15.3892C14.4713 16.105 13.3583 16.5 12 16.5C10.6417 16.5 9.52867 16.105 8.76174 15.3892C8.00342 14.6814 7.5 13.5825 7.5 12Z",fill:"currentColor"}))}function E(){return d.createElement("svg",{"aria-hidden":"true",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{d:"M12 3C13.5979 3 14.904 4.24928 14.9949 5.8244L9 11.8193V6C9 4.34315 10.3431 3 12 3Z",fill:"#f63135"}),d.createElement("path",{d:"M15 10.0607L20.5303 4.53033C20.8232 4.23744 20.8232 3.76256 20.5303 3.46967C20.2374 3.17678 19.7626 3.17678 19.4697 3.46967L3.46967 19.4697C3.17678 19.7626 3.17678 20.2374 3.46967 20.5303C3.76256 20.8232 4.23744 20.8232 4.53033 20.5303L8.19557 16.8651C9.05938 17.5005 10.1108 17.8583 11.25 17.9654V20.25C11.25 20.6642 11.5858 21 12 21C12.4142 21 12.75 20.6642 12.75 20.25V17.9654C14.0989 17.8386 15.3247 17.3603 16.2617 16.4858C17.3784 15.4436 18 13.9175 18 12C18 11.5858 17.6642 11.25 17.25 11.25C16.8358 11.25 16.5 11.5858 16.5 12C16.5 13.5825 15.9966 14.6814 15.2383 15.3892C14.4713 16.105 13.3583 16.5 12 16.5C10.919 16.5 9.9933 16.2498 9.27382 15.7868L10.476 14.5846C10.9227 14.8486 11.4436 15 12 15C13.6569 15 15 13.6569 15 12V10.0607Z",fill:"#f63135"}),d.createElement("path",{d:"M7.6111 13.2082C7.53881 12.8415 7.5 12.4394 7.5 12C7.5 11.5858 7.16421 11.25 6.75 11.25C6.33579 11.25 6 11.5858 6 12C6 12.8969 6.13599 13.7082 6.39503 14.4243L7.6111 13.2082Z",fill:"#f63135"}))}function C(){return d.createElement("svg",{"aria-hidden":"true",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{d:"M7 4.5H14C15.3807 4.5 16.5 5.61929 16.5 7V10H15V7C15 6.44772 14.5523 6 14 6H7C6.44772 6 6 6.44772 6 7V17C6 17.5523 6.44772 18 7 18H14C14.5523 18 15 17.5523 15 17V14H16.5V17C16.5 18.3807 15.3807 19.5 14 19.5H7C5.61929 19.5 4.5 18.3807 4.5 17V7C4.5 5.61929 5.61929 4.5 7 4.5Z",fill:"#f63135"}),d.createElement("path",{d:"M19.0303 8.46967C18.7374 8.17678 18.2626 8.17678 17.9697 8.46967C17.6768 8.76256 17.6768 9.23744 17.9697 9.53033L19.6893 11.25H12.75C12.3358 11.25 12 11.5858 12 12C12 12.4142 12.3358 12.75 12.75 12.75H19.6893L17.9697 14.4697C17.6768 14.7626 17.6768 15.2374 17.9697 15.5303C18.2626 15.8232 18.7374 15.8232 19.0303 15.5303L22.0303 12.5303C22.3232 12.2374 22.3232 11.7626 22.0303 11.4697L19.0303 8.46967Z",fill:"#f63135"}))}l(67861);function w(e){var n=e.leaveCall,l=(0,u.VI)(),o=(0,u.N2)(),i=(o.isSharingScreen,o.startScreenShare,o.stopScreenShare,(0,d.useState)(!1)),a=(0,t.Z)(i,2),r=(a[0],a[1],(0,d.useState)(!1)),v=(0,t.Z)(r,2),s=v[0],c=(v[1],(0,d.useState)(!1)),m=(0,t.Z)(c,2),f=(m[0],m[1]),_=(0,u.q5)(),y=(0,u._)(_),h=(0,u.Gg)(_),w=y.isOff,Z=h.isOff;(0,u.F3)({onAppMessage:(0,d.useCallback)((function(){s||f(!0)}),[s])});var M=(0,d.useCallback)((function(){l.setLocalVideo(w)}),[l,w]),S=(0,d.useCallback)((function(){l.setLocalAudio(Z)}),[l,Z]);return d.createElement("div",{className:"controls",style:{flexDirection:p.tq?"column":"row"}},d.createElement("button",{onClick:M,type:"button",style:{width:p.tq?"100%":""}},w?d.createElement(b,null):d.createElement(g,null),w?"Turn camera on":"Turn camera off"),d.createElement("button",{onClick:S,type:"button",style:{width:p.tq?"100%":""}},Z?d.createElement(E,null):d.createElement(x,null),Z?"Unmute mic":"Mute mic"),d.createElement("button",{onClick:n,type:"button",style:{width:p.tq?"100%":""}},d.createElement(C,null)," ","Leave call"))}function Z(e){var n,l,o,i=e.joinCall,a=e.cancelCall,v=(0,u.q5)(),s=(0,u.ou)(v,"user_name"),c=(0,u.Ls)(),m=c.currentCam,f=c.currentMic,_=c.currentSpeaker,h=c.microphones,g=c.speakers,b=c.cameras,x=c.setMicrophone,E=c.setCamera,C=c.setSpeaker,w=(0,u.VI)(),Z=(0,d.useState)(s),M=(0,t.Z)(Z,2),S=M[0],k=M[1],I=(0,d.useState)(!1),N=(0,t.Z)(I,2),T=N[0],P=N[1];(0,d.useEffect)((function(){k(s)}),[s]),(0,u.VU)("camera-error",(0,d.useCallback)((function(){P(!0)}),[]));var D=function(e){e.preventDefault(),i(S.trim())};return T?d.createElement(y,null):d.createElement("form",{className:"hair-check",onSubmit:D},d.createElement("div",{style:{display:"flex",flexDirection:"row",alignContent:"center",alignItems:"center",justifyContent:"space-between",justifyItems:"center",width:"100%"}},d.createElement(r.Z,{title:"Back",clicked:a,type:"button",style:{width:"100px"}}),d.createElement(r.Z,{light:!0,title:"Join",clicked:D,type:"button",style:{width:"100px"}})),d.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center"}},v&&d.createElement(u.E5,{fit:"cover",style:{width:p.tq?"100%":"80%",height:p.tq?"50vh":"80vh"},sessionId:v,mirror:!0})),d.createElement("div",null,d.createElement("label",{htmlFor:"username"},"Your name:"),d.createElement("input",{name:"username",type:"text",placeholder:"Enter username",onChange:function(e){k(e.target.value),w.setUserName(e.target.value)},value:S||" ",style:{border:"1px dashed gray"}})),d.createElement("div",null,d.createElement("label",{htmlFor:"micOptions"},"Microphone:"),d.createElement("select",{name:"micOptions",id:"micSelect",onChange:function(e){x(e.target.value)},value:null===f||void 0===f||null===(n=f.device)||void 0===n?void 0:n.deviceId,style:{border:"1px dashed gray"}},h.map((function(e){return d.createElement("option",{key:"mic-".concat(e.device.deviceId),value:e.device.deviceId},e.device.label)})))),d.createElement("div",null,d.createElement("label",{htmlFor:"speakersOptions"},"Speakers:"),d.createElement("select",{name:"speakersOptions",id:"speakersSelect",onChange:function(e){C(e.target.value)},value:null===_||void 0===_||null===(l=_.device)||void 0===l?void 0:l.deviceId,style:{border:"1px dashed gray"}},g.map((function(e){return d.createElement("option",{key:"speaker-".concat(e.device.deviceId),value:e.device.deviceId},e.device.label)})))),d.createElement("div",null,d.createElement("label",{htmlFor:"cameraOptions"},"Camera:"),d.createElement("select",{name:"cameraOptions",id:"cameraSelect",onChange:function(e){E(e.target.value)},value:null===m||void 0===m||null===(o=m.device)||void 0===o?void 0:o.deviceId,style:{border:"1px dashed gray"}},b.map((function(e){return d.createElement("option",{key:"cam-".concat(e.device.deviceId),value:e.device.deviceId},e.device.label)})))))}var M=l(89293),S=l(30994),k="STATE_IDLE",I="STATE_JOINING",N="STATE_JOINED",T="STATE_ERROR",P="STATE_HAIRCHECK",D=function(e){var n=e.payload,l=(0,d.useState)(k),r=(0,t.Z)(l,2),s=r[0],c=r[1],p=(0,d.useState)(null),m=(0,t.Z)(p,2),f=m[0],_=m[1],y=(0,d.useState)(null),g=(0,t.Z)(y,2),b=g[0],x=g[1],E=(0,d.useState)(!1),C=(0,t.Z)(E,2),D=C[0],A=C[1],O=(0,d.useCallback)((function(){return c("STATE_CREATING"),S.ns.videos.checkRoom(n).then((function(e){return"not-found"===(null===e||void 0===e?void 0:e.error)?S.ns.videos.createRoom(n).then((function(e){return e.url})).catch((function(e){_(null),c(k),A(!0)})):e.url})).catch((function(){_(null),c(k),A(!0)}))}),[]),L=(0,d.useCallback)(function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n){var l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=a.ZP.createCallObject(),_(n),x(l),c(P),e.next=6,l.preAuth({url:n});case 6:return e.next=8,l.startCamera();case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]),z=(0,d.useCallback)((function(e){b.join({url:f,userName:e})}),[b,f]),R=(0,d.useCallback)((function(){b&&(s===T?b.destroy().then((function(){_(null),x(null),c(k)})):(c("STATE_LEAVING"),b.leave()))}),[b,s]);(0,d.useEffect)((function(){var e=(0,M.bi)();e&&L(e)}),[L]),(0,d.useEffect)((function(){var e=(0,M.eu)(f);e!==window.location.href&&window.history.replaceState(null,null,e)}),[f]),(0,d.useEffect)((function(){if(b){var e=["joined-meeting","left-meeting","error","camera-error"];return n(),e.forEach((function(e){return b.on(e,n)})),function(){e.forEach((function(e){return b.off(e,n)}))}}function n(){switch(b.meetingState()){case"joined-meeting":c(N);break;case"left-meeting":b.destroy().then((function(){_(null),x(null),c(k)}));break;case"error":c(T)}}}),[b]);var U=!D&&[I,N,T].includes(s),F=!D&&s===P;return d.createElement("div",{className:"app"},D?d.createElement("div",{className:"api-error"},d.createElement("h1",null,"Error"),d.createElement("p",null,"Room could not be created. For more information, see the"," ",d.createElement("a",{href:"https://github.com/daily-demos/custom-video-daily-react-hooks#readme"},"readme")," ")):F||U?d.createElement(u.Eu,{callObject:b},F?d.createElement(Z,{joinCall:z,cancelCall:R}):d.createElement("div",{className:"call"},d.createElement(h,null),d.createElement(w,{leaveCall:R}),d.createElement(u.Th,null))):d.createElement(v,{createCall:O,startHairCheck:L}))}},59401:function(e,n,l){"use strict";l.d(n,{sM:function(){return r}});var o=l(29439),i=l(1413),t=l(92957),d="SET_SELECTED_COMPONENT",a=(0,t.Z)((function(e,n){var l=n.action,o=n.value;return l===d?(0,i.Z)((0,i.Z)({},e),{},{selectedComponent:o}):(0,i.Z)({},e)}),{selectedComponent:[]}),u=(0,o.Z)(a,2),r=(u[0],u[1])},94667:function(e,n,l){"use strict";l.d(n,{hd:function(){return u}});var o=l(1413),i=(l(56031),l(95256)),t=l(88827),d=l(30994),a=l(96332),u=function(e){var n=t.h.getState().authReducer.sessionSettings.last_access_token,l={analyze:e},u=(0,o.Z)({},d.ns.search.geminiAI(n)),r=(0,o.Z)((0,o.Z)({},u),{},{data:l,handlerEnabled:!0,forwardAllErrors:!0});return new i.y((function(e){return(0,a.b)(r).then((function(n){null!==n&&void 0!==n&&n.data&&(e.next(n.data),e.complete())})).catch((function(n){e.error(n)}))}))}},143:function(){},48963:function(e,n){"use strict";n.Z={selectAndMultiselectHost:"AccordionModule_selectAndMultiselectHost__H5+ac",selectAndMultiselectHostTiles:"AccordionModule_selectAndMultiselectHostTiles__zy8A7",section:"AccordionModule_section__WDGnE",accordionContainer:"AccordionModule_accordionContainer__xiMyc",active:"AccordionModule_active__a1e+z",title:"AccordionModule_title__K6M+I",titleII:"AccordionModule_titleII__F1dBf",customTitleInput:"AccordionModule_customTitleInput__DlCL7",icon:"AccordionModule_icon__7T+T6",loaderContainer:"AccordionModule_loaderContainer__fKA1C",host:"AccordionModule_host__TqxiS",iconsContainer:"AccordionModule_iconsContainer__gYCG-",rotate:"AccordionModule_rotate__ojdmf",content:"AccordionModule_content__N8Nff",fieldTypeInput:"AccordionModule_fieldTypeInput__Mql2D",fieldTypeID:"AccordionModule_fieldTypeID__02C5P",fieldMapInput:"AccordionModule_fieldMapInput__iOK6F",fieldTypeDate:"AccordionModule_fieldTypeDate__sfpwa",labelInput:"AccordionModule_labelInput__djkp5",fieldRowContainer:"AccordionModule_fieldRowContainer__eD864",accordion:"AccordionModule_accordion__dL-hC",emulatedFlexGap:"AccordionModule_emulatedFlexGap__UKu5e",regularAccordion:"AccordionModule_regularAccordion__UnZ1B",singleInputContainer:"AccordionModule_singleInputContainer__7L-68",dateInputContainer:"AccordionModule_dateInputContainer__WIoWU",inputContainerClassName:"AccordionModule_inputContainerClassName__ZLNQe",phoneIInput:"AccordionModule_phoneIInput__bFeGI",currencySelectContainer:"AccordionModule_currencySelectContainer__J5uBg",currencySymbol:"AccordionModule_currencySymbol__jg7Fb",currencySelectComponent:"AccordionModule_currencySelectComponent__vxRYx",currencySelectMenuOverlayList:"AccordionModule_currencySelectMenuOverlayList__suVOI",currencySelectMenuOverlayListItem:"AccordionModule_currencySelectMenuOverlayListItem__F4q4l",currencySearchInput:"AccordionModule_currencySearchInput__EStZB",currencyClearControlsClassName:"AccordionModule_currencyClearControlsClassName__9qj4b",currencyInputContainerClassName:"AccordionModule_currencyInputContainerClassName__gSheY",currencyInput:"AccordionModule_currencyInput__pD6+T",peopleContainer:"AccordionModule_peopleContainer__VbsS1",peopleBooleansOptions:"AccordionModule_peopleBooleansOptions__b1ikO",peoplePositionSelectContainer:"AccordionModule_peoplePositionSelectContainer__KETnD",peoplePositionsSelect:"AccordionModule_peoplePositionsSelect__8SVZX",peoplePositionsSelectInput:"AccordionModule_peoplePositionsSelectInput__Zf0FV",peoplePositionsSelectMenuOverlay:"AccordionModule_peoplePositionsSelectMenuOverlay__G6S96",peoplePositionsSelectMenuOverlayItem:"AccordionModule_peoplePositionsSelectMenuOverlayItem__l7tLe",tileCards:"AccordionModule_tileCards__VEH-p",unfocusableWrapper:"AccordionModule_unfocusableWrapper__ySvhc",menuOverlayList:"AccordionModule_menuOverlayList__53cF+",menuOverlayListItem:"AccordionModule_menuOverlayListItem__52ph5",menuOverlayListItemInput:"AccordionModule_menuOverlayListItemInput__D1qcy",menuOverlayListItemInputContainerClassName:"AccordionModule_menuOverlayListItemInputContainerClassName__jn-Os",openSelectWithSearchHost:"AccordionModule_openSelectWithSearchHost__S8Y7m",openSelectWithSearch:"AccordionModule_openSelectWithSearch__xb15e",dropdownClassContainer:"AccordionModule_dropdownClassContainer__opaaF",dropdownHeightClassContainer:"AccordionModule_dropdownHeightClassContainer__alywJ",fieldTypeTextarea:"AccordionModule_fieldTypeTextarea__wJxdM",fullLengthTextarea:"AccordionModule_fullLengthTextarea__DKcwY",filtersContainer:"AccordionModule_filtersContainer__kaLD+",dropdownSelectComponent:"AccordionModule_dropdownSelectComponent__IfPlb",itemsTable:"AccordionModule_itemsTable__kWpNG",customMenuOverlayListItemCheckboxCheckedMark:"AccordionModule_customMenuOverlayListItemCheckboxCheckedMark__b3B5p",customMenuOverlayListItemNormalCheckedMark:"AccordionModule_customMenuOverlayListItemNormalCheckedMark__tu2Bv",checkbox:"AccordionModule_checkbox__V5Lcp",itemsContainer:"AccordionModule_itemsContainer__bCyAe",listContainer:"AccordionModule_listContainer__RLbAr",tableHostMobile:"AccordionModule_tableHostMobile__AbPfF",tableHostSimple:"AccordionModule_tableHostSimple__JS9c+",action:"AccordionModule_action__N6BJM",mobileTable_ii:"AccordionModule_mobileTable_ii__jIJWm",centerDiv:"AccordionModule_centerDiv__jUmVO",calendar:"AccordionModule_calendar__v3+FG",actionsContainer:"AccordionModule_actionsContainer__Q+UIe",wallet:"AccordionModule_wallet__9uxJi",swiperslide:"AccordionModule_swiperslide__kTurl","checkbox-wrapper-21":"AccordionModule_checkbox-wrapper-21__8wOyr",control:"AccordionModule_control__xQxfW",control__indicator:"AccordionModule_control__indicator__ygU2Z","control--checkbox":"AccordionModule_control--checkbox__7QZcQ",dashboardCard:"AccordionModule_dashboardCard__4lxG5",avatarContentContainer:"AccordionModule_avatarContentContainer__YeEYQ",avatarUrlImg:"AccordionModule_avatarUrlImg__ImMyI",itemsContainer_ii:"AccordionModule_itemsContainer_ii__BNh89",timer:"AccordionModule_timer__7JIP9"}},84878:function(e,n){"use strict";n.Z={App:"MapPin_App__ttDFM",circle:"MapPin_circle__XymBg",circleText:"MapPin_circleText__wjHtA",fieldTypeInput:"MapPin_fieldTypeInput__qK41G",selectText:"MapPin_selectText__OZhje",inputField:"MapPin_inputField__OXU+c",industryMOLI:"MapPin_industryMOLI__PLA7r",multiselectComponent:"MapPin_multiselectComponent__03G3Z",dropdownClassContainer:"MapPin_dropdownClassContainer__5871O"}},55382:function(){},72095:function(){},61219:function(){}}]);
//# sourceMappingURL=50.e20a1ec2.chunk.js.map