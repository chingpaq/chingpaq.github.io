"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[7273],{57273:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var a=n(87462),l=n(1413),i=n(67861),o=n(39518),r=(n(60940),n(79492),n(43984)),s=n(88374),c=n(71982);const d={companyHost:"BillingInfo_companyHost__SHdHY",billingInfoHost:"BillingInfo_billingInfoHost__v7cHk",selectControl:"BillingInfo_selectControl__Vt3TJ",menuOverlayList:"BillingInfo_menuOverlayList__gNvLt","react-datepicker-wrapper":"BillingInfo_react-datepicker-wrapper__DvFS1",tasksTableHost:"BillingInfo_tasksTableHost__WPCKQ",tableHost:"BillingInfo_tableHost__ZHzUb",sectionTitle:"BillingInfo_sectionTitle__IzrGv",formWrapper:"BillingInfo_formWrapper__h8oSs",toggleDayPicker:"BillingInfo_toggleDayPicker__3ynTT",form:"BillingInfo_form__NWku+",inputField:"BillingInfo_inputField__BqFYx",noPaymentInfo:"BillingInfo_noPaymentInfo__ShCOz",containerWrapper:"BillingInfo_containerWrapper__XSz4R",inputWrapper:"BillingInfo_inputWrapper__s51O+",errorParagraph:"BillingInfo_errorParagraph__HhNov",trialContainer:"BillingInfo_trialContainer__bYiBP",trialTitle:"BillingInfo_trialTitle__COL72",dashboardTitle:"BillingInfo_dashboardTitle__5kHjX",subTitle:"BillingInfo_subTitle__wV9n1",trialText:"BillingInfo_trialText__f9goq",trialButton:"BillingInfo_trialButton__yZUgc",updateButton:"BillingInfo_updateButton__fppRx",plansContainer:"BillingInfo_plansContainer__Ohk+7",additionalPlanContainer:"BillingInfo_additionalPlanContainer__PJpPY",planTitle:"BillingInfo_planTitle__bpnTr",planDescriptionContainer:"BillingInfo_planDescriptionContainer__VVA0e",planPrice:"BillingInfo_planPrice__IjtDU",planDescription:"BillingInfo_planDescription__hQKXm",planButton:"BillingInfo_planButton__Us8Kv",month:"BillingInfo_month__EQy1u",currentInvoicesContainer:"BillingInfo_currentInvoicesContainer__ryD63",logoutButton:"BillingInfo_logoutButton__RwI2T",boxesHost:"BillingInfo_boxesHost__myZ4y",products:"BillingInfo_products__9Ucy2",checkoutRightContainer:"BillingInfo_checkoutRightContainer__uzOpS",productsContainer:"BillingInfo_productsContainer__qQwdu",servicesContainer:"BillingInfo_servicesContainer__Gm22k",hr:"BillingInfo_hr__jyJEL",endingMessage:"BillingInfo_endingMessage__3hlqh",userPanelHost:"BillingInfo_userPanelHost__vNdI4",userPanelRows:"BillingInfo_userPanelRows__BE5Q9",plansHost:"BillingInfo_plansHost__IPD8J",wallet:"BillingInfo_wallet__EO6K9"};var p=n(48929),m=n(11577),u=n(10103),g=n(34710),_=n(50981),h=n.n(_),y=n(27658),v=n(90369),f=n(23280),b=n(61616);const E="CancelMembership_membershipHost__fCag6",x="CancelMembership_cancelDescription__gv+nz",w="CancelMembership_benefitContainer__vZJ9H",C="CancelMembership_benefitTitle__RVht7",I="CancelMembership_benefitDescription__jo63S",k="CancelMembership_buttonsContainer__0qOe-",B="CancelMembership_unsubscribeButton__CExEY",N="CancelMembership_continueUnsubscribeButton__sJVdv",P="CancelMembership_dontContinueButton__ofaCy",T="CancelMembership_questionaireContainer__PPjA4";var S=n(49465),D=n(12075),H=n(52902),M=n(67861);const W=function(e){var t;const{onCancelMembership:n,onClose:a}=e,[o,r]=(0,i.useState)(!1),[s,c]=(0,i.useState)([]),[d,m]=(0,i.useState)(0),[u,g]=(0,i.useState)([]),[_,h]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{c([{id:0,question:"Why are you cancelling your subscription?",answer:""},{id:1,question:"What would have made you keep using ".concat(S.iC,"?"),answer:""},{id:2,question:"Would you ever reconsider using ".concat(S.iC," in the future?"),answer:""}]),g([{title:"Real-Time Company-Wide Workflow Updates:",description:"The moment you change a workflow in ".concat(S.iC,", it immediately and automatically updates for everyone. No more need for extra notifications, training, etc. The next time someone follows that workflow, the latest version is always there.")},{title:"An Org Chart That's Actually Useful:",description:"No more static drawings. ".concat(S.iC," is helping teams around the world understand exactly where they are in the org, who they're reporting to, and how the company operates. It's also helping managers share specific workflows and information only with specific roles.")},{title:"Full Transparency Of Every Moving Piece:",description:"".concat(S.iC,"'s Components system is empowering thousands of professionals to spend way less time updating spreadsheets and way more time doing the actual work they want to do! Everything everyone does in the company is automatically saved and timestamped.")},{title:"And A Dozen Other Benefits",description:"Such as automatic issue/delay escalations up the management chain, the ability to create Procedure Flows to see how specific people or deliverables are flowing through your workflows, and so much more."}])},[]),M.createElement(i.Fragment,null,o?M.createElement("div",null,M.createElement("div",{className:E},"A Few Questions Before You Go",M.createElement("p",{className:x},s[d].question)),M.createElement("div",{className:T},M.createElement("textarea",{type:"text",name:"textarea",rows:3,className:"textAreaStyle_T",value:null!==(t=s[d].answer)&&void 0!==t?t:"",onChange:e=>{c(s.map(t=>t.id===d?(0,l.Z)((0,l.Z)({},s[d]),{},{answer:e.target.value}):t))}})),M.createElement("br",null),M.createElement("div",{className:E},M.createElement("div",{className:k},M.createElement(p.zx,{className:N,clicked:()=>{d+1===s.length?h(!0):m(d+1)},title:"Continue"})),M.createElement("span",{className:x},"Question ".concat(d+1," of ").concat(s.length)))):M.createElement("div",{className:E},"Cancel Your Subscription",M.createElement("p",{className:x},"Are you sure you want to cancel your subscription?",M.createElement("br",null),"You will lose the following benefits:"),u.map((e,t)=>M.createElement("div",{key:t,className:w},M.createElement("p",{className:C},e.title),M.createElement("p",{className:I},e.description))),M.createElement("div",{className:k},M.createElement(p.zx,{className:B,clicked:()=>{r(!0)},title:"Cancel Subscription"})),M.createElement("div",{className:k},M.createElement(p.zx,{className:P,clicked:()=>{a()},title:"Don't Cancel Subscription"}))),M.createElement(z,{giveThanks:_,onClose:()=>a(),onCancelMembership:()=>n({reasons:s})}))},z=e=>{const{giveThanks:t,onClose:n,onCancelMembership:a}=e;return M.createElement(p.U7,{isOpen:t,shadowedContainerStyle:{width:"30%",minWidth:"400px",paddingTop:"40px",paddingBottom:"40px"},onClose:()=>n(),scrollable:!0,blured:!0},M.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},M.createElement(D.G,{icon:H.Cly,style:{height:"100px",width:"100px"}}),M.createElement("p",{style:{marginTop:"10px",fontFamily:"var(--app-text-main-font)",fontSize:"24px",fontWeight:"600",color:"blue",marginBottom:"5px",textAlign:"center"}},"Thank You For Answering",M.createElement("br",null),"The Questionaire!"),M.createElement(p.zx,{className:P,style:{width:"100px"},clicked:()=>a(),title:"Close"})))};var A=n(27436),O=n(30994),U=n(46415),Y=n(73500),R=n(72864),F=n(75105),q=n(32588);function Z(e){let{columns:t,data:n,cl:l=d.tasksTableHost}=e;const{getTableProps:o,getTableBodyProps:r,headerGroups:s,rows:c,prepareRow:p}=(0,v.useTable)({columns:t,data:n});return i.createElement("div",{className:l},i.createElement("table",o(),i.createElement("thead",null,s.map(e=>i.createElement("tr",e.getHeaderGroupProps(),e.headers.map(e=>i.createElement("th",e.getHeaderProps(),e.render("Header")))))),i.createElement("tbody",r(),c.map((e,t)=>p(e)||i.createElement("tr",(0,a.Z)({key:t},e.getRowProps()),e.cells.map(e=>i.createElement("td",e.getCellProps(),e.render("Cell"))))))))}const j=(0,o.$j)(e=>{const{authenticatedUser:{position:t},authenticatedUser:n}=e.authReducer,{companyData:a,companyPositionsArray:l,companyUsersArray:i,billable:o,billProducts:r}=e.flowReducer;return{companyData:a,companyPositionsArray:l,position:t,companyUsersArray:i,billable:o,billProducts:r,authenticatedUser:n}},e=>({onSetCompanyDataField:t=>e((0,s.QK)(t)),onSetAuthenticatedUserPosition:t=>e((0,r.IF)(t)),onTutorialModalOpen:t=>e((0,c.ay)(t))}))(function(e){var t,n,a,r;const[c,v]=(0,i.useState)(null),{companyData:E,onSetCompanyDataField:x,companyUsersArray:w,billable:C,billProducts:I,authenticatedUser:k}=e,B=((0,i.useRef)(),(0,o.I0)()),[N,P]=(0,i.useState)(""),[T,D]=(0,i.useState)([]),[H,M]=(0,i.useState)([]),[z,j]=(0,i.useState)(!1),[J,K]=(0,i.useState)([]),[G,V]=(0,i.useState)(0),[L,X]=(0,i.useState)(!1),[$,ee]=(0,i.useState)(-1),[te,ne]=(0,i.useState)({end_date:""}),[ae,le]=(0,i.useState)([]),[ie,oe]=(0,i.useState)(null),[re,se]=(0,i.useState)(!1),[ce,de]=(0,i.useState)(0===w.filter(e=>new Date(e.validity)<(0,_.now)()).filter(e=>e.id===E.updated_by.id).length?w.filter(e=>new Date(e.validity)<(0,_.now)()):w.filter(e=>new Date(e.validity)<(0,_.now)()&&e.id===E.updated_by.id)),[pe,me]=(0,i.useState)([]),{name:ue}=E,[ge,_e]=(0,i.useState)(!1),{hash:he}=(0,f.UO)(),[ye]=(0,i.useState)({name:"",founding_date:"",employees_no:"",industry:"",description:"",position:"",misc_info:""}),[,ve]=(0,i.useState)({name:!1,founding_date:!1,employees_no:!1,industry:!1,description:!1,position:!1});document.title="Billing | ".concat(S.iC),(0,i.useEffect)(()=>{(null===he||void 0===he?void 0:he.length)>0&&(null===C||void 0===C?void 0:C.id.length)>0&&(null===C||void 0===C?void 0:C.id)===he&&C.subscriptionInfo.billable_users.filter((e,t)=>{var n,a;(0,F.TP)(e.id,e.first_name,e.last_name,e.phone,null,null,null,null,"".concat(h()().add(null!==(n=null===(a=C.subscriptionInfo)||void 0===a?void 0:a.duration)&&void 0!==n?n:30,"days").format("YYYY-MM-DD HH:mm:ss"))).pipe((0,m.P)()).subscribe({next:e=>{var n,a;t===C.subscriptionInfo.billable_users.length-1&&(0,y.Iv)({id:null===C||void 0===C?void 0:C.id,total:C.subscriptionInfo.total,product:C.subscriptionInfo.plan,quantity:1,ends_at:"".concat(h()().add(null!==(n=null===(a=C.subscriptionInfo)||void 0===a?void 0:a.duration)&&void 0!==n?n:30,"days").format("YYYY-MM-DD HH:mm:ss"))}).pipe((0,m.P)()).subscribe({next:()=>_e(!0)})}})}),0==w.length&&k.is_admin&&(0,F.AW)().pipe((0,u.q)(1)).subscribe({next:e=>de(0===e.filter(e=>new Date(e.validity)<(0,_.now)()).filter(e=>e.id===E.updated_by.id).length?e.filter(e=>new Date(e.validity)<(0,_.now)()):e.filter(e=>new Date(e.validity)<(0,_.now)()&&e.id===E.updated_by.id))})},[]);const fe=(0,i.useCallback)(e=>{const t=[];0!==(null===e||void 0===e?void 0:e.length)&&(e.map(e=>t.push({description:e.description,total:null===e||void 0===e?void 0:e.invoice_total,status:e.status,date:h()(e.invoice_date).format("MMMM Do, YYYY"),url:i.createElement("a",{href:e.invoice_url,target:"_blank",rel:"noreferrer"},"View Invoice")})),K(t))},[]),be=(0,i.useCallback)(e=>{const t=[];0!==(null===e||void 0===e?void 0:e.length)&&(e.map(e=>t.push({description:e.stripe_product,total:(+(null===e||void 0===e?void 0:e.stripe_price)).toFixed(2),status:e.stripe_status,date:h()(e.starts_at).format("MMMM Do, YYYY"),url:"",id:"".concat(e.stripe_id).substring(0,13),user:null===e||void 0===e?void 0:e.user_id})),K(t))},[]);(0,i.useEffect)(()=>{""===O.lw&&(0,y.hZ)().pipe((0,m.P)()).subscribe({next:e=>{var t;D(e.product),M(e.prices);const n=null===e||void 0===e||null===(t=e.product)||void 0===t?void 0:t.find(e=>"User Subscription"===e.name);if(n){let e=[];Object.entries(n.metadata).map(t=>{t[1]=JSON.parse(t[1]),e.push(t)}),e=Object.fromEntries(e),(0,y.Ik)().pipe((0,m.P)()).subscribe({next:t=>{if(le(t.services),void 0!=t.services&&t.services.length>0){const e=new Date(Math.max(...t.services.map(e=>new Date(e.ends_at))));e>(0,_.now)()&&oe(e)}if(void 0!==t.subscription){var a;const i=new Date(t.subscription.start_date),o=new Date(i.setMonth(i.getMonth()+1)),r=null!==(a=E.billable_users)&&void 0!==a?a:0;Object.entries(e).map(e=>{if(r<=e[1].max&&r>=e[1].min){var a=new Intl.NumberFormat("en-US",{style:"currency",currency:e[1].currency});ne((0,l.Z)((0,l.Z)({},t.subscription),{},{end_date:o.toDateString(),plan:e[0],plan_price:"".concat(e[1].currency," ").concat(a.format(e[1].price)),price_code:n.default_price,total:"".concat(e[1].currency," ").concat(a.format(e[1].price*r))})),x({billing_info:t.billing_info})}})}else if("Company still on trial"===t.message){var i;const t=null!==(i=E.billable_users)&&void 0!==i?i:0;Object.entries(e).map(e=>{if(t<=e[1].max&&t>=e[1].min){var a=new Intl.NumberFormat("en-US",{style:"currency",currency:e[1].currency});ne({plan:e[0],plan_price:"".concat(e[1].currency," ").concat(a.format(e[1].price)),price_code:n.default_price,total:"".concat(e[1].currency," ").concat(a.format(e[1].price*t))})}})}},error:()=>{}})}},error:()=>{}}),""===O.lw?(0,y.sA)().pipe((0,m.P)()).subscribe({next:e=>{e.invoices&&fe(e.invoices)},error:()=>{}}):(0,y.GP)().pipe((0,m.P)()).subscribe({next:e=>{e.data&&be(e.data)},error:()=>{}}),B((0,s.IW)(!0)),B((0,s.tR)(!1))},[]);const Ee=(e,t)=>Object.keys(e).length>0&&Object.keys(e).map((n,a)=>{const l=JSON.parse(e[n]),o=0!=ae.length&&ae.filter(e=>new Date(e.ends_at).getTime()>(0,_.now)()&&e.stripe_price===l.price_code&&e.stripe_product===t).length>0;return i.createElement(p.zx,{disabled:o,key:a,className:d.planButton,lighter:!0,style:{marginBottom:"4px"},loading:z,title:"Basic"===n?"Purchase Now":"Subscribe for "+n,clicked:()=>{Ce("/checkout",{state:{service_name:t,price:l}})}})}),xe=i.useMemo(()=>[{Header:()=>i.createElement("span",null,i.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px",color:"white"},alt:""}),"Payment ID"),accessor:"id"},{Header:()=>i.createElement("span",null,i.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px",color:"white"},alt:""}),"Invoice Date"),accessor:"date"},{Header:()=>i.createElement("span",null,i.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px"},alt:""}),"Description"),accessor:"description"},{Header:()=>i.createElement("span",null,i.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px"},alt:""}),"Notes"),accessor:"status"},{Header:()=>i.createElement("span",null,i.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px"},alt:""}),"Invoice Total"),accessor:"total"}],[]),we=i.useMemo(()=>[{Header:()=>i.createElement("span",null,i.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px"},alt:""}),"Username"),accessor:"username"},{Header:()=>i.createElement("span",null,i.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px",color:"white"},alt:""}),"First Name"),accessor:"first_name"},{Header:()=>i.createElement("span",null,i.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px"},alt:""}),"Last Name"),accessor:"last_name"},{Header:()=>i.createElement("span",null,i.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px"},alt:""}),"Email"),accessor:"email"},{Header:()=>i.createElement("span",null,i.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px"},alt:""}),"Validity"),accessor:"validity"}],[]),Ce=(0,f.s0)();return i.createElement("div",{className:d.billingInfoHost,style:{margin:"200px 0 0 0",padding:"0 0 0 10%"}},i.createElement(b.Z,{headerTitle:"Billing",targetProcessing:!1}),i.createElement(p.j3,{permissions:[p.po.billing.view]},i.createElement("div",{style:{display:"flex"}},i.createElement("div",{className:d.currentInvoicesContainer,style:{minWidth:"200px",display:"on_trial"===E.status||"trial_ended"===E.status||"free"===E.status||"inactive"===E.status?"":"none"}},i.createElement("p",{className:d.dashboardTitle},"Active Plan"),i.createElement("p",{className:d.trialText,style:{fontWeight:"100",fontSize:"inactive"===E.status?"16px":"20px",textAlign:"center"}},"on_trial"===E.status?"Trial (".concat(parseInt((new Date(E.trial_ends_at).getTime()-(0,_.now)())/864e5)," days left)"):"inactive"===E.status?"Expired. Subscription required":"free"===E.status?"Free Plan":"Trial Ended")),i.createElement("div",{className:d.currentInvoicesContainer,style:{minWidth:"200px"}},i.createElement("p",{className:d.dashboardTitle},"Total Users"),i.createElement("p",{className:d.trialText,style:{fontWeight:"100",textAlign:"center"}},null!==(t=null===w||void 0===w?void 0:w.length)&&void 0!==t?t:"")),i.createElement("div",{className:d.currentInvoicesContainer,style:{minWidth:"200px",display:"on_trial"===E.status||"trial_ended"===E.status||"free"===E.status?"none":""}},i.createElement("p",{className:d.dashboardTitle},"Subscribed Users"),i.createElement("p",{className:d.trialText,style:{fontWeight:"100",textAlign:"center"}},(null!==(n=null===w||void 0===w?void 0:w.length)&&void 0!==n?n:0)-ce.length)),i.createElement("div",{className:d.currentInvoicesContainer,style:{minWidth:"200px"}},i.createElement("p",{className:d.dashboardTitle},"For Subscription"),i.createElement("p",{className:d.trialText,style:{fontWeight:"100",textAlign:"center"}},(null===pe||void 0===pe?void 0:pe.length)>0?pe.length:ce.length))),i.createElement(U.mQ,{style:{fontFamily:"var(--app-text-main-font)",fontSize:Y.tq?"12px":"20px"},selectedIndex:G,onSelect:e=>{V(e)}},i.createElement(U.td,null,i.createElement(U.OK,null,i.createElement("p",null,"Products")),i.createElement(U.OK,null,i.createElement("p",null,"Subscriptions"))),i.createElement(U.x4,null,i.createElement("div",{style:{minWidth:Y.tq?"110%":"600px",marginTop:"20px",width:Y.tq?"100%":"80%"}},"Click one plan to subscribe:",i.createElement("div",{style:{display:"flex"}},(I.length>0||T.length)>0&&""===O.lw?T.slice(0,2).map((e,t)=>{var n;const a=null!==(n=H.find(t=>t.id===e.default_price))&&void 0!==n?n:{cost:"0.00",currency:""};return i.createElement("div",{key:t,className:d.additionalPlanContainer,style:{marginRight:"20px"}},i.createElement("p",{className:d.planTitle},"".concat(e.name," ").concat(e.options.currency).concat(e.options.price,".00")),i.createElement("p",{className:d.planPrice},a.currency.toUpperCase()," ",a.cost," ",i.createElement("span",{className:d.month},"/month")),i.createElement("p",{className:d.planPrice},a.currency.toUpperCase()," ",a.cost," ",i.createElement("span",{className:d.month},"/month")),i.createElement("div",{className:d.planDescriptionContainer},i.createElement("p",{className:d.planDescription,style:{fontSize:"16px"}},e.description)),Object.keys(e.metadata).length>0?"active"===E.status&&Ee(e.metadata,e.id):"active"===E.status&&i.createElement(p.zx,{loading:z,lighter:!0,className:d.planButton,clicked:()=>(async e=>{let{price:t}=e;E.billing_info.email,E.billing_info.id,"".concat(window.location.origin,"/success"),"".concat(window.location.origin,"/cancel"),j(!0),j(!1)})({price:e.default_price}),title:"Purchase Now"}),i.createElement("br",null))}):i.createElement("div",{className:d.plansHost},null===I||void 0===I?void 0:I.map((e,t)=>{var n,a;return i.createElement("div",{key:t,style:{padding:"10px"}},i.createElement(q.Z,{height:"340px",firstName:"".concat(e.stripe_ref),pposition:"".concat(e.options.currency," ").concat(e.options.price," ").concat(e.options.dlabel),position:i.createElement("div",{style:{textAlign:"center",margin:"20px"}},"".concat(e.options.currency," ").concat(e.options.price," ").concat(e.options.dlabel),(null===(n=e.options)||void 0===n?void 0:n.onetime)&&i.createElement("div",{style:{fontSize:""}},"+ ".concat(e.options.currency).concat(null===(a=e.options)||void 0===a?void 0:a.onetime," admin / month"))),email:e.options.description,cardClicked:()=>{var t,n,a,l,i,o,r;ce.length>0&&(ne({plan_price:e.options.price,currency:e.options.currency,plan:null!==(t=e.name)&&void 0!==t?t:e.stripe_ref,total:e.options.price*(0==pe.length?ce.length:pe.length)+pe.concat(ce).filter(e=>e.id===E.updated_by.id).length>0?+(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.onetime):0,billable_users:0==pe.length?ce:pe,duration:e.options.duration,dlabel:e.options.dlabel,onetime:pe.concat(ce).filter(e=>e.id===E.updated_by.id).length>0?+(null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.onetime):void 0}),B((0,s.IW)(!1)),Ce("/checkout",{state:{companyData:E,subscriptionInfo:{plan_price:e.options.price,currency:e.options.currency,description:null!==(l=null===e||void 0===e?void 0:e.description)&&void 0!==l?l:null===e||void 0===e?void 0:e.name,plan:null!==(i=null===e||void 0===e?void 0:e.name)&&void 0!==i?i:null===e||void 0===e?void 0:e.stripe_ref,total:e.options.price*(0==pe.length?ce.length:pe.length)+(pe.concat(ce).filter(e=>e.id===E.updated_by.id).length>0?+(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.onetime):0),billable_users:0==pe.length?ce:pe,duration:e.options.duration,dlabel:e.options.dlabel,user_id:k.id,onetime:pe.concat(ce).filter(e=>e.id===E.updated_by.id).length>0?+(null===e||void 0===e||null===(r=e.options)||void 0===r?void 0:r.onetime):void 0},type:"Subscription"}}))}}))}),i.createElement("div",{style:{padding:"10px"}},i.createElement(q.Z,{height:"340px",firstName:"Enterprise",position:"Custom",email:"Feel free to contact us to discuss your large scale needs, self-hosted requirements or application customization. Click this button to send an email to support. We will immediately get back to you.",cardClicked:()=>{window.location="mailto:manuel.parungao@adpgxsoftware.com"}})))),"Optional: Select users for individual subscription.",i.createElement("div",{className:d.userPanelHost},ce.map((e,t)=>{var n;return i.createElement("div",{className:d.userPanelRows,key:t},i.createElement(R.Z,{task:{name:L?"".concat(e.first_name," ").concat(e.last_name," (").concat(null!==(n=e.validity)&&void 0!==n?n:"New",")"):"".concat(e.first_name," ").concat(e.last_name),status:null},clicked:()=>{pe.filter(t=>t.id===e.id).length>0?me(pe.filter(t=>t.id!==e.id)):me([...pe,e])},setTaskToEdit:()=>{},openModal:()=>{}}))})))),i.createElement(U.x4,null,i.createElement("div",{style:{minWidth:Y.tq?"110%":"600px",marginTop:"20px",width:Y.tq?"100%":"70%"}},i.createElement("div",{style:{display:""===O.lw?"none":"flex"}},i.createElement(Z,{columns:we,data:w})))),i.createElement("br",null))),i.createElement("div",{className:d.wallet},i.createElement("div",{style:{color:"black",fontSize:"14px"}},"Payments Wallet:"),i.createElement("div",{style:{color:"black",fontSize:"20px",fontWeight:"bold",margin:"5px 0 80px"}},"Php ",null!==(a=null===k||void 0===k||null===(r=k.wallet)||void 0===r?void 0:r.toFixed(2))&&void 0!==a?a:"0.00"),i.createElement("div",{className:d.actionsContainer},i.createElement(p.zx,{clear:!0,title:"Top Up",clicked:()=>ee(0),style:{backgroundColor:"var(--app-color-blue)",color:"white",width:"140px",display:$>-1?"none":""}})),i.createElement("div",{style:{width:"inherit",display:-1===$?"none":""}},i.createElement("div",{style:{color:"black"},onClick:()=>ee(-1)},"Select your denomination:"),i.createElement(p.zx,{light:500!==$,title:"Php 500.00",clicked:()=>ee(500),style:{width:"100%"}}),i.createElement(p.zx,{light:1e3!==$,title:"Php 1000.00",clicked:()=>ee(1e3),style:{width:"100%"}}),i.createElement(p.zx,{light:2e3!==$,title:"Php 2000.00",clicked:()=>ee(2e3),style:{width:"100%"}}),i.createElement(p.zx,{light:3e3!==$,title:"Php 3000.00",clicked:()=>ee(3e3),style:{width:"100%"}}),$>0&&i.createElement(p.zx,{light:!0,title:"Proceed to Checkout",clicked:()=>{B((0,s.IW)(!1)),Ce("/checkout",{state:{companyData:E,subscriptionInfo:{user_id:k.id,ref:k.id,plan_price:$,currency:"PHP",plan:"Wallet",description:"Credits",total:$,billable_users:[],duration:0,dlabel:"Flowhero",id:(0,S.mR)()},type:"Credits"}})},style:{backgroundColor:"var(--app-color-blue)",color:"white",width:"100%"}}))),i.createElement(U.mQ,{style:{fontFamily:"var(--app-text-main-font)",fontSize:Y.tq?"12px":"20px"}},i.createElement(U.td,null,i.createElement(U.OK,null,i.createElement("p",null,"My Payments")),i.createElement(p.j3,{permissions:[p.po.billing.view]},i.createElement(U.OK,null,i.createElement("p",null,"Payment History")))),i.createElement(U.x4,null,i.createElement("div",{style:{fontSize:"18px",minWidth:Y.tq?"110%":"600px",marginTop:"20px",width:Y.tq?"100%":"80%"}},i.createElement(i.Fragment,null,i.createElement(Z,{columns:xe,data:J.filter(e=>e.user===k.id)}),0===J.length&&i.createElement("p",{className:d.noPaymentInfo},"No available invoices.")))),i.createElement(p.j3,{permissions:[p.po.billing.view]},i.createElement(U.x4,null,i.createElement("div",{style:{fontSize:"18px",minWidth:Y.tq?"110%":"600px",marginTop:"20px",width:Y.tq?"100%":"80%"}},i.createElement(i.Fragment,null,i.createElement(Z,{columns:xe,data:J}),0===J.length&&i.createElement("p",{className:d.noPaymentInfo},"No available invoices.")))))),(null===N||void 0===N?void 0:N.length)>0&&i.createElement("p",{className:d.errorParagraph},N),c&&i.createElement(A.Z,{message:c}),ge&&i.createElement(Q,{message:"",handler:e=>{B((0,s.zt)({})),me([]),de(e.filter(e=>new Date(e.validity)<(0,_.now)())),Ce("/billing-info"),_e(!1)}}),"active"===E.status&&void 0!==te.price_code&&i.createElement(p.zx,{className:d.logoutButton,title:"Cancel Subscription",clicked:()=>{se(!0)}}),i.createElement(p.U7,{blured:!0,scrollable:!0,isOpen:re,onClose:()=>{se(!1)},backdropColor:!0,shadowedContainerStyle:{width:"680px"}},i.createElement(W,{onCancelMembership:e=>{se(!1),(0,y.r1)(e).pipe((0,m.P)()).subscribe({next:()=>{(0,g.aK)().pipe((0,m.P)()).subscribe({})},error:e=>{v(e.data.message.message)}})},onClose:()=>{se(!1)}})))}),Q=e=>{const{setCompletedModal:t,message:n,handler:a=()=>{}}=e,[l,o]=(0,i.useState)(!1);return i.createElement(p.U7,{isOpen:!0,shadowedContainerStyle:{width:"35%",minWidth:"500px"},onClose:()=>t(!1),scrollable:!0,blured:!0},i.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},i.createElement("p",{style:{marginTop:"50px",fontSize:"26px",color:"#4A4A4A",marginBottom:"5px",textAlign:"center"}},"Your subscription to ".concat(S.iC," was successful")),i.createElement("p",{style:{width:"300px",fontFamily:"var(--app-text-main-font)",fontSize:"16px",color:"#4A4A4A",textAlign:"center",marginBottom:"20px"}},i.createElement("br",null),"Newly subcribed user may need to login again to refresh their page.",i.createElement("br",null)),i.createElement(p.zx,{style:{width:"200px"},loading:l,clicked:()=>{o(!0),(0,F.AW)(!0).pipe((0,u.q)(1)).subscribe({next:e=>a(e)})},title:"Continue"})))}},72864:(e,t,n)=>{n.d(t,{Z:()=>p});var a=n(50981),l=n.n(a),i=n(67861),o=n(85692),r=n(48929);const s="TaskCard_task-card__8sPmS",c="TaskCard_task-card-container__rHG31",d="TaskCard_clickLabel__A3ARk";const p=function(e){const{task:t,openModal:n=()=>{},setTaskToEdit:a=()=>{},clicked:p=()=>{},isEditable:m,priority:u}=e,{name:g,process:_,status:h,add_info:y}=t;return i.createElement("div",{className:s},t.completed_at?i.createElement("div",{className:c,style:{flex:1},onClick:()=>{n(),a()}},i.createElement("p",{className:d,style:{fontWeight:"bold",color:void 0!==u?"green":""}},"".concat(g)),i.createElement("p",{className:d},l()(t.completed_at).format("DD of MMMM YYYY"))):i.createElement("div",{className:c,style:{fontWeight:"bold",color:"var(--app-color-gray-dark)",padding:"10px"}},i.createElement(r.XZ,{llabel:"".concat(void 0!==u?"".concat(u):""," ").concat(g," ").concat(null!==h?"  (".concat(h,")"):""),onChange:p}),i.createElement("div",{style:{padding:"7px",textJustify:"left",width:"100%",cursor:"pointer"},onClick:()=>{n(),a()}},"".concat(void 0!==u?"".concat(u):""," ").concat(g," ").concat(null!==h?"  (".concat(h,")"):"")),m&&i.createElement("img",{alt:"",style:{cursor:"pointer"},src:o.eP,onClick:()=>{n(),a()}})))}},61616:(e,t,n)=>{n.d(t,{Z:()=>s});const a="HeaderTopBar_headerTopBar__D+HJ9",l="HeaderTopBar_headerTopBarContainer__1jgza",i="HeaderTopBar_loadingContainer__UcfwW";var o=n(93572),r=n(67861);const s=e=>{const{hasHeaderImg:t,headerTitle:n,headerImgSrc:s,targetProcessing:c}=e;return r.createElement("div",{className:a},r.createElement("div",{className:l},t&&r.createElement("img",{alt:"",src:s}),r.createElement("p",null,n),c&&r.createElement("span",{className:i},r.createElement(o.Z,{type:"Watch",color:"var(--app-color-gray-light)",height:15,width:"".concat(30,"px")}))))}},60940:()=>{}}]);
//# sourceMappingURL=7273.3739ac53.chunk.js.map