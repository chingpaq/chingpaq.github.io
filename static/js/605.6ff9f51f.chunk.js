"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[605],{63789:function(e,t,n){n.d(t,{Z:function(){return M}});var a=n(29439),l=n(96189),i=n(89293),o="UserOverviewModal_topContainer__SfY2a",r="UserOverviewModal_avatarContainer__qWrM5",s="UserOverviewModal_name__i+epl",d="UserOverviewModal_position__8Heb9",c=n(1413),u=n(67861),m="PageSubtitle_host__1jvVf",p="PageSubtitle_pageSubtitleHost__vDvTj",v="PageSubtitle_pageSubtitleChild__s3-5p",f=function(e){var t=e.subtitleImage,n=e.subtitleText,a=e.style,l=e.smallerSubtitle;return u.createElement("div",{className:m},u.createElement("div",{className:p,style:(0,c.Z)({},a)},t&&u.createElement("img",{src:t,className:"grey-svg-image-filter",alt:""}),u.createElement("p",null,n)),l&&u.createElement("div",{className:v},u.createElement("p",null,l)))},_=n(50981),y=n.n(_),g=n(51481),E=n(10103),h=n(11577),Z=n(72864),b=n(87462),x=n(90369),P=n(62589),C="TasksTable_tasksTableHost__msAp6";var w=function(e){var t=e.historyData,n=e.currentPage,i=e.lastPage,o=e.setPage,r=e.loading,s=e.setLoading,d=e.columns,c=e.data,m=(0,u.useState)(!1),p=(0,a.Z)(m,2),v=p[0],f=p[1],_=(0,u.useState)(""),y=(0,a.Z)(_,2),g=y[0],E=y[1],h=(0,u.useState)(""),Z=(0,a.Z)(h,2),w=Z[0],T=Z[1],N=(0,u.useState)(""),M=(0,a.Z)(N,2),k=M[0],S=M[1],F=(0,u.useState)(""),D=(0,a.Z)(F,2),O=D[0],I=D[1],U=(0,u.useState)(""),j=(0,a.Z)(U,2),L=j[0],Y=j[1],A=(0,u.useState)(""),q=(0,a.Z)(A,2),H=q[0],B=q[1],W=(0,u.useState)(""),z=(0,a.Z)(W,2),R=z[0],G=z[1],K=(0,u.useState)(""),V=(0,a.Z)(K,2),$=V[0],J=V[1],Q=(0,x.useTable)({columns:d,data:c}),X=Q.getTableProps,ee=Q.getTableBodyProps,te=Q.headerGroups,ne=Q.rows,ae=Q.prepareRow;return u.createElement("div",{className:C},u.createElement("table",X(),u.createElement("thead",null,te.map((function(e,t){return u.createElement("tr",(0,b.Z)({key:t},e.getHeaderGroupProps(),{className:"header-row"}),e.headers.map((function(e,t){return u.createElement("th",(0,b.Z)({key:t},e.getHeaderProps()),e.render("Header"))})))}))),u.createElement("tbody",ee(),ne.map((function(e,n){return ae(e),u.createElement("tr",(0,b.Z)({key:n},e.getRowProps(),{onClick:function(){return e=t[n],J(e),f(!v),E(e.taskName),T(e.createdAt),S(e.completedOn),I(e.duration),Y(e.taskCreator),B(e.taskAssignee),void G(null===e||void 0===e?void 0:e.process);var e},style:{cursor:"pointer"}}),e.cells.map((function(e,t){return u.createElement("td",(0,b.Z)({key:t},e.getCellProps()),e.render("Cell"))})))})))),0==c.length&&u.createElement("p",null,"No Tasks Found"),u.createElement("div",{style:{textAlign:"center",marginTop:"20px",paddingBottom:"50px"}},n!==i&&c.length>0&&u.createElement(l.nw,{loadMorePressed:function(){s(!r),o(n+1)},apiRequest:r})),u.createElement(P.Z,{openedTask:$,createdAt:w,taskName:g,completedOn:k,duration:O,taskCreator:L,taskAssignee:H,process:R,modalVisible:v,modalClosed:function(){return f(!v)},hasTutorial:!0,blured:!0,childrenWrapperStyle:{alignItems:"center"},onCancel:function(){return f(!v)}}))},T=n(23280),N=n(73500),M=function(e){var t,n,c,m,p=e.isVisible,v=e.activeItem,_=e.handleClose,b=(e.isAdmin,v.first_name),x=v.last_name,P=v.id,C=(0,u.useState)([]),M=(0,a.Z)(C,2),k=M[0],S=M[1],F=(0,u.useState)([]),D=(0,a.Z)(F,2),O=D[0],I=D[1],U=(0,u.useState)([]),j=(0,a.Z)(U,2),L=j[0],Y=j[1],A=(0,u.useState)(!1),q=(0,a.Z)(A,2),H=q[0],B=q[1],W=(0,u.useState)(!1),z=(0,a.Z)(W,2),R=z[0],G=z[1],K=(0,u.useState)({laterTasks:[],todayTasks:[],overdueTasks:[]}),V=(0,a.Z)(K,2),$=V[0],J=V[1],Q=(0,u.useState)(1),X=(0,a.Z)(Q,2),ee=X[0],te=X[1],ne=(null===O||void 0===O?void 0:O.meta)||{},ae=ne.current_page,le=ne.from,ie=O.data&&(null===O||void 0===O||null===(t=O.data)||void 0===t?void 0:t.map((function(e){return e}))),oe=function(e){return B(e)},re=function(e){return G(e)};(0,T.s0)();(0,u.useEffect)((function(){return ue()}),[O.data]),(0,u.useEffect)((function(){return se()}),[k]),(0,u.useEffect)((function(){oe(!0),(0,g.km)(P,!0).pipe((0,E.q)(1)).subscribe({next:function(e){S(e),oe(!1)},error:function(){oe(!1)},complete:function(){oe(!1)}})}),[]),(0,u.useEffect)((function(){re(!0),(0,g.qp)(ee,P,!0).pipe((0,h.P)()).subscribe({next:function(e){I(e),re(!1)}})}),[ee]);var se=(0,u.useCallback)((function(){var e=[],t=[],n=[];0!==(null===k||void 0===k?void 0:k.length)&&(k.map((function(a){var l=y()(new Date).format("YYYY-MM-DD");return y()(a.due_date,"YYYY-MM-DD").isSame(l)?t.push(a):y()(a.due_date,"YYYY-MM-DD").isAfter(l)?n.push(a):e.push(a)})),J({laterTasks:n,todayTasks:t,overdueTasks:e}))}),[k]),de=function(e){return e.length>0&&e.map((function(e,t){return u.createElement("div",{key:t},u.createElement(Z.Z,{task:e,taskId:e.id}))}))},ce=u.useMemo((function(){return[{Header:function(){return u.createElement("span",null,"Task Name")},accessor:"taskName"},{Header:function(){return u.createElement("span",null,"Completed On")},accessor:"completedOn"}]}),[]),ue=(0,u.useCallback)((function(){var e,t,n=[];0!==(null===O||void 0===O||null===(e=O.data)||void 0===e?void 0:e.length)&&(null===O||void 0===O||null===(t=O.data)||void 0===t||t.map((function(e){var t;return n.push({taskName:e.name,process:null===e||void 0===e||null===(t=e.process)||void 0===t?void 0:t.name,completedOn:y()(e.completed_at).format("DD of MMMM YYYY hh:mm"),duration:e.duration})})),Y(n))}),[O]);return u.createElement(l.U7,{isOpen:p,modalWrapperStyle:{margin:0},shadowedContainerStyle:{width:N.tq?"100%":"50%"},onClose:function(){return _()},scrollable:!0,blured:!0},u.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},u.createElement(l.zx,{title:"Close",clicked:_,style:{width:"100px"}})),u.createElement("div",{style:{padding:"20px"}},u.createElement("div",{style:{display:"flex",flexDirection:"column"}},u.createElement("div",{className:o},u.createElement("div",{className:r},(null===v||void 0===v||null===(n=v.photo)||void 0===n?void 0:n.length)>0&&u.createElement("img",{alt:"lg",src:(0,i.oY)(v.photo)}))),u.createElement("div",{style:{padding:"30px"}},u.createElement("p",{className:s},b+" "+x),(null===v||void 0===v||null===(c=v.positions)||void 0===c?void 0:c.length)>0&&(null===v||void 0===v||null===(m=v.positions)||void 0===m?void 0:m.map((function(e,t){return u.createElement("div",{key:t},u.createElement("p",{className:d},null===e||void 0===e?void 0:e.name))}))))),u.createElement("div",{style:{display:"none",flexDirection:"row",justifyContent:"initial"}},u.createElement("div",{style:{marginRight:"20px",width:"33%"}},u.createElement(l.SO,{cardTitle:"Overdue"},H?u.createElement(l.$j,{type:"BallTriangle",color:"var(--app-color-gray-light)",height:30,width:"".concat(30,"px")}):de($.overdueTasks))),u.createElement("div",{style:{marginRight:"20px",width:"33%"}},u.createElement(l.SO,{cardTitle:"Today"},H?u.createElement(l.$j,{type:"BallTriangle",color:"var(--app-color-gray-light)",height:30,width:"".concat(30,"px")}):de($.todayTasks))),u.createElement("div",{style:{width:"33%"}},u.createElement(l.SO,{cardTitle:"Upcoming"},H?u.createElement(l.$j,{type:"BallTriangle",color:"var(--app-color-gray-light)",height:30,width:"".concat(30,"px")}):de($.laterTasks)))),u.createElement("div",{style:{display:"flex",flexDirection:"column"}},u.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",padding:"5px",paddingLeft:"5px"}},u.createElement(f,{subtitleText:"Tasks History"})),R?u.createElement(l.$j,{type:"BallTriangle",color:"var(--app-color-gray-light)",height:30,width:"".concat(30,"px")}):u.createElement(w,{loading:R,currentPage:ae,lastPage:le,setLoading:G,historyData:ie,page:ee,setPage:te,columns:ce,data:L}))))}},62589:function(e,t,n){n.d(t,{Z:function(){return g}});var a=n(1413),l=n(67861),i=(n(83381),n(39518)),o=n(88374),r=n(96189),s="InfoTaskModal_savedDescription__4uzvj",d="InfoTaskModal_contentWrapper__gt+iR",c="InfoTaskModal_contentContainer__DoP5Z",u="InfoTaskModal_content__42cL+",m="InfoTaskModal_backIconContainer__eM6Vt",p="InfoTaskModal_fieldHistoryTitle__z8Foi",v=n(50981),f=n.n(v),_=n(73500);var y=function(e){var t=e.title,n=e.content;return l.createElement("div",null,l.createElement("p",{className:p},t),l.createElement("p",{className:s},n),e.children)},g=(0,i.$j)((function(e){var t=e.flowReducer;return{inviteColleguesList:t.inviteColleguesList,companyData:t.companyData}}),(function(e){return{onSetCompanyDataField:function(t){return e((0,o.QK)(t))}}}))((function(e){var t=e.modalVisible,n=e.childrenWrapperStyle,i=e.modalClosed,o=e.openedTask,s=o.name,p=o.created_at,v=o.completed_on,g=o.duration,E=(o.process,o.creator),h=o.assignee;return o.components,t?l.createElement("div",null,l.createElement(r.U7,{backdropStyle:{height:"900px"},marginTop:"500px",onClose:i,shadowedContainerStyle:{width:_.tq?"100%":"40%"},position:"fixed",scrollable:!0,backdropColor:!0,blured:!0,width:"90%",isOpen:t},l.createElement("div",{className:m},l.createElement(r.zx,{title:"Close",clicked:i})),l.createElement("div",{className:d,style:(0,a.Z)({},n)},l.createElement("div",{className:c},l.createElement("div",{className:u},l.createElement(y,{title:"Task Name",content:s}),l.createElement(y,{title:"Task Created On",content:f()(p).format("DD of MMMM YYYY hh:mm")}),l.createElement(y,{title:"Completed On",content:f()(v).format("DD of MMMM YYYY hh:mm")}),l.createElement(y,{title:"Time on this Task",content:g}),l.createElement(y,{title:"Task Creator",content:E.first_name+" "+E.last_name}),l.createElement(y,{title:"Assignee",content:h.first_name+" "+h.last_name})))))):null}))},91605:function(e,t,n){n.r(t),n.d(t,{LabeledContainer:function(){return C}});var a=n(4942),l=n(87462),i=n(1413),o=n(29439),r=n(67861),s=n(29118),d=n(39518),c=n(11577),u=n(41771),m=n(43984),p=n(75105),v=n(89293),f=n(96189),_=n(61616),y=n(29),g=n(73500),E=n(88374),h=n(23280),Z=n(34665),b=n(63789),x=n(46415),P=n(34710),C=function(e){var t=e.label,n=e.children,a=e.readOnly;return r.createElement("div",{className:y.Z.labeledContainerHost,style:{width:g.tq?"100%":"50%"},"app-readonly":a?"true":"false"},r.createElement("p",{className:y.Z.labeledContainerLabel},t),n)},w=function(e){var t=e.label,n=e.error,a=e.children,l=e.wrappedContent;return r.createElement("div",{className:y.Z.labeledFieldHost},r.createElement("p",{className:y.Z.labeledFieldLabel},t),l?r.createElement("div",{className:y.Z.labeledFieldChildrenContainer},a):a,(null===n||void 0===n?void 0:n.length)>0&&r.createElement("p",{className:y.Z.labeledFieldError},n))};t.default=(0,d.$j)((function(e){var t=e.authReducer.authenticatedUser,n=e.sessionReducer.user,a=e.flowReducer;return{authenticatedUser:t,user:n,components:a.components,companyData:a.companyData,companyPositionsArray:a.companyPositionsArray}}),(function(e){return{onSetAuthenticatedUserPosition:function(t){return e((0,m.IF)(t))}}}))((function(e){var t,n,m,T,N,M,k,S,F,D,O,I,U,j,L,Y,A,q,H=e.authenticatedUser,B=e.user,W=e.components,z=e.companyData,R=e.companyPositionsArray,G=(0,h.TH)().state,K=(0,r.useState)(""),V=(0,o.Z)(K,2),$=V[0],J=V[1],Q=(0,r.useState)(null!==(t=null===G||void 0===G?void 0:G.user)&&void 0!==t?t:H),X=(0,o.Z)(Q,2),ee=X[0],te=X[1],ne=(0,r.useState)(""),ae=(0,o.Z)(ne,2),le=ae[0],ie=ae[1],oe=(0,r.useState)(""),re=(0,o.Z)(oe,2),se=re[0],de=re[1],ce=(0,r.useState)(ee.phone),ue=(0,o.Z)(ce,2),me=(ue[0],ue[1],(0,r.useState)("")),pe=(0,o.Z)(me,2),ve=pe[0],fe=pe[1],_e=(0,r.useState)(""),ye=(0,o.Z)(_e,2),ge=ye[0],Ee=ye[1],he=(0,r.useState)(""),Ze=(0,o.Z)(he,2),be=Ze[0],xe=Ze[1],Pe=(0,r.useState)(!1),Ce=(0,o.Z)(Pe,2),we=Ce[0],Te=Ce[1],Ne=(0,r.useState)(!1),Me=(0,o.Z)(Ne,2),ke=Me[0],Se=Me[1],Fe=(0,r.useState)(!1),De=(0,o.Z)(Fe,2),Oe=De[0],Ie=De[1],Ue=(0,r.useState)(!1),je=(0,o.Z)(Ue,2),Le=je[0],Ye=je[1],Ae=(0,r.useState)(!1),qe=(0,o.Z)(Ae,2),He=(qe[0],qe[1],(0,r.useState)(!1)),Be=(0,o.Z)(He,2),We=Be[0],ze=Be[1];document.title="My Profile | ".concat(v.iC);var Re=(0,h.s0)(),Ge=(0,d.I0)(),Ke=(0,r.useCallback)((function(e){return e.forEach((function(e){var t,n;if(J(""),(null===e||void 0===e||null===(t=e.type)||void 0===t?void 0:t.toString().indexOf("image/"))>-1&&["jpeg","jpg","png"].indexOf(null===e||void 0===e||null===(n=e.type)||void 0===n?void 0:n.toString().split("/")[1])>-1){var a=new FileReader;a.readAsDataURL(e),a.onloadend=function(t){(new FormData).append("avatar",e),(0,p.xx)(ee.id,e).subscribe({next:function(e){te(e)},error:function(e){J(null===e||void 0===e?void 0:e.data)}})}}}))}),[]),Ve=(0,s.uI)({onDrop:Ke}),$e=Ve.getRootProps,Je=Ve.getInputProps,Qe=Ve.isDragActive,Xe=(0,r.useState)(""),et=(0,o.Z)(Xe,2),tt=et[0],nt=et[1],at=(0,r.useState)(""),lt=(0,o.Z)(at,2),it=lt[0],ot=lt[1];(0,r.useEffect)((function(){var e;nt(""),(null===G||void 0===G||null===(e=G.user)||void 0===e?void 0:e.id.length)>0?(te(G.user),Ge((0,E.IW)(!1))):(0,p.IC)().pipe((0,c.P)()).subscribe({next:function(e){var t;te(e),H.wallet=null===e||void 0===e?void 0:e.wallet,H.options=null===e||void 0===e?void 0:e.options,H.departments=null===e||void 0===e?void 0:e.departments,H.positions=null===e||void 0===e?void 0:e.positions,H.pinned_modules=null===e||void 0===e?void 0:e.pinned_modules,null===Z.Fc||void 0===Z.Fc||null===(t=Z.Fc.saveUser)||void 0===t||t.call(Z.Fc,e).then((function(){}))}}),Ge((0,E.tR)(!1))}),[]);var rt=(0,r.useState)({first_name:"",last_name:"",mobile:"",address:"",city:"",postal:""}),st=(0,o.Z)(rt,2),dt=st[0],ct=st[1],ut=(0,r.useState)({first_name:!1,last_name:!1,mobile:!1,address:!1,city:!1,postal:!1}),mt=(0,o.Z)(ut,2),pt=mt[0],vt=mt[1],ft=(0,r.useCallback)((function(){Object.values(pt).some((function(e){return!0===e}))&&(ct({first_name:"",last_name:"",mobile:"",address:"",city:"",postal:""}),ot(""),(0,p.TP)(ee.id,ee.first_name,ee.last_name,ee.phone,ee.address,ee.city,ee.postal).pipe((0,c.P)()).subscribe({next:function(e){null!==e&&void 0!==e&&e.user||(H.first_name=null===e||void 0===e?void 0:e.first_name,H.last_name=null===e||void 0===e?void 0:e.last_name,H.phone=null===e||void 0===e?void 0:e.phone,H.postal=null===e||void 0===e?void 0:e.postal,H.address=null===e||void 0===e?void 0:e.address,H.city=null===e||void 0===e?void 0:e.city,ee.photo=null===e||void 0===e?void 0:e.photo),vt({first_name:!1,last_name:!1,mobile:!1,address:!1,city:!1,postal:!1})},complete:function(){return window.scrollTo({top:0,behavior:"smooth"})},error:function(e){var t,n,a,l,o,r,s={first_name:"",last_name:"",mobile:"",address:"",city:"",postal:""};e.data.errors.first_name&&(s.first_name=null===(t=e.data.errors.first_name)||void 0===t?void 0:t.join("; "));e.data.errors.last_name&&(s.last_name=null===(n=e.data.errors.last_name)||void 0===n?void 0:n.join("; "));e.data.errors.mobile&&(s.mobile=null===(a=e.data.errors.mobile)||void 0===a?void 0:a.join("; "));e.data.errors.address&&(s.address=null===(l=e.data.errors.address)||void 0===l?void 0:l.join("; "));e.data.errors.city&&(s.city=null===(o=e.data.errors.city)||void 0===o?void 0:o.join("; "));e.data.errors.postal&&(s.postal=null===(r=e.data.errors.postal)||void 0===r?void 0:r.join("; "));"The given data was invalid."!==e.data.message&&ot(e.data.message),ct((function(e){return(0,i.Z)((0,i.Z)({},e),s)}))}}))}),[ee,pt]),_t=(0,r.useCallback)((function(){var e;return r.createElement("div",(0,l.Z)({className:y.Z.avatarDragContainer,"app-drag-active":Qe?"true":"false"},$e()),r.createElement("input",(0,l.Z)({},Je(),{className:y.Z.avatarDragInput,accept:"*,image/png, image/jpeg, image/jpg"})),Qe?r.createElement("div",{className:y.Z.avatarContentContainer},r.createElement(u.rG2,{className:y.Z.avatarUploadIcon})):r.createElement("div",{className:y.Z.avatarContentContainer},(null===ee||void 0===ee||null===(e=ee.photo)||void 0===e?void 0:e.length)>2?r.createElement("img",{alt:"lg",src:(0,v.oY)(null===ee||void 0===ee?void 0:ee.photo),className:y.Z.avatarUrlImg}):r.createElement("div",{className:y.Z.avatarUploadPictureContainer},r.createElement(u.rG2,{className:y.Z.avatarUploadIcon}))))}),[ee]);return r.createElement("div",{id:"my-profile-settings",className:y.Z.host,style:{padding:g.tq?"0px":""}},(null===G||void 0===G||null===(n=G.user)||void 0===n||null===(m=n.id)||void 0===m?void 0:m.length)>0&&1==H.is_admin?r.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"50px"}},r.createElement(f.zx,{title:"Back",clicked:function(){return Re("/users")},style:{width:"100px"}}),(null===G||void 0===G?void 0:G.user)&&r.createElement(f.zx,{title:"Show Tasks",loading:ke,light:!0,clicked:function(){return Ie(!0)}})):r.createElement("div",{style:{margin:"200px 0 0 0",display:g.tq?"none":""}},r.createElement(_.Z,{headerTitle:"My Profile",targetProcessing:!1})),g.tq&&r.createElement(C,{label:"My Profile"}),g.tq&&r.createElement("div",{style:{display:"",alignSelf:"center",height:"200px",padding:"10px"}},r.createElement(w,{label:g.tq?"":"Profile picture"},_t(),(null===$||void 0===$?void 0:$.length)>0&&r.createElement("p",{className:y.Z.avatarErrorText},$))),r.createElement("div",{style:{display:"flex",width:"100%",flexDirection:(g.tq,"column")}},r.createElement(x.mQ,{style:{fontFamily:"var(--app-text-main-font)",fontSize:g.tq?"18px":"20px"}},g.tq?r.createElement(x.td,null,r.createElement(x.OK,null,"Basic"),r.createElement(x.OK,null,"Other"),r.createElement(x.OK,null,"Password")):r.createElement(x.td,null,r.createElement(x.OK,null,"Personal Information"),r.createElement(x.OK,null,"Additional Information"),r.createElement(x.OK,null,"Change Password")),r.createElement(x.x4,null,r.createElement("div",{className:y.Z.labeledContainerHost,style:{width:g.tq?"100%":"50%",margin:"50px 0 100px"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},!g.tq&&r.createElement(C,{label:"Profile Picture"}),r.createElement("div",{style:{padding:"0 0 0px 20px",display:g.tq?"none":""}},r.createElement(w,{label:null!==ee&&void 0!==ee&&ee.photo?"":"Profile picture"},_t(),(null===$||void 0===$?void 0:$.length)>0&&r.createElement("p",{className:y.Z.avatarErrorText},$)))),r.createElement("div",{className:y.Z.userDataWrapper,style:{textAlign:"center"}},r.createElement(f.sm,{className:y.Z.userSettingsContainer,style:{paddingTop:"10px"},onClickOutside:ft},r.createElement("div",{style:{width:"inherit",textAlign:"center"}},r.createElement(w,{label:"First Name",error:dt.first_name},r.createElement("input",{type:"text",name:"first-name",className:y.Z.inputField,placeholder:"First Name",value:null!==(T=null===ee||void 0===ee?void 0:ee.first_name)&&void 0!==T?T:"",onChange:function(e){return te((function(t){return(0,i.Z)((0,i.Z)({},t),{},{first_name:e.target.value})}))},onFocus:function(){vt((function(e){return(0,i.Z)((0,i.Z)({},e),{},{display_name:!0})}))}})),r.createElement(w,{label:"Last Name",error:dt.last_name},r.createElement("input",{type:"text",name:"last-name",className:y.Z.inputField,placeholder:"Last Name",value:null!==(N=null===ee||void 0===ee?void 0:ee.last_name)&&void 0!==N?N:"",onChange:function(e){return te((function(t){return(0,i.Z)((0,i.Z)({},t),{},{last_name:e.target.value})}))},onFocus:function(){vt((function(e){return(0,i.Z)((0,i.Z)({},e),{},{display_name:!0})}))}})),r.createElement(w,{label:"Username",wrappedContent:!0},r.createElement("p",{className:y.Z.emailParagraph},null===ee||void 0===ee?void 0:ee.username)),r.createElement(w,{label:"Work Email",wrappedContent:!0},r.createElement("p",{className:y.Z.emailParagraph},null===ee||void 0===ee?void 0:ee.email)),r.createElement(w,{label:"Mobile Number",error:dt.mobile},r.createElement("input",{type:"text",name:"mobile",className:y.Z.inputField,value:null===ee||void 0===ee?void 0:ee.phone,onChange:function(e){return te((function(t){return(0,i.Z)((0,i.Z)({},t),{},{phone:e.target.value})}))},onFocus:function(){vt((function(e){return(0,i.Z)((0,i.Z)({},e),{},{display_name:!1,mobile:!0})}))}})),r.createElement(w,{label:"Address",error:dt.address},r.createElement("input",{type:"text",name:"address",className:y.Z.inputField,value:null===ee||void 0===ee?void 0:ee.address,onChange:function(e){return te((function(t){return(0,i.Z)((0,i.Z)({},t),{},{address:e.target.value})}))},onFocus:function(){vt((function(e){return(0,i.Z)((0,i.Z)({},e),{},{display_name:!1,mobile:!1,address:!0,city:!1,postal:!1})}))}})),r.createElement(w,{label:"City",error:dt.city},r.createElement("input",{type:"text",name:"city",className:y.Z.inputField,value:null===ee||void 0===ee?void 0:ee.city,onChange:function(e){return te((function(t){return(0,i.Z)((0,i.Z)({},t),{},{city:e.target.value})}))},onFocus:function(){vt((function(e){return(0,i.Z)((0,i.Z)({},e),{},{display_name:!1,mobile:!1,address:!1,city:!0,postal:!1})}))}})),r.createElement(w,{label:"Postal",error:dt.postal},r.createElement("input",{type:"text",name:"postal",className:y.Z.inputField,value:null===ee||void 0===ee?void 0:ee.postal,onChange:function(e){return te((function(t){return(0,i.Z)((0,i.Z)({},t),{},{postal:e.target.value})}))},onFocus:function(){vt((function(e){return(0,i.Z)((0,i.Z)({},e),{},{display_name:!1,mobile:!1,address:!1,city:!1,postal:!0})}))}})),(null===(M=z.misc_info)||void 0===M?void 0:M.positions)&&r.createElement(w,{label:null!==(k=null===z||void 0===z||null===(S=z.misc_info)||void 0===S?void 0:S.positionsL)&&void 0!==k?k:"Position",error:dt.postal},r.createElement(f.Ld,{id:"status-selection",triggerType:"chevron",itemType:"no-item-icons",className:y.Z.inputField,inputClassName:y.Z.selectText,molclassname:y.Z.industryMOL,moliclassname:y.Z.industryMOLI,onChange:function(e){(0,p.Vy)(ee,(0,i.Z)((0,i.Z)({},null===ee||void 0===ee?void 0:ee.options),{},{selPos:e.value})).pipe((0,c.P)()).subscribe({next:function(t){(0,P.aT)(e.value,null===ee||void 0===ee?void 0:ee.id).subscribe({next:function(){var n,a;(ee.options.selPos&&ee.options.selPos!==(null===e||void 0===e?void 0:e.value)?(0,P._s)(ee.options.selPos,null===ee||void 0===ee?void 0:ee.id).subscribe({next:function(){window.scrollTo({top:0,behavior:"smooth"})}}):window.scrollTo({top:0,behavior:"smooth"}),te((0,i.Z)((0,i.Z)({},ee),{},{options:(0,i.Z)((0,i.Z)({},null===ee||void 0===ee?void 0:ee.options),{},{selPos:null===t||void 0===t||null===(n=t.options)||void 0===n?void 0:n.selPos})})),null!==t&&void 0!==t&&t.user)||(H.options.selPos=null===t||void 0===t||null===(a=t.options)||void 0===a?void 0:a.selPos)}})}})},defaultSelectedItem:null===R||void 0===R?void 0:R.find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null===ee||void 0===ee||null===(t=ee.options)||void 0===t?void 0:t.selPos)})),items:null===(F=z.misc_info)||void 0===F||null===(D=F.positions)||void 0===D?void 0:D.map((function(e){var t=null===R||void 0===R?void 0:R.find((function(t){return(null===t||void 0===t?void 0:t.value)===e}));return{label:null===t||void 0===t?void 0:t.label,value:null===t||void 0===t?void 0:t.value}}))})),1==B.is_admin&&r.createElement(w,{label:"Position"+((null===(O=ee.positions)||void 0===O?void 0:O.length)>1?"s":""),wrappedContent:!0},(null===(I=ee.positions)||void 0===I?void 0:I.length)>0&&(null===(U=ee.positions)||void 0===U?void 0:U.map((function(e,t){return r.createElement("p",{key:t,className:y.Z.positionsParagraph},e.name)})))),r.createElement("br",null)))))),r.createElement(x.x4,null,r.createElement("div",{style:{width:g.tq?"100%":"50%",margin:"80px 0 100px"}},r.createElement("div",{style:{display:"flex",justifyContent:"right",height:g.tq?"0px":"40px"}},!g.tq&&!We&&r.createElement(f.zx,{title:"Add Field",clicked:function(){var e,t;ze(null!==(e=null===(t=ee.options)||void 0===t?void 0:t.add_info)&&void 0!==e?e:{})}})),r.createElement("div",{className:y.Z.userDataWrapper},r.createElement(f.sm,{className:y.Z.userSettingsContainer,style:{padding:g.tq?"0":""}},r.createElement(w,{label:"About Me",error:dt.address},r.createElement("textarea",{type:"text",name:"bio",className:y.Z.inputField,style:{minHeight:"160px",textAlign:(g.tq,"left"),padding:"5px"},value:null===ee||void 0===ee||null===(j=ee.options)||void 0===j?void 0:j.info,onChange:function(e){return te((function(t){return(0,i.Z)((0,i.Z)({},t),{},{options:(0,i.Z)((0,i.Z)({},null===ee||void 0===ee?void 0:ee.options),{},{info:e.target.value})})}))},onBlur:function(){var e;(0,p.Vy)(ee,(0,i.Z)((0,i.Z)({},null===ee||void 0===ee?void 0:ee.options),{},{info:null===ee||void 0===ee||null===(e=ee.options)||void 0===e?void 0:e.info})).pipe((0,c.P)()).subscribe({next:function(e){var t,n;(window.scrollTo({top:0,behavior:"smooth"}),te((0,i.Z)((0,i.Z)({},ee),{},{options:(0,i.Z)((0,i.Z)({},null===ee||void 0===ee?void 0:ee.options),{},{info:null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.info})})),null!==e&&void 0!==e&&e.user)||(H.options.info=null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.info)}})}})),Object.keys(null!==(L=null===(Y=ee.options)||void 0===Y?void 0:Y.add_info)&&void 0!==L?L:{}).map((function(e,t){var n;return r.createElement(w,{label:e,key:t,error:dt.address},r.createElement("input",{type:"text",name:e,className:y.Z.inputField,value:null===ee||void 0===ee||null===(n=ee.options)||void 0===n?void 0:n.add_info[e],onChange:function(t){var n;return te((0,i.Z)((0,i.Z)({},ee),{},{options:(0,i.Z)((0,i.Z)({},null===ee||void 0===ee?void 0:ee.options),{},{add_info:(0,i.Z)((0,i.Z)({},null===ee||void 0===ee||null===(n=ee.options)||void 0===n?void 0:n.add_info),{},(0,a.Z)({},e,t.target.value))})}))},onBlur:function(){var e;(0,p.Vy)(ee,(0,i.Z)((0,i.Z)({},null===ee||void 0===ee?void 0:ee.options),{},{add_info:null===ee||void 0===ee||null===(e=ee.options)||void 0===e?void 0:e.add_info})).pipe((0,c.P)()).subscribe({next:function(e){var t,n;(window.scrollTo({top:0,behavior:"smooth"}),te((0,i.Z)((0,i.Z)({},ee),{},{options:(0,i.Z)((0,i.Z)({},null===ee||void 0===ee?void 0:ee.options),{},{add_info:null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.add_info})})),null!==e&&void 0!==e&&e.user)&&(H.options.add_info=null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.add_info)}})}}))})),We&&r.createElement(w,{label:"New Field"},r.createElement("input",{type:"text",id:"newfield",className:y.Z.inputField})),We&&r.createElement("div",{style:{display:"flex",justifyContent:"right",height:"70px"}},r.createElement(f.zx,{light:!0,title:"Add",clicked:function(){We[document.getElementById("newfield").value]="",te((0,i.Z)((0,i.Z)({},ee),{},{options:(0,i.Z)((0,i.Z)({},null===ee||void 0===ee?void 0:ee.options),{},{add_info:We})})),ze(!1)}}),r.createElement(f.zx,{light:!0,title:"Cancel",clicked:function(){ze(!1)}})))))),r.createElement(x.x4,null,r.createElement("div",{style:{width:g.tq?"100%":"50%",margin:"80px 0 100px 0"}},r.createElement("div",{style:{display:g.tq?"":"flex",gap:"24px",marginTop:"15px",width:"100%"}},r.createElement("div",{style:{flex:1}},r.createElement(w,{label:(null===G||void 0===G||null===(A=G.user)||void 0===A||null===(q=A.id)||void 0===q?void 0:q.length)>0&&1==H.is_admin?"Admin Password":"Old Password",error:dt.first_name},r.createElement("input",{type:"password",name:"old-password",className:y.Z.inputField,value:le,onChange:function(e){return ie(e.target.value)}}))),r.createElement("div",{style:{flex:1}},r.createElement(w,{label:"New Password",error:dt.first_name},r.createElement("input",{type:"password",name:"new-password",className:y.Z.inputField,value:ve,onChange:function(e){return fe(e.target.value)}}))),r.createElement("div",{style:{flex:1}},r.createElement(w,{label:"Verify New Password",error:dt.last_name},r.createElement("input",{type:"password",name:"verify-password",className:y.Z.inputField,value:ge,onChange:function(e){return Ee(e.target.value)}})))),r.createElement("div",{style:{display:"flex",width:g.tq?"100%":"50%",justifyContent:g.tq?"center":"left"}},le.length>5&&ve.length>5&&ge.length>5&&r.createElement("div",{style:{display:"flex",gap:"24px",marginTop:"15px",maxWidth:"100%"}},r.createElement(f.zx,{title:"Update password",loading:ke,lighter:!0,clicked:function(){if(Se(!0),ve!==ge)return Se(!1),xe("Confirmation does not match");(0,p.N4)(le,ve,ge,ee.id).pipe((0,c.P)()).subscribe({next:function(){Se(!1),Ye(!0),de(""),xe(""),it(""),tt("")},error:function(e){var t,n,a,l;(console.log(e),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&null!==(n=t.errors)&&void 0!==n&&n.old_password)&&de(null===e||void 0===e||null===(a=e.data)||void 0===a||null===(l=a.errors)||void 0===l?void 0:l.old_password[0]);Se(!1),Ye(!1)},complete:function(){ie(""),fe(""),Ee("")}})}})),1==B.is_admin&&null!==G&&0==(null===G||void 0===G?void 0:G.user.is_admin)&&0==(null===G||void 0===G?void 0:G.user.positions.length)&&0===W.filter((function(e){var t,n;return(null===e||void 0===e||null===(t=e.created_by)||void 0===t?void 0:t.id)===(null===G||void 0===G||null===(n=G.user)||void 0===n?void 0:n.id)})).length&&r.createElement("div",{style:{display:"flex",gap:"24px",marginTop:"15px",maxWidth:"100%"}},r.createElement(f.zx,{title:"Delete User",loading:ke,light:!0,clicked:function(){return Te(!0)}}))),r.createElement("div",{style:{width:"100%",display:"flex",justifyContent:g.tq?"center":"left"}},r.createElement("div",null,Le&&r.createElement("p",{className:y.Z.success},"Password Successfully changed")),r.createElement("div",null,(null===se||void 0===se?void 0:se.length)>0&&r.createElement("p",{className:y.Z.errorGeneralText},se)),r.createElement("div",null,(null===be||void 0===be?void 0:be.length)>0&&r.createElement("p",{className:y.Z.errorGeneralText},be)),r.createElement("div",null,(null===tt||void 0===tt?void 0:tt.length)>0&&r.createElement("p",{className:y.Z.errorGeneralText},tt)),r.createElement("div",null,(null===it||void 0===it?void 0:it.length)>0&&r.createElement("p",{className:y.Z.errorGeneralText},it)))))),we&&r.createElement(f.U7,{shadowedContainerStyle:{maxWidth:"400px",minWidth:"300px",width:"40%"},onClose:function(){Te(!1)},isOpen:we,backdropColor:!0,blured:!0},r.createElement("h1",{className:y.Z.deletePosition_title},"Delete User"),r.createElement("p",{className:y.Z.deletePosition_description},"Are you sure you want to delete this user?"),r.createElement("div",{className:y.Z.deleteModalContainer},r.createElement("div",{className:y.Z.deletePosition_buttonContainer,style:{display:"flex"}},r.createElement(f.zx,{title:"Close",style:{marginLeft:"0px",width:"79%",padding:"0 10px"},titleStyle:{textAlign:"center"},clicked:function(){Te(!1)}}),r.createElement(f.zx,{title:"Yes, Delete User",style:{marginLeft:"0px",width:"79%",padding:"0 10px"},light:!0,loading:ke,titleStyle:{textAlign:"center"},clicked:function(){Se(!0),(0,p.NY)(ee.id).pipe((0,c.P)()).subscribe({next:function(){Se(!1),Te(!1),Re("/users")},error:function(e){console.log(e)},complete:function(){}})}})))),Oe&&(null===G||void 0===G?void 0:G.user)&&r.createElement(b.Z,{isVisible:Oe,activeItem:null===G||void 0===G?void 0:G.user,handleClose:function(){return Ie(!1)},isAdmin:B.is_admin})))}))},61616:function(e,t,n){n.d(t,{Z:function(){return s}});var a="HeaderTopBar_headerTopBar__D+HJ9",l="HeaderTopBar_headerTopBarContainer__1jgza",i="HeaderTopBar_loadingContainer__UcfwW",o=n(93572),r=n(67861),s=function(e){var t=e.hasHeaderImg,n=e.headerTitle,s=e.headerImgSrc,d=e.targetProcessing;return r.createElement("div",{className:a},r.createElement("div",{className:l},t&&r.createElement("img",{alt:"",src:s}),r.createElement("p",null,n),d&&r.createElement("span",{className:i},r.createElement(o.Z,{type:"Watch",color:"var(--app-color-gray-light)",height:15,width:"".concat(30,"px")}))))}},29:function(e,t){t.Z={host:"MyProfile_host__Bnmii",labeledContainerHost:"MyProfile_labeledContainerHost__IQZCc",labeledContainerLabel:"MyProfile_labeledContainerLabel__Tg+ZM",avatarDragContainer:"MyProfile_avatarDragContainer__1jOhu",avatarUploadIcon:"MyProfile_avatarUploadIcon__sZ016",avatarUploadText:"MyProfile_avatarUploadText__9UN2K",avatarAcceptedFormatsText:"MyProfile_avatarAcceptedFormatsText__zXNGB",avatarUploadPictureContainer:"MyProfile_avatarUploadPictureContainer__jjcmU",avatarUploadPictureText:"MyProfile_avatarUploadPictureText__6Jnly",avatarDragInput:"MyProfile_avatarDragInput__90brU",avatarContentContainer:"MyProfile_avatarContentContainer__kqcIC",avatarUrlImg:"MyProfile_avatarUrlImg__yCO7Y",avatarErrorText:"MyProfile_avatarErrorText__nxaLE",labeledFieldHost:"MyProfile_labeledFieldHost__hKuOZ",labeledFieldLabel:"MyProfile_labeledFieldLabel__cdIoV",labeledFieldChildrenContainer:"MyProfile_labeledFieldChildrenContainer__sG4-y",labeledFieldError:"MyProfile_labeledFieldError__xG-9G",label:"MyProfile_label__efRly",inputField:"MyProfile_inputField__RqYBM",emailParagraph:"MyProfile_emailParagraph__XK4WI",positionsParagraph:"MyProfile_positionsParagraph__LuOSk",errorGeneralText:"MyProfile_errorGeneralText__JSHju",success:"MyProfile_success__f1kym",userDataWrapper:"MyProfile_userDataWrapper__k9v75",userSettingsContainer:"MyProfile_userSettingsContainer__lwFPb",deletePositionContainer:"MyProfile_deletePositionContainer__HGaAl",deletePosition_title:"MyProfile_deletePosition_title__3lF+T",deletePosition_description:"MyProfile_deletePosition_description__1MKdp",deletePosition_checkboxContainer:"MyProfile_deletePosition_checkboxContainer__8r2sD",deletePosition_buttonContainer:"MyProfile_deletePosition_buttonContainer__0eBDk",selectText:"MyProfile_selectText__7EfSy",employeesMOL:"MyProfile_employeesMOL__B-L1Y",industryMOL:"MyProfile_industryMOL__yvJtL",industryMOLI:"MyProfile_industryMOLI__fbLN+"}}}]);
//# sourceMappingURL=605.6ff9f51f.chunk.js.map