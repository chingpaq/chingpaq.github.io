"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[7997],{60534:function(e,t,n){n.d(t,{Z:function(){return v}});var l=n(87462),o=n(1413),a=n(29439),i="CustomTemplateModuleList_tableHostSimple__DKMyh",r="CustomTemplateModuleList_tableHost__R91MZ",d="CustomTemplateModuleList_tableReport__a-GX7",u="CustomTemplateModuleList_footer__+fQpw",s=n(90369),c=n(73500),m=n(67861),p=n(67861),v=function(e){var t=e.columns,n=void 0===t?[]:t,v=e.layeredColumns,f=void 0===v?[]:v,y=e.isReport,g=e.title,h=e.list,C=void 0===h?[]:h,S=e.footer,b=void 0===S?[]:S,E=e.onListItemClick,_=void 0===E?function(){}:E,Z=e.onCellClick,w=void 0===Z?function(){}:Z,N=e.className,x=e.children,L=e.tableStyle,I=e.tableHostSimple,M=e.hideHeaders,O=void 0!==M&&M,k=(0,m.useState)(void 0),T=(0,a.Z)(k,2),P=(T[0],T[1]),B=c.tq?n.slice(0,5):n;function F(e){var t=e.columns,n=e.data,a=(0,s.useTable)({columns:t,data:n}),m=a.getTableProps,v=a.getTableBodyProps,f=a.headerGroups,h=a.rows,S=a.prepareRow;return p.createElement("div",{className:g?y?d:I||r:I||i,style:(0,o.Z)((0,o.Z)({},L),{},{fontSize:c.tq?"12px":"16px"})},p.createElement("table",(0,l.Z)({},m(),{size:"sm"}),p.createElement("thead",{style:{display:O?"none":""}},f.map((function(e,t){return p.createElement("tr",(0,l.Z)({key:t},e.getHeaderGroupProps()),e.headers.map((function(e,t){return p.createElement("th",(0,l.Z)({key:t},e.getHeaderProps()),p.createElement("div",{style:{border:"0"}},e.render("Header")))})))}))),p.createElement("tbody",v(),h.map((function(e,t){var n,o;return S(e)||p.createElement("tr",(0,l.Z)({key:t},e.getRowProps(),{onClick:function(){P(t),_(C[e.index])},style:{pointerEvents:null!==(n=C[t])&&void 0!==n&&n.enabled?"":0==(null===(o=C[t])||void 0===o?void 0:o.enabled)?"none":""}}),e.cells.map((function(n,o){return p.createElement("td",(0,l.Z)({key:o},n.getCellProps(),{onClick:function(l){w({cell:n.render("Cell"),column:o,row:t,data:C[e.index],top:l.clientX,left:l.clientY})}}),p.createElement("div",{style:{border:"0"}},n.render("Cell")))})))})),b.length>0&&p.createElement("tr",null,(c.tq?b.slice(0,3):b).map((function(e,t){return p.createElement("td",{key:t},p.createElement("div",{className:u},e))}))))))}return p.createElement("div",{className:null!==N&&void 0!==N?N:"","app-variant-is-mobile":c.tq?"true":"false",style:(0,o.Z)((0,o.Z)({},e.style),{},{display:"flex",flexDirection:"column",margin:"auto"})},p.createElement("div",{style:{marginBottom:"10px",width:"100%"}},x,!g&&B.length>0&&p.createElement(F,{columns:B.map((function(e){return{Header:function(){return p.createElement("span",null,e)},accessor:e}})),data:C}),g&&B.length>0&&p.createElement(F,{columns:[{Header:g,columns:B.map((function(e){return{Header:e,accessor:e}}))}],data:C}),f.length>0&&p.createElement(F,{columns:f.map((function(e){return null!==e&&void 0!==e&&e.subColumns?{Header:e.label,columns:e.subColumns.map((function(e){return{Header:e.label,accessor:e.label}}))}:{Header:function(){return p.createElement("span",null,e.label)},accessor:e.label}})),data:C})))}},36957:function(e,t,n){n.r(t),n.d(t,{default:function(){return El}});var l=n(1413),o=n(93433),a=n(29439),i=n(67861),r=n(39518),d=n(11577),u=n(13845),s=n(95242),c=n(29937),m=n(88374),p=n(93389),v=n(89293),f=n(10904),y=n(85718),g="ProcessOptionsModal_host__4xb31",h="ProcessOptionsModal_target__Cmhw-",C="ProcessOptionsModal_title__JOTDc",S="ProcessOptionsModal_elementTextInput__8yK8r",b="ProcessOptionsModal_optionSection__Vj7zH",E="ProcessOptionsModal_controls__aDMTt",_="ProcessOptionsModal_controls2__fRbTq",Z="ProcessOptionsModal_errorContainer__YQXXM",w="ProcessOptionsModal_messageContainer__ca1I4",N="ProcessOptionsModal_selectComponentContainer__aYCuu",x="ProcessOptionsModal_multiSelectContainer__ee4zs",L="ProcessOptionsModal_multiSelectSearchInput__xCVpC",I="ProcessOptionsModal_multiSelectMenuOverlayList__bP915",M="ProcessOptionsModal_multiSelectMenuOverlayListItem__Gaoic",O=n(63077),k=n(88827),T=n(73500),P=n(27436),B=n(7162),F=n(46034),D=n(27197),A=n(90252);var W=n(34710),V=n(12075),z=n(52902),R=n(71982),j=n(67861),q=(n(66918),function(e){var t=e.children;return j.createElement("div",{className:b},t)}),H=(0,r.$j)((function(e){var t=e.flowReducer;return{companyProcesses:t.companyProcesses,companyPositionsArray:t.companyPositionsArray,allModules:t.allModules,components:t.components,onBoardingCompleted:t.onBoardingCompleted,companyData:t.companyData,onBoardingModalsVisibility:e.modalsReducer.onBoardingModalsVisibility}}))((function(e){var t,n,r,u=e.onClose,s=void 0===u?function(){}:u,y=e.onCreate,b=void 0===y?function(){}:y,T=e.isOpen,H=e.companyProcesses,U=e.selectedProcess,K=e.selectedProcessId,X=void 0===K?"":K,Y=e.shadowedContainerStyle,G=e.onBoardingCompleted,J=e.companyData,Q=e.onSkip,$=e.companyPositionsArray,ee=e.onBoardingModalsVisibility,te=(0,i.useState)(""!==(null===U||void 0===U?void 0:U.id)),ne=(0,a.Z)(te,2),le=ne[0],oe=ne[1],ae=(0,i.useState)(""),ie=(0,a.Z)(ae,2),re=ie[0],de=ie[1],ue=(0,i.useState)(U||void 0),se=(0,a.Z)(ue,2),ce=se[0],me=se[1],pe=(0,i.useState)(U?U.name:""),ve=(0,a.Z)(pe,2),fe=ve[0],ye=ve[1],ge=(0,i.useState)(U?U.description:""),he=(0,a.Z)(ge,2),Ce=he[0],Se=he[1],be=(0,i.useState)(""),Ee=(0,a.Z)(be,2),_e=Ee[0],Ze=Ee[1],we=(0,c._M)(),Ne=(0,a.Z)(we,2)[1],xe=(0,i.useState)(!1),Le=(0,a.Z)(xe,2),Ie=Le[0],Me=Le[1],Oe=(0,i.useState)(!1),ke=(0,a.Z)(Oe,2),Te=ke[0],Pe=ke[1],Be=(0,i.useState)(!1),Fe=(0,a.Z)(Be,2),De=(Fe[0],Fe[1]),Ae=(0,i.useState)(null!==$&&void 0!==$?$:[]),We=(0,a.Z)(Ae,2),Ve=We[0],ze=We[1],Re=(0,i.useState)(null!==(t=null===U||void 0===U||null===(n=U.shared_positions)||void 0===n?void 0:n.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:e.id}})))&&void 0!==t?t:[]),je=(0,a.Z)(Re,2),qe=je[0],He=je[1],Ue=(0,i.useState)(!0),Ke=(0,a.Z)(Ue,2),Xe=(Ke[0],Ke[1]),Ye=(0,i.useState)([]),Ge=(0,a.Z)(Ye,2),Je=Ge[0],Qe=Ge[1],$e=(0,i.useState)(""),et=(0,a.Z)($e,2),tt=et[0],nt=et[1];(0,i.useEffect)((function(){1==le&&((0,p.zJ)(X).pipe((0,d.P)()).subscribe({next:function(e){var t,n,l=null!==(t=null===e||void 0===e||null===(n=e.shared_positions)||void 0===n?void 0:n.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:e.id}})))&&void 0!==t?t:[];He((0,o.Z)(l)),Xe(!1)},error:function(e){Xe(!1)}}),0==(null===$||void 0===$?void 0:$.length)&&(De(!0),Xe(!0),(0,W.OW)().pipe((0,d.P)()).subscribe({next:function(e){ze(null===e||void 0===e?void 0:e.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:e.id}}))),De(!1)},error:function(e){De(!1)}})))}),[le,X]);var lt=(0,i.useCallback)((function(){if(0==(null===Je||void 0===Je?void 0:Je.length)&&"superadmin"!==(null===J||void 0===J?void 0:J.status))return nt("Select at least a position to share with");Me(!0),nt(""),"superadmin"!==(null===J||void 0===J?void 0:J.status)?(0,p.QK)(X,null===Je||void 0===Je?void 0:Je.map((function(e){return null===e||void 0===e?void 0:e.value}))).pipe((0,d.P)(),function(e,t,n){var l=(0,B.m)(e)||t||n?{next:e,error:t,complete:n}:e;return l?(0,F.e)((function(e,t){var n;null===(n=l.subscribe)||void 0===n||n.call(l);var o=!0;e.subscribe((0,D.x)(t,(function(e){var n;null===(n=l.next)||void 0===n||n.call(l,e),t.next(e)}),(function(){var e;o=!1,null===(e=l.complete)||void 0===e||e.call(l),t.complete()}),(function(e){var n;o=!1,null===(n=l.error)||void 0===n||n.call(l,e),t.error(e)}),(function(){var e,t;o&&(null===(e=l.unsubscribe)||void 0===e||e.call(l)),null===(t=l.finalize)||void 0===t||t.call(l)})))})):A.y}({next:function(){},complete:function(){}})).subscribe({next:function(e){rt()},error:function(e){nt(ot(e))}}):rt()}),[X,Je,fe,Ce]),ot=(0,i.useCallback)((function(e){var t,n,l,o;if(!(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.errors||null===(n=e.data)||void 0===n)&&n.message)return null===(l=e.data)||void 0===l?void 0:l.message;if(null!==e&&void 0!==e&&null!==(o=e.data)&&void 0!==o&&o.errors){var a,i,r,d,u=/^(?:\D*\d)/g;return(null===(a=Object.values(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.errors))||void 0===a||null===(i=a.map((function(e){var t=null===e||void 0===e?void 0:e.map((function(e){var t,n=e.match(/\d/g)[0];return(null===e||void 0===e?void 0:e.replace(u,null===(t=Je[n])||void 0===t?void 0:t.label))+"\n"}));return null===t||void 0===t?void 0:t.join("")})))||void 0===i?void 0:i.join(""))+(null===(d=e.data)||void 0===d?void 0:d.message)}return""}),[Je]),at=(null===H||void 0===H?void 0:H.length)>0?H.map((function(e){return{label:e.name,value:e,process:e}})):[],it=function(){Ne({type:c.Cb.setAllSteps,value:[]}),Me(!0),(0,p.QN)(fe,Ce,null===ce||void 0===ce?void 0:ce.type).pipe((0,d.P)()).subscribe({next:function(e){Me(!1),k.h.dispatch((0,m.Xu)(e)),ee.seventhModalVisible&&k.h.dispatch((0,R.$6)({eightModalVisible:!0})),Ne({type:c.Cb.addNewStep,value:e.id}),b()},error:function(e){},complete:function(){}})},rt=(0,i.useCallback)((function(){Me(!0),(0,p.gQ)(null===ce||void 0===ce?void 0:ce.id,fe,Ce,null===ce||void 0===ce?void 0:ce.type).pipe((0,d.P)()).subscribe({next:function(e){Me(!1),k.h.dispatch((0,m.Xu)(e)),G?null===s||void 0===s||s():b()}})}),[ce,fe,Ce]),dt={control:function(e,t){return(0,l.Z)((0,l.Z)({},e),{},{boxShadow:"none","&:hover":{border:"1px solid var(--app-color-gray-lighter)"},position:"relative",height:"60px",width:"101%",border:"var(--app-color-gray-lighter) solid 1px",borderRadius:"8px",padding:"3px",fontFamily:"var(--app-text-main-font)",fontSize:"1.4em",color:"#4A4A4A",textAlign:"left",flex:"1 1 auto",justifyContent:"center",alignItems:"center",alignContent:"center",alignSelf:"center",margin:"0px 0 0 0 ",marginBottom:"20px"})},input:function(e,t){return(0,l.Z)((0,l.Z)({},e),{},{fontFamily:"var(--app-text-main-font)",color:"#4A4A4A",width:"100%",textAlign:"left",fontSize:"0.8em",alignSelf:"center",padding:"0",marginLeft:0,textIndent:"0"})},menu:function(e,t){return(0,l.Z)((0,l.Z)({},e),{},{justifyContent:"center",alignItems:"center",verticalTextAlign:"center",alignContent:"center",fontFamily:"var(--app-text-main-font)"})},menulist:function(e,t){return(0,l.Z)((0,l.Z)({},e),{},{justifyContent:"center",alignItems:"center",verticalTextAlign:"center",alignContent:"center",fontFamily:"var(--app-text-main-font)"})},option:function(e,t){return(0,l.Z)((0,l.Z)({},e),{},{minHeight:15,paddingTop:0,fontSize:"1.1em",verticalTextAlign:"center",justifyContent:"center",alignItems:"center",alignContent:"center",fontFamily:"var(--app-text-main-font)"})},placeholder:function(e,t){return(0,l.Z)((0,l.Z)({},e),{},{fontSize:"0.75em",lineHeight:"20px",color:"#4A4A4A",fontWeight:400,overflow:"hidden",fontFamily:"var(--app-text-main-font)"})},singleValue:function(e,t){var n=t.isDisabled?.5:1;return(0,l.Z)((0,l.Z)({},e),{},{opacity:n,transition:"opacity 300ms",marginLeft:"0px",fontSize:"0.75em",lineHeight:"20px",color:"#4A4A4A",fontFamily:"var(--app-text-main-font)"})},indicatorsContainer:function(e,t){t._data;return(0,l.Z)((0,l.Z)({},e),{},{marginTop:"auto",marginBottom:"auto",color:"#4A4A4A",size:7,":hover":{color:"gray"},width:"65px",height:"45px",fontFamily:"var(--app-text-main-font)"})}};return j.createElement(f.U7,{isOpen:T,blured:!0,scrollable:!0,shadowedContainerStyle:Y},j.createElement("div",{className:g},j.createElement("div",{className:h},j.createElement("p",{className:C,style:{display:G?"":"none"}},(null===U||void 0===U||null===(r=U.id)||void 0===r?void 0:r.length)>0?"edit":"create new"," ","workflow"),j.createElement(q,null,e.children,j.createElement(f.Lb,{title:"Name of workflow"}),j.createElement("input",{type:"text",name:"element-name",value:fe,onChange:function(e){return ye(e.target.value)},className:S,style:{marginBottom:"10px"}}),j.createElement(f.Lb,{title:"Description of workflow"}),j.createElement("textarea",{type:"text",name:"element-name",value:Ce,onChange:function(e){return Se(e.target.value)},className:S,style:{marginBottom:"10px",height:"100px"}}),le&&j.createElement(f.Lb,{title:"Show workflow to positions"}),le&&j.createElement("div",{className:N},j.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"X",tagEmplacement:"inlined",items:Ve,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:qe,className:x,inputClassName:L,molclassname:I,moliclassname:M,placeholder:"Select...",onChange:function(e){Qe(e)}},j.createElement(V.G,{icon:z.ptq,style:{marginRight:"10px"}})),(null===tt||void 0===tt?void 0:tt.length)>0&&j.createElement("span",{className:Z},tt)),j.createElement("br",null),j.createElement("br",null),at.length>0&&j.createElement(f.Lb,{title:"Select Another Workflow to Edit"}),at.length>0&&j.createElement(O.ZP,{onFocus:function(){return de("")},isSearchable:!1,key:"Workflow",styles:dt,placeholder:"Select workflow to edit...",components:{DropdownIndicator:v.ms},options:at,onChange:function(e){"New Workflow"!==e.label?(me(e.process),ye(e.process.name),Se(e.process.description),k.h.dispatch((0,m.Xu)(e.process)),oe(!0)):(k.h.dispatch((0,m.Xu)({description:"",id:"",is_pinned:!1,name:"",user_id:"",registered:!1,type:!1,steps:[]})),me({description:"",id:"",is_pinned:!1,name:"",user_id:"",registered:!1,type:!1,steps:[]}),ye(""),Se(""),oe(!1))}})),(null===_e||void 0===_e?void 0:_e.length)>0&&j.createElement(P.Z,{message:_e,onClick:function(){return Ze("")}}),(null===re||void 0===re?void 0:re.length)>0&&j.createElement("span",{className:w,onClick:function(){return de("")}},re)),j.createElement("div",{className:G?E:_},G&&j.createElement(f.zx,{title:"Close",clicked:s}),!G&&j.createElement(f.zx,{light:!0,title:"Back",clicked:s}),!le&&G&&j.createElement(f.zx,{light:!0,title:"Save",loading:Ie,clicked:it}),j.createElement("div",{style:{display:"flex"}},!le&&!G&&j.createElement(f.zx,{title:"Skip",loading:Te,clicked:function(){Pe(!0),Q()}}),!le&&!G&&j.createElement(f.zx,{title:"Create",loading:Ie,clicked:it})),le&&j.createElement(f.zx,{light:!0,title:"Update",loading:Ie,clicked:lt}))))})),U="WorkflowTemplatesModal_host__Q3zbH",K="WorkflowTemplatesModal_header__N8ZLt",X="WorkflowTemplatesModal_title__23bdy",Y="WorkflowTemplatesModal_subtitle__oBjjB",G="WorkflowTemplatesModal_controls__ajc+K",J="WorkflowTemplatesModal_trialTitle__dTNg9",Q="WorkflowTemplatesModal_subTitle__Bzxqf",$="WorkflowTemplatesModal_trialText__c0htd",ee="WorkflowTemplatesModal_currentInvoicesContainer__-k6ew",te=n(23280),ne=n(60761),le=n(67861),oe=(0,r.$j)((function(e){var t=e.flowReducer;return{companyProcesses:t.companyProcesses,companyPositionsArray:t.companyPositionsArray,allModules:t.allModules,components:t.components,onBoardingCompleted:t.onBoardingCompleted,workflowTemplates:t.workflowTemplates}}))((function(e){var t=e.isOpen,n=e.shadowedContainerStyle,l=e.onCreateBlank,o=e.gotoProcess,u=e.workflowTemplates,s=e.gotoComponents,y=(0,i.useState)(!1),g=(0,a.Z)(y,2),h=g[0],C=g[1],S=(0,i.useState)({name:"",steps:[]}),b=(0,a.Z)(S,2),E=b[0],_=b[1],Z=(0,r.v9)((function(e){return e.modalsReducer})),w=Z.onBoardingModalsVisibility,N=(Z.isOnboarding,w.secondModalVisible),x=w.fourthModalVisible,L=w.sixthModalVisible,I=w.templatesFirst,M=(0,r.I0)();document.title="New Workflow | ".concat(v.iC);var O=(0,te.s0)();return le.createElement(c.FZ,null,le.createElement(f.U7,{isOpen:t,blured:!1,scrollable:!0,shadowedContainerStyle:n},le.createElement("div",{className:U},le.createElement("div",{style:{display:"flex",alignItems:"center"}},le.createElement("p",{className:X},"New Workflow"),le.createElement(f.zx,{clear:!0,loading:h})),le.createElement("p",{className:Y},"Start a new workflow or select from any of our predefined templates"),le.createElement("div",{style:{display:""===(null===E||void 0===E?void 0:E.name)||h?"none":"",width:"100%"}},le.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"0 30px 0 30px"}},le.createElement(f.zx,{title:"Hide",light:!0,clicked:function(){_({name:""}),C(!1),M((0,m.Xu)({name:"",steps:[]}))}}),le.createElement(f.zx,{title:"Create",light:!0,style:{color:"white",backgroundColor:"green"},clicked:function(){C(!0),(0,p.yx)(E).pipe((0,d.P)()).subscribe({next:function(e){C(!1),o(e)},error:function(e){C(!1)}})}})),le.createElement(ne.Z,null)),le.createElement("div",{className:ee,style:{maxWidth:"40%",minWidth:"360px",width:"20%",backgroundColor:N||x?"lightblue":""}},le.createElement("p",{className:J},"Components"),le.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",marginBottom:"20px"}}),le.createElement("div",{className:K},le.createElement("p",{className:$},"Create Components"),le.createElement(f.zx,{disabled:h,title:"Open",style:{width:"80px",minWidth:"80px"},clicked:function(){N&&M((0,R.$6)({thirdModalVisible:!0})),x&&M((0,R.$6)({fifthModalVisible:!0})),s()}})),le.createElement("br",null),le.createElement("br",null),le.createElement("p",{className:Q},"Components are objects that workflows use to input or output informations. In forms they are usally called fields.")),le.createElement("div",{className:ee,style:{maxWidth:"40%",minWidth:"360px",width:"20%",backgroundColor:L?"lightblue":""}},le.createElement("p",{className:J},"New Workflow"),le.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",marginBottom:"20px"}}),le.createElement("div",{className:K},le.createElement("p",{className:$},"Blank Workflow"),le.createElement(f.zx,{disabled:h,title:"Open",style:{width:"80px",minWidth:"80px"},clicked:function(){L&&M((0,R.$6)({seventhModalVisible:!0})),l()}})),le.createElement("br",null),le.createElement("br",null),le.createElement("p",{className:Q},"Create your workflow using a blank canvass")),null===u||void 0===u?void 0:u.map((function(e,t){return le.createElement("div",{className:ee,style:{maxWidth:"40%",minWidth:"360px",width:"20%",backgroundColor:I&&"Customer Creation"===e.name?"lightblue":""},key:t},le.createElement("p",{className:J},"Workflow Template"),le.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",marginBottom:"20px"}}),le.createElement("div",{className:K},le.createElement("p",{className:$},"".concat(e.name)),!h&&le.createElement(f.zx,{disabled:h,title:(null===E||void 0===E?void 0:E.name)===e.name?"Create":"View",style:{display:(null===E||void 0===E?void 0:E.name)===e.name?"none":"",backgroundColor:(null===E||void 0===E?void 0:E.name)===e.name?"green":"rgb(83, 159, 234)",width:"80px",minWidth:"80px"},clicked:function(){(null===E||void 0===E?void 0:E.name)!==e.name?(window.scrollTo({top:0,behavior:"smooth"}),_(e),M((0,m.Xu)(e)),I&&M((0,R.$6)({templatesSecond:!0}))):(C(!0),(0,p.yx)(E).pipe((0,d.P)()).subscribe({next:function(e){C(!1),o(e)},error:function(e){C(!1)}}))}})),le.createElement("br",null),le.createElement("br",null),le.createElement("p",{className:Q},"".concat(e.description)))}))),le.createElement("div",{className:G},le.createElement(f.zx,{disabled:h,loading:h,title:"Close",clicked:function(){M((0,m.Xu)(void 0)),k.h.dispatch((0,m.Xc)({show:!1,message:""})),O("/")}}))))})),ae=n(87546),ie=n(35606),re=n(13397),de=n(98032),ue=(n(66596),n(6073)),se=n(4358),ce="ComponentsModal_host__d5q2n",me="ComponentsModal_title__1eiWg",pe="ComponentsModal_fieldRow__gg9Nz",ve="ComponentsModal_fieldRowContent__Ylhmb",fe="ComponentsModal_fieldRowControls__F17z0",ye="ComponentsModal_typeText__58xUE",ge="ComponentsModal_fieldTypeInput__Pyosc",he="ComponentsModal_warningContainer__V1j68",Ce="ComponentsModal_peoplePositionsSelect__6lG4K",Se="ComponentsModal_peoplePositionsSelectInput__O5Mfe",be="ComponentsModal_peoplePositionsSelectMenuOverlay__oF43q",Ee="ComponentsModal_peoplePositionsSelectMenuOverlayItem__efdLS",_e="ComponentsModal_selectedFieldsContainer__SaWzh",Ze="ComponentsModal_elementTextInput__JbVsI",we="ComponentsModal_fieldType__ifgEs",Ne=n(71002),xe=n(47144),Le=n.n(xe),Ie=n(66180),Me=n.n(Ie),Oe=n(9969),ke=n(66284),Te={host:"FieldOptionsModal_host__+NDEc",closeContainer:"FieldOptionsModal_closeContainer__VBxuW",closeElement:"FieldOptionsModal_closeElement__xlo+y",closeIcon:"FieldOptionsModal_closeIcon__ga2TN",target:"FieldOptionsModal_target__ruE2b",optionSection:"FieldOptionsModal_optionSection__aAlGM",optionSettings:"FieldOptionsModal_optionSettings__py99w",title:"FieldOptionsModal_title__jqNO1",subtitle:"FieldOptionsModal_subtitle__26Gfa",elementInputTitle:"FieldOptionsModal_elementInputTitle__AAoAr",readOnlyTextInput:"FieldOptionsModal_readOnlyTextInput__Gff1d",elementTextArea:"FieldOptionsModal_elementTextArea__MCisO",elementTextInput:"FieldOptionsModal_elementTextInput__ywFdu",unfocusableWrapper:"FieldOptionsModal_unfocusableWrapper__sul2H",numberOptionsContainer:"FieldOptionsModal_numberOptionsContainer__9Adnt",renderBooleansOptions:"FieldOptionsModal_renderBooleansOptions__R4F-q",phonePrefixContainer:"FieldOptionsModal_phonePrefixContainer__X-k-T",phonePrefixSelectContainer:"FieldOptionsModal_phonePrefixSelectContainer__XK7PK",phoneIDropdown:"FieldOptionsModal_phoneIDropdown__f5MvN",phoneISearch:"FieldOptionsModal_phoneISearch__d42v9",phonePrefixText:"FieldOptionsModal_phonePrefixText__yi1yt",phoneIContainer:"FieldOptionsModal_phoneIContainer__YguKy",phoneIInput:"FieldOptionsModal_phoneIInput__xTFtX",phoneIButton:"FieldOptionsModal_phoneIButton__d4ccV","react-tel-input":"FieldOptionsModal_react-tel-input__Vdvqo","country-list":"FieldOptionsModal_country-list__bWUIZ","selected-flag":"FieldOptionsModal_selected-flag__RSASJ",open:"FieldOptionsModal_open__tDETU",currencySelectContainer:"FieldOptionsModal_currencySelectContainer__Vd4e9",currencySymbol:"FieldOptionsModal_currencySymbol__6RUaW",currencySelectComponent:"FieldOptionsModal_currencySelectComponent__BofG5",currencySelectMenuOverlayList:"FieldOptionsModal_currencySelectMenuOverlayList__xNU7C",currencySelectMenuOverlayListItem:"FieldOptionsModal_currencySelectMenuOverlayListItem__Z+vtS",currencySearchInput:"FieldOptionsModal_currencySearchInput__SKNfN",currencyClearControlsClassName:"FieldOptionsModal_currencyClearControlsClassName__Tsou1",uploadSelectComponent:"FieldOptionsModal_uploadSelectComponent__aIDW9",multiselectContainer:"FieldOptionsModal_multiselectContainer__VfjNY",uploadSearchInput:"FieldOptionsModal_uploadSearchInput__SM79r",maxFileSizeInput:"FieldOptionsModal_maxFileSizeInput__f2cLT",uploadFileSizeMeasureUnit:"FieldOptionsModal_uploadFileSizeMeasureUnit__FzVcE",uploadSelectMenuOverlayList:"FieldOptionsModal_uploadSelectMenuOverlayList__BCrMO",uploadSelectMenuOverlayListItem:"FieldOptionsModal_uploadSelectMenuOverlayListItem__Qkdru",dateTimePickerContainer:"FieldOptionsModal_dateTimePickerContainer__qjVxA",dateTimePickerTrigger:"FieldOptionsModal_dateTimePickerTrigger__judgV",dateAutosizeInput:"FieldOptionsModal_dateAutosizeInput__CsxLi",dateOptionsContainer:"FieldOptionsModal_dateOptionsContainer__Haxqc",dropdownElementHost:"FieldOptionsModal_dropdownElementHost__E7zgm",dropdownSymbol:"FieldOptionsModal_dropdownSymbol__5ABYM",dropdownSelectComponent:"FieldOptionsModal_dropdownSelectComponent__nArXq",dropdownSelectMenuOverlayList:"FieldOptionsModal_dropdownSelectMenuOverlayList__5n+3u",dropdownSelectMenuOverlayListItem:"FieldOptionsModal_dropdownSelectMenuOverlayListItem__QEn6G",dropdownInput:"FieldOptionsModal_dropdownInput__U3JY1",dropdownClearControlsClassName:"FieldOptionsModal_dropdownClearControlsClassName__FjsP5",dropdownListContainer:"FieldOptionsModal_dropdownListContainer__I6Y7K",dropDownButtonContainer:"FieldOptionsModal_dropDownButtonContainer__9K7oX",addDropdownOptionButton:"FieldOptionsModal_addDropdownOptionButton__EAca1",addDropdownOptionIcon:"FieldOptionsModal_addDropdownOptionIcon__XYMOa",dropDownNewListItemInputContainer:"FieldOptionsModal_dropDownNewListItemInputContainer__QgqO+",dropDownNewListItemInput:"FieldOptionsModal_dropDownNewListItemInput__u4m7R",dropdownInputButtonSaveNewItem:"FieldOptionsModal_dropdownInputButtonSaveNewItem__Wj4Cc",dropdownListItemsContainer:"FieldOptionsModal_dropdownListItemsContainer__yUWal",renderEditableListContainer:"FieldOptionsModal_renderEditableListContainer__H4aqe",renderEditableListItemInput:"FieldOptionsModal_renderEditableListItemInput__KLSTJ",renderEditableListItemDeleteButton:"FieldOptionsModal_renderEditableListItemDeleteButton__+u21c",peopleContainer:"FieldOptionsModal_peopleContainer__pfgvy",peopleBooleansOptions:"FieldOptionsModal_peopleBooleansOptions__OJGc9",peoplePositionSelectContainer:"FieldOptionsModal_peoplePositionSelectContainer__WVMlT",peoplePositionsSelect:"FieldOptionsModal_peoplePositionsSelect__WvnuB",peoplePositionsSelectMenuOverlay:"FieldOptionsModal_peoplePositionsSelectMenuOverlay__MhaEf",peoplePositionsSelectMenuOverlayItem:"FieldOptionsModal_peoplePositionsSelectMenuOverlayItem__n-2C5",controls:"FieldOptionsModal_controls__bDTZg",deleteButton:"FieldOptionsModal_deleteButton__YT1QH",errorContainer:"FieldOptionsModal_errorContainer__Pvvt9",componentsSelectContainer:"FieldOptionsModal_componentsSelectContainer__y8BMn",componentsSymbol:"FieldOptionsModal_componentsSymbol__sqPYL",componentsSelectComponent:"FieldOptionsModal_componentsSelectComponent__WhkRj",componentsSelectMenuOverlayList:"FieldOptionsModal_componentsSelectMenuOverlayList__tR9cX",componentsSelectMenuOverlayListItem:"FieldOptionsModal_componentsSelectMenuOverlayListItem__ptRPc",componentsSearchInput:"FieldOptionsModal_componentsSearchInput__MTz6p",ccomponentsClearControlsClassName:"FieldOptionsModal_ccomponentsClearControlsClassName__WMR5x"},Pe=n(66918),Be=[{label:"Display as text",value:"text"},{label:"Display as Horizontal Bar",value:"bar"}],Fe=function(e){var t,n,d,s,c,m,p,y,g,h,C,S,b,E,_,Z,w,N,x,L,I,M,O,k,T,P,B,F,D,A,W,V,z,R,j,q,H,U,K,X,Y,G,J,Q,$,ee,te,ne,le,oe,ae,ie,re,de,ue,se,ce,me,pe,ve,fe,ye,ge,he,Ce,Se,be,Ee,_e,Ze,we,xe,Ie,Me,Oe,ke,Fe,st,Ct,St,bt,Et,_t,Zt,wt,Nt,xt,Lt,It,Mt,Ot,kt,Tt,Pt,Bt,Ft,Dt,At,Wt,Vt,zt,Rt,jt,qt,Ht,Ut,Kt,Xt,Yt,Gt,Jt,Qt,$t,en,tn,nn,ln,on,an,rn,dn,un,sn,cn,mn,pn,vn,fn,yn,gn,hn,Cn,Sn,bn,En,_n,Zn,wn,Nn,xn,Ln,In,Mn,On,kn,Tn,Pn=e.onClose,Bn=e.isOpen,Fn=e.leftControlLoading,Dn=e.leftControlAction,An=e.centralControlAction,Wn=e.centralControlLoading,Vn=e.modalStyle,zn=e.allModules,Rn=e.blueprints,jn=e.selectedFields,qn=e.components,Hn=e.products,Un=e.companyProcesses,Kn=e.readOnly,Xn=void 0!==Kn&&Kn,Yn=(0,u.aL)(),Gn=(0,a.Z)(Yn,1)[0],Jn=(null===Gn||void 0===Gn?void 0:Gn.selectedFieldFromSelectedBlueprintComponent)||{},Qn=Jn.field_type,$n=void 0===Qn?{}:Qn,el=Jn.id,tl=Jn.value,nl=Jn.options,ll=(0,i.useState)(tl),ol=(0,a.Z)(ll,2),al=ol[0],il=ol[1],rl=(0,i.useState)(!1),dl=(0,a.Z)(rl,2),ul=dl[0],sl=dl[1],cl=(0,i.useState)((0,l.Z)({},nl)),ml=(0,a.Z)(cl,2),pl=ml[0],vl=ml[1],fl=(0,i.useState)({}),yl=(0,a.Z)(fl,2),gl=yl[0],hl=yl[1],Cl=(0,r.v9)((function(e){return e.flowReducer})),Sl=Cl.companyPositionsArray,bl=Cl.companyDepartments,El=(0,i.useState)(Pe.sortWith([Pe.ascend(Pe.prop("department_name"))])(null===Sl||void 0===Sl?void 0:Sl.map((function(e){var t;return{label:e.label,value:e.value,department_name:e.department,department_id:null===(t=bl.find((function(t){return t.label==e.department})))||void 0===t?void 0:t.value}})))),_l=(0,a.Z)(El,1)[0],Zl=(0,i.useState)(null===nl||void 0===nl?void 0:nl.interval),wl=(0,a.Z)(Zl,2),Nl=wl[0],xl=wl[1],Ll=(0,i.useState)(null===nl||void 0===nl?void 0:nl.field),Il=(0,a.Z)(Ll,2),Ml=Il[0],Ol=Il[1],kl=(0,i.useState)([{label:"Firstname",value:"first_name"},{label:"Lastname",value:"last_name"},{label:"Username",value:"username"},{label:"Email",value:"email"},{label:"Address",value:"address"},{label:"City",value:"city"},{label:"Postal",value:"postal"},{label:"Phone",value:"phone"},{label:"Timezone",value:"timezone"}]),Tl=(0,a.Z)(kl,1)[0],Pl=(0,i.useCallback)((function(){var e,t,n={general:"",name:"",list:"",type:""};((null===al||void 0===al||null===(e=al.trim())||void 0===e?void 0:e.length)<1&&(n.name="Element name must have at least one letter character"),$n&&Pe.has("options")($n))&&(null===$n||void 0===$n||null===(t=$n.options)||void 0===t||t.forEach((function(e){var t;"object"!==(0,Ne.Z)(e)&&(Pe.has(null===e||void 0===e?void 0:e.toString())(pl)||(n.general="Mandatory fields are not completed,"),(!pl[e]||null!==pl&&void 0!==pl&&pl[e]&&(null===(t=pl[e])||void 0===t?void 0:t.length)<1)&&(n[e]=" ".concat(e," was not provided")))})));return hl(n),!!Object.values(n).every((function(e){return""===e}))}),[pl,al,$n,nl]),Bl=(0,i.useCallback)((function(){ul&&Pl()}),[ul,Pl]);(0,i.useEffect)((function(){Bl()}),[Bl]);var Fl=(0,i.useCallback)((function(){sl(!0),Pl()&&(null===An||void 0===An||An({id:el,value:al,options:pl}))}),[An,pl,al,el,Pl]);return i.createElement(f.U7,{isOpen:Bn,blured:!0,scrollable:!0,shadowedContainerStyle:Vn},i.createElement("div",{className:Te.host},i.createElement("div",{className:Te.target},i.createElement("p",{className:Te.title},"edit ".concat(null===$n||void 0===$n?void 0:$n.name)),i.createElement(We,{errorMessage:Object.values(gl).length>0?Object.values(gl).filter((function(e){return""!==e})):""}),i.createElement(We,null,i.createElement(f.Lb,{title:"Field Name"}),i.createElement("input",{type:"text",name:"element-name",value:al,onChange:function(e){return t=e.target.value,void il(t);var t},className:Te.elementTextInput,readOnly:"Template"===$n.name})),"number"===(null===$n||void 0===$n||null===(t=$n.name)||void 0===t?void 0:t.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(Ve,{validationErrors:gl,defaultValue:"numeric"==(null===nl||void 0===nl?void 0:nl.type),onChangeType:function(e){vl({type:e})}}),i.createElement(We,{errorMessage:null===gl||void 0===gl?void 0:gl.type},i.createElement(f.Lb,{title:"Output display"}),i.createElement(f.sm,{"apps-variant":null!==gl&&void 0!==gl&&gl.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:Be,defaultSelectedItem:Be.find((function(e){return e.value===(null===pl||void 0===pl?void 0:pl.display)})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){"bar"===(null===e||void 0===e?void 0:e.value)?vl((0,l.Z)((0,l.Z)({},pl),{},{display:null===e||void 0===e?void 0:e.value,chart:!1})):(null===pl||void 0===pl||delete pl.barC,null===pl||void 0===pl||delete pl.maxC,null===pl||void 0===pl||delete pl.max,vl((0,l.Z)((0,l.Z)({},pl),{},{display:null===e||void 0===e?void 0:e.value})))}}))),"bar"===(null===pl||void 0===pl?void 0:pl.display)&&i.createElement(We,{errorMessage:null===gl||void 0===gl?void 0:gl.name},i.createElement(f.Lb,{title:"Maximum Value"}),i.createElement("input",{type:"text",name:"element-name",value:pl.max,onBlur:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{max:e.target.value}))},className:Te.elementTextInput}),i.createElement(f.Lb,{title:"Color - Formula Value"}),i.createElement("input",{type:"text",className:Te.elementTextInput,style:{borderRight:"white"===(null===pl||void 0===pl?void 0:pl.barC)?"white":"50px solid ".concat(null!==(n=null===pl||void 0===pl?void 0:pl.barC)&&void 0!==n?n:"#F6F4EC")},defaultValue:null!==(d=null===pl||void 0===pl?void 0:pl.barC)&&void 0!==d?d:"#F6F4EC",onBlur:function(e){return vl((0,l.Z)((0,l.Z)({},pl),{},{barC:e.target.value}))}}),i.createElement(f.Lb,{title:"Color - Formula Max Value"}),i.createElement("input",{type:"text",className:Te.elementTextInput,style:{borderRight:"white"===(null===pl||void 0===pl?void 0:pl.maxC)?"white":"50px solid ".concat(null!==(s=null===pl||void 0===pl?void 0:pl.maxC)&&void 0!==s?s:"yellow")},defaultValue:null!==(c=null===pl||void 0===pl?void 0:pl.maxC)&&void 0!==c?c:"yellow",onBlur:function(e){return vl((0,l.Z)((0,l.Z)({},pl),{},{maxC:e.target.value}))}})),"percentage"===(null===pl||void 0===pl?void 0:pl.type)&&"bar"!==(null===pl||void 0===pl?void 0:pl.display)&&i.createElement(f.pd,{id:"Show chart for percentage value",title:"Show chart for percentage value",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===pl||void 0===pl?void 0:pl.chart,toggleSelected:function(e){vl(e?(0,l.Z)((0,l.Z)({},pl),{},{chart:!0}):(0,l.Z)((0,l.Z)({},pl),{},{chart:!1}))}})),"url"===(null===$n||void 0===$n||null===(m=$n.name)||void 0===m?void 0:m.toLowerCase())&&i.createElement(Re,{validationErrors:gl,defaultType:"image"==(null===nl||void 0===nl?void 0:nl.type),defaultValue:null!==(p=null===nl||void 0===nl?void 0:nl.value)&&void 0!==p?p:"",onChangeType:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{type:e}))},onChangeValue:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{value:e}))}}),"checkbox"===(null===$n||void 0===$n||null===(y=$n.name)||void 0===y?void 0:y.toLowerCase())&&i.createElement(je,{validationErrors:gl,defaultValue:null!==(g=null===nl||void 0===nl?void 0:nl.value)&&void 0!==g?g:"",onChangeValue:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{value:e}))}}),"phone"===(null===$n||void 0===$n||null===(h=$n.name)||void 0===h?void 0:h.toLowerCase())&&i.createElement(qe,{validationErrors:gl,countryCode:null===nl||void 0===nl?void 0:nl.country_code,defaultValue:(null===nl||void 0===nl?void 0:nl.country_prefix)+" "+(null===nl||void 0===nl?void 0:nl.country_name),onChange:function(e){return vl(e)}}),"currency"===(null===$n||void 0===$n||null===(C=$n.name)||void 0===C?void 0:C.toLowerCase())&&i.createElement(He,{validationErrors:gl,defaultValue:Pe.find(Pe.propEq("value",null===nl||void 0===nl?void 0:nl.currency_value))(v.s3),onCurrencySelected:function(e){vl({currency_type:null===e||void 0===e?void 0:e.label,currency_value:null===e||void 0===e?void 0:e.value,symbol:null===e||void 0===e?void 0:e.symbol})}}),"action button"===(null===$n||void 0===$n||null===(S=$n.name)||void 0===S?void 0:S.toLowerCase())&&i.createElement(Ue,{validationErrors:gl,defaultValue:null===nl||void 0===nl?void 0:nl.action,onActionSelected:function(e){vl({action:null===e||void 0===e?void 0:e.value})}}),"value button"===(null===$n||void 0===$n||null===(b=$n.name)||void 0===b?void 0:b.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(We,null,i.createElement(f.Lb,{title:"Button label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null===pl||void 0===pl?void 0:pl.label,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{label:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Button Image (Optional)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null===pl||void 0===pl?void 0:pl.image,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{image:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Value to set"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null===pl||void 0===pl?void 0:pl.value,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{value:e.target.value}))}}))),i.createElement(f.pd,{id:"Use selection as decision for step",title:"Use selection as decision for step?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===pl||void 0===pl?void 0:pl.decision,toggleSelected:function(e){vl(e?(0,l.Z)((0,l.Z)({},pl),{},{decision:!0}):(0,l.Z)((0,l.Z)({},pl),{},{decision:!1,jump1:void 0}))}}),(null===pl||void 0===pl?void 0:pl.decision)&&i.createElement(We,{errorMessage:null===gl||void 0===gl?void 0:gl.position_id},i.createElement(f.Lb,{title:"Process where to look for step"}),i.createElement(f.sm,{"app-variant":null!==gl&&void 0!==gl&&gl.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},i.createElement(f.rk,{items:Un.map((function(e){return{label:e.name,value:e.id,process:e}})),defaultSelected:{label:null===(E=Un.find((function(e){return e.id===(null===pl||void 0===pl?void 0:pl.process)})))||void 0===E?void 0:E.name},className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{process:e.value}))}}))),(null===pl||void 0===pl?void 0:pl.decision)&&pl.process&&i.createElement(We,{errorMessage:null===gl||void 0===gl?void 0:gl.position_id},i.createElement(f.Lb,{title:"Selection jumps to step"}),i.createElement(f.sm,{"app-variant":null!==gl&&void 0!==gl&&gl.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},i.createElement(f.rk,{items:null===(_=Un.find((function(e){return e.id===(null===pl||void 0===pl?void 0:pl.process)})))||void 0===_||null===(Z=_.steps)||void 0===Z?void 0:Z.map((function(e){return{label:e.name,value:e.id,step:e}})),defaultSelected:{label:null===(w=Un.find((function(e){return e.id===(null===pl||void 0===pl?void 0:pl.process)})))||void 0===w||null===(N=w.steps)||void 0===N||null===(x=N.find((function(e){return e.id===pl.jump1})))||void 0===x?void 0:x.name},className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{jump1:e.value}))}})))),"profile"===(null===$n||void 0===$n||null===(L=$n.name)||void 0===L?void 0:L.toLowerCase())&&i.createElement(Ke,{validationErrors:gl,defaultValue:null===nl||void 0===nl?void 0:nl.type,defaultOption:pl,onProfileSelected:function(e){vl({type:null===e||void 0===e?void 0:e.value})}}),"upload"===(null===$n||void 0===$n||null===(I=$n.name)||void 0===I?void 0:I.toLowerCase())&&i.createElement(ut,{validationErrors:gl,defaultMaxSize:null!==(M=+(null===nl||void 0===nl?void 0:nl.max_file_size)/1024)&&void 0!==M?M:51200,onMaxFileSizeChanged:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{max_file_size:1024*+e}))},defaultList:nl.accepted_mimes,onListSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{accepted_mimes:e}))}}),"date"===(null===$n||void 0===$n||null===(O=$n.name)||void 0===O?void 0:O.toLowerCase())&&i.createElement(ze,{validationErrors:gl,defaultValue:"single"==(null===pl||void 0===pl?void 0:pl.type),defaultAuto:null===pl||void 0===pl?void 0:pl.auto,defaultTime:null===pl||void 0===pl?void 0:pl.time,onChangeType:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{type:e}))},onExceeded:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{auto:e}))},withTime:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{time:e}))}}),"people"===(null===$n||void 0===$n||null===(k=$n.name)||void 0===k?void 0:k.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(pt,{validationErrors:gl,allModules:zn,defaultType:null===pl||void 0===pl?void 0:pl.type,defaultAssign:null===pl||void 0===pl?void 0:pl.assign,defaultEmail:null===pl||void 0===pl?void 0:pl.email,defaultCalendar:null===pl||void 0===pl?void 0:pl.calendar,defaultSlider:null===pl||void 0===pl?void 0:pl.slider,onChangeSlider:function(e){vl(1==e?(0,l.Z)((0,l.Z)({},pl),{},{slider:!0,calendar:!1}):(0,l.Z)((0,l.Z)({},pl),{},{slider:!1,info:!1,other:!1}))},onCalendar:function(e){vl(1==e?(0,l.Z)((0,l.Z)({},pl),{},{calendar:!0,slider:!1,assign:!1,info:!1,other:!1}):(0,l.Z)((0,l.Z)({},pl),{},{calendar:!1}))},defaultModule:zn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===pl||void 0===pl?void 0:pl.module_id)&&void 0!==t?t:"")})),defaultPositions:null!==(T=null===pl||void 0===pl?void 0:pl.position_id)&&void 0!==T?T:[],onChangeType:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{type:e}))},onChangeEmail:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{email:e}))},onChangeAssign:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{assign:e}))},onChangeList:function(e){e.length>0?vl((0,l.Z)((0,l.Z)({},pl),{},{position_id:(0,o.Z)(e)})):delete pl.position_id},onModuleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{module_id:e.value}))},options:nl,onOptionsSelected:function(e){vl(e)},fieldOption:pl}),(null===pl||void 0===pl?void 0:pl.slider)&&i.createElement(f.pd,{id:"Display info",title:"Display user info?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:!(null===pl||void 0===pl||!pl.info),toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{info:!!e}))}}),(null===pl||void 0===pl?void 0:pl.slider)&&i.createElement(f.pd,{id:"Display misc info",title:"Display other user info?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:!(null===pl||void 0===pl||!pl.other),toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{other:!!e}))}}),(null===pl||void 0===pl?void 0:pl.position_id)&&i.createElement(We,null,i.createElement(f.Lb,{title:"Field in users to use as filter"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement(f.rk,{items:Tl,defaultSelected:Tl.find((function(e){return e.value===pl.filter})),className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{filter:e.value}))}}))),(null===pl||void 0===pl?void 0:pl.position_id)&&i.createElement(Ye,{title:"Filter Selections",validationErrors:gl,defaultList:(null===pl||void 0===pl||null===(P=pl.dropdown)||void 0===P?void 0:P.length)>0?null===pl||void 0===pl?void 0:pl.dropdown:void 0,onListSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{dropdown:e}))}}),i.createElement("div",{style:{display:null!==pl&&void 0!==pl&&pl.calendar?"":"none"}},i.createElement(We,null,i.createElement(f.Lb,{title:"Header label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null===pl||void 0===pl?void 0:pl.header,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{header:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Title label to use in tasks"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(B=null===pl||void 0===pl?void 0:pl.title)&&void 0!==B?B:"Event Name",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{title:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Description label to use in tasks"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(F=null===pl||void 0===pl?void 0:pl.description)&&void 0!==F?F:"Description",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{description:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Assignee label to use in tasks"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(D=null===pl||void 0===pl?void 0:pl.assignee)&&void 0!==D?D:"Assigned to",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{assignee:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Start date label to use in tasks"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(A=null===pl||void 0===pl?void 0:pl.start)&&void 0!==A?A:"Start Date",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{start:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"End date label to use in tasks"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(W=null===pl||void 0===pl?void 0:pl.end)&&void 0!==W?W:"End Date",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{end:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Value label to use  in tasks (Optional)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null===pl||void 0===pl?void 0:pl.valueL,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{valueL:e.target.value}))}})),i.createElement("p",{className:Te.optionSettings},"Note: If set, ensure label is set in calendar")),i.createElement(We,null,i.createElement(f.Lb,{title:"Display users in assigned to from these positions (Optional)"}),i.createElement("div",{style:{border:"1px solid var(--app-color-gray-lighter)"}},i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:_l,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:(null===pl||void 0===pl?void 0:pl.aList)&&(null===_l||void 0===_l?void 0:_l.filter((function(e){return(null===pl||void 0===pl?void 0:pl.aList.indexOf(e.value))>-1}))),className:Te.uploadSelectComponent,inputClassName:Te.uploadSearchInput,molclassname:Te.uploadSelectMenuOverlayList,moliclassname:Te.uploadSelectMenuOverlayListItem,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{aList:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))}))}}))),i.createElement(Ye,{validationErrors:gl,defaultList:(null===nl||void 0===nl||null===(V=nl.list)||void 0===V?void 0:V.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,onListSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:e}))}}))),"positions"===(null===$n||void 0===$n||null===(z=$n.name)||void 0===z?void 0:z.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(vt,{validationErrors:gl,allModules:zn,defaultType:null===nl||void 0===nl?void 0:nl.type,defaultAssign:null===nl||void 0===nl?void 0:nl.assign,defaultEmail:null===nl||void 0===nl?void 0:nl.email,defaultCalendar:null===nl||void 0===nl?void 0:nl.calendar,defaultSlider:null===nl||void 0===nl?void 0:nl.slider,onChangeSlider:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{slider:e}))},onCalendar:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{calendar:e}))},defaultModule:zn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nl||void 0===nl?void 0:nl.module_id)&&void 0!==t?t:"")})),defaultPositions:null!==(R=null===nl||void 0===nl?void 0:nl.position_id)&&void 0!==R?R:[],onChangeType:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{type:e}))},onChangeEmail:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{email:e}))},onChangeAssign:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{assign:e}))},onChangeList:function(e){e.length>0?vl((0,l.Z)((0,l.Z)({},pl),{},{position_id:(0,o.Z)(e)})):delete pl.position_id},onModuleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{module_id:e.value}))},options:nl,onOptionsSelected:function(e){vl(e)},fieldOption:pl}),i.createElement("div",null,i.createElement(f.pd,{id:"Fetch users when item is selected",title:"Fetch users when item is selected?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===pl||void 0===pl?void 0:pl.fetch,toggleSelected:function(e){vl(e?(0,l.Z)((0,l.Z)({},pl),{},{fetch:!0}):(0,l.Z)((0,l.Z)({},pl),{},{fetch:!1}))}})),i.createElement("div",null,i.createElement(f.pd,{id:"Share transaction to position when item is selected",title:"Share transaction to position when item is selected?",ungrouped:!0,withAckButton:!1,style:{margin:"40px 0px 20px 0px",width:"auto"},value:null===pl||void 0===pl?void 0:pl.share,toggleSelected:function(e){vl(e?(0,l.Z)((0,l.Z)({},pl),{},{share:!0}):(0,l.Z)((0,l.Z)({},pl),{},{share:!1}))}})),i.createElement("div",null,i.createElement(f.pd,{id:"AddUserPosition",title:"Add user to selected position?",ungrouped:!0,withAckButton:!1,style:{margin:"40px 0px 20px 0px",width:"auto"},value:null!==(j=null===pl||void 0===pl?void 0:pl.addToPos)&&void 0!==j&&j,toggleSelected:function(e){vl(e?(0,l.Z)((0,l.Z)({},pl),{},{addToPos:!0,share:!1,calendar:!1,fetch:!1}):(0,l.Z)((0,l.Z)({},pl),{},{addToPos:!1}))}})),i.createElement("div",{style:{display:null!==pl&&void 0!==pl&&pl.calendar?"":"none"}},i.createElement(We,null,i.createElement(f.Lb,{title:"Header label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null===pl||void 0===pl?void 0:pl.header,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{header:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Title label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(q=null===pl||void 0===pl?void 0:pl.title)&&void 0!==q?q:"Event Name",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{title:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Description label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(H=null===pl||void 0===pl?void 0:pl.description)&&void 0!==H?H:"Description",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{description:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Assignee label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(U=null===pl||void 0===pl?void 0:pl.assignee)&&void 0!==U?U:"Assigned to",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{assignee:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Start date label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(K=null===pl||void 0===pl?void 0:pl.start)&&void 0!==K?K:"Start Date",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{start:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"End date label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(X=null===pl||void 0===pl?void 0:pl.end)&&void 0!==X?X:"End Date",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{end:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Value label to use (Optional)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null===pl||void 0===pl?void 0:pl.valueL,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{valueL:e.target.value}))}})),i.createElement("p",{className:Te.optionSettings},"Note: If set, ensure label is set in calendar")),i.createElement(Ye,{validationErrors:gl,defaultList:(null===nl||void 0===nl||null===(Y=nl.list)||void 0===Y?void 0:Y.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,onListSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:e}))}}))),"dropdown"===(null===$n||void 0===$n||null===(G=$n.name)||void 0===G?void 0:G.toLowerCase())&&i.createElement(Xe,{validationErrors:gl,defaultType:v.YX.find((function(e){var t;return(null===e||void 0===e?void 0:e.value)==(null!==(t=null===nl||void 0===nl?void 0:nl.type)&&void 0!==t?t:"single")})),defaultList:(null===nl||void 0===nl||null===(J=nl.list)||void 0===J?void 0:J.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,defaultPr:null!==(Q=null===nl||void 0===nl?void 0:nl.process)&&void 0!==Q?Q:"",defaultJ1:null!==($=null===nl||void 0===nl?void 0:nl.jump1)&&void 0!==$?$:"",defaultJ2:null!==(ee=null===nl||void 0===nl?void 0:nl.jump2)&&void 0!==ee?ee:"",onTypeSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{type:e.value}))},onListSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:e}))},onJump1Selected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{jump1:e}))},onJump2Selected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{jump2:e}))},onProcSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{process:e}))},companyProcesses:Un}),"status"===(null===$n||void 0===$n||null===(te=$n.name)||void 0===te?void 0:te.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(Ye,{validationErrors:gl,defaultList:(null===nl||void 0===nl||null===(ne=nl.list)||void 0===ne?void 0:ne.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,onListSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:e}))}}),i.createElement(f.pd,{id:"Control transaction with status",title:"Control transaction with this field",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===pl||void 0===pl?void 0:pl.control,toggleSelected:function(e){vl(e?(0,l.Z)((0,l.Z)({},pl),{},{control:!0}):(0,l.Z)((0,l.Z)({},pl),{},{control:!1}))}})),("list"===(null===$n||void 0===$n||null===(le=$n.name)||void 0===le?void 0:le.toLowerCase())||"module list"===(null===$n||void 0===$n||null===(oe=$n.name)||void 0===oe?void 0:oe.toLowerCase()))&&i.createElement(Je,{allModules:zn,validationErrors:gl,defaultType:{label:null!==(ae=null===nl||void 0===nl?void 0:nl.type)&&void 0!==ae?ae:"Table",value:null!==(ie=null===nl||void 0===nl?void 0:nl.type)&&void 0!==ie?ie:"Table"},defaultTypeX:nl,defaultModule:zn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nl||void 0===nl?void 0:nl.module_id)&&void 0!==t?t:"")})),defaultList:(null===nl||void 0===nl||null===(re=nl.list)||void 0===re?void 0:re.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,onTypeSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{type:e.value}))},onModuleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{module_id:e.module.id}))},onChangeList:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:(0,o.Z)(e)}))},multiSelectLabel:""===(null===nl||void 0===nl?void 0:nl.module_id)?"":null===(de=zn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nl||void 0===nl?void 0:nl.module_id)&&void 0!==t?t:"")})))||void 0===de?void 0:de.label}),"transaction list"===(null===$n||void 0===$n||null===(ue=$n.name)||void 0===ue?void 0:ue.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(f.pd,{id:"Basic List",title:"The list uses six or more columns?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===pl||void 0===pl?void 0:pl.simple,toggleSelected:function(e){e?(null===pl||void 0===pl||delete pl.id,null===pl||void 0===pl||delete pl.module_id,null===pl||void 0===pl||delete pl.type,null===pl||void 0===pl||delete pl.map,vl((0,l.Z)((0,l.Z)({},pl),{},{simple:e}))):vl((0,l.Z)((0,l.Z)({},pl),{},{simple:e}))}}),!(null!==pl&&void 0!==pl&&pl.simple)&&i.createElement(i.Fragment,null,i.createElement(We,null,i.createElement(f.Lb,{title:"List ID"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null===nl||void 0===nl?void 0:nl.id,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{id:e.target.value}))}}))),i.createElement(De,{blueprints:Rn,allModules:zn,companyProcesses:Un,validationErrors:gl,defaultType:{label:null!==(se=null===nl||void 0===nl?void 0:nl.type)&&void 0!==se?se:"Table",value:null!==(ce=null===nl||void 0===nl?void 0:nl.type)&&void 0!==ce?ce:"Table"},options:pl,defaultMap:null!==(me=null===pl||void 0===pl?void 0:pl.map)&&void 0!==me?me:{},defaultModule:zn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===pl||void 0===pl?void 0:pl.module_id)&&void 0!==t?t:"")})),defaultList:(null===pl||void 0===pl||null===(pe=pl.list)||void 0===pe?void 0:pe.length)>0?null===pl||void 0===pl?void 0:pl.list:void 0,onTypeSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{type:e.value}))},onModuleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{module_id:e.module.id}))},onChangeMapping:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{map:e}))},multiSelectLabel:""===(null===pl||void 0===pl?void 0:pl.module_id)?"":null===(ve=zn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===pl||void 0===pl?void 0:pl.module_id)&&void 0!==t?t:"")})))||void 0===ve?void 0:ve.label,setFieldOption:vl}))),("step list"===(null===$n||void 0===$n||null===(fe=$n.name)||void 0===fe?void 0:fe.toLowerCase())||"component list"===(null===$n||void 0===$n||null===(ye=$n.name)||void 0===ye?void 0:ye.toLowerCase()))&&i.createElement(Qe,{blueprints:Rn.filter((function(e){var t;return(null===e||void 0===e?void 0:e.id)!==(null!==(t=null===nl||void 0===nl?void 0:nl.component_id)&&void 0!==t?t:"")})),validationErrors:gl,defaultList:(null===nl||void 0===nl||null===(ge=nl.list)||void 0===ge?void 0:ge.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,defaultType:Rn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nl||void 0===nl?void 0:nl.component_id)&&void 0!==t?t:"")})),onTypeSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{component_id:e.component.id}))},defaultKey:null!==(he=null===nl||void 0===nl?void 0:nl.key)&&void 0!==he?he:"Key",onKeySelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{key:e}))},onChangeList:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:(0,o.Z)(e)}))},multiSelectLabel:""===(null===nl||void 0===nl?void 0:nl.component_id)?"":null===(Ce=Rn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nl||void 0===nl?void 0:nl.component_id)&&void 0!==t?t:"")})))||void 0===Ce?void 0:Ce.label}),"product"===(null===$n||void 0===$n||null===(Se=$n.name)||void 0===Se?void 0:Se.toLowerCase())&&i.createElement(Ge,{products:Hn,validationErrors:gl,defaultList:(null===nl||void 0===nl||null===(be=nl.list)||void 0===be?void 0:be.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,onChangeList:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:(0,o.Z)(e)}))}}),"record"===(null===$n||void 0===$n||null===(Ee=$n.name)||void 0===Ee?void 0:Ee.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(ct,{defaultFilters:null===nl||void 0===nl?void 0:nl.filters,validationErrors:gl,field_type:$n,blueprints:Rn,nameValues:(null===nl||void 0===nl||null===(_e=nl.names)||void 0===_e?void 0:_e.length)>0?null===nl||void 0===nl?void 0:nl.names:[],defaultType:(null===nl||void 0===nl||null===(Ze=nl.selection)||void 0===Ze?void 0:Ze.length)>0?{label:null===nl||void 0===nl?void 0:nl.selection}:void 0,defaultList:(null===nl||void 0===nl||null===(we=nl.list)||void 0===we?void 0:we.length)>0?null===nl||void 0===nl?void 0:nl.list:[],defaultValue:{label:void 0===Gn.allBlueprintComponents.find((function(e){var t;return e.id===(null===(t=Gn.selectedFieldFromSelectedBlueprintComponent.options)||void 0===t?void 0:t.component_id)}))?"":Gn.allBlueprintComponents.find((function(e){var t;return e.id===(null===(t=Gn.selectedFieldFromSelectedBlueprintComponent.options)||void 0===t?void 0:t.component_id)})).name},defaultOutputField:(null===nl||void 0===nl||null===(xe=nl.output)||void 0===xe?void 0:xe.length)>0?{label:null===nl||void 0===nl?void 0:nl.output}:void 0,defaultGlobal:null===nl||void 0===nl?void 0:nl.global,onGlobalSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{global:e}))},onListSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:e}))},onComponentSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{component_id:e.blueprint.id}))},onTypeSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{selection:e}))},onNamesSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{names:e}))},onOutputFieldSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{output:e}))},onFilterList:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{filters:e}))}}),i.createElement(We,{errorMessage:null===gl||void 0===gl?void 0:gl.type},i.createElement(f.Lb,{title:"Optional: Conduct lookup from these transactions:"}),i.createElement(f.sm,{"app-variant":null!==gl&&void 0!==gl&&gl.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.rk,{items:zn.map((function(e){return{label:e.name,value:e.id}})),defaultSelected:zn.map((function(e){return{label:e.name,value:e.id}})).find((function(e){return e.value===(null===nl||void 0===nl?void 0:nl.module_id)})),className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{module_id:null===e||void 0===e?void 0:e.value}))}})))),"googleai assistant"===(null===$n||void 0===$n||null===(Ie=$n.name)||void 0===Ie?void 0:Ie.toLowerCase())&&i.createElement(ft,{defaultCurrent:null===nl||void 0===nl?void 0:nl.current,defaultDescription:null===nl||void 0===nl?void 0:nl.description,defaultValue:null===nl||void 0===nl?void 0:nl.analyze,defaultFixed:null===nl||void 0===nl?void 0:nl.fixed,defaultModule:{label:void 0===zn.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.module_id)}))?"":zn.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.module_id)})).name},defaultModule2:{label:void 0===zn.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.module2_id)}))?"":zn.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.module2_id)})).name},defaultModule3:{label:void 0===zn.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.module3_id)}))?"":zn.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.module3_id)})).name},setFieldValue:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{analyze:e}))},setDefaultCurrent:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{current:e}))},setDefaultDescription:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{description:e}))},onModule1Select:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{module_id:null===e||void 0===e?void 0:e.value}))},onModule2Select:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{module2_id:null===e||void 0===e?void 0:e.value}))},onModule3Select:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{module3_id:null===e||void 0===e?void 0:e.value}))},setDefaultFixed:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{fixed:e}))},validationErrors:gl,allModules:zn}),"value"===(null===$n||void 0===$n||null===(Me=$n.name)||void 0===Me?void 0:Me.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(mt,{field_type:$n,allModules:zn,components:qn,defaultModule:(null===nl||void 0===nl||null===(Oe=nl.module_id)||void 0===Oe?void 0:Oe.length)>0?{label:zn.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.module_id)})).name,value:null===nl||void 0===nl?void 0:nl.module_id}:void 0,defaultOutput:null===qn||void 0===qn?void 0:qn.filter((function(e){return e.module_id===(null===nl||void 0===nl?void 0:nl.module_id)})).map((function(e){return{label:"".concat(e.title),value:e.id}})),defaultValue:{label:null===nl||void 0===nl?void 0:nl.value,slabel:void 0===Gn.allBlueprintComponents.find((function(e){var t,n;return e.id===(null===(t=Gn.selectedFieldFromSelectedBlueprintComponent)||void 0===t||null===(n=t.options)||void 0===n?void 0:n.component_id)}))?"":Gn.allBlueprintComponents.find((function(e){return e.id===Gn.selectedFieldFromSelectedBlueprintComponent.options.component_id})).name},onModuleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{module_id:e.value}))},onOutputSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{component_id:e.value}))},onFieldValueSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{value:e.value}))}}),i.createElement(f.pd,{id:"Show chart for selected value",title:"Show chart for selected value",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===pl||void 0===pl?void 0:pl.chart,toggleSelected:function(e){vl(e?(0,l.Z)((0,l.Z)({},pl),{},{chart:!0}):(0,l.Z)((0,l.Z)({},pl),{},{chart:!1}))}})),"formula"===(null===$n||void 0===$n||null===(ke=$n.name)||void 0===ke?void 0:ke.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(et,{setFieldOption:vl,fieldOption:pl,selectedFields:jn,validationErrors:gl,defaultValue:(null===nl||void 0===nl||null===(Fe=nl.operator)||void 0===Fe?void 0:Fe.length)>0?null===nl||void 0===nl?void 0:nl.operator:void 0,defaultList:(null===nl||void 0===nl||null===(st=nl.list)||void 0===st?void 0:st.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,defaultSearchText:(null===nl||void 0===nl||null===(Ct=nl.searchtext)||void 0===Ct?void 0:Ct.length)>0?null===nl||void 0===nl?void 0:nl.searchtext:void 0,onOperatorSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{operator:e}))},onChangeList:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:(0,o.Z)(e)}))},onChangeSearchText:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{searchtext:e}))},blueprints:Rn}),"freesum"===(null===pl||void 0===pl?void 0:pl.operator)&&i.createElement(Ye,{title:"Add fields to compute",validationErrors:gl,defaultList:(null===nl||void 0===nl||null===(St=nl.list)||void 0===St?void 0:St.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,onListSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:e}))}})),"item formula"===(null===$n||void 0===$n||null===(bt=$n.name)||void 0===bt?void 0:bt.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(tt,{setFieldOption:vl,fieldOption:pl,selectedFields:jn,validationErrors:gl,defaultValue:(null===nl||void 0===nl||null===(Et=nl.operator)||void 0===Et?void 0:Et.length)>0?null===nl||void 0===nl?void 0:nl.operator:void 0,defaultList:(null===nl||void 0===nl||null===(_t=nl.list)||void 0===_t?void 0:_t.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,defaultSearchText:(null===nl||void 0===nl||null===(Zt=nl.searchtext)||void 0===Zt?void 0:Zt.length)>0?null===nl||void 0===nl?void 0:nl.searchtext:void 0,onOperatorSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{operator:e}))},onChangeList:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:(0,o.Z)(e)}))},onChangeSearchText:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{searchtext:e}))},blueprints:Rn}),"freesum"===(null===pl||void 0===pl?void 0:pl.operator)&&i.createElement(Ye,{title:"Add fields to compute",validationErrors:gl,defaultList:(null===nl||void 0===nl||null===(wt=nl.list)||void 0===wt?void 0:wt.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,onListSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:e}))}})),"list filter"===(null===$n||void 0===$n||null===(Nt=$n.name)||void 0===Nt?void 0:Nt.toLowerCase())&&i.createElement(lt,{selectedFields:jn,validationErrors:gl,defaultField:(null===nl||void 0===nl||null===(xt=nl.field)||void 0===xt?void 0:xt.length)>0?null===nl||void 0===nl?void 0:nl.field:void 0,defaultValue:(null===nl||void 0===nl||null===(Lt=nl.value)||void 0===Lt?void 0:Lt.length)>0?null===nl||void 0===nl?void 0:nl.value:void 0,onChangeField:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{field:e}))},onChangeValue:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{value:e}))},blueprints:Rn}),"connector"===(null===$n||void 0===$n||null===(It=$n.name)||void 0===It?void 0:It.toLowerCase())&&i.createElement(dt,{selectedFields:jn,validationErrors:gl,defaultComponent1:(null===nl||void 0===nl||null===(Mt=nl.component1_id)||void 0===Mt?void 0:Mt.length)>0?{label:Gn.allBlueprintComponents.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.component1_id)})).name}:void 0,defaultComponent2:(null===nl||void 0===nl||null===(Ot=nl.component2_id)||void 0===Ot?void 0:Ot.length)>0?{label:Gn.allBlueprintComponents.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.component2_id)})).name}:void 0,defaultComponent3:(null===nl||void 0===nl||null===(kt=nl.component3_id)||void 0===kt?void 0:kt.length)>0?{label:Gn.allBlueprintComponents.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.component3_id)})).name}:void 0,defaultCommon12:(null===nl||void 0===nl||null===(Tt=nl.common_field_12)||void 0===Tt?void 0:Tt.length)>0?{label:null===nl||void 0===nl?void 0:nl.common_field_12}:void 0,defaultInputComponent1:(null===nl||void 0===nl||null===(Pt=nl.component1_input)||void 0===Pt?void 0:Pt.length)>0?{label:null===nl||void 0===nl?void 0:nl.component1_input}:void 0,defaultCommon23:(null===nl||void 0===nl||null===(Bt=nl.common_field_23)||void 0===Bt?void 0:Bt.length)>0?{label:null===nl||void 0===nl?void 0:nl.common_field_23}:void 0,defaultOutputs:(null===nl||void 0===nl||null===(Ft=nl.outputs)||void 0===Ft?void 0:Ft.length)>0?null===nl||void 0===nl?void 0:nl.outputs:[],onComponent1InputSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{component1_input:e}))},onComponent1Selected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{component1_id:e}))},onComponent2Selected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{component2_id:e}))},onCommon12Selected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{common_field_12:e}))},onComponent3Selected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{component3_id:e}))},onCommon23Selected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{common_field_23:e}))},onOutputsSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{outputs:(0,o.Z)(e)}))},bpContext:Gn}),"payments"===(null===$n||void 0===$n||null===(Dt=$n.name)||void 0===Dt?void 0:Dt.toLowerCase())&&i.createElement(ht,{validationErrors:gl,defaultValue:(null===nl||void 0===nl||null===(At=nl.type)||void 0===At?void 0:At.length)>0?{label:Gn.allBlueprintComponents.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.type)})).name}:void 0,defaultSrcName:(null===nl||void 0===nl||null===(Wt=nl.paymentField)||void 0===Wt?void 0:Wt.length)>0?{label:null===nl||void 0===nl?void 0:nl.paymentField}:void 0,onSourceSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{type:e}))},onSourceLabel:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{paymentField:e}))},bpContext:Gn,defaultList:(null===nl||void 0===nl||null===(Vt=nl.list)||void 0===Vt?void 0:Vt.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,onListSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:e}))}}),"lookup"===(null===$n||void 0===$n||null===(zt=$n.name)||void 0===zt?void 0:zt.toLowerCase())&&i.createElement(rt,{selectedFields:jn,validationErrors:gl,defaultGlobal:(null===nl||void 0===nl||null===(Rt=nl.global)||void 0===Rt?void 0:Rt.length)>0?null===nl||void 0===nl?void 0:nl.global:void 0,defaultValue:(null===nl||void 0===nl||null===(jt=nl.source_id)||void 0===jt?void 0:jt.length)>0?{label:Gn.allBlueprintComponents.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.source_id)})).name}:void 0,defaultTarget:(null===nl||void 0===nl||null===(qt=nl.target_id)||void 0===qt?void 0:qt.length)>0?{label:Gn.allBlueprintComponents.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.target_id)})).name}:void 0,defaultType:(null===nl||void 0===nl||null===(Ht=nl.selection)||void 0===Ht?void 0:Ht.length)>0?{label:null===nl||void 0===nl?void 0:nl.selection}:void 0,defaultCommon:(null===nl||void 0===nl||null===(Ut=nl.common_field)||void 0===Ut?void 0:Ut.length)>0?{label:null===nl||void 0===nl?void 0:nl.common_field}:void 0,defaultList:(null===nl||void 0===nl||null===(Kt=nl.list)||void 0===Kt?void 0:Kt.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,defaultRefList:(null===nl||void 0===nl||null===(Xt=nl.rlist)||void 0===Xt?void 0:Xt.length)>0?null===nl||void 0===nl?void 0:nl.rlist:void 0,defaultRefName:(null===nl||void 0===nl||null===(Yt=nl.referenceLabel)||void 0===Yt?void 0:Yt.length)>0?{label:null===nl||void 0===nl?void 0:nl.referenceLabel}:void 0,defaultSrcName:(null===nl||void 0===nl||null===(Gt=nl.sourceLabel)||void 0===Gt?void 0:Gt.length)>0?null===nl||void 0===nl?void 0:nl.sourceLabel:void 0,onSourceSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{source_id:e}))},onTargetSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{target_id:e}))},onFieldSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{common_field:e}))},onChangeList:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:(0,o.Z)(e)}))},onChangeRList:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{rlist:(0,o.Z)(e)}))},onTypeSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{selection:e}))},onSourceLabel:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{sourceLabel:(0,o.Z)(e)}))},onReferenceLabel:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{referenceLabel:e}))},onGlobalSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{global:e}))},onSetShowAll:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{showAll:e}))},showAllDefault:null===nl||void 0===nl?void 0:nl.showAll,bpContext:Gn}),"emails"===(null===$n||void 0===$n||null===(Jt=$n.name)||void 0===Jt?void 0:Jt.toLowerCase())&&i.createElement(nt,{validationErrors:gl,options:nl,setFieldOption:vl,fieldOption:pl,blueprints:Rn}),"product lookup"===(null===$n||void 0===$n||null===(Qt=$n.name)||void 0===Qt?void 0:Qt.toLowerCase())&&i.createElement(ot,{validationErrors:gl,defaultTarget:Gn.allBlueprintComponents.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.component_id)})),defaultRefName:null===nl||void 0===nl?void 0:nl.referenceLabel,defaultList:null===nl||void 0===nl?void 0:nl.list,defaultType:(null===nl||void 0===nl||null===($t=nl.selection)||void 0===$t?void 0:$t.length)>0?{label:null===nl||void 0===nl?void 0:nl.selection}:void 0,onTargetSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{component_id:e}))},onChangeList:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:(0,o.Z)(e)}))},onTypeSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{selection:e}))},onReferenceLabel:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{referenceLabel:e}))},bpContext:Gn}),"id"===(null===$n||void 0===$n||null===(en=$n.name)||void 0===en?void 0:en.toLowerCase())&&i.createElement(We,null,i.createElement(f.Lb,{title:"ID series to automatically generate"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement(yt,{defaultValue:nl.id.length>0?{label:nl.id}:{label:""},onSetIdGenerator:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{id:e,value:e}))}}))),"notes"===(null===$n||void 0===$n||null===(tn=$n.name)||void 0===tn?void 0:tn.toLowerCase())&&i.createElement(We,null,i.createElement(f.Lb,{title:"Notes automatically generate"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement(gt,{defaultValue:nl.value.length>0?{label:nl.value}:{label:""},onNotesGenerator:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{value:e}))}}))),"filters"===(null===$n||void 0===$n||null===(nn=$n.name)||void 0===nn?void 0:nn.toLowerCase())&&i.createElement(at,{validationErrors:gl,defaultTarget:Gn.allBlueprintComponents.find((function(e){return e.id===(null===nl||void 0===nl?void 0:nl.component_id)})),defaultFilters:null===nl||void 0===nl?void 0:nl.filters,defaultOutput:null===nl||void 0===nl?void 0:nl.output,defaultGlobal:null===nl||void 0===nl?void 0:nl.global,onGlobalSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{global:e}))},onTargetSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{component_id:e}))},onFilterList:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{filters:e}))},onOutputSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{output:e}))},bpContext:Gn}),"module"===(null===$n||void 0===$n||null===(ln=$n.name)||void 0===ln?void 0:ln.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(it,{validationErrors:gl,fieldOption:pl,setFieldOption:vl,defaultModule:null===pl||void 0===pl?void 0:pl.module_id,defaultFields:null===pl||void 0===pl?void 0:pl.fields,onFieldsSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{fields:e}))},bpContext:Gn,companyProcesses:Un,onModuleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{module_id:e.value}))}}),i.createElement(f.pd,{id:"Save transaction before transfer?",title:"Save transaction before calling this module",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===pl||void 0===pl?void 0:pl.save,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{save:e}))}}),i.createElement(f.pd,{id:"Return to module?",title:"Return to origin module after saving",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===pl||void 0===pl?void 0:pl.return,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{return:e}))}})),"pin"===(null===$n||void 0===$n||null===(on=$n.name)||void 0===on?void 0:on.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(f.pd,{id:"Pin with destination info?",title:"Pin a second location",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===nl||void 0===nl?void 0:nl.destination,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{destination:e}))}}),i.createElement(f.pd,{id:"Compute distance between two pins?",title:"Compute distance ".concat(1==(null===pl||void 0===pl?void 0:pl.destination)?"between two pins":"with current location"),ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===nl||void 0===nl?void 0:nl.compute,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{compute:e}))}}),i.createElement(f.pd,{id:"Show real-time location of target?",title:"Show real-time location",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===nl||void 0===nl?void 0:nl.realtime,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{realtime:e}))}}),1==(null===pl||void 0===pl?void 0:pl.realtime)&&i.createElement(We,null,i.createElement(f.Lb,{title:"Interval"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"number",className:Te.dropDownNewListItemInput,value:Nl,name:"Interval",onChange:function(e){xl(e.target.value),vl((0,l.Z)((0,l.Z)({},pl),{},{interval:+e.target.value}))}})))),"ratings"===(null===$n||void 0===$n||null===(an=$n.name)||void 0===an?void 0:an.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(We,null,i.createElement(f.Lb,{title:"Field to lookup user ID"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:Ml,name:"Field to lookup user ID",onChange:function(e){Ol(e.target.value),vl((0,l.Z)((0,l.Z)({},pl),{},{field:e.target.value}))}}))),i.createElement(f.pd,{id:"Add comments field?",title:"Add comments field?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===nl||void 0===nl?void 0:nl.comments,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{comments:e}))}}),i.createElement(f.pd,{id:"Allow users to view rating?",title:"Allow users to view rating?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===nl||void 0===nl?void 0:nl.view,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{view:e}))}})),"rewards"===(null===$n||void 0===$n||null===(rn=$n.name)||void 0===rn?void 0:rn.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(We,null,i.createElement(f.Lb,{title:"Apply rewards when status matches"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(dn=null===pl||void 0===pl?void 0:pl.status)&&void 0!==dn?dn:"Closed",name:"Status to compare",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{status:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Reward points to apply"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"number",className:Te.dropDownNewListItemInput,value:null!==(un=null===pl||void 0===pl?void 0:pl.points)&&void 0!==un?un:1,name:"Reward points to apply",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{points:+e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Equivalent wallet value to apply"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"number",className:Te.dropDownNewListItemInput,value:null!==(sn=null===pl||void 0===pl?void 0:pl.equiv)&&void 0!==sn?sn:1,name:"Equivalent wallet value to apply",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{equiv:+e.target.value}))}}))),i.createElement(f.pd,{id:"Apply rewards to transaction creator",title:"Apply rewards to transaction creator?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===(cn=null===pl||void 0===pl?void 0:pl.creator)||void 0===cn||cn,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{creator:e}))}})),"link"===(null===$n||void 0===$n||null===(mn=$n.name)||void 0===mn?void 0:mn.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(f.pd,{id:"Display as image",title:"Show link as an image?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null!==(pn=null===pl||void 0===pl?void 0:pl.image)&&void 0!==pn&&pn,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{image:e}))}})),"video"===(null===$n||void 0===$n||null===(vn=$n.name)||void 0===vn?void 0:vn.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(We,null,i.createElement(f.Lb,{title:"Status to match"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null===pl||void 0===pl?void 0:pl.status,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{status:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Time that join button is available (mins)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"number",className:Te.dropDownNewListItemInput,value:null!==(fn=null===pl||void 0===pl?void 0:pl.expiry)&&void 0!==fn?fn:10,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{expiry:+e.target.value}))}})))),"calendar"===(null===$n||void 0===$n||null===(yn=$n.name)||void 0===yn?void 0:yn.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(We,null,i.createElement(f.Lb,{title:"Header label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null===pl||void 0===pl?void 0:pl.header,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{header:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Title label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(gn=null===pl||void 0===pl?void 0:pl.title)&&void 0!==gn?gn:"Event Name",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{title:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Description label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(hn=null===pl||void 0===pl?void 0:pl.description)&&void 0!==hn?hn:"Description",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{description:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Assignee label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(Cn=null===pl||void 0===pl?void 0:pl.assignee)&&void 0!==Cn?Cn:"Assigned to",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{assignee:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Start date label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(Sn=null===pl||void 0===pl?void 0:pl.start)&&void 0!==Sn?Sn:"Start Date",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{start:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"End date label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(bn=null===pl||void 0===pl?void 0:pl.end)&&void 0!==bn?bn:"End Date",onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{end:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Value label to use (Optional)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null===pl||void 0===pl?void 0:pl.valueL,onChange:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{valueL:e.target.value}))}}))),i.createElement(Ye,{validationErrors:gl,defaultList:(null===nl||void 0===nl||null===(En=nl.list)||void 0===En?void 0:En.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,onListSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:e}))}}),i.createElement(f.pd,{id:"Retrieve calendar of transaction creator",title:"Retrieve calendar of transaction creator only?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===nl||void 0===nl?void 0:nl.creator,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{creator:e}))}}),i.createElement(f.pd,{id:"Limit calendar to module component attached",title:"Limit calendar to module it is attached to?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===nl||void 0===nl?void 0:nl.limited,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{limited:e}))}}),i.createElement(f.pd,{id:"Allow event to span multiple dates",title:"Allow event to span multiple dates?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===nl||void 0===nl?void 0:nl.span,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{span:e}))}}),i.createElement(f.pd,{id:"Show calendar priority",title:"Show calendar priority?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===nl||void 0===nl?void 0:nl.priority,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{priority:e}))}})),"info"===(null===$n||void 0===$n||null===(_n=$n.name)||void 0===_n?void 0:_n.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(Qe,{defaultOrientation:null!==(Zn=null===nl||void 0===nl?void 0:nl.orientation)&&void 0!==Zn?Zn:"Rows",defaultKey:null!==(wn=null===nl||void 0===nl?void 0:nl.key)&&void 0!==wn?wn:"Product ID",onKeySelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{key:e}))},blueprints:Rn,validationErrors:gl,defaultList:(null===nl||void 0===nl||null===(Nn=nl.list)||void 0===Nn?void 0:Nn.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,defaultType:Rn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nl||void 0===nl?void 0:nl.component_id)&&void 0!==t?t:"")})),onTypeSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{component_id:e.component.id}))},onChangeList:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:(0,o.Z)(e)}))},onChangeOrientation:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{orientation:e}))},multiSelectLabel:""===(null===nl||void 0===nl?void 0:nl.component_id)?"":Rn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nl||void 0===nl?void 0:nl.component_id)&&void 0!==t?t:"")})).label}),i.createElement(f.pd,{id:"Email Info",title:"Show this info in emails",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===nl||void 0===nl?void 0:nl.email,toggleSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{email:e}))}})),"chart"===(null===$n||void 0===$n||null===(xn=$n.name)||void 0===xn?void 0:xn.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement($e,{setFieldOption:vl,fieldOption:pl,defaultOrientation:null!==(Ln=null===nl||void 0===nl?void 0:nl.orientation)&&void 0!==Ln?Ln:"Rows",defaultKey:null!==(In=null===nl||void 0===nl?void 0:nl.key)&&void 0!==In?In:"",defaultConfig:null!==(Mn=null===nl||void 0===nl?void 0:nl.config)&&void 0!==Mn?Mn:v.mj,onConfigSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{config:e}))},onKeySelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{key:e}))},blueprints:Rn,validationErrors:gl,defaultList:(null===nl||void 0===nl||null===(On=nl.list)||void 0===On?void 0:On.length)>0?null===nl||void 0===nl?void 0:nl.list:void 0,defaultItemList:(null===nl||void 0===nl||null===(kn=nl.items)||void 0===kn?void 0:kn.length)>0?null===nl||void 0===nl?void 0:nl.items:void 0,defaultType:Rn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nl||void 0===nl?void 0:nl.component_id)&&void 0!==t?t:"")})),onTypeSelected:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{component_id:e.component.id}))},onChangeList:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{list:(0,o.Z)(e)}))},onChangeListItems:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{items:(0,o.Z)(e)}))},onChangeOrientation:function(e){vl((0,l.Z)((0,l.Z)({},pl),{},{orientation:e}))},multiSelectLabel:""===(null===nl||void 0===nl?void 0:nl.component_id)?"":Rn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nl||void 0===nl?void 0:nl.component_id)&&void 0!==t?t:"")})).label}))),"emails"!==(null===$n||void 0===$n||null===(Tn=$n.name)||void 0===Tn?void 0:Tn.toLowerCase())&&i.createElement(Ae,{isOutput:0===(null===$n||void 0===$n?void 0:$n.io_type),selectedFields:jn,options:nl,fieldType:null===$n||void 0===$n?void 0:$n.name,onOptionsSelected:function(e){vl(e)},fieldOption:pl}),i.createElement("div",{className:Te.controls},i.createElement(f.zx,{title:"Close",clicked:Pn}),!Xn&&i.createElement(f.zx,{light:!0,title:"Save",loading:Wn,clicked:Fl}),!Xn&&Dn&&i.createElement(f.zx,{title:"Delete",light:!0,loading:Fn,clicked:function(){return Dn(el)}}))))},De=function(e){var t=e.setFieldOption,n=e.options,r=e.defaultType,d=e.defaultModule,u=e.defaultMap,s=e.onModuleSelected,c=e.onTypeSelected,m=e.defaultList,p=e.validationErrors,v=e.allModules,y=(e.onChangeMapping,e.multiSelectLabel,e.companyProcesses),g=e.blueprints,h=(0,i.useState)(void 0),C=(0,a.Z)(h,2),S=(C[0],C[1]),b=(0,i.useState)(null!==u&&void 0!==u?u:{}),E=(0,a.Z)(b,1)[0],_=(0,i.useState)(!1),Z=(0,a.Z)(_,2),w=(Z[0],Z[1]),N=(0,i.useState)(void 0===m||0===m.length?[]:m.map((function(e){var t;return{label:e,value:e,blueprint_name:null!==(t=null===d||void 0===d?void 0:d.label)&&void 0!==t?t:"Others"}}))),x=(0,a.Z)(N,2),L=x[0],I=x[1];(0,i.useEffect)((function(){M()}),[]);var M=function(){if(g.length>0){var e=[];g.filter((function(t){t.fields.filter((function(t){e=[].concat((0,o.Z)(e),[t.value])}))})),e=(0,o.Z)(new Set(e)).map((function(e){return{label:e,value:e,blueprint_name:e}})),I((0,o.Z)(Pe.sortWith([Pe.ascend(Pe.prop("label"))])(e)))}},O=v.map((function(e){return{label:e.name,value:e.id,module:e}})),k=[{label:"Item Code",value:"item_code"},{label:"Quantity",value:"quantity"},{label:"Value",value:"value"},{label:"Alt Value",value:"alt_value"},{label:"Type",value:"type"}];return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===p||void 0===p?void 0:p.type},i.createElement(f.Lb,{title:"Module to list"}),i.createElement(f.sm,{"app-variant":null!==p&&void 0!==p&&p.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.rk,{items:O,defaultSelected:d,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){!function(e){if(y.length>0&&void 0!==e){var t,n,l=[];null===(t=y.find((function(t){return t.id===e})))||void 0===t||null===(n=t.steps)||void 0===n||n.filter((function(e){e.component_blueprints.filter((function(e){e.selected_fields.filter((function(e){return 1==e.visible})).filter((function(e){l=[].concat((0,o.Z)(l),[e.field_name])}))}))})),l=(0,o.Z)(new Set(l)).map((function(e){var t;return{label:e,value:e,blueprint_name:null!==(t=null===d||void 0===d?void 0:d.label)&&void 0!==t?t:"Others"}})),I([].concat((0,o.Z)(Pe.sortWith([Pe.ascend(Pe.prop("label"))])(l)),[{label:"None",value:"none"}]))}}(e.module.procedure.id),S(e),null===s||void 0===s||s(e),null!==e&&void 0!==e&&e.symbol?w(!1):w(!0)}}))),i.createElement(We,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Item Code"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:L,defaultSelectedItem:null!==u&&void 0!==u&&u.item_code?{label:u.item_code,value:u.item_code}:null,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.item_code:E.item_code=e.value,t((0,l.Z)((0,l.Z)({},n),{},{map:E}))}}))),i.createElement(We,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Quantity"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:L,defaultSelectedItem:null!==u&&void 0!==u&&u.quantity?{label:u.quantity,value:u.quantity}:null,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.quantity:E.quantity=e.value,t((0,l.Z)((0,l.Z)({},n),{},{map:E}))}}))),i.createElement(We,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Value"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:L,defaultSelectedItem:null!==u&&void 0!==u&&u.value?{label:u.value,value:u.value}:null,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.value:E.value=e.value,t((0,l.Z)((0,l.Z)({},n),{},{map:E}))}}))),i.createElement(We,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Other Value"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:L,defaultSelectedItem:null!==u&&void 0!==u&&u.alt_value?{label:u.alt_value,value:u.alt_value}:null,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.alt_value:E.alt_value=e.value,t((0,l.Z)((0,l.Z)({},n),{},{map:E}))}}))),i.createElement(We,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Total"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:L,defaultSelectedItem:null!==u&&void 0!==u&&u.total?{label:u.total,value:u.total}:null,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.total:E.total=e.value,t((0,l.Z)((0,l.Z)({},n),{},{map:E}))}}))),i.createElement(We,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Type"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:L,defaultSelectedItem:null!==u&&void 0!==u&&u.type?{label:u.type,value:u.type}:null,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.type:E.type=e.value,t((0,l.Z)((0,l.Z)({},n),{},{map:E}))}}))),(null===n||void 0===n?void 0:n.group)&&i.createElement(We,{errorMessage:null===p||void 0===p?void 0:p.type},i.createElement(f.Lb,{title:"Group By"}),i.createElement(f.sm,{"app-variant":null!==p&&void 0!==p&&p.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.rk,{items:k,defaultSelected:null===k||void 0===k?void 0:k.find((function(e){return e.value===(null===n||void 0===n?void 0:n.groupL)})),className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){t((0,l.Z)((0,l.Z)({},n),{},{groupL:null===e||void 0===e?void 0:e.value}))}}))),i.createElement(f.pd,{id:"Group Type",title:"Group items?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===n||void 0===n?void 0:n.group,toggleSelected:function(e){t((0,l.Z)((0,l.Z)({},n),{},{group:e}))}}),i.createElement(We,{errorMessage:null===p||void 0===p?void 0:p.type},i.createElement(f.Lb,{title:"List type"}),i.createElement(f.sm,{"app-variant":null!==p&&void 0!==p&&p.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.rk,{items:[{label:"Table",value:"Table"},{label:"List (max 4 fields displayed)",value:"List"}],defaultSelected:r,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){null===c||void 0===c||c(e),null!==e&&void 0!==e&&e.symbol?w(!1):w(!0)}}))),i.createElement(f.pd,{id:"Show Footer",title:"Show footer?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===n||void 0===n?void 0:n.footer,toggleSelected:function(e){t((0,l.Z)((0,l.Z)({},n),{},{footer:e}))}}))},Ae=function(e){var t,n,o,r=e.fieldType,d=e.selectedFields,u=e.fieldOption,s=e.errorMessage,c=e.noBorder,m=e.options,p=e.onOptionsSelected,v=e.isOutput,y=(0,i.useState)(((null===m||void 0===m?void 0:m.valueToMatch)||(null===m||void 0===m?void 0:m.valueToMatch2))&&(null===m||void 0===m?void 0:m.fieldToMatch)||(null===m||void 0===m?void 0:m.mapToItem)||(null===m||void 0===m?void 0:m.notes)||(null===m||void 0===m?void 0:m.width)),g=(0,a.Z)(y,2),h=g[0],C=g[1],S=(0,i.useState)(null===m||void 0===m?void 0:m.valueToMatch),b=(0,a.Z)(S,2),E=b[0],_=b[1],Z=(0,i.useState)(null===m||void 0===m?void 0:m.valueToMatch2),w=(0,a.Z)(Z,2),N=w[0],x=w[1],L=(0,i.useState)(null===m||void 0===m?void 0:m.fieldToMatch),I=(0,a.Z)(L,2),M=I[0],O=I[1],k=(0,i.useState)(null===m||void 0===m?void 0:m.notes),T=(0,a.Z)(k,2),P=T[0],B=T[1],F=[{label:"Make field visible and mandatory",value:"visman"},{label:"Make field visible",value:"visible"},{label:"Make field hidden",value:"hidden"},{label:"Make field mandatory",value:"mandatory"},{label:"Make field optional",value:"optional"},{label:"Disable the field",value:"disable"},{label:"Enable the field",value:"enable"}],D=[{label:"Make field visible and mandatory",value:"visman"},{label:"Show the field",value:"visible"},{label:"Hide the field",value:"hide"},{label:"Make field mandatory",value:"mandatory"},{label:"Make field optional",value:"optional"},{label:"Disable the field",value:"disable"},{label:"Enable the field",value:"enable"},{label:"Trigger an email during save",value:"email"}],A=[{label:"Set date today",value:"today",type:"Date"},{label:"Set date tomorrow",value:"tomorrow",type:"Date"},{label:"Set date one month from today",value:"month",type:"Date"},{label:"Set date one week from today",value:"week",type:"Date"},{label:"None",value:"none",type:"Date"}];d.map((function(e){return{label:e.value,value:e.value,field:e}}));return i.createElement("div",{className:Te.optionSettings,"app-container-variant":c?"noBorder":"border","app-variant":(null===s||void 0===s?void 0:s.length)>0?"error":"normal"},!("GoogleAI Assistant"===r||"OpenAI Assistant"===r)&&i.createElement(f.pd,{id:"Show additional options?",title:"Show additional options?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:!!h,toggleSelected:function(e){C(e)}}),h&&i.createElement("div",null,i.createElement(We,null,i.createElement(f.Lb,{title:"Add Notes"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("textarea",{type:"text",className:Te.dropDownNewListItemInput,value:P,name:"matched to field",onChange:function(e){B(e.target.value),p((0,l.Z)((0,l.Z)({},u),{},{notes:e.target.value}))}})))),h&&i.createElement(We,null,i.createElement(f.Lb,{title:"Field name to match values"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:M,name:"matched to field",onChange:function(e){O(e.target.value),p((0,l.Z)((0,l.Z)({},u),{},{fieldToMatch:e.target.value}))}}))),h&&(null===M||void 0===M?void 0:M.length)>2&&i.createElement(We,null,i.createElement(f.Lb,{title:"Values (A) to be matched to field. (Note: Use ' , ' to seperate)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:E,name:"matched to field",onChange:function(e){_(e.target.value),p((0,l.Z)((0,l.Z)({},u),{},{valueToMatch:e.target.value}))}}))),h&&(null===E||void 0===E?void 0:E.length)>2&&i.createElement(We,null,i.createElement(f.Lb,{title:"Perform this action when matched with (A)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:D.filter((function(e){return"email"!==e.value})),defaultSelectedItem:D.find((function(e){return e.value===(null===m||void 0===m?void 0:m.actionToPerform)})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){p((0,l.Z)((0,l.Z)({},u),{},{actionToPerform:e.value}))}}))),h&&(null===E||void 0===E?void 0:E.length)>2&&i.createElement(We,null,i.createElement(f.Lb,{title:"Perform this action when not matched with (A)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:F,defaultSelectedItem:F.find((function(e){return e.value===(null===m||void 0===m?void 0:m.initialState)})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){p((0,l.Z)((0,l.Z)({},u),{},{initialState:e.value}))}}))),h&&(null===M||void 0===M?void 0:M.length)>2&&i.createElement(We,null,i.createElement(f.Lb,{title:"Values (B) to be matched to field. (Note: Use ' , ' to seperate)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:N,name:"matched to field",onChange:function(e){x(e.target.value),p((0,l.Z)((0,l.Z)({},u),{},{valueToMatch2:e.target.value}))}}))),h&&(null===N||void 0===N?void 0:N.length)>2&&"Date"===r&&i.createElement(We,null,i.createElement(f.Lb,{title:"Change to this value when matched with (B)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:A,defaultSelectedItem:A.filter((function(e){return e.type===r})).find((function(e){return e.value===(null===m||void 0===m?void 0:m.value)})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){p((0,l.Z)((0,l.Z)({},u),{},{value:e.value}))}}))),h&&(null===N||void 0===N?void 0:N.length)>2&&("Text"===r||"Status"===r)&&i.createElement(We,null,i.createElement(f.Lb,{title:"Change to this value when matched"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:r.toLowerCase(),className:Te.dropDownNewListItemInput,placeholder:null===m||void 0===m?void 0:m.value,name:"matched to field",onChange:function(e){p((0,l.Z)((0,l.Z)({},u),{},{value:e.target.value}))}}))),h&&(null===N||void 0===N?void 0:N.length)>2&&i.createElement(We,null,i.createElement(f.Lb,{title:"Perform action to field when matched with (B)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:null!==m&&void 0!==m&&m.actionToPerform?D.filter((function(e){return!(e.value===(null===m||void 0===m?void 0:m.actionToPerform)||e.value===(null===m||void 0===m?void 0:m.initialState))})):D,defaultSelectedItem:D.find((function(e){return e.value===(null===m||void 0===m?void 0:m.actionToPerform2)})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){p((0,l.Z)((0,l.Z)({},u),{},{actionToPerform2:e.value}))}}))),h&&i.createElement(We,null,i.createElement(f.Lb,{title:"Map this field to line item field"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:[{label:"Item Codes",value:"item_code"},{label:"Numbers",value:"quantity"},{label:"Basic Text",value:"value"},{label:"Other Text",value:"alt_value"},{label:"Totals",value:"total"},{label:"Type",value:"type"},{label:"Distance",value:"distance"}],defaultSelectedItem:[{label:"Item Codes",value:"item_code"},{label:"Numbers",value:"quantity"},{label:"Text",value:"value"},{label:"More Text",value:"alt_value"},{label:"Totals",value:"total"},{label:"Type",value:"type"},{label:"Distance",value:"distance"}].find((function(e){return e.value===(null===m||void 0===m?void 0:m.mapToItem)})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){p((0,l.Z)((0,l.Z)({},u),{},{mapToItem:e.value}))}}))),h&&!v&&i.createElement(We,null,i.createElement(f.Lb,{title:"Apply color for values"}),i.createElement("input",{type:"text",className:Te.elementTextInput,style:{borderRight:"white"===(null===u||void 0===u?void 0:u.valueC)?"white":"".concat(null!==u&&void 0!==u&&u.valueC?"50px":"1px"," solid ").concat(null!==(t=null===u||void 0===u?void 0:u.valueC)&&void 0!==t?t:"var(--app-color-gray-lighter)")},defaultValue:null===u||void 0===u?void 0:u.valueC,onBlur:function(e){return p((0,l.Z)((0,l.Z)({},u),{},{valueC:e.target.value}))}})),h&&i.createElement(We,null,i.createElement("br",null),i.createElement(f.Lb,{title:"Field width (min 15%, will fit 4 fields in row)"}),i.createElement("div",{style:{display:"flex",width:"100%"}},i.createElement("input",{type:"range",min:"15",max:"100",step:"5",style:{width:"90%"},defaultValue:null!==(n=null===m||void 0===m?void 0:m.width)&&void 0!==n?n:"0",onChange:function(e){p((0,l.Z)((0,l.Z)({},u),{},{width:e.target.value}))}}),i.createElement("label",{style:{width:"10%"}},null!==(o=null===u||void 0===u?void 0:u.width)&&void 0!==o?o:null===m||void 0===m?void 0:m.width,"%")),i.createElement("br",null)),h&&!v&&i.createElement(f.pd,{id:"Do not save this value?",title:"Do not save this value?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===m||void 0===m?void 0:m.skip,toggleSelected:function(e){p((0,l.Z)((0,l.Z)({},u),{},{skip:e}))}}),h&&!v&&i.createElement(f.pd,{id:"Read only?",title:"Read only?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===m||void 0===m?void 0:m.read,toggleSelected:function(e){p((0,l.Z)((0,l.Z)({},u),{},{read:e}))}}))},We=function(e){var t=e.children,n=e.errorMessage,l=e.noBorder;return i.createElement("div",{className:Te.optionSection,"app-container-variant":l?"noBorder":"border","app-variant":(null===n||void 0===n?void 0:n.length)>0?"error":"normal"},t,(null===n||void 0===n?void 0:n.length)>0&&i.createElement("span",{className:Te.errorContainer},n))},Ve=function(e){var t=e.defaultValue,n=e.onChangeType,l=e.validationErrors,o=(0,i.useState)(null!==t&&void 0!==t&&t),r=(0,a.Z)(o,2),d=r[0],u=r[1];return i.createElement(We,{errorMessage:null===l||void 0===l?void 0:l.type},i.createElement(f.Lb,{title:"Type of Number"}),i.createElement(f.sm,{"app-variant":null!==l&&void 0!==l&&l.type?"error":"normal","app-container-variant":"noBorder",className:Te.numberOptionsContainer},i.createElement(f.nd,{selected:d,setSelected:function(e){u(e),n(e?"numeric":"percentage")},first:"123 Value",second:"% Percentage",extraClassName:Te.renderBooleansOptions})))},ze=function(e){var t=e.defaultValue,n=e.defaultAuto,l=(e.defaultTime,e.onChangeType),o=e.onExceeded,r=e.withTime,d=e.validationErrors,u=(0,i.useState)(null!==t&&void 0!==t&&t),s=(0,a.Z)(u,2),c=s[0],m=s[1];return i.createElement(We,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Type of Element"}),i.createElement(f.sm,{"app-variant":null!==d&&void 0!==d&&d.type?"error":"normal","app-container-variant":"noBorder",className:Te.dateOptionsContainer},i.createElement(f.nd,{selected:c,setSelected:function(e){m(e),l(e?"single":"range")},first:"Single date",second:"Date Range",extraClassName:Te.renderBooleansOptions})),i.createElement(f.pd,{id:"Add Time",title:"With Time?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:n,toggleSelected:function(e){r(e)}}),i.createElement(f.pd,{id:"Auto-close when date is exceeded",title:"Auto-close when date is exceeded?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:n,toggleSelected:function(e){o(e)}}))},Re=function(e){var t=e.defaultValue,n=e.defaultType,l=e.onChangeType,o=e.onChangeValue,r=e.validationErrors,d=(0,i.useState)(null!==n&&void 0!==n&&n),u=(0,a.Z)(d,2),s=u[0],c=u[1],m=(0,i.useState)(t),p=(0,a.Z)(m,2),v=p[0],y=p[1];return i.createElement(We,{errorMessage:null===r||void 0===r?void 0:r.type},i.createElement(f.Lb,{title:"URL Link"}),i.createElement("input",{type:"text",name:"element-name",value:v,onChange:function(e){o(e.target.value),y(e.target.value)},className:Te.elementTextInput}),i.createElement(f.Lb,{title:"Type of Element"}),i.createElement(f.sm,{"app-variant":null!==r&&void 0!==r&&r.type?"error":"normal","app-container-variant":"noBorder",className:Te.numberOptionsContainer},i.createElement(f.nd,{selected:s,setSelected:function(e){c(e),l(e?"image":"link")},first:"Image",second:"Link",extraClassName:Te.renderBooleansOptions})))},je=function(e){var t=e.defaultValue,n=e.onChangeValue,l=e.validationErrors,o=(0,i.useState)(t),r=(0,a.Z)(o,2),d=r[0],u=r[1];return i.createElement(We,{errorMessage:null===l||void 0===l?void 0:l.type},i.createElement(f.Lb,{title:"Label"}),i.createElement("input",{type:"text",name:"element-name",value:d,onChange:function(e){n(e.target.value),u(e.target.value)},className:Te.elementTextInput}))},qe=function(e){var t=e.onChange,n=e.countryCode,l=e.defaultValue,o=e.validationErrors,r=(0,i.useState)(l),d=(0,a.Z)(r,2),u=d[0],s=d[1];return i.createElement(We,{errorMessage:null===o||void 0===o?void 0:o.country_prefix},i.createElement(f.Lb,{title:"Phone Number Prefix"}),i.createElement(f.sm,{"app-variant":null!==o&&void 0!==o&&o.country_prefix?"error":"normal",className:Te.unfocusableWrapper,onClickOutside:function(){},onClick:function(){var e,t=document.getElementsByClassName("selected-flag");t[0]&&(null===(e=t[0])||void 0===e||e.click())}},i.createElement(Me(),{specialLabel:"",enableSearch:!0,country:null!==n&&void 0!==n?n:"ph",onChange:function(e,n,l){var o="+"+n.dialCode+" "+n.name;s(o),null===t||void 0===t||t({country_prefix:"+".concat(null===n||void 0===n?void 0:n.dialCode),country_code:null===n||void 0===n?void 0:n.countryCode,country_name:null===n||void 0===n?void 0:n.name})},value:u,inputProps:{name:"phone",required:!1,autoFocus:!1},countryCodeEditable:!1,containerClass:Le()(Te.phoneIContainer,Te.borderClass),inputClass:Te.phoneIInput,buttonClass:Te.phoneIButton,dropdownClass:Te.phoneIDropdown,searchClass:Te.phoneISearch}),i.createElement("p",{className:Te.phonePrefixText},null!==u&&void 0!==u?u:"+44 United Kingdom")))},He=function(e){var t=e.defaultValue,n=e.onCurrencySelected,l=e.validationErrors,o=(0,i.useState)(void 0),r=(0,a.Z)(o,2),d=r[0],u=r[1],s=(0,i.useState)(!1),c=(0,a.Z)(s,2),m=c[0],p=c[1];return i.createElement(We,{errorMessage:null===l||void 0===l?void 0:l.currency_type},i.createElement(f.Lb,{title:"Currency Type"}),i.createElement(f.sm,{"app-variant":null!==l&&void 0!==l&&l.currency_type?"error":"normal",className:Te.unfocusableWrapper},i.createElement("pre",{className:Te.currencySymbol},null!==d&&void 0!==d&&d.symbol?null===d||void 0===d?void 0:d.symbol:m?"":null===t||void 0===t?void 0:t.symbol," "),i.createElement(f.Ld,{items:v.s3,defaultSelectedItem:t,triggerType:"chevron",className:Te.currencySelectComponent,inputClassName:Te.currencySearchInput,clearControlsClassName:Te.currencyClearControlsClassName,molclassname:Te.currencySelectMenuOverlayList,moliclassname:Te.currencySelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){u(e),n(e),null!==e&&void 0!==e&&e.symbol?p(!1):p(!0)}})))},Ue=function(e){var t=e.defaultValue,n=e.onActionSelected,l=e.validationErrors,o=(0,i.useState)(void 0),r=(0,a.Z)(o,2),d=(r[0],r[1]),u=(0,i.useState)(!1),s=(0,a.Z)(u,2),c=(s[0],s[1]);return i.createElement(We,{errorMessage:null===l||void 0===l?void 0:l.currency_type},i.createElement(f.Lb,{title:"Action Type"}),i.createElement(f.sm,{"app-variant":null!==l&&void 0!==l&&l.currency_type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.Ld,{items:v.D0,defaultSelectedItem:v.D0.find((function(e){return e.value===t})),triggerType:"chevron",className:Te.currencySelectComponent,inputClassName:Te.currencySearchInput,clearControlsClassName:Te.currencyClearControlsClassName,molclassname:Te.currencySelectMenuOverlayList,moliclassname:Te.currencySelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){d(e),n(e),null!==e&&void 0!==e&&e.symbol?c(!1):c(!0)}})),i.createElement("br",null),i.createElement(f.Lb,{title:"Notes: The Action Button is only shown in the detail popup screen"}))},Ke=function(e){var t=e.defaultValue,n=e.defaultOption,l=e.onProfileSelected,o=e.validationErrors,r=(0,i.useState)(void 0),d=(0,a.Z)(r,2),u=(d[0],d[1]),s=(0,i.useState)(!1),c=(0,a.Z)(s,2),m=(c[0],c[1]),p=[{label:"User that made the transaction",value:"creator"},{label:"Wallet of user that made the transaction",value:"wallet"},{label:"User that accepted the transaction",value:"owner"},{label:"Custom",value:"custom"}];return i.createElement(We,{errorMessage:null===o||void 0===o?void 0:o.currency_type},i.createElement(f.Lb,{title:"Show profile of user"}),i.createElement(f.sm,{"app-variant":null!==o&&void 0!==o&&o.currency_type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.Ld,{items:p,defaultSelectedItem:p.find((function(e){return e.value===t})),triggerType:"chevron",className:Te.currencySelectComponent,inputClassName:Te.currencySearchInput,clearControlsClassName:Te.currencyClearControlsClassName,molclassname:Te.currencySelectMenuOverlayList,moliclassname:Te.currencySelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){u(e),l(e),null!==e&&void 0!==e&&e.symbol?m(!1):m(!0)}})),i.createElement(f.pd,{id:"Show profile picture",title:"Show profile picture?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===n||void 0===n?void 0:n.show,toggleSelected:function(e){n.show=e}}))},Xe=function(e){var t,n,l,r,d,u,s,c,m,p,y=e.defaultPr,g=e.defaultJ1,h=e.defaultJ2,C=e.defaultType,S=e.onTypeSelected,b=e.defaultList,E=e.onListSelected,_=e.validationErrors,Z=e.onJump1Selected,w=void 0===Z?function(){}:Z,N=e.onJump2Selected,x=void 0===N?function(){}:N,L=e.companyProcesses,I=e.onProcSelected,M=void 0===I?function(){}:I,O=(0,i.useState)(void 0),k=(0,a.Z)(O,2),T=k[0],P=k[1],B=(0,i.useState)(!1),F=(0,a.Z)(B,2),D=F[0],A=F[1],W=(0,i.useState)(null!==b&&void 0!==b?b:[]),R=(0,a.Z)(W,2),j=R[0],q=R[1],H=(0,i.useState)(!0),U=(0,a.Z)(H,2),K=U[0],X=U[1],Y=(0,i.useState)(""),G=(0,a.Z)(Y,2),J=G[0],Q=G[1],$=(0,i.useState)(g),ee=(0,a.Z)($,2),te=ee[0],ne=ee[1],le=(0,i.useState)(h),oe=(0,a.Z)(le,2),ae=oe[0],ie=oe[1],re=(0,i.useState)(y),de=(0,a.Z)(re,2),ue=de[0],se=de[1],ce=(0,i.useCallback)((function(){X(!0),q((function(e){return[].concat((0,o.Z)(e),[J])})),Q(""),null===E||void 0===E||E([].concat((0,o.Z)(j),[J]))}),[j,J,E]),me=(0,i.useCallback)((function(e){q((function(t){return(0,o.Z)(Pe.reject(Pe.equals(e),t))})),null===E||void 0===E||E((0,o.Z)(Pe.reject(Pe.equals(e),j)))}),[j,E]);return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===_||void 0===_?void 0:_.type},i.createElement(f.Lb,{title:"Dropdown Type"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement("pre",{className:Te.dropdownSymbol},null!==T&&void 0!==T&&T.icon?null===T||void 0===T?void 0:T.icon:D?"":null===C||void 0===C?void 0:C.icon," "),i.createElement(f.rk,{items:v.YX,defaultSelected:C,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){P(e),null===S||void 0===S||S(null!==e&&void 0!==e?e:"single"),null!==e&&void 0!==e&&e.symbol?A(!1):A(!0)}}))),i.createElement(We,{errorMessage:null===_||void 0===_?void 0:_.list},i.createElement(f.Lb,{title:"Dropdown Options"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.list?"error":"normal",className:Te.dropdownListContainer,onClickOutside:(0,i.useCallback)((function(){null===E||void 0===E||E(j)}),[j,E])},K?i.createElement("div",{className:Te.dropDownButtonContainer},i.createElement(f.zx,{light:!0,title:"Add Dropdown Option",clicked:function(){return X(!1)}})):i.createElement("div",{className:Te.dropDownNewListItemInputContainer},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:J,name:"newItem",placeholder:"Type name",onChange:function(e){Q(e.target.value)}}),(null===J||void 0===J?void 0:J.length)>0&&i.createElement("button",{type:"button",onClick:ce,className:Te.dropdownInputButtonSaveNewItem},i.createElement(V.G,{icon:z.g6h}))),i.createElement("div",{className:Te.dropdownListItemsContainer},j&&(null===j||void 0===j?void 0:j.map((function(e,t){return i.createElement(st,{key:e+t,item:e,isOverflow:(null===j||void 0===j?void 0:j.length)>3,onItemChanged:function(e){q((function(n){return(0,o.Z)(Pe.update(t)(e)(n))}))},onItemRemoved:function(){return me(e)}})})))))),(te||"decision"===(null===T||void 0===T?void 0:T.value))&&i.createElement(We,{errorMessage:null===_||void 0===_?void 0:_.position_id},i.createElement(f.Lb,{title:"Process where to look for step"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},i.createElement(f.rk,{items:L.map((function(e){return{label:e.name,value:e.id,process:e}})),defaultSelected:{label:null===(t=L.find((function(e){return e.id===ue})))||void 0===t?void 0:t.name},className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){se(e.value),null===M||void 0===M||M(e.value)}}))),(te||"decision"===(null===T||void 0===T?void 0:T.value))&&ue&&i.createElement(We,{errorMessage:null===_||void 0===_?void 0:_.position_id},i.createElement(f.Lb,{title:"Dropdown option 1 jumps to step"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},i.createElement(f.rk,{items:null===(n=L.find((function(e){return e.id===ue})))||void 0===n||null===(l=n.steps)||void 0===l?void 0:l.map((function(e){return{label:e.name,value:e.id,step:e}})),defaultSelected:{label:null===(r=L.find((function(e){return e.id===ue})))||void 0===r||null===(d=r.steps)||void 0===d||null===(u=d.find((function(e){return e.id===te})))||void 0===u?void 0:u.name},className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){ne(e.value),null===w||void 0===w||w(e.value)}}))),(ae||"decision"===(null===T||void 0===T?void 0:T.value))&&ue&&i.createElement(We,{errorMessage:null===_||void 0===_?void 0:_.position_id},i.createElement(f.Lb,{title:"Dropdown option 2 jumps to step"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},i.createElement(f.rk,{items:null===(s=L.find((function(e){return e.id===ue})))||void 0===s?void 0:s.steps.map((function(e){return{label:e.name,value:e.id,step:e}})),defaultSelected:{label:null===(c=L.find((function(e){return e.id===ue})))||void 0===c||null===(m=c.steps)||void 0===m||null===(p=m.find((function(e){return e.id===ae})))||void 0===p?void 0:p.name},className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){ie(e.value),null===x||void 0===x||x(e.value)}}))))},Ye=function(e){var t=e.defaultList,n=e.onListSelected,l=e.validationErrors,r=e.title,d=void 0===r?"Dropdown Options":r,u=(0,i.useState)(null!==t&&void 0!==t?t:[]),s=(0,a.Z)(u,2),c=s[0],m=s[1],p=(0,i.useState)(!0),v=(0,a.Z)(p,2),y=v[0],g=v[1],h=(0,i.useState)(""),C=(0,a.Z)(h,2),S=C[0],b=C[1],E=(0,i.useCallback)((function(){g(!0),m((function(e){return[].concat((0,o.Z)(e),[S])})),b(""),null===n||void 0===n||n([].concat((0,o.Z)(c),[S]))}),[c,S,n]),_=(0,i.useCallback)((function(e){m((function(t){return(0,o.Z)(Pe.reject(Pe.equals(e),t))})),null===n||void 0===n||n((0,o.Z)(Pe.reject(Pe.equals(e),c)))}),[c,n]);return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===l||void 0===l?void 0:l.list},i.createElement(f.Lb,{title:d}),i.createElement(f.sm,{"app-variant":null!==l&&void 0!==l&&l.list?"error":"normal",className:Te.dropdownListContainer,onClickOutside:(0,i.useCallback)((function(){null===n||void 0===n||n(c)}),[c,n])},y?i.createElement("div",{className:Te.dropDownButtonContainer},i.createElement(f.zx,{light:!0,title:"Add Options",clicked:function(){return g(!1)}})):i.createElement("div",{className:Te.dropDownNewListItemInputContainer},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:S,name:"newItem",placeholder:"Type name",onChange:function(e){b(e.target.value)}}),(null===S||void 0===S?void 0:S.length)>0&&i.createElement("button",{type:"button",onClick:E,className:Te.dropdownInputButtonSaveNewItem},i.createElement(V.G,{icon:z.g6h}))),i.createElement("div",{className:Te.dropdownListItemsContainer},c&&(null===c||void 0===c?void 0:c.map((function(e,t){return i.createElement(st,{key:e+t,item:e,isOverflow:(null===c||void 0===c?void 0:c.length)>3,onItemChanged:function(e){m((function(n){return(0,o.Z)(Pe.update(t)(e)(n))}))},onItemRemoved:function(){return _(e)}})})))))))},Ge=function(e){var t=e.defaultList,n=e.validationErrors,l=e.onChangeList,o=e.products;return(0,i.useEffect)((function(){(0,ke.Xp)(1).pipe((0,d.P)()).subscribe({})}),[]),i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===n||void 0===n?void 0:n.position_id},i.createElement(f.Lb,{title:"What products to display?"}),i.createElement(f.sm,{"app-variant":null!==n&&void 0!==n&&n.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:o.map((function(e){return{label:e.name,value:e.product_code}})),itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:void 0===t||0===t.length?[]:t.map((function(e){var t=o.find((function(t){return t.product_code===e}));return{label:null===t||void 0===t?void 0:t.name,value:null===t||void 0===t?void 0:t.product_code}})),className:Te.uploadSelectComponent,inputClassName:Te.uploadSearchInput,molclassname:Te.uploadSelectMenuOverlayList,moliclassname:Te.uploadSelectMenuOverlayListItem,onChange:function(e){null===l||void 0===l||l(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))))},Je=function(e){var t=e.defaultType,n=e.defaultModule,l=e.onModuleSelected,r=e.onTypeSelected,u=e.defaultList,s=e.validationErrors,c=e.allModules,m=e.onChangeList,v=e.multiSelectLabel,y=void 0===v?"Default":v,g=(0,i.useState)(void 0),h=(0,a.Z)(g,2),C=h[0],S=h[1],b=(0,i.useState)(!1),E=(0,a.Z)(b,2),_=E[0],Z=E[1],w=(0,i.useState)(!1),N=(0,a.Z)(w,2)[1],x=(0,i.useState)(void 0===u||0===u.length?[]:u.map((function(e){return{label:e,value:e,blueprint_name:y}}))),L=(0,a.Z)(x,2),I=L[0],M=L[1],O=c.map((function(e){return{label:e.name,value:e.id,module:e}}));return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===s||void 0===s?void 0:s.type},i.createElement(f.Lb,{title:"Module to list"}),i.createElement(f.sm,{"app-variant":null!==s&&void 0!==s&&s.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement("pre",{className:Te.dropdownSymbol},null!==C&&void 0!==C&&C.icon?null===C||void 0===C?void 0:C.icon:_?"":null===n||void 0===n?void 0:n.icon," "),i.createElement(f.rk,{items:O,defaultSelected:n,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){var t;t=e.module.procedure.id,(0,p.zJ)(t).pipe((0,d.P)()).subscribe({next:function(e){var t,n=[];null===(t=e.steps)||void 0===t||t.filter((function(e){e.component_blueprints.filter((function(e){e.selected_fields.filter((function(t){n=[].concat((0,o.Z)(n),[{label:t.field_name,value:t.field_name,blueprint_name:e.name,blueprint_id:e.id}])}))}))})),M([].concat((0,o.Z)(Pe.sortWith([Pe.ascend(Pe.prop("blueprint_name"))])(n)),[{label:"Created Date",value:"Created Date",blueprint_name:"Others"},{label:"Total Qty",value:"Total Qty",blueprint_name:"Others"}])),N(!1)},error:function(e){}}),S(e),null===l||void 0===l||l(e),null!==e&&void 0!==e&&e.symbol?Z(!1):Z(!0)}}))),i.createElement(We,{errorMessage:null===s||void 0===s?void 0:s.position_id},i.createElement(f.Lb,{title:"What fields to display?"}),i.createElement(f.sm,{"app-variant":null!==s&&void 0!==s&&s.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},i.createElement(se.Cm,{items:I,groupedBy:"blueprint_name",groupname:"blueprint_name",triggerType:"chevron",initialSelectedValues:void 0===u||0===u.length?[]:u.map((function(e){return{label:e,value:e,blueprint_name:y}})),className:Te.peoplePositionsSelect,inputClassName:Te.peoplePositionsSelectInput,molclassname:Te.peoplePositionsSelectMenuOverlay,moliclassname:Te.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===m||void 0===m||m(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(We,{errorMessage:null===s||void 0===s?void 0:s.type},i.createElement(f.Lb,{title:"List type"}),i.createElement(f.sm,{"app-variant":null!==s&&void 0!==s&&s.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.rk,{items:[{label:"Table",value:"Table"},{label:"List (max 4 fields displayed)",value:"List"}],defaultSelected:t,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){null===r||void 0===r||r(e),null!==e&&void 0!==e&&e.symbol?Z(!1):Z(!0)}}))))},Qe=function(e){var t=e.defaultOrientation,n=e.defaultKey,l=e.defaultType,d=e.defaultList,u=e.onKeySelected,s=e.onTypeSelected,c=e.validationErrors,m=e.blueprints,p=e.onChangeList,v=e.multiSelectLabel,y=void 0===v?"Default":v,g=e.onChangeOrientation,h=(0,r.v9)((function(e){return e.modalsReducer})),C=h.isOnboarding,S=(0,i.useState)(void 0),b=(0,a.Z)(S,2),E=(b[0],b[1]),_=(0,i.useState)(!1),Z=(0,a.Z)(_,2),w=(Z[0],Z[1]),N=(0,i.useState)(!0),x=(0,a.Z)(N,2)[1],L=(0,i.useState)(void 0===d||0===d.length?[]:d.map((function(e){return{label:e,value:e,blueprint_name:y}}))),I=(0,a.Z)(L,2),M=I[0],O=I[1],k=C?m.map((function(e){return{label:e.name,value:e.id,component:e}})):m.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,component:e}})),T=[{label:"Rows",value:"rows"},{label:"Columns",value:"Columns"}];return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===c||void 0===c?void 0:c.type},i.createElement(f.Lb,{title:"Component where to conduct lookup"}),i.createElement(f.sm,{"app-variant":null!==c&&void 0!==c&&c.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.rk,{items:k,defaultSelected:l,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){!function(e){var t=[];e.fields.filter((function(n){t=[].concat((0,o.Z)(t),[{label:n.value,value:n.value,blueprint_name:e.name,blueprint_id:e.id}])})),O([].concat((0,o.Z)(Pe.sortWith([Pe.ascend(Pe.prop("blueprint_name"))])(t)),[{label:"Created Date",value:"created_date",blueprint_name:"Others"}])),x(!1)}(e.component),E(e),null===s||void 0===s||s(null!==e&&void 0!==e?e:"single"),null!==e&&void 0!==e&&e.symbol?w(!1):w(!0)}}))),i.createElement(We,{errorMessage:null===c||void 0===c?void 0:c.position_id},i.createElement(f.Lb,{title:"What key to use?"}),i.createElement(f.sm,{"app-variant":null!==c&&void 0!==c&&c.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},i.createElement(f.rk,{items:M,defaultSelected:{label:n},className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){var t;null===u||void 0===u||u(null!==(t=e.value)&&void 0!==t?t:"Key")}}))),i.createElement(We,{errorMessage:null===c||void 0===c?void 0:c.position_id},i.createElement(f.Lb,{title:"What fields to display?"}),i.createElement(f.sm,{"app-variant":null!==c&&void 0!==c&&c.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},i.createElement(se.Cm,{items:M,groupedBy:"blueprint_name",groupname:"blueprint_name",triggerType:"chevron",initialSelectedValues:void 0===d||0===d.length?[]:d.map((function(e){return{label:e,value:e,blueprint_name:y}})),className:Te.peoplePositionsSelect,inputClassName:Te.peoplePositionsSelectInput,molclassname:Te.peoplePositionsSelectMenuOverlay,moliclassname:Te.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===p||void 0===p||p(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(We,{errorMessage:null===c||void 0===c?void 0:c.type},i.createElement(f.Lb,{title:"Interface Orientation"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:T,defaultSelectedItem:T.find((function(e){return e.value===t})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){g(e.value),null!==e&&void 0!==e&&e.symbol?w(!1):w(!0)}}))))},$e=function(e){var t,n,d=e.defaultOrientation,u=e.defaultKey,s=e.defaultType,c=e.defaultList,m=e.defaultItemList,p=e.defaultConfig,v=e.onConfigSelected,y=e.onKeySelected,g=e.onTypeSelected,h=e.validationErrors,C=e.blueprints,S=(e.onChangeList,e.onChangeListItems,e.multiSelectLabel,e.onChangeOrientation,e.setFieldOption),b=e.fieldOption,E=(0,r.v9)((function(e){return e.modalsReducer})),_=E.isOnboarding,Z=(0,i.useState)(void 0),w=(0,a.Z)(Z,2),N=(w[0],w[1]),x=(0,i.useState)(!1),L=(0,a.Z)(x,2),I=(L[0],L[1]),M=(0,i.useState)(!0),O=(0,a.Z)(M,2)[1],k=(0,i.useState)(null!==d&&void 0!==d?d:"Donut"),T=(0,a.Z)(k,2),P=T[0],B=T[1],F=(0,i.useState)(s?Pe.sortWith([Pe.ascend(Pe.prop("blueprint_name"))])(C.find((function(e){return e.id===(null===s||void 0===s?void 0:s.value)})).fields.map((function(e){var t=C.find((function(e){return e.id===(null===s||void 0===s?void 0:s.value)}));return{label:e.value,value:e.value,blueprint_name:t.name,blueprint_id:t.id}}))):[]),D=(0,a.Z)(F,2),A=D[0],W=D[1],V=_?Pe.sortWith([Pe.ascend(Pe.prop("name"))])(C).map((function(e){return{label:e.name,value:e.id,component:e}})):Pe.sortWith([Pe.ascend(Pe.prop("name"))])(C).filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,component:e}})),z=[{label:"Donut",value:"Donut"},{label:"Custom",value:"Custom"}],R=[{label:"Count Occurences",value:"occurences"},{label:"Total Quantity",value:"quantity"}];return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===h||void 0===h?void 0:h.type},i.createElement(f.Lb,{title:"Chart Type"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:z,defaultSelectedItem:z.find((function(e){return e.value===d})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){S((0,l.Z)((0,l.Z)({},b),{},{orientation:e.value,list:[],items:[]})),B(e.value),null!==e&&void 0!==e&&e.symbol?I(!1):I(!0)}}))),i.createElement(We,{errorMessage:null===h||void 0===h?void 0:h.type},i.createElement(f.Lb,{title:"Component where to get fields"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.rk,{items:V,defaultSelected:s,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){var t;t=e.component,W([].concat((0,o.Z)(Pe.sortWith([Pe.ascend(Pe.prop("blueprint_name"))])(t.fields.map((function(e){return{label:e.value,value:e.value,blueprint_name:t.name,blueprint_id:t.id}})))),[{label:"Created Date",value:"created_date",blueprint_name:"Others"}])),O(!1),N(e),null===g||void 0===g||g(null!==e&&void 0!==e?e:"single"),null!==e&&void 0!==e&&e.symbol?I(!1):I(!0)}}))),i.createElement(We,{errorMessage:null===h||void 0===h?void 0:h.position_id},i.createElement(f.Lb,{title:"What key to use?"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},i.createElement(f.rk,{items:A,defaultSelected:{label:u},className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){var t;null===y||void 0===y||y(null!==(t=e.value)&&void 0!==t?t:"Key")}}))),"Custom"===P&&i.createElement(We,null,i.createElement(f.Lb,{title:"Chart Config"}),i.createElement("textarea",{id:"chart config",type:"text",name:"element-name",defaultValue:JSON.stringify(p),onChange:function(e){},onBlur:function(){var e,t,n;(function(e){try{JSON.parse(e)}catch(t){return!1}return!0})(null===(e=document.getElementById("chart config"))||void 0===e?void 0:e.value)?(v(JSON.parse(null===(t=document.getElementById("chart config"))||void 0===t?void 0:t.value)),document.getElementById("chart config").style.borderColor="var(--app-color-gray-lighter)"):0===(null===(n=document.getElementById("chart config"))||void 0===n?void 0:n.value.length)?(document.getElementById("chart config").value=JSON.stringify({}),document.getElementById("chart config").style.borderColor="pink"):document.getElementById("chart config").style.borderColor="red"},className:Te.elementTextInput,style:{minHeight:"200px"}})),("Donut"!==P||"Donut"===P&&"quantity"===(null===b||void 0===b?void 0:b.operation))&&0===(null===b||void 0===b||null===(t=b.items)||void 0===t?void 0:t.length)&&i.createElement(We,{errorMessage:null===h||void 0===h?void 0:h.position_id},i.createElement(f.Lb,{title:"What field to use to compute?"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},i.createElement(f.rk,{items:A,defaultSelected:1===(null===c||void 0===c?void 0:c.length)?{label:c[0]}:void 0,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){S((0,l.Z)((0,l.Z)({},b),{},{list:[e.value],items:[]}))}}))),("Donut"!==P||"Donut"===P&&"quantity"===(null===b||void 0===b?void 0:b.operation))&&0===(null===b||void 0===b||null===(n=b.list)||void 0===n?void 0:n.length)&&i.createElement(We,{errorMessage:null===h||void 0===h?void 0:h.position_id},i.createElement(f.Lb,{title:"What item field to use to compute?"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},i.createElement(f.rk,{items:[{label:"Item Code",value:"item_code",blueprint_name:"Items"},{label:"Quantity",value:"quantity",blueprint_name:"Items"},{label:"Value",value:"value",blueprint_name:"Items"},{label:"Value 2",value:"alt_value",blueprint_name:"Items"},{label:"Total",value:"total",blueprint_name:"Items"},{label:"Type",value:"type",blueprint_name:"Items"}],defaultSelected:1===(null===m||void 0===m?void 0:m.length)?{label:m[0]}:void 0,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){S((0,l.Z)((0,l.Z)({},b),{},{items:[e.value],list:[]}))}}))),i.createElement(We,{errorMessage:null===h||void 0===h?void 0:h.type},i.createElement(f.Lb,{title:"Operation to be used"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:R,defaultSelectedItem:R.find((function(e){return e.value===(null===b||void 0===b?void 0:b.operation)})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){S((0,l.Z)((0,l.Z)({},b),{},{operation:null===e||void 0===e?void 0:e.value}))}}))))},et=function(e){var t,n,r,d,u,s=e.defaultValue,c=e.defaultList,m=e.defaultSearchText,p=e.onChangeSearchText,v=e.onChangeList,y=e.onOperatorSelected,g=e.validationErrors,h=e.selectedFields,C=e.blueprints,S=(e.selectLabel,e.setFieldOption),b=e.fieldOption,E=(0,i.useState)(void 0===s?"":s),_=(0,a.Z)(E,2),Z=_[0],w=_[1],N=(0,i.useState)(void 0===c?[]:c),x=(0,a.Z)(N,1)[0],L=(0,i.useState)(void 0===m?"":m),I=(0,a.Z)(L,2),M=I[0],O=I[1],k=[{label:"Sum of the fields (A+B)",id:0,value:"sum",type:"fields"},{label:"Sum of custom fields (F1+..Fn)",id:15,value:"freesum",type:"fields"},{label:"Difference between fields (A-B)",id:1,value:"difference",type:"fields"},{label:"Multiply the fields (A*B)",id:2,value:"multiply",type:"fields"},{label:"Divide the fields (A/B)",id:3,value:"divide",type:"fields"},{label:"Total Difference per field (A1-A2-An)",id:4,value:"tdiff",type:"fields"},{label:"Total Sum per field (A1+A2+An)",id:5,value:"tsum",type:"fields"},{label:"Total Sum per line item variable (A1+A2+An)",id:6,value:"itemsum",type:"items"},{label:"Total Difference per line item variable (A1-A2-An)",id:7,value:"itemdiff",type:"items"},{label:"Difference between dates (D1-D2-Dn, in days)",id:10,value:"datesdiff",type:"date"},{label:"Difference between today and date (Today-Dn, in days)",id:11,value:"datenowdiff",type:"date"},{label:"Count occurrences of string in field selected",id:12,value:"countocc",type:"fields"},{label:"Count occurrences of date in field selected",id:13,value:"countdateocc",type:"date"},{label:"Compute the distance between two pins",id:14,value:"cmpdistance",type:"pin"}],T=[{label:"Quantity",id:6,value:"qty",type:"items"},{label:"Total",id:8,value:"total",type:"items"},{label:"Value",id:8,value:"value",type:"items"},{label:"Alt Value",id:9,value:"altvalue",type:"items"}],P=[{label:"Set date today",value:"today",type:"Date"},{label:"Set date tomorrow",value:"tomorrow",type:"Date"},{label:"Set date one month from today",value:"month",type:"Date"},{label:"Set date one week from today",value:"week",type:"Date"},{label:"None",value:"none",type:"Date"}],B=h.filter((function(e){return""!=e.value&&("Value Button"===e.field_type.name||"Number"===e.field_type.name||"Formula"===e.field_type.name||"Item Formula"===e.field_type.name)})).map((function(e){return{label:e.value,value:e.id,field_name:e.field_type.name}})),F=h.filter((function(e){return""!=e.value&&"Date"===e.field_type.name})).map((function(e){return{label:e.value,value:e.id,field_name:"Dates"}})),D=[].concat.apply([],C.map((function(e){return[].concat.apply([],e.fields)}))).map((function(e){return{label:e.value,value:e.id,type:e.name}}));return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===g||void 0===g?void 0:g.type},i.createElement(f.Lb,{title:"Operation to perform"}),i.createElement(f.sm,{"apps-variant":null!==g&&void 0!==g&&g.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:k,defaultSelectedItem:k.find((function(e){return e.value===Z})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){w(e.value),y(e.value)}}))),"freesum"!==Z&&i.createElement(We,{errorMessage:null===g||void 0===g?void 0:g.accepted_mimes},i.createElement(f.Lb,{title:"sum"===Z||"difference"===Z||"multiply"===Z||"divide"===Z?"Fields to perform selected operation":"Field to perform selected operation"}),i.createElement(f.sm,{"app-variant":null!==g&&void 0!==g&&g.accepted_mimes?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},"datesdiff"===Z||"datenowdiff"===Z||"sum"===Z||"difference"===Z||"multiply"===Z||"divide"===Z?i.createElement(se.Cm,{items:"datesdiff"===Z||"datenowdiff"===Z?F:B,groupedBy:"field_name",groupname:"field_name",triggerType:"chevron",initialSelectedValues:"datesdiff"===Z||"datenowdiff"===Z?F.filter((function(e){return(null===x||void 0===x?void 0:x.indexOf(null===e||void 0===e?void 0:e.label))>-1})):B.filter((function(e){return(null===x||void 0===x?void 0:x.indexOf(null===e||void 0===e?void 0:e.label))>-1})),className:Te.peoplePositionsSelect,inputClassName:Te.peoplePositionsSelectInput,molclassname:Te.peoplePositionsSelectMenuOverlay,moliclassname:Te.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===v||void 0===v||v(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.label})))}}):"itemdiff"===Z||"itemsum"===Z?i.createElement(f.Ld,{triggerType:"chevron",items:T,defaultSelectedItem:x.length>0&&null!==(t=T.find((function(e){return e.value===x[0]})))&&void 0!==t?t:{},className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){null===v||void 0===v||v([null===e||void 0===e?void 0:e.value])}}):"cmpdistance"===Z?i.createElement(se.Cm,{items:D.filter((function(e){return"Pin"===e.type})),groupedBy:"type",groupname:"type",triggerType:"chevron",initialSelectedValues:D.filter((function(e){return"Pin"===e.type})).filter((function(e){return(null===x||void 0===x?void 0:x.indexOf(null===e||void 0===e?void 0:e.label))>-1})),className:Te.peoplePositionsSelect,inputClassName:Te.peoplePositionsSelectInput,molclassname:Te.peoplePositionsSelectMenuOverlay,moliclassname:Te.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===v||void 0===v||v(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.label})))}}):i.createElement(f.Ld,{triggerType:"chevron",items:Pe.sortWith([Pe.ascend(Pe.prop("label"))])((0,o.Z)(new Set(D.filter((function(e){return"countdateocc"===Z?"Date"===e.type:"Text"===e.type&&"countocc"===Z||"Number"===e.type||"Status"===e.type||"Formula"===e.type||"Item Formula"===e.type||"Currency"===e.type})).map((function(e){return e.label})))).map((function(e){return{label:e,value:e}}))),defaultSelectedItem:x.length>0?{label:x[0]}:{},className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){null===v||void 0===v||v([null===e||void 0===e?void 0:e.label])}}))),"countocc"===Z&&i.createElement(We,{errorMessage:null===g||void 0===g?void 0:g.name},i.createElement(f.Lb,{title:"Input text to search"}),i.createElement("input",{type:"text",name:"element-name",value:M,onChange:function(e){O(e.target.value),p(e.target.value)},className:Te.elementTextInput})),"countdateocc"===Z&&i.createElement(We,{errorMessage:null===g||void 0===g?void 0:g.name},i.createElement(f.Lb,{title:"Select date to match with"}),i.createElement(f.sm,{"app-variant":null!==g&&void 0!==g&&g.accepted_mimes?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},i.createElement(f.Ld,{triggerType:"chevron",items:P,defaultSelectedItem:m&&P.find((function(e){return e.value===m})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){p(null===e||void 0===e?void 0:e.value)}}))),i.createElement(We,{errorMessage:null===g||void 0===g?void 0:g.type},i.createElement(f.Lb,{title:"Output display"}),i.createElement(f.sm,{"apps-variant":null!==g&&void 0!==g&&g.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:Be,defaultSelectedItem:Be.find((function(e){return e.value===(null===b||void 0===b?void 0:b.display)})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){S((0,l.Z)((0,l.Z)({},b),{},{display:null===e||void 0===e?void 0:e.value}))}}))),"bar"===(null===b||void 0===b?void 0:b.display)&&i.createElement(We,{errorMessage:null===g||void 0===g?void 0:g.name},i.createElement(f.Lb,{title:"Maximum Value"}),i.createElement("input",{type:"text",name:"element-name",value:b.max,onBlur:function(e){S((0,l.Z)((0,l.Z)({},b),{},{max:e.target.value}))},className:Te.elementTextInput}),i.createElement(f.Lb,{title:"Color - Formula Value"}),i.createElement("input",{type:"text",className:Te.elementTextInput,style:{borderRight:"white"===(null===b||void 0===b?void 0:b.barC)?"white":"50px solid ".concat(null!==(n=null===b||void 0===b?void 0:b.barC)&&void 0!==n?n:"#F6F4EC")},defaultValue:null!==(r=null===b||void 0===b?void 0:b.barC)&&void 0!==r?r:"#F6F4EC",onBlur:function(e){return S((0,l.Z)((0,l.Z)({},b),{},{barC:e.target.value}))}}),i.createElement(f.Lb,{title:"Color - Formula Max Value"}),i.createElement("input",{type:"text",className:Te.elementTextInput,style:{borderRight:"white"===(null===b||void 0===b?void 0:b.maxC)?"white":"50px solid ".concat(null!==(d=null===b||void 0===b?void 0:b.maxC)&&void 0!==d?d:"yellow")},defaultValue:null!==(u=null===b||void 0===b?void 0:b.maxC)&&void 0!==u?u:"yellow",onBlur:function(e){return S((0,l.Z)((0,l.Z)({},b),{},{maxC:e.target.value}))}})),i.createElement("br",null),i.createElement("p",{className:Te.elementInputTitle},"Ensure fields are set to the appropriate type (number, dates, currency, etc)"))},tt=function(e){var t,n,o,r,d=e.defaultValue,u=e.defaultList,s=e.defaultSearchText,c=e.onChangeSearchText,m=e.onChangeList,p=e.onOperatorSelected,v=e.validationErrors,y=e.selectedFields,g=e.blueprints,h=(e.selectLabel,e.setFieldOption),C=e.fieldOption,S=(0,i.useState)(void 0===d?"":d),b=(0,a.Z)(S,2),E=b[0],_=b[1],Z=(0,i.useState)(void 0===u?[]:u),w=(0,a.Z)(Z,1)[0],N=(0,i.useState)(void 0===s?"":s),x=(0,a.Z)(N,2),L=x[0],I=x[1],M=[{label:"Sum of the fields (A+B)",id:0,value:"sum",type:"fields"},{label:"Difference between fields (A-B)",id:1,value:"difference",type:"fields"},{label:"Multiply the fields (A*B)",id:2,value:"multiply",type:"fields"},{label:"Divide the fields (A/B)",id:3,value:"divide",type:"fields"}],O=[{label:"Set date today",value:"today",type:"Date"},{label:"Set date tomorrow",value:"tomorrow",type:"Date"},{label:"Set date one month from today",value:"month",type:"Date"},{label:"Set date one week from today",value:"week",type:"Date"},{label:"None",value:"none",type:"Date"}],k=y.filter((function(e){return""!=e.value&&("Value Button"===e.field_type.name||"Number"===e.field_type.name||"Formula"===e.field_type.name||"Item Formula"===e.field_type.name)})).map((function(e){return{label:e.value,value:e.id,field_name:e.field_type.name}})),T=y.filter((function(e){return""!=e.value&&"Date"===e.field_type.name})).map((function(e){return{label:e.value,value:e.id,field_name:"Dates"}}));[].concat.apply([],g.map((function(e){return[].concat.apply([],e.fields)}))).map((function(e){return{label:e.value,value:e.id,type:e.name}}));return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===v||void 0===v?void 0:v.type},i.createElement(f.Lb,{title:"Operation to perform"}),i.createElement(f.sm,{"apps-variant":null!==v&&void 0!==v&&v.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:M,defaultSelectedItem:M.find((function(e){return e.value===E})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){_(e.value),p(e.value)}}))),"freesum"!==E&&i.createElement(We,{errorMessage:null===v||void 0===v?void 0:v.accepted_mimes},i.createElement(f.Lb,{title:"sum"===E||"difference"===E||"multiply"===E||"divide"===E?"Fields to perform selected operation":"Field to perform selected operation"}),i.createElement(f.sm,{"app-variant":null!==v&&void 0!==v&&v.accepted_mimes?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},i.createElement(se.Cm,{items:"datesdiff"===E||"datenowdiff"===E?T:k,groupedBy:"field_name",groupname:"field_name",triggerType:"chevron",initialSelectedValues:"datesdiff"===E||"datenowdiff"===E?T.filter((function(e){return(null===w||void 0===w?void 0:w.indexOf(null===e||void 0===e?void 0:e.label))>-1})):k.filter((function(e){return(null===w||void 0===w?void 0:w.indexOf(null===e||void 0===e?void 0:e.label))>-1})),className:Te.peoplePositionsSelect,inputClassName:Te.peoplePositionsSelectInput,molclassname:Te.peoplePositionsSelectMenuOverlay,moliclassname:Te.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===m||void 0===m||m(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.label})))}}))),"countocc"===E&&i.createElement(We,{errorMessage:null===v||void 0===v?void 0:v.name},i.createElement(f.Lb,{title:"Input text to search"}),i.createElement("input",{type:"text",name:"element-name",value:L,onChange:function(e){I(e.target.value),c(e.target.value)},className:Te.elementTextInput})),"countdateocc"===E&&i.createElement(We,{errorMessage:null===v||void 0===v?void 0:v.name},i.createElement(f.Lb,{title:"Select date to match with"}),i.createElement(f.sm,{"app-variant":null!==v&&void 0!==v&&v.accepted_mimes?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},i.createElement(f.Ld,{triggerType:"chevron",items:O,defaultSelectedItem:s&&O.find((function(e){return e.value===s})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){c(null===e||void 0===e?void 0:e.value)}}))),i.createElement(We,{errorMessage:null===v||void 0===v?void 0:v.type},i.createElement(f.Lb,{title:"Output display"}),i.createElement(f.sm,{"apps-variant":null!==v&&void 0!==v&&v.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:Be,defaultSelectedItem:Be.find((function(e){return e.value===(null===C||void 0===C?void 0:C.display)})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){h((0,l.Z)((0,l.Z)({},C),{},{display:null===e||void 0===e?void 0:e.value}))}}))),"bar"===(null===C||void 0===C?void 0:C.display)&&i.createElement(We,{errorMessage:null===v||void 0===v?void 0:v.name},i.createElement(f.Lb,{title:"Maximum Value"}),i.createElement("input",{type:"text",name:"element-name",value:C.max,onBlur:function(e){h((0,l.Z)((0,l.Z)({},C),{},{max:e.target.value}))},className:Te.elementTextInput}),i.createElement(f.Lb,{title:"Color - Formula Value"}),i.createElement("input",{type:"text",className:Te.elementTextInput,style:{borderRight:"white"===(null===C||void 0===C?void 0:C.barC)?"white":"50px solid ".concat(null!==(t=null===C||void 0===C?void 0:C.barC)&&void 0!==t?t:"#F6F4EC")},defaultValue:null!==(n=null===C||void 0===C?void 0:C.barC)&&void 0!==n?n:"#F6F4EC",onBlur:function(e){return h((0,l.Z)((0,l.Z)({},C),{},{barC:e.target.value}))}}),i.createElement(f.Lb,{title:"Color - Formula Max Value"}),i.createElement("input",{type:"text",className:Te.elementTextInput,style:{borderRight:"white"===(null===C||void 0===C?void 0:C.maxC)?"white":"50px solid ".concat(null!==(o=null===C||void 0===C?void 0:C.maxC)&&void 0!==o?o:"yellow")},defaultValue:null!==(r=null===C||void 0===C?void 0:C.maxC)&&void 0!==r?r:"yellow",onBlur:function(e){return h((0,l.Z)((0,l.Z)({},C),{},{maxC:e.target.value}))}})),i.createElement("br",null),i.createElement("p",{className:Te.elementInputTitle},"Ensure fields are set to the appropriate type (number, dates, currency, etc)"))},nt=function(e){var t,n,o,r,d,u,s=e.options,c=e.setFieldOption,m=e.fieldOption,p=e.validationErrors,v=(0,i.useState)(null!==(t=s.subject)&&void 0!==t?t:""),y=(0,a.Z)(v,2),g=y[0],h=y[1],C=(0,i.useState)(null!==(n=s.message)&&void 0!==n?n:""),S=(0,a.Z)(C,2),b=S[0],E=S[1],_=(0,i.useState)(null!==(o=s.message2)&&void 0!==o?o:""),Z=(0,a.Z)(_,2),w=Z[0],N=Z[1],x=(0,i.useState)(null!==(r=s.valueToMatch)&&void 0!==r?r:""),L=(0,a.Z)(x,2),I=L[0],M=L[1],O=(0,i.useState)(null!==(d=s.copyEmailRecip)&&void 0!==d?d:""),k=(0,a.Z)(O,2),T=k[0],P=k[1],B=(0,i.useState)(null!==(u=s.fieldToMatch)&&void 0!==u?u:""),F=(0,a.Z)(B,2),D=F[0],A=F[1];return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===p||void 0===p?void 0:p.name},i.createElement(f.Lb,{title:"Email subject"}),i.createElement("input",{type:"text",name:"element-name",value:null!==g&&void 0!==g?g:"",onChange:function(e){c((0,l.Z)((0,l.Z)({},m),{},{message2:w,message:b,subject:e.target.value,copyEmailRecip:T})),h(e.target.value)},className:Te.elementTextInput})),i.createElement(We,{errorMessage:null===p||void 0===p?void 0:p.name},i.createElement(f.Lb,{title:"Custom email message to selected recipients"}),i.createElement("textarea",{type:"text",name:"element-name",value:null!==b&&void 0!==b?b:"",onChange:function(e){c((0,l.Z)((0,l.Z)({},m),{},{subject:g,message:e.target.value,message2:w,copyEmailRecip:T})),E(e.target.value)},className:Te.elementTextInput,style:{height:"100px"}})),i.createElement(We,{errorMessage:null===p||void 0===p?void 0:p.name},i.createElement(f.Lb,{title:"Custom email message to creator"}),i.createElement("textarea",{type:"text",name:"element-name",value:null!==w&&void 0!==w?w:"",onChange:function(e){c((0,l.Z)((0,l.Z)({},m),{},{subject:g,message:b,message2:e.target.value,copyEmailRecip:T})),N(e.target.value)},className:Te.elementTextInput,style:{height:"100px"}})),i.createElement(We,null,i.createElement(f.Lb,{title:"Field to check to trigger email"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:D,name:"matched to field",onChange:function(e){A(e.target.value),c((0,l.Z)((0,l.Z)({},m),{},{subject:g,message:b,message2:w,fieldToMatch:e.target.value,valueToMatch:I,copyEmailRecip:T}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Values of field to trigger the email (Note: Use ' , ' to seperate)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:I,name:"matched to field",onChange:function(e){M(e.target.value),c((0,l.Z)((0,l.Z)({},m),{},{subject:g,message:b,message2:w,fieldToMatch:D,valueToMatch:e.target.value,copyEmailRecip:T}))}}))),i.createElement(f.pd,{id:"Copy default email recipients",title:"Copy default email recipients?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:T,toggleSelected:function(e){P(e),c((0,l.Z)((0,l.Z)({},m),{},{subject:g,message:b,message2:w,fieldToMatch:D,valueToMatch:I,copyEmailRecip:e}))}}))},lt=function(e){var t=e.defaultValue,n=e.defaultField,l=e.onChangeField,o=e.onChangeValue,r=e.validationErrors,d=e.blueprints,u=(0,i.useState)(void 0===t?"":t),s=(0,a.Z)(u,2),c=s[0],m=s[1],p=(0,i.useState)(void 0===n?"":n),v=(0,a.Z)(p,1)[0],y=[].concat.apply([],d.map((function(e){return[].concat.apply([],e.fields)}))).map((function(e){return{label:e.value,value:e.id,type:e.name}}));return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===r||void 0===r?void 0:r.accepted_mimes},i.createElement(f.Lb,{title:"Field to perform filter"}),i.createElement(f.sm,{"app-variant":null!==r&&void 0!==r&&r.accepted_mimes?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},i.createElement(f.Ld,{triggerType:"chevron",items:y,defaultSelectedItem:v.length>0?{label:v}:{},className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){null===l||void 0===l||l(null===e||void 0===e?void 0:e.label)}}))),i.createElement(We,{errorMessage:null===r||void 0===r?void 0:r.name},i.createElement(f.Lb,{title:"Input text to search"}),i.createElement("input",{type:"text",name:"element-name",value:c,onChange:function(e){o(e.target.value),m(e.target.value)},className:Te.elementTextInput})),i.createElement("br",null))},ot=function(e){var t,n=e.defaultRefName,l=e.onReferenceLabel,o=e.validationErrors,r=e.onTargetSelected,d=e.onChangeList,u=e.onTypeSelected,s=e.defaultTarget,c=e.defaultType,m=e.bpContext,p=e.defaultList,v=(0,i.useState)(!1),y=(0,a.Z)(v,2)[1],g=(0,i.useState)({}),h=(0,a.Z)(g,2)[1],C=(0,i.useState)(void 0==s?[]:null===s||void 0===s||null===(t=s.fields)||void 0===t?void 0:t.map((function(e){return{label:e.value,value:e.value}}))),S=(0,a.Z)(C,2),b=S[0],E=S[1],_=(0,i.useState)(void 0==p?[]:(null===p||void 0===p?void 0:p.length)>0?p.map((function(e){return{label:e,value:e,component_name:"Fields"}})):[]),Z=(0,a.Z)(_,2),w=Z[0],N=Z[1],x=(0,i.useState)(m.allBlueprintComponents.filter((function(e){return!1===e.readonly})).filter((function(e){return e.fields.filter((function(e){return"Product ID"===e.value})).length>0})).map((function(e){return{label:e.name,value:e.id,blueprint:e}}))),L=(0,a.Z)(x,1)[0];return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===o||void 0===o?void 0:o.type},i.createElement(f.Lb,{title:"Component where to conduct lookup of Product"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:L,defaultSelectedItem:{label:null===s||void 0===s?void 0:s.name,value:null===s||void 0===s?void 0:s.id},className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){E(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),N(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),h(e),r(e.value),null!==e&&void 0!==e&&e.symbol?y(!1):y(!0)}}))),i.createElement(We,{errorMessage:null===o||void 0===o?void 0:o.type},i.createElement(f.Lb,{title:"Display label for Components found"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:b,defaultSelectedItem:{label:n,value:n},className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){l(e.value)}}))),i.createElement(We,{errorMessage:null===o||void 0===o?void 0:o.accepted_mimes},i.createElement(f.Lb,{title:"Fields to output"}),i.createElement(f.sm,{"app-variant":null!==o&&void 0!==o&&o.accepted_mimes?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:w,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:0===(null===p||void 0===p?void 0:p.length)?[]:p.map((function(e){return{label:e,value:e}})),className:Te.uploadSelectComponent,inputClassName:Te.uploadSearchInput,molclassname:Te.uploadSelectMenuOverlayList,moliclassname:Te.uploadSelectMenuOverlayListItem,onChange:function(e){null===d||void 0===d||d(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(We,{errorMessage:null===o||void 0===o?void 0:o.type},i.createElement(f.Lb,{title:"Interface Type"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:[{label:"Dropdown",value:"Dropdown"},{label:"Tiles",value:"Tiles"},{label:"Columns",value:"Columns"}],defaultSelectedItem:c,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){u(e.value),null!==e&&void 0!==e&&e.symbol?y(!1):y(!0)}}))))},at=function(e){var t=e.validationErrors,n=e.onTargetSelected,l=e.onOutputSelected,o=e.onGlobalSelected,d=e.defaultTarget,u=e.defaultGlobal,s=e.bpContext,c=e.onFilterList,m=e.defaultFilters,p=e.defaultOutput,v=(0,r.v9)((function(e){return e.modalsReducer})),y=v.isOnboarding,g=(0,i.useState)(!1),h=(0,a.Z)(g,2)[1],C=(0,i.useState)({}),S=(0,a.Z)(C,2)[1],b=(0,i.useState)(void 0==m?[]:(null===m||void 0===m?void 0:m.length)>0?m.map((function(e){return{label:e,value:e,component_name:"Fields"}})):[]),E=(0,a.Z)(b,2),_=E[0],Z=E[1],w=(0,i.useState)(y?s.allBlueprintComponents.map((function(e){return{label:e.name,value:e.id,blueprint:e}})):s.allBlueprintComponents.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}}))),N=(0,a.Z)(w,1)[0],x=(0,i.useState)(void 0==d?[]:d.fields.map((function(e){return{label:e.value,value:e.value}}))),L=(0,a.Z)(x,2),I=L[0],M=L[1];return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===t||void 0===t?void 0:t.type},i.createElement(f.Lb,{title:"Component where to conduct lookup"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:N,defaultSelectedItem:{label:null===d||void 0===d?void 0:d.name,value:null===d||void 0===d?void 0:d.id},className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){Z(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),M(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),S(e),n(e.value),null!==e&&void 0!==e&&e.symbol?h(!1):h(!0)}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Fields to filter (enter in order of filter, max 3)"}),i.createElement(f.sm,{"app-variant":null!==t&&void 0!==t&&t.accepted_mimes?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:_,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:0===(null===m||void 0===m?void 0:m.length)?[]:null===m||void 0===m?void 0:m.map((function(e){return{label:e,value:e}})),className:Te.uploadSelectComponent,inputClassName:Te.uploadSearchInput,molclassname:Te.uploadSelectMenuOverlayList,moliclassname:Te.uploadSelectMenuOverlayListItem,onChange:function(e){null===c||void 0===c||c(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(We,{errorMessage:null===t||void 0===t?void 0:t.accepted_mimes},i.createElement(f.Lb,{title:"Use a global field to filter components (Optional)"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:{label:u,value:u},className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){o(e.value)}}))),i.createElement(We,{errorMessage:null===t||void 0===t?void 0:t.accepted_mimes},i.createElement(f.Lb,{title:"Field value to save as output"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:{label:p,value:p},className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){l(e.value)}}))))},it=function(e){var t=e.validationErrors,n=e.fieldOption,d=e.setFieldOption,u=e.onModuleSelected,s=e.defaultModule,c=e.companyProcesses,m=e.defaultFields,p=e.onFieldsSelected,v=(0,r.v9)((function(e){return e.flowReducer})),y=v.allModules,g=(0,i.useState)(void 0===m||0===m.length?[]:m.map((function(e){var t;return{label:e,value:e,blueprint_name:null!==(t=null===s||void 0===s?void 0:s.label)&&void 0!==t?t:"Others"}}))),h=(0,a.Z)(g,2),C=h[0],S=h[1],b=y.map((function(e){return{label:e.name,value:e.id,module:e}}));return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===t||void 0===t?void 0:t.type},i.createElement(We,{errorMessage:null===t||void 0===t?void 0:t.type},i.createElement(f.Lb,{title:"Module to process"}),i.createElement(f.sm,{"app-variant":null!==t&&void 0!==t&&t.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.rk,{items:b,defaultSelected:b.find((function(e){return e.value===s})),className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){!function(e){if(c.length>0&&void 0!==e){var t,n,l=[];null===(t=c.find((function(t){return t.id===e})))||void 0===t||null===(n=t.steps)||void 0===n||n.filter((function(e){e.component_blueprints.filter((function(e){e.selected_fields.filter((function(e){return 1==e.visible})).filter((function(e){l=[].concat((0,o.Z)(l),[e.field_name])}))}))})),l=(0,o.Z)(new Set(l)).map((function(e){var t;return{label:e,value:e,blueprint_name:null!==(t=null===s||void 0===s?void 0:s.label)&&void 0!==t?t:"Others"}})),S([].concat((0,o.Z)(Pe.sortWith([Pe.ascend(Pe.prop("label"))])(l)),[{label:"None",value:"none"}]))}}(e.module.procedure.id),null===u||void 0===u||u(e)}}))),i.createElement(We,{errorMessage:null===t||void 0===t?void 0:t.accepted_mimes},i.createElement(f.Lb,{title:"Fields to transfer to module"}),i.createElement(f.sm,{"app-variant":null!==t&&void 0!==t&&t.accepted_mimes?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:C,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:0===(null===m||void 0===m?void 0:m.length)?[]:null===m||void 0===m?void 0:m.map((function(e){return{label:e,value:e}})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){null===p||void 0===p||p(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(We,{errorMessage:null===t||void 0===t?void 0:t.type},i.createElement(f.Lb,{title:"Key to use in list"}),i.createElement(f.sm,{"app-variant":null!==t&&void 0!==t&&t.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.rk,{items:C,defaultSelected:C.find((function(e){return e.value===n.key})),className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){d((0,l.Z)((0,l.Z)({},n),{},{key:e.value}))}})))))},rt=function(e){var t=e.defaultGlobal,n=(e.defaultRefName,e.defaultSrcName),l=e.onSourceLabel,o=(e.onReferenceLabel,e.defaultValue),d=e.validationErrors,u=e.onSourceSelected,s=e.onTargetSelected,c=e.onFieldSelected,m=e.onChangeList,p=e.onTypeSelected,v=e.defaultCommon,y=e.defaultTarget,g=e.defaultType,h=e.bpContext,C=e.defaultList,S=e.defaultRefList,b=e.onChangeRList,E=e.onGlobalSelected,_=e.onSetShowAll,Z=e.showAllDefault,w=(0,i.useState)("none"),N=(0,a.Z)(w,2),x=N[0],L=N[1],I=(0,r.v9)((function(e){return e.modalsReducer})),M=I.isOnboarding,O=(0,i.useState)(!1),k=(0,a.Z)(O,2)[1],T=(0,i.useState)({}),P=(0,a.Z)(T,2),B=P[0],F=P[1],D=(0,i.useState)({}),A=(0,a.Z)(D,2)[1],W=(0,i.useState)({}),V=(0,a.Z)(W,2)[1],z=(0,i.useState)([]),R=(0,a.Z)(z,2),j=R[0],q=R[1],H=(0,i.useState)([]),U=(0,a.Z)(H,2),K=U[0],X=U[1],Y=(0,i.useState)([]),G=(0,a.Z)(Y,2),J=G[0],Q=G[1],$=(0,i.useState)(void 0===S||0===S.length?[]:S.map((function(e){return{label:e,value:e,component_name:"Fields"}}))),ee=(0,a.Z)($,2),te=(ee[0],ee[1],(0,i.useState)(void 0===C||0===C.length?[]:C.map((function(e){return{label:e,value:e,component_name:"Fields"}})))),ne=(0,a.Z)(te,2),le=ne[0],oe=ne[1],ae=(0,i.useState)([]),ie=(0,a.Z)(ae,2),re=ie[0],de=ie[1];(0,i.useEffect)((function(){ue()}),[]);var ue=(0,i.useCallback)((function(){var e=M?h.allBlueprintComponents.map((function(e){return{label:e.name,value:e.id,blueprint:e}})):h.allBlueprintComponents.filter((function(e){return 0==e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}}));if(de(e),o&&e){var t,n=null===(t=e.find((function(e){return e.label===o.label})))||void 0===t?void 0:t.blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e}})),l=e.find((function(e){return e.label===o.label}));if(q(l.blueprint.fields.map((function(e){var t;return{label:e.value,value:e.id,field:e,component_name:null===(t=l.blueprint)||void 0===t?void 0:t.name}}))),v&&(null===n||void 0===n?void 0:n.length)>0){var a=null===e||void 0===e?void 0:e.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.blueprint.fields)||void 0===t?void 0:t.filter((function(e){return e.value===v.label})).length)>0})).filter((function(e){return e.label!==o.label})).map((function(e){return{label:e.label,value:e.value,component:e.blueprint}}));if(X(a),y&&(null===a||void 0===a?void 0:a.length)>0){var i,r,d,u,s,c,m;Q(null!==(i=null===a||void 0===a||null===(r=a.find((function(e){return e.label===y.label})))||void 0===r||null===(d=r.component)||void 0===d||null===(u=d.fields)||void 0===u?void 0:u.map((function(e){return{label:e.value,value:e.value,component_name:y.label}})))&&void 0!==i?i:[]);var p=e.find((function(e){return e.label===o.label}));oe(null!==(s=null===a||void 0===a||null===(c=a.find((function(e){return e.label===y.label})))||void 0===c||null===(m=c.component.fields)||void 0===m?void 0:m.map((function(e){return{label:e.value,value:e.value,component_name:y.label}})).concat(null===p||void 0===p?void 0:p.blueprint.fields.map((function(e){return{label:e.value,value:e.value,component_name:p.label}}))))&&void 0!==s?s:[])}}}setTimeout((function(){return L("")}))}));return""===x&&i.createElement("div",{className:Te.dropdownElementHost,style:{display:x}},i.createElement(We,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Category Component"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:re,defaultSelectedItem:o,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){var t=re.find((function(t){return t.value===e.value}));q(t.blueprint.fields.map((function(e){var n;return{label:e.value,value:e.id,field:e,component_name:null===(n=t.blueprint)||void 0===n?void 0:n.name}}))),F(e),u(e.value)}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Display label for Category Component"}),i.createElement(f.sm,{"app-variant":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},i.createElement(se.Cm,{tagEmplacement:"inlined",items:null!==j&&void 0!==j?j:[],groupedBy:"component_name",groupname:"component_name",triggerType:"chevron",initialSelectedValues:void 0===n||0===n.length?[]:n.map((function(e){return null===j||void 0===j?void 0:j.find((function(t){return t.label===e}))})),className:Te.peoplePositionsSelect,inputClassName:Te.peoplePositionsSelectInput,molclassname:Te.peoplePositionsSelectMenuOverlay,moliclassname:Te.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===l||void 0===l||l(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.label})))}}))),i.createElement(We,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Common field for lookup"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:j,defaultSelectedItem:v,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){if(e){var t=M?re.filter((function(t){var n,l;return(null===t||void 0===t||null===(n=t.blueprint)||void 0===n||null===(l=n.fields)||void 0===l?void 0:l.filter((function(t){return t.value===e.label})).length)>0})):re.filter((function(e){return!1===e.blueprint.readonly})).filter((function(t){var n,l;return(null===t||void 0===t||null===(n=t.blueprint)||void 0===n||null===(l=n.fields)||void 0===l?void 0:l.filter((function(t){return t.value===e.label})).length)>0}));X(t.filter((function(e){return e.label!==B.label})).map((function(e){return{label:e.label,value:e.value,component:e.blueprint}}))),V(e),c(e.label),null!==e&&void 0!==e&&e.symbol?k(!1):k(!0)}}}))),i.createElement(We,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Component where to conduct lookup"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:K,defaultSelectedItem:y,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){var t;Q(null!==(t=e.component.fields.map((function(t){return{label:t.value,value:t.value,component_name:e.label}})))&&void 0!==t?t:[]),oe(e.component.fields.map((function(t){return{label:t.value,value:t.value,component_name:e.label}})).concat(B.blueprint.fields.map((function(e){return{label:e.value,value:e.value,component_name:B.label}})))),A(e),s(e.value),null!==e&&void 0!==e&&e.symbol?k(!1):k(!0)}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Use a global field to filter components (Optional)"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:le,defaultSelectedItem:{label:t,value:t},className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){E(e.value)}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Fields to display for Components found"}),i.createElement(f.sm,{"app-variant":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},i.createElement(se.Cm,{tagEmplacement:"inlined",items:null!==J&&void 0!==J?J:[],groupedBy:"component_name",groupname:"component_name",triggerType:"chevron",initialSelectedValues:void 0===S||0===S.length?[]:S.map((function(e){return{label:e,value:e,component_name:"Fields"}})),className:Te.peoplePositionsSelect,inputClassName:Te.peoplePositionsSelectInput,molclassname:Te.peoplePositionsSelectMenuOverlay,moliclassname:Te.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===b||void 0===b||b(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(We,{errorMessage:null===d||void 0===d?void 0:d.accepted_mimes},i.createElement(f.Lb,{title:"Fields to output"}),i.createElement(f.sm,{"app-variant":null!==d&&void 0!==d&&d.accepted_mimes?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},i.createElement(se.Cm,{tagEmplacement:"inlined",items:le,groupedBy:"component_name",groupname:"component_name",triggerType:"chevron",initialSelectedValues:null===le||void 0===le?void 0:le.filter((function(e){return-1!==(null===C||void 0===C?void 0:C.indexOf(e.label))})),className:Te.peoplePositionsSelect,inputClassName:Te.peoplePositionsSelectInput,molclassname:Te.peoplePositionsSelectMenuOverlay,moliclassname:Te.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===m||void 0===m||m(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(We,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Interface Type"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:[{label:"Dropdown",value:"Dropdown"},{label:"Tiles",value:"Tiles"}],defaultSelectedItem:g,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){p(e.value),null!==e&&void 0!==e&&e.symbol?k(!1):k(!0)}}))),i.createElement(f.pd,{id:"Show all choices immediately",title:"Show all choices immediately?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:Z,toggleSelected:function(e){_(e)}}))},dt=function(e){var t=e.defaultInputComponent1,n=e.defaultComponent1,l=e.defaultComponent2,o=e.defaultComponent3,d=e.defaultCommon12,u=e.defaultCommon23,s=e.defaultOutputs,c=void 0===s?[]:s,m=e.onComponent1Selected,p=e.onComponent1InputSelected,v=e.onComponent2Selected,y=e.onComponent3Selected,g=e.onCommon12Selected,h=e.onCommon23Selected,C=e.onOutputsSelected,S=e.validationErrors,b=e.bpContext,E=(0,r.v9)((function(e){return e.modalsReducer})),_=E.isOnboarding,Z=(0,i.useState)(_?b.allBlueprintComponents.map((function(e){return{label:e.name,value:e.id,blueprint:e}})):b.allBlueprintComponents.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}}))),w=(0,a.Z)(Z,1)[0],N=(0,i.useState)(!1),x=(0,a.Z)(N,2)[1],L=(0,i.useState)({}),I=(0,a.Z)(L,2),M=I[0],O=I[1],k=(0,i.useState)(n?w.find((function(e){return e.label===n.label})).blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e,component_name:n.label}})):[]),T=(0,a.Z)(k,2),P=T[0],B=T[1],F=(0,i.useState)(l?w.find((function(e){return e.label===l.label})).blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e,component_name:l.label}})):[]),D=(0,a.Z)(F,2),A=D[0],W=D[1],V=(0,i.useState)([]),z=(0,a.Z)(V,2),R=z[0],j=z[1],q=(0,i.useState)([]),H=(0,a.Z)(q,2),U=H[0],K=H[1];return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===S||void 0===S?void 0:S.type},i.createElement(f.Lb,{title:"Input Component (A)"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:w,defaultSelectedItem:n,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){var t=w.find((function(t){return t.value===e.value}));B(t.blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e}}))),O(e),m(e.value)}}))),i.createElement(We,{errorMessage:null===S||void 0===S?void 0:S.type},i.createElement(f.Lb,{title:"Input field to use with component (A)"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:P,defaultSelectedItem:t,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){p(e.label),null!==e&&void 0!==e&&e.symbol?x(!1):x(!0)}}))),i.createElement(We,{errorMessage:null===S||void 0===S?void 0:S.type},i.createElement(f.Lb,{title:"Common field for first lookup, A + B"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:P,defaultSelectedItem:d,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){var t=w.filter((function(t){return t.blueprint.fields.filter((function(t){return t.value===e.label})).length>0}));j(t.filter((function(e){return e.label!==M.label})).map((function(e){return{label:e.label,value:e.value,component:e.blueprint}}))),g(e.label),null!==e&&void 0!==e&&e.symbol?x(!1):x(!0)}}))),i.createElement(We,{errorMessage:null===S||void 0===S?void 0:S.type},i.createElement(f.Lb,{title:"Target component (B) where value will come from"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:R,defaultSelectedItem:l,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){var t=w.find((function(t){return t.value===e.value}));W(t.blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e,component_name:t.blueprint.name}}))),v(e.value),null!==e&&void 0!==e&&e.symbol?x(!1):x(!0)}}))),i.createElement(We,{errorMessage:null===S||void 0===S?void 0:S.type},i.createElement(f.Lb,{title:"Common field for second lookup, B + C"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:A,defaultSelectedItem:u,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){var t=w.filter((function(t){return t.blueprint.fields.filter((function(t){return t.value===e.label})).length>0}));K(t.filter((function(e){return e.label!==M.label})).map((function(e){return{label:e.label,value:e.value,component:e.blueprint}}))),h(e.label),null!==e&&void 0!==e&&e.symbol?x(!1):x(!0)}}))),i.createElement(We,{errorMessage:null===S||void 0===S?void 0:S.type},i.createElement(f.Lb,{title:"Component (C) where to conduct second lookup"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:U,defaultSelectedItem:o,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){y(e.value),null!==e&&void 0!==e&&e.symbol?x(!1):x(!0)}}))),i.createElement(We,{errorMessage:null===S||void 0===S?void 0:S.accepted_mimes},i.createElement(f.Lb,{title:"Fields to display from target component (B)"}),i.createElement(f.sm,{"app-variant":null!==S&&void 0!==S&&S.accepted_mimes?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},i.createElement(se.Cm,{tagEmplacement:"inlined",items:A,groupedBy:"component_name",groupname:"component_name",triggerType:"chevron",initialSelectedValues:void 0===c||0===c.length?[]:c.map((function(e){var t;return{label:e,value:null===(t=A.find((function(t){return t.label===e})))||void 0===t?void 0:t.value,component_name:l.label}})),className:Te.peoplePositionsSelect,inputClassName:Te.peoplePositionsSelectInput,molclassname:Te.peoplePositionsSelectMenuOverlay,moliclassname:Te.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===C||void 0===C||C(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.label})))}}))))},ut=function(e){var t,n=e.defaultMaxSize,l=e.onMaxFileSizeChanged,o=e.defaultList,r=e.onListSelected,d=e.validationErrors,u=(0,i.useState)(null===(t=null!==n&&void 0!==n?n:0)||void 0===t?void 0:t.toString()),s=(0,a.Z)(u,2),c=s[0],m=s[1];return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===d||void 0===d?void 0:d.max_file_size},i.createElement(f.Lb,{title:"Maximum file size"}),i.createElement(f.sm,{"app-variant":null!==d&&void 0!==d&&d.max_file_size?"error":"normal",className:Te.unfocusableWrapper},i.createElement("input",{type:"text",placeholder:"Insert max size in MB",className:Te.maxFileSizeInput,value:c,name:"file max size",onChange:function(e){var t=e.target.value;Number(+t)?(m(t),null===l||void 0===l||l(t)):""===t&&(m(""),null===l||void 0===l||l("0"))}}),i.createElement("pre",{className:Te.uploadFileSizeMeasureUnit},"MB"))),i.createElement(We,{errorMessage:null===d||void 0===d?void 0:d.accepted_mimes},i.createElement(f.Lb,{title:"Type of Files"}),i.createElement(f.sm,{"app-variant":null!==d&&void 0!==d&&d.accepted_mimes?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"top",items:v.cH,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:null===v.cH||void 0===v.cH?void 0:v.cH.filter((function(e){var t;return(null===o||void 0===o?void 0:o.indexOf(null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.replaceAll(".","")))>-1})),className:Te.uploadSelectComponent,inputClassName:Te.uploadSearchInput,molclassname:Te.uploadSelectMenuOverlayList,moliclassname:Te.uploadSelectMenuOverlayListItem,onChange:function(e){null===r||void 0===r||r(e.map((function(e){var t;return null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.replaceAll(".","")})).join(","))}}))))},st=function(e){var t=e.item,n=e.onItemChanged,l=e.onItemRemoved,o=e.isOverflow,r=(0,i.useState)(t),d=(0,a.Z)(r,2),u=d[0],s=d[1],c=(0,i.useState)(!1),m=(0,a.Z)(c,2),p=m[0],v=m[1];return i.createElement(f.sm,{className:Te.renderEditableListContainer,"app-variant":o?"overflow":"",onClickOutside:function(){v(!1),s(t)}},i.createElement("input",{onFocus:function(){v(!0)},type:"text",className:Te.renderEditableListItemInput,value:u,name:"editItem",onChange:function(e){v(!0),s(e.target.value)}}),p&&i.createElement("button",{type:"button",onClick:function(e){null===n||void 0===n||n(u)},className:Te.renderEditableListItemDeleteButton},i.createElement(Oe.nQX,null)),p&&i.createElement("button",{type:"button",onClick:function(e){null===l||void 0===l||l(t)},className:Te.renderEditableListItemDeleteButton},i.createElement(Oe.EUP,null)))},ct=function(e){var t,n,l,o,d,u,s=e.defaultFilters,c=e.defaultValue,m=e.nameValues,p=e.defaultList,v=e.onListSelected,y=e.onComponentSelected,g=e.onGlobalSelected,h=e.blueprints,C=e.onTypeSelected,S=e.defaultType,b=e.defaultOutputField,E=e.defaultGlobal,_=e.onNamesSelected,Z=e.onOutputFieldSelected,w=e.onFilterList,N=(0,r.v9)((function(e){return e.modalsReducer})),x=N.isOnboarding,L=(0,i.useState)(void 0),I=(0,a.Z)(L,2),M=I[0],O=I[1],k=(0,i.useState)(!1),T=(0,a.Z)(k,2),P=T[0],B=T[1],F=(0,i.useState)(x?null!==(t=null===h||void 0===h?void 0:h.map((function(e){return{label:e.name,value:e.id,blueprint:e}})))&&void 0!==t?t:[]:h.filter((function(e){return!1===e.readonly})).length>0?h.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}})):null!==(n=null===h||void 0===h?void 0:h.map((function(e){return{label:e.name,value:e.id,blueprint:e}})))&&void 0!==n?n:[]),D=(0,a.Z)(F,1)[0],A=(0,i.useState)(void 0==s?[]:(null===s||void 0===s?void 0:s.length)>0?s.map((function(e){return{label:e,value:e,component_name:"Fields"}})):[]),W=(0,a.Z)(A,2),R=W[0],j=W[1],q=(0,i.useState)(null!==c&&void 0!==c&&c.label?0==h.length?[]:x?null===(l=h.find((function(e){return e.name===c.label})))||void 0===l||null===(o=l.fields)||void 0===o?void 0:o.map((function(e){return{label:e.value,value:e.value}})):null===(d=h.filter((function(e){return!1===e.readonly})).find((function(e){return e.name===c.label})))||void 0===d||null===(u=d.fields)||void 0===u?void 0:u.map((function(e){return{label:e.value,value:e.value}})):[]),H=(0,a.Z)(q,2),U=H[0],K=H[1];return i.createElement(i.Fragment,null,i.createElement(We,null,i.createElement(f.Lb,{title:"Interface Type"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:[{label:"Dropdown",value:"Dropdown"},{label:"Tiles",value:"Tiles"}],defaultSelectedItem:S,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){C(e.value),null!==e&&void 0!==e&&e.symbol?B(!1):B(!0)}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Component where to conduct lookup"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Te.currencySelectContainer},i.createElement("pre",{className:Te.currencySymbol,style:{display:"none"}},null!==M&&void 0!==M&&M.symbol?null===M||void 0===M?void 0:M.symbol:P?"":null===c||void 0===c?void 0:c.symbol," "),i.createElement(f.Ld,{triggerType:"chevron",items:D,defaultSelectedItem:c,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){O(e),y(e),null!==e&&void 0!==e&&e.symbol?B(!1):B(!0),K(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),j(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}})))}})))),i.createElement(We,null,i.createElement(f.Lb,{title:"Values to display"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:U,itemType:"checkboxes",checkboxEmplacement:"left",inputStyle:{cursor:"pointer"},initialSelectedItems:null===U||void 0===U?void 0:U.filter((function(e){return(null===m||void 0===m?void 0:m.indexOf(e.label))>-1})),className:Te.uploadSelectComponent,inputClassName:Te.uploadSearchInput,molclassname:Te.uploadSelectMenuOverlayList,moliclassname:Te.uploadSelectMenuOverlayListItem,onChange:function(e){null===_||void 0===_||_(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Fields to filter, enter in order of filter, max 3 (Optional)"}),i.createElement(f.sm,{"app-variant":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:R,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:0===(null===s||void 0===s?void 0:s.length)?[]:null===s||void 0===s?void 0:s.map((function(e){return{label:e,value:e}})),className:Te.uploadSelectComponent,inputClassName:Te.uploadSearchInput,inputStyle:{cursor:"pointer"},molclassname:Te.uploadSelectMenuOverlayList,moliclassname:Te.uploadSelectMenuOverlayListItem,onChange:function(e){null===w||void 0===w||w(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}},i.createElement(V.G,{className:"fa-icon",icon:z.ptq,style:{marginRight:"20px",color:"gray"}})))),i.createElement(We,null,i.createElement(f.Lb,{title:"Use a global field to filter components (Optional)"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:U,defaultSelectedItem:{label:E,value:E},className:Te.componentsSelectComponent,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},inputClassName:Te.componentsSearchInput,clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){g(e.value)}})))),i.createElement(We,null,i.createElement(f.Lb,{title:"Field value to save"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Te.currencySelectContainer},i.createElement("pre",{className:Te.currencySymbol,style:{display:"none"}},null!==M&&void 0!==M&&M.symbol?null===M||void 0===M?void 0:M.symbol:P?"":null===c||void 0===c?void 0:c.symbol," "),i.createElement(f.Ld,{triggerType:"chevron",items:U,defaultSelectedItem:b,className:Te.componentsSelectComponent,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},inputClassName:Te.componentsSearchInput,clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){Z(e.value)}})))),i.createElement(We,null,i.createElement(f.Lb,{title:"Field values to share"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:U,itemType:"checkboxes",checkboxEmplacement:"left",inputStyle:{cursor:"pointer"},initialSelectedItems:null===U||void 0===U?void 0:U.filter((function(e){return(null===p||void 0===p?void 0:p.indexOf(e.label))>-1})),className:Te.uploadSelectComponent,inputClassName:Te.uploadSearchInput,molclassname:Te.uploadSelectMenuOverlayList,moliclassname:Te.uploadSelectMenuOverlayListItem,onChange:function(e){null===v||void 0===v||v(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))))},mt=function(e){var t,n,l,o=e.defaultValue,r=e.onModuleSelected,d=(e.field_type,e.onOutputSelected),u=e.onFieldValueSelected,s=e.defaultOutput,c=e.defaultModule,m=e.components,p=void 0===m?[]:m,v=e.allModules,y=(0,i.useState)(void 0),g=(0,a.Z)(y,2),h=g[0],C=g[1],S=(0,i.useState)(c?{value:""}:void 0),b=(0,a.Z)(S,2),E=b[0],_=b[1],Z=(0,i.useState)(v.map((function(e){return{label:e.name,value:e.id,module:e}}))),w=(0,a.Z)(Z,1)[0];return i.createElement(i.Fragment,null,i.createElement(We,null,i.createElement(f.Lb,{title:"Select Module:"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:w,defaultSelectedItem:c,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){C(e),r(e)}})))),h&&i.createElement(We,null,i.createElement(f.Lb,{title:"Select Output:"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:null===p||void 0===p?void 0:p.filter((function(e){return e.module_id===h.value})).map((function(e){return{label:"".concat(e.title),value:e.id}})),defaultSelectedItem:s,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){_(e),d(e)}})))),E&&i.createElement(We,null,i.createElement(f.Lb,{title:"Select Field Value:"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:null!==(t=null===p||void 0===p||null===(n=p.find((function(e){return e.id===E.value})))||void 0===n||null===(l=n.component_fields)||void 0===l?void 0:l.map((function(e){return{label:"".concat(e.field_name," = ").concat(e.value),value:e.value}})))&&void 0!==t?t:[],defaultSelectedItem:o,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){u(e)}})))))},pt=(0,i.memo)((function(e){var t=e.defaultCalendar,n=e.defaultSlider,o=e.defaultAssign,d=e.defaultEmail,u=e.defaultType,s=e.defaultPositions,c=e.onChangeSlider,m=e.onChangeList,p=e.onChangeType,y=e.onChangeEmail,g=e.onChangeAssign,h=e.validationErrors,C=e.allModules,S=e.onModuleSelected,b=e.defaultModule,E=e.options,_=e.onOptionsSelected,Z=e.fieldOption,w=e.onCalendar,N=(0,i.useState)("single"==u),x=(0,a.Z)(N,2),L=x[0],I=x[1],M=(0,i.useState)(!1),O=(0,a.Z)(M,2),k=O[0],T=O[1],P=(0,i.useState)(null===E||void 0===E?void 0:E.componentF),B=(0,a.Z)(P,2),F=B[0],D=B[1],A=(0,i.useState)(null===E||void 0===E?void 0:E.componentO),V=(0,a.Z)(A,2),z=V[0],R=V[1],j=(0,i.useState)(null===E||void 0===E?void 0:E.componentUO),q=(0,a.Z)(j,2),H=q[0],U=q[1],K=(0,i.useState)(s),X=(0,a.Z)(K,2),Y=X[0],G=X[1],J=(0,i.useState)(null===E||void 0===E?void 0:E.module_id),Q=(0,a.Z)(J,2),$=Q[0],ee=Q[1],te=C.map((function(e){return{label:e.name,value:e.id,module:e}})),ne=(0,r.v9)((function(e){return e.flowReducer})),le=ne.companyPositionsArray,oe=ne.companyDepartments,ae=(0,i.useState)(Pe.sortWith([Pe.ascend(Pe.prop("department_name"))])(null===le||void 0===le?void 0:le.map((function(e){var t;return{label:e.label,value:e.value,department_name:e.department,department_id:null===(t=oe.find((function(t){return t.label==e.department})))||void 0===t?void 0:t.value}})))),ie=(0,a.Z)(ae,2),re=ie[0],de=ie[1];return(0,i.useEffect)((function(){var e=(0,W.OW)().subscribe({next:function(e){(0,W.xt)().subscribe({next:function(t){var n=null===e||void 0===e?void 0:e.map((function(e){var n;return{label:e.name,value:e.id,department_name:null===(n=t.find((function(t){return t.id==e.department_id})))||void 0===n?void 0:n.name,department_id:e.department_id}}));de(Pe.sortWith([Pe.ascend(Pe.prop("department_name"))])(n)),T(!1)},error:function(e){T(!1)}})},error:function(e){T(!1)}});return function(){(0,v.zK)(e)}}),[]),i.createElement("div",{className:Te.peopleContainer},i.createElement(We,{errorMessage:null===h||void 0===h?void 0:h.type},i.createElement(f.Lb,{title:"How many People can be placed in this position?"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.type?"error":"normal","app-container-variant":"noBorder",className:Le()(Te.unfocusableWrapper)},i.createElement(f.nd,{selected:L,setSelected:function(e){I(e),null===p||void 0===p||p(e?"single":"multiple")},first:"One Person",second:"Multiple People",extraClassName:Te.renderBooleansOptions}))),(void 0!==F||0!==(null===F||void 0===F?void 0:F.length))&&i.createElement(We,{errorMessage:null===h||void 0===h?void 0:h.position_id},i.createElement(f.Lb,{title:"Option 1: Display users from these positions:"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},k?i.createElement(f.$j,{size:30,type:"ThreeDots"}):(null===re||void 0===re?void 0:re.length)>0?i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:re,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:null===re||void 0===re?void 0:re.filter((function(e){return(null===s||void 0===s?void 0:s.indexOf(e.value))>-1})),className:Te.uploadSelectComponent,inputClassName:Te.uploadSearchInput,molclassname:Te.uploadSelectMenuOverlayList,moliclassname:Te.uploadSelectMenuOverlayListItem,onChange:function(e){G(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))),null===m||void 0===m||m(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}):null)),0==Y.length&&i.createElement(We,{errorMessage:null===h||void 0===h?void 0:h.type},i.createElement(f.Lb,{title:"Option 2: Display users based from a lookup in:"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.rk,{items:te,defaultSelected:b,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){ee(e.module.id),null===S||void 0===S||S(e)}}))),0==Y.length&&i.createElement(We,null,i.createElement(f.Lb,{title:"Field set in the steps where to lookup"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:F,name:"matched to field",onChange:function(e){D(e.target.value),_((0,l.Z)((0,l.Z)({},Z),{},{componentF:e.target.value,module_id:$}))}}))),0==Y.length&&i.createElement(We,null,i.createElement(f.Lb,{title:"Field from lookup where to get positions and users"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:z,name:"matched to field",onChange:function(e){R(e.target.value),_((0,l.Z)((0,l.Z)({},Z),{},{componentO:e.target.value,module_id:$}))}}))),0==Y.length&&i.createElement(We,null,i.createElement(f.Lb,{title:"Field from lookup where to get users (direct user list)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:H,name:"matched to field",onChange:function(e){U(e.target.value),_((0,l.Z)((0,l.Z)({},Z),{},{componentUO:e.target.value}))}}))),!t&&i.createElement(f.pd,{id:"Display as slider",title:"Display as slider?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:!!n,toggleSelected:function(e){c(e)}}),i.createElement(f.pd,{id:"Trigger an email when user is selected",title:"Trigger an email when user is selected?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:!!d,toggleSelected:function(e){y(e)}}),!t&&i.createElement(f.pd,{id:"Assign the user selected to transaction",title:"Assign the user selected to transaction?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:!!o,toggleSelected:function(e){g(e)}}),!n&&i.createElement(f.pd,{id:"Display as calendar",title:"Display as calendar?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:!!t,toggleSelected:function(e){w(e)}}))})),vt=(0,i.memo)((function(e){var t=e.defaultCalendar,n=e.defaultSlider,l=(e.defaultAssign,e.defaultEmail,e.defaultType),o=e.defaultPositions,d=(e.onChangeSlider,e.onChangeList),u=e.onChangeType,s=(e.onChangeEmail,e.onChangeAssign,e.validationErrors),c=e.allModules,m=(e.onModuleSelected,e.defaultModule,e.options),p=(e.onOptionsSelected,e.fieldOption,e.onCalendar),y=(0,i.useState)("single"==l),g=(0,a.Z)(y,2),h=g[0],C=g[1],S=(0,i.useState)(!1),b=(0,a.Z)(S,2),E=b[0],_=b[1],Z=(0,i.useState)(null===m||void 0===m?void 0:m.componentF),w=(0,a.Z)(Z,2),N=w[0],x=(w[1],(0,i.useState)(null===m||void 0===m?void 0:m.componentO)),L=(0,a.Z)(x,2),I=(L[0],L[1],(0,i.useState)(null===m||void 0===m?void 0:m.componentUO)),M=(0,a.Z)(I,2),O=(M[0],M[1],(0,i.useState)(o)),k=(0,a.Z)(O,2),T=(k[0],k[1]),P=(0,i.useState)(null===m||void 0===m?void 0:m.module_id),B=(0,a.Z)(P,2),F=(B[0],B[1],c.map((function(e){return{label:e.name,value:e.id,module:e}})),(0,r.v9)((function(e){return e.flowReducer}))),D=F.companyPositionsArray,A=F.companyDepartments,V=(0,i.useState)(Pe.sortWith([Pe.ascend(Pe.prop("department_name"))])(null===D||void 0===D?void 0:D.map((function(e){var t;return{label:e.label,value:e.value,department_name:e.department,department_id:null===(t=A.find((function(t){return t.label==e.department})))||void 0===t?void 0:t.value}})))),z=(0,a.Z)(V,2),R=z[0],j=z[1];return(0,i.useEffect)((function(){var e=(0,W.OW)().subscribe({next:function(e){(0,W.xt)().subscribe({next:function(t){var n=null===e||void 0===e?void 0:e.map((function(e){var n;return{label:e.name,value:e.id,department_name:null===(n=t.find((function(t){return t.id==e.department_id})))||void 0===n?void 0:n.name,department_id:e.department_id}}));j(Pe.sortWith([Pe.ascend(Pe.prop("department_name"))])(n)),_(!1)},error:function(e){_(!1)}})},error:function(e){_(!1)}});return function(){(0,v.zK)(e)}}),[]),i.createElement("div",{className:Te.peopleContainer},i.createElement(We,{errorMessage:null===s||void 0===s?void 0:s.type},i.createElement(f.Lb,{title:"How many Positions can be selected?"}),i.createElement(f.sm,{"app-variant":null!==s&&void 0!==s&&s.type?"error":"normal","app-container-variant":"noBorder",className:Le()(Te.unfocusableWrapper)},i.createElement(f.nd,{selected:h,setSelected:function(e){C(e),null===u||void 0===u||u(e?"single":"multiple")},first:"Single",second:"Multiple",extraClassName:Te.renderBooleansOptions}))),(void 0!==N||0!==(null===N||void 0===N?void 0:N.length))&&i.createElement(We,{errorMessage:null===s||void 0===s?void 0:s.position_id},i.createElement(f.Lb,{title:"Display these positions:"}),i.createElement(f.sm,{"app-variant":null!==s&&void 0!==s&&s.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},E?i.createElement(f.$j,{size:30,type:"ThreeDots"}):(null===R||void 0===R?void 0:R.length)>0?i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:R,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:null===R||void 0===R?void 0:R.filter((function(e){return(null===o||void 0===o?void 0:o.indexOf(e.value))>-1})),className:Te.uploadSelectComponent,inputClassName:Te.uploadSearchInput,molclassname:Te.uploadSelectMenuOverlayList,moliclassname:Te.uploadSelectMenuOverlayListItem,onChange:function(e){T(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))),null===d||void 0===d||d(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}):null)),!n&&i.createElement(f.pd,{id:"Display as calendar",title:"Display as calendar?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:!!t,toggleSelected:function(e){p(e)}}))})),ft=function(e){var t=e.defaultCurrent,n=e.defaultFixed,l=e.defaultDescription,o=e.defaultValue,r=e.defaultModule,d=e.defaultModule2,u=e.defaultModule3,s=e.allModules,c=e.onModule1Select,m=e.onModule2Select,p=e.onModule3Select,v=e.setFieldValue,y=e.setDefaultDescription,g=e.setDefaultFixed,h=e.setDefaultCurrent,C=(0,i.useState)(null!==n&&void 0!==n&&n),S=(0,a.Z)(C,2),b=S[0],E=S[1],_=(0,i.useState)(o),Z=(0,a.Z)(_,2),w=Z[0],N=Z[1],x=(0,i.useState)(l),L=(0,a.Z)(x,2),I=L[0],M=L[1],O=(0,i.useState)(1!=t&&""!==(null===r||void 0===r?void 0:r.label)),k=(0,a.Z)(O,2),T=k[0],P=k[1],B=(0,i.useState)(t),F=(0,a.Z)(B,2),D=F[0],A=F[1],W=s.map((function(e){return{label:e.name,value:e.id,module:e}}));return i.createElement(i.Fragment,null,i.createElement(We,null,i.createElement(f.Lb,{title:"Description"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("textarea",{type:"text",className:Te.elementTextArea,value:I,name:"element-desc",onChange:function(e){y(e.target.value),M(e.target.value)}}))),i.createElement(f.pd,{id:"Use records for the AI to analyze",title:"Use records for the AI to analyze?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:!!T,toggleSelected:function(e){P(e),1==e&&(A(!1),h(!1))}}),!T&&i.createElement(f.pd,{id:"Use current transaction for the AI to analyze",title:"Use current transaction for the AI to analyze",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:!!D,toggleSelected:function(e){A(e),h(e)}}),T&&i.createElement(We,null,i.createElement(f.Lb,{title:"Records to use as source A"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement(f.rk,{items:W,defaultSelected:r,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){null===c||void 0===c||c(e)}}))),T&&i.createElement(We,null,i.createElement(f.Lb,{title:"Records to use as source B (Optional)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement(f.rk,{items:W,defaultSelected:d,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){null===m||void 0===m||m(e)}}))),T&&i.createElement(We,null,i.createElement(f.Lb,{title:"Records to use as source C (Optional)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement(f.rk,{items:W,defaultSelected:u,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){null===p||void 0===p||p(e)}}))),1==b&&i.createElement(We,null,i.createElement(f.Lb,{title:"Fixed query to use ".concat(T?"with the records selected":"")}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("textarea",{type:"text",className:Te.elementTextArea,value:w,name:"element-query",onChange:function(e){v(e.target.value),N(e.target.value)}}))),i.createElement(f.pd,{id:"Use a fixed query?",title:"Use a fixed query",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 0px 0px",width:"auto"},value:b,toggleSelected:function(e){E(e),g(e)}}))},yt=function(e){var t=e.onSetIdGenerator,n=e.defaultValue,l=(0,i.useState)(n.label),o=(0,a.Z)(l,2),r=o[0],d=o[1];return i.createElement("div",{className:Te.currencySelectContainer},i.createElement("input",{type:"text",placeholder:"Enter prefix of ID",className:Te.elementTextInput,value:r,name:"element-name",onChange:function(e){d(e.target.value),function(e){t(e)}(e.target.value)}}))},gt=function(e){var t=e.onNotesGenerator,n=e.defaultValue,l=(0,i.useState)(n.label),o=(0,a.Z)(l,2),r=o[0],d=o[1];return i.createElement("div",{className:Te.currencySelectContainer},i.createElement("textarea",{type:"text",placeholder:"Enter Notes to display",className:Te.elementTextArea,value:r,name:"element-name",onChange:function(e){d(e.target.value),function(e){t(e)}(e.target.value)}}))},ht=function(e){var t=e.defaultList,n=e.defaultSrcName,l=e.onSourceLabel,d=e.defaultValue,u=e.validationErrors,s=e.onSourceSelected,c=e.bpContext,m=e.onListSelected,p=void 0===m?function(){}:m,v=(0,r.v9)((function(e){return e.modalsReducer})),y=v.isOnboarding,g=(0,i.useState)(null!==t&&void 0!==t?t:[]),h=(0,a.Z)(g,2),C=h[0],S=h[1],b=(0,i.useState)(""),E=(0,a.Z)(b,2),_=E[0],Z=E[1],w=(0,i.useState)([]),N=(0,a.Z)(w,2),x=N[0],L=N[1],I=(0,i.useState)(!0),M=(0,a.Z)(I,2),O=M[0],k=M[1],T=(0,i.useState)([]),P=(0,a.Z)(T,2),B=P[0],F=P[1];(0,i.useEffect)((function(){D()}),[]);var D=(0,i.useCallback)((function(){F(y?c.allBlueprintComponents.map((function(e){return{label:e.name,value:e.id,blueprint:e}})):c.allBlueprintComponents.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}})))})),A=(0,i.useCallback)((function(){k(!0),S((function(e){return[].concat((0,o.Z)(e),[_])})),Z(""),null===p||void 0===p||p([].concat((0,o.Z)(C),[_]))}),[C,_,p]),W=(0,i.useCallback)((function(e){S((function(t){return(0,o.Z)(Pe.reject(Pe.equals(e),t))})),null===p||void 0===p||p((0,o.Z)(Pe.reject(Pe.equals(e),C)))}),[C,p]);return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===u||void 0===u?void 0:u.type},i.createElement(f.Lb,{title:"Select Component where field to use as payment amount is found"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:B,defaultSelectedItem:d,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){var t=B.find((function(t){return t.value===e.value}));L(t.blueprint.fields.filter((function(e){return"Number"===e.name||"Formula"===e.name||"Item Formula"===e.name})).map((function(e){return{label:e.value,value:e.id,field:e}}))),s(e.value)}}))),i.createElement(We,{errorMessage:null===u||void 0===u?void 0:u.type},i.createElement(f.Lb,{title:"Field to use for payment amount"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:x,defaultSelectedItem:n,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){l(e.label)}}))),i.createElement(We,{errorMessage:null===u||void 0===u?void 0:u.list},i.createElement(f.Lb,{title:"Payment Options"}),i.createElement(f.sm,{"app-variant":null!==u&&void 0!==u&&u.list?"error":"normal",className:Te.dropdownListContainer,onClickOutside:(0,i.useCallback)((function(){null===p||void 0===p||p(C)}),[C,p])},O?i.createElement("div",{className:Te.dropDownButtonContainer},i.createElement(f.zx,{light:!0,title:"Add Payment Option",clicked:function(){return k(!1)}})):i.createElement("div",{className:Te.dropDownNewListItemInputContainer},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:_,name:"newItem",placeholder:"Type name",onChange:function(e){Z(e.target.value)}}),(null===_||void 0===_?void 0:_.length)>0&&i.createElement("button",{type:"button",onClick:A,className:Te.dropdownInputButtonSaveNewItem},i.createElement(V.G,{icon:z.g6h}))),i.createElement("div",{className:Te.dropdownListItemsContainer},C&&(null===C||void 0===C?void 0:C.map((function(e,t){return i.createElement(st,{key:e+t,item:e,isOverflow:(null===C||void 0===C?void 0:C.length)>3,onItemChanged:function(e){S((function(n){return(0,o.Z)(Pe.update(t)(e)(n))}))},onItemRemoved:function(){return W(e)}})})))))))},Ct=n(67861),St=(0,i.memo)((function(e){var t,n,r,d,s,c,p,y,g,h,C,S,b,E,_,Z,w,N,x=e.visible,L=e.onUpdate,I=e.onClose,M=(e.hasTutorial,e.allModules),O=e.blueprints,B=e.componentTypes,F=e.components,D=e.products,A=e.companyData,W=e.companyProcesses,j=e.selectedComponent,q=(0,u.aL)(),H=(0,a.Z)(q,2),U=H[0],K=H[1],X=(0,i.useState)(!1),Y=(0,a.Z)(X,2),G=Y[0],J=Y[1],Q=(0,i.useState)(!1),$=(0,a.Z)(Q,2),ee=$[0],te=$[1],ne=(0,i.useState)(!1),le=(0,a.Z)(ne,2),oe=le[0],ve=le[1],fe=(0,i.useState)(!1),ye=(0,a.Z)(fe,2),ge=ye[0],Ne=ye[1],xe=(0,i.useState)(!1),Le=(0,a.Z)(xe,2),Ie=Le[0],Me=Le[1],Oe=(0,i.useState)(!1),ke=(0,a.Z)(Oe,2),Te=ke[0],Pe=ke[1],Be=(0,i.useState)({name:"",fields:"",components:""}),De=(0,a.Z)(Be,2)[1],Ae=(0,i.useState)(!1),Ve=(0,a.Z)(Ae,2),ze=Ve[0],Re=Ve[1],je=(0,i.useState)(""),qe=(0,a.Z)(je,2),He=qe[0],Ue=qe[1],Ke=(0,i.useState)(!0),Xe=(0,a.Z)(Ke,2),Ye=Xe[0],Ge=Xe[1],Je=(0,i.useState)(!1),Qe=(0,a.Z)(Je,2),$e=Qe[0],et=Qe[1],tt=(0,i.useState)(""),nt=(0,a.Z)(tt,2),lt=nt[0],ot=nt[1],at=e.onBoardingModalsVisibility;(0,i.useEffect)((function(){Ue(""),K({type:u.qY.setAllBlueprintsComponents,value:O})}),[U.selectedBlueprintComponent.fields]),(0,i.useEffect)((function(){void 0!==j&&(K({type:u.qY.setSelectedBlueprintComponent,value:O.find((function(e){return e.id===j}))}),Ge(!1))}),[]);var it=function(){De({name:"",components:""}),Ue("")},rt=(0,i.useCallback)((function(e){ve(!0),(0,ue._u)(e.id,e).subscribe({next:function(){ve(!1),k.h.dispatch((0,m.Xc)({show:!0,message:"You have successfully updated ".concat(e.name)})),null===L||void 0===L||L(!0),null===I||void 0===I||I(!0)},error:function(e){var t,n,l,o,a,i,r,d,u;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.errors&&De({name:null===e||void 0===e||null===(n=e.data)||void 0===n||null===(l=n.errors)||void 0===l||null===(o=l.name)||void 0===o?void 0:o.join("; "),components:null===e||void 0===e||null===(a=e.data)||void 0===a||null===(i=a.errors)||void 0===i||null===(r=i.components)||void 0===r?void 0:r.join("; ")});null!==e&&void 0!==e&&e.data&&Ue(null!==(d=null===e||void 0===e||null===(u=e.data)||void 0===u?void 0:u.message)&&void 0!==d?d:null===e||void 0===e?void 0:e.data);ve(!1)}})}),[I]),dt=(0,i.useCallback)((function(e){ve(!0),(0,ue.Bp)(e).subscribe({next:function(){null!==at&&void 0!==at&&at.thirdModalVisible?k.h.dispatch((0,R.$6)({fourthModalVisible:!0})):null!==at&&void 0!==at&&at.fifthModalVisible?k.h.dispatch((0,R.$6)({sixthModalVisible:!0})):k.h.dispatch((0,m.Xc)({show:!0,message:"You have successfully created ".concat(e.name)})),ve(!1),null===L||void 0===L||L(!0),null===I||void 0===I||I(!0)},error:function(e){var t,n,l,o,a,i,r,d,u;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.errors&&De({name:null===e||void 0===e||null===(n=e.data)||void 0===n||null===(l=n.errors)||void 0===l||null===(o=l.name)||void 0===o?void 0:o.join("; "),components:null===e||void 0===e||null===(a=e.data)||void 0===a||null===(i=a.errors)||void 0===i||null===(r=i.components)||void 0===r?void 0:r.join("; ")});null!==e&&void 0!==e&&e.data&&Ue(null!==(d=null===e||void 0===e||null===(u=e.data)||void 0===u?void 0:u.message)&&void 0!==d?d:null===e||void 0===e?void 0:e.data);ve(!1)}})}),[I]),ut=(0,i.useCallback)((function(e){ve(!0),(0,ue.zs)(e.id,e.name).subscribe({next:function(){ve(!1),k.h.dispatch((0,m.Xc)({show:!0,message:"You have successfully duplicated component"})),null===L||void 0===L||L(!0),null===I||void 0===I||I(!0)},error:function(e){var t,n,l,o,a,i,r,d,u;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.errors&&De({name:null===e||void 0===e||null===(n=e.data)||void 0===n||null===(l=n.errors)||void 0===l||null===(o=l.name)||void 0===o?void 0:o.join("; "),components:null===e||void 0===e||null===(a=e.data)||void 0===a||null===(i=a.errors)||void 0===i||null===(r=i.components)||void 0===r?void 0:r.join("; ")});null!==e&&void 0!==e&&e.data&&Ue(null!==(d=null===e||void 0===e||null===(u=e.data)||void 0===u?void 0:u.message)&&void 0!==d?d:null===e||void 0===e?void 0:e.data);ve(!1)}})}),[I]),st=(0,i.useCallback)((function(){var e,t,n=U.validation,a=n.name,i=n.fields;if(a||(null===i||void 0===i?void 0:i.length)>0||(null===(e=U.selectedBlueprintComponent.fields)||void 0===e?void 0:e.length)<1){var r,d,u,s,c,m,p,v,f="";if((null===(r=U.selectedBlueprintComponent.fields)||void 0===r?void 0:r.length)<1&&(f="Component must have at least one field"),(null===i||void 0===i?void 0:i.length)>0&&(f="Check options of red fields"),null!==U&&void 0!==U&&null!==(d=U.selectedBlueprintComponent)&&void 0!==d&&null!==(u=d.fields)&&void 0!==u&&u.some((function(e){var t,n;return 0==(null===e||void 0===e||null===(t=e.options)||void 0===t||null===(n=t.list)||void 0===n?void 0:n.length)}))&&(f="Element's option list must have at least one entry"),null!==U&&void 0!==U&&null!==(s=U.selectedBlueprintComponent)&&void 0!==s&&null!==(c=s.fields)&&void 0!==c&&c.some((function(e){var t,n;return 0==(null===e||void 0===e||null===(t=e.options)||void 0===t||null===(n=t.type)||void 0===n?void 0:n.length)}))&&(f="Element's option type is mandatory"),null!==U&&void 0!==U&&null!==(m=U.selectedBlueprintComponent)&&void 0!==m&&null!==(p=m.fields)&&void 0!==p&&p.some((function(e){var t;return 0==(null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.length)}))&&(f="Name is mandatory for each element"),De({name:a?"Add a component name":"",fields:f}),(null===(v=f)||void 0===v?void 0:v.length)>0){var y,g,h=document.querySelectorAll('[app-field-row-has-error="error"]');if(h)if((null===h||void 0===h?void 0:h.length)>0)null===(y=(0,o.Z)(h))||void 0===y||null===(g=y.reverse()[(null===h||void 0===h?void 0:h.length)-1])||void 0===g||g.scrollIntoView({block:"start",behavior:"smooth"})}(null===i||void 0===i?void 0:i.length)>0&&Re(!0)}else{ve(!0),it();var C={components:U.selectedBlueprintComponent.components,fields:U.selectedBlueprintComponent.fields.map((function(e){var t;return(null===(t=e.id)||void 0===t?void 0:t.length)>12?(0,l.Z)({},e):ae.Z("id")(e)})),name:U.selectedBlueprintComponent.name};(null===(t=U.selectedBlueprintComponent.id)||void 0===t?void 0:t.length)>0?rt((0,l.Z)((0,l.Z)({},C),{},{id:U.selectedBlueprintComponent.id})):dt(C)}}),[U.selectedBlueprintComponent.components,U.selectedBlueprintComponent.fields,U.selectedBlueprintComponent.id,U.selectedBlueprintComponent.name,U.validation,dt,rt]),ct=(0,i.useCallback)((function(){var e;(null===(e=U.selectedBlueprintComponent.id)||void 0===e?void 0:e.length)>0&&ut({name:U.selectedBlueprintComponent.name,id:U.selectedBlueprintComponent.id})}),[U.selectedBlueprintComponent.components,U.selectedBlueprintComponent.fields,U.selectedBlueprintComponent.id,U.selectedBlueprintComponent.name,U.validation,dt,rt]),mt=function(e){K({type:u.qY.setSelectedBlueprintComponentName,value:e})};return Ct.createElement(Ct.Fragment,null,Ct.createElement(f.U7,{id:"edit-component-modal",blured:!0,scrollable:!1,isOpen:x,shadowedContainerStyle:{minWidth:"500px",width:T.tq?"100%":"38%"}},Ct.createElement("div",{className:ce},Ct.createElement("div",{className:me},Ct.createElement("p",null,1==(null===U||void 0===U||null===(t=U.selectedBlueprintComponent)||void 0===t?void 0:t.readonly)?"Template Component":Ye?"New Component":"Edit Component")),Ct.createElement("p",{className:we},"Note: You can only use a component one step at a time in a workflow"),Ct.createElement(We,null,Ye&&Ct.createElement("div",null,Ct.createElement(f.Lb,{title:"Name"}),Ct.createElement("input",{type:"text",name:"element-name",value:null===(n=U.selectedBlueprintComponent)||void 0===n?void 0:n.name,onChange:function(e){mt(e.target.value)},onClick:function(){},className:Ze})),$e&&Ct.createElement("div",null,Ct.createElement(f.Lb,{title:"Name"}),Ct.createElement("input",{type:"text",name:"element-name",value:null===(r=U.selectedBlueprintComponent)||void 0===r?void 0:r.name,onChange:function(e){mt(e.target.value)},onClick:function(){},className:Ze})),!$e&&Ct.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",maxHeight:"100%",border:"0px solid var(--app-color-gray-lighter)"}},Ct.createElement(f.Lb,{title:j?"Name":"Select Component to Edit"}),Ct.createElement("div",{className:pe},Ct.createElement(se.yV,{placeholder:null!==(d=U.selectedBlueprintComponent)&&void 0!==d&&d.name&&!Ye?null===(s=U.selectedBlueprintComponent)||void 0===s?void 0:s.name:"Or selelct a Component to edit...",items:j?[]:B?(0,o.Z)(ie.Z([re.Z(de.Z("name"))])(O).map((function(e){return{label:"".concat(null===e||void 0===e?void 0:e.name),value:null===e||void 0===e?void 0:e.id,type:"".concat(!0===e.readonly?"Templates":(0,v.m)(null===e||void 0===e?void 0:e.name))}}))):[],initialSelectedValues:[],groupedBy:"type",groupname:"type",inputStyle:{blank:!0,cursor:"pointer"},className:Ce,inputClassName:Se,molclassname:be,moliclassname:Ee,onChange:function(e){1==e.length&&(K({type:u.qY.setSelectedBlueprintComponent,value:O.find((function(t){return t.id===e[0].value}))}),Ge(!1))}},!j&&Ct.createElement(V.G,{className:"fa-icon",icon:z.ptq,style:{marginRight:"20px",color:"gray"}})))),Ct.createElement("br",null),!$e&&Ct.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",maxHeight:"100%",border:"0px solid var(--app-color-gray-lighter)"}},Ct.createElement(f.Lb,{title:"Fields Selection"}),Ct.createElement("div",{className:pe},Ct.createElement(se.yV,{placeholder:"Click and select field to add ...",items:B?[].concat((0,o.Z)(ie.Z([re.Z(de.Z("name"))])(B.filter((function(e){var t,n;return!(null!==A&&void 0!==A&&null!==(t=A.misc_info)&&void 0!==t&&null!==(n=t.blueprints)&&void 0!==n&&n.includes(null===e||void 0===e?void 0:e.name))&&(0==e.io_type||1==e.io_type)}))).map((function(e){return{label:e.name,value:e.id,type:0==e.io_type?"Output":"Input"}}))),(0,o.Z)(null!==A&&void 0!==A&&null!==(c=A.misc_info)&&void 0!==c&&c.templates?A.misc_info.templates.map((function(e){return{label:e,value:e,type:"Templates"}})):[])):[],initialSelectedValues:[],groupedBy:"type",groupname:"type",inputStyle:{blank:!0,cursor:"pointer"},className:Ce,inputClassName:Se,molclassname:be,moliclassname:Ee,onChange:function(e){if(e.length>0){var t=[e[0]];t=function(e,t,n){var l,o,a,i,r,d;return"Battery Order Template"===e[0].value?null===t||void 0===t||null===(l=t.misc_info)||void 0===l?void 0:l.templatesData.find((function(e){return"Battery Order Template"===e.name})).config.map((function(e){return{value:n.find((function(t){return t.name===e.value})).id,label:e.label,mapToItem:null===e||void 0===e?void 0:e.mapToItem}})):"Battery Template"===e[0].value?null===t||void 0===t||null===(o=t.misc_info)||void 0===o?void 0:o.templatesData.find((function(e){return"Battery Template"===e.name})).config.map((function(e){return{value:n.find((function(t){return t.name===e.value})).id,label:e.label,mapToItem:null===e||void 0===e?void 0:e.mapToItem}})):null!==(a=null===t||void 0===t||null===(i=t.misc_info)||void 0===i||null===(r=i.templatesData.find((function(t){return t.name===e[0].value})))||void 0===r||null===(d=r.config)||void 0===d?void 0:d.map((function(e){return{value:n.find((function(t){return t.name===e.value})).id,label:e.label,mapToItem:null===e||void 0===e?void 0:e.mapToItem}})))&&void 0!==a?a:[]}(e,A,B),0==t.length&&(ot(""),t=[e[0]]),t.map((function(e){var t,n,o,a,i,r,d,s,c,m,p,f,y,g,h,C,S,b,E,_,Z,w,N,x,L,I,M,O,k,T,P,F,D,A,W,V,z,R,j,q=B.find((function(t){return t.id===e.value})),H={field_type:(0,l.Z)({},q)};("number"===(null===q||void 0===q||null===(t=q.name)||void 0===t?void 0:t.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{type:"numeric",display:"text"}}),"phone"===(null===q||void 0===q||null===(n=q.name)||void 0===n?void 0:n.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{country_prefix:"+44",country_code:"gb",country_name:"United Kingdom"}}),"currency"===(null===q||void 0===q||null===(o=q.name)||void 0===o?void 0:o.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{currency_type:"British Pound Sterling",currency_value:"GBP",symbol:"\xa3"}}),"action button"===(null===q||void 0===q||null===(a=q.name)||void 0===a?void 0:a.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{action:"creator"}}),"profile"===(null===q||void 0===q||null===(i=q.name)||void 0===i?void 0:i.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{type:"user"}}),"upload"===(null===q||void 0===q||null===(r=q.name)||void 0===r?void 0:r.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{accepted_mimes:v.cH.map((function(e){var t;return null===(t=e.value)||void 0===t?void 0:t.replaceAll(".","")})).join(","),max_file_size:51200}}),"people"===(null===q||void 0===q||null===(d=q.name)||void 0===d?void 0:d.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{position_id:[],type:"single"}}),"date"===(null===q||void 0===q||null===(s=q.name)||void 0===s?void 0:s.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{type:"single"}}),"dropdown"===(null===q||void 0===q||null===(c=q.name)||void 0===c?void 0:c.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{list:[],type:"single"}}),"payments"===(null===q||void 0===q||null===(m=q.name)||void 0===m?void 0:m.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{list:["Credit Card","GCash","Cash"]}}),"pin"===(null===q||void 0===q||null===(p=q.name)||void 0===p?void 0:p.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{pintype:"single",realtime:!0,destination:!1,source:!0}}),"record"===(null===q||void 0===q||null===(f=q.name)||void 0===f?void 0:f.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{component_id:[],type:"single",selection:"",filters:[]}}),"status"===(null===q||void 0===q||null===(y=q.name)||void 0===y?void 0:y.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{list:[]}}),"list filter"===(null===q||void 0===q||null===(g=q.name)||void 0===g?void 0:g.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{field:"",value:""}}),"id"===(null===q||void 0===q||null===(h=q.name)||void 0===h?void 0:h.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{id:"",value:0}}),"list"===(null===q||void 0===q||null===(C=q.name)||void 0===C?void 0:C.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{module_id:"",list:[]}}),"module list"===(null===q||void 0===q||null===(S=q.name)||void 0===S?void 0:S.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{module_id:"",list:[]}}),"step list"===(null===q||void 0===q||null===(b=q.name)||void 0===b?void 0:b.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{component_id:"",list:[]}}),"component list"===(null===q||void 0===q||null===(E=q.name)||void 0===E?void 0:E.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{component_id:"",list:[]}}),"transaction list"===(null===q||void 0===q||null===(_=q.name)||void 0===_?void 0:_.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{map:{}}}),"lookup"===(null===q||void 0===q||null===(Z=q.name)||void 0===Z?void 0:Z.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{source_id:"",target_id:"",common_field:"",list:[],selection:""}}),"rewards"===(null===q||void 0===q||null===(w=q.name)||void 0===w?void 0:w.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{status:"Closed",points:1,equiv:1,creator:!0}}),"calendar"===(null===q||void 0===q||null===(N=q.name)||void 0===N?void 0:N.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{limit:!0,creator:!0,priority:!0,span:!1}}),"connectors"===(null===q||void 0===q||null===(x=q.name)||void 0===x?void 0:x.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{component1_id:"",component2_id:"",common_field_12:"",component3_id:"",common_field_23:"",outputs:""}}),"map"===(null===q||void 0===q||null===(L=q.name)||void 0===L?void 0:L.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{maptype:"region"}}),"formula"===(null===q||void 0===q||null===(I=q.name)||void 0===I?void 0:I.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{operator:"",list:[],display:"text"}}),"item formula"===(null===q||void 0===q||null===(M=q.name)||void 0===M?void 0:M.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{operator:"",list:[],display:"text"}}),"emails"===(null===q||void 0===q||null===(O=q.name)||void 0===O?void 0:O.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{subject:"",message:""}}),"product"===(null===q||void 0===q||null===(k=q.name)||void 0===k?void 0:k.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{list:[]}}),"product lookup"===(null===q||void 0===q||null===(T=q.name)||void 0===T?void 0:T.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{selection:"",component_id:"",list:[]}}),"filters"===(null===q||void 0===q||null===(P=q.name)||void 0===P?void 0:P.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{component_id:"",list:[],filters:[]}}),"info"===(null===q||void 0===q||null===(F=q.name)||void 0===F?void 0:F.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{component_id:"",list:[]}}),"chart"===(null===q||void 0===q||null===(D=q.name)||void 0===D?void 0:D.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{component_id:"",list:[]}}),"value"===(null===q||void 0===q||null===(A=q.name)||void 0===A?void 0:A.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{module_id:"",component_id:"",value:""}}),"notes"===(null===q||void 0===q||null===(W=q.name)||void 0===W?void 0:W.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{value:""}}),"url"===(null===q||void 0===q||null===(V=q.name)||void 0===V?void 0:V.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{type:"image"}}),"googleai assistant"===(null===q||void 0===q||null===(z=q.name)||void 0===z?void 0:z.toLowerCase())&&(H={field_type:(0,l.Z)({},q),options:{description:"",fixed:!0,current:!1}}),null!==e&&void 0!==e&&e.mapToItem&&(console.log(e.mapToItem),H.options=(0,l.Z)((0,l.Z)({},H.options),{},{mapToItem:e.mapToItem})),(null===U||void 0===U||null===(R=U.selectedBlueprintComponent)||void 0===R?void 0:R.fields.length)<12)?(it(),K({type:u.qY.setSelectedBlueprintComponentNewField,value:(0,l.Z)((0,l.Z)({},H),{},{label:null!==(j=e.label)&&void 0!==j?j:""})})):Ue("You can only add a maximum of 12 fields per component. ")}))}}},Ct.createElement(V.G,{className:"fa-icon",icon:z.ptq,style:{marginRight:"20px",color:"gray"}}))),Ct.createElement("br",null),Ct.createElement("div",{className:_e},Ye?"Selected Fields:":"Available Fields:"),Ct.createElement("div",{style:{display:"flex",flexDirection:"column"}},null===U||void 0===U||null===(p=U.selectedBlueprintComponent)||void 0===p||null===(y=p.fields)||void 0===y?void 0:y.map((function(e,t){var n,o,a,i,r,d,s,c;return Ct.createElement(Et,{key:t,id:e.id,name:1===(null===e||void 0===e||null===(n=e.field_type)||void 0===n?void 0:n.io_type)?null!==e&&void 0!==e&&null!==(o=e.options)&&void 0!==o&&o.mapToItem?"".concat(null===e||void 0===e||null===(a=e.field_type)||void 0===a?void 0:a.name," (").concat(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.mapToItem,")"):null===e||void 0===e||null===(r=e.field_type)||void 0===r?void 0:r.name:"Template"===(null===e||void 0===e||null===(d=e.field_type)||void 0===d?void 0:d.name)?null===e||void 0===e||null===(s=e.field_type)||void 0===s?void 0:s.name:"".concat(null===e||void 0===e||null===(c=e.field_type)||void 0===c?void 0:c.name," (Out)"),settingsClicked:function(){var t;K({type:u.qY.setSelectedFieldFromSelectedBlueprintComponent,value:(0,l.Z)((0,l.Z)({},e),{},{index:null===e||void 0===e||null===(t=e.field_type)||void 0===t?void 0:t.index})}),te(!0)},renderError:ze,hasSettingsBtn:!0},Ct.createElement(bt,e))}))),Ct.createElement("p",{className:_e},0==(null===U||void 0===U||null===(g=U.selectedBlueprintComponent)||void 0===g||null===(h=g.fields)||void 0===h?void 0:h.length)?"No fields available. Select and add by clicking above":"You can add a maximum of 12 fields per component."),Ct.createElement("br",null)),(null===He||void 0===He?void 0:He.length)>0&&Ct.createElement(P.Z,{message:He,onClick:function(){return Ue("")}}),(null===lt||void 0===lt?void 0:lt.length)>0&&Ct.createElement(P.Z,{withError:!1,extraClassName:he,message:lt,onClick:function(){return ot("")}})),Ct.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingTop:"10px",width:"100%",overflow:"auto"}},Ct.createElement(f.zx,{loading:oe,title:"Close",clicked:function(){return I()},titleStyle:{fontSize:"14px"},style:{width:"16%",display:$e?"none":""}}),Ct.createElement(f.zx,{disabled:!((null===U||void 0===U||null===(C=U.selectedBlueprintComponent)||void 0===C?void 0:C.fields.length)>0&&null!==(S=U.selectedBlueprintComponent)&&void 0!==S&&S.name),light:!0,title:Ye?"Save":"Update",loading:oe,clicked:st,titleStyle:{fontSize:"14px"},style:{width:"20%",display:1==(null===U||void 0===U||null===(b=U.selectedBlueprintComponent)||void 0===b?void 0:b.readonly)&&"superadmin"!==A.status?"none":(null===U||void 0===U||null===(E=U.selectedBlueprintComponent)||void 0===E?void 0:E.fields.length)>0&&null!==(_=U.selectedBlueprintComponent)&&void 0!==_&&_.name?"":"none"}}),!Ye&&Ct.createElement(f.j3,{permissions:[f.po.blueprints.components.delete]},Ct.createElement(f.zx,{light:!0,title:$e?"Back":"Rename",clicked:function(){return et(!$e)},titleStyle:{fontSize:"14px"},style:{width:"20%",display:1==(null===U||void 0===U||null===(Z=U.selectedBlueprintComponent)||void 0===Z?void 0:Z.readonly)&&"superadmin"!==A.status?"none":""}})),!Ye&&!$e&&Ct.createElement(f.j3,{permissions:[f.po.blueprints.components.delete]},Ct.createElement(f.zx,{light:!0,title:"Copy",clicked:ct,titleStyle:{fontSize:"14px"},style:{width:"22%"}})),!Ye&&!$e&&0==(null===U||void 0===U||null===(w=U.selectedBlueprintComponent)||void 0===w?void 0:w.readonly)&&Ct.createElement(Ct.Fragment,null,Ct.createElement(f.j3,{permissions:[f.po.blueprints.components.delete]},Ct.createElement(f.zx,{light:!0,title:"New",clicked:function(){Ge(!0),K({type:u.qY.resetSelectedBlueprintComponent})},titleStyle:{fontSize:"14px"},style:{width:"16%"}}),0===F.filter((function(e){return e.component_fields.filter((function(e){var t;return e.component_blueprint_id===(null===(t=U.selectedBlueprintComponent)||void 0===t?void 0:t.id)})).length>0})).length&&Ct.createElement(f.zx,{light:!0,title:"Delete",loading:ge,clicked:function(){Ne(!0),(0,ue.bp)(U.selectedBlueprintComponent.id).subscribe({next:function(){k.h.dispatch((0,m.Xc)({show:!0,message:"You have successfully deleted ".concat(U.selectedBlueprintComponent.name),color:"red"})),null===L||void 0===L||L(!0)},complete:function(){Ne(!1),null===I||void 0===I||I(!0)}})},titleStyle:{fontSize:"14px"},style:{width:"20%"}})))))),ee&&Ct.createElement(Fe,{onClose:function(){K({type:u.qY.setSelectedFieldFromSelectedBlueprintComponent,value:null}),Me(!1),Pe(!1),te(!1)},isOpen:ee,modalStyle:{minWidth:"500px",width:T.tq?"100%":"38%"},leftControlAction:function(e){return function(e){Pe(!0),K({type:u.qY.removeSelectedFieldFromSelectedBlueprintComponent,value:{id:e}}),Pe(!1),te(!1)}(e)},leftControlLoading:Te,centralControlAction:function(e){Me(!0),K({type:u.qY.setSelectedBlueprintComponentSpecificField,value:e}),Me(!1),te(!1)},centralControlLoading:Ie,allModules:M,blueprints:O,components:F,companyProcesses:W,products:D,selectedFields:U.selectedBlueprintComponent.fields,readOnly:(null===U||void 0===U||null===(N=U.selectedBlueprintComponent)||void 0===N?void 0:N.readonly)&&"superadmin"!==A.status}),G&&Ct.createElement(f.Ts,{onClick:function(){return J(!1)},url:"https://www.youtube.com/watch?v=xV-bOHvfbPQ"}))})),bt=function(e){var t,n,l=e.id,o=e.value,i=e.field_type,r=k.h.getState().flowReducer.companyData,d=(0,u.aL)(),s=(0,a.Z)(d,2)[1];switch(null===i||void 0===i?void 0:i.data_type){case"file":case"date":return Ct.createElement("input",{type:"input",placeholder:null===i||void 0===i?void 0:i.name,className:ge,value:o,name:null===i||void 0===i?void 0:i.name,onChange:function(e){s({type:u.qY.setSelectedBlueprintComponentSpecificField,value:{id:l,value:e.target.value}})}});case"text":return Ct.createElement("input",{type:null===i||void 0===i?void 0:i.data_type,placeholder:"Input name for "+(null===i||void 0===i?void 0:i.name),className:ge,value:o,name:null===i||void 0===i?void 0:i.name,onChange:function(e){var t=e.target.value;s({type:u.qY.setSelectedBlueprintComponentSpecificField,value:{id:l,value:t}})}});case"output":return Ct.createElement("input",{type:null===i||void 0===i?void 0:i.data_type,placeholder:"Insert value for "+(null===i||void 0===i||null===(t=i.name)||void 0===t?void 0:t.toLowerCase())+" element...",className:ge,value:o,name:null===i||void 0===i?void 0:i.name,readOnly:"-"!==(null===r||void 0===r?void 0:r.id)&&"Template"===(null===i||void 0===i?void 0:i.name),onChange:function(e){var t=e.target.value;s({type:u.qY.setSelectedBlueprintComponentSpecificField,value:{id:l,value:t}})}});default:return Ct.createElement("input",{type:null===i||void 0===i?void 0:i.data_type,placeholder:"Insert value for "+(null===i||void 0===i||null===(n=i.name)||void 0===n?void 0:n.toLowerCase())+" element...",className:ge,value:o,name:null===i||void 0===i?void 0:i.name,onChange:function(e){var t=e.target.value;s({type:u.qY.setSelectedBlueprintComponentSpecificField,value:{id:l,value:t}})}})}},Et=function(e){var t=e.id,n=e.renderError,l=(e.fieldIcon,e.children),o=e.hasSettingsBtn,r=e.settingsClicked,d=e.name,s=(0,u.aL)(),c=(0,a.Z)(s,1)[0],m=(0,i.useState)(!1),p=(0,a.Z)(m,2),v=p[0],f=p[1],y=(0,i.useCallback)((function(){var e;return f(n&&(null===(e=c.validation.fields)||void 0===e?void 0:e.some((function(e){return(null===e||void 0===e?void 0:e.toString())===(null===t||void 0===t?void 0:t.toString())}))))}),[n,c.validation.fields,t]);return(0,i.useEffect)((function(){y()}),[n,t,c.validation.fields,y]),Ct.createElement("div",{className:pe,"app-field-row-has-error":v?"error":""},Ct.createElement("div",{className:ve},l),Ct.createElement("p",{className:ye},d),o&&Ct.createElement("button",{className:fe,onClick:function(){return r()}},Ct.createElement(V.G,{icon:z.gr5,style:{width:"20px",height:"20px",color:"gray"}})))},_t=(0,r.$j)((function(e){var t=e.flowReducer,n=t.blueprints,l=t.allStatutes,o=t.selectedBlueprintComponent,a=t.allModules,i=t.componentTypes,r=t.components,d=t.products,u=t.companyData,s=t.companyProcesses,c=e.modalsReducer;return{blueprints:n,allStatutes:l,selectedBlueprintComponent:o,allModules:a,componentTypes:i,components:r,products:d,companyData:u,companyProcesses:s,onBoardingModalsVisibility:c.onBoardingModalsVisibility,isOnboarding:c.isOnboarding}}),(function(e){return{onSetSelectedProStep:function(t){return e((0,m.Sc)(t))}}}))(St),Zt=n(22590),wt=n(74165),Nt=n(15861),xt=n(4942),Lt=n(28550),It=n(88846),Mt=n(62169),Ot=n(84634),kt=n(9204),Tt=n(30401),Pt=n(62498),Bt=n(51791),Ft=n(97606),Dt=n(8284),At=n(12653),Wt=n(80121),Vt=n(31510),zt=n(97293),Rt=n(45987),jt=n(87462),qt=!1,Ht="data-dev-focus",Ut='a[href], button, input:not([type="hidden"]), [tabindex="0"], select, textarea',Kt=!1;if("undefined"!==typeof window&&"undefined"!==typeof document)try{var Xt=document.createElement("div");Xt.addEventListener("focus",(function(e){e.preventDefault(),e.stopPropagation()}),!0),Xt.focus(Object.defineProperty({},"preventScroll",{get:function(){Kt=!0}}))}catch(_l){}var Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.activeElement;try{return e.matches(":focus-visible")}catch(t){}return!1},Gt=function(e){var t=e.target&&"getAttribute"in e.target&&e.target;t&&null!=t.getAttribute(Ht)&&requestAnimationFrame((function(){t.removeAttribute(Ht)}))},Jt=function(){qt||(qt=!0,document.addEventListener("blur",Gt,!0))},Qt="StepComponents_renderComponent__+z3XW",$t="StepComponents_wrapper__3JMC9",en="StepComponents_mainContainer__zd1cq",tn="StepComponents_firstRow__XX+Ep",nn="StepComponents_pLabel__NLkqd",ln="StepComponents_icoContainer__RDLt2",on="StepComponents_renderFieldOfComponent__YckNH",an="StepComponents_inheritedFieldNameContainer__OP5us",rn="StepComponents_inheritedFieldName__Z3BI3",dn="StepComponents_inheritedFieldMandatoryMark__3Oe+t",un="StepComponents_optionsContainer__yY3PK",sn="StepComponents_mandatoryContainer__CFmJm",cn="StepComponents_mandatoryIconContainer__CHSuP",mn="StepComponents_mandatorySVG__SrpT7",pn="StepComponents_notMandatory__fegWP",vn="StepComponents_mandatoryText__iZ04J",fn="StepComponents_typeText__+A6OQ",yn="StepComponents_visibilityContainer__er+Sk",gn="StepComponents_renderComponents__PxNBA",hn="StepComponents_noContentWrapperNewComponents__dQHs8",Cn="StepComponents_noContentWrapperContainerNewComponents__C+epL",Sn="StepComponents_noContentParagraphNewComponents__9soSj",bn="StepComponents_firstRowControls__QK4Eb",En="StepComponents_renderSearchComponentsHost__LM0BX",_n="StepComponents_showSearchComponentContainer__O7l8b",Zn="StepComponents_showSearchComponentSelectWithSearchContainer__S0y1p",wn="StepComponents_showSearchComponentSelectWithSearchAddComponentButton__5gcm8",Nn="StepComponents_errorContainer__gR5Ss",xn="StepComponents_peoplePositionsSelectBorderless__iOTkZ",Ln="StepComponents_peoplePositionsSelect__kisVR",In="StepComponents_peoplePositionsSelectInput__PuuvP",Mn="StepComponents_peoplePositionsSelectMenuOverlay__mivFp",On="StepComponents_peoplePositionsSelectMenuOverlayItem__mpsra",kn="StepComponents_listContainer__bnutj",Tn="StepComponents_accordionContainer__h-Kjc",Pn=n(60179),Bn=n(71302),Fn=n(30490),Dn=n(67861),An=n(66918),Wn=(0,i.memo)((function(e){e.selectedProcess;var t=e.blueprints,n=e.companyPositionsArray,l=e.showAddButton,r=void 0===l||l,u=e.onEditChange,s=void 0===u?function(){}:u,m=(0,c._M)(),p=(0,a.Z)(m,2),y=p[0],g=p[1],h=(0,i.useState)([]),C=(0,a.Z)(h,2),S=C[0],b=C[1],E=(0,i.useState)(!1),_=(0,a.Z)(E,2),Z=_[0],w=_[1],N=(0,i.useCallback)((function(){var e,t,n,l;if(!(null!==y&&void 0!==y&&null!==(e=y.selectedStep)&&void 0!==e&&null!==(t=e.component_blueprints)&&void 0!==t&&t.length)>0)return b([]);var a=An.compose(An.map(An.assoc("hasStatus",(null===(n=An.pathOr("",["status","id"]))||void 0===n?void 0:n.length)>0)),An.map(An.assoc("hasTitle",(null===(l=An.flip(An.prop("title")))||void 0===l?void 0:l.length)>0)))(y.selectedStep.component_blueprints);b((0,o.Z)(a.map((function(e){return{value:e.id,uuid:e._uuid,title:e.title,component:e}}))))}),[y.selectedStep.component_blueprints]);(0,i.useEffect)((function(){N()}),[y.selectedStep.component_blueprints,N]);var x=(0,i.useCallback)((function(e){(0,ue.vG)(e.value).pipe((0,d.P)()).subscribe({next:function(e){var t={id:e.id,is_active:!0,is_inherited:!1,name:e.name,selected_fields:e.fields.map((function(e){var t,n,l,o,a;return{data_type:null===e||void 0===e||null===(t=e.field_type)||void 0===t?void 0:t.data_type,data_type_name:null===e||void 0===e||null===(n=e.field_type)||void 0===n?void 0:n.name,field_name:null!==(l=null===e||void 0===e?void 0:e.value)&&void 0!==l?l:null===e||void 0===e||null===(o=e.field_type)||void 0===o?void 0:o.name,id:e.id,index:e.index,mandatory:!1,options:null!==(a=null===e||void 0===e?void 0:e.options)&&void 0!==a?a:[],process_step_blueprint_field_id:e.id}})),status:{id:"",name:""},title:"",hasStatus:!1,hasTitle:!1,_uuid:(0,v.mR)(),new:!0};g({type:c.Cb.addNewComponentAtStep,value:t}),w((function(e){return!e}))},error:function(e){}})}),[g]);return Dn.createElement("div",{className:gn},(null===S||void 0===S?void 0:S.length)>0&&(null===S||void 0===S?void 0:S.map((function(e,t){var l;return Dn.createElement(Vn,{onEditChange:function(t){s(t,e.component.id)},key:t+e.uuid,value:e.value,compUUID:e.uuid,title:(null===(l=e.title)||void 0===l?void 0:l.length)>0?e.title:"Select title...",companyPositionsArray:n})}))),Z?Dn.createElement(Rn,{onComponentSelect:x,blueprint_components:An.sortWith([An.ascend(An.prop("name"))])(t.filter((function(e){return An.not(An.includes(e.id,An.pipe(An.pluck("component_blueprints"),An.flatten,An.pipe(An.pluck("id")))(y.steps)))})).filter((function(e){return An.not(An.includes(e.id,An.pipe(An.pluck("value"))(S)))})))}):Dn.createElement("div",{className:hn,style:{display:0==r?"none":""}},Dn.createElement("div",{className:Cn},t.length>0?Dn.createElement(f.zx,{style:{height:"30px"},title:"Attach Component",clicked:function(){return w((function(e){return!e}))}}):Dn.createElement("p",{className:Sn},"There are no available components. Create one first!"))))})),Vn=(0,i.memo)((function(e){var t,n,o,r,u,s,m,p,v,y,g,h,C,S,b,E,_,Z,w,N,x,L,I,M,O,k,T,P,B,F,D,A,W,R,j,q,H,U,K,X,Y,G,J,Q,$,ee,te,ne,le=e.value,oe=e.title,ae=e.compUUID,ie=e.companyPositionsArray,re=e.show,de=void 0!==re&&re,ce=e.onEditChange,me=void 0===ce?function(){}:ce,pe=(0,i.useRef)(null),ve=(0,c._M)(),fe=(0,a.Z)(ve,2),ye=fe[0],ge=fe[1],he=(0,i.useState)(An.find(An.allPass([An.propEq("_uuid",ae)]))(null!==(t=null===ye||void 0===ye||null===(n=ye.selectedStep)||void 0===n?void 0:n.component_blueprints)&&void 0!==t?t:[])),Ce=(0,a.Z)(he,2),Se=Ce[0],be=Ce[1],Ee=(0,i.useState)(""),_e=(0,a.Z)(Ee,2),Ze=_e[0],we=_e[1],Ne=(0,i.useState)(!1),xe=(0,a.Z)(Ne,2)[1],Le=(0,i.useState)(null!==(o=(null===Se||void 0===Se||null===(r=Se.options)||void 0===r||null===(u=r.showOnly)||void 0===u?void 0:u.length)>0)&&void 0!==o&&o),Ie=(0,a.Z)(Le,2),Me=Ie[0],ke=Ie[1],Te=(0,i.useState)(!1),Pe=(0,a.Z)(Te,2),Be=Pe[0],Fe=Pe[1],De=(0,i.useState)(!1),Ae=(0,a.Z)(De,2),We=Ae[0],Ve=Ae[1],ze=(0,i.useState)(null!==(s=null===Se||void 0===Se?void 0:Se.new)&&void 0!==s?s:de),Re=(0,a.Z)(ze,2),je=Re[0],qe=Re[1],He=(0,i.useState)((function(){var e;return 0===(null===Se||void 0===Se||null===(e=Se.selected_fields)||void 0===e?void 0:e.length)?[]:An.sortWith([An.ascend(An.prop("index"))])(Se.selected_fields).map((function(e,t){var n;return(0,l.Z)({},{id:"row-".concat(e.id),component:Dn.createElement(zn,{key:"field-".concat(null===e||void 0===e?void 0:e.id).concat(t),fieldId:null===e||void 0===e?void 0:e.id,compId:le,compUUID:ae,componentTitle:null===Se||void 0===Se?void 0:Se.title,isKeyClicked:function(){be((0,l.Z)((0,l.Z)({},Se),{},{options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{key:e.field_name})})),ge({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ae,compBluePrintId:Se.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{key:e.field_name})}})},isKey:(null===Se||void 0===Se||null===(n=Se.options)||void 0===n?void 0:n.key)===e.field_name,component:Se})})}))})),Ue=(0,a.Z)(He,2),Ke=Ue[0],Xe=Ue[1];(0,i.useEffect)((function(){var e,t,n=An.find(An.allPass([An.propEq("_uuid",ae)]))(null!==(e=null===ye||void 0===ye||null===(t=ye.selectedStep)||void 0===t?void 0:t.component_blueprints)&&void 0!==e?e:[]);be(n)}),[null===ye||void 0===ye||null===(m=ye.selectedStep)||void 0===m?void 0:m.component_blueprints,le]);var Ye=(0,i.useCallback)((function(){Fe(!0),(0,ue.vG)(Se.id).pipe((0,d.P)()).subscribe({next:function(e){Fe(!1);var t=e.fields.map((function(e){var t,n,l,o,a,i=Se.selected_fields.find((function(t){return t.id===e.id}));return i?(i.options=null===e||void 0===e?void 0:e.options,i):(we({title:"Change in fields found, please save this step"}),qe(!0),{data_type:null===e||void 0===e||null===(t=e.field_type)||void 0===t?void 0:t.data_type,data_type_name:null===e||void 0===e||null===(n=e.field_type)||void 0===n?void 0:n.name,field_name:null!==(l=null===e||void 0===e?void 0:e.value)&&void 0!==l?l:null===e||void 0===e||null===(o=e.field_type)||void 0===o?void 0:o.name,id:e.id,index:e.index,mandatory:!1,options:null!==(a=null===e||void 0===e?void 0:e.options)&&void 0!==a?a:[],process_step_blueprint_field_id:e.id})}));t.length<Se.selected_fields.length&&(we({title:"A field was removed, please save this step"}),qe(!0)),Se.selected_fields=t,ge({type:c.Cb.updateComponentAtStep,value:Se}),Xe((function(){var e;return 0===(null===Se||void 0===Se||null===(e=Se.selected_fields)||void 0===e?void 0:e.length)?[]:An.sortWith([An.ascend(An.prop("index"))])(Se.selected_fields).map((function(e,t){var n;return(0,l.Z)({},{id:"row-".concat(e.id),component:Dn.createElement(zn,{key:"field-".concat(null===e||void 0===e?void 0:e.id).concat(t),fieldId:null===e||void 0===e?void 0:e.id,compId:le,compUUID:ae,componentTitle:null===Se||void 0===Se?void 0:Se.title,isKeyClicked:function(){be((0,l.Z)((0,l.Z)({},Se),{},{options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{key:e.field_name})})),ge({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ae,compBluePrintId:Se.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{key:e.field_name})}})},isKey:(null===Se||void 0===Se||null===(n=Se.options)||void 0===n?void 0:n.key)===e.field_name,component:Se})})}))})),be((0,l.Z)((0,l.Z)({},Se),{},{selected_fields:t}))},error:function(e){Fe(!1)}})}),[ge]),Ge=(0,i.useCallback)((function(){ge({type:c.Cb.removeComponentFromStep,value:{uuid:ae}})}),[ae]);(0,i.useEffect)((function(){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e||n&&!Kt||(t&&(!0===t&&(t=Ut),e=e.querySelector(t)),null!=e&&requestAnimationFrame((function(){e&&(-1==e.tabIndex&&null==e.getAttribute("tabindex")&&(e.tabIndex=-1),Yt()||(e.setAttribute(Ht,""),qt||Jt()),e.focus({preventScroll:!0}))})))}(null===pe||void 0===pe?void 0:pe.current,!0)}),[null===Se||void 0===Se?void 0:Se.title]);var Je=(0,i.useMemo)((function(){return[{Header:"Component",columns:[{Header:"Component",accessor:"component"}]}]}),[]);return Dn.createElement(f.sm,{key:le+oe,className:Qt,"comp-in-edit-mode":je?"true":null,"app-variant":(null===(p=Ze.title)||void 0===p?void 0:p.length)>0||(null===(v=Ze.status)||void 0===v?void 0:v.length)>0?"error":"normal",onClickOutside:function(){xe(!0)}},Dn.createElement(f.gc,{title:"".concat(1==(null===Se||void 0===Se||null===(y=Se.options)||void 0===y?void 0:y.allowMultipleInputs)?"Transaction":!0===(null===Se||void 0===Se||null===(g=Se.options)||void 0===g?void 0:g.asReport)?"Report":!0===(null===Se||void 0===Se||null===(h=Se.options)||void 0===h?void 0:h.asDashboard)?"Dashboard":!0===(null===Se||void 0===Se||null===(C=Se.options)||void 0===C?void 0:C.asModuleList)?"Main List":"Component",":")}),Dn.createElement("div",{className:$t},Dn.createElement("div",{className:en},Dn.createElement("div",{className:tn},Dn.createElement("p",{className:nn,onClick:function(){return me(Se.id)}},null===Se||void 0===Se?void 0:Se.name),Dn.createElement("div",{className:bn},je&&Dn.createElement(f.zx,{light:!0,icon:Dn.createElement(V.G,{icon:z.Mdf,style:{width:"20px",height:"30px"}}),style:{height:"30px"},clicked:function(){return Ve(!0)}}),je&&Dn.createElement(f.zx,{loadingIn:Be,light:!0,icon:Dn.createElement("img",{src:Oe.Fdh}),style:{height:"30px"},clicked:function(){return Ye()}}),je&&Dn.createElement(f.zx,{light:!0,style:{height:"30px"},title:"Remove",clicked:function(){return Ge()}}),Dn.createElement("div",{className:ln,onClick:function(){qe((function(e){return!e}))}},Dn.createElement(Oe.Kn6,{style:{transform:je?"rotate(180deg)":"rotate(0deg)"}})))),(null===(S=Ze.title)||void 0===S?void 0:S.length)>0&&Dn.createElement("span",{className:Nn},Ze.title))),We&&Dn.createElement(f.U7,{hasCloseIcon:!0,onClose:function(){return Ve(!1)},scrollable:!0,shadowedContainerStyle:{minWidth:"500px",width:"100%"},isOpen:We,blured:!0},Dn.createElement("div",{style:{backgroundColor:"rgb(246, 244, 236)",width:"inherit"}},Dn.createElement("div",{className:kn,style:{display:"flex",margin:"150px 50px 50px 50px"}},Dn.createElement("div",{className:Tn,style:{margin:"30px 0 0 0"}},Dn.createElement(Fn.g,{component:Se,selectedComponent:{id:"",name:""},isDraft:!0,setTaskProcessContext:function(){},processTaskContext:{components:[],newStepComponents:[]}}))))),je&&Dn.createElement("div",{style:{flex:1,width:"100%"}},Dn.createElement(f.jL,{ref:pe,ungrouped:!0,title:"Drag to arrange Component Fields:",columned:!0,withAckButton:!1},Dn.createElement("br",null),Dn.createElement(Pn.z0,null,Dn.createElement(Pn.iA,{columns:Je,data:Ke,onhandleDragEnd:function(e){e.map((function(e,t){ge({type:c.Cb.updateComponentFieldIndexKeyValue,value:{compBluePrintUUID:e.component.props.compUUID,compBluePrintId:e.component.props.compId,fieldId:e.component.props.fieldId,index:t}})})),Xe(e)}}))),Dn.createElement(f.pd,{id:"moduleList",title:"Use as Transactions List",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ye&&void 0!==ye&&null!==(b=ye.selectedStep)&&void 0!==b&&null!==(E=b.options)&&void 0!==E&&E.templateName||1!=(null===ye||void 0===ye||null===(_=ye.selectedStep)||void 0===_?void 0:_.rank)||1==(null===Se||void 0===Se||null===(Z=Se.options)||void 0===Z?void 0:Z.asDashboard)||1==(null===Se||void 0===Se||null===(w=Se.options)||void 0===w?void 0:w.asReport)?"none":""},value:null!==(N=null===Se||void 0===Se||null===(x=Se.options)||void 0===x?void 0:x.asModuleList)&&void 0!==N&&N,toggleSelected:function(e){be((0,l.Z)((0,l.Z)({},Se),{},{options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{asReport:!1,asDashboard:!1,asModuleList:e})})),ge({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ae,compBluePrintId:Se.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{asReport:!1,asDashboard:!1,asModuleList:e})}})}}),Dn.createElement(f.pd,{id:"asReport",title:"Use as a report?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ye&&void 0!==ye&&null!==(L=ye.selectedStep)&&void 0!==L&&null!==(I=L.options)&&void 0!==I&&I.templateName||1!=(null===ye||void 0===ye||null===(M=ye.selectedStep)||void 0===M?void 0:M.rank)||1==(null===Se||void 0===Se||null===(O=Se.options)||void 0===O?void 0:O.asModuleList)||1==(null===Se||void 0===Se||null===(k=Se.options)||void 0===k?void 0:k.asDashboard)?"none":""},value:null!==(T=null===Se||void 0===Se||null===(P=Se.options)||void 0===P?void 0:P.asReport)&&void 0!==T&&T,toggleSelected:function(e){be((0,l.Z)((0,l.Z)({},Se),{},{options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{asModuleList:!1,asDashboard:!1,asReport:e})})),ge({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ae,compBluePrintId:Se.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{asModuleList:!1,asDashboard:!1,asReport:e})}})}}),Dn.createElement(f.pd,{id:"asDashboard",title:"View as dashboard?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ye&&void 0!==ye&&null!==(B=ye.selectedStep)&&void 0!==B&&null!==(F=B.options)&&void 0!==F&&F.templateName||1!=(null===ye||void 0===ye||null===(D=ye.selectedStep)||void 0===D?void 0:D.rank)||1==(null===Se||void 0===Se||null===(A=Se.options)||void 0===A?void 0:A.asModuleList)||1==(null===Se||void 0===Se||null===(W=Se.options)||void 0===W?void 0:W.asReport)?"none":""},value:null!==(R=null===Se||void 0===Se||null===(j=Se.options)||void 0===j?void 0:j.asDashboard)&&void 0!==R&&R,toggleSelected:function(e){be((0,l.Z)((0,l.Z)({},Se),{},{options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{asReport:!1,asModuleList:!1,asDashboard:e})})),ge({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ae,compBluePrintId:Se.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{asReport:!1,asModuleList:!1,asDashboard:e})}})}}),Dn.createElement(f.pd,{id:"multipleInputs",title:"Allow multiple inputs?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ye&&void 0!==ye&&null!==(q=ye.selectedStep)&&void 0!==q&&null!==(H=q.options)&&void 0!==H&&H.templateName||1==(null===Se||void 0===Se||null===(U=Se.options)||void 0===U?void 0:U.asModuleList)||1==(null===Se||void 0===Se||null===(K=Se.options)||void 0===K?void 0:K.asReport)||1==(null===Se||void 0===Se||null===(X=Se.options)||void 0===X?void 0:X.asDashboard)?"none":Se.selected_fields.filter((function(e){var t;return null===(t=e.options)||void 0===t?void 0:t.mapToItem})).length>0&&Se.selected_fields.find((function(e){return"Transaction List"===e.data_type_name}))?"":"none"},value:null!==(Y=null===Se||void 0===Se||null===(G=Se.options)||void 0===G?void 0:G.allowMultipleInputs)&&void 0!==Y&&Y,toggleSelected:function(e){be((0,l.Z)((0,l.Z)({},Se),{},{options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{allowMultipleInputs:e})})),ge({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ae,compBluePrintId:Se.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{allowMultipleInputs:e})}})}}),Dn.createElement(f.pd,{id:"showAll",title:"Show component to all?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ye&&void 0!==ye&&null!==(J=ye.selectedStep)&&void 0!==J&&null!==(Q=J.options)&&void 0!==Q&&Q.templateName?"none":""},value:!Me,toggleSelected:function(e){ke(!e)}}),Dn.createElement(f.jL,{style:{display:null!==ye&&void 0!==ye&&null!==($=ye.selectedStep)&&void 0!==$&&null!==(ee=$.options)&&void 0!==ee&&ee.templateName?"none":Me?"":"none"},ref:pe,ungrouped:!0,title:"Only show this component to:",columned:!0,withAckButton:!1},Dn.createElement("br",null),Dn.createElement(se.Cm,{tagEmplacement:"inlined",searchable:!1,items:ie,groupedBy:"department",groupname:"department",triggerType:"chevron",initialSelectedValues:null===Se||void 0===Se||null===(te=Se.options)||void 0===te||null===(ne=te.showOnly)||void 0===ne?void 0:ne.map((function(e){return ie.find((function(t){return t.value===e}))})),className:Ln,inputClassName:In,molclassname:Mn,moliclassname:On,onChange:function(e){be((0,l.Z)((0,l.Z)({},Se),{},{options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{showOnly:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))})})),ge({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ae,compBluePrintId:Se.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{showOnly:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))})}})}}))))}),(function(e,t){return t.props===e.props})),zn=(0,i.memo)((function(e){var t,n,l,o,r,d,u=e.fieldId,s=e.compId,m=e.compUUID,p=e.componentTitle,v=e.isKeyClicked,f=(e.isKey,e.component,(0,c._M)()),y=(0,a.Z)(f,2),g=y[0],h=y[1],C=(0,i.useState)(!1),S=(0,a.Z)(C,2),b=S[0],E=S[1],_=(0,i.useCallback)((function(){var e,t,n,l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return An.find(An.propEq("_uuid",e))(t)}(m,null!==(e=null===g||void 0===g||null===(t=g.selectedStep)||void 0===t?void 0:t.component_blueprints)&&void 0!==e?e:[]);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return An.find(An.propEq("id",e))(t)}(u,null!==(n=null===l||void 0===l?void 0:l.selected_fields)&&void 0!==n?n:[])}),[s,u,null===g||void 0===g||null===(t=g.selectedStep)||void 0===t?void 0:t.component_blueprints]),Z=function(e){return E(e)},w=(0,i.useState)(_()),N=(0,a.Z)(w,2),x=N[0],L=N[1];(0,i.useEffect)((function(){L(_())}),[_,g.selectedStep.component_blueprints]);var I=(0,i.useCallback)((function(){var e,t;Z(!1),(null===(e=null!==(t=null===p||void 0===p?void 0:p.split(", "))&&void 0!==t?t:[])||void 0===e?void 0:e.some((function(e){return(null===e||void 0===e?void 0:e.toLowerCase())==(null===x||void 0===x?void 0:x.field_name.toLowerCase())})))&&Z(!0)}),[p,null===x||void 0===x?void 0:x.field_name]);(0,i.useEffect)((function(){I()}),[]),(0,i.useEffect)((function(){var e,t;Z(!1),(null===(e=null!==(t=null===p||void 0===p?void 0:p.split(", "))&&void 0!==t?t:[])||void 0===e?void 0:e.some((function(e){return(null===e||void 0===e?void 0:e.toLowerCase())==(null===x||void 0===x?void 0:x.field_name.toLowerCase())})))&&Z(!0)}),[s,p,I,null===x||void 0===x?void 0:x.field_name,null===g||void 0===g||null===(n=g.selectedStep)||void 0===n?void 0:n.component_blueprints]);var M=(0,i.useCallback)((function(e){!b&&(null===s||void 0===s?void 0:s.length)>0&&h({type:c.Cb.updateComponentFieldKeyValue,value:{compBluePrintUUID:m,compBluePrintId:s,isInherited:!1,fieldId:u,visible:e,index:null===x||void 0===x?void 0:x.index,mandatory:0!=e&&("output"!==x.data_type&&(null===x||void 0===x?void 0:x.mandatory))}})}),[s,m,null===x||void 0===x?void 0:x.mandatory,u,b,h,null===x||void 0===x?void 0:x.index]),O=(0,i.useCallback)((function(e){!b&&(null===s||void 0===s?void 0:s.length)>0&&h({type:c.Cb.updateComponentFieldKeyValue,value:{compBluePrintUUID:m,compBluePrintId:s,isInherited:!1,fieldId:u,mandatory:"output"!==x.data_type&&e,index:null===x||void 0===x?void 0:x.index,visible:1==e||(null===x||void 0===x?void 0:x.visible)}})}),[s,m,null===x||void 0===x?void 0:x.visible,u,b,h,null===x||void 0===x?void 0:x.index]);return Dn.createElement("div",{className:on,"app-variant":b?"read-only":"editable","app-color":null!==x&&void 0!==x&&x.visible?"active":"inactive",tabIndex:"0"},Dn.createElement("div",{className:an},Dn.createElement("p",{className:rn},null===x||void 0===x?void 0:x.field_name),Dn.createElement("p",{className:dn},(null===x||void 0===x?void 0:x.mandatory)&&"*")),Dn.createElement("p",{className:fn},x.data_type_name),Dn.createElement("span",{className:un},Dn.createElement("div",{className:sn,onClick:function(){O(!(null!==x&&void 0!==x&&x.mandatory))}},"output"!==x.data_type&&"ID"!==x.data_type_name&&Dn.createElement("span",{className:cn},null!==x&&void 0!==x&&x.mandatory?Dn.createElement(Oe.H_U,{className:mn}):Dn.createElement("div",{className:pn})),"output"!==x.data_type&&"ID"!==x.data_type_name&&Dn.createElement("p",{className:vn},b?"":"Required")),"output"!==x.data_type&&"ID"!==x.data_type_name&&Dn.createElement("img",{src:(null===g||void 0===g||null===(l=g.selectedStep)||void 0===l||null===(o=l.component_blueprints)||void 0===o||null===(r=o.find((function(e){return e.id===s})))||void 0===r||null===(d=r.options)||void 0===d?void 0:d.key)===(null===x||void 0===x?void 0:x.field_name)?Bn.fU5:Bn.pyc,style:{height:"20px",width:"20px",cursor:"pointer"},onClick:v}),Dn.createElement("div",{className:yn,onClick:function(){M(!(null!==x&&void 0!==x&&x.visible))}},void 0==(null===x||void 0===x?void 0:x.visible)||null!==x&&void 0!==x&&x.visible?Dn.createElement(Oe.Ch$,null):Dn.createElement(Oe.vV8,null))))})),Rn=function(e){var t,n=e.onComponentSelect,l=e.blueprint_components,o=(0,i.useState)(l),r=(0,a.Z)(o,1)[0],d=(0,i.useState)(!0),u=(0,a.Z)(d,2),s=u[0],c=u[1],m=(0,i.useState)({}),p=(0,a.Z)(m,2),f=p[0],y=p[1];return Dn.createElement("div",{className:En},s?Dn.createElement("div",{className:_n,"app-display-variant":s?"table-row":"none"},Dn.createElement("div",{className:Zn},Dn.createElement(se.yV,{placeholder:"Select component to attach ...",items:r.map((function(e){return{value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.name,type:!0===(null===e||void 0===e?void 0:e.readonly)?"Template":(0,v.m)(null===e||void 0===e?void 0:e.name)}})),id:"select-step-new-blueprint-component",initialSelectedValues:[],groupedBy:"type",groupname:"type",inputStyle:{cursor:"pointer"},className:xn,inputClassName:In,molclassname:Mn,moliclassname:On,onChange:function(e){(null===e||void 0===e?void 0:e.length)>0?y(e[0]):y({value:"",label:""})}},Dn.createElement(V.G,{className:"fa-icon",icon:z.ptq,style:{marginRight:"20px",color:"gray"}})),(null===f||void 0===f||null===(t=f.value)||void 0===t?void 0:t.length)>0&&Dn.createElement("button",{type:"button",className:wn},Dn.createElement(Oe.H_U,{onClick:function(){n(f),c((function(e){return!e}))}})))):Dn.createElement("p",{style:{textAlign:"center",marginBottom:"auto",color:"var(--app-color-gray-light)",fontFamily:"var(--app-text-main-font)",fontSize:"16px",marginTop:"20px",lineHeight:"32px"}},"Finish adding your previous component to add another."))},jn=n(64468),qn="StepData_multiselectWithSearch__FVnWX",Hn="StepData_smoMultiselectParent__kAn4t",Un="StepData_selectMenuItem__i040a",Kn="StepData_smoMultiselectPathway__FDzOg",Xn="StepData_inputClassName__U3j-5",Yn="StepData_smoMultiselectInputContainerPathways__kK9V4",Gn="StepData_leftIconItemContainerClassName__cytl0",Jn="StepData_peoplePositionsSelect__FZEAk",Qn="StepData_peoplePositionsSelectInput__4N5AT",$n="StepData_peoplePositionsSelectMenuOverlay__VU2s4",el="StepData_peoplePositionsSelectMenuOverlayItem__xI2Zj",tl=(0,i.createRef)(null),nl={parentSteps:{id:"parentStep",title:"Parent Step",placeholder:"Select steps here...",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},stepName:{id:"stepName",title:"Step Name",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},guidance:{id:"guidance",title:"Description",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},rank:{id:"rank",title:"Rank",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},newComponents:{id:"newComponents",title:"Components to be used in this step",defaultHighlighted:!0,readOnly:!0,otherContent:!0,withAckButton:!1,useContext:c.QJ},pathwayOptions:{id:"pathwayOptions",title:"Branch to the following steps",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},isFinalStep:{id:"isFinalStep",title:"Is this the final step of this workflow?",ungrouped:!0,withAckButton:!1,useContext:c.QJ},stepTemplate:{id:"stepTemplate",title:"Custom Template",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},showStepAll:{id:"showStep",title:"Show step to all?",ungrouped:!0,withAckButton:!1,useContext:c.QJ},showStepAuthor:{id:"showStepAuthor",title:"Only show step to author?",ungrouped:!0,withAckButton:!1,useContext:c.QJ},showAsPopup:{id:"showAsPopup",title:"Show step as popup?",ungrouped:!0,withAckButton:!1,useContext:c.QJ},deleteOnBack:{id:"deleteOnBack",title:"Delete step inputs made on back?",ungrouped:!0,withAckButton:!1,useContext:c.QJ}},ll=n(74369),ol=n(32086),al=n(67861),il=["percentualWidth","children","style"],rl=function(e){var t=e.percentualWidth,n=e.children,o=e.style,a=(0,Rt.Z)(e,il);return al.createElement("div",(0,jt.Z)({style:(0,l.Z)({width:t},o)},a),n)},dl=(0,r.$j)((function(e){var t=e.flowReducer;return{blueprints:t.blueprints,allStatutes:t.allStatutes,selectedProcess:t.selectedProcess,selectedProStep:t.selectedProStep,companyData:t.companyData,companyPositionsArray:t.companyPositionsArray}}),(function(e){return{onSetSelectedProStep:function(t){return e((0,m.Sc)(t))},onSetSelectedProStepOptions:function(t){return e((0,m.Jk)(t))}}}))((function(e){var t,n,r,u,s,m,y,g,h,C,S,b,E,_,Z,w,N,x,L,I,M,O,k,T,P,B,F,D,A,W,V,z,R,j,q,H,U,K,X,Y,G,J,Q,$,ee,te,ne,le,oe=e.onSetSelectedProStep,ae=e.selectedProcess,ie=e.companyPositionsArray,re=e.blueprints,de=(e.companyData,e.onEditChange),ue=void 0===de?function(){}:de,ce=(0,c._M)(),me=(0,a.Z)(ce,2),pe=me[0],ve=me[1],fe=(0,i.useState)([]),ye=(0,a.Z)(fe,2),ge=ye[0],he=ye[1],Ce=(0,i.useState)(!1),Se=(0,a.Z)(Ce,2),be=Se[0],Ee=Se[1],_e=(0,i.useState)([]),Ze=(0,a.Z)(_e,2),we=Ze[0],Ne=Ze[1],xe=(0,i.useState)(!1),Le=(0,a.Z)(xe,2),Ie=Le[0],Me=Le[1],ke=(0,i.useState)([]),Te=(0,a.Z)(ke,2),Pe=Te[0],Be=Te[1],Fe=(0,i.useState)(null!==(t=null===(n=pe.selectedStep)||void 0===n||null===(r=n.options)||void 0===r?void 0:r.useCustomTemplate)&&void 0!==t&&t),De=(0,a.Z)(Fe,2),Ae=De[0],We=(De[1],(0,i.useState)({parentSteps:"",stepName:"",estimatedTime:"",guidance:"",inheritedComponents:"",newComponents:"",pathwayOptions:""})),Ve=(0,a.Z)(We,2),ze=Ve[0],Re=Ve[1],je=(0,v.DJ)();(0,i.useEffect)((function(){var e,t;0==(null===(e=pe.selectedStep)||void 0===e||null===(t=e.options)||void 0===t?void 0:t.is_start_next_process)&&ve({type:c.Cb.updateSelectedStepPathways,value:(0,o.Z)(pe.selectedStep.pathway_steps)})}),[null===(u=pe.selectedStep)||void 0===u||null===(s=u.options)||void 0===s?void 0:s.is_start_next_process]),(0,i.useEffect)((function(){He()}),[pe.selectedStep]),(0,i.useEffect)((function(){Ee(!0),(0,p.hI)({processId:ae.id,parentsOnly:1}).pipe((0,d.P)()).subscribe({next:function(e){var t,n;(null===e||void 0===e?void 0:e.length)>0?je()&&he((0,o.Z)(It.Z(ll.Z((function(e,t){return e.concat({rank:t.rank,label:t.name,value:t.id})}),[]),ol.Z(Dt.Z("id",null===(n=pe.selectedStep)||void 0===n?void 0:n.id)))(e))):null!==(t=pe.selectedStep)&&void 0!==t&&t.isNewStep&&!Ft.Z(Dt.Z("is_start",!0))(null===pe||void 0===pe?void 0:pe.steps)&&je()&&he([]);je()&&Ee(!1),je()&&qe()},error:function(e){je()&&Ee(!1)}})}),[]);var qe=function(){var e,t,n;"newDefaultStep"!==(null===(e=pe.selectedStep)||void 0===e?void 0:e.id)&&""!==(null===pe||void 0===pe||null===(t=pe.selectedStep)||void 0===t?void 0:t.id)&&(Me(!0),(0,p.hI)({processId:ae.id,pathways:1,forStepId:null===(n=pe.selectedStep)||void 0===n?void 0:n.id}).pipe((0,d.P)()).subscribe({next:function(e){if(e)try{var t,n,l,a,i,r,d=ol.Z(Dt.Z("id",null===pe||void 0===pe||null===(t=pe.selectedStep)||void 0===t?void 0:t.id),null!==(n=null===e||void 0===e?void 0:e.steps)&&void 0!==n?n:[]),u=null!==(l=ol.Z(Dt.Z("id",ae.id),null!==(a=e.processes)&&void 0!==a?a:[]))&&void 0!==l?l:[],s=[].concat((0,o.Z)(null!==(i=null===d||void 0===d?void 0:d.map((function(e){return{value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.name,rank:null===e||void 0===e?void 0:e.rank,icon:Oe.CHZ,type:"step"}})))&&void 0!==i?i:[]),(0,o.Z)(null!==(r=null===u||void 0===u?void 0:u.map((function(e){return{value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.name,icon:Oe.IR8,type:"process"}})))&&void 0!==r?r:[]));s&&(Me(!1),Ne(s),Me(!1)),Be([].concat((0,o.Z)(d),(0,o.Z)(u)))}catch(c){Me(!1)}else he([]),Me(!1)},error:function(e){Me(!1)}}))},He=(0,i.useCallback)((function(){}),[pe.steps,pe.selectedStep]),Ue=(0,o.Z)(ll.Z((function(e,t){return e.concat({value:t.id,label:t.name})}),[])(null!==(m=null===pe||void 0===pe||null===(y=pe.selectedStep)||void 0===y?void 0:y.parent_steps)&&void 0!==m?m:[])),Ke=null===pe||void 0===pe||null===(g=pe.selectedStep)||void 0===g||null===(h=g.pathway_processes)||void 0===h?void 0:h.concat(null===pe||void 0===pe||null===(C=pe.selectedStep)||void 0===C?void 0:C.pathway_steps),Xe=(null===Ke||void 0===Ke?void 0:Ke.length)>0?null===(S=Vt.Z(Ke))||void 0===S?void 0:S.map((function(e){return null===e||void 0===e?void 0:e.name})).join(", "):"",Ye=(0,i.useCallback)((function(){var e,t,n,o,a,i,r,d,u,s,c,m,p,v,f,y,g,h,C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",S={parentSteps:"Step must be connected to at least one other step",stepName:"Step name is mandatory",guidance:"Short description of step is mandatory",inheritedComponents:"Some inherited component have missing required information",newComponents:"Some new component have missing required informations",pathwayOptions:"Error inside Pathway Options"},b=(0,l.Z)({},ze);if(C)switch(C){case"stepName":b.stepName="string"==typeof(null===pe||void 0===pe||null===(e=pe.selectedStep)||void 0===e?void 0:e.name)&&(null===pe||void 0===pe||null===(t=pe.selectedStep)||void 0===t||null===(n=t.name)||void 0===n?void 0:n.length)>0?"":S.stepName;break;case"guidance":b.guidance="string"==typeof(null===pe||void 0===pe||null===(o=pe.selectedStep)||void 0===o?void 0:o.guidance)&&(null===pe||void 0===pe||null===(a=pe.selectedStep)||void 0===a||null===(i=a.guidance)||void 0===i?void 0:i.length)>0?"":S.guidance;break;case"newComponents":var E,_,Z,w,N;b.newComponents=Array.isArray(null===pe||void 0===pe||null===(E=pe.selectedStep)||void 0===E?void 0:E.component_blueprints)?S.newComponents:"";var x=null===pe||void 0===pe||null===(_=pe.selectedStep)||void 0===_||null===(Z=_.component_blueprints)||void 0===Z?void 0:Z.find((function(e){var t;return!(null!==e&&void 0!==e&&e.status)||""==(null===e||void 0===e?void 0:e.status)||""==(null===e||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id)}));x&&(b.newComponents="Invalid status in new blueprints components");var L=null===pe||void 0===pe||null===(w=pe.selectedStep)||void 0===w||null===(N=w.component_blueprints)||void 0===N?void 0:N.find((function(e){return!(null!==e&&void 0!==e&&e.title)||""==(null===e||void 0===e?void 0:e.title)}));L&&(b.newComponents+="\nInvalid title in new blueprints components");break;case"pathwayOptions":b.pathwayOptions=Array.isArray(null===pe||void 0===pe||null===(r=pe.selectedStep)||void 0===r?void 0:r.pathway_steps)&&Array.isArray(null===pe||void 0===pe||null===(d=pe.selectedStep)||void 0===d?void 0:d.pathway_processes)?"":S.pathwayOptions;break;default:b.stepName="string"==typeof(null===pe||void 0===pe||null===(u=pe.selectedStep)||void 0===u?void 0:u.name)&&(null===pe||void 0===pe||null===(s=pe.selectedStep)||void 0===s||null===(c=s.name)||void 0===c?void 0:c.length)>0?"":S.stepName,b.guidance="string"==typeof(null===pe||void 0===pe||null===(m=pe.selectedStep)||void 0===m?void 0:m.guidance)&&(null===pe||void 0===pe||null===(p=pe.selectedStep)||void 0===p||null===(v=p.guidance)||void 0===v?void 0:v.length)>0?"":S.guidance,b.inheritedComponents=Array.isArray(null===pe||void 0===pe||null===(f=pe.selectedStep)||void 0===f?void 0:f.component_blueprints)?"":S.inheritedComponents,b.newComponents=Array.isArray(null===pe||void 0===pe||null===(y=pe.selectedStep)||void 0===y?void 0:y.component_blueprints)?"":S.newComponents,b.pathwayOptions=Array.isArray(null===pe||void 0===pe||null===(g=pe.selectedStep)||void 0===g?void 0:g.pathway_steps)&&Array.isArray(null===pe||void 0===pe||null===(h=pe.selectedStep)||void 0===h?void 0:h.pathway_processes)?"":S.pathwayOptions}return Re(b),b}),[null===pe||void 0===pe?void 0:pe.selectedStep,ze]),Ge=!Ft.Z(Dt.Z("is_start",!0))(ol.Z(Dt.Z("id",pe.selectedStep.id),null===pe||void 0===pe?void 0:pe.steps))||1==(null===pe||void 0===pe||null===(b=pe.selectedStep)||void 0===b?void 0:b.is_start);return al.createElement("div",null,al.createElement(rl,{percentualWidth:"100%",style:{marginBottom:"10px"}},al.createElement(f.Lb,{title:"Step Name"}),al.createElement(f.n2,(0,jt.Z)({},nl.stepName,{title:"",value:null===(E=pe.selectedStep)||void 0===E?void 0:E.name,sectionError:ze.stepName,onOpenChanged:function(e){!e&&Ye("stepName")}}),al.createElement(f.WH,{onControlTouched:function(){},placeholder:"Insert step name...",text:null===(_=pe.selectedStep)||void 0===_?void 0:_.name,onTextChanged:function(e){ve({type:c.Cb.updateSelectedStepKeyValue,value:{name:e}}),oe({name:e})}}))),al.createElement(rl,{percentualWidth:"100%"},al.createElement(f.Lb,{title:"Description"}),al.createElement(f.n2,(0,jt.Z)({},nl.guidance,{title:"",value:null===(Z=pe.selectedStep)||void 0===Z?void 0:Z.guidance,sectionError:ze.guidance}),al.createElement(f.WH,{plcHoffset:"0px",text:null===(w=pe.selectedStep)||void 0===w?void 0:w.guidance,placeholder:"Add description for step here...",onTextChanged:function(e){ve({type:c.Cb.updateSelectedStepKeyValue,value:{guidance:e}}),oe({guidance:e})}}))),al.createElement(rl,{percentualWidth:"100%",style:{display:1==Ge?"none":""}},al.createElement(f.Lb,{title:"Connect Step To"}),al.createElement(f.n2,(0,jt.Z)({},nl.parentSteps,{title:"",readOnly:Ge,value:(null===(N=pe.selectedStep)||void 0===N||null===(x=N.parent_steps)||void 0===x?void 0:x.length)>0?ll.Z((function(e,t){return e.concat(t.name)}),[])(Vt.Z(null===(L=pe.selectedStep)||void 0===L?void 0:L.parent_steps)).map((function(e,t){return al.createElement(jn.Vp,{key:"tag"+t},e)})):Ge?al.createElement(jn.Vp,null,"Start of Workflow"):null,sectionError:ze.parentSteps,onOpenChanged:function(e){!e&&!Ge&&Ye("parentSteps")}}),be&&al.createElement("span",{style:{display:"flex",width:"100%",justifyContent:"center",alignItems:"center"}},al.createElement(f.$j,{size:30,type:"ThreeDots"})),(null===ge||void 0===ge?void 0:ge.length)>0&&!Ge&&al.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"X",tagType:"step-plated",tagEmplacement:"inlined",triggerType:"eyeglass",initialSelectedItems:Ue,placeholder:"Search steps here...",className:qn,inputClassName:Xn,molclassname:Hn,moliclassname:Un,menuOverlayListItemStyle:{padding:"10px",maxWidth:"100%"},onChange:function(e){ve({type:c.Cb.updateSelectedStepParentSteps,value:(0,o.Z)(ll.Z((function(e,t){return e.concat({rank:t.rank,name:t.label,id:t.value})}),[])(e))}),setTimeout(He(),0)},items:ge}),0!=(null===ge||void 0===ge?void 0:ge.length)||be||1!=(null===pe||void 0===pe?void 0:pe.selectedStep.isNewStep)?null:al.createElement(jn.Vp,{tagType:"step-plated"},"Start of Workflow"))),al.createElement(rl,{percentualWidth:"100%",style:{marginBottom:"10px",display:"none"}},al.createElement(f.Lb,{title:"Step Number"}),al.createElement(f.n2,(0,jt.Z)({},nl.rank,{title:"",value:null===(I=pe.selectedStep)||void 0===I?void 0:I.rank,sectionError:ze.rank,onOpenChanged:function(e){!e&&Ye("stepRank")}}),al.createElement(f.WH,{onControlTouched:function(){},placeholder:"Insert step rank...",text:null===(M=pe.selectedStep)||void 0===M?void 0:M.rank,onTextChanged:function(e){ve({type:c.Cb.updateSelectedStepKeyValue,value:{rank:+e}}),oe({rank:+e})}}))),al.createElement(rl,{percentualWidth:"100%",style:{marginTop:"20px"}},al.createElement(f.Lb,{title:nl.newComponents.title}),al.createElement(Wn,{onEditChange:function(e,t){return ue(e,t)},showAddButton:!Ae,selectedProcess:ae,blueprints:re,companyPositionsArray:ie})),al.createElement(rl,{percentualWidth:"100%",style:{display:"none"}},al.createElement(f.n2,(0,jt.Z)({},nl.pathwayOptions,{loading:Ie,readOnly:0===(null===we||void 0===we?void 0:we.length),placeholder:0===(null===we||void 0===we?void 0:we.length)?"No branch steps available!":"Select steps or processes to jump to...",value:Xe,sectionError:ze.pathwayOptions,onOpenChanged:function(e){!e&&Ye("pathwayOptions")}}),Ie?al.createElement("span",{style:{display:"flex",width:"100%",justifyContent:"center",alignItems:"center"}},al.createElement(f.$j,{size:30,type:"ThreeDots"})):al.createElement(f.gK,{labelsTag:!0,placeholder:"Search for steps or processes here...",tagCloseButtonType:"circleX",tagType:"plated",tagEmplacement:"inlined",triggerType:"eyeglass",initialSelectedItems:we.filter((function(e){var t,n,l,o,a;return(null===pe||void 0===pe||null===(t=pe.selectedStep)||void 0===t||null===(n=t.pathway_processes)||void 0===n||null===(l=n.concat(null===pe||void 0===pe||null===(a=pe.selectedStep)||void 0===a?void 0:a.pathway_steps))||void 0===l||null===(o=l.filter((function(t){return t.id==e.value})))||void 0===o?void 0:o.length)>0})),className:qn,leftIconItemContainerClassName:Gn,inputContainerClassname:Yn,inputClassName:Xn,molclassname:Kn,moliclassname:Un,onChange:function(e){var t=(0,o.Z)(e.map((function(e){return e.value}))),n=Pe.filter((function(e){return(null===t||void 0===t?void 0:t.indexOf(e.id))>-1}));ve({type:c.Cb.updateSelectedStepPathways,value:(0,o.Z)(Vt.Z(n))})},items:0==(null===(O=pe.selectedStep)||void 0===O||null===(k=O.options)||void 0===k?void 0:k.is_start_next_process)?ol.Z(Dt.Z("type","process"),null!==we&&void 0!==we?we:[]):we}))),al.createElement(rl,{percentualWidth:"100%",style:{marginTop:"20px",display:1==(null===(T=pe.selectedStep)||void 0===T?void 0:T.is_end)||1==(null===(P=pe.selectedStep)||void 0===P?void 0:P.is_start)?"none":""}},al.createElement(f.pd,(0,jt.Z)({},nl.showAsPopup,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null!==(B=null===(F=pe.selectedStep)||void 0===F||null===(D=F.options)||void 0===D?void 0:D.popup)&&void 0!==B&&B,toggleSelected:function(e){var t,n;ve({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,l.Z)((0,l.Z)({},null===(t=pe.selectedStep)||void 0===t?void 0:t.options),{},{popup:e})}}),oe({options:(0,l.Z)((0,l.Z)({},null===(n=pe.selectedStep)||void 0===n?void 0:n.options),{},{popup:e})})}}))),al.createElement(rl,{percentualWidth:"100%",style:{marginTop:"20px",display:1==(null===(A=pe.selectedStep)||void 0===A?void 0:A.is_end)||1==(null===(W=pe.selectedStep)||void 0===W?void 0:W.is_start)?"none":""}},al.createElement(f.pd,(0,jt.Z)({},nl.deleteOnBack,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null!==(V=null===(z=pe.selectedStep)||void 0===z||null===(R=z.options)||void 0===R?void 0:R.deleteOnBack)&&void 0!==V&&V,toggleSelected:function(e){var t,n;ve({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,l.Z)((0,l.Z)({},null===(t=pe.selectedStep)||void 0===t?void 0:t.options),{},{deleteOnBack:e})}}),oe({options:(0,l.Z)((0,l.Z)({},null===(n=pe.selectedStep)||void 0===n?void 0:n.options),{},{deleteOnBack:e})})}}))),al.createElement(rl,{percentualWidth:"100%",style:{marginTop:"20px",display:1==(null===(j=pe.selectedStep)||void 0===j?void 0:j.is_end)?"none":""}},al.createElement(f.pd,(0,jt.Z)({},nl.showStepAll,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null===(q=null===(H=pe.selectedStep)||void 0===H||null===(U=H.options)||void 0===U?void 0:U.showStepAll)||void 0===q||q,toggleSelected:function(e){var t,n;ve({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,l.Z)((0,l.Z)({},null===(t=pe.selectedStep)||void 0===t?void 0:t.options),{},{showOnly:[],showStepAll:e})}}),oe({options:(0,l.Z)((0,l.Z)({},null===(n=pe.selectedStep)||void 0===n?void 0:n.options),{},{showOnly:[],showStepAll:e})})}}))),al.createElement(rl,{percentualWidth:"100%",style:{marginTop:"20px",display:0==(null===(K=pe.selectedStep)||void 0===K||null===(X=K.options)||void 0===X?void 0:X.showStepAll)?"":"none"}},al.createElement(f.pd,(0,jt.Z)({},nl.showStepAuthor,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null!==(Y=null===(G=pe.selectedStep)||void 0===G||null===(J=G.options)||void 0===J?void 0:J.showStepAuthor)&&void 0!==Y&&Y,toggleSelected:function(e){var t,n;ve({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,l.Z)((0,l.Z)({},null===(t=pe.selectedStep)||void 0===t?void 0:t.options),{},{showOnly:[],showStepAuthor:e})}}),oe({options:(0,l.Z)((0,l.Z)({},null===(n=pe.selectedStep)||void 0===n?void 0:n.options),{},{showOnly:[],showStepAuthor:e})})}}))),al.createElement(f.jL,{style:{display:0==(null===(Q=pe.selectedStep)||void 0===Q||null===($=Q.options)||void 0===$?void 0:$.showStepAll)?"":"none",paddingLeft:"10px"},ungrouped:!0,title:"Only show this step to:",columned:!0,withAckButton:!1},al.createElement("br",null),al.createElement(se.Cm,{tagEmplacement:"inlined",searchable:!1,items:ie,groupedBy:"department",groupname:"department",triggerType:"chevron",initialSelectedValues:null===(ee=pe.selectedStep)||void 0===ee||null===(te=ee.options)||void 0===te||null===(ne=te.showOnly)||void 0===ne?void 0:ne.map((function(e){return ie.find((function(t){return t.value===e}))})),className:Jn,inputClassName:Qn,molclassname:$n,moliclassname:el,onChange:function(e){var t,n;ve({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,l.Z)((0,l.Z)({},null===(t=pe.selectedStep)||void 0===t?void 0:t.options),{},{showStepAuthor:!1,showOnly:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))})}}),oe({options:(0,l.Z)((0,l.Z)({},null===(n=pe.selectedStep)||void 0===n?void 0:n.options),{},{showStepAuthor:!1,showOnly:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))})})}})),al.createElement(f.pd,(0,jt.Z)({},nl.isFinalStep,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null===(le=pe.selectedStep)||void 0===le?void 0:le.is_end,toggleSelected:function(e){var t,n;1==e?(oe({child_steps:[]}),ve({type:c.Cb.updateSelectedStepKeyValue,value:{is_end:e,options:(0,l.Z)((0,l.Z)({},null===(t=pe.selectedStep)||void 0===t?void 0:t.options),{},{showOnly:[],showStepAll:!0})}}),oe({is_end:e,options:(0,l.Z)((0,l.Z)({},null===(n=pe.selectedStep)||void 0===n?void 0:n.options),{},{showOnly:[],showStepAll:!0})})):(ve({type:c.Cb.updateSelectedStepKeyValue,value:{is_end:e}}),oe({is_end:e}))}})))})),ul="StepModal_host__e9qAE",sl="StepModal_titleContainer__rQtrC",cl="StepModal_contentContainer__ySA3D",ml="StepModal_saveButtonContainer__ysY+S",pl="StepModal_controls2__7XszY",vl=(n(55859),n(67861)),fl=(0,i.memo)((function(e){var t,n,r,u,s,y,g,h,C,S,b,E,_,Z,w,N,x,L,I,M=(0,i.useState)(""),O=(0,a.Z)(M,2),T=O[0],B=(O[1],e.visible),F=e.onClose,D=e.onSave,A=e.selectedProcess,W=e.companyProcesses,V=e.shadowedContainerStyle,z=void 0===V?{minWidth:"500px",width:""===T?"34%":"90%"}:V,j=e.onBoardingCompleted,q=e.onEditChange,H=void 0===q?function(){}:q,U=(0,c._M)(),K=(0,a.Z)(U,2),X=K[0],Y=K[1],G=(0,i.useState)(X.selectedStep),J=(0,a.Z)(G,1)[0],Q=(0,c.QJ)(),$=(0,a.Z)(Q,2)[1],ee=(0,i.useState)(!1),te=(0,a.Z)(ee,2),ne=te[0],le=te[1],oe=(0,i.useState)(!1),ae=(0,a.Z)(oe,2),ie=ae[0],re=ae[1],ue=(0,i.useState)(""),se=(0,a.Z)(ue,2),ce=se[0],me=se[1],pe=e.onBoardingModalsVisibility,ve=(e.isOnboarding,pe.eightModalVisible),fe=pe.tenthModalVisible,ye=(0,i.useCallback)((function(e){Y({type:c.Cb.unsetSelectedStep}),F&&F(e)}),[F,Y]),ge=(0,i.useCallback)((function(e,t){return $({open:!0,activeElement:e,errors:(0,xt.Z)({},e,t)})}),[$]),he=(0,i.useCallback)((function(e){var t,n,l,o,a,i=!0,r=[];0==e.is_start&&0==(null===e||void 0===e||null===(t=e.parent_steps)||void 0===t?void 0:t.length)&&(i=!1,r.push((0,xt.Z)({},null===nl||void 0===nl||null===(o=nl.parent_steps)||void 0===o?void 0:o.id,"Invalid parent(s)")),ge(null===nl||void 0===nl||null===(a=nl.parentSteps)||void 0===a?void 0:a.id,"Invalid parent(s)"));return 1==e.is_start&&(null===(n=e.parent_steps)||void 0===n?void 0:n.length)>0&&(i=!1,r.push((0,xt.Z)({},nl.parentSteps.id,"Invalid parent(s)")),ge(nl.parentSteps.id,"Invalid parent(s)")),(null===(l=e.name)||void 0===l?void 0:l.length)<1&&(i=!1,r.push((0,xt.Z)({},nl.stepName.id,"Invalid name")),ge(nl.stepName.id)),i}),[null===X||void 0===X||null===(t=X.selectedStep)||void 0===t?void 0:t.component_blueprints,ge]),Ce=(0,i.useCallback)((function(){re(!0),(0,p.hI)({processId:null===A||void 0===A?void 0:A.id}).pipe((0,d.P)()).subscribe({next:function(e){if(e.length>0){Y({type:c.Cb.setAllSteps,value:It.Z(Mt.Z(Ot.Z("rank")),kt.Z(Tt.Z(Pt.Z("component_blueprints"),kt.Z((function(e){return Lt.Z("_uuid",(0,v.mR)(),e)})))))(e)})}},error:function(e){re(!1)}})}),[A.id,Y]),Se=(0,i.useCallback)((function(){var e=X.selectedStep;if(he(e)){var t,n,a,i,r,u,s,c;re(!0);var m=It.Z(Bt.Z(["id"]),Ft.Z(Dt.Z("is_start",!0)))(X.steps),v=(null===m||void 0===m?void 0:m.length)>0&&m==(null===e||void 0===e?void 0:e.id)&&0===(null===e||void 0===e||null===(t=e.parent_steps)||void 0===t?void 0:t.length),f={name:null===e||void 0===e?void 0:e.name,guidance:null===e||void 0===e?void 0:e.guidance,procedure_id:null===e||void 0===e?void 0:e.procedure_id,duration:null===e||void 0===e?void 0:e.duration,is_start:v||(null===e||void 0===e?void 0:e.is_start),is_end:e.is_end,options:(0,l.Z)((0,l.Z)({},e.options),{},{layout:null!==(n=null===e||void 0===e?void 0:e.layout)&&void 0!==n?n:{}}),parent_steps:(0,o.Z)(kt.Z(Bt.Z(["id"]))(null===e||void 0===e?void 0:e.parent_steps)),pathway_steps:null!==(a=null===e||void 0===e||null===(i=e.pathway_processes)||void 0===i?void 0:i.map((function(e){return e.id})))&&void 0!==a?a:[],pathway_processes:null!==(r=null===e||void 0===e||null===(u=e.pathway_processes)||void 0===u?void 0:u.map((function(e){return e.id})))&&void 0!==r?r:[],component_blueprints:(0,o.Z)(e.component_blueprints.map((function(e){return(0,l.Z)((0,l.Z)({},At.Z(["_uuid"])(e)),{},{selected_fields:(0,o.Z)(kt.Z(Wt.Z(["id","index","mandatory","visible","procedure_step_blueprint_field_id"]))(e.selected_fields))})}))),rank:+(null!==(s=null===e||void 0===e||null===(c=e.parent_steps)||void 0===c?void 0:c.reduce((function(e,t){return e<=+t.rank?e=+(null===t||void 0===t?void 0:t.rank):null}),0))&&void 0!==s?s:0)+1};(0,p.Ac)(f).pipe((0,d.P)()).subscribe({next:function(e){ve?k.h.dispatch((0,R.$6)({ninthModalVisible:!0})):fe&&k.h.dispatch((0,R.$6)({eleventhModalVisible:!0})),Ce(),re(!1),j?ye(!0):D()},error:function(e){re(!1)}})}}),[X,he,Ce,ye]),be=(0,i.useCallback)((function(){var e=X.selectedStep;if(he(e)){var t,n,a,i,r,u,s,f;re(!0);var y=It.Z(Bt.Z(["id"]),Ft.Z(Dt.Z("is_start",!0)))(X.steps),g=(null===y||void 0===y?void 0:y.length)>0&&y==(null===e||void 0===e?void 0:e.id)&&0===(null===e||void 0===e||null===(t=e.parent_steps)||void 0===t?void 0:t.length),h=(0,l.Z)({name:null===e||void 0===e||null===(n=e.name)||void 0===n?void 0:n.trim(),guidance:null===e||void 0===e?void 0:e.guidance,procedure_id:null===e||void 0===e?void 0:e.procedure_id,duration:null===e||void 0===e?void 0:e.duration,is_start:g||(null===e||void 0===e?void 0:e.is_start),is_end:e.is_end,options:(0,l.Z)((0,l.Z)({},e.options),{},{layout:null!==(a=null===e||void 0===e?void 0:e.layout)&&void 0!==a?a:{}}),parent_steps:Vt.Z((0,o.Z)(kt.Z(Bt.Z(["id"]))(null===e||void 0===e?void 0:e.parent_steps))),pathway_steps:null!==(i=null===e||void 0===e||null===(r=e.pathway_steps)||void 0===r?void 0:r.map((function(e){return e.id})))&&void 0!==i?i:[],pathway_processes:null!==(u=null===e||void 0===e||null===(s=e.pathway_processes)||void 0===s?void 0:s.map((function(e){return e.id})))&&void 0!==u?u:[],component_blueprints:(0,o.Z)(e.component_blueprints.map((function(e){return(0,l.Z)((0,l.Z)({},At.Z(["_uuid"])(e)),{},{status:null,selected_fields:(0,o.Z)(kt.Z(Wt.Z(["id","index","mandatory","visible","procedure_step_blueprint_field_id"]))(e.selected_fields))})}))),rank:+e.rank},zt.Z({ranking_steps:null===(f=kt.Z(zt.Z({id:Bt.Z(["id"]),rank:de.Z("rank")})).ranking_steps)||void 0===f?void 0:f.map((function(e){var t;return{id:e.id,rank:null!==(t=e.rank)&&void 0!==t?t:1e3}}))})(X.steps));(0,p.T5)(h,e.id,!0).pipe((0,d.P)()).subscribe({next:function(t){if(t.length>0){Y({type:c.Cb.setAllSteps,value:It.Z(Mt.Z(Ot.Z("rank")),kt.Z(Tt.Z(Pt.Z("component_blueprints"),kt.Z((function(e){return Lt.Z("_uuid",(0,v.mR)(),e)})))))(t)})}k.h.dispatch((0,m.an)([].concat((0,o.Z)(W.filter((function(t){return t.id!==e.procedure_id}))),[(0,l.Z)((0,l.Z)({},A),{},{steps:t})]),1)),re(!1),ye(!0)},error:function(e){me(e.data),re(!1)}})}}),[ye,X.selectedStep,X.steps,Ce,Y,he]),Ee=(0,i.useCallback)((function(){var e,t,n,l,o,a,i={},r="Please connect to a step",d="Step name is mandatory";(null===X||void 0===X?void 0:X.steps.length)>0&&(i.parentSteps=Ft.Z(Dt.Z("is_start",!0))(null===X||void 0===X?void 0:X.steps)&&(null===X||void 0===X||null===(l=X.selectedStep)||void 0===l||null===(o=l.parent_steps)||void 0===o?void 0:o.length)>0||1==(null===X||void 0===X||null===(a=X.selectedStep)||void 0===a?void 0:a.is_start)?"":r);i.stepName="string"==typeof(null===X||void 0===X||null===(e=X.selectedStep)||void 0===e?void 0:e.name)&&(null===X||void 0===X||null===(t=X.selectedStep)||void 0===t||null===(n=t.name)||void 0===n?void 0:n.length)>0?"":d;var u,s=Object.values(i).every((function(e){return""===e}));((null===X||void 0===X?void 0:X.steps.length)>0&&ge(nl.parentSteps.id,i.parentSteps),ge(nl.parentSteps.id,i.parentSteps),ge(nl.stepName.id,i.stepName),ge(nl.newComponents.id,i.newComponents),s)||me("".concat(null!==(u=i.stepName)&&void 0!==u?u:""," ").concat(i.parentSteps));return s}),[ne,null===X||void 0===X||null===(n=X.selectedStep)||void 0===n?void 0:n.pathway_processes,null===X||void 0===X||null===(r=X.selectedStep)||void 0===r?void 0:r.pathway_steps,null===X||void 0===X||null===(u=X.selectedStep)||void 0===u?void 0:u.component_blueprints,null===X||void 0===X||null===(s=X.selectedStep)||void 0===s?void 0:s.name,null===X||void 0===X||null===(y=X.selectedStep)||void 0===y||null===(g=y.parent_steps)||void 0===g?void 0:g.length,null===X||void 0===X?void 0:X.steps]),_e=(0,i.useCallback)((0,Nt.Z)((0,wt.Z)().mark((function e(){var t;return(0,wt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(le(!0),Ee()){e.next=4;break}return e.abrupt("return");case 4:null!==X&&void 0!==X&&null!==(t=X.selectedStep)&&void 0!==t&&t.isNewStep?Se():be();case 5:case"end":return e.stop()}}),e)}))),[Ee,J,Se,be]),Ze=(0,i.useCallback)((function(){var e;(null===J||void 0===J||null===(e=J.id)||void 0===e?void 0:e.length)>0&&("newDefaultStep"===(null===J||void 0===J?void 0:J.id)&&ye(),1!=J.is_start?(0,p.HP)(null===J||void 0===J?void 0:J.id).pipe((0,d.P)()).subscribe({next:function(e){var t;Ce(),Y({type:c.Cb.removeStepById,value:null===(t=X.selectedStep)||void 0===t?void 0:t.id}),ye(!0)},error:function(){}}):me("First step cannot be deleted. Delete the procedure instead"))}),[ye,null===(h=X.selectedStep)||void 0===h?void 0:h.id,Ce,null===J||void 0===J?void 0:J.id,J.is_start,Y]);return vl.createElement(f.U7,{scrollable:!0,shadowedContainerStyle:z,isOpen:B,blured:!0},vl.createElement("div",{style:{display:"flex"}},vl.createElement("div",{style:{width:""===T?"100%":"30%"}},vl.createElement("div",{className:ul},e.children,vl.createElement("div",{id:"scrollableDiv",ref:tl,className:cl},j&&vl.createElement("div",{className:sl},vl.createElement("p",null,"newDefaultStep"!==(null===X||void 0===X||null===(C=X.selectedStep)||void 0===C?void 0:C.id)&&""!==(null===X||void 0===X||null===(S=X.selectedStep)||void 0===S?void 0:S.id)?"Edit Step #".concat(null===X||void 0===X||null===(b=X.selectedStep)||void 0===b?void 0:b.rank):"New Step")),vl.createElement("div",{style:{flex:1}},vl.createElement(dl,{onEditChange:function(e,t){return H(e,t)},selectedProcess:A})),ce&&vl.createElement(P.Z,{message:ce,onClick:function(){return me("")}}),vl.createElement("div",{className:j?ml:pl},!j&&vl.createElement(f.zx,{clear:!0,title:"",clicked:function(){}}),F&&!j&&vl.createElement(f.zx,{light:!0,title:"Back",clicked:ye}),F&&j&&vl.createElement(f.zx,{title:"Close",clicked:ye}),(null===X||void 0===X||null===(E=X.selectedStep)||void 0===E||null===(_=E.name)||void 0===_?void 0:_.length)>3&&!j&&vl.createElement(f.zx,{title:null!==X&&void 0!==X&&null!==(Z=X.selectedStep)&&void 0!==Z&&Z.isNewStep?"Save":"Update",loading:ie,clicked:_e}),(null===X||void 0===X||null===(w=X.selectedStep)||void 0===w||null===(N=w.name)||void 0===N?void 0:N.length)>3&&j&&vl.createElement(f.zx,{light:!0,title:null!==X&&void 0!==X&&null!==(x=X.selectedStep)&&void 0!==x&&x.isNewStep?"Save":"Update",loading:ie,clicked:_e}),"newDefaultStep"!==(null===X||void 0===X||null===(L=X.selectedStep)||void 0===L?void 0:L.id)&&""!==(null===X||void 0===X||null===(I=X.selectedStep)||void 0===I?void 0:I.id)&&vl.createElement(f.zx,{light:!0,title:"Delete",clicked:Ze})))))))})),yl=(0,r.$j)((function(e){var t=e.flowReducer;return{allStatutes:t.allStatutes,selectedProcess:t.selectedProcess,companyProcesses:t.companyProcesses,onBoardingCompleted:t.onBoardingCompleted,onBoardingModalsVisibility:e.modalsReducer.onBoardingModalsVisibility}}),(function(e){return{onSetSelectedProStep:function(t){return e((0,m.Sc)(t))}}}))(fl),gl=n(67861),hl=function(e){var t,n=(0,te.s0)(),r=(e.onClose,e.selectedProcess),s=e.onResetSelectedProStep,g=e.blueprints,h=e.allModules,C=e.companyProcesses,S=e.workflowTemplates,b=e.onBoardingModalsVisibility,E=(0,i.useState)(!1),_=((0,a.Z)(E,2)[1],(0,i.useState)(!1)),Z=(0,a.Z)(_,2),w=Z[0],N=Z[1],x=(0,i.useState)(!1),L=(0,a.Z)(x,2),I=L[0],M=L[1],O=(0,i.useState)(!1),P=(0,a.Z)(O,2),B=P[0],F=P[1],D=(0,i.useState)(!1),A=(0,a.Z)(D,2),W=A[0],V=A[1],z=(0,i.useState)(!1),j=(0,a.Z)(z,2),q=j[0],U=j[1],K=(0,i.useState)(!1),X=(0,a.Z)(K,2),Y=X[0],G=X[1],J=(0,i.useState)(!1),Q=(0,a.Z)(J,2),$=Q[0],ee=Q[1],le=(0,i.useState)(!1),ae=(0,a.Z)(le,2),ie=ae[0],re=ae[1],de=(0,u.aL)(),se=(0,a.Z)(de,2),ce=(se[0],se[1]),me=(0,c._M)(),pe=(0,a.Z)(me,2),ve=pe[0],fe=(pe[1],(0,i.useState)(!1)),ye=(0,a.Z)(fe,2),ge=ye[0],he=ye[1],Ce=(0,i.useState)(!1),Se=(0,a.Z)(Ce,2),be=Se[0],Ee=Se[1],_e=(0,i.useState)(),Ze=(0,a.Z)(_e,2),we=Ze[0],Ne=Ze[1];document.title="".concat(r.name," | ").concat(v.iC);var xe=function(){1==ie&&((0,p.zJ)(r.id).pipe((0,d.P)()).subscribe({}),(0,ue.d7)(v.KI,v.RI).pipe((0,d.P)()).subscribe({})),k.h.dispatch((0,m.IW)(!0)),k.h.dispatch((0,m.Xc)({show:!1,message:""})),n("/dashboard")};return(0,i.useEffect)((function(){var e,t,n,l,o;""!==(null===r||void 0===r?void 0:r.name)&&((null===r||void 0===r||null===(e=r.steps)||void 0===e?void 0:e.length)>0||(null===r||void 0===r?void 0:r.steps)>0||(null===ve||void 0===ve||null===(t=ve.steps)||void 0===t?void 0:t.length)>0)?0===(null===(n=h.filter((function(e){return e.procedure.id===(null===r||void 0===r?void 0:r.id)})))||void 0===n?void 0:n.length)?k.h.dispatch((0,m.Xc)({show:!0,message:"You can now create modules. Modules are pages where your users can interact with the workflows and components you created. This is where transactions are created."})):(null===(l=h.filter((function(e){return e.procedure.id===(null===r||void 0===r?void 0:r.id)})))||void 0===l?void 0:l.length)>0&&1==(null===r||void 0===r||null===(o=r.steps)||void 0===o?void 0:o.length)&&k.h.dispatch((0,m.Xc)({show:!0,message:"To edit your step, click the box of your target step. The edit step modal will appear. There you can edit and update your step."})):""!==(null===r||void 0===r?void 0:r.name)&&(null===g||void 0===g?void 0:g.length)>0?1==r.created&&k.h.dispatch((0,m.Xc)({show:!0,message:"You have just created ".concat(null===r||void 0===r?void 0:r.name," workflow and modules. Kindly configure Modules. After doing this you can now use your workflow module.")})):""===(null===r||void 0===r?void 0:r.name)&&0==S.length&&(null===g||void 0===g?void 0:g.length)>0?(k.h.dispatch((0,m.Xc)({show:!0,message:"To begin building your Workflow, click the Edit button, enter name, description and save. You can also build components before creating your workflow."})),M(!0)):""===(null===r||void 0===r?void 0:r.name)&&S.length>0&&(null===g||void 0===g?void 0:g.length)>0?Ee(!0):0===(null===g||void 0===g?void 0:g.length)&&""===(null===r||void 0===r?void 0:r.name)&&k.h.dispatch((0,m.Xc)({show:!0,message:"To begin buiding your Workflow, start by creating blueprint components. Components are field data that you can use to gather information on your steps",action:function(){V(!0)}}))}),[h,r,g]),gl.createElement(gl.Fragment,null,gl.createElement("div",{className:Zt.Z.host},gl.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},gl.createElement("div",{style:T.tq?{padding:"0 0 0 10px",position:"fixed",bottom:"0"}:{padding:"0 0 0 10px"}},gl.createElement(f.zx,{title:"Close",clicked:function(){return xe()}})),gl.createElement("div",{style:T.tq?{display:"flex"}:{xposition:"flex",right:"0",top:"0",display:"flex",flexDirection:"row",padding:"0 10px 0 0px"}},gl.createElement(Sl,{onAddNewProcess:function(){M(!0)}}),""!==(null===r||void 0===r?void 0:r.name)&&(null===ve||void 0===ve||null===(t=ve.steps)||void 0===t?void 0:t.length)>0&&""!==(null===r||void 0===r?void 0:r.name)&&gl.createElement(bl,{onAddNewModule:function(){(null===b||void 0===b?void 0:b.eleventhModalVisible)&&k.h.dispatch((0,R.$6)({twelvthModalVisible:!0})),ee(!0)}}),gl.createElement(Cl,{onAddNewComponent:function(){Ne(void 0),ce({type:u.qY.resetSelectedBlueprintComponent}),V(!0)}}),0===h.filter((function(e){return e.procedure.id===(null===r||void 0===r?void 0:r.id)})).length&&""!==(null===r||void 0===r?void 0:r.name)&&gl.createElement(f.j3,{permissions:[f.po.blueprints.process.delete]},gl.createElement(f.zx,{light:!0,title:"Delete",clicked:function(){return F(!0)}}),gl.createElement("span",{className:Zt.Z.control})),gl.createElement(f.zx,{light:!0,icon:gl.createElement("img",{src:Oe.Fdh}),style:{width:"50px"},clicked:function(){(0,p.zJ)(r.id).pipe((0,d.P)()).subscribe({}),(0,ue.d7)(v.KI,v.RI).pipe((0,d.P)()).subscribe({})}}))),(null===g||void 0===g?void 0:g.length)>0&&gl.createElement("div",{className:Zt.Z.processNameContainer}),gl.createElement(ne.Z,{edit:!1,onEditStep:function(){(null===b||void 0===b?void 0:b.ninthModalVisible)&&k.h.dispatch((0,R.$6)({tenthModalVisible:!0})),N(!0)},onEditStepEnded:w,updateParent:function(e,t,n){!function(e,t,n){var l=null===ve||void 0===ve?void 0:ve.steps.find((function(t){return t.id===e}));if(l){he(!0);var a={name:l.name,parent_steps:1==n?Vt.Z([].concat((0,o.Z)(Vt.Z((0,o.Z)(kt.Z(Bt.Z(["id"]))(null===l||void 0===l?void 0:l.parent_steps)))),[t])):Vt.Z((0,o.Z)(kt.Z(Bt.Z(["id"]))(null===l||void 0===l?void 0:l.parent_steps.filter((function(e){return e.id!==t})))))};(0,p.T5)(a,l.id,!0).pipe((0,d.P)()).subscribe({next:function(e){(0,p.zJ)(r.id).pipe((0,d.P)()).subscribe({next:function(e){return k.h.dispatch((0,m.Xu)(e))}}),he(!1)},error:function(e){he(!1)}})}}(e,t,n)},updateStep:function(e){!function(e){var t=e;if(t){he(!0);var n={options:null===t||void 0===t?void 0:t.options};(0,p.T5)(n,t.id,!0).pipe((0,d.P)()).subscribe({next:function(e){k.h.dispatch((0,m.an)([].concat((0,o.Z)(C.filter((function(e){return e.id!==t.procedure_id}))),[(0,l.Z)((0,l.Z)({},r),{},{steps:e})]),1))}})}}(e)}})),w&&gl.createElement(yl,{visible:w,onClose:function(e){re(e),s(),N(!1),M(!1),G(!1)},onEditChange:function(e,t){V(!0),Ne(e)}}),B&&gl.createElement(f.U7,{isOpen:B,onClose:function(){return F(!1)},backdropColor:!0,blured:!0,shadowedContainerStyle:{minWidth:"600px",width:T.tq?"100%":"40%",height:"160px"}},gl.createElement("div",{className:Zt.Z.deleteModalContainer},gl.createElement("div",{className:Zt.Z.deleteModalTextContainer},gl.createElement("p",{className:Zt.Z.deteteModalText},"Are you sure you want to delete this workflow?")),gl.createElement("div",{className:Zt.Z.deleteModalButtonContainer},gl.createElement(f.zx,{title:"Delete",clicked:function(){return function(){var e;!(null!==r&&void 0!==r&&null!==(e=r.id)&&void 0!==e&&e.length)>0||(he(!0),(0,p.vo)(null===r||void 0===r?void 0:r.id).pipe((0,d.P)()).subscribe({next:function(e){F(!1),he(!1),re(!0),xe()},error:function(e){he(!1),F(!1)}}))}()},loading:ge}),gl.createElement(f.zx,{light:!0,title:"No, Go back",clicked:function(){return F(!1)}})))),W&&gl.createElement(_t,{selectedComponent:we,visible:W,onClose:function(e){re(e),V(!1)},onUpdate:function(e){k.h.dispatch((0,m.an)(C.filter((function(e){return e.id!==r.id})),1))}}),q&&gl.createElement(_t,{visible:q,onClose:function(){M(!1),Ee(!0),U(!1)},onUpdate:function(){k.h.dispatch((0,m.an)(C.filter((function(e){return e.id!==r.id})),1))}}),$&&gl.createElement(y.ZP,{onClose:function(){return ee(!1)},isOpen:$,modalStyle:{maxWidth:"500px"},selectedProcessId:null===r||void 0===r?void 0:r.id}),I&&gl.createElement(H,{onCreate:function(){M(!1),N(!0)},onClose:function(){return M(!1)},isOpen:I,modalStyle:{maxWidth:"500px"},selectedProcessId:null===r||void 0===r?void 0:r.id,selectedProcess:r,shadowedContainerStyle:{width:T.tq?"100%":"30%"}}),Y&&gl.createElement(H,{onCreate:function(){M(!1),N(!0)},onClose:function(){n("/")},isOpen:Y,modalStyle:{maxWidth:"500px"},selectedProcessId:null===r||void 0===r?void 0:r.id,selectedProcess:r,shadowedContainerStyle:{width:T.tq?"100%":"30%"}}),be&&gl.createElement(oe,{isOpen:be,onCreateBlank:function(){G(!0),Ee(!1)},onClose:function(){Ee(!1)},gotoProcess:function(e){M(!1),Ee(!1),k.h.dispatch((0,m.Xu)({name:null===e||void 0===e?void 0:e.name,description:null===e||void 0===e?void 0:e.description,id:e.id,is_pinned:null===e||void 0===e?void 0:e.is_pinned,user_id:null===e||void 0===e?void 0:e.user_id,registered:!0,type:null===e||void 0===e?void 0:e.type,steps:null===e||void 0===e?void 0:e.steps,shared_positions:null===e||void 0===e?void 0:e.shared_positions,created:!0}))},gotoComponents:function(){M(!1),Ee(!1),U(!0),ce({type:u.qY.resetSelectedBlueprintComponent})},modalStyle:{maxWidth:"500px"},selectedProcessId:null===r||void 0===r?void 0:r.id,selectedProcess:r,shadowedContainerStyle:{width:"65%",minWidth:"400px"}}))},Cl=function(e){var t=e.onAddNewComponent;return gl.createElement(f.zx,{light:!0,title:"Component",clicked:t})},Sl=function(e){var t=e.onAddNewProcess;return gl.createElement(f.zx,{light:!0,title:"Edit",clicked:t})},bl=function(e){var t=e.onAddNewModule;return gl.createElement(f.zx,{titleStyle:{fontWeight:"bold"},title:"Module",clicked:t,style:{backgroundColor:"var(--app-color-blue)"}})},El=(0,r.$j)((function(e){var t=e.flowReducer;return{selectedProcess:t.selectedProcess,blueprints:t.blueprints,allModules:t.allModules,companyProcesses:t.companyProcesses,workflowTemplates:t.workflowTemplates,onBoardingModalsVisibility:e.modalsReducer.onBoardingModalsVisibility}}),(function(e){return{onSetSelectedProStep:function(t){return e((0,m.Sc)(t))},onResetSelectedProStep:function(){return e((0,m.wv)())}}}))((function(e){return gl.createElement(s.jm,null,gl.createElement(c.FZ,null,gl.createElement(c.s_,null,gl.createElement(u.ij,null,gl.createElement(u.Xr,null,gl.createElement(hl,e))))))}))},51481:function(e,t,n){n.d(t,{Mk:function(){return m},_5:function(){return f},km:function(){return p},qp:function(){return v},vr:function(){return y},xJ:function(){return g},yW:function(){return c}});var l=n(1413),o=n(50981),a=n.n(o),i=n(95256),r=n(88374),d=n(88827),u=n(30994),s=n(96332),c=function(e){var t=d.h.getState().authReducer.sessionSettings.last_access_token,n=(0,l.Z)((0,l.Z)({},u.ns.tasks.getTaskById(t,e)),{},{handlerEnabled:!0});return new i.y((function(e){(0,s.b)(n).then((function(t){var n,l;200===(null===t||void 0===t?void 0:t.status)&&null!==t&&void 0!==t&&t.data&&null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.data&&(e.next(null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.data),e.complete())})).catch((function(t){e.error(t)}))}))},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=d.h.getState().authReducer.sessionSettings.last_access_token,c=d.h.getState().flowReducer,m=c.lastUpdates,p=c.allTasks,v=c.axiosAbort,f=(0,l.Z)((0,l.Z)({},u.ns.tasks.getAllTasksCreatedByUser(n,e)),{},{handlerEnabled:!0,signal:v.signal});return new i.y((function(e){t||a()((0,o.now)()).diff(a()(m.tasks),"minutes")>10||0===p.length?(0,s.b)(f).then((function(t){var n;if(200===(null===t||void 0===t?void 0:t.status)&&null!==t&&void 0!==t&&t.data&&null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.data){var l,o=null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.data;d.h.dispatch((0,r.rh)(o)),e.next(o),e.complete()}})).catch((function(t){e.error(t)})):e.complete()}))},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=d.h.getState().authReducer.sessionSettings.last_access_token,c=d.h.getState().flowReducer,m=c.lastUpdates,p=c.allTasks,v=c.axiosAbort,f=(0,l.Z)((0,l.Z)({},u.ns.tasks.getAllTasks(n,e)),{},{handlerEnabled:!0,signal:v.signal});return new i.y((function(e){t||a()((0,o.now)()).diff(a()(m.tasks),"minutes")>10||0===p.length?(0,s.b)(f).then((function(t){var n;if(200===(null===t||void 0===t?void 0:t.status)&&null!==t&&void 0!==t&&t.data&&null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.data){var a,i=null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.data;d.h.dispatch((0,r.rh)(i)),d.h.dispatch((0,r.C2)((0,l.Z)((0,l.Z)({},m),{},{tasks:(0,o.now)()}))),e.next(i),e.complete()}})).catch((function(t){e.error(t)})):e.complete()}))},v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=d.h.getState().authReducer.sessionSettings.last_access_token,m=(0,l.Z)((0,l.Z)({},u.ns.tasks.getAllCompletedTasks(c,e,t)),{},{handlerEnabled:!0}),p=d.h.getState().flowReducer,v=p.lastUpdates,f=p.allCompletedTasks;return new i.y((function(t){n||a()((0,o.now)()).diff(a()(v.allCompletedTasks),"minutes")>10||0===f.data.length?(0,s.b)(m).then((function(n){var l;if(200===(null===n||void 0===n?void 0:n.status)&&null!==n&&void 0!==n&&n.data&&null!==n&&void 0!==n&&null!==(l=n.data)&&void 0!==l&&l.data){var o=null===n||void 0===n?void 0:n.data;d.h.dispatch((0,r.cL)(o,e)),t.next(o),t.complete()}})).catch((function(e){t.error(e)})):t.complete()}))},f=function(e){var t=d.h.getState().authReducer.sessionSettings.last_access_token,n=new FormData,o=(0,l.Z)({},u.ns.tasks.deleteTask(t,e)),a=(0,l.Z)((0,l.Z)({},o),{},{headers:(0,l.Z)({},o.headers),data:n,handlerEnabled:!0});return new i.y((function(t){return(0,s.b)(a).then((function(n){200===(null===n||void 0===n?void 0:n.status)&&null!==n&&void 0!==n&&n.data&&(d.h.dispatch((0,r.Xc)({show:!0,message:"You have successfully deleted the task",color:"red"})),d.h.dispatch((0,r.OQ)(e)),t.next(n.data),t.complete())})).catch((function(e){t.error(e)}))}))},y=function(e){var t,n,o=d.h.getState().authReducer.sessionSettings.last_access_token,a=new FormData;a.append("name",e.taskName),a.append("description",e.taskDescription),a.append("due_date",e.dueDate),null!==e&&void 0!==e&&null!==(t=e.newAssignee)&&void 0!==t&&t.assignee_id&&a.append("assignee_id",e.newAssignee.assignee_id),e.taskProcess&&a.append("procedure_id",null===(n=e.taskProcess)||void 0===n?void 0:n.id),e.add_info&&a.append("add_info",JSON.stringify(e.add_info));var c=(0,l.Z)((0,l.Z)({},u.ns.tasks.createTask(o)),{},{data:a,handlerEnabled:!0});return new i.y((function(e){return(0,s.b)(c).then((function(t){var n;if(null!==t&&void 0!==t&&t.data&&null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.data){var l,o=null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.data;d.h.dispatch((0,r.Pb)(o)),d.h.dispatch((0,r.Xc)({show:!0,message:"You have successfully created a new task"})),e.next(o),e.complete()}})).catch((function(t){e.error(t)}))}))},g=function(e,t){var n,o=d.h.getState().authReducer.sessionSettings.last_access_token,a={name:e.name,description:e.description,due_date:e.due_date,assignee_id:e.assignee_id,status:null!==(n=null===e||void 0===e?void 0:e.status)&&void 0!==n?n:""};e.add_info&&(a.add_info=JSON.stringify(e.add_info));var c=(0,l.Z)((0,l.Z)({},u.ns.tasks.editTask(o,t)),{},{data:a,forwardAllErrors:!0});return new i.y((function(e){return(0,s.b)(c).then((function(t){var n;if(null!==t&&void 0!==t&&t.data&&null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.data){var l,o=null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.data;d.h.dispatch((0,r.eT)(o)),e.next(o),e.complete()}})).catch((function(t){e.error(t)}))}))}},22590:function(e,t){t.Z={host:"ProcessInfo_host__+oaqg",processControls:"ProcessInfo_processControls__2tdBF",sharePosition:"ProcessInfo_sharePosition__FqHsX",addStep:"ProcessInfo_addStep__uYhIL",addComponent:"ProcessInfo_addComponent__ZNJnb",buttonWrapper:"ProcessInfo_buttonWrapper__TYYT4",addStepTooltip:"ProcessInfo_addStepTooltip__rWSLm",addComponentTooltip:"ProcessInfo_addComponentTooltip__x6Vlz",messageContainer:"ProcessInfo_messageContainer__Ymk+d",title:"ProcessInfo_title__6a6i3",message:"ProcessInfo_message__kMz1c",customCheckbox:"ProcessInfo_customCheckbox__OHBxP",checkmark:"ProcessInfo_checkmark__jqo8a",closeButton:"ProcessInfo_closeButton__Xqtn-",control:"ProcessInfo_control__tSGLd",processNameContainer:"ProcessInfo_processNameContainer__EsIer",tutorialWrapper:"ProcessInfo_tutorialWrapper__Ijpgx",tutorialContainer:"ProcessInfo_tutorialContainer__6VGmK",processChartWrapper:"ProcessInfo_processChartWrapper__Q4jCW","react-tabs__tab--selected":"ProcessInfo_react-tabs__tab--selected__kT6jO","css-1hwfws3":"ProcessInfo_css-1hwfws3__oWVI5","css-1okebmr-indicatorSeparator":"ProcessInfo_css-1okebmr-indicatorSeparator__-YC+I","css-1gsw4b3":"ProcessInfo_css-1gsw4b3__9qcid","process-name":"ProcessInfo_process-name__nJ2CH","process-description":"ProcessInfo_process-description__C24Ws",container:"ProcessInfo_container__0EX6d",arrow_type2:"ProcessInfo_arrow_type2__VA3Ze","combined-shape":"ProcessInfo_combined-shape__WjWTZ","saved-description":"ProcessInfo_saved-description__Z5PuF",helper:"ProcessInfo_helper__7xoR9","rectangle-copy-4":"ProcessInfo_rectangle-copy-4__yjPo2",rectangle:"ProcessInfo_rectangle__kG0GD","rectangle-2":"ProcessInfo_rectangle-2__g+vZ8","rectangle-copy-3":"ProcessInfo_rectangle-copy-3__27bVn","new-step-modal":"ProcessInfo_new-step-modal__ur8v3","process-name-container":"ProcessInfo_process-name-container__noEII","input-search":"ProcessInfo_input-search__WA0Hv","editable-rectangle":"ProcessInfo_editable-rectangle__GgZ++",shareProcessHost:"ProcessInfo_shareProcessHost__k6ClQ",shareModalCloseButtonContainer:"ProcessInfo_shareModalCloseButtonContainer__4RcY9",shareModalCloseButton:"ProcessInfo_shareModalCloseButton__d19L0",shareModalClosebuttonImage:"ProcessInfo_shareModalClosebuttonImage__ctaAE",shareImage:"ProcessInfo_shareImage__MMQSA",shareProcessTitle:"ProcessInfo_shareProcessTitle__NcNb-",selectComponentContainer:"ProcessInfo_selectComponentContainer__ZGHp7",selectComponentTite:"ProcessInfo_selectComponentTite__HIPH3",selectComponent:"ProcessInfo_selectComponent__AqNdw",selectClearControlsClassName:"ProcessInfo_selectClearControlsClassName__2JBX7",selectListContainer:"ProcessInfo_selectListContainer__P13gF",shareButtonContainer:"ProcessInfo_shareButtonContainer__EmjbT",multiSelectContainer:"ProcessInfo_multiSelectContainer__cJOx5",multiselectComponent:"ProcessInfo_multiselectComponent__gZpac",multiSelectSearchInput:"ProcessInfo_multiSelectSearchInput__YmtV7",multiSelectMenuOverlayList:"ProcessInfo_multiSelectMenuOverlayList__MgB5l",multiSelectMenuOverlayListItem:"ProcessInfo_multiSelectMenuOverlayListItem__gW5lT",showTutorialContainer:"ProcessInfo_showTutorialContainer__pHXUK",deleteModalContainer:"ProcessInfo_deleteModalContainer__zJS6K",deleteModalTextContainer:"ProcessInfo_deleteModalTextContainer__23irp",deleteModalImage:"ProcessInfo_deleteModalImage__blHCS",deteteModalText:"ProcessInfo_deteteModalText__fp5WW",deleteModalButtonContainer:"ProcessInfo_deleteModalButtonContainer__dBunM",deleteModalCancelButton:"ProcessInfo_deleteModalCancelButton__9lDvo",errorContainer:"ProcessInfo_errorContainer__50zTL",paragraphNameContainer:"ProcessInfo_paragraphNameContainer__qBr8V",paragraphDescriptionContainer:"ProcessInfo_paragraphDescriptionContainer__1YFKM",rightSideContainer:"ProcessInfo_rightSideContainer__NWma5",usersHost:"ProcessInfo_usersHost__kRtg+"}}}]);
//# sourceMappingURL=7997.16eb8176.chunk.js.map