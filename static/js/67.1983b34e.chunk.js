"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[67],{30928:function(e,t,l){l.r(t),l.d(t,{default:function(){return _n}});var n=l(1413),o=l(93433),a=l(29439),i=l(67861),r=l(39518),d=l(11577),u=l(13845),s=l(95242),c=l(29937),m=l(88374),p=l(93389),v=l(89293),f=l(10904),y=l(85718),g="ProcessOptionsModal_host__4xb31",h="ProcessOptionsModal_target__Cmhw-",C="ProcessOptionsModal_title__JOTDc",S="ProcessOptionsModal_elementTextInput__8yK8r",b="ProcessOptionsModal_optionSection__Vj7zH",E="ProcessOptionsModal_controls__aDMTt",_="ProcessOptionsModal_controls2__fRbTq",Z="ProcessOptionsModal_errorContainer__YQXXM",w="ProcessOptionsModal_messageContainer__ca1I4",N="ProcessOptionsModal_selectComponentContainer__aYCuu",L="ProcessOptionsModal_multiSelectContainer__ee4zs",I="ProcessOptionsModal_multiSelectSearchInput__xCVpC",x="ProcessOptionsModal_multiSelectMenuOverlayList__bP915",M="ProcessOptionsModal_multiSelectMenuOverlayListItem__Gaoic",O=l(63077),k=l(88827),T=l(73500),B=l(27436),P=l(7162),F=l(46034),D=l(27197),A=l(90252);var W=l(34710),V=l(12075),z=l(52902),R=l(71982),j=l(67861),U=(l(66918),function(e){var t=e.children;return j.createElement("div",{className:b},t)}),q=(0,r.$j)((function(e){var t=e.flowReducer;return{companyProcesses:t.companyProcesses,companyPositionsArray:t.companyPositionsArray,allModules:t.allModules,components:t.components,onBoardingCompleted:t.onBoardingCompleted,companyData:t.companyData,onBoardingModalsVisibility:e.modalsReducer.onBoardingModalsVisibility}}))((function(e){var t,l,r,u=e.onClose,s=void 0===u?function(){}:u,y=e.onCreate,b=void 0===y?function(){}:y,T=e.isOpen,q=e.companyProcesses,K=e.selectedProcess,H=e.selectedProcessId,X=void 0===H?"":H,G=e.shadowedContainerStyle,Y=e.onBoardingCompleted,J=e.companyData,Q=e.onSkip,$=e.companyPositionsArray,ee=e.onBoardingModalsVisibility,te=(0,i.useState)(""!==(null===K||void 0===K?void 0:K.id)),le=(0,a.Z)(te,2),ne=le[0],oe=le[1],ae=(0,i.useState)(""),ie=(0,a.Z)(ae,2),re=ie[0],de=ie[1],ue=(0,i.useState)(K||void 0),se=(0,a.Z)(ue,2),ce=se[0],me=se[1],pe=(0,i.useState)(K?K.name:""),ve=(0,a.Z)(pe,2),fe=ve[0],ye=ve[1],ge=(0,i.useState)(K?K.description:""),he=(0,a.Z)(ge,2),Ce=he[0],Se=he[1],be=(0,i.useState)(""),Ee=(0,a.Z)(be,2),_e=Ee[0],Ze=Ee[1],we=(0,c._M)(),Ne=(0,a.Z)(we,2)[1],Le=(0,i.useState)(!1),Ie=(0,a.Z)(Le,2),xe=Ie[0],Me=Ie[1],Oe=(0,i.useState)(!1),ke=(0,a.Z)(Oe,2),Te=ke[0],Be=ke[1],Pe=(0,i.useState)(!1),Fe=(0,a.Z)(Pe,2),De=(Fe[0],Fe[1]),Ae=(0,i.useState)(null!==$&&void 0!==$?$:[]),We=(0,a.Z)(Ae,2),Ve=We[0],ze=We[1],Re=(0,i.useState)(null!==(t=null===K||void 0===K||null===(l=K.shared_positions)||void 0===l?void 0:l.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:e.id}})))&&void 0!==t?t:[]),je=(0,a.Z)(Re,2),Ue=je[0],qe=je[1],Ke=(0,i.useState)(!0),He=(0,a.Z)(Ke,2),Xe=(He[0],He[1]),Ge=(0,i.useState)([]),Ye=(0,a.Z)(Ge,2),Je=Ye[0],Qe=Ye[1],$e=(0,i.useState)(""),et=(0,a.Z)($e,2),tt=et[0],lt=et[1];(0,i.useEffect)((function(){1==ne&&((0,p.zJ)(X).pipe((0,d.P)()).subscribe({next:function(e){var t,l,n=null!==(t=null===e||void 0===e||null===(l=e.shared_positions)||void 0===l?void 0:l.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:e.id}})))&&void 0!==t?t:[];qe((0,o.Z)(n)),Xe(!1)},error:function(e){Xe(!1)}}),0==(null===$||void 0===$?void 0:$.length)&&(De(!0),Xe(!0),(0,W.OW)().pipe((0,d.P)()).subscribe({next:function(e){ze(null===e||void 0===e?void 0:e.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:e.id}}))),De(!1)},error:function(e){De(!1)}})))}),[ne,X]);var nt=(0,i.useCallback)((function(){Me(!0),lt(""),"superadmin"!==(null===J||void 0===J?void 0:J.status)?(0,p.QK)(X,null===Je||void 0===Je?void 0:Je.map((function(e){return null===e||void 0===e?void 0:e.value}))).pipe((0,d.P)(),function(e,t,l){var n=(0,P.m)(e)||t||l?{next:e,error:t,complete:l}:e;return n?(0,F.e)((function(e,t){var l;null===(l=n.subscribe)||void 0===l||l.call(n);var o=!0;e.subscribe((0,D.x)(t,(function(e){var l;null===(l=n.next)||void 0===l||l.call(n,e),t.next(e)}),(function(){var e;o=!1,null===(e=n.complete)||void 0===e||e.call(n),t.complete()}),(function(e){var l;o=!1,null===(l=n.error)||void 0===l||l.call(n,e),t.error(e)}),(function(){var e,t;o&&(null===(e=n.unsubscribe)||void 0===e||e.call(n)),null===(t=n.finalize)||void 0===t||t.call(n)})))})):A.y}({next:function(){},complete:function(){}})).subscribe({next:function(e){rt()},error:function(e){lt(ot(e))}}):rt()}),[X,Je,fe,Ce]),ot=(0,i.useCallback)((function(e){var t,l,n,o;if(!(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.errors||null===(l=e.data)||void 0===l)&&l.message)return null===(n=e.data)||void 0===n?void 0:n.message;if(null!==e&&void 0!==e&&null!==(o=e.data)&&void 0!==o&&o.errors){var a,i,r,d,u=/^(?:\D*\d)/g;return(null===(a=Object.values(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.errors))||void 0===a||null===(i=a.map((function(e){var t=null===e||void 0===e?void 0:e.map((function(e){var t,l=e.match(/\d/g)[0];return(null===e||void 0===e?void 0:e.replace(u,null===(t=Je[l])||void 0===t?void 0:t.label))+"\n"}));return null===t||void 0===t?void 0:t.join("")})))||void 0===i?void 0:i.join(""))+(null===(d=e.data)||void 0===d?void 0:d.message)}return""}),[Je]),at=(null===q||void 0===q?void 0:q.length)>0?q.map((function(e){return{label:e.name,value:e,process:e}})):[],it=function(){Ne({type:c.Cb.setAllSteps,value:[]}),Me(!0),(0,p.QN)(fe,Ce,null===ce||void 0===ce?void 0:ce.type).pipe((0,d.P)()).subscribe({next:function(e){Me(!1),k.h.dispatch((0,m.Xu)(e)),ee.seventhModalVisible&&k.h.dispatch((0,R.$6)({eightModalVisible:!0})),Ne({type:c.Cb.addNewStep,value:e.id}),b()},error:function(e){},complete:function(){}})},rt=(0,i.useCallback)((function(){Me(!0),(0,p.gQ)(null===ce||void 0===ce?void 0:ce.id,fe,Ce,null===ce||void 0===ce?void 0:ce.type).pipe((0,d.P)()).subscribe({next:function(e){Me(!1),k.h.dispatch((0,m.Xu)(e)),Y?null===s||void 0===s||s():b()}})}),[ce,fe,Ce]),dt={control:function(e,t){return(0,n.Z)((0,n.Z)({},e),{},{boxShadow:"none","&:hover":{border:"1px solid var(--app-color-gray-lighter)"},position:"relative",height:"60px",width:"101%",border:"var(--app-color-gray-lighter) solid 1px",borderRadius:"8px",padding:"3px",fontFamily:"var(--app-text-main-font)",fontSize:"1.4em",color:"#4A4A4A",textAlign:"left",flex:"1 1 auto",justifyContent:"center",alignItems:"center",alignContent:"center",alignSelf:"center",margin:"0px 0 0 0 ",marginBottom:"20px"})},input:function(e,t){return(0,n.Z)((0,n.Z)({},e),{},{fontFamily:"var(--app-text-main-font)",color:"#4A4A4A",width:"100%",textAlign:"left",fontSize:"0.8em",alignSelf:"center",padding:"0",marginLeft:0,textIndent:"0"})},menu:function(e,t){return(0,n.Z)((0,n.Z)({},e),{},{justifyContent:"center",alignItems:"center",verticalTextAlign:"center",alignContent:"center",fontFamily:"var(--app-text-main-font)"})},menulist:function(e,t){return(0,n.Z)((0,n.Z)({},e),{},{justifyContent:"center",alignItems:"center",verticalTextAlign:"center",alignContent:"center",fontFamily:"var(--app-text-main-font)"})},option:function(e,t){return(0,n.Z)((0,n.Z)({},e),{},{minHeight:15,paddingTop:0,fontSize:"1.1em",verticalTextAlign:"center",justifyContent:"center",alignItems:"center",alignContent:"center",fontFamily:"var(--app-text-main-font)"})},placeholder:function(e,t){return(0,n.Z)((0,n.Z)({},e),{},{fontSize:"0.75em",lineHeight:"20px",color:"#4A4A4A",fontWeight:400,overflow:"hidden",fontFamily:"var(--app-text-main-font)"})},singleValue:function(e,t){var l=t.isDisabled?.5:1;return(0,n.Z)((0,n.Z)({},e),{},{opacity:l,transition:"opacity 300ms",marginLeft:"0px",fontSize:"0.75em",lineHeight:"20px",color:"#4A4A4A",fontFamily:"var(--app-text-main-font)"})},indicatorsContainer:function(e,t){t._data;return(0,n.Z)((0,n.Z)({},e),{},{marginTop:"auto",marginBottom:"auto",color:"#4A4A4A",size:7,":hover":{color:"gray"},width:"65px",height:"45px",fontFamily:"var(--app-text-main-font)"})}};return j.createElement(f.U7,{isOpen:T,blured:!0,scrollable:!0,shadowedContainerStyle:G},j.createElement("div",{className:g},j.createElement("div",{className:h},j.createElement("p",{className:C,style:{display:Y?"":"none"}},(null===K||void 0===K||null===(r=K.id)||void 0===r?void 0:r.length)>0?"edit":"create new"," ","workflow"),j.createElement(U,null,e.children,j.createElement(f.Lb,{title:"Name of workflow"}),j.createElement("input",{type:"text",name:"element-name",value:fe,onChange:function(e){return ye(e.target.value)},className:S,style:{marginBottom:"10px"}}),j.createElement(f.Lb,{title:"Description of workflow"}),j.createElement("textarea",{type:"text",name:"element-name",value:Ce,onChange:function(e){return Se(e.target.value)},className:S,style:{marginBottom:"10px",height:"100px"}}),ne&&j.createElement(f.Lb,{title:"Show workflow to positions"}),ne&&j.createElement("div",{className:N},j.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"X",tagEmplacement:"inlined",items:Ve,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:Ue,className:L,inputClassName:I,molclassname:x,moliclassname:M,placeholder:"Select...",onChange:function(e){Qe(e)}},j.createElement(V.G,{icon:z.ptq,style:{marginRight:"10px"}})),(null===tt||void 0===tt?void 0:tt.length)>0&&j.createElement("span",{className:Z},tt)),j.createElement("br",null),j.createElement("br",null),at.length>0&&j.createElement(f.Lb,{title:"Select Another Workflow to Edit"}),at.length>0&&j.createElement(O.ZP,{onFocus:function(){return de("")},isSearchable:!1,key:"Workflow",styles:dt,placeholder:"Select workflow to edit...",components:{DropdownIndicator:v.ms},options:at,onChange:function(e){"New Workflow"!==e.label?(me(e.process),ye(e.process.name),Se(e.process.description),k.h.dispatch((0,m.Xu)(e.process)),oe(!0)):(k.h.dispatch((0,m.Xu)({description:"",id:"",is_pinned:!1,name:"",user_id:"",registered:!1,type:!1,steps:[]})),me({description:"",id:"",is_pinned:!1,name:"",user_id:"",registered:!1,type:!1,steps:[]}),ye(""),Se(""),oe(!1))}})),(null===_e||void 0===_e?void 0:_e.length)>0&&j.createElement(B.Z,{message:_e,onClick:function(){return Ze("")}}),(null===re||void 0===re?void 0:re.length)>0&&j.createElement("span",{className:w,onClick:function(){return de("")}},re)),j.createElement("div",{className:Y?E:_},Y&&j.createElement(f.zx,{title:"Close",clicked:s}),!Y&&j.createElement(f.zx,{light:!0,title:"Back",clicked:s}),!ne&&Y&&j.createElement(f.zx,{light:!0,title:"Save",loading:xe,clicked:it}),j.createElement("div",{style:{display:"flex"}},!ne&&!Y&&j.createElement(f.zx,{title:"Skip",loading:Te,clicked:function(){Be(!0),Q()}}),!ne&&!Y&&j.createElement(f.zx,{title:"Create",loading:xe,clicked:it})),ne&&j.createElement(f.zx,{light:!0,title:"Update",loading:xe,clicked:nt}))))})),K="WorkflowTemplatesModal_host__Q3zbH",H="WorkflowTemplatesModal_header__N8ZLt",X="WorkflowTemplatesModal_title__23bdy",G="WorkflowTemplatesModal_subtitle__oBjjB",Y="WorkflowTemplatesModal_controls__ajc+K",J="WorkflowTemplatesModal_trialTitle__dTNg9",Q="WorkflowTemplatesModal_subTitle__Bzxqf",$="WorkflowTemplatesModal_trialText__c0htd",ee="WorkflowTemplatesModal_currentInvoicesContainer__-k6ew",te=l(23280),le=l(60761),ne=l(67861),oe=(0,r.$j)((function(e){var t=e.flowReducer;return{companyProcesses:t.companyProcesses,companyPositionsArray:t.companyPositionsArray,allModules:t.allModules,components:t.components,onBoardingCompleted:t.onBoardingCompleted,workflowTemplates:t.workflowTemplates}}))((function(e){var t=e.isOpen,l=e.shadowedContainerStyle,n=e.onCreateBlank,o=e.gotoProcess,u=e.workflowTemplates,s=e.gotoComponents,y=(0,i.useState)(!1),g=(0,a.Z)(y,2),h=g[0],C=g[1],S=(0,i.useState)({name:"",steps:[]}),b=(0,a.Z)(S,2),E=b[0],_=b[1],Z=(0,r.v9)((function(e){return e.modalsReducer})),w=Z.onBoardingModalsVisibility,N=(Z.isOnboarding,w.secondModalVisible),L=w.fourthModalVisible,I=w.sixthModalVisible,x=w.templatesFirst,M=(0,r.I0)();document.title="New Workflow | ".concat(v.iC);var O=(0,te.s0)(),T=function(){M((0,m.Xu)(void 0)),k.h.dispatch((0,m.Xc)({show:!1,message:""})),O("/")};return ne.createElement(c.FZ,null,ne.createElement(f.U7,{isOpen:t,blured:!1,scrollable:!0,shadowedContainerStyle:l,onClose:T},ne.createElement("div",{className:K},ne.createElement("div",{style:{display:"flex",alignItems:"center"}},ne.createElement("p",{className:X},"New Workflow"),ne.createElement(f.zx,{clear:!0,loading:h})),ne.createElement("p",{className:G},"Start a new workflow or select from any of our predefined workflow templates"),ne.createElement("div",{style:{display:""===(null===E||void 0===E?void 0:E.name)||h?"none":"",width:"100%"}},ne.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"0 30px 0 30px"}},ne.createElement(f.zx,{title:"Hide",light:!0,clicked:function(){_({name:""}),C(!1),M((0,m.Xu)({name:"",steps:[]}))}}),ne.createElement(f.zx,{title:"Create",light:!0,style:{color:"white",backgroundColor:"green"},clicked:function(){C(!0),(0,p.yx)(E).pipe((0,d.P)()).subscribe({next:function(e){C(!1),o(e)},error:function(e){C(!1)}})}})),ne.createElement(le.Z,null)),null===u||void 0===u?void 0:u.map((function(e,t){return ne.createElement("div",{className:ee,style:{maxWidth:"40%",minWidth:"260px",width:"30%",backgroundColor:x&&"Customer Creation"===e.name?"lightblue":""},key:t},ne.createElement("p",{className:J},"Workflow Template"),ne.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",marginBottom:"20px"}}),!h&&ne.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"right"}},ne.createElement(f.zx,{disabled:h,title:(null===E||void 0===E?void 0:E.name)===e.name?"Create":"View",style:{display:(null===E||void 0===E?void 0:E.name)===e.name?"none":"",backgroundColor:(null===E||void 0===E?void 0:E.name)===e.name?"green":"rgb(83, 159, 234)",width:"80px",minWidth:"80px"},clicked:function(){(null===E||void 0===E?void 0:E.name)!==e.name?(window.scrollTo({top:0,behavior:"smooth"}),_(e),M((0,m.Xu)(e)),x&&M((0,R.$6)({templatesSecond:!0}))):(C(!0),(0,p.yx)(E).pipe((0,d.P)()).subscribe({next:function(e){C(!1),o(e)},error:function(e){C(!1)}}))}})),ne.createElement("br",null),ne.createElement("div",{className:H},ne.createElement("p",{className:$},"".concat(e.name))),ne.createElement("br",null),ne.createElement("br",null),ne.createElement("p",{className:Q},"".concat(e.description)))})),ne.createElement("div",{className:ee,style:{maxWidth:"40%",minWidth:"260px",width:"30%",backgroundColor:N||L?"lightblue":""}},ne.createElement("p",{className:J},"Components"),ne.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",marginBottom:"20px"}}),ne.createElement("div",{className:H},ne.createElement("p",{className:$},"Create Components"),ne.createElement(f.zx,{disabled:h,title:"Open",style:{width:"80px",minWidth:"80px"},clicked:function(){N&&M((0,R.$6)({thirdModalVisible:!0})),L&&M((0,R.$6)({fifthModalVisible:!0})),s()}})),ne.createElement("br",null),ne.createElement("br",null),ne.createElement("p",{className:Q},"Components are objects that workflows use to input or output informations. In forms they are usally called fields.")),ne.createElement("div",{className:ee,style:{maxWidth:"40%",minWidth:"260px",width:"30%",backgroundColor:I?"lightblue":""}},ne.createElement("p",{className:J},"New Workflow"),ne.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",marginBottom:"20px"}}),ne.createElement("div",{className:H},ne.createElement("p",{className:$},"Blank Workflow"),ne.createElement(f.zx,{disabled:h,title:"Open",style:{width:"80px",minWidth:"80px"},clicked:function(){I&&M((0,R.$6)({seventhModalVisible:!0})),n()}})),ne.createElement("br",null),ne.createElement("br",null),ne.createElement("p",{className:Q},"Create your workflow using a blank canvass"))),ne.createElement("div",{className:Y},ne.createElement(f.zx,{disabled:h,loading:h,title:"Close",clicked:T}))))})),ae=l(87546),ie=l(35606),re=l(13397),de=l(98032),ue=(l(66596),l(6073)),se=l(4358),ce="ComponentsModal_host__d5q2n",me="ComponentsModal_title__1eiWg",pe="ComponentsModal_fieldRow__gg9Nz",ve="ComponentsModal_fieldRowContent__Ylhmb",fe="ComponentsModal_fieldRowControls__F17z0",ye="ComponentsModal_typeText__58xUE",ge="ComponentsModal_fieldTypeInput__Pyosc",he="ComponentsModal_warningContainer__V1j68",Ce="ComponentsModal_peoplePositionsSelect__6lG4K",Se="ComponentsModal_peoplePositionsSelectInput__O5Mfe",be="ComponentsModal_peoplePositionsSelectMenuOverlay__oF43q",Ee="ComponentsModal_peoplePositionsSelectMenuOverlayItem__efdLS",_e="ComponentsModal_selectedFieldsContainer__SaWzh",Ze="ComponentsModal_elementTextInput__JbVsI",we="ComponentsModal_fieldType__ifgEs",Ne=l(71002),Le=l(47144),Ie=l.n(Le),xe=l(66180),Me=l.n(xe),Oe=l(85692),ke=l(30994),Te=l(96332),Be=l(95256),Pe=(l(88502),l(50981)),Fe=l.n(Pe),De=l(66918),Ae={host:"FieldOptionsModal_host__+NDEc",closeContainer:"FieldOptionsModal_closeContainer__VBxuW",closeElement:"FieldOptionsModal_closeElement__xlo+y",closeIcon:"FieldOptionsModal_closeIcon__ga2TN",target:"FieldOptionsModal_target__ruE2b",optionSection:"FieldOptionsModal_optionSection__aAlGM",optionSettings:"FieldOptionsModal_optionSettings__py99w",title:"FieldOptionsModal_title__jqNO1",subtitle:"FieldOptionsModal_subtitle__26Gfa",elementInputTitle:"FieldOptionsModal_elementInputTitle__AAoAr",readOnlyTextInput:"FieldOptionsModal_readOnlyTextInput__Gff1d",elementTextArea:"FieldOptionsModal_elementTextArea__MCisO",elementTextInput:"FieldOptionsModal_elementTextInput__ywFdu",unfocusableWrapper:"FieldOptionsModal_unfocusableWrapper__sul2H",numberOptionsContainer:"FieldOptionsModal_numberOptionsContainer__9Adnt",renderBooleansOptions:"FieldOptionsModal_renderBooleansOptions__R4F-q",phonePrefixContainer:"FieldOptionsModal_phonePrefixContainer__X-k-T",phonePrefixSelectContainer:"FieldOptionsModal_phonePrefixSelectContainer__XK7PK",phoneIDropdown:"FieldOptionsModal_phoneIDropdown__f5MvN",phoneISearch:"FieldOptionsModal_phoneISearch__d42v9",phonePrefixText:"FieldOptionsModal_phonePrefixText__yi1yt",phoneIContainer:"FieldOptionsModal_phoneIContainer__YguKy",phoneIInput:"FieldOptionsModal_phoneIInput__xTFtX",phoneIButton:"FieldOptionsModal_phoneIButton__d4ccV","react-tel-input":"FieldOptionsModal_react-tel-input__Vdvqo","country-list":"FieldOptionsModal_country-list__bWUIZ","selected-flag":"FieldOptionsModal_selected-flag__RSASJ",open:"FieldOptionsModal_open__tDETU",currencySelectContainer:"FieldOptionsModal_currencySelectContainer__Vd4e9",currencySymbol:"FieldOptionsModal_currencySymbol__6RUaW",currencySelectComponent:"FieldOptionsModal_currencySelectComponent__BofG5",currencySelectMenuOverlayList:"FieldOptionsModal_currencySelectMenuOverlayList__xNU7C",currencySelectMenuOverlayListItem:"FieldOptionsModal_currencySelectMenuOverlayListItem__Z+vtS",currencySearchInput:"FieldOptionsModal_currencySearchInput__SKNfN",currencyClearControlsClassName:"FieldOptionsModal_currencyClearControlsClassName__Tsou1",uploadSelectComponent:"FieldOptionsModal_uploadSelectComponent__aIDW9",multiselectContainer:"FieldOptionsModal_multiselectContainer__VfjNY",uploadSearchInput:"FieldOptionsModal_uploadSearchInput__SM79r",maxFileSizeInput:"FieldOptionsModal_maxFileSizeInput__f2cLT",uploadFileSizeMeasureUnit:"FieldOptionsModal_uploadFileSizeMeasureUnit__FzVcE",uploadSelectMenuOverlayList:"FieldOptionsModal_uploadSelectMenuOverlayList__BCrMO",uploadSelectMenuOverlayListItem:"FieldOptionsModal_uploadSelectMenuOverlayListItem__Qkdru",dateTimePickerContainer:"FieldOptionsModal_dateTimePickerContainer__qjVxA",dateTimePickerTrigger:"FieldOptionsModal_dateTimePickerTrigger__judgV",dateAutosizeInput:"FieldOptionsModal_dateAutosizeInput__CsxLi",dateOptionsContainer:"FieldOptionsModal_dateOptionsContainer__Haxqc",dropdownElementHost:"FieldOptionsModal_dropdownElementHost__E7zgm",dropdownSymbol:"FieldOptionsModal_dropdownSymbol__5ABYM",dropdownSelectComponent:"FieldOptionsModal_dropdownSelectComponent__nArXq",dropdownSelectMenuOverlayList:"FieldOptionsModal_dropdownSelectMenuOverlayList__5n+3u",dropdownSelectMenuOverlayListItem:"FieldOptionsModal_dropdownSelectMenuOverlayListItem__QEn6G",dropdownInput:"FieldOptionsModal_dropdownInput__U3JY1",dropdownClearControlsClassName:"FieldOptionsModal_dropdownClearControlsClassName__FjsP5",dropdownListContainer:"FieldOptionsModal_dropdownListContainer__I6Y7K",dropDownButtonContainer:"FieldOptionsModal_dropDownButtonContainer__9K7oX",addDropdownOptionButton:"FieldOptionsModal_addDropdownOptionButton__EAca1",addDropdownOptionIcon:"FieldOptionsModal_addDropdownOptionIcon__XYMOa",dropDownNewListItemInputContainer:"FieldOptionsModal_dropDownNewListItemInputContainer__QgqO+",dropDownNewListItemInput:"FieldOptionsModal_dropDownNewListItemInput__u4m7R",dropdownInputButtonSaveNewItem:"FieldOptionsModal_dropdownInputButtonSaveNewItem__Wj4Cc",dropdownListItemsContainer:"FieldOptionsModal_dropdownListItemsContainer__yUWal",renderEditableListContainer:"FieldOptionsModal_renderEditableListContainer__H4aqe",renderEditableListItemInput:"FieldOptionsModal_renderEditableListItemInput__KLSTJ",renderEditableListItemDeleteButton:"FieldOptionsModal_renderEditableListItemDeleteButton__+u21c",peopleContainer:"FieldOptionsModal_peopleContainer__pfgvy",peopleBooleansOptions:"FieldOptionsModal_peopleBooleansOptions__OJGc9",peoplePositionSelectContainer:"FieldOptionsModal_peoplePositionSelectContainer__WVMlT",peoplePositionsSelect:"FieldOptionsModal_peoplePositionsSelect__WvnuB",peoplePositionsSelectMenuOverlay:"FieldOptionsModal_peoplePositionsSelectMenuOverlay__MhaEf",peoplePositionsSelectMenuOverlayItem:"FieldOptionsModal_peoplePositionsSelectMenuOverlayItem__n-2C5",controls:"FieldOptionsModal_controls__bDTZg",deleteButton:"FieldOptionsModal_deleteButton__YT1QH",errorContainer:"FieldOptionsModal_errorContainer__Pvvt9",componentsSelectContainer:"FieldOptionsModal_componentsSelectContainer__y8BMn",componentsSymbol:"FieldOptionsModal_componentsSymbol__sqPYL",componentsSelectComponent:"FieldOptionsModal_componentsSelectComponent__WhkRj",componentsSelectMenuOverlayList:"FieldOptionsModal_componentsSelectMenuOverlayList__tR9cX",componentsSelectMenuOverlayListItem:"FieldOptionsModal_componentsSelectMenuOverlayListItem__ptRPc",componentsSearchInput:"FieldOptionsModal_componentsSearchInput__MTz6p",ccomponentsClearControlsClassName:"FieldOptionsModal_ccomponentsClearControlsClassName__WMR5x"},We=l(66918),Ve=[{label:"Display as text",value:"text"},{label:"Display as Horizontal Bar",value:"bar"}],ze=function(e){var t,l,d,s,c,m,p,y,g,h,C,S,b,E,_,Z,w,N,L,I,x,M,O,k,T,B,P,F,D,A,W,V,z,R,j,U,q,K,H,X,G,Y,J,Q,$,ee,te,le,ne,oe,ae,ie,re,de,ue,se,ce,me,pe,ve,fe,ye,ge,he,Ce,Se,be,Ee,_e,Ze,we,Le,xe,Me,Oe,ke,Te,Be,Pe,Fe,De,ze,ft,Zt,wt,Nt,Lt,It,xt,Mt,Ot,kt,Tt,Bt,Pt,Ft,Dt,At,Wt,Vt,zt,Rt,jt,Ut,qt,Kt,Ht,Xt,Gt,Yt,Jt,Qt,$t,el,tl,ll,nl,ol,al,il,rl,dl,ul,sl,cl,ml,pl,vl,fl,yl,gl,hl,Cl,Sl,bl,El,_l,Zl,wl,Nl,Ll,Il,xl,Ml,Ol,kl,Tl,Bl,Pl=e.onClose,Fl=e.isOpen,Dl=e.leftControlLoading,Al=e.leftControlAction,Wl=e.centralControlAction,Vl=e.centralControlLoading,zl=e.modalStyle,Rl=e.allModules,jl=e.blueprints,Ul=e.selectedFields,ql=e.components,Kl=e.products,Hl=e.companyProcesses,Xl=e.readOnly,Gl=void 0!==Xl&&Xl,Yl=(0,u.aL)(),Jl=(0,a.Z)(Yl,1)[0],Ql=(null===Jl||void 0===Jl?void 0:Jl.selectedFieldFromSelectedBlueprintComponent)||{},$l=Ql.field_type,en=void 0===$l?{}:$l,tn=Ql.id,ln=Ql.value,nn=Ql.options,on=(0,i.useState)(ln),an=(0,a.Z)(on,2),rn=an[0],dn=an[1],un=(0,i.useState)(!1),sn=(0,a.Z)(un,2),cn=sn[0],mn=sn[1],pn=(0,i.useState)((0,n.Z)({},nn)),vn=(0,a.Z)(pn,2),fn=vn[0],yn=vn[1],gn=(0,i.useState)({}),hn=(0,a.Z)(gn,2),Cn=hn[0],Sn=hn[1],bn=(0,r.v9)((function(e){return e.flowReducer})),En=bn.companyPositionsArray,_n=bn.companyDepartments,Zn=(0,i.useState)(We.sortWith([We.ascend(We.prop("department_name"))])(null===En||void 0===En?void 0:En.map((function(e){var t;return{label:e.label,value:e.value,department_name:e.department,department_id:null===(t=_n.find((function(t){return t.label==e.department})))||void 0===t?void 0:t.value}})))),wn=(0,a.Z)(Zn,1)[0],Nn=(0,i.useState)(null===nn||void 0===nn?void 0:nn.interval),Ln=(0,a.Z)(Nn,2),In=Ln[0],xn=Ln[1],Mn=(0,i.useState)(null===nn||void 0===nn?void 0:nn.field),On=(0,a.Z)(Mn,2),kn=On[0],Tn=On[1],Bn=(0,i.useState)([{label:"Firstname",value:"first_name"},{label:"Lastname",value:"last_name"},{label:"Username",value:"username"},{label:"Email",value:"email"},{label:"Address",value:"address"},{label:"City",value:"city"},{label:"Postal",value:"postal"},{label:"Phone",value:"phone"},{label:"Timezone",value:"timezone"}]),Pn=(0,a.Z)(Bn,1)[0],Fn=(0,i.useCallback)((function(){var e,t,l={general:"",name:"",list:"",type:""};((null===rn||void 0===rn||null===(e=rn.trim())||void 0===e?void 0:e.length)<1&&(l.name="Element name must have at least one letter character"),en&&We.has("options")(en))&&(null===en||void 0===en||null===(t=en.options)||void 0===t||t.forEach((function(e){var t;"object"!==(0,Ne.Z)(e)&&(We.has(null===e||void 0===e?void 0:e.toString())(fn)||(l.general="Mandatory fields are not completed,"),(!fn[e]||null!==fn&&void 0!==fn&&fn[e]&&(null===(t=fn[e])||void 0===t?void 0:t.length)<1)&&(l[e]=" ".concat(e," was not provided")))})));return Sn(l),!!Object.values(l).every((function(e){return""===e}))}),[fn,rn,en,nn]),Dn=(0,i.useCallback)((function(){cn&&Fn()}),[cn,Fn]);(0,i.useEffect)((function(){Dn()}),[Dn]);var An=(0,i.useCallback)((function(){mn(!0),Fn()&&(null===Wl||void 0===Wl||Wl({id:tn,value:rn,options:fn}))}),[Wl,fn,rn,tn,Fn]);return i.createElement(f.U7,{isOpen:Fl,blured:!0,scrollable:!0,shadowedContainerStyle:zl},i.createElement("div",{className:Ae.host},i.createElement("div",{className:Ae.target},i.createElement("p",{className:Ae.title},"edit ".concat(null===en||void 0===en?void 0:en.name)),i.createElement(Ue,{errorMessage:Object.values(Cn).length>0?Object.values(Cn).filter((function(e){return""!==e})):""}),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Field Name"}),i.createElement("input",{type:"text",name:"element-name",value:rn,onChange:function(e){return t=e.target.value,void dn(t);var t},className:Ae.elementTextInput,readOnly:"Template"===en.name})),"number"===(null===en||void 0===en||null===(t=en.name)||void 0===t?void 0:t.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(qe,{validationErrors:Cn,defaultValue:"numeric"==(null===nn||void 0===nn?void 0:nn.type),onChangeType:function(e){yn({type:e})}}),i.createElement(Ue,{errorMessage:null===Cn||void 0===Cn?void 0:Cn.type},i.createElement(f.Lb,{title:"Output display"}),i.createElement(f.sm,{"apps-variant":null!==Cn&&void 0!==Cn&&Cn.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:Ve,defaultSelectedItem:Ve.find((function(e){return e.value===(null===fn||void 0===fn?void 0:fn.display)})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){"bar"===(null===e||void 0===e?void 0:e.value)?yn((0,n.Z)((0,n.Z)({},fn),{},{display:null===e||void 0===e?void 0:e.value,chart:!1})):(null===fn||void 0===fn||delete fn.barC,null===fn||void 0===fn||delete fn.maxC,null===fn||void 0===fn||delete fn.max,yn((0,n.Z)((0,n.Z)({},fn),{},{display:null===e||void 0===e?void 0:e.value})))}}))),"bar"===(null===fn||void 0===fn?void 0:fn.display)&&i.createElement(Ue,{errorMessage:null===Cn||void 0===Cn?void 0:Cn.name},i.createElement(f.Lb,{title:"Maximum Value"}),i.createElement("input",{type:"text",name:"element-name",value:fn.max,onBlur:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{max:e.target.value}))},className:Ae.elementTextInput}),i.createElement(f.Lb,{title:"Color - Formula Value"}),i.createElement("input",{type:"text",className:Ae.elementTextInput,style:{borderRight:"white"===(null===fn||void 0===fn?void 0:fn.barC)?"white":"50px solid ".concat(null!==(l=null===fn||void 0===fn?void 0:fn.barC)&&void 0!==l?l:"#F6F4EC")},defaultValue:null!==(d=null===fn||void 0===fn?void 0:fn.barC)&&void 0!==d?d:"#F6F4EC",onBlur:function(e){return yn((0,n.Z)((0,n.Z)({},fn),{},{barC:e.target.value}))}}),i.createElement(f.Lb,{title:"Color - Formula Max Value"}),i.createElement("input",{type:"text",className:Ae.elementTextInput,style:{borderRight:"white"===(null===fn||void 0===fn?void 0:fn.maxC)?"white":"50px solid ".concat(null!==(s=null===fn||void 0===fn?void 0:fn.maxC)&&void 0!==s?s:"yellow")},defaultValue:null!==(c=null===fn||void 0===fn?void 0:fn.maxC)&&void 0!==c?c:"yellow",onBlur:function(e){return yn((0,n.Z)((0,n.Z)({},fn),{},{maxC:e.target.value}))}})),"percentage"===(null===fn||void 0===fn?void 0:fn.type)&&"bar"!==(null===fn||void 0===fn?void 0:fn.display)&&i.createElement(f.pd,{id:"Show chart for percentage value",title:"Show chart for percentage value",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===fn||void 0===fn?void 0:fn.chart,toggleSelected:function(e){yn(e?(0,n.Z)((0,n.Z)({},fn),{},{chart:!0}):(0,n.Z)((0,n.Z)({},fn),{},{chart:!1}))}})),"url"===(null===en||void 0===en||null===(m=en.name)||void 0===m?void 0:m.toLowerCase())&&i.createElement(He,{validationErrors:Cn,defaultType:"image"==(null===nn||void 0===nn?void 0:nn.type),defaultValue:null!==(p=null===nn||void 0===nn?void 0:nn.value)&&void 0!==p?p:"",onChangeType:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{type:e}))},onChangeValue:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{value:e}))}}),"checkbox"===(null===en||void 0===en||null===(y=en.name)||void 0===y?void 0:y.toLowerCase())&&i.createElement(Xe,{validationErrors:Cn,defaultValue:null!==(g=null===nn||void 0===nn?void 0:nn.value)&&void 0!==g?g:"",onChangeValue:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{value:e}))}}),"phone"===(null===en||void 0===en||null===(h=en.name)||void 0===h?void 0:h.toLowerCase())&&i.createElement(Ge,{validationErrors:Cn,countryCode:null===nn||void 0===nn?void 0:nn.country_code,defaultValue:(null===nn||void 0===nn?void 0:nn.country_prefix)+" "+(null===nn||void 0===nn?void 0:nn.country_name),onChange:function(e){return yn(e)}}),"currency"===(null===en||void 0===en||null===(C=en.name)||void 0===C?void 0:C.toLowerCase())&&i.createElement(Ye,{validationErrors:Cn,defaultValue:We.find(We.propEq("value",null===nn||void 0===nn?void 0:nn.currency_value))(v.s3),onCurrencySelected:function(e){yn({currency_type:null===e||void 0===e?void 0:e.label,currency_value:null===e||void 0===e?void 0:e.value,symbol:null===e||void 0===e?void 0:e.symbol})}}),"action button"===(null===en||void 0===en||null===(S=en.name)||void 0===S?void 0:S.toLowerCase())&&i.createElement(Je,{validationErrors:Cn,defaultValue:null===nn||void 0===nn?void 0:nn.action,onActionSelected:function(e){yn({action:null===e||void 0===e?void 0:e.value})}}),"value button"===(null===en||void 0===en||null===(b=en.name)||void 0===b?void 0:b.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(Ue,null,i.createElement(f.Lb,{title:"Button label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null===fn||void 0===fn?void 0:fn.label,onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{label:e.target.value}))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Button Image (Optional)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null===fn||void 0===fn?void 0:fn.image,onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{image:e.target.value}))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Value to set"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null===fn||void 0===fn?void 0:fn.value,onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{value:e.target.value}))}}))),i.createElement(f.pd,{id:"Use selection as decision for step",title:"Use selection as decision for step?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===fn||void 0===fn?void 0:fn.decision,toggleSelected:function(e){yn(e?(0,n.Z)((0,n.Z)({},fn),{},{decision:!0}):(0,n.Z)((0,n.Z)({},fn),{},{decision:!1,jump1:void 0}))}}),(null===fn||void 0===fn?void 0:fn.decision)&&i.createElement(Ue,{errorMessage:null===Cn||void 0===Cn?void 0:Cn.position_id},i.createElement(f.Lb,{title:"Process where to look for step"}),i.createElement(f.sm,{"app-variant":null!==Cn&&void 0!==Cn&&Cn.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},i.createElement(f.rk,{items:Hl.map((function(e){return{label:e.name,value:e.id,process:e}})),defaultSelected:{label:null===(E=Hl.find((function(e){return e.id===(null===fn||void 0===fn?void 0:fn.process)})))||void 0===E?void 0:E.name},className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{process:e.value}))}}))),(null===fn||void 0===fn?void 0:fn.decision)&&fn.process&&i.createElement(Ue,{errorMessage:null===Cn||void 0===Cn?void 0:Cn.position_id},i.createElement(f.Lb,{title:"Selection jumps to step"}),i.createElement(f.sm,{"app-variant":null!==Cn&&void 0!==Cn&&Cn.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},i.createElement(f.rk,{items:null===(_=Hl.find((function(e){return e.id===(null===fn||void 0===fn?void 0:fn.process)})))||void 0===_||null===(Z=_.steps)||void 0===Z?void 0:Z.map((function(e){return{label:e.name,value:e.id,step:e}})),defaultSelected:{label:null===(w=Hl.find((function(e){return e.id===(null===fn||void 0===fn?void 0:fn.process)})))||void 0===w||null===(N=w.steps)||void 0===N||null===(L=N.find((function(e){return e.id===fn.jump1})))||void 0===L?void 0:L.name},className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{jump1:e.value}))}})))),"profile"===(null===en||void 0===en||null===(I=en.name)||void 0===I?void 0:I.toLowerCase())&&i.createElement(Qe,{validationErrors:Cn,defaultValue:null===nn||void 0===nn?void 0:nn.type,defaultOption:fn,onProfileSelected:function(e){yn({type:null===e||void 0===e?void 0:e.value})}}),"upload"===(null===en||void 0===en||null===(x=en.name)||void 0===x?void 0:x.toLowerCase())&&i.createElement(vt,{validationErrors:Cn,defaultMaxSize:null!==(M=+(null===nn||void 0===nn?void 0:nn.max_file_size)/1024)&&void 0!==M?M:51200,onMaxFileSizeChanged:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{max_file_size:1024*+e}))},defaultList:nn.accepted_mimes,onListSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{accepted_mimes:e}))}}),"date"===(null===en||void 0===en||null===(O=en.name)||void 0===O?void 0:O.toLowerCase())&&i.createElement(Ke,{validationErrors:Cn,defaultValue:"single"==(null===fn||void 0===fn?void 0:fn.type),defaultAuto:null===fn||void 0===fn?void 0:fn.auto,defaultTime:null===fn||void 0===fn?void 0:fn.time,onChangeType:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{type:e}))},onExceeded:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{auto:e}))},withTime:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{time:e}))}}),"people"===(null===en||void 0===en||null===(k=en.name)||void 0===k?void 0:k.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(ht,{validationErrors:Cn,allModules:Rl,defaultType:null===fn||void 0===fn?void 0:fn.type,defaultAssign:null===fn||void 0===fn?void 0:fn.assign,defaultEmail:null===fn||void 0===fn?void 0:fn.email,defaultCalendar:null===fn||void 0===fn?void 0:fn.calendar,defaultSlider:null===fn||void 0===fn?void 0:fn.slider,onChangeSlider:function(e){yn(1==e?(0,n.Z)((0,n.Z)({},fn),{},{slider:!0,calendar:!1}):(0,n.Z)((0,n.Z)({},fn),{},{slider:!1,info:!1,other:!1}))},onCalendar:function(e){yn(1==e?(0,n.Z)((0,n.Z)({},fn),{},{calendar:!0,slider:!1,assign:!1,info:!1,other:!1}):(0,n.Z)((0,n.Z)({},fn),{},{calendar:!1}))},defaultModule:Rl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===fn||void 0===fn?void 0:fn.module_id)&&void 0!==t?t:"")})),defaultPositions:null!==(T=null===fn||void 0===fn?void 0:fn.position_id)&&void 0!==T?T:[],onChangeType:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{type:e}))},onChangeEmail:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{email:e}))},onChangeAssign:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{assign:e}))},onChangeList:function(e){e.length>0?yn((0,n.Z)((0,n.Z)({},fn),{},{position_id:(0,o.Z)(e)})):delete fn.position_id},onModuleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{module_id:e.value}))},options:nn,onOptionsSelected:function(e){yn(e)},fieldOption:fn}),(null===fn||void 0===fn?void 0:fn.slider)&&i.createElement(f.pd,{id:"Display info",title:"Display user info?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!(null===fn||void 0===fn||!fn.info),toggleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{info:!!e}))}}),(null===fn||void 0===fn?void 0:fn.slider)&&i.createElement(f.pd,{id:"Display misc info",title:"Display other user info?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!(null===fn||void 0===fn||!fn.other),toggleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{other:!!e}))}}),(null===fn||void 0===fn?void 0:fn.position_id)&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Field in users to use as filter"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:Pn,defaultSelected:Pn.find((function(e){return e.value===fn.filter})),className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{filter:e.value}))}}))),(null===fn||void 0===fn?void 0:fn.position_id)&&i.createElement(et,{title:"Filter Selections",validationErrors:Cn,defaultList:(null===fn||void 0===fn||null===(B=fn.dropdown)||void 0===B?void 0:B.length)>0?null===fn||void 0===fn?void 0:fn.dropdown:void 0,onListSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{dropdown:e}))}}),i.createElement("div",{style:{display:null!==fn&&void 0!==fn&&fn.calendar?"":"none"}},i.createElement(Ue,null,i.createElement(f.Lb,{title:"Header label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null===fn||void 0===fn?void 0:fn.header,onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{header:e.target.value}))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Title label to use in tasks"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(P=null===fn||void 0===fn?void 0:fn.title)&&void 0!==P?P:"Event Name",onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{title:e.target.value}))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Description label to use in tasks"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(F=null===fn||void 0===fn?void 0:fn.description)&&void 0!==F?F:"Description",onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{description:e.target.value}))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Assignee label to use in tasks"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(D=null===fn||void 0===fn?void 0:fn.assignee)&&void 0!==D?D:"Assigned to",onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{assignee:e.target.value}))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Start date label to use in tasks"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(A=null===fn||void 0===fn?void 0:fn.start)&&void 0!==A?A:"Start Date",onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{start:e.target.value}))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"End date label to use in tasks"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(W=null===fn||void 0===fn?void 0:fn.end)&&void 0!==W?W:"End Date",onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{end:e.target.value}))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Value label to use  in tasks (Optional)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null===fn||void 0===fn?void 0:fn.valueL,onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{valueL:e.target.value}))}})),i.createElement("p",{className:Ae.optionSettings},"Note: If set, ensure label is set in calendar")),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Display users in assigned to from these positions (Optional)"}),i.createElement("div",{style:{border:"1px solid var(--app-color-gray-lighter)"}},i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:wn,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:(null===fn||void 0===fn?void 0:fn.aList)&&(null===wn||void 0===wn?void 0:wn.filter((function(e){return(null===fn||void 0===fn?void 0:fn.aList.indexOf(e.value))>-1}))),className:Ae.uploadSelectComponent,inputClassName:Ae.uploadSearchInput,molclassname:Ae.uploadSelectMenuOverlayList,moliclassname:Ae.uploadSelectMenuOverlayListItem,onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{aList:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))}))}}))),i.createElement(et,{validationErrors:Cn,defaultList:(null===nn||void 0===nn||null===(V=nn.list)||void 0===V?void 0:V.length)>0?null===nn||void 0===nn?void 0:nn.list:void 0,onListSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{list:e}))}}))),"positions"===(null===en||void 0===en||null===(z=en.name)||void 0===z?void 0:z.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(Ct,{validationErrors:Cn,allModules:Rl,defaultType:null===nn||void 0===nn?void 0:nn.type,defaultAssign:null===nn||void 0===nn?void 0:nn.assign,defaultEmail:null===nn||void 0===nn?void 0:nn.email,defaultCalendar:null===nn||void 0===nn?void 0:nn.calendar,defaultSlider:null===nn||void 0===nn?void 0:nn.slider,onChangeSlider:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{slider:e}))},onCalendar:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{calendar:e}))},defaultModule:Rl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nn||void 0===nn?void 0:nn.module_id)&&void 0!==t?t:"")})),defaultPositions:null!==(R=null===nn||void 0===nn?void 0:nn.position_id)&&void 0!==R?R:[],onChangeType:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{type:e}))},onChangeEmail:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{email:e}))},onChangeAssign:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{assign:e}))},onChangeList:function(e){e.length>0?yn((0,n.Z)((0,n.Z)({},fn),{},{position_id:(0,o.Z)(e)})):delete fn.position_id},onModuleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{module_id:e.value}))},options:nn,onOptionsSelected:function(e){yn(e)},fieldOption:fn}),i.createElement("div",null,i.createElement(f.pd,{id:"Fetch users when item is selected",title:"Fetch users when item is selected?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===fn||void 0===fn?void 0:fn.fetch,toggleSelected:function(e){yn(e?(0,n.Z)((0,n.Z)({},fn),{},{fetch:!0}):(0,n.Z)((0,n.Z)({},fn),{},{fetch:!1}))}})),i.createElement("div",null,i.createElement(f.pd,{id:"Share transaction to position when item is selected",title:"Share transaction to position when item is selected?",ungrouped:!0,withAckButton:!1,style:{margin:"40px 0px 20px 0px",width:"auto"},value:null===fn||void 0===fn?void 0:fn.share,toggleSelected:function(e){yn(e?(0,n.Z)((0,n.Z)({},fn),{},{share:!0}):(0,n.Z)((0,n.Z)({},fn),{},{share:!1}))}})),i.createElement("div",null,i.createElement(f.pd,{id:"AddUserPosition",title:"Add user to selected position?",ungrouped:!0,withAckButton:!1,style:{margin:"40px 0px 20px 0px",width:"auto"},value:null!==(j=null===fn||void 0===fn?void 0:fn.addToPos)&&void 0!==j&&j,toggleSelected:function(e){yn(e?(0,n.Z)((0,n.Z)({},fn),{},{addToPos:!0,share:!1,calendar:!1,fetch:!1}):(0,n.Z)((0,n.Z)({},fn),{},{addToPos:!1}))}})),i.createElement("div",{style:{display:null!==fn&&void 0!==fn&&fn.calendar?"":"none"}},i.createElement(Ue,null,i.createElement(f.Lb,{title:"Header label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null===fn||void 0===fn?void 0:fn.header,onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{header:e.target.value}))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Title label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(U=null===fn||void 0===fn?void 0:fn.title)&&void 0!==U?U:"Event Name",onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{title:e.target.value}))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Description label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(q=null===fn||void 0===fn?void 0:fn.description)&&void 0!==q?q:"Description",onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{description:e.target.value}))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Assignee label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(K=null===fn||void 0===fn?void 0:fn.assignee)&&void 0!==K?K:"Assigned to",onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{assignee:e.target.value}))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Start date label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(H=null===fn||void 0===fn?void 0:fn.start)&&void 0!==H?H:"Start Date",onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{start:e.target.value}))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"End date label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(X=null===fn||void 0===fn?void 0:fn.end)&&void 0!==X?X:"End Date",onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{end:e.target.value}))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Value label to use (Optional)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null===fn||void 0===fn?void 0:fn.valueL,onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{valueL:e.target.value}))}})),i.createElement("p",{className:Ae.optionSettings},"Note: If set, ensure label is set in calendar")),i.createElement(et,{validationErrors:Cn,defaultList:(null===nn||void 0===nn||null===(G=nn.list)||void 0===G?void 0:G.length)>0?null===nn||void 0===nn?void 0:nn.list:void 0,onListSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{list:e}))}}))),"dropdown"===(null===en||void 0===en||null===(Y=en.name)||void 0===Y?void 0:Y.toLowerCase())&&i.createElement($e,{validationErrors:Cn,defaultType:v.YX.find((function(e){var t;return(null===e||void 0===e?void 0:e.value)==(null!==(t=null===nn||void 0===nn?void 0:nn.type)&&void 0!==t?t:"single")})),defaultList:(null===nn||void 0===nn||null===(J=nn.list)||void 0===J?void 0:J.length)>0?null===nn||void 0===nn?void 0:nn.list:void 0,defaultPr:null!==(Q=null===nn||void 0===nn?void 0:nn.process)&&void 0!==Q?Q:"",defaultJ1:null!==($=null===nn||void 0===nn?void 0:nn.jump1)&&void 0!==$?$:"",defaultJ2:null!==(ee=null===nn||void 0===nn?void 0:nn.jump2)&&void 0!==ee?ee:"",onTypeSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{type:e.value}))},onListSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{list:e}))},onJump1Selected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{jump1:e}))},onJump2Selected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{jump2:e}))},onProcSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{process:e}))},companyProcesses:Hl}),"status"===(null===en||void 0===en||null===(te=en.name)||void 0===te?void 0:te.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(et,{validationErrors:Cn,defaultList:(null===nn||void 0===nn||null===(le=nn.list)||void 0===le?void 0:le.length)>0?null===nn||void 0===nn?void 0:nn.list:void 0,onListSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{list:e}))}}),i.createElement(f.pd,{id:"Control transaction with status",title:"Control transaction with this field",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===fn||void 0===fn?void 0:fn.control,toggleSelected:function(e){yn(e?(0,n.Z)((0,n.Z)({},fn),{},{control:!0}):(0,n.Z)((0,n.Z)({},fn),{},{control:!1}))}})),("list"===(null===en||void 0===en||null===(ne=en.name)||void 0===ne?void 0:ne.toLowerCase())||"module list"===(null===en||void 0===en||null===(oe=en.name)||void 0===oe?void 0:oe.toLowerCase()))&&i.createElement(lt,{allModules:Rl,validationErrors:Cn,defaultType:{label:null!==(ae=null===nn||void 0===nn?void 0:nn.type)&&void 0!==ae?ae:"Table",value:null!==(ie=null===nn||void 0===nn?void 0:nn.type)&&void 0!==ie?ie:"Table"},defaultTypeX:nn,defaultModule:Rl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nn||void 0===nn?void 0:nn.module_id)&&void 0!==t?t:"")})),defaultList:(null===nn||void 0===nn||null===(re=nn.list)||void 0===re?void 0:re.length)>0?null===nn||void 0===nn?void 0:nn.list:void 0,onTypeSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{type:e.value}))},onModuleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{module_id:e.module.id}))},onChangeList:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{list:(0,o.Z)(e)}))},multiSelectLabel:""===(null===nn||void 0===nn?void 0:nn.module_id)?"":null===(de=Rl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nn||void 0===nn?void 0:nn.module_id)&&void 0!==t?t:"")})))||void 0===de?void 0:de.label}),"transaction list"===(null===en||void 0===en||null===(ue=en.name)||void 0===ue?void 0:ue.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(f.Lb,{title:"Note: Make sure Allow Mutiple Inputs in Step configuration is set to YES to allow creation of items",style:{margin:"30px 5px"}}),i.createElement(f.pd,{id:"Basic List",title:"The list uses six or more columns?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===fn||void 0===fn?void 0:fn.simple,toggleSelected:function(e){e?(null===fn||void 0===fn||delete fn.id,null===fn||void 0===fn||delete fn.module_id,null===fn||void 0===fn||delete fn.type,null===fn||void 0===fn||delete fn.map,yn((0,n.Z)((0,n.Z)({},fn),{},{simple:e}))):yn((0,n.Z)((0,n.Z)({},fn),{},{simple:e}))}}),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Type (Optional)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,defaultValue:null===nn||void 0===nn?void 0:nn.type,onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{type:e.target.value}))}}))),!(null!==fn&&void 0!==fn&&fn.simple)&&i.createElement(i.Fragment,null,i.createElement(Ue,null,i.createElement(f.Lb,{title:"List ID"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null===nn||void 0===nn?void 0:nn.id,onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{id:e.target.value}))}}))),i.createElement(Re,{blueprints:jl,allModules:Rl,companyProcesses:Hl,validationErrors:Cn,defaultType:{label:null!==(se=null===nn||void 0===nn?void 0:nn.type)&&void 0!==se?se:"Table",value:null!==(ce=null===nn||void 0===nn?void 0:nn.type)&&void 0!==ce?ce:"Table"},options:fn,defaultMap:null!==(me=null===fn||void 0===fn?void 0:fn.map)&&void 0!==me?me:{},defaultModule:Rl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===fn||void 0===fn?void 0:fn.module_id)&&void 0!==t?t:"")})),defaultList:(null===fn||void 0===fn||null===(pe=fn.list)||void 0===pe?void 0:pe.length)>0?null===fn||void 0===fn?void 0:fn.list:void 0,onTypeSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{type:e.value}))},onModuleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{module_id:e.module.id}))},onChangeMapping:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{map:e}))},multiSelectLabel:""===(null===fn||void 0===fn?void 0:fn.module_id)?"":null===(ve=Rl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===fn||void 0===fn?void 0:fn.module_id)&&void 0!==t?t:"")})))||void 0===ve?void 0:ve.label,setFieldOption:yn})),i.createElement(f.pd,{id:"Show Footer",title:"Show footer?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===fn||void 0===fn?void 0:fn.footer,toggleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{footer:e}))}}),i.createElement(f.pd,{id:"Save item asap",title:"Immediately save item as added?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===fn||void 0===fn?void 0:fn.asap,toggleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{asap:e}))}}),i.createElement(f.pd,{id:"Allow Export",title:"Add File Export?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===fn||void 0===fn?void 0:fn.export,toggleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{export:e}))}})),("step list"===(null===en||void 0===en||null===(fe=en.name)||void 0===fe?void 0:fe.toLowerCase())||"component list"===(null===en||void 0===en||null===(ye=en.name)||void 0===ye?void 0:ye.toLowerCase()))&&i.createElement(nt,{blueprints:jl.filter((function(e){var t;return(null===e||void 0===e?void 0:e.id)!==(null!==(t=null===nn||void 0===nn?void 0:nn.component_id)&&void 0!==t?t:"")})),validationErrors:Cn,defaultList:(null===nn||void 0===nn||null===(ge=nn.list)||void 0===ge?void 0:ge.length)>0?null===nn||void 0===nn?void 0:nn.list:void 0,defaultType:jl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nn||void 0===nn?void 0:nn.component_id)&&void 0!==t?t:"")})),onTypeSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{component_id:e.component.id}))},defaultKey:null!==(he=null===nn||void 0===nn?void 0:nn.key)&&void 0!==he?he:"Key",onKeySelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{key:e}))},onChangeList:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{list:(0,o.Z)(e)}))},multiSelectLabel:""===(null===nn||void 0===nn?void 0:nn.component_id)?"":null===(Ce=jl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nn||void 0===nn?void 0:nn.component_id)&&void 0!==t?t:"")})))||void 0===Ce?void 0:Ce.label}),"product"===(null===en||void 0===en||null===(Se=en.name)||void 0===Se?void 0:Se.toLowerCase())&&i.createElement(tt,{products:Kl,validationErrors:Cn,defaultList:(null===nn||void 0===nn||null===(be=nn.list)||void 0===be?void 0:be.length)>0?null===nn||void 0===nn?void 0:nn.list:void 0,onChangeList:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{list:(0,o.Z)(e)}))}}),"record"===(null===en||void 0===en||null===(Ee=en.name)||void 0===Ee?void 0:Ee.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(yt,{defaultFilters:null===nn||void 0===nn?void 0:nn.filters,validationErrors:Cn,field_type:en,blueprints:jl,nameValues:(null===nn||void 0===nn||null===(_e=nn.names)||void 0===_e?void 0:_e.length)>0?null===nn||void 0===nn?void 0:nn.names:[],defaultType:(null===nn||void 0===nn||null===(Ze=nn.selection)||void 0===Ze?void 0:Ze.length)>0?{label:null===nn||void 0===nn?void 0:nn.selection}:void 0,defaultList:(null===nn||void 0===nn||null===(we=nn.list)||void 0===we?void 0:we.length)>0?null===nn||void 0===nn?void 0:nn.list:[],defaultValue:{label:void 0===Jl.allBlueprintComponents.find((function(e){var t;return e.id===(null===(t=Jl.selectedFieldFromSelectedBlueprintComponent.options)||void 0===t?void 0:t.component_id)}))?"":Jl.allBlueprintComponents.find((function(e){var t;return e.id===(null===(t=Jl.selectedFieldFromSelectedBlueprintComponent.options)||void 0===t?void 0:t.component_id)})).name},defaultOutputField:(null===nn||void 0===nn||null===(Le=nn.output)||void 0===Le?void 0:Le.length)>0?{label:null===nn||void 0===nn?void 0:nn.output}:void 0,defaultGlobal:null===nn||void 0===nn?void 0:nn.global,onGlobalSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{global:e}))},onListSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{list:e}))},onComponentSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{component_id:e.blueprint.id}))},onTypeSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{selection:e}))},onNamesSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{names:e}))},onOutputFieldSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{output:e}))},onFilterList:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{filters:e}))}}),i.createElement(Ue,{errorMessage:null===Cn||void 0===Cn?void 0:Cn.type},i.createElement(f.Lb,{title:"Optional: Conduct lookup from these transactions:"}),i.createElement(f.sm,{"app-variant":null!==Cn&&void 0!==Cn&&Cn.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:Rl.map((function(e){return{label:e.name,value:e.id}})),defaultSelected:Rl.map((function(e){return{label:e.name,value:e.id}})).find((function(e){return e.value===(null===nn||void 0===nn?void 0:nn.module_id)})),className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{module_id:null===e||void 0===e?void 0:e.value}))}})))),"googleai assistant"===(null===en||void 0===en||null===(xe=en.name)||void 0===xe?void 0:xe.toLowerCase())&&i.createElement(St,{defaultCurrent:null===nn||void 0===nn?void 0:nn.current,defaultDescription:null===nn||void 0===nn?void 0:nn.description,defaultValue:null===nn||void 0===nn?void 0:nn.analyze,defaultFixed:null===nn||void 0===nn?void 0:nn.fixed,defaultModule:{label:void 0===Rl.find((function(e){return e.id===(null===nn||void 0===nn?void 0:nn.module_id)}))?"":Rl.find((function(e){return e.id===(null===nn||void 0===nn?void 0:nn.module_id)})).name},defaultModule2:{label:void 0===Rl.find((function(e){return e.id===(null===nn||void 0===nn?void 0:nn.module2_id)}))?"":Rl.find((function(e){return e.id===(null===nn||void 0===nn?void 0:nn.module2_id)})).name},defaultModule3:{label:void 0===Rl.find((function(e){return e.id===(null===nn||void 0===nn?void 0:nn.module3_id)}))?"":Rl.find((function(e){return e.id===(null===nn||void 0===nn?void 0:nn.module3_id)})).name},setFieldValue:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{analyze:e}))},setDefaultCurrent:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{current:e}))},setDefaultDescription:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{description:e}))},onModule1Select:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{module_id:null===e||void 0===e?void 0:e.value}))},onModule2Select:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{module2_id:null===e||void 0===e?void 0:e.value}))},onModule3Select:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{module3_id:null===e||void 0===e?void 0:e.value}))},setDefaultFixed:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{fixed:e}))},validationErrors:Cn,allModules:Rl}),"value"===(null===en||void 0===en||null===(Me=en.name)||void 0===Me?void 0:Me.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(gt,{field_type:en,allModules:Rl,components:ql,defaultModule:(null===nn||void 0===nn||null===(Oe=nn.module_id)||void 0===Oe?void 0:Oe.length)>0?{label:Rl.find((function(e){return e.id===(null===nn||void 0===nn?void 0:nn.module_id)})).name,value:null===nn||void 0===nn?void 0:nn.module_id}:void 0,defaultOutput:null===ql||void 0===ql?void 0:ql.filter((function(e){return e.module_id===(null===nn||void 0===nn?void 0:nn.module_id)})).map((function(e){return{label:"".concat(e.title),value:e.id}})),defaultValue:{label:null===nn||void 0===nn?void 0:nn.value,slabel:void 0===Jl.allBlueprintComponents.find((function(e){var t,l;return e.id===(null===(t=Jl.selectedFieldFromSelectedBlueprintComponent)||void 0===t||null===(l=t.options)||void 0===l?void 0:l.component_id)}))?"":Jl.allBlueprintComponents.find((function(e){return e.id===Jl.selectedFieldFromSelectedBlueprintComponent.options.component_id})).name},onModuleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{module_id:e.value}))},onOutputSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{component_id:e.value}))},onFieldValueSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{value:e.value}))}}),i.createElement(f.pd,{id:"Show chart for selected value",title:"Show chart for selected value",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===fn||void 0===fn?void 0:fn.chart,toggleSelected:function(e){yn(e?(0,n.Z)((0,n.Z)({},fn),{},{chart:!0}):(0,n.Z)((0,n.Z)({},fn),{},{chart:!1}))}})),"formula"===(null===en||void 0===en||null===(ke=en.name)||void 0===ke?void 0:ke.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(at,{setFieldOption:yn,fieldOption:fn,selectedFields:Ul,validationErrors:Cn,defaultValue:(null===nn||void 0===nn||null===(Te=nn.operator)||void 0===Te?void 0:Te.length)>0?null===nn||void 0===nn?void 0:nn.operator:void 0,defaultList:(null===nn||void 0===nn||null===(Be=nn.list)||void 0===Be?void 0:Be.length)>0?null===nn||void 0===nn?void 0:nn.list:void 0,defaultSearchText:(null===nn||void 0===nn||null===(Pe=nn.searchtext)||void 0===Pe?void 0:Pe.length)>0?null===nn||void 0===nn?void 0:nn.searchtext:void 0,onOperatorSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{operator:e}))},onChangeList:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{list:(0,o.Z)(e)}))},onChangeSearchText:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{searchtext:e}))},blueprints:jl}),"freesum"===(null===fn||void 0===fn?void 0:fn.operator)&&i.createElement(et,{title:"Add fields to compute",validationErrors:Cn,defaultList:(null===nn||void 0===nn||null===(Fe=nn.list)||void 0===Fe?void 0:Fe.length)>0?null===nn||void 0===nn?void 0:nn.list:void 0,onListSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{list:e}))}})),"item formula"===(null===en||void 0===en||null===(De=en.name)||void 0===De?void 0:De.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(it,{setFieldOption:yn,fieldOption:fn,selectedFields:Ul,validationErrors:Cn,defaultValue:(null===nn||void 0===nn||null===(ze=nn.operator)||void 0===ze?void 0:ze.length)>0?null===nn||void 0===nn?void 0:nn.operator:void 0,defaultList:(null===nn||void 0===nn||null===(ft=nn.list)||void 0===ft?void 0:ft.length)>0?null===nn||void 0===nn?void 0:nn.list:void 0,defaultSearchText:(null===nn||void 0===nn||null===(Zt=nn.searchtext)||void 0===Zt?void 0:Zt.length)>0?null===nn||void 0===nn?void 0:nn.searchtext:void 0,onOperatorSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{operator:e}))},onChangeList:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{list:(0,o.Z)(e)}))},onChangeSearchText:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{searchtext:e}))},blueprints:jl}),"freesum"===(null===fn||void 0===fn?void 0:fn.operator)&&i.createElement(et,{title:"Add fields to compute",validationErrors:Cn,defaultList:(null===nn||void 0===nn||null===(wt=nn.list)||void 0===wt?void 0:wt.length)>0?null===nn||void 0===nn?void 0:nn.list:void 0,onListSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{list:e}))}})),"list filter"===(null===en||void 0===en||null===(Nt=en.name)||void 0===Nt?void 0:Nt.toLowerCase())&&i.createElement(dt,{selectedFields:Ul,validationErrors:Cn,defaultField:(null===nn||void 0===nn||null===(Lt=nn.field)||void 0===Lt?void 0:Lt.length)>0?null===nn||void 0===nn?void 0:nn.field:void 0,defaultValue:(null===nn||void 0===nn||null===(It=nn.value)||void 0===It?void 0:It.length)>0?null===nn||void 0===nn?void 0:nn.value:void 0,onChangeField:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{field:e}))},onChangeValue:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{value:e}))},blueprints:jl}),"connector"===(null===en||void 0===en||null===(xt=en.name)||void 0===xt?void 0:xt.toLowerCase())&&i.createElement(pt,{selectedFields:Ul,validationErrors:Cn,defaultComponent1:(null===nn||void 0===nn||null===(Mt=nn.component1_id)||void 0===Mt?void 0:Mt.length)>0?{label:Jl.allBlueprintComponents.find((function(e){return e.id===(null===nn||void 0===nn?void 0:nn.component1_id)})).name}:void 0,defaultComponent2:(null===nn||void 0===nn||null===(Ot=nn.component2_id)||void 0===Ot?void 0:Ot.length)>0?{label:Jl.allBlueprintComponents.find((function(e){return e.id===(null===nn||void 0===nn?void 0:nn.component2_id)})).name}:void 0,defaultComponent3:(null===nn||void 0===nn||null===(kt=nn.component3_id)||void 0===kt?void 0:kt.length)>0?{label:Jl.allBlueprintComponents.find((function(e){return e.id===(null===nn||void 0===nn?void 0:nn.component3_id)})).name}:void 0,defaultCommon12:(null===nn||void 0===nn||null===(Tt=nn.common_field_12)||void 0===Tt?void 0:Tt.length)>0?{label:null===nn||void 0===nn?void 0:nn.common_field_12}:void 0,defaultInputComponent1:(null===nn||void 0===nn||null===(Bt=nn.component1_input)||void 0===Bt?void 0:Bt.length)>0?{label:null===nn||void 0===nn?void 0:nn.component1_input}:void 0,defaultCommon23:(null===nn||void 0===nn||null===(Pt=nn.common_field_23)||void 0===Pt?void 0:Pt.length)>0?{label:null===nn||void 0===nn?void 0:nn.common_field_23}:void 0,defaultOutputs:(null===nn||void 0===nn||null===(Ft=nn.outputs)||void 0===Ft?void 0:Ft.length)>0?null===nn||void 0===nn?void 0:nn.outputs:[],onComponent1InputSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{component1_input:e}))},onComponent1Selected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{component1_id:e}))},onComponent2Selected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{component2_id:e}))},onCommon12Selected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{common_field_12:e}))},onComponent3Selected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{component3_id:e}))},onCommon23Selected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{common_field_23:e}))},onOutputsSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{outputs:(0,o.Z)(e)}))},bpContext:Jl}),"payments"===(null===en||void 0===en||null===(Dt=en.name)||void 0===Dt?void 0:Dt.toLowerCase())&&i.createElement(_t,{validationErrors:Cn,defaultValue:(null===nn||void 0===nn||null===(At=nn.type)||void 0===At?void 0:At.length)>0?{label:Jl.allBlueprintComponents.find((function(e){return e.id===(null===nn||void 0===nn?void 0:nn.type)})).name}:void 0,defaultSrcName:(null===nn||void 0===nn||null===(Wt=nn.paymentField)||void 0===Wt?void 0:Wt.length)>0?{label:null===nn||void 0===nn?void 0:nn.paymentField}:void 0,onSourceSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{type:e}))},onSourceLabel:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{paymentField:e}))},bpContext:Jl,defaultList:(null===nn||void 0===nn||null===(Vt=nn.list)||void 0===Vt?void 0:Vt.length)>0?null===nn||void 0===nn?void 0:nn.list:void 0,onListSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{list:e}))}}),"lookup"===(null===en||void 0===en||null===(zt=en.name)||void 0===zt?void 0:zt.toLowerCase())&&i.createElement(mt,{selectedFields:Ul,validationErrors:Cn,defaultGlobal:(null===nn||void 0===nn||null===(Rt=nn.global)||void 0===Rt?void 0:Rt.length)>0?null===nn||void 0===nn?void 0:nn.global:void 0,defaultValue:(null===nn||void 0===nn||null===(jt=nn.source_id)||void 0===jt?void 0:jt.length)>0?{label:Jl.allBlueprintComponents.find((function(e){return e.id===(null===nn||void 0===nn?void 0:nn.source_id)})).name}:void 0,defaultTarget:(null===nn||void 0===nn||null===(Ut=nn.target_id)||void 0===Ut?void 0:Ut.length)>0?{label:Jl.allBlueprintComponents.find((function(e){return e.id===(null===nn||void 0===nn?void 0:nn.target_id)})).name}:void 0,defaultType:(null===nn||void 0===nn||null===(qt=nn.selection)||void 0===qt?void 0:qt.length)>0?{label:null===nn||void 0===nn?void 0:nn.selection}:void 0,defaultCommon:(null===nn||void 0===nn||null===(Kt=nn.common_field)||void 0===Kt?void 0:Kt.length)>0?{label:null===nn||void 0===nn?void 0:nn.common_field}:void 0,defaultList:(null===nn||void 0===nn||null===(Ht=nn.list)||void 0===Ht?void 0:Ht.length)>0?null===nn||void 0===nn?void 0:nn.list:void 0,defaultRefList:(null===nn||void 0===nn||null===(Xt=nn.rlist)||void 0===Xt?void 0:Xt.length)>0?null===nn||void 0===nn?void 0:nn.rlist:void 0,defaultRefName:(null===nn||void 0===nn||null===(Gt=nn.referenceLabel)||void 0===Gt?void 0:Gt.length)>0?{label:null===nn||void 0===nn?void 0:nn.referenceLabel}:void 0,defaultSrcName:(null===nn||void 0===nn||null===(Yt=nn.sourceLabel)||void 0===Yt?void 0:Yt.length)>0?null===nn||void 0===nn?void 0:nn.sourceLabel:void 0,onSourceSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{source_id:e}))},onTargetSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{target_id:e}))},onFieldSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{common_field:e}))},onChangeList:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{list:(0,o.Z)(e)}))},onChangeRList:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{rlist:(0,o.Z)(e)}))},onTypeSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{selection:e}))},onSourceLabel:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{sourceLabel:(0,o.Z)(e)}))},onReferenceLabel:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{referenceLabel:e}))},onGlobalSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{global:e}))},onSetShowAll:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{showAll:e}))},showAllDefault:null===nn||void 0===nn?void 0:nn.showAll,bpContext:Jl}),"emails"===(null===en||void 0===en||null===(Jt=en.name)||void 0===Jt?void 0:Jt.toLowerCase())&&i.createElement(rt,{validationErrors:Cn,options:nn,setFieldOption:yn,fieldOption:fn,blueprints:jl}),"product lookup"===(null===en||void 0===en||null===(Qt=en.name)||void 0===Qt?void 0:Qt.toLowerCase())&&i.createElement(ut,{validationErrors:Cn,defaultTarget:Jl.allBlueprintComponents.find((function(e){return e.id===(null===nn||void 0===nn?void 0:nn.component_id)})),defaultRefName:null===nn||void 0===nn?void 0:nn.referenceLabel,defaultList:null===nn||void 0===nn?void 0:nn.list,defaultType:(null===nn||void 0===nn||null===($t=nn.selection)||void 0===$t?void 0:$t.length)>0?{label:null===nn||void 0===nn?void 0:nn.selection}:void 0,onTargetSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{component_id:e}))},onChangeList:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{list:(0,o.Z)(e)}))},onTypeSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{selection:e}))},onReferenceLabel:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{referenceLabel:e}))},bpContext:Jl}),"id"===(null===en||void 0===en||null===(el=en.name)||void 0===el?void 0:el.toLowerCase())&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"ID series to automatically generate"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement(bt,{defaultValue:nn.id.length>0?{label:nn.id}:{label:""},onSetIdGenerator:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{id:e,value:e}))}}))),"notes"===(null===en||void 0===en||null===(tl=en.name)||void 0===tl?void 0:tl.toLowerCase())&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Notes automatically generate"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement(Et,{defaultValue:nn.value.length>0?{label:nn.value}:{label:""},onNotesGenerator:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{value:e}))}}))),"filters"===(null===en||void 0===en||null===(ll=en.name)||void 0===ll?void 0:ll.toLowerCase())&&i.createElement(st,{validationErrors:Cn,defaultTarget:Jl.allBlueprintComponents.find((function(e){return e.id===(null===nn||void 0===nn?void 0:nn.component_id)})),defaultFilters:null===nn||void 0===nn?void 0:nn.filters,defaultOutput:null===nn||void 0===nn?void 0:nn.output,defaultGlobal:null===nn||void 0===nn?void 0:nn.global,onGlobalSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{global:e}))},onTargetSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{component_id:e}))},onFilterList:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{filters:e}))},onOutputSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{output:e}))},bpContext:Jl}),"module"===(null===en||void 0===en||null===(nl=en.name)||void 0===nl?void 0:nl.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(ct,{validationErrors:Cn,fieldOption:fn,setFieldOption:yn,defaultModule:null===fn||void 0===fn?void 0:fn.module_id,defaultFields:null===fn||void 0===fn?void 0:fn.fields,onFieldsSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{fields:e}))},bpContext:Jl,companyProcesses:Hl,onModuleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{module_id:e.value}))}}),i.createElement(f.pd,{id:"Save transaction before transfer?",title:"Save transaction before calling this module",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===fn||void 0===fn?void 0:fn.save,toggleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{save:e}))}}),i.createElement(f.pd,{id:"Show list?",title:"Show Module List",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===fn||void 0===fn?void 0:fn.showL,toggleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{showL:e}))}}),i.createElement(f.pd,{id:"Return to module?",title:"Return to origin module after saving",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===fn||void 0===fn?void 0:fn.return,toggleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{return:e}))}})),"pin"===(null===en||void 0===en||null===(ol=en.name)||void 0===ol?void 0:ol.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(f.pd,{id:"Pin with destination info?",title:"Pin a second location",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===nn||void 0===nn?void 0:nn.destination,toggleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{destination:e}))}}),i.createElement(f.pd,{id:"Compute distance between two pins?",title:"Compute distance ".concat(1==(null===fn||void 0===fn?void 0:fn.destination)?"between two pins":"with current location"),ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===nn||void 0===nn?void 0:nn.compute,toggleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{compute:e}))}}),i.createElement(f.pd,{id:"Show real-time location of target?",title:"Show real-time location",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===nn||void 0===nn?void 0:nn.realtime,toggleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{realtime:e}))}}),1==(null===fn||void 0===fn?void 0:fn.realtime)&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Interval"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"number",className:Ae.dropDownNewListItemInput,value:In,name:"Interval",onChange:function(e){xn(e.target.value),yn((0,n.Z)((0,n.Z)({},fn),{},{interval:+e.target.value}))}})))),"ratings"===(null===en||void 0===en||null===(al=en.name)||void 0===al?void 0:al.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(Ue,null,i.createElement(f.Lb,{title:"Field to lookup user ID"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:kn,name:"Field to lookup user ID",onChange:function(e){Tn(e.target.value),yn((0,n.Z)((0,n.Z)({},fn),{},{field:e.target.value}))}}))),i.createElement(f.pd,{id:"Add comments field?",title:"Add comments field?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===nn||void 0===nn?void 0:nn.comments,toggleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{comments:e}))}}),i.createElement(f.pd,{id:"Allow users to view rating?",title:"Allow users to view rating?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===nn||void 0===nn?void 0:nn.view,toggleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{view:e}))}})),"rewards"===(null===en||void 0===en||null===(il=en.name)||void 0===il?void 0:il.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(Ue,null,i.createElement(f.Lb,{title:"Apply rewards when status matches"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(rl=null===fn||void 0===fn?void 0:fn.status)&&void 0!==rl?rl:"Closed",name:"Status to compare",onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{status:e.target.value}))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Reward points to apply"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"number",className:Ae.dropDownNewListItemInput,value:null!==(dl=null===fn||void 0===fn?void 0:fn.points)&&void 0!==dl?dl:1,name:"Reward points to apply",onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{points:+e.target.value}))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Equivalent wallet value to apply"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"number",className:Ae.dropDownNewListItemInput,value:null!==(ul=null===fn||void 0===fn?void 0:fn.equiv)&&void 0!==ul?ul:1,name:"Equivalent wallet value to apply",onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{equiv:+e.target.value}))}}))),i.createElement(f.pd,{id:"Apply rewards to transaction creator",title:"Apply rewards to transaction creator?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===(sl=null===fn||void 0===fn?void 0:fn.creator)||void 0===sl||sl,toggleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{creator:e}))}})),"link"===(null===en||void 0===en||null===(cl=en.name)||void 0===cl?void 0:cl.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(f.pd,{id:"Display as image",title:"Show link as an image?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null!==(ml=null===fn||void 0===fn?void 0:fn.image)&&void 0!==ml&&ml,toggleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{image:e}))}})),"long text"===(null===en||void 0===en||null===(pl=en.name)||void 0===pl?void 0:pl.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(f.pd,{id:"Use Rich Text",title:"Use Rich Text?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null!==(vl=null===fn||void 0===fn?void 0:fn.rich)&&void 0!==vl&&vl,toggleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{rich:e}))}})),"video"===(null===en||void 0===en||null===(fl=en.name)||void 0===fl?void 0:fl.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(Ue,null,i.createElement(f.Lb,{title:"Status to match"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null===fn||void 0===fn?void 0:fn.status,onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{status:e.target.value}))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Time that join button is available (mins)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"number",className:Ae.dropDownNewListItemInput,value:null!==(yl=null===fn||void 0===fn?void 0:fn.expiry)&&void 0!==yl?yl:10,onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{expiry:+e.target.value}))}})))),"calendar"===(null===en||void 0===en||null===(gl=en.name)||void 0===gl?void 0:gl.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(Ue,null,i.createElement(f.Lb,{title:"Header label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null===fn||void 0===fn?void 0:fn.header,onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{header:e.target.value}))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Title label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(hl=null===fn||void 0===fn?void 0:fn.title)&&void 0!==hl?hl:"Event Name",onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{title:e.target.value}))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Description label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(Cl=null===fn||void 0===fn?void 0:fn.description)&&void 0!==Cl?Cl:"Description",onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{description:e.target.value}))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Assignee label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(Sl=null===fn||void 0===fn?void 0:fn.assignee)&&void 0!==Sl?Sl:"Assigned to",onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{assignee:e.target.value}))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Start date label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(bl=null===fn||void 0===fn?void 0:fn.start)&&void 0!==bl?bl:"Start Date",onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{start:e.target.value}))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"End date label to use"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null!==(El=null===fn||void 0===fn?void 0:fn.end)&&void 0!==El?El:"End Date",onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{end:e.target.value}))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Value label to use (Optional)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:null===fn||void 0===fn?void 0:fn.valueL,onChange:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{valueL:e.target.value}))}}))),i.createElement(et,{validationErrors:Cn,defaultList:(null===nn||void 0===nn||null===(_l=nn.list)||void 0===_l?void 0:_l.length)>0?null===nn||void 0===nn?void 0:nn.list:void 0,onListSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{list:e}))}}),i.createElement(f.pd,{id:"Retrieve calendar of transaction creator",title:"Retrieve calendar of transaction creator only?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===nn||void 0===nn?void 0:nn.creator,toggleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{creator:e}))}}),i.createElement(f.pd,{id:"Limit calendar to module component attached",title:"Limit calendar to module it is attached to?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===nn||void 0===nn?void 0:nn.limited,toggleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{limited:e}))}}),i.createElement(f.pd,{id:"Allow event to span multiple dates",title:"Allow event to span multiple dates?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===nn||void 0===nn?void 0:nn.span,toggleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{span:e}))}}),i.createElement(f.pd,{id:"Show calendar priority",title:"Show calendar priority?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===nn||void 0===nn?void 0:nn.priority,toggleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{priority:e}))}})),"info"===(null===en||void 0===en||null===(Zl=en.name)||void 0===Zl?void 0:Zl.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(nt,{defaultOrientation:null!==(wl=null===nn||void 0===nn?void 0:nn.orientation)&&void 0!==wl?wl:"Rows",defaultKey:null!==(Nl=null===nn||void 0===nn?void 0:nn.key)&&void 0!==Nl?Nl:"Product ID",onKeySelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{key:e}))},blueprints:jl,validationErrors:Cn,defaultList:(null===nn||void 0===nn||null===(Ll=nn.list)||void 0===Ll?void 0:Ll.length)>0?null===nn||void 0===nn?void 0:nn.list:void 0,defaultType:jl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nn||void 0===nn?void 0:nn.component_id)&&void 0!==t?t:"")})),onTypeSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{component_id:e.component.id}))},onChangeList:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{list:(0,o.Z)(e)}))},onChangeOrientation:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{orientation:e}))},multiSelectLabel:""===(null===nn||void 0===nn?void 0:nn.component_id)?"":jl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nn||void 0===nn?void 0:nn.component_id)&&void 0!==t?t:"")})).label}),i.createElement(f.pd,{id:"Email Info",title:"Show this info in emails",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===nn||void 0===nn?void 0:nn.email,toggleSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{email:e}))}})),"chart"===(null===en||void 0===en||null===(Il=en.name)||void 0===Il?void 0:Il.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(ot,{setFieldOption:yn,fieldOption:fn,defaultOrientation:null!==(xl=null===nn||void 0===nn?void 0:nn.orientation)&&void 0!==xl?xl:"Rows",defaultKey:null!==(Ml=null===nn||void 0===nn?void 0:nn.key)&&void 0!==Ml?Ml:"",defaultConfig:null!==(Ol=null===nn||void 0===nn?void 0:nn.config)&&void 0!==Ol?Ol:v.mj,onConfigSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{config:e}))},onKeySelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{key:e}))},blueprints:jl,validationErrors:Cn,defaultList:(null===nn||void 0===nn||null===(kl=nn.list)||void 0===kl?void 0:kl.length)>0?null===nn||void 0===nn?void 0:nn.list:void 0,defaultItemList:(null===nn||void 0===nn||null===(Tl=nn.items)||void 0===Tl?void 0:Tl.length)>0?null===nn||void 0===nn?void 0:nn.items:void 0,defaultType:jl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nn||void 0===nn?void 0:nn.component_id)&&void 0!==t?t:"")})),onTypeSelected:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{component_id:e.component.id}))},onChangeList:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{list:(0,o.Z)(e)}))},onChangeListItems:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{items:(0,o.Z)(e)}))},onChangeOrientation:function(e){yn((0,n.Z)((0,n.Z)({},fn),{},{orientation:e}))},multiSelectLabel:""===(null===nn||void 0===nn?void 0:nn.component_id)?"":jl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===nn||void 0===nn?void 0:nn.component_id)&&void 0!==t?t:"")})).label}))),"emails"!==(null===en||void 0===en||null===(Bl=en.name)||void 0===Bl?void 0:Bl.toLowerCase())&&i.createElement(je,{isOutput:0===(null===en||void 0===en?void 0:en.io_type),selectedFields:Ul,options:fn,fieldType:null===en||void 0===en?void 0:en.name,onOptionsSelected:function(e){yn(e)},fieldOption:fn}),i.createElement("div",{className:Ae.controls},i.createElement(f.zx,{title:"Close",clicked:Pl}),!Gl&&i.createElement(f.zx,{light:!0,title:"Save",loading:Vl,clicked:An}),!Gl&&Al&&i.createElement(f.zx,{title:"Delete",light:!0,loading:Dl,clicked:function(){return Al(tn)}}))))},Re=function(e){var t=e.setFieldOption,l=e.options,r=e.defaultType,d=e.defaultModule,u=e.defaultMap,s=e.onModuleSelected,c=e.onTypeSelected,m=e.defaultList,p=e.validationErrors,v=e.allModules,y=(e.onChangeMapping,e.multiSelectLabel,e.companyProcesses),g=e.blueprints,h=(0,i.useState)(void 0),C=(0,a.Z)(h,2),S=(C[0],C[1]),b=(0,i.useState)(null!==u&&void 0!==u?u:{}),E=(0,a.Z)(b,1)[0],_=(0,i.useState)(!1),Z=(0,a.Z)(_,2),w=(Z[0],Z[1]),N=(0,i.useState)(void 0===m||0===m.length?[]:m.map((function(e){var t;return{label:e,value:e,blueprint_name:null!==(t=null===d||void 0===d?void 0:d.label)&&void 0!==t?t:"Others"}}))),L=(0,a.Z)(N,2),I=L[0],x=L[1];(0,i.useEffect)((function(){M()}),[]);var M=function(){if(g.length>0){var e=[];g.filter((function(t){t.fields.filter((function(t){e=[].concat((0,o.Z)(e),[t.value])}))})),e=(0,o.Z)(new Set(e)).map((function(e){return{label:e,value:e,blueprint_name:e}})),x((0,o.Z)(We.sortWith([We.ascend(We.prop("label"))])(e)))}},O=v.map((function(e){return{label:e.name,value:e.id,module:e}})),k=[{label:"Item Code",value:"item_code"},{label:"Quantity",value:"quantity"},{label:"Value",value:"value"},{label:"Alt Value",value:"alt_value"},{label:"Type",value:"type"}];return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(Ue,{errorMessage:null===p||void 0===p?void 0:p.type},i.createElement(f.Lb,{title:"Module to list"}),i.createElement(f.sm,{"app-variant":null!==p&&void 0!==p&&p.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:O,defaultSelected:d,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){!function(e){if(y.length>0&&void 0!==e){var t,l,n=[];null===(t=y.find((function(t){return t.id===e})))||void 0===t||null===(l=t.steps)||void 0===l||l.filter((function(e){e.component_blueprints.filter((function(e){e.selected_fields.filter((function(e){return 1==e.visible})).filter((function(e){n=[].concat((0,o.Z)(n),[e.field_name])}))}))})),n=(0,o.Z)(new Set(n)).map((function(e){var t;return{label:e,value:e,blueprint_name:null!==(t=null===d||void 0===d?void 0:d.label)&&void 0!==t?t:"Others"}})),x([].concat((0,o.Z)(We.sortWith([We.ascend(We.prop("label"))])(n)),[{label:"None",value:"none"}]))}}(e.module.procedure.id),S(e),null===s||void 0===s||s(e),null!==e&&void 0!==e&&e.symbol?w(!1):w(!0)}}))),i.createElement(Ue,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Item Code"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:null!==u&&void 0!==u&&u.item_code?{label:u.item_code,value:u.item_code}:null,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.item_code:E.item_code=e.value,t((0,n.Z)((0,n.Z)({},l),{},{map:E}))}}))),i.createElement(Ue,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Quantity"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:null!==u&&void 0!==u&&u.quantity?{label:u.quantity,value:u.quantity}:null,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.quantity:E.quantity=e.value,t((0,n.Z)((0,n.Z)({},l),{},{map:E}))}}))),i.createElement(Ue,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Value"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:null!==u&&void 0!==u&&u.value?{label:u.value,value:u.value}:null,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.value:E.value=e.value,t((0,n.Z)((0,n.Z)({},l),{},{map:E}))}}))),i.createElement(Ue,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Other Value"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:null!==u&&void 0!==u&&u.alt_value?{label:u.alt_value,value:u.alt_value}:null,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.alt_value:E.alt_value=e.value,t((0,n.Z)((0,n.Z)({},l),{},{map:E}))}}))),i.createElement(Ue,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Total"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:null!==u&&void 0!==u&&u.total?{label:u.total,value:u.total}:null,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.total:E.total=e.value,t((0,n.Z)((0,n.Z)({},l),{},{map:E}))}}))),i.createElement(Ue,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Type"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:null!==u&&void 0!==u&&u.type?{label:u.type,value:u.type}:null,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.type:E.type=e.value,t((0,n.Z)((0,n.Z)({},l),{},{map:E}))}}))),(null===l||void 0===l?void 0:l.group)&&i.createElement(Ue,{errorMessage:null===p||void 0===p?void 0:p.type},i.createElement(f.Lb,{title:"Group By"}),i.createElement(f.sm,{"app-variant":null!==p&&void 0!==p&&p.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:k,defaultSelected:null===k||void 0===k?void 0:k.find((function(e){return e.value===(null===l||void 0===l?void 0:l.groupL)})),className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){t((0,n.Z)((0,n.Z)({},l),{},{groupL:null===e||void 0===e?void 0:e.value}))}}))),i.createElement(f.pd,{id:"Group Type",title:"Group items?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===l||void 0===l?void 0:l.group,toggleSelected:function(e){t((0,n.Z)((0,n.Z)({},l),{},{group:e}))}}),i.createElement(Ue,{errorMessage:null===p||void 0===p?void 0:p.type},i.createElement(f.Lb,{title:"List type"}),i.createElement(f.sm,{"app-variant":null!==p&&void 0!==p&&p.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:[{label:"Table",value:"Table"},{label:"List (max 4 fields displayed)",value:"List"}],defaultSelected:r,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){null===c||void 0===c||c(e),null!==e&&void 0!==e&&e.symbol?w(!1):w(!0)}}))))},je=function(e){var t,l,o,r=e.fieldType,d=e.selectedFields,u=e.fieldOption,s=e.errorMessage,c=e.noBorder,m=e.options,p=e.onOptionsSelected,v=e.isOutput,y=(0,i.useState)(((null===m||void 0===m?void 0:m.valueToMatch)||(null===m||void 0===m?void 0:m.valueToMatch2))&&(null===m||void 0===m?void 0:m.fieldToMatch)||(null===m||void 0===m?void 0:m.mapToItem)||(null===m||void 0===m?void 0:m.notes)||(null===m||void 0===m?void 0:m.width)),g=(0,a.Z)(y,2),h=g[0],C=g[1],S=(0,i.useState)(null===m||void 0===m?void 0:m.valueToMatch),b=(0,a.Z)(S,2),E=b[0],_=b[1],Z=(0,i.useState)(null===m||void 0===m?void 0:m.valueToMatch2),w=(0,a.Z)(Z,2),N=w[0],L=w[1],I=(0,i.useState)(null===m||void 0===m?void 0:m.fieldToMatch),x=(0,a.Z)(I,2),M=x[0],O=x[1],k=(0,i.useState)(null===m||void 0===m?void 0:m.notes),T=(0,a.Z)(k,2),B=T[0],P=T[1],F=[{label:"Make field visible and mandatory",value:"visman"},{label:"Make field visible",value:"visible"},{label:"Make field hidden",value:"hidden"},{label:"Make field mandatory",value:"mandatory"},{label:"Make field optional",value:"optional"},{label:"Disable the field",value:"disable"},{label:"Enable the field",value:"enable"}],D=[{label:"Make field visible and mandatory",value:"visman"},{label:"Show the field",value:"visible"},{label:"Hide the field",value:"hide"},{label:"Make field mandatory",value:"mandatory"},{label:"Make field optional",value:"optional"},{label:"Disable the field",value:"disable"},{label:"Enable the field",value:"enable"},{label:"Trigger an email during save",value:"email"}],A=[{label:"Set date today",value:"today",type:"Date"},{label:"Set date tomorrow",value:"tomorrow",type:"Date"},{label:"Set date one month from today",value:"month",type:"Date"},{label:"Set date one week from today",value:"week",type:"Date"},{label:"None",value:"none",type:"Date"}],W=[{label:"Total Sum per line item variable (A1+A2+An)",id:6,value:"itemsum",type:"items"},{label:"Total Difference per line item variable (A1-A2-An)",id:7,value:"itemdiff",type:"items"},{label:"Count occurrences of string in line item variable selected",id:12,value:"countocc",type:"items"},{label:"None",id:14,value:"none",type:"items"}];d.map((function(e){return{label:e.value,value:e.value,field:e}}));return i.createElement("div",{className:Ae.optionSettings,"app-container-variant":c?"noBorder":"border","app-variant":(null===s||void 0===s?void 0:s.length)>0?"error":"normal"},!("GoogleAI Assistant"===r||"OpenAI Assistant"===r)&&i.createElement(f.pd,{id:"Show additional options?",title:"Show additional options?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!!h,toggleSelected:function(e){C(e)}}),h&&i.createElement("div",null,i.createElement(Ue,null,i.createElement(f.Lb,{title:"Add Notes"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("textarea",{type:"text",className:Ae.dropDownNewListItemInput,value:B,name:"matched to field",onChange:function(e){P(e.target.value),p((0,n.Z)((0,n.Z)({},u),{},{notes:e.target.value}))}})))),h&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Field name to match values"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:M,name:"matched to field",onChange:function(e){O(e.target.value),p((0,n.Z)((0,n.Z)({},u),{},{fieldToMatch:e.target.value}))}}))),h&&(null===M||void 0===M?void 0:M.length)>2&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Values (A) to be matched to field. (Note: Use ' , ' to seperate)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:E,name:"matched to field",onChange:function(e){_(e.target.value),p((0,n.Z)((0,n.Z)({},u),{},{valueToMatch:e.target.value}))}}))),h&&(null===E||void 0===E?void 0:E.length)>2&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Perform this action when matched with (A)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:D.filter((function(e){return"email"!==e.value})),defaultSelectedItem:D.find((function(e){return e.value===(null===m||void 0===m?void 0:m.actionToPerform)})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){p((0,n.Z)((0,n.Z)({},u),{},{actionToPerform:e.value}))}}))),h&&(null===E||void 0===E?void 0:E.length)>2&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Perform this action when not matched with (A)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:F,defaultSelectedItem:F.find((function(e){return e.value===(null===m||void 0===m?void 0:m.initialState)})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){p((0,n.Z)((0,n.Z)({},u),{},{initialState:e.value}))}}))),h&&(null===M||void 0===M?void 0:M.length)>2&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Values (B) to be matched to field. (Note: Use ' , ' to seperate)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:N,name:"matched to field",onChange:function(e){L(e.target.value),p((0,n.Z)((0,n.Z)({},u),{},{valueToMatch2:e.target.value}))}}))),h&&(null===N||void 0===N?void 0:N.length)>2&&"Date"===r&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Change to this value when matched with (B)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:A,defaultSelectedItem:A.filter((function(e){return e.type===r})).find((function(e){return e.value===(null===m||void 0===m?void 0:m.value)})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){p((0,n.Z)((0,n.Z)({},u),{},{value:e.value}))}}))),h&&(null===N||void 0===N?void 0:N.length)>2&&("Text"===r||"Status"===r)&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Change to this value when matched"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:r.toLowerCase(),className:Ae.dropDownNewListItemInput,placeholder:null===m||void 0===m?void 0:m.value,name:"matched to field",onChange:function(e){p((0,n.Z)((0,n.Z)({},u),{},{value:e.target.value}))}}))),h&&(null===N||void 0===N?void 0:N.length)>2&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Perform action to field when matched with (B)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:null!==m&&void 0!==m&&m.actionToPerform?D.filter((function(e){return!(e.value===(null===m||void 0===m?void 0:m.actionToPerform)||e.value===(null===m||void 0===m?void 0:m.initialState))})):D,defaultSelectedItem:D.find((function(e){return e.value===(null===m||void 0===m?void 0:m.actionToPerform2)})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){p((0,n.Z)((0,n.Z)({},u),{},{actionToPerform2:e.value}))}}))),h&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Map this field to line item field"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:[{label:"Item Codes",value:"item_code"},{label:"Numbers",value:"quantity"},{label:"Basic Text",value:"value"},{label:"Other Text",value:"alt_value"},{label:"Totals",value:"total"},{label:"Type",value:"type"},{label:"Distance",value:"distance"},{label:"None",value:"none"}],defaultSelectedItem:[{label:"Item Codes",value:"item_code"},{label:"Numbers",value:"quantity"},{label:"Text",value:"value"},{label:"More Text",value:"alt_value"},{label:"Totals",value:"total"},{label:"Type",value:"type"},{label:"Distance",value:"distance"}].find((function(e){return e.value===(null===m||void 0===m?void 0:m.mapToItem)})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?(delete u.mapToItem,delete u.footer):p((0,n.Z)((0,n.Z)({},u),{},{mapToItem:e.value}))}}))),h&&u.mapToItem&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Compute and display as footer value"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:W,defaultSelectedItem:W.find((function(e){return e.value===(null===m||void 0===m?void 0:m.footer)})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?delete u.footer:p((0,n.Z)((0,n.Z)({},u),{},{footer:e.value}))}}))),h&&u.mapToItem&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Item Group Header"}),i.createElement("input",{type:"text",className:Ae.elementTextInput,defaultValue:null===u||void 0===u?void 0:u.group,onBlur:function(e){return p((0,n.Z)((0,n.Z)({},u),{},{group:e.target.value}))}})),h&&!v&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Apply color for values"}),i.createElement("input",{type:"text",className:Ae.elementTextInput,style:{borderRight:"white"===(null===u||void 0===u?void 0:u.valueC)?"white":"".concat(null!==u&&void 0!==u&&u.valueC?"50px":"1px"," solid ").concat(null!==(t=null===u||void 0===u?void 0:u.valueC)&&void 0!==t?t:"var(--app-color-gray-lighter)")},defaultValue:null===u||void 0===u?void 0:u.valueC,onBlur:function(e){return p((0,n.Z)((0,n.Z)({},u),{},{valueC:e.target.value}))}})),h&&i.createElement(Ue,null,i.createElement("br",null),i.createElement(f.Lb,{title:"Field width (min 15%, will fit 4 fields in row)"}),i.createElement("div",{style:{display:"flex",width:"100%"}},i.createElement("input",{type:"range",min:"15",max:"100",step:"5",style:{width:"90%"},defaultValue:null!==(l=null===m||void 0===m?void 0:m.width)&&void 0!==l?l:"0",onChange:function(e){p((0,n.Z)((0,n.Z)({},u),{},{width:e.target.value}))}}),i.createElement("label",{style:{width:"10%"}},null!==(o=null===u||void 0===u?void 0:u.width)&&void 0!==o?o:null===m||void 0===m?void 0:m.width,"%")),i.createElement("br",null)),h&&i.createElement(f.pd,{id:"Show label in landscape?",title:"Show label in landscape?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===m||void 0===m?void 0:m.landscape,toggleSelected:function(e){p((0,n.Z)((0,n.Z)({},u),{},{landscape:e}))}}),h&&!v&&i.createElement(f.pd,{id:"Do not save this value?",title:"Do not save this value?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===m||void 0===m?void 0:m.skip,toggleSelected:function(e){p((0,n.Z)((0,n.Z)({},u),{},{skip:e}))}}),h&&!v&&i.createElement(f.pd,{id:"Read only?",title:"Read only?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===m||void 0===m?void 0:m.read,toggleSelected:function(e){p((0,n.Z)((0,n.Z)({},u),{},{read:e}))}}))},Ue=function(e){var t=e.children,l=e.errorMessage,n=e.noBorder;return i.createElement("div",{className:Ae.optionSection,"app-container-variant":n?"noBorder":"border","app-variant":(null===l||void 0===l?void 0:l.length)>0?"error":"normal"},t,(null===l||void 0===l?void 0:l.length)>0&&i.createElement("span",{className:Ae.errorContainer},l))},qe=function(e){var t=e.defaultValue,l=e.onChangeType,n=e.validationErrors,o=(0,i.useState)(null!==t&&void 0!==t&&t),r=(0,a.Z)(o,2),d=r[0],u=r[1];return i.createElement(Ue,{errorMessage:null===n||void 0===n?void 0:n.type},i.createElement(f.Lb,{title:"Type of Number"}),i.createElement(f.sm,{"app-variant":null!==n&&void 0!==n&&n.type?"error":"normal","app-container-variant":"noBorder",className:Ae.numberOptionsContainer},i.createElement(f.nd,{selected:d,setSelected:function(e){u(e),l(e?"numeric":"percentage")},first:"123 Value",second:"% Percentage",extraClassName:Ae.renderBooleansOptions})))},Ke=function(e){var t=e.defaultValue,l=e.defaultAuto,n=(e.defaultTime,e.onChangeType),o=e.onExceeded,r=e.withTime,d=e.validationErrors,u=(0,i.useState)(null!==t&&void 0!==t&&t),s=(0,a.Z)(u,2),c=s[0],m=s[1];return i.createElement(Ue,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Type of Element"}),i.createElement(f.sm,{"app-variant":null!==d&&void 0!==d&&d.type?"error":"normal","app-container-variant":"noBorder",className:Ae.dateOptionsContainer},i.createElement(f.nd,{selected:c,setSelected:function(e){m(e),n(e?"single":"range")},first:"Single date",second:"Date Range",extraClassName:Ae.renderBooleansOptions})),i.createElement(f.pd,{id:"Add Time",title:"With Time?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:l,toggleSelected:function(e){r(e)}}),i.createElement(f.pd,{id:"Auto-close when date is exceeded",title:"Auto-close when date is exceeded?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:l,toggleSelected:function(e){o(e)}}))},He=function(e){var t=e.defaultValue,l=e.defaultType,n=e.onChangeType,o=e.onChangeValue,r=e.validationErrors,d=(0,i.useState)(null!==l&&void 0!==l&&l),u=(0,a.Z)(d,2),s=u[0],c=u[1],m=(0,i.useState)(t),p=(0,a.Z)(m,2),v=p[0],y=p[1];return i.createElement(Ue,{errorMessage:null===r||void 0===r?void 0:r.type},i.createElement(f.Lb,{title:"URL Link"}),i.createElement("input",{type:"text",name:"element-name",value:v,onChange:function(e){o(e.target.value),y(e.target.value)},className:Ae.elementTextInput}),i.createElement(f.Lb,{title:"Type of Element"}),i.createElement(f.sm,{"app-variant":null!==r&&void 0!==r&&r.type?"error":"normal","app-container-variant":"noBorder",className:Ae.numberOptionsContainer},i.createElement(f.nd,{selected:s,setSelected:function(e){c(e),n(e?"image":"link")},first:"Image",second:"Link",extraClassName:Ae.renderBooleansOptions})))},Xe=function(e){var t=e.defaultValue,l=e.onChangeValue,n=e.validationErrors,o=(0,i.useState)(t),r=(0,a.Z)(o,2),d=r[0],u=r[1];return i.createElement(Ue,{errorMessage:null===n||void 0===n?void 0:n.type},i.createElement(f.Lb,{title:"Label"}),i.createElement("input",{type:"text",name:"element-name",value:d,onChange:function(e){l(e.target.value),u(e.target.value)},className:Ae.elementTextInput}))},Ge=function(e){var t=e.onChange,l=e.countryCode,n=e.defaultValue,o=e.validationErrors,r=(0,i.useState)(n),d=(0,a.Z)(r,2),u=d[0],s=d[1];return i.createElement(Ue,{errorMessage:null===o||void 0===o?void 0:o.country_prefix},i.createElement(f.Lb,{title:"Phone Number Prefix"}),i.createElement(f.sm,{"app-variant":null!==o&&void 0!==o&&o.country_prefix?"error":"normal",className:Ae.unfocusableWrapper,onClickOutside:function(){},onClick:function(){var e,t=document.getElementsByClassName("selected-flag");t[0]&&(null===(e=t[0])||void 0===e||e.click())}},i.createElement(Me(),{specialLabel:"",enableSearch:!0,country:null!==l&&void 0!==l?l:"ph",onChange:function(e,l,n){var o="+"+l.dialCode+" "+l.name;s(o),null===t||void 0===t||t({country_prefix:"+".concat(null===l||void 0===l?void 0:l.dialCode),country_code:null===l||void 0===l?void 0:l.countryCode,country_name:null===l||void 0===l?void 0:l.name})},value:u,inputProps:{name:"phone",required:!1,autoFocus:!1},countryCodeEditable:!1,containerClass:Ie()(Ae.phoneIContainer,Ae.borderClass),inputClass:Ae.phoneIInput,buttonClass:Ae.phoneIButton,dropdownClass:Ae.phoneIDropdown,searchClass:Ae.phoneISearch}),i.createElement("p",{className:Ae.phonePrefixText},null!==u&&void 0!==u?u:"+44 United Kingdom")))},Ye=function(e){var t=e.defaultValue,l=e.onCurrencySelected,n=e.validationErrors,o=(0,i.useState)(void 0),r=(0,a.Z)(o,2),d=r[0],u=r[1],s=(0,i.useState)(!1),c=(0,a.Z)(s,2),m=c[0],p=c[1];return i.createElement(Ue,{errorMessage:null===n||void 0===n?void 0:n.currency_type},i.createElement(f.Lb,{title:"Currency Type"}),i.createElement(f.sm,{"app-variant":null!==n&&void 0!==n&&n.currency_type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement("pre",{className:Ae.currencySymbol},null!==d&&void 0!==d&&d.symbol?null===d||void 0===d?void 0:d.symbol:m?"":null===t||void 0===t?void 0:t.symbol," "),i.createElement(f.Ld,{items:v.s3,defaultSelectedItem:t,triggerType:"chevron",className:Ae.currencySelectComponent,inputClassName:Ae.currencySearchInput,clearControlsClassName:Ae.currencyClearControlsClassName,molclassname:Ae.currencySelectMenuOverlayList,moliclassname:Ae.currencySelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){u(e),l(e),null!==e&&void 0!==e&&e.symbol?p(!1):p(!0)}})))},Je=function(e){var t=e.defaultValue,l=e.onActionSelected,n=e.validationErrors,o=(0,i.useState)(void 0),r=(0,a.Z)(o,2),d=(r[0],r[1]),u=(0,i.useState)(!1),s=(0,a.Z)(u,2),c=(s[0],s[1]);return i.createElement(Ue,{errorMessage:null===n||void 0===n?void 0:n.currency_type},i.createElement(f.Lb,{title:"Action Type"}),i.createElement(f.sm,{"app-variant":null!==n&&void 0!==n&&n.currency_type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.Ld,{items:v.D0,defaultSelectedItem:v.D0.find((function(e){return e.value===t})),triggerType:"chevron",className:Ae.currencySelectComponent,inputClassName:Ae.currencySearchInput,clearControlsClassName:Ae.currencyClearControlsClassName,molclassname:Ae.currencySelectMenuOverlayList,moliclassname:Ae.currencySelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){d(e),l(e),null!==e&&void 0!==e&&e.symbol?c(!1):c(!0)}})),i.createElement("br",null),i.createElement(f.Lb,{title:"Notes: The Action Button is only shown in the detail popup screen"}))},Qe=function(e){var t=e.defaultValue,l=e.defaultOption,n=e.onProfileSelected,o=e.validationErrors,r=(0,i.useState)(void 0),d=(0,a.Z)(r,2),u=(d[0],d[1]),s=(0,i.useState)(!1),c=(0,a.Z)(s,2),m=(c[0],c[1]),p=[{label:"User that made the transaction",value:"creator"},{label:"Wallet of user that made the transaction",value:"wallet"},{label:"User that accepted the transaction",value:"owner"},{label:"Custom",value:"custom"}];return i.createElement(Ue,{errorMessage:null===o||void 0===o?void 0:o.currency_type},i.createElement(f.Lb,{title:"Show profile of user"}),i.createElement(f.sm,{"app-variant":null!==o&&void 0!==o&&o.currency_type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.Ld,{items:p,defaultSelectedItem:p.find((function(e){return e.value===t})),triggerType:"chevron",className:Ae.currencySelectComponent,inputClassName:Ae.currencySearchInput,clearControlsClassName:Ae.currencyClearControlsClassName,molclassname:Ae.currencySelectMenuOverlayList,moliclassname:Ae.currencySelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){u(e),n(e),null!==e&&void 0!==e&&e.symbol?m(!1):m(!0)}})),i.createElement(f.pd,{id:"Show profile picture",title:"Show profile picture?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===l||void 0===l?void 0:l.show,toggleSelected:function(e){l.show=e}}))},$e=function(e){var t,l,n,r,d,u,s,c,m,p,y=e.defaultPr,g=e.defaultJ1,h=e.defaultJ2,C=e.defaultType,S=e.onTypeSelected,b=e.defaultList,E=e.onListSelected,_=e.validationErrors,Z=e.onJump1Selected,w=void 0===Z?function(){}:Z,N=e.onJump2Selected,L=void 0===N?function(){}:N,I=e.companyProcesses,x=e.onProcSelected,M=void 0===x?function(){}:x,O=(0,i.useState)(void 0),k=(0,a.Z)(O,2),T=k[0],B=k[1],P=(0,i.useState)(!1),F=(0,a.Z)(P,2),D=F[0],A=F[1],W=(0,i.useState)(null!==b&&void 0!==b?b:[]),R=(0,a.Z)(W,2),j=R[0],U=R[1],q=(0,i.useState)(!0),K=(0,a.Z)(q,2),H=K[0],X=K[1],G=(0,i.useState)(""),Y=(0,a.Z)(G,2),J=Y[0],Q=Y[1],$=(0,i.useState)(g),ee=(0,a.Z)($,2),te=ee[0],le=ee[1],ne=(0,i.useState)(h),oe=(0,a.Z)(ne,2),ae=oe[0],ie=oe[1],re=(0,i.useState)(y),de=(0,a.Z)(re,2),ue=de[0],se=de[1],ce=(0,i.useCallback)((function(){X(!0),U((function(e){return[].concat((0,o.Z)(e),[J])})),Q(""),null===E||void 0===E||E([].concat((0,o.Z)(j),[J]))}),[j,J,E]),me=(0,i.useCallback)((function(e){U((function(t){return(0,o.Z)(We.reject(We.equals(e),t))})),null===E||void 0===E||E((0,o.Z)(We.reject(We.equals(e),j)))}),[j,E]);return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(Ue,{errorMessage:null===_||void 0===_?void 0:_.type},i.createElement(f.Lb,{title:"Dropdown Type"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement("pre",{className:Ae.dropdownSymbol},null!==T&&void 0!==T&&T.icon?null===T||void 0===T?void 0:T.icon:D?"":null===C||void 0===C?void 0:C.icon," "),i.createElement(f.rk,{items:v.YX,defaultSelected:C,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){B(e),null===S||void 0===S||S(null!==e&&void 0!==e?e:"single"),null!==e&&void 0!==e&&e.symbol?A(!1):A(!0)}}))),i.createElement(Ue,{errorMessage:null===_||void 0===_?void 0:_.list},i.createElement(f.Lb,{title:"Dropdown Options"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.list?"error":"normal",className:Ae.dropdownListContainer,onClickOutside:(0,i.useCallback)((function(){null===E||void 0===E||E(j)}),[j,E])},H?i.createElement("div",{className:Ae.dropDownButtonContainer},i.createElement(f.zx,{light:!0,title:"Add Dropdown Option",clicked:function(){return X(!1)}})):i.createElement("div",{className:Ae.dropDownNewListItemInputContainer},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:J,name:"newItem",placeholder:"Type name",onChange:function(e){Q(e.target.value)}}),(null===J||void 0===J?void 0:J.length)>0&&i.createElement("button",{type:"button",onClick:ce,className:Ae.dropdownInputButtonSaveNewItem},i.createElement(V.G,{icon:z.g6h}))),i.createElement("div",{className:Ae.dropdownListItemsContainer},j&&(null===j||void 0===j?void 0:j.map((function(e,t){return i.createElement(ft,{key:e+t,item:e,isOverflow:(null===j||void 0===j?void 0:j.length)>3,onItemChanged:function(e){U((function(l){return(0,o.Z)(We.update(t)(e)(l))}))},onItemRemoved:function(){return me(e)}})})))))),(te||"decision"===(null===T||void 0===T?void 0:T.value))&&i.createElement(Ue,{errorMessage:null===_||void 0===_?void 0:_.position_id},i.createElement(f.Lb,{title:"Process where to look for step"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},i.createElement(f.rk,{items:I.map((function(e){return{label:e.name,value:e.id,process:e}})),defaultSelected:{label:null===(t=I.find((function(e){return e.id===ue})))||void 0===t?void 0:t.name},className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){se(e.value),null===M||void 0===M||M(e.value)}}))),(te||"decision"===(null===T||void 0===T?void 0:T.value))&&ue&&i.createElement(Ue,{errorMessage:null===_||void 0===_?void 0:_.position_id},i.createElement(f.Lb,{title:"Dropdown option 1 jumps to step"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},i.createElement(f.rk,{items:null===(l=I.find((function(e){return e.id===ue})))||void 0===l||null===(n=l.steps)||void 0===n?void 0:n.map((function(e){return{label:e.name,value:e.id,step:e}})),defaultSelected:{label:null===(r=I.find((function(e){return e.id===ue})))||void 0===r||null===(d=r.steps)||void 0===d||null===(u=d.find((function(e){return e.id===te})))||void 0===u?void 0:u.name},className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){le(e.value),null===w||void 0===w||w(e.value)}}))),(ae||"decision"===(null===T||void 0===T?void 0:T.value))&&ue&&i.createElement(Ue,{errorMessage:null===_||void 0===_?void 0:_.position_id},i.createElement(f.Lb,{title:"Dropdown option 2 jumps to step"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},i.createElement(f.rk,{items:null===(s=I.find((function(e){return e.id===ue})))||void 0===s?void 0:s.steps.map((function(e){return{label:e.name,value:e.id,step:e}})),defaultSelected:{label:null===(c=I.find((function(e){return e.id===ue})))||void 0===c||null===(m=c.steps)||void 0===m||null===(p=m.find((function(e){return e.id===ae})))||void 0===p?void 0:p.name},className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){ie(e.value),null===L||void 0===L||L(e.value)}}))))},et=function(e){var t=e.defaultList,l=e.onListSelected,n=e.validationErrors,r=e.title,d=void 0===r?"Dropdown Options":r,u=(0,i.useState)(null!==t&&void 0!==t?t:[]),s=(0,a.Z)(u,2),c=s[0],m=s[1],p=(0,i.useState)(!0),v=(0,a.Z)(p,2),y=v[0],g=v[1],h=(0,i.useState)(""),C=(0,a.Z)(h,2),S=C[0],b=C[1],E=(0,i.useCallback)((function(){g(!0),m((function(e){return[].concat((0,o.Z)(e),[S])})),b(""),null===l||void 0===l||l([].concat((0,o.Z)(c),[S]))}),[c,S,l]),_=(0,i.useCallback)((function(e){m((function(t){return(0,o.Z)(We.reject(We.equals(e),t))})),null===l||void 0===l||l((0,o.Z)(We.reject(We.equals(e),c)))}),[c,l]);return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(Ue,{errorMessage:null===n||void 0===n?void 0:n.list},i.createElement(f.Lb,{title:d}),i.createElement(f.sm,{"app-variant":null!==n&&void 0!==n&&n.list?"error":"normal",className:Ae.dropdownListContainer,onClickOutside:(0,i.useCallback)((function(){null===l||void 0===l||l(c)}),[c,l])},y?i.createElement("div",{className:Ae.dropDownButtonContainer},i.createElement(f.zx,{light:!0,title:"Add Options",clicked:function(){return g(!1)}})):i.createElement("div",{className:Ae.dropDownNewListItemInputContainer},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:S,name:"newItem",placeholder:"Type name",onChange:function(e){b(e.target.value)}}),(null===S||void 0===S?void 0:S.length)>0&&i.createElement("button",{type:"button",onClick:E,className:Ae.dropdownInputButtonSaveNewItem},i.createElement(V.G,{icon:z.g6h}))),i.createElement("div",{className:Ae.dropdownListItemsContainer},c&&(null===c||void 0===c?void 0:c.map((function(e,t){return i.createElement(ft,{key:e+t,item:e,isOverflow:(null===c||void 0===c?void 0:c.length)>3,onItemChanged:function(e){m((function(l){return(0,o.Z)(We.update(t)(e)(l))}))},onItemRemoved:function(){return _(e)}})})))))))},tt=function(e){var t=e.defaultList,l=e.validationErrors,o=e.onChangeList,a=e.products;return(0,i.useEffect)((function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=k.h.getState().authReducer.sessionSettings.last_access_token,l=k.h.getState().flowReducer,o=l.lastUpdates,a=l.axiosAbort,i=(0,n.Z)((0,n.Z)({},ke.ns.products.getAllProducts(t)),{},{handlerEnabled:!0,signal:a.signal});return new Be.y((function(t){e||Fe()((0,Pe.now)()).diff(Fe()(o.products),"minutes")>10?(0,Te.b)(i).then((function(e){var l,a;200==(null===e||void 0===e?void 0:e.status)&&null!==e&&void 0!==e&&e.data&&null!==e&&void 0!==e&&null!==(l=e.data)&&void 0!==l&&l.data&&(k.h.dispatch((0,m.C2)((0,n.Z)((0,n.Z)({},o),{},{products:(0,Pe.now)()}))),k.h.dispatch((0,m.RU)(e.data.data.length>0?De.sortBy(De.prop("name"),e.data.data):[])),t.next(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data),t.complete())})).catch((function(e){t.error(e)})):t.complete()}))})(1).pipe((0,d.P)()).subscribe({})}),[]),i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(Ue,{errorMessage:null===l||void 0===l?void 0:l.position_id},i.createElement(f.Lb,{title:"What products to display?"}),i.createElement(f.sm,{"app-variant":null!==l&&void 0!==l&&l.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:a.map((function(e){return{label:e.name,value:e.product_code}})),itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:void 0===t||0===t.length?[]:t.map((function(e){var t=a.find((function(t){return t.product_code===e}));return{label:null===t||void 0===t?void 0:t.name,value:null===t||void 0===t?void 0:t.product_code}})),className:Ae.uploadSelectComponent,inputClassName:Ae.uploadSearchInput,molclassname:Ae.uploadSelectMenuOverlayList,moliclassname:Ae.uploadSelectMenuOverlayListItem,onChange:function(e){null===o||void 0===o||o(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))))},lt=function(e){var t=e.defaultType,l=e.defaultModule,n=e.onModuleSelected,r=e.onTypeSelected,u=e.defaultList,s=e.validationErrors,c=e.allModules,m=e.onChangeList,v=e.multiSelectLabel,y=void 0===v?"Default":v,g=(0,i.useState)(void 0),h=(0,a.Z)(g,2),C=h[0],S=h[1],b=(0,i.useState)(!1),E=(0,a.Z)(b,2),_=E[0],Z=E[1],w=(0,i.useState)(!1),N=(0,a.Z)(w,2)[1],L=(0,i.useState)(void 0===u||0===u.length?[]:u.map((function(e){return{label:e,value:e,blueprint_name:y}}))),I=(0,a.Z)(L,2),x=I[0],M=I[1],O=c.map((function(e){return{label:e.name,value:e.id,module:e}}));return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(Ue,{errorMessage:null===s||void 0===s?void 0:s.type},i.createElement(f.Lb,{title:"Module to list"}),i.createElement(f.sm,{"app-variant":null!==s&&void 0!==s&&s.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement("pre",{className:Ae.dropdownSymbol},null!==C&&void 0!==C&&C.icon?null===C||void 0===C?void 0:C.icon:_?"":null===l||void 0===l?void 0:l.icon," "),i.createElement(f.rk,{items:O,defaultSelected:l,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){var t;t=e.module.procedure.id,(0,p.zJ)(t).pipe((0,d.P)()).subscribe({next:function(e){var t,l=[];null===(t=e.steps)||void 0===t||t.filter((function(e){e.component_blueprints.filter((function(e){e.selected_fields.filter((function(t){l=[].concat((0,o.Z)(l),[{label:t.field_name,value:t.field_name,blueprint_name:e.name,blueprint_id:e.id}])}))}))})),M([].concat((0,o.Z)(We.sortWith([We.ascend(We.prop("blueprint_name"))])(l)),[{label:"Created Date",value:"Created Date",blueprint_name:"Others"},{label:"Total Qty",value:"Total Qty",blueprint_name:"Others"}])),N(!1)},error:function(e){}}),S(e),null===n||void 0===n||n(e),null!==e&&void 0!==e&&e.symbol?Z(!1):Z(!0)}}))),i.createElement(Ue,{errorMessage:null===s||void 0===s?void 0:s.position_id},i.createElement(f.Lb,{title:"What fields to display?"}),i.createElement(f.sm,{"app-variant":null!==s&&void 0!==s&&s.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},i.createElement(se.Cm,{items:x,groupedBy:"blueprint_name",groupname:"blueprint_name",triggerType:"chevron",initialSelectedValues:void 0===u||0===u.length?[]:u.map((function(e){return{label:e,value:e,blueprint_name:y}})),className:Ae.peoplePositionsSelect,inputClassName:Ae.peoplePositionsSelectInput,molclassname:Ae.peoplePositionsSelectMenuOverlay,moliclassname:Ae.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===m||void 0===m||m(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(Ue,{errorMessage:null===s||void 0===s?void 0:s.type},i.createElement(f.Lb,{title:"List type"}),i.createElement(f.sm,{"app-variant":null!==s&&void 0!==s&&s.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:[{label:"Table",value:"Table"},{label:"List (max 4 fields displayed)",value:"List"}],defaultSelected:t,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){null===r||void 0===r||r(e),null!==e&&void 0!==e&&e.symbol?Z(!1):Z(!0)}}))))},nt=function(e){var t=e.defaultOrientation,l=e.defaultKey,n=e.defaultType,d=e.defaultList,u=e.onKeySelected,s=e.onTypeSelected,c=e.validationErrors,m=e.blueprints,p=e.onChangeList,v=e.multiSelectLabel,y=void 0===v?"Default":v,g=e.onChangeOrientation,h=(0,r.v9)((function(e){return e.modalsReducer})).isOnboarding,C=(0,i.useState)(void 0),S=(0,a.Z)(C,2),b=(S[0],S[1]),E=(0,i.useState)(!1),_=(0,a.Z)(E,2),Z=(_[0],_[1]),w=(0,i.useState)(!0),N=(0,a.Z)(w,2)[1],L=(0,i.useState)(void 0===d||0===d.length?[]:d.map((function(e){return{label:e,value:e,blueprint_name:y}}))),I=(0,a.Z)(L,2),x=I[0],M=I[1],O=h?m.map((function(e){return{label:e.name,value:e.id,component:e}})):m.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,component:e}})),k=[{label:"Rows",value:"rows"},{label:"Columns",value:"Columns"}];return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(Ue,{errorMessage:null===c||void 0===c?void 0:c.type},i.createElement(f.Lb,{title:"Component where to conduct lookup"}),i.createElement(f.sm,{"app-variant":null!==c&&void 0!==c&&c.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:O,defaultSelected:n,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){!function(e){var t=[];e.fields.filter((function(l){t=[].concat((0,o.Z)(t),[{label:l.value,value:l.value,blueprint_name:e.name,blueprint_id:e.id}])})),M([].concat((0,o.Z)(We.sortWith([We.ascend(We.prop("blueprint_name"))])(t)),[{label:"Created Date",value:"created_date",blueprint_name:"Others"}])),N(!1)}(e.component),b(e),null===s||void 0===s||s(null!==e&&void 0!==e?e:"single"),null!==e&&void 0!==e&&e.symbol?Z(!1):Z(!0)}}))),i.createElement(Ue,{errorMessage:null===c||void 0===c?void 0:c.position_id},i.createElement(f.Lb,{title:"What key to use?"}),i.createElement(f.sm,{"app-variant":null!==c&&void 0!==c&&c.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},i.createElement(f.rk,{items:x,defaultSelected:{label:l},className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){var t;null===u||void 0===u||u(null!==(t=e.value)&&void 0!==t?t:"Key")}}))),i.createElement(Ue,{errorMessage:null===c||void 0===c?void 0:c.position_id},i.createElement(f.Lb,{title:"What fields to display?"}),i.createElement(f.sm,{"app-variant":null!==c&&void 0!==c&&c.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},i.createElement(se.Cm,{items:x,groupedBy:"blueprint_name",groupname:"blueprint_name",triggerType:"chevron",initialSelectedValues:void 0===d||0===d.length?[]:d.map((function(e){return{label:e,value:e,blueprint_name:y}})),className:Ae.peoplePositionsSelect,inputClassName:Ae.peoplePositionsSelectInput,molclassname:Ae.peoplePositionsSelectMenuOverlay,moliclassname:Ae.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===p||void 0===p||p(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(Ue,{errorMessage:null===c||void 0===c?void 0:c.type},i.createElement(f.Lb,{title:"Interface Orientation"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:k,defaultSelectedItem:k.find((function(e){return e.value===t})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){g(e.value),null!==e&&void 0!==e&&e.symbol?Z(!1):Z(!0)}}))))},ot=function(e){var t,l,d=e.defaultOrientation,u=e.defaultKey,s=e.defaultType,c=e.defaultList,m=e.defaultItemList,p=e.defaultConfig,v=e.onConfigSelected,y=e.onKeySelected,g=e.onTypeSelected,h=e.validationErrors,C=e.blueprints,S=(e.onChangeList,e.onChangeListItems,e.multiSelectLabel,e.onChangeOrientation,e.setFieldOption),b=e.fieldOption,E=(0,r.v9)((function(e){return e.modalsReducer})).isOnboarding,_=(0,i.useState)(void 0),Z=(0,a.Z)(_,2),w=(Z[0],Z[1]),N=(0,i.useState)(!1),L=(0,a.Z)(N,2),I=(L[0],L[1]),x=(0,i.useState)(!0),M=(0,a.Z)(x,2)[1],O=(0,i.useState)(null!==d&&void 0!==d?d:"Donut"),k=(0,a.Z)(O,2),T=k[0],B=k[1],P=(0,i.useState)(s?We.sortWith([We.ascend(We.prop("blueprint_name"))])(C.find((function(e){return e.id===(null===s||void 0===s?void 0:s.value)})).fields.map((function(e){var t=C.find((function(e){return e.id===(null===s||void 0===s?void 0:s.value)}));return{label:e.value,value:e.value,blueprint_name:t.name,blueprint_id:t.id}}))):[]),F=(0,a.Z)(P,2),D=F[0],A=F[1],W=E?We.sortWith([We.ascend(We.prop("name"))])(C).map((function(e){return{label:e.name,value:e.id,component:e}})):We.sortWith([We.ascend(We.prop("name"))])(C).filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,component:e}})),V=[{label:"Donut",value:"Donut"},{label:"Custom",value:"Custom"}],z=[{label:"Count Occurences",value:"occurences"},{label:"Total Quantity",value:"quantity"}];return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(Ue,{errorMessage:null===h||void 0===h?void 0:h.type},i.createElement(f.Lb,{title:"Chart Type"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:V,defaultSelectedItem:V.find((function(e){return e.value===d})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){S((0,n.Z)((0,n.Z)({},b),{},{orientation:e.value,list:[],items:[]})),B(e.value),null!==e&&void 0!==e&&e.symbol?I(!1):I(!0)}}))),i.createElement(Ue,{errorMessage:null===h||void 0===h?void 0:h.type},i.createElement(f.Lb,{title:"Component where to get fields"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:W,defaultSelected:s,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){var t;t=e.component,A([].concat((0,o.Z)(We.sortWith([We.ascend(We.prop("blueprint_name"))])(t.fields.map((function(e){return{label:e.value,value:e.value,blueprint_name:t.name,blueprint_id:t.id}})))),[{label:"Created Date",value:"created_date",blueprint_name:"Others"}])),M(!1),w(e),null===g||void 0===g||g(null!==e&&void 0!==e?e:"single"),null!==e&&void 0!==e&&e.symbol?I(!1):I(!0)}}))),i.createElement(Ue,{errorMessage:null===h||void 0===h?void 0:h.position_id},i.createElement(f.Lb,{title:"What key to use?"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},i.createElement(f.rk,{items:D,defaultSelected:{label:u},className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){var t;null===y||void 0===y||y(null!==(t=e.value)&&void 0!==t?t:"Key")}}))),"Custom"===T&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Chart Config"}),i.createElement("textarea",{id:"chart config",type:"text",name:"element-name",defaultValue:JSON.stringify(p),onChange:function(e){},onBlur:function(){var e,t,l;(function(e){try{JSON.parse(e)}catch(t){return!1}return!0})(null===(e=document.getElementById("chart config"))||void 0===e?void 0:e.value)?(v(JSON.parse(null===(t=document.getElementById("chart config"))||void 0===t?void 0:t.value)),document.getElementById("chart config").style.borderColor="var(--app-color-gray-lighter)"):0===(null===(l=document.getElementById("chart config"))||void 0===l?void 0:l.value.length)?(document.getElementById("chart config").value=JSON.stringify({}),document.getElementById("chart config").style.borderColor="pink"):document.getElementById("chart config").style.borderColor="red"},className:Ae.elementTextInput,style:{minHeight:"200px"}})),("Donut"!==T||"Donut"===T&&"quantity"===(null===b||void 0===b?void 0:b.operation))&&0===(null===b||void 0===b||null===(t=b.items)||void 0===t?void 0:t.length)&&i.createElement(Ue,{errorMessage:null===h||void 0===h?void 0:h.position_id},i.createElement(f.Lb,{title:"What field to use to compute?"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},i.createElement(f.rk,{items:D,defaultSelected:1===(null===c||void 0===c?void 0:c.length)?{label:c[0]}:void 0,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){S((0,n.Z)((0,n.Z)({},b),{},{list:[e.value],items:[]}))}}))),("Donut"!==T||"Donut"===T&&"quantity"===(null===b||void 0===b?void 0:b.operation))&&0===(null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.length)&&i.createElement(Ue,{errorMessage:null===h||void 0===h?void 0:h.position_id},i.createElement(f.Lb,{title:"What item field to use to compute?"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},i.createElement(f.rk,{items:[{label:"Item Code",value:"item_code",blueprint_name:"Items"},{label:"Quantity",value:"quantity",blueprint_name:"Items"},{label:"Value",value:"value",blueprint_name:"Items"},{label:"Value 2",value:"alt_value",blueprint_name:"Items"},{label:"Total",value:"total",blueprint_name:"Items"},{label:"Type",value:"type",blueprint_name:"Items"}],defaultSelected:1===(null===m||void 0===m?void 0:m.length)?{label:m[0]}:void 0,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){S((0,n.Z)((0,n.Z)({},b),{},{items:[e.value],list:[]}))}}))),i.createElement(Ue,{errorMessage:null===h||void 0===h?void 0:h.type},i.createElement(f.Lb,{title:"Operation to be used"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:z,defaultSelectedItem:z.find((function(e){return e.value===(null===b||void 0===b?void 0:b.operation)})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){S((0,n.Z)((0,n.Z)({},b),{},{operation:null===e||void 0===e?void 0:e.value}))}}))))},at=function(e){var t,l,r,d,u,s=e.defaultValue,c=e.defaultList,m=e.defaultSearchText,p=e.onChangeSearchText,v=e.onChangeList,y=e.onOperatorSelected,g=e.validationErrors,h=e.selectedFields,C=e.blueprints,S=(e.selectLabel,e.setFieldOption),b=e.fieldOption,E=(0,i.useState)(void 0===s?"":s),_=(0,a.Z)(E,2),Z=_[0],w=_[1],N=(0,i.useState)(void 0===c?[]:c),L=(0,a.Z)(N,1)[0],I=(0,i.useState)(void 0===m?"":m),x=(0,a.Z)(I,2),M=x[0],O=x[1],k=[{label:"Sum of the fields (A+B)",id:0,value:"sum",type:"fields"},{label:"Sum of custom fields (F1+..Fn)",id:15,value:"freesum",type:"fields"},{label:"Difference between fields (A-B)",id:1,value:"difference",type:"fields"},{label:"Multiply the fields (A*B)",id:2,value:"multiply",type:"fields"},{label:"Divide the fields (A/B)",id:3,value:"divide",type:"fields"},{label:"Total Difference per field (A1-A2-An)",id:4,value:"tdiff",type:"fields"},{label:"Total Sum per field (A1+A2+An)",id:5,value:"tsum",type:"fields"},{label:"Total Sum per line item variable (A1+A2+An)",id:6,value:"itemsum",type:"items"},{label:"Total Difference per line item variable (A1-A2-An)",id:7,value:"itemdiff",type:"items"},{label:"Difference between dates (D1-D2-Dn, in days)",id:10,value:"datesdiff",type:"date"},{label:"Difference between today and date (Today-Dn, in days)",id:11,value:"datenowdiff",type:"date"},{label:"Count occurrences of string in field selected",id:12,value:"countocc",type:"fields"},{label:"Count occurrences of date in field selected",id:13,value:"countdateocc",type:"date"},{label:"Compute the distance between two pins",id:14,value:"cmpdistance",type:"pin"}],T=[{label:"Quantity",id:6,value:"qty",type:"items"},{label:"Total",id:8,value:"total",type:"items"},{label:"Value",id:8,value:"value",type:"items"},{label:"Alt Value",id:9,value:"altvalue",type:"items"}],B=[{label:"Set date today",value:"today",type:"Date"},{label:"Set date tomorrow",value:"tomorrow",type:"Date"},{label:"Set date one month from today",value:"month",type:"Date"},{label:"Set date one week from today",value:"week",type:"Date"},{label:"None",value:"none",type:"Date"}],P=h.filter((function(e){return""!=e.value&&("Value Button"===e.field_type.name||"Number"===e.field_type.name||"Formula"===e.field_type.name||"Item Formula"===e.field_type.name)})).map((function(e){return{label:e.value,value:e.id,field_name:e.field_type.name}})),F=h.filter((function(e){return""!=e.value&&"Date"===e.field_type.name})).map((function(e){return{label:e.value,value:e.id,field_name:"Dates"}})),D=[].concat.apply([],C.map((function(e){return[].concat.apply([],e.fields)}))).map((function(e){return{label:e.value,value:e.id,type:e.name}}));return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(Ue,{errorMessage:null===g||void 0===g?void 0:g.type},i.createElement(f.Lb,{title:"Operation to perform"}),i.createElement(f.sm,{"apps-variant":null!==g&&void 0!==g&&g.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:k,defaultSelectedItem:k.find((function(e){return e.value===Z})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){w(e.value),y(e.value)}}))),"freesum"!==Z&&i.createElement(Ue,{errorMessage:null===g||void 0===g?void 0:g.accepted_mimes},i.createElement(f.Lb,{title:"sum"===Z||"difference"===Z||"multiply"===Z||"divide"===Z?"Fields to perform selected operation":"Field to perform selected operation"}),i.createElement(f.sm,{"app-variant":null!==g&&void 0!==g&&g.accepted_mimes?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},"datesdiff"===Z||"datenowdiff"===Z||"sum"===Z||"difference"===Z||"multiply"===Z||"divide"===Z?i.createElement(se.Cm,{items:"datesdiff"===Z||"datenowdiff"===Z?F:P,groupedBy:"field_name",groupname:"field_name",triggerType:"chevron",initialSelectedValues:"datesdiff"===Z||"datenowdiff"===Z?F.filter((function(e){return(null===L||void 0===L?void 0:L.indexOf(null===e||void 0===e?void 0:e.label))>-1})):P.filter((function(e){return(null===L||void 0===L?void 0:L.indexOf(null===e||void 0===e?void 0:e.label))>-1})),className:Ae.peoplePositionsSelect,inputClassName:Ae.peoplePositionsSelectInput,molclassname:Ae.peoplePositionsSelectMenuOverlay,moliclassname:Ae.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===v||void 0===v||v(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.label})))}}):"itemdiff"===Z||"itemsum"===Z?i.createElement(f.Ld,{triggerType:"chevron",items:T,defaultSelectedItem:L.length>0&&null!==(t=T.find((function(e){return e.value===L[0]})))&&void 0!==t?t:{},className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){null===v||void 0===v||v([null===e||void 0===e?void 0:e.value])}}):"cmpdistance"===Z?i.createElement(se.Cm,{items:D.filter((function(e){return"Pin"===e.type})),groupedBy:"type",groupname:"type",triggerType:"chevron",initialSelectedValues:D.filter((function(e){return"Pin"===e.type})).filter((function(e){return(null===L||void 0===L?void 0:L.indexOf(null===e||void 0===e?void 0:e.label))>-1})),className:Ae.peoplePositionsSelect,inputClassName:Ae.peoplePositionsSelectInput,molclassname:Ae.peoplePositionsSelectMenuOverlay,moliclassname:Ae.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===v||void 0===v||v(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.label})))}}):i.createElement(f.Ld,{triggerType:"chevron",items:We.sortWith([We.ascend(We.prop("label"))])((0,o.Z)(new Set(D.filter((function(e){return"countdateocc"===Z?"Date"===e.type:"Text"===e.type&&"countocc"===Z||"Number"===e.type||"Status"===e.type||"Formula"===e.type||"Item Formula"===e.type||"Currency"===e.type})).map((function(e){return e.label})))).map((function(e){return{label:e,value:e}}))),defaultSelectedItem:L.length>0?{label:L[0]}:{},className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){null===v||void 0===v||v([null===e||void 0===e?void 0:e.label])}}))),"countocc"===Z&&i.createElement(Ue,{errorMessage:null===g||void 0===g?void 0:g.name},i.createElement(f.Lb,{title:"Input text to search"}),i.createElement("input",{type:"text",name:"element-name",value:M,onChange:function(e){O(e.target.value),p(e.target.value)},className:Ae.elementTextInput})),"countdateocc"===Z&&i.createElement(Ue,{errorMessage:null===g||void 0===g?void 0:g.name},i.createElement(f.Lb,{title:"Select date to match with"}),i.createElement(f.sm,{"app-variant":null!==g&&void 0!==g&&g.accepted_mimes?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(f.Ld,{triggerType:"chevron",items:B,defaultSelectedItem:m&&B.find((function(e){return e.value===m})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){p(null===e||void 0===e?void 0:e.value)}}))),i.createElement(Ue,{errorMessage:null===g||void 0===g?void 0:g.type},i.createElement(f.Lb,{title:"Output display"}),i.createElement(f.sm,{"apps-variant":null!==g&&void 0!==g&&g.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:Ve,defaultSelectedItem:Ve.find((function(e){return e.value===(null===b||void 0===b?void 0:b.display)})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){S((0,n.Z)((0,n.Z)({},b),{},{display:null===e||void 0===e?void 0:e.value}))}}))),"bar"===(null===b||void 0===b?void 0:b.display)&&i.createElement(Ue,{errorMessage:null===g||void 0===g?void 0:g.name},i.createElement(f.Lb,{title:"Maximum Value"}),i.createElement("input",{type:"text",name:"element-name",value:b.max,onBlur:function(e){S((0,n.Z)((0,n.Z)({},b),{},{max:e.target.value}))},className:Ae.elementTextInput}),i.createElement(f.Lb,{title:"Color - Formula Value"}),i.createElement("input",{type:"text",className:Ae.elementTextInput,style:{borderRight:"white"===(null===b||void 0===b?void 0:b.barC)?"white":"50px solid ".concat(null!==(l=null===b||void 0===b?void 0:b.barC)&&void 0!==l?l:"#F6F4EC")},defaultValue:null!==(r=null===b||void 0===b?void 0:b.barC)&&void 0!==r?r:"#F6F4EC",onBlur:function(e){return S((0,n.Z)((0,n.Z)({},b),{},{barC:e.target.value}))}}),i.createElement(f.Lb,{title:"Color - Formula Max Value"}),i.createElement("input",{type:"text",className:Ae.elementTextInput,style:{borderRight:"white"===(null===b||void 0===b?void 0:b.maxC)?"white":"50px solid ".concat(null!==(d=null===b||void 0===b?void 0:b.maxC)&&void 0!==d?d:"yellow")},defaultValue:null!==(u=null===b||void 0===b?void 0:b.maxC)&&void 0!==u?u:"yellow",onBlur:function(e){return S((0,n.Z)((0,n.Z)({},b),{},{maxC:e.target.value}))}})),i.createElement("br",null),i.createElement("p",{className:Ae.elementInputTitle},"Ensure fields are set to the appropriate type (number, dates, currency, etc)"))},it=function(e){var t,l,o,r,d=e.defaultValue,u=e.defaultList,s=e.defaultSearchText,c=e.onChangeSearchText,m=e.onChangeList,p=e.onOperatorSelected,v=e.validationErrors,y=e.selectedFields,g=e.blueprints,h=(e.selectLabel,e.setFieldOption),C=e.fieldOption,S=(0,i.useState)(void 0===d?"":d),b=(0,a.Z)(S,2),E=b[0],_=b[1],Z=(0,i.useState)(void 0===u?[]:u),w=(0,a.Z)(Z,1)[0],N=(0,i.useState)(void 0===s?"":s),L=(0,a.Z)(N,2),I=L[0],x=L[1],M=[{label:"Sum of the fields (A+B)",id:0,value:"sum",type:"fields"},{label:"Difference between fields (A-B)",id:1,value:"difference",type:"fields"},{label:"Multiply the fields (A*B)",id:2,value:"multiply",type:"fields"},{label:"Divide the fields (A/B)",id:3,value:"divide",type:"fields"}],O=[{label:"Set date today",value:"today",type:"Date"},{label:"Set date tomorrow",value:"tomorrow",type:"Date"},{label:"Set date one month from today",value:"month",type:"Date"},{label:"Set date one week from today",value:"week",type:"Date"},{label:"None",value:"none",type:"Date"}],k=y.filter((function(e){return""!=e.value&&("Value Button"===e.field_type.name||"Number"===e.field_type.name||"Formula"===e.field_type.name||"Item Formula"===e.field_type.name)})).map((function(e){return{label:e.value,value:e.id,field_name:e.field_type.name}})),T=y.filter((function(e){return""!=e.value&&"Date"===e.field_type.name})).map((function(e){return{label:e.value,value:e.id,field_name:"Dates"}}));[].concat.apply([],g.map((function(e){return[].concat.apply([],e.fields)}))).map((function(e){return{label:e.value,value:e.id,type:e.name}}));return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(Ue,{errorMessage:null===v||void 0===v?void 0:v.type},i.createElement(f.Lb,{title:"Operation to perform"}),i.createElement(f.sm,{"apps-variant":null!==v&&void 0!==v&&v.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:M,defaultSelectedItem:M.find((function(e){return e.value===E})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){_(e.value),p(e.value)}}))),"freesum"!==E&&i.createElement(Ue,{errorMessage:null===v||void 0===v?void 0:v.accepted_mimes},i.createElement(f.Lb,{title:"sum"===E||"difference"===E||"multiply"===E||"divide"===E?"Fields to perform selected operation":"Field to perform selected operation"}),i.createElement(f.sm,{"app-variant":null!==v&&void 0!==v&&v.accepted_mimes?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(se.Cm,{items:"datesdiff"===E||"datenowdiff"===E?T:k,groupedBy:"field_name",groupname:"field_name",triggerType:"chevron",initialSelectedValues:"datesdiff"===E||"datenowdiff"===E?T.filter((function(e){return(null===w||void 0===w?void 0:w.indexOf(null===e||void 0===e?void 0:e.label))>-1})):k.filter((function(e){return(null===w||void 0===w?void 0:w.indexOf(null===e||void 0===e?void 0:e.label))>-1})),className:Ae.peoplePositionsSelect,inputClassName:Ae.peoplePositionsSelectInput,molclassname:Ae.peoplePositionsSelectMenuOverlay,moliclassname:Ae.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===m||void 0===m||m(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.label})))}}))),"countocc"===E&&i.createElement(Ue,{errorMessage:null===v||void 0===v?void 0:v.name},i.createElement(f.Lb,{title:"Input text to search"}),i.createElement("input",{type:"text",name:"element-name",value:I,onChange:function(e){x(e.target.value),c(e.target.value)},className:Ae.elementTextInput})),"countdateocc"===E&&i.createElement(Ue,{errorMessage:null===v||void 0===v?void 0:v.name},i.createElement(f.Lb,{title:"Select date to match with"}),i.createElement(f.sm,{"app-variant":null!==v&&void 0!==v&&v.accepted_mimes?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(f.Ld,{triggerType:"chevron",items:O,defaultSelectedItem:s&&O.find((function(e){return e.value===s})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){c(null===e||void 0===e?void 0:e.value)}}))),i.createElement(Ue,{errorMessage:null===v||void 0===v?void 0:v.type},i.createElement(f.Lb,{title:"Output display"}),i.createElement(f.sm,{"apps-variant":null!==v&&void 0!==v&&v.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:Ve,defaultSelectedItem:Ve.find((function(e){return e.value===(null===C||void 0===C?void 0:C.display)})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){h((0,n.Z)((0,n.Z)({},C),{},{display:null===e||void 0===e?void 0:e.value}))}}))),"bar"===(null===C||void 0===C?void 0:C.display)&&i.createElement(Ue,{errorMessage:null===v||void 0===v?void 0:v.name},i.createElement(f.Lb,{title:"Maximum Value"}),i.createElement("input",{type:"text",name:"element-name",value:C.max,onBlur:function(e){h((0,n.Z)((0,n.Z)({},C),{},{max:e.target.value}))},className:Ae.elementTextInput}),i.createElement(f.Lb,{title:"Color - Formula Value"}),i.createElement("input",{type:"text",className:Ae.elementTextInput,style:{borderRight:"white"===(null===C||void 0===C?void 0:C.barC)?"white":"50px solid ".concat(null!==(t=null===C||void 0===C?void 0:C.barC)&&void 0!==t?t:"#F6F4EC")},defaultValue:null!==(l=null===C||void 0===C?void 0:C.barC)&&void 0!==l?l:"#F6F4EC",onBlur:function(e){return h((0,n.Z)((0,n.Z)({},C),{},{barC:e.target.value}))}}),i.createElement(f.Lb,{title:"Color - Formula Max Value"}),i.createElement("input",{type:"text",className:Ae.elementTextInput,style:{borderRight:"white"===(null===C||void 0===C?void 0:C.maxC)?"white":"50px solid ".concat(null!==(o=null===C||void 0===C?void 0:C.maxC)&&void 0!==o?o:"yellow")},defaultValue:null!==(r=null===C||void 0===C?void 0:C.maxC)&&void 0!==r?r:"yellow",onBlur:function(e){return h((0,n.Z)((0,n.Z)({},C),{},{maxC:e.target.value}))}})),i.createElement("br",null),i.createElement("p",{className:Ae.elementInputTitle},"Ensure fields are set to the appropriate type (number, dates, currency, etc)"))},rt=function(e){var t,l,o,r,d,u,s=e.options,c=e.setFieldOption,m=e.fieldOption,p=e.validationErrors,v=(0,i.useState)(null!==(t=s.subject)&&void 0!==t?t:""),y=(0,a.Z)(v,2),g=y[0],h=y[1],C=(0,i.useState)(null!==(l=s.message)&&void 0!==l?l:""),S=(0,a.Z)(C,2),b=S[0],E=S[1],_=(0,i.useState)(null!==(o=s.message2)&&void 0!==o?o:""),Z=(0,a.Z)(_,2),w=Z[0],N=Z[1],L=(0,i.useState)(null!==(r=s.valueToMatch)&&void 0!==r?r:""),I=(0,a.Z)(L,2),x=I[0],M=I[1],O=(0,i.useState)(null!==(d=s.copyEmailRecip)&&void 0!==d?d:""),k=(0,a.Z)(O,2),T=k[0],B=k[1],P=(0,i.useState)(null!==(u=s.fieldToMatch)&&void 0!==u?u:""),F=(0,a.Z)(P,2),D=F[0],A=F[1];return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(Ue,{errorMessage:null===p||void 0===p?void 0:p.name},i.createElement(f.Lb,{title:"Email subject"}),i.createElement("input",{type:"text",name:"element-name",value:null!==g&&void 0!==g?g:"",onChange:function(e){c((0,n.Z)((0,n.Z)({},m),{},{message2:w,message:b,subject:e.target.value,copyEmailRecip:T})),h(e.target.value)},className:Ae.elementTextInput})),i.createElement(Ue,{errorMessage:null===p||void 0===p?void 0:p.name},i.createElement(f.Lb,{title:"Custom email message to selected recipients"}),i.createElement("textarea",{type:"text",name:"element-name",value:null!==b&&void 0!==b?b:"",onChange:function(e){c((0,n.Z)((0,n.Z)({},m),{},{subject:g,message:e.target.value,message2:w,copyEmailRecip:T})),E(e.target.value)},className:Ae.elementTextInput,style:{height:"100px"}})),i.createElement(Ue,{errorMessage:null===p||void 0===p?void 0:p.name},i.createElement(f.Lb,{title:"Custom email message to creator"}),i.createElement("textarea",{type:"text",name:"element-name",value:null!==w&&void 0!==w?w:"",onChange:function(e){c((0,n.Z)((0,n.Z)({},m),{},{subject:g,message:b,message2:e.target.value,copyEmailRecip:T})),N(e.target.value)},className:Ae.elementTextInput,style:{height:"100px"}})),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Field to check to trigger email"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:D,name:"matched to field",onChange:function(e){A(e.target.value),c((0,n.Z)((0,n.Z)({},m),{},{subject:g,message:b,message2:w,fieldToMatch:e.target.value,valueToMatch:x,copyEmailRecip:T}))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Values of field to trigger the email (Note: Use ' , ' to seperate)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:x,name:"matched to field",onChange:function(e){M(e.target.value),c((0,n.Z)((0,n.Z)({},m),{},{subject:g,message:b,message2:w,fieldToMatch:D,valueToMatch:e.target.value,copyEmailRecip:T}))}}))),i.createElement(f.pd,{id:"Copy default email recipients",title:"Copy default email recipients?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:T,toggleSelected:function(e){B(e),c((0,n.Z)((0,n.Z)({},m),{},{subject:g,message:b,message2:w,fieldToMatch:D,valueToMatch:x,copyEmailRecip:e}))}}))},dt=function(e){var t=e.defaultValue,l=e.defaultField,n=e.onChangeField,o=e.onChangeValue,r=e.validationErrors,d=e.blueprints,u=(0,i.useState)(void 0===t?"":t),s=(0,a.Z)(u,2),c=s[0],m=s[1],p=(0,i.useState)(void 0===l?"":l),v=(0,a.Z)(p,1)[0],y=[].concat.apply([],d.map((function(e){return[].concat.apply([],e.fields)}))).map((function(e){return{label:e.value,value:e.id,type:e.name}}));return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(Ue,{errorMessage:null===r||void 0===r?void 0:r.accepted_mimes},i.createElement(f.Lb,{title:"Field to perform filter"}),i.createElement(f.sm,{"app-variant":null!==r&&void 0!==r&&r.accepted_mimes?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(f.Ld,{triggerType:"chevron",items:y,defaultSelectedItem:v.length>0?{label:v}:{},className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){null===n||void 0===n||n(null===e||void 0===e?void 0:e.label)}}))),i.createElement(Ue,{errorMessage:null===r||void 0===r?void 0:r.name},i.createElement(f.Lb,{title:"Input text to search"}),i.createElement("input",{type:"text",name:"element-name",value:c,onChange:function(e){o(e.target.value),m(e.target.value)},className:Ae.elementTextInput})),i.createElement("br",null))},ut=function(e){var t,l=e.defaultRefName,n=e.onReferenceLabel,o=e.validationErrors,r=e.onTargetSelected,d=e.onChangeList,u=e.onTypeSelected,s=e.defaultTarget,c=e.defaultType,m=e.bpContext,p=e.defaultList,v=(0,i.useState)(!1),y=(0,a.Z)(v,2)[1],g=(0,i.useState)({}),h=(0,a.Z)(g,2)[1],C=(0,i.useState)(void 0==s?[]:null===s||void 0===s||null===(t=s.fields)||void 0===t?void 0:t.map((function(e){return{label:e.value,value:e.value}}))),S=(0,a.Z)(C,2),b=S[0],E=S[1],_=(0,i.useState)(void 0==p?[]:(null===p||void 0===p?void 0:p.length)>0?p.map((function(e){return{label:e,value:e,component_name:"Fields"}})):[]),Z=(0,a.Z)(_,2),w=Z[0],N=Z[1],L=(0,i.useState)(m.allBlueprintComponents.filter((function(e){return!1===e.readonly})).filter((function(e){return e.fields.filter((function(e){return"Product ID"===e.value})).length>0})).map((function(e){return{label:e.name,value:e.id,blueprint:e}}))),I=(0,a.Z)(L,1)[0];return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(Ue,{errorMessage:null===o||void 0===o?void 0:o.type},i.createElement(f.Lb,{title:"Component where to conduct lookup of Product"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:{label:null===s||void 0===s?void 0:s.name,value:null===s||void 0===s?void 0:s.id},className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){E(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),N(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),h(e),r(e.value),null!==e&&void 0!==e&&e.symbol?y(!1):y(!0)}}))),i.createElement(Ue,{errorMessage:null===o||void 0===o?void 0:o.type},i.createElement(f.Lb,{title:"Display label for Components found"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:b,defaultSelectedItem:{label:l,value:l},className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){n(e.value)}}))),i.createElement(Ue,{errorMessage:null===o||void 0===o?void 0:o.accepted_mimes},i.createElement(f.Lb,{title:"Fields to output"}),i.createElement(f.sm,{"app-variant":null!==o&&void 0!==o&&o.accepted_mimes?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:w,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:0===(null===p||void 0===p?void 0:p.length)?[]:p.map((function(e){return{label:e,value:e}})),className:Ae.uploadSelectComponent,inputClassName:Ae.uploadSearchInput,molclassname:Ae.uploadSelectMenuOverlayList,moliclassname:Ae.uploadSelectMenuOverlayListItem,onChange:function(e){null===d||void 0===d||d(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(Ue,{errorMessage:null===o||void 0===o?void 0:o.type},i.createElement(f.Lb,{title:"Interface Type"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:[{label:"Dropdown",value:"Dropdown"},{label:"Tiles",value:"Tiles"},{label:"Columns",value:"Columns"}],defaultSelectedItem:c,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){u(e.value),null!==e&&void 0!==e&&e.symbol?y(!1):y(!0)}}))))},st=function(e){var t=e.validationErrors,l=e.onTargetSelected,n=e.onOutputSelected,o=e.onGlobalSelected,d=e.defaultTarget,u=e.defaultGlobal,s=e.bpContext,c=e.onFilterList,m=e.defaultFilters,p=e.defaultOutput,v=(0,r.v9)((function(e){return e.modalsReducer})).isOnboarding,y=(0,i.useState)(!1),g=(0,a.Z)(y,2)[1],h=(0,i.useState)({}),C=(0,a.Z)(h,2)[1],S=(0,i.useState)(void 0==m?[]:(null===m||void 0===m?void 0:m.length)>0?m.map((function(e){return{label:e,value:e,component_name:"Fields"}})):[]),b=(0,a.Z)(S,2),E=b[0],_=b[1],Z=(0,i.useState)(v?s.allBlueprintComponents.map((function(e){return{label:e.name,value:e.id,blueprint:e}})):s.allBlueprintComponents.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}}))),w=(0,a.Z)(Z,1)[0],N=(0,i.useState)(void 0==d?[]:d.fields.map((function(e){return{label:e.value,value:e.value}}))),L=(0,a.Z)(N,2),I=L[0],x=L[1];return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(Ue,{errorMessage:null===t||void 0===t?void 0:t.type},i.createElement(f.Lb,{title:"Component where to conduct lookup"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:w,defaultSelectedItem:{label:null===d||void 0===d?void 0:d.name,value:null===d||void 0===d?void 0:d.id},className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){_(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),x(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),C(e),l(e.value),null!==e&&void 0!==e&&e.symbol?g(!1):g(!0)}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Fields to filter (enter in order of filter, max 3)"}),i.createElement(f.sm,{"app-variant":null!==t&&void 0!==t&&t.accepted_mimes?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:E,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:0===(null===m||void 0===m?void 0:m.length)?[]:null===m||void 0===m?void 0:m.map((function(e){return{label:e,value:e}})),className:Ae.uploadSelectComponent,inputClassName:Ae.uploadSearchInput,molclassname:Ae.uploadSelectMenuOverlayList,moliclassname:Ae.uploadSelectMenuOverlayListItem,onChange:function(e){null===c||void 0===c||c(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(Ue,{errorMessage:null===t||void 0===t?void 0:t.accepted_mimes},i.createElement(f.Lb,{title:"Use a global field to filter components (Optional)"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:{label:u,value:u},className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){o(e.value)}}))),i.createElement(Ue,{errorMessage:null===t||void 0===t?void 0:t.accepted_mimes},i.createElement(f.Lb,{title:"Field value to save as output"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:{label:p,value:p},className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){n(e.value)}}))))},ct=function(e){var t=e.validationErrors,l=e.fieldOption,d=e.setFieldOption,u=e.onModuleSelected,s=e.defaultModule,c=e.companyProcesses,m=e.defaultFields,p=e.onFieldsSelected,v=(0,r.v9)((function(e){return e.flowReducer})).allModules,y=(0,i.useState)(void 0===m||0===m.length?[]:m.map((function(e){var t;return{label:e,value:e,blueprint_name:null!==(t=null===s||void 0===s?void 0:s.label)&&void 0!==t?t:"Others"}}))),g=(0,a.Z)(y,2),h=g[0],C=g[1],S=v.map((function(e){return{label:e.name,value:e.id,module:e}}));return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(Ue,{errorMessage:null===t||void 0===t?void 0:t.type},i.createElement(Ue,{errorMessage:null===t||void 0===t?void 0:t.type},i.createElement(f.Lb,{title:"Module to process"}),i.createElement(f.sm,{"app-variant":null!==t&&void 0!==t&&t.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:S,defaultSelected:S.find((function(e){return e.value===s})),className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){!function(e){if(c.length>0&&void 0!==e){var t,l,n=[];null===(t=c.find((function(t){return t.id===e})))||void 0===t||null===(l=t.steps)||void 0===l||l.filter((function(e){e.component_blueprints.filter((function(e){e.selected_fields.filter((function(e){return 1==e.visible})).filter((function(e){n=[].concat((0,o.Z)(n),[e.field_name])}))}))})),n=(0,o.Z)(new Set(n)).map((function(e){var t;return{label:e,value:e,blueprint_name:null!==(t=null===s||void 0===s?void 0:s.label)&&void 0!==t?t:"Others"}})),C([].concat((0,o.Z)(We.sortWith([We.ascend(We.prop("label"))])(n)),[{label:"None",value:"none"}]))}}(e.module.procedure.id),null===u||void 0===u||u(e)}}))),i.createElement(Ue,{errorMessage:null===t||void 0===t?void 0:t.accepted_mimes},i.createElement(f.Lb,{title:"Fields to transfer to module"}),i.createElement(f.sm,{"app-variant":null!==t&&void 0!==t&&t.accepted_mimes?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:h,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:0===(null===m||void 0===m?void 0:m.length)?[]:null===m||void 0===m?void 0:m.map((function(e){return{label:e,value:e}})),className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){null===p||void 0===p||p(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(Ue,{errorMessage:null===t||void 0===t?void 0:t.type},i.createElement(f.Lb,{title:"Key to use in list"}),i.createElement(f.sm,{"app-variant":null!==t&&void 0!==t&&t.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:h,defaultSelected:h.find((function(e){return e.value===l.key})),className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){d((0,n.Z)((0,n.Z)({},l),{},{key:e.value}))}})))))},mt=function(e){var t=e.defaultGlobal,l=(e.defaultRefName,e.defaultSrcName),n=e.onSourceLabel,o=(e.onReferenceLabel,e.defaultValue),d=e.validationErrors,u=e.onSourceSelected,s=e.onTargetSelected,c=e.onFieldSelected,m=e.onChangeList,p=e.onTypeSelected,v=e.defaultCommon,y=e.defaultTarget,g=e.defaultType,h=e.bpContext,C=e.defaultList,S=e.defaultRefList,b=e.onChangeRList,E=e.onGlobalSelected,_=e.onSetShowAll,Z=e.showAllDefault,w=(0,i.useState)("none"),N=(0,a.Z)(w,2),L=N[0],I=N[1],x=(0,r.v9)((function(e){return e.modalsReducer})).isOnboarding,M=(0,i.useState)(!1),O=(0,a.Z)(M,2)[1],k=(0,i.useState)({}),T=(0,a.Z)(k,2),B=T[0],P=T[1],F=(0,i.useState)({}),D=(0,a.Z)(F,2)[1],A=(0,i.useState)({}),W=(0,a.Z)(A,2)[1],V=(0,i.useState)([]),z=(0,a.Z)(V,2),R=z[0],j=z[1],U=(0,i.useState)([]),q=(0,a.Z)(U,2),K=q[0],H=q[1],X=(0,i.useState)([]),G=(0,a.Z)(X,2),Y=G[0],J=G[1],Q=(0,i.useState)(void 0===S||0===S.length?[]:S.map((function(e){return{label:e,value:e,component_name:"Fields"}}))),$=(0,a.Z)(Q,2),ee=($[0],$[1],(0,i.useState)(void 0===C||0===C.length?[]:C.map((function(e){return{label:e,value:e,component_name:"Fields"}})))),te=(0,a.Z)(ee,2),le=te[0],ne=te[1],oe=(0,i.useState)([]),ae=(0,a.Z)(oe,2),ie=ae[0],re=ae[1];(0,i.useEffect)((function(){de()}),[]);var de=(0,i.useCallback)((function(){var e=x?h.allBlueprintComponents.map((function(e){return{label:e.name,value:e.id,blueprint:e}})):h.allBlueprintComponents.filter((function(e){return 0==e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}}));if(re(e),o&&e){var t,l=null===(t=e.find((function(e){return e.label===o.label})))||void 0===t?void 0:t.blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e}})),n=e.find((function(e){return e.label===o.label}));if(j(n.blueprint.fields.map((function(e){var t;return{label:e.value,value:e.id,field:e,component_name:null===(t=n.blueprint)||void 0===t?void 0:t.name}}))),v&&(null===l||void 0===l?void 0:l.length)>0){var a=null===e||void 0===e?void 0:e.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.blueprint.fields)||void 0===t?void 0:t.filter((function(e){return e.value===v.label})).length)>0})).filter((function(e){return e.label!==o.label})).map((function(e){return{label:e.label,value:e.value,component:e.blueprint}}));if(H(a),y&&(null===a||void 0===a?void 0:a.length)>0){var i,r,d,u,s,c,m;J(null!==(i=null===a||void 0===a||null===(r=a.find((function(e){return e.label===y.label})))||void 0===r||null===(d=r.component)||void 0===d||null===(u=d.fields)||void 0===u?void 0:u.map((function(e){return{label:e.value,value:e.value,component_name:y.label}})))&&void 0!==i?i:[]);var p=e.find((function(e){return e.label===o.label}));ne(null!==(s=null===a||void 0===a||null===(c=a.find((function(e){return e.label===y.label})))||void 0===c||null===(m=c.component.fields)||void 0===m?void 0:m.map((function(e){return{label:e.value,value:e.value,component_name:y.label}})).concat(null===p||void 0===p?void 0:p.blueprint.fields.map((function(e){return{label:e.value,value:e.value,component_name:p.label}}))))&&void 0!==s?s:[])}}}setTimeout((function(){return I("")}))}));return""===L&&i.createElement("div",{className:Ae.dropdownElementHost,style:{display:L}},i.createElement(Ue,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Category Component"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:ie,defaultSelectedItem:o,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){var t=ie.find((function(t){return t.value===e.value}));j(t.blueprint.fields.map((function(e){var l;return{label:e.value,value:e.id,field:e,component_name:null===(l=t.blueprint)||void 0===l?void 0:l.name}}))),P(e),u(e.value)}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Display label for Category Component"}),i.createElement(f.sm,{"app-variant":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(se.Cm,{tagEmplacement:"inlined",items:null!==R&&void 0!==R?R:[],groupedBy:"component_name",groupname:"component_name",triggerType:"chevron",initialSelectedValues:void 0===l||0===l.length?[]:l.map((function(e){return null===R||void 0===R?void 0:R.find((function(t){return t.label===e}))})),className:Ae.peoplePositionsSelect,inputClassName:Ae.peoplePositionsSelectInput,molclassname:Ae.peoplePositionsSelectMenuOverlay,moliclassname:Ae.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===n||void 0===n||n(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.label})))}}))),i.createElement(Ue,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Common field for lookup"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:R,defaultSelectedItem:v,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){if(e){var t=x?ie.filter((function(t){var l,n;return(null===t||void 0===t||null===(l=t.blueprint)||void 0===l||null===(n=l.fields)||void 0===n?void 0:n.filter((function(t){return t.value===e.label})).length)>0})):ie.filter((function(e){return!1===e.blueprint.readonly})).filter((function(t){var l,n;return(null===t||void 0===t||null===(l=t.blueprint)||void 0===l||null===(n=l.fields)||void 0===n?void 0:n.filter((function(t){return t.value===e.label})).length)>0}));H(t.filter((function(e){return e.label!==B.label})).map((function(e){return{label:e.label,value:e.value,component:e.blueprint}}))),W(e),c(e.label),null!==e&&void 0!==e&&e.symbol?O(!1):O(!0)}}}))),i.createElement(Ue,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Component where to conduct lookup"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:K,defaultSelectedItem:y,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){var t;J(null!==(t=e.component.fields.map((function(t){return{label:t.value,value:t.value,component_name:e.label}})))&&void 0!==t?t:[]),ne(e.component.fields.map((function(t){return{label:t.value,value:t.value,component_name:e.label}})).concat(B.blueprint.fields.map((function(e){return{label:e.value,value:e.value,component_name:B.label}})))),D(e),s(e.value),null!==e&&void 0!==e&&e.symbol?O(!1):O(!0)}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Use a global field to filter components (Optional)"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:le,defaultSelectedItem:{label:t,value:t},className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){E(e.value)}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Fields to display for Components found"}),i.createElement(f.sm,{"app-variant":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(se.Cm,{tagEmplacement:"inlined",items:null!==Y&&void 0!==Y?Y:[],groupedBy:"component_name",groupname:"component_name",triggerType:"chevron",initialSelectedValues:void 0===S||0===S.length?[]:S.map((function(e){return{label:e,value:e,component_name:"Fields"}})),className:Ae.peoplePositionsSelect,inputClassName:Ae.peoplePositionsSelectInput,molclassname:Ae.peoplePositionsSelectMenuOverlay,moliclassname:Ae.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===b||void 0===b||b(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(Ue,{errorMessage:null===d||void 0===d?void 0:d.accepted_mimes},i.createElement(f.Lb,{title:"Fields to output"}),i.createElement(f.sm,{"app-variant":null!==d&&void 0!==d&&d.accepted_mimes?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(se.Cm,{tagEmplacement:"inlined",items:le,groupedBy:"component_name",groupname:"component_name",triggerType:"chevron",initialSelectedValues:null===le||void 0===le?void 0:le.filter((function(e){return-1!==(null===C||void 0===C?void 0:C.indexOf(e.label))})),className:Ae.peoplePositionsSelect,inputClassName:Ae.peoplePositionsSelectInput,molclassname:Ae.peoplePositionsSelectMenuOverlay,moliclassname:Ae.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===m||void 0===m||m(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(Ue,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Interface Type"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:[{label:"Dropdown",value:"Dropdown"},{label:"Tiles",value:"Tiles"}],defaultSelectedItem:g,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){p(e.value),null!==e&&void 0!==e&&e.symbol?O(!1):O(!0)}}))),i.createElement(f.pd,{id:"Show all choices immediately",title:"Show all choices immediately?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:Z,toggleSelected:function(e){_(e)}}))},pt=function(e){var t=e.defaultInputComponent1,l=e.defaultComponent1,n=e.defaultComponent2,o=e.defaultComponent3,d=e.defaultCommon12,u=e.defaultCommon23,s=e.defaultOutputs,c=void 0===s?[]:s,m=e.onComponent1Selected,p=e.onComponent1InputSelected,v=e.onComponent2Selected,y=e.onComponent3Selected,g=e.onCommon12Selected,h=e.onCommon23Selected,C=e.onOutputsSelected,S=e.validationErrors,b=e.bpContext,E=(0,r.v9)((function(e){return e.modalsReducer})).isOnboarding,_=(0,i.useState)(E?b.allBlueprintComponents.map((function(e){return{label:e.name,value:e.id,blueprint:e}})):b.allBlueprintComponents.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}}))),Z=(0,a.Z)(_,1)[0],w=(0,i.useState)(!1),N=(0,a.Z)(w,2)[1],L=(0,i.useState)({}),I=(0,a.Z)(L,2),x=I[0],M=I[1],O=(0,i.useState)(l?Z.find((function(e){return e.label===l.label})).blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e,component_name:l.label}})):[]),k=(0,a.Z)(O,2),T=k[0],B=k[1],P=(0,i.useState)(n?Z.find((function(e){return e.label===n.label})).blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e,component_name:n.label}})):[]),F=(0,a.Z)(P,2),D=F[0],A=F[1],W=(0,i.useState)([]),V=(0,a.Z)(W,2),z=V[0],R=V[1],j=(0,i.useState)([]),U=(0,a.Z)(j,2),q=U[0],K=U[1];return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(Ue,{errorMessage:null===S||void 0===S?void 0:S.type},i.createElement(f.Lb,{title:"Input Component (A)"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:Z,defaultSelectedItem:l,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){var t=Z.find((function(t){return t.value===e.value}));B(t.blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e}}))),M(e),m(e.value)}}))),i.createElement(Ue,{errorMessage:null===S||void 0===S?void 0:S.type},i.createElement(f.Lb,{title:"Input field to use with component (A)"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:T,defaultSelectedItem:t,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){p(e.label),null!==e&&void 0!==e&&e.symbol?N(!1):N(!0)}}))),i.createElement(Ue,{errorMessage:null===S||void 0===S?void 0:S.type},i.createElement(f.Lb,{title:"Common field for first lookup, A + B"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:T,defaultSelectedItem:d,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){var t=Z.filter((function(t){return t.blueprint.fields.filter((function(t){return t.value===e.label})).length>0}));R(t.filter((function(e){return e.label!==x.label})).map((function(e){return{label:e.label,value:e.value,component:e.blueprint}}))),g(e.label),null!==e&&void 0!==e&&e.symbol?N(!1):N(!0)}}))),i.createElement(Ue,{errorMessage:null===S||void 0===S?void 0:S.type},i.createElement(f.Lb,{title:"Target component (B) where value will come from"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:z,defaultSelectedItem:n,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){var t=Z.find((function(t){return t.value===e.value}));A(t.blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e,component_name:t.blueprint.name}}))),v(e.value),null!==e&&void 0!==e&&e.symbol?N(!1):N(!0)}}))),i.createElement(Ue,{errorMessage:null===S||void 0===S?void 0:S.type},i.createElement(f.Lb,{title:"Common field for second lookup, B + C"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:D,defaultSelectedItem:u,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){var t=Z.filter((function(t){return t.blueprint.fields.filter((function(t){return t.value===e.label})).length>0}));K(t.filter((function(e){return e.label!==x.label})).map((function(e){return{label:e.label,value:e.value,component:e.blueprint}}))),h(e.label),null!==e&&void 0!==e&&e.symbol?N(!1):N(!0)}}))),i.createElement(Ue,{errorMessage:null===S||void 0===S?void 0:S.type},i.createElement(f.Lb,{title:"Component (C) where to conduct second lookup"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:q,defaultSelectedItem:o,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){y(e.value),null!==e&&void 0!==e&&e.symbol?N(!1):N(!0)}}))),i.createElement(Ue,{errorMessage:null===S||void 0===S?void 0:S.accepted_mimes},i.createElement(f.Lb,{title:"Fields to display from target component (B)"}),i.createElement(f.sm,{"app-variant":null!==S&&void 0!==S&&S.accepted_mimes?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(se.Cm,{tagEmplacement:"inlined",items:D,groupedBy:"component_name",groupname:"component_name",triggerType:"chevron",initialSelectedValues:void 0===c||0===c.length?[]:c.map((function(e){var t;return{label:e,value:null===(t=D.find((function(t){return t.label===e})))||void 0===t?void 0:t.value,component_name:n.label}})),className:Ae.peoplePositionsSelect,inputClassName:Ae.peoplePositionsSelectInput,molclassname:Ae.peoplePositionsSelectMenuOverlay,moliclassname:Ae.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===C||void 0===C||C(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.label})))}}))))},vt=function(e){var t,l=e.defaultMaxSize,n=e.onMaxFileSizeChanged,o=e.defaultList,r=e.onListSelected,d=e.validationErrors,u=(0,i.useState)(null===(t=null!==l&&void 0!==l?l:0)||void 0===t?void 0:t.toString()),s=(0,a.Z)(u,2),c=s[0],m=s[1];return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(Ue,{errorMessage:null===d||void 0===d?void 0:d.max_file_size},i.createElement(f.Lb,{title:"Maximum file size"}),i.createElement(f.sm,{"app-variant":null!==d&&void 0!==d&&d.max_file_size?"error":"normal",className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",placeholder:"Insert max size in MB",className:Ae.maxFileSizeInput,value:c,name:"file max size",onChange:function(e){var t=e.target.value;Number(+t)?(m(t),null===n||void 0===n||n(t)):""===t&&(m(""),null===n||void 0===n||n("0"))}}),i.createElement("pre",{className:Ae.uploadFileSizeMeasureUnit},"MB"))),i.createElement(Ue,{errorMessage:null===d||void 0===d?void 0:d.accepted_mimes},i.createElement(f.Lb,{title:"Type of Files"}),i.createElement(f.sm,{"app-variant":null!==d&&void 0!==d&&d.accepted_mimes?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"top",items:v.cH,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:null===v.cH||void 0===v.cH?void 0:v.cH.filter((function(e){var t;return(null===o||void 0===o?void 0:o.indexOf(null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.replaceAll(".","")))>-1})),className:Ae.uploadSelectComponent,inputClassName:Ae.uploadSearchInput,molclassname:Ae.uploadSelectMenuOverlayList,moliclassname:Ae.uploadSelectMenuOverlayListItem,onChange:function(e){null===r||void 0===r||r(e.map((function(e){var t;return null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.replaceAll(".","")})).join(","))}}))))},ft=function(e){var t=e.item,l=e.onItemChanged,n=e.onItemRemoved,o=e.isOverflow,r=(0,i.useState)(t),d=(0,a.Z)(r,2),u=d[0],s=d[1],c=(0,i.useState)(!1),m=(0,a.Z)(c,2),p=m[0],v=m[1];return i.createElement(f.sm,{className:Ae.renderEditableListContainer,"app-variant":o?"overflow":"",onClickOutside:function(){v(!1),s(t)}},i.createElement("input",{onFocus:function(){v(!0)},type:"text",className:Ae.renderEditableListItemInput,value:u,name:"editItem",onChange:function(e){v(!0),s(e.target.value)}}),p&&i.createElement("button",{type:"button",onClick:function(e){null===l||void 0===l||l(u)},className:Ae.renderEditableListItemDeleteButton},i.createElement(Oe.nQ,null)),p&&i.createElement("button",{type:"button",onClick:function(e){null===n||void 0===n||n(t)},className:Ae.renderEditableListItemDeleteButton},i.createElement(Oe.EU,null)))},yt=function(e){var t,l,n,o,d,u,s=e.defaultFilters,c=e.defaultValue,m=e.nameValues,p=e.defaultList,v=e.onListSelected,y=e.onComponentSelected,g=e.onGlobalSelected,h=e.blueprints,C=e.onTypeSelected,S=e.defaultType,b=e.defaultOutputField,E=e.defaultGlobal,_=e.onNamesSelected,Z=e.onOutputFieldSelected,w=e.onFilterList,N=(0,r.v9)((function(e){return e.modalsReducer})).isOnboarding,L=(0,i.useState)(void 0),I=(0,a.Z)(L,2),x=(I[0],I[1]),M=(0,i.useState)(!1),O=(0,a.Z)(M,2),k=(O[0],O[1]),T=(0,i.useState)(N?null!==(t=null===h||void 0===h?void 0:h.map((function(e){return{label:e.name,value:e.id,blueprint:e}})))&&void 0!==t?t:[]:h.filter((function(e){return!1===e.readonly})).length>0?h.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}})):null!==(l=null===h||void 0===h?void 0:h.map((function(e){return{label:e.name,value:e.id,blueprint:e}})))&&void 0!==l?l:[]),B=(0,a.Z)(T,1)[0],P=(0,i.useState)(void 0==s?[]:(null===s||void 0===s?void 0:s.length)>0?s.map((function(e){return{label:e,value:e,component_name:"Fields"}})):[]),F=(0,a.Z)(P,2),D=F[0],A=F[1],W=(0,i.useState)(null!==c&&void 0!==c&&c.label?0==h.length?[]:N?null===(n=h.find((function(e){return e.name===c.label})))||void 0===n||null===(o=n.fields)||void 0===o?void 0:o.map((function(e){return{label:e.value,value:e.value}})):null===(d=h.filter((function(e){return!1===e.readonly})).find((function(e){return e.name===c.label})))||void 0===d||null===(u=d.fields)||void 0===u?void 0:u.map((function(e){return{label:e.value,value:e.value}})):[]),R=(0,a.Z)(W,2),j=R[0],U=R[1];return i.createElement(i.Fragment,null,i.createElement(Ue,null,i.createElement(f.Lb,{title:"Interface Type"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:[{label:"Dropdown",value:"Dropdown"},{label:"Tiles",value:"Tiles"}],defaultSelectedItem:S,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){C(e.value),null!==e&&void 0!==e&&e.symbol?k(!1):k(!0)}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Component where to conduct lookup"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:B,defaultSelectedItem:c,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){x(e),y(e),null!==e&&void 0!==e&&e.symbol?k(!1):k(!0),U(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),A(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}})))}})))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Values to display"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:j,itemType:"checkboxes",checkboxEmplacement:"left",inputStyle:{cursor:"pointer"},initialSelectedItems:null===j||void 0===j?void 0:j.filter((function(e){return(null===m||void 0===m?void 0:m.indexOf(e.label))>-1})),className:Ae.uploadSelectComponent,inputClassName:Ae.uploadSearchInput,molclassname:Ae.uploadSelectMenuOverlayList,moliclassname:Ae.uploadSelectMenuOverlayListItem,onChange:function(e){null===_||void 0===_||_(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Fields to filter, enter in order of filter, max 3 (Optional)"}),i.createElement(f.sm,{"app-variant":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:D,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:0===(null===s||void 0===s?void 0:s.length)?[]:null===s||void 0===s?void 0:s.map((function(e){return{label:e,value:e}})),className:Ae.uploadSelectComponent,inputClassName:Ae.uploadSearchInput,inputStyle:{cursor:"pointer"},molclassname:Ae.uploadSelectMenuOverlayList,moliclassname:Ae.uploadSelectMenuOverlayListItem,onChange:function(e){null===w||void 0===w||w(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}},i.createElement(V.G,{className:"fa-icon",icon:z.ptq,style:{marginRight:"20px",color:"gray"}})))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Use a global field to filter components (Optional)"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:j,defaultSelectedItem:{label:E,value:E},className:Ae.componentsSelectComponent,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},inputClassName:Ae.componentsSearchInput,clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){g(e.value)}})))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Field value to save"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:j,defaultSelectedItem:b,className:Ae.componentsSelectComponent,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},inputClassName:Ae.componentsSearchInput,clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){Z(e.value)}})))),i.createElement(Ue,null,i.createElement(f.Lb,{title:"Field values to share"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:j,itemType:"checkboxes",checkboxEmplacement:"left",inputStyle:{cursor:"pointer"},initialSelectedItems:null===j||void 0===j?void 0:j.filter((function(e){return(null===p||void 0===p?void 0:p.indexOf(e.label))>-1})),className:Ae.uploadSelectComponent,inputClassName:Ae.uploadSearchInput,molclassname:Ae.uploadSelectMenuOverlayList,moliclassname:Ae.uploadSelectMenuOverlayListItem,onChange:function(e){null===v||void 0===v||v(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))))},gt=function(e){var t,l,n,o=e.defaultValue,r=e.onModuleSelected,d=(e.field_type,e.onOutputSelected),u=e.onFieldValueSelected,s=e.defaultOutput,c=e.defaultModule,m=e.components,p=void 0===m?[]:m,v=e.allModules,y=(0,i.useState)(void 0),g=(0,a.Z)(y,2),h=g[0],C=g[1],S=(0,i.useState)(c?{value:""}:void 0),b=(0,a.Z)(S,2),E=b[0],_=b[1],Z=(0,i.useState)(v.map((function(e){return{label:e.name,value:e.id,module:e}}))),w=(0,a.Z)(Z,1)[0];return i.createElement(i.Fragment,null,i.createElement(Ue,null,i.createElement(f.Lb,{title:"Select Module:"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:w,defaultSelectedItem:c,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){C(e),r(e)}})))),h&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Select Output:"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:null===p||void 0===p?void 0:p.filter((function(e){return e.module_id===h.value})).map((function(e){return{label:"".concat(e.title),value:e.id}})),defaultSelectedItem:s,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){_(e),d(e)}})))),E&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Select Field Value:"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:null!==(t=null===p||void 0===p||null===(l=p.find((function(e){return e.id===E.value})))||void 0===l||null===(n=l.component_fields)||void 0===n?void 0:n.map((function(e){return{label:"".concat(e.field_name," = ").concat(e.value),value:e.value}})))&&void 0!==t?t:[],defaultSelectedItem:o,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){u(e)}})))))},ht=(0,i.memo)((function(e){var t=e.defaultCalendar,l=e.defaultSlider,o=e.defaultAssign,d=e.defaultEmail,u=e.defaultType,s=e.defaultPositions,c=e.onChangeSlider,m=e.onChangeList,p=e.onChangeType,y=e.onChangeEmail,g=e.onChangeAssign,h=e.validationErrors,C=e.allModules,S=e.onModuleSelected,b=e.defaultModule,E=e.options,_=e.onOptionsSelected,Z=e.fieldOption,w=e.onCalendar,N=(0,i.useState)("single"==u),L=(0,a.Z)(N,2),I=L[0],x=L[1],M=(0,i.useState)(!1),O=(0,a.Z)(M,2),k=O[0],T=O[1],B=(0,i.useState)(null===E||void 0===E?void 0:E.componentF),P=(0,a.Z)(B,2),F=P[0],D=P[1],A=(0,i.useState)(null===E||void 0===E?void 0:E.componentO),V=(0,a.Z)(A,2),z=V[0],R=V[1],j=(0,i.useState)(null===E||void 0===E?void 0:E.componentUO),U=(0,a.Z)(j,2),q=U[0],K=U[1],H=(0,i.useState)(s),X=(0,a.Z)(H,2),G=X[0],Y=X[1],J=(0,i.useState)(null===E||void 0===E?void 0:E.module_id),Q=(0,a.Z)(J,2),$=Q[0],ee=Q[1],te=C.map((function(e){return{label:e.name,value:e.id,module:e}})),le=(0,r.v9)((function(e){return e.flowReducer})),ne=le.companyPositionsArray,oe=le.companyDepartments,ae=(0,i.useState)(We.sortWith([We.ascend(We.prop("department_name"))])(null===ne||void 0===ne?void 0:ne.map((function(e){var t;return{label:e.label,value:e.value,department_name:e.department,department_id:null===(t=oe.find((function(t){return t.label==e.department})))||void 0===t?void 0:t.value}})))),ie=(0,a.Z)(ae,2),re=ie[0],de=ie[1];return(0,i.useEffect)((function(){var e=(0,W.OW)().subscribe({next:function(e){(0,W.xt)().subscribe({next:function(t){var l=null===e||void 0===e?void 0:e.map((function(e){var l;return{label:e.name,value:e.id,department_name:null===(l=t.find((function(t){return t.id==e.department_id})))||void 0===l?void 0:l.name,department_id:e.department_id}}));de(We.sortWith([We.ascend(We.prop("department_name"))])(l)),T(!1)},error:function(e){T(!1)}})},error:function(e){T(!1)}});return function(){(0,v.zK)(e)}}),[]),i.createElement("div",{className:Ae.peopleContainer},i.createElement(Ue,{errorMessage:null===h||void 0===h?void 0:h.type},i.createElement(f.Lb,{title:"How many People can be placed in this position?"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.type?"error":"normal","app-container-variant":"noBorder",className:Ie()(Ae.unfocusableWrapper)},i.createElement(f.nd,{selected:I,setSelected:function(e){x(e),null===p||void 0===p||p(e?"single":"multiple")},first:"One Person",second:"Multiple People",extraClassName:Ae.renderBooleansOptions}))),(void 0!==F||0!==(null===F||void 0===F?void 0:F.length))&&i.createElement(Ue,{errorMessage:null===h||void 0===h?void 0:h.position_id},i.createElement(f.Lb,{title:"Option 1: Display users from these positions:"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},k?i.createElement(f.$j,{size:30,type:"ThreeDots"}):(null===re||void 0===re?void 0:re.length)>0?i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:re,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:null===re||void 0===re?void 0:re.filter((function(e){return(null===s||void 0===s?void 0:s.indexOf(e.value))>-1})),className:Ae.uploadSelectComponent,inputClassName:Ae.uploadSearchInput,molclassname:Ae.uploadSelectMenuOverlayList,moliclassname:Ae.uploadSelectMenuOverlayListItem,onChange:function(e){Y(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))),null===m||void 0===m||m(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}):null)),0==G.length&&i.createElement(Ue,{errorMessage:null===h||void 0===h?void 0:h.type},i.createElement(f.Lb,{title:"Option 2: Display users based from a lookup in:"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.type?"error":"normal",className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:te,defaultSelected:b,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){ee(e.module.id),null===S||void 0===S||S(e)}}))),0==G.length&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Field set in the steps where to lookup"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:F,name:"matched to field",onChange:function(e){D(e.target.value),_((0,n.Z)((0,n.Z)({},Z),{},{componentF:e.target.value,module_id:$}))}}))),0==G.length&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Field from lookup where to get positions and users"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:z,name:"matched to field",onChange:function(e){R(e.target.value),_((0,n.Z)((0,n.Z)({},Z),{},{componentO:e.target.value,module_id:$}))}}))),0==G.length&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Field from lookup where to get users (direct user list)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:q,name:"matched to field",onChange:function(e){K(e.target.value),_((0,n.Z)((0,n.Z)({},Z),{},{componentUO:e.target.value}))}}))),!t&&i.createElement(f.pd,{id:"Display as slider",title:"Display as slider?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!!l,toggleSelected:function(e){c(e)}}),i.createElement(f.pd,{id:"Trigger an email when user is selected",title:"Trigger an email when user is selected?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!!d,toggleSelected:function(e){y(e)}}),!t&&i.createElement(f.pd,{id:"Assign the user selected to transaction",title:"Assign the user selected to transaction?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!!o,toggleSelected:function(e){g(e)}}),!l&&i.createElement(f.pd,{id:"Display as calendar",title:"Display as calendar?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!!t,toggleSelected:function(e){w(e)}}))})),Ct=(0,i.memo)((function(e){var t=e.defaultCalendar,l=e.defaultSlider,n=(e.defaultAssign,e.defaultEmail,e.defaultType),o=e.defaultPositions,d=(e.onChangeSlider,e.onChangeList),u=e.onChangeType,s=(e.onChangeEmail,e.onChangeAssign,e.validationErrors),c=e.allModules,m=(e.onModuleSelected,e.defaultModule,e.options),p=(e.onOptionsSelected,e.fieldOption,e.onCalendar),y=(0,i.useState)("single"==n),g=(0,a.Z)(y,2),h=g[0],C=g[1],S=(0,i.useState)(!1),b=(0,a.Z)(S,2),E=b[0],_=b[1],Z=(0,i.useState)(null===m||void 0===m?void 0:m.componentF),w=(0,a.Z)(Z,2),N=w[0],L=(w[1],(0,i.useState)(null===m||void 0===m?void 0:m.componentO)),I=(0,a.Z)(L,2),x=(I[0],I[1],(0,i.useState)(null===m||void 0===m?void 0:m.componentUO)),M=(0,a.Z)(x,2),O=(M[0],M[1],(0,i.useState)(o)),k=(0,a.Z)(O,2),T=(k[0],k[1]),B=(0,i.useState)(null===m||void 0===m?void 0:m.module_id),P=(0,a.Z)(B,2),F=(P[0],P[1],c.map((function(e){return{label:e.name,value:e.id,module:e}})),(0,r.v9)((function(e){return e.flowReducer}))),D=F.companyPositionsArray,A=F.companyDepartments,V=(0,i.useState)(We.sortWith([We.ascend(We.prop("department_name"))])(null===D||void 0===D?void 0:D.map((function(e){var t;return{label:e.label,value:e.value,department_name:e.department,department_id:null===(t=A.find((function(t){return t.label==e.department})))||void 0===t?void 0:t.value}})))),z=(0,a.Z)(V,2),R=z[0],j=z[1];return(0,i.useEffect)((function(){var e=(0,W.OW)().subscribe({next:function(e){(0,W.xt)().subscribe({next:function(t){var l=null===e||void 0===e?void 0:e.map((function(e){var l;return{label:e.name,value:e.id,department_name:null===(l=t.find((function(t){return t.id==e.department_id})))||void 0===l?void 0:l.name,department_id:e.department_id}}));j(We.sortWith([We.ascend(We.prop("department_name"))])(l)),_(!1)},error:function(e){_(!1)}})},error:function(e){_(!1)}});return function(){(0,v.zK)(e)}}),[]),i.createElement("div",{className:Ae.peopleContainer},i.createElement(Ue,{errorMessage:null===s||void 0===s?void 0:s.type},i.createElement(f.Lb,{title:"How many Positions can be selected?"}),i.createElement(f.sm,{"app-variant":null!==s&&void 0!==s&&s.type?"error":"normal","app-container-variant":"noBorder",className:Ie()(Ae.unfocusableWrapper)},i.createElement(f.nd,{selected:h,setSelected:function(e){C(e),null===u||void 0===u||u(e?"single":"multiple")},first:"Single",second:"Multiple",extraClassName:Ae.renderBooleansOptions}))),(void 0!==N||0!==(null===N||void 0===N?void 0:N.length))&&i.createElement(Ue,{errorMessage:null===s||void 0===s?void 0:s.position_id},i.createElement(f.Lb,{title:"Display these positions:"}),i.createElement(f.sm,{"app-variant":null!==s&&void 0!==s&&s.position_id?"error":"normal",className:Ie()(Ae.unfocusableWrapper,Ae.peoplePositionSelectContainer)},E?i.createElement(f.$j,{size:30,type:"ThreeDots"}):(null===R||void 0===R?void 0:R.length)>0?i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:R,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:null===R||void 0===R?void 0:R.filter((function(e){return(null===o||void 0===o?void 0:o.indexOf(e.value))>-1})),className:Ae.uploadSelectComponent,inputClassName:Ae.uploadSearchInput,molclassname:Ae.uploadSelectMenuOverlayList,moliclassname:Ae.uploadSelectMenuOverlayListItem,onChange:function(e){T(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))),null===d||void 0===d||d(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}):null)),!l&&i.createElement(f.pd,{id:"Display as calendar",title:"Display as calendar?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!!t,toggleSelected:function(e){p(e)}}))})),St=function(e){var t=e.defaultCurrent,l=e.defaultFixed,n=e.defaultDescription,o=e.defaultValue,r=e.defaultModule,d=e.defaultModule2,u=e.defaultModule3,s=e.allModules,c=e.onModule1Select,m=e.onModule2Select,p=e.onModule3Select,v=e.setFieldValue,y=e.setDefaultDescription,g=e.setDefaultFixed,h=e.setDefaultCurrent,C=(0,i.useState)(null!==l&&void 0!==l&&l),S=(0,a.Z)(C,2),b=S[0],E=S[1],_=(0,i.useState)(o),Z=(0,a.Z)(_,2),w=Z[0],N=Z[1],L=(0,i.useState)(n),I=(0,a.Z)(L,2),x=I[0],M=I[1],O=(0,i.useState)(1!=t&&""!==(null===r||void 0===r?void 0:r.label)),k=(0,a.Z)(O,2),T=k[0],B=k[1],P=(0,i.useState)(t),F=(0,a.Z)(P,2),D=F[0],A=F[1],W=s.map((function(e){return{label:e.name,value:e.id,module:e}}));return i.createElement(i.Fragment,null,i.createElement(Ue,null,i.createElement(f.Lb,{title:"Description"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("textarea",{type:"text",className:Ae.elementTextArea,value:x,name:"element-desc",onChange:function(e){y(e.target.value),M(e.target.value)}}))),i.createElement(f.pd,{id:"Use records for the AI to analyze",title:"Use records for the AI to analyze?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!!T,toggleSelected:function(e){B(e),1==e&&(A(!1),h(!1))}}),!T&&i.createElement(f.pd,{id:"Use current transaction for the AI to analyze",title:"Use current transaction for the AI to analyze",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!!D,toggleSelected:function(e){A(e),h(e)}}),T&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Records to use as source A"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:W,defaultSelected:r,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){null===c||void 0===c||c(e)}}))),T&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Records to use as source B (Optional)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:W,defaultSelected:d,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){null===m||void 0===m||m(e)}}))),T&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Records to use as source C (Optional)"}),i.createElement(f.sm,{className:Ae.unfocusableWrapper},i.createElement(f.rk,{items:W,defaultSelected:u,className:Ae.dropdownSelectComponent,tmiClassName:Ae.dropdownInput,molclassname:Ae.dropdownSelectMenuOverlayList,moliclassname:Ae.dropdownSelectMenuOverlayListItem,onChange:function(e){null===p||void 0===p||p(e)}}))),1==b&&i.createElement(Ue,null,i.createElement(f.Lb,{title:"Fixed query to use ".concat(T?"with the records selected":"")}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("textarea",{type:"text",className:Ae.elementTextArea,value:w,name:"element-query",onChange:function(e){v(e.target.value),N(e.target.value)}}))),i.createElement(f.pd,{id:"Use a fixed query?",title:"Use a fixed query",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 0px 0px",width:"auto"},value:b,toggleSelected:function(e){E(e),g(e)}}))},bt=function(e){var t=e.onSetIdGenerator,l=e.defaultValue,n=(0,i.useState)(l.label),o=(0,a.Z)(n,2),r=o[0],d=o[1];return i.createElement("div",{className:Ae.currencySelectContainer},i.createElement("input",{type:"text",placeholder:"Enter prefix of ID",className:Ae.elementTextInput,value:r,name:"element-name",onChange:function(e){d(e.target.value),function(e){t(e)}(e.target.value)}}))},Et=function(e){var t=e.onNotesGenerator,l=e.defaultValue,n=(0,i.useState)(l.label),o=(0,a.Z)(n,2),r=o[0],d=o[1];return i.createElement("div",{className:Ae.currencySelectContainer},i.createElement("textarea",{type:"text",placeholder:"Enter Notes to display",className:Ae.elementTextArea,value:r,name:"element-name",onChange:function(e){d(e.target.value),function(e){t(e)}(e.target.value)}}))},_t=function(e){var t=e.defaultList,l=e.defaultSrcName,n=e.onSourceLabel,d=e.defaultValue,u=e.validationErrors,s=e.onSourceSelected,c=e.bpContext,m=e.onListSelected,p=void 0===m?function(){}:m,v=(0,r.v9)((function(e){return e.modalsReducer})).isOnboarding,y=(0,i.useState)(null!==t&&void 0!==t?t:[]),g=(0,a.Z)(y,2),h=g[0],C=g[1],S=(0,i.useState)(""),b=(0,a.Z)(S,2),E=b[0],_=b[1],Z=(0,i.useState)([]),w=(0,a.Z)(Z,2),N=w[0],L=w[1],I=(0,i.useState)(!0),x=(0,a.Z)(I,2),M=x[0],O=x[1],k=(0,i.useState)([]),T=(0,a.Z)(k,2),B=T[0],P=T[1];(0,i.useEffect)((function(){F()}),[]);var F=(0,i.useCallback)((function(){P(v?c.allBlueprintComponents.map((function(e){return{label:e.name,value:e.id,blueprint:e}})):c.allBlueprintComponents.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}})))})),D=(0,i.useCallback)((function(){O(!0),C((function(e){return[].concat((0,o.Z)(e),[E])})),_(""),null===p||void 0===p||p([].concat((0,o.Z)(h),[E]))}),[h,E,p]),A=(0,i.useCallback)((function(e){C((function(t){return(0,o.Z)(We.reject(We.equals(e),t))})),null===p||void 0===p||p((0,o.Z)(We.reject(We.equals(e),h)))}),[h,p]);return i.createElement("div",{className:Ae.dropdownElementHost},i.createElement(Ue,{errorMessage:null===u||void 0===u?void 0:u.type},i.createElement(f.Lb,{title:"Select Component where field to use as payment amount is found"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:B,defaultSelectedItem:d,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){var t=B.find((function(t){return t.value===e.value}));L(t.blueprint.fields.filter((function(e){return"Number"===e.name||"Formula"===e.name||"Item Formula"===e.name})).map((function(e){return{label:e.value,value:e.id,field:e}}))),s(e.value)}}))),i.createElement(Ue,{errorMessage:null===u||void 0===u?void 0:u.type},i.createElement(f.Lb,{title:"Field to use for payment amount"}),i.createElement("div",{className:Ae.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:N,defaultSelectedItem:l,className:Ae.componentsSelectComponent,inputClassName:Ae.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Ae.componentsClearControlsClassName,molclassname:Ae.componentsSelectMenuOverlayList,moliclassname:Ae.componentsSelectMenuOverlayListItem,onChange:function(e){n(e.label)}}))),i.createElement(Ue,{errorMessage:null===u||void 0===u?void 0:u.list},i.createElement(f.Lb,{title:"Payment Options"}),i.createElement(f.sm,{"app-variant":null!==u&&void 0!==u&&u.list?"error":"normal",className:Ae.dropdownListContainer,onClickOutside:(0,i.useCallback)((function(){null===p||void 0===p||p(h)}),[h,p])},M?i.createElement("div",{className:Ae.dropDownButtonContainer},i.createElement(f.zx,{light:!0,title:"Add Payment Option",clicked:function(){return O(!1)}})):i.createElement("div",{className:Ae.dropDownNewListItemInputContainer},i.createElement("input",{type:"text",className:Ae.dropDownNewListItemInput,value:E,name:"newItem",placeholder:"Type name",onChange:function(e){_(e.target.value)}}),(null===E||void 0===E?void 0:E.length)>0&&i.createElement("button",{type:"button",onClick:D,className:Ae.dropdownInputButtonSaveNewItem},i.createElement(V.G,{icon:z.g6h}))),i.createElement("div",{className:Ae.dropdownListItemsContainer},h&&(null===h||void 0===h?void 0:h.map((function(e,t){return i.createElement(ft,{key:e+t,item:e,isOverflow:(null===h||void 0===h?void 0:h.length)>3,onItemChanged:function(e){C((function(l){return(0,o.Z)(We.update(t)(e)(l))}))},onItemRemoved:function(){return A(e)}})})))))))},Zt=l(67861),wt=(0,i.memo)((function(e){var t,l,r,d,s,c,p,y,g,h,C,S,b,E,_,Z,w,N,L=e.visible,I=e.onUpdate,x=e.onClose,M=(e.hasTutorial,e.allModules),O=e.blueprints,P=e.componentTypes,F=e.components,D=e.products,A=e.companyData,W=e.companyProcesses,j=e.selectedComponent,U=(0,u.aL)(),q=(0,a.Z)(U,2),K=q[0],H=q[1],X=(0,i.useState)(!1),G=(0,a.Z)(X,2),Y=G[0],J=G[1],Q=(0,i.useState)(!1),$=(0,a.Z)(Q,2),ee=$[0],te=$[1],le=(0,i.useState)(!1),ne=(0,a.Z)(le,2),oe=ne[0],ve=ne[1],fe=(0,i.useState)(!1),ye=(0,a.Z)(fe,2),ge=ye[0],Ne=ye[1],Le=(0,i.useState)(!1),Ie=(0,a.Z)(Le,2),xe=Ie[0],Me=Ie[1],Oe=(0,i.useState)(!1),ke=(0,a.Z)(Oe,2),Te=ke[0],Be=ke[1],Pe=(0,i.useState)({name:"",fields:"",components:""}),Fe=(0,a.Z)(Pe,2)[1],De=(0,i.useState)(!1),Ae=(0,a.Z)(De,2),We=Ae[0],Ve=Ae[1],Re=(0,i.useState)(""),je=(0,a.Z)(Re,2),qe=je[0],Ke=je[1],He=(0,i.useState)(!0),Xe=(0,a.Z)(He,2),Ge=Xe[0],Ye=Xe[1],Je=(0,i.useState)(!1),Qe=(0,a.Z)(Je,2),$e=Qe[0],et=Qe[1],tt=(0,i.useState)(""),lt=(0,a.Z)(tt,2),nt=lt[0],ot=lt[1],at=e.onBoardingModalsVisibility;(0,i.useEffect)((function(){Ke(""),H({type:u.qY.setAllBlueprintsComponents,value:O})}),[K.selectedBlueprintComponent.fields]),(0,i.useEffect)((function(){void 0!==j&&(H({type:u.qY.setSelectedBlueprintComponent,value:O.find((function(e){return e.id===j}))}),Ye(!1))}),[]);var it=function(){Fe({name:"",components:""}),Ke("")},rt=(0,i.useCallback)((function(e){ve(!0),(0,ue._u)(e.id,e).subscribe({next:function(){ve(!1),k.h.dispatch((0,m.Xc)({show:!0,message:"You have successfully updated ".concat(e.name)})),null===I||void 0===I||I(!0),null===x||void 0===x||x(!0)},error:function(e){var t,l,n,o,a,i,r,d,u;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.errors&&Fe({name:null===e||void 0===e||null===(l=e.data)||void 0===l||null===(n=l.errors)||void 0===n||null===(o=n.name)||void 0===o?void 0:o.join("; "),components:null===e||void 0===e||null===(a=e.data)||void 0===a||null===(i=a.errors)||void 0===i||null===(r=i.components)||void 0===r?void 0:r.join("; ")});null!==e&&void 0!==e&&e.data&&Ke(null!==(d=null===e||void 0===e||null===(u=e.data)||void 0===u?void 0:u.message)&&void 0!==d?d:null===e||void 0===e?void 0:e.data);ve(!1)}})}),[x]),dt=(0,i.useCallback)((function(e){ve(!0),(0,ue.Bp)(e).subscribe({next:function(){null!==at&&void 0!==at&&at.thirdModalVisible?k.h.dispatch((0,R.$6)({fourthModalVisible:!0})):null!==at&&void 0!==at&&at.fifthModalVisible?k.h.dispatch((0,R.$6)({sixthModalVisible:!0})):k.h.dispatch((0,m.Xc)({show:!0,message:"You have successfully created ".concat(e.name)})),ve(!1),null===I||void 0===I||I(!0),null===x||void 0===x||x(!0)},error:function(e){var t,l,n,o,a,i,r,d,u;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.errors&&Fe({name:null===e||void 0===e||null===(l=e.data)||void 0===l||null===(n=l.errors)||void 0===n||null===(o=n.name)||void 0===o?void 0:o.join("; "),components:null===e||void 0===e||null===(a=e.data)||void 0===a||null===(i=a.errors)||void 0===i||null===(r=i.components)||void 0===r?void 0:r.join("; ")});null!==e&&void 0!==e&&e.data&&Ke(null!==(d=null===e||void 0===e||null===(u=e.data)||void 0===u?void 0:u.message)&&void 0!==d?d:null===e||void 0===e?void 0:e.data);ve(!1)}})}),[x]),ut=(0,i.useCallback)((function(e){ve(!0),(0,ue.zs)(e.id,e.name).subscribe({next:function(){ve(!1),k.h.dispatch((0,m.Xc)({show:!0,message:"You have successfully duplicated component"})),null===I||void 0===I||I(!0),null===x||void 0===x||x(!0)},error:function(e){var t,l,n,o,a,i,r,d,u;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.errors&&Fe({name:null===e||void 0===e||null===(l=e.data)||void 0===l||null===(n=l.errors)||void 0===n||null===(o=n.name)||void 0===o?void 0:o.join("; "),components:null===e||void 0===e||null===(a=e.data)||void 0===a||null===(i=a.errors)||void 0===i||null===(r=i.components)||void 0===r?void 0:r.join("; ")});null!==e&&void 0!==e&&e.data&&Ke(null!==(d=null===e||void 0===e||null===(u=e.data)||void 0===u?void 0:u.message)&&void 0!==d?d:null===e||void 0===e?void 0:e.data);ve(!1)}})}),[x]),st=(0,i.useCallback)((function(){var e,t,l=K.validation,a=l.name,i=l.fields;if(a||(null===i||void 0===i?void 0:i.length)>0||(null===(e=K.selectedBlueprintComponent.fields)||void 0===e?void 0:e.length)<1){var r,d,u,s,c,m,p,v,f="";if((null===(r=K.selectedBlueprintComponent.fields)||void 0===r?void 0:r.length)<1&&(f="Component must have at least one field"),(null===i||void 0===i?void 0:i.length)>0&&(f="Check options of red fields"),null!==K&&void 0!==K&&null!==(d=K.selectedBlueprintComponent)&&void 0!==d&&null!==(u=d.fields)&&void 0!==u&&u.some((function(e){var t,l;return 0==(null===e||void 0===e||null===(t=e.options)||void 0===t||null===(l=t.list)||void 0===l?void 0:l.length)}))&&(f="Element's option list must have at least one entry"),null!==K&&void 0!==K&&null!==(s=K.selectedBlueprintComponent)&&void 0!==s&&null!==(c=s.fields)&&void 0!==c&&c.some((function(e){var t,l;return 0==(null===e||void 0===e||null===(t=e.options)||void 0===t||null===(l=t.type)||void 0===l?void 0:l.length)}))&&(f="Element's option type is mandatory"),null!==K&&void 0!==K&&null!==(m=K.selectedBlueprintComponent)&&void 0!==m&&null!==(p=m.fields)&&void 0!==p&&p.some((function(e){var t;return 0==(null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.length)}))&&(f="Name is mandatory for each element"),Fe({name:a?"Add a component name":"",fields:f}),(null===(v=f)||void 0===v?void 0:v.length)>0){var y,g,h=document.querySelectorAll('[app-field-row-has-error="error"]');if(h)if((null===h||void 0===h?void 0:h.length)>0)null===(y=(0,o.Z)(h))||void 0===y||null===(g=y.reverse()[(null===h||void 0===h?void 0:h.length)-1])||void 0===g||g.scrollIntoView({block:"start",behavior:"smooth"})}(null===i||void 0===i?void 0:i.length)>0&&Ve(!0)}else{ve(!0),it();var C={components:K.selectedBlueprintComponent.components,fields:K.selectedBlueprintComponent.fields.map((function(e){var t;return(null===(t=e.id)||void 0===t?void 0:t.length)>20?(0,n.Z)({},e):ae.Z("id")(e)})),name:K.selectedBlueprintComponent.name};(null===(t=K.selectedBlueprintComponent.id)||void 0===t?void 0:t.length)>0?rt((0,n.Z)((0,n.Z)({},C),{},{id:K.selectedBlueprintComponent.id})):dt(C)}}),[K.selectedBlueprintComponent.components,K.selectedBlueprintComponent.fields,K.selectedBlueprintComponent.id,K.selectedBlueprintComponent.name,K.validation,dt,rt]),ct=(0,i.useCallback)((function(){var e;(null===(e=K.selectedBlueprintComponent.id)||void 0===e?void 0:e.length)>0&&ut({name:K.selectedBlueprintComponent.name,id:K.selectedBlueprintComponent.id})}),[K.selectedBlueprintComponent.components,K.selectedBlueprintComponent.fields,K.selectedBlueprintComponent.id,K.selectedBlueprintComponent.name,K.validation,dt,rt]),mt=function(e){H({type:u.qY.setSelectedBlueprintComponentName,value:e})};return Zt.createElement(Zt.Fragment,null,Zt.createElement(f.U7,{id:"edit-component-modal",blured:!0,scrollable:!1,isOpen:L,shadowedContainerStyle:{minWidth:"500px",width:T.tq?"100%":"38%"}},Zt.createElement("div",{className:ce},Zt.createElement("div",{className:me},Zt.createElement("p",null,1==(null===K||void 0===K||null===(t=K.selectedBlueprintComponent)||void 0===t?void 0:t.readonly)?"Template Component":Ge?"New Component":"Edit Component")),Zt.createElement("p",{className:we},"Note: A component is an object within a step that groups your various fields. You can only use a component one step at a time in a workflow"),Zt.createElement(Ue,null,Ge&&Zt.createElement("div",null,Zt.createElement(f.Lb,{title:"Name"}),Zt.createElement("input",{type:"text",name:"element-name",value:null===(l=K.selectedBlueprintComponent)||void 0===l?void 0:l.name,onChange:function(e){mt(e.target.value)},onClick:function(){},className:Ze})),$e&&Zt.createElement("div",null,Zt.createElement(f.Lb,{title:"Name"}),Zt.createElement("input",{type:"text",name:"element-name",value:null===(r=K.selectedBlueprintComponent)||void 0===r?void 0:r.name,onChange:function(e){mt(e.target.value)},onClick:function(){},className:Ze})),!$e&&Zt.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",maxHeight:"100%",border:"0px solid var(--app-color-gray-lighter)",marginTop:"10px"}},Zt.createElement(f.Lb,{title:j?"Name":"Select Component to Edit"}),Zt.createElement("div",{className:pe},Zt.createElement(se.yV,{placeholder:null!==(d=K.selectedBlueprintComponent)&&void 0!==d&&d.name&&!Ge?null===(s=K.selectedBlueprintComponent)||void 0===s?void 0:s.name:"Or selelct a Component to edit...",items:j?[]:P?(0,o.Z)(ie.Z([re.Z(de.Z("name"))])(O).map((function(e){return{label:"".concat(null===e||void 0===e?void 0:e.name),value:null===e||void 0===e?void 0:e.id,type:"".concat(!0===e.readonly?"Templates":(0,v.m)(null===e||void 0===e?void 0:e.name))}}))):[],initialSelectedValues:[],groupedBy:"type",groupname:"type",inputStyle:{blank:!0,cursor:"pointer"},className:Ce,inputClassName:Se,molclassname:be,moliclassname:Ee,onChange:function(e){1==e.length&&(H({type:u.qY.setSelectedBlueprintComponent,value:O.find((function(t){return t.id===e[0].value}))}),Ye(!1))}},!j&&Zt.createElement(V.G,{className:"fa-icon",icon:z.ptq,style:{marginRight:"20px",color:"gray"}})))),Zt.createElement("br",null),!$e&&Zt.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",maxHeight:"100%",border:"0px solid var(--app-color-gray-lighter)"}},Zt.createElement(f.Lb,{title:"Fields Selection"}),Zt.createElement("div",{className:pe},Zt.createElement(se.yV,{placeholder:"Click and select field to add ...",items:P?[].concat((0,o.Z)(ie.Z([re.Z(de.Z("name"))])(P.filter((function(e){var t,l;return!(null!==A&&void 0!==A&&null!==(t=A.misc_info)&&void 0!==t&&null!==(l=t.blueprints)&&void 0!==l&&l.includes(null===e||void 0===e?void 0:e.name))&&(0==e.io_type||1==e.io_type)}))).map((function(e){return{label:e.name,value:e.id,type:0==e.io_type?"Output":"Input"}}))),(0,o.Z)(null!==A&&void 0!==A&&null!==(c=A.misc_info)&&void 0!==c&&c.templates?A.misc_info.templates.map((function(e){return{label:e,value:e,type:"Templates"}})):[])):[],initialSelectedValues:[],groupedBy:"type",groupname:"type",inputStyle:{blank:!0,cursor:"pointer"},className:Ce,inputClassName:Se,molclassname:be,moliclassname:Ee,onChange:function(e){if(e.length>0){var t=[e[0]];t=function(e,t,l){var n,o,a,i,r,d;return"Battery Order Template"===e[0].value?null===t||void 0===t||null===(n=t.misc_info)||void 0===n?void 0:n.templatesData.find((function(e){return"Battery Order Template"===e.name})).config.map((function(e){return{value:l.find((function(t){return t.name===e.value})).id,label:e.label,mapToItem:null===e||void 0===e?void 0:e.mapToItem}})):"Battery Template"===e[0].value?null===t||void 0===t||null===(o=t.misc_info)||void 0===o?void 0:o.templatesData.find((function(e){return"Battery Template"===e.name})).config.map((function(e){return{value:l.find((function(t){return t.name===e.value})).id,label:e.label,mapToItem:null===e||void 0===e?void 0:e.mapToItem}})):null!==(a=null===t||void 0===t||null===(i=t.misc_info)||void 0===i||null===(r=i.templatesData.find((function(t){return t.name===e[0].value})))||void 0===r||null===(d=r.config)||void 0===d?void 0:d.map((function(e){return{value:l.find((function(t){return t.name===e.value})).id,label:e.label,mapToItem:null===e||void 0===e?void 0:e.mapToItem}})))&&void 0!==a?a:[]}(e,A,P),0==t.length&&(ot(""),t=[e[0]]),t.map((function(e){var t,l,o,a,i,r,d,s,c,m,p,f,y,g,h,C,S,b,E,_,Z,w,N,L,I,x,M,O,k,T,B,F,D,A,W,V,z,R,j,U=P.find((function(t){return t.id===e.value})),q={field_type:(0,n.Z)({},U)};("number"===(null===U||void 0===U||null===(t=U.name)||void 0===t?void 0:t.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{type:"numeric",display:"text"}}),"phone"===(null===U||void 0===U||null===(l=U.name)||void 0===l?void 0:l.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{country_prefix:"+44",country_code:"gb",country_name:"United Kingdom"}}),"currency"===(null===U||void 0===U||null===(o=U.name)||void 0===o?void 0:o.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{currency_type:"British Pound Sterling",currency_value:"GBP",symbol:"\xa3"}}),"action button"===(null===U||void 0===U||null===(a=U.name)||void 0===a?void 0:a.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{action:"creator"}}),"profile"===(null===U||void 0===U||null===(i=U.name)||void 0===i?void 0:i.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{type:"user"}}),"upload"===(null===U||void 0===U||null===(r=U.name)||void 0===r?void 0:r.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{accepted_mimes:v.cH.map((function(e){var t;return null===(t=e.value)||void 0===t?void 0:t.replaceAll(".","")})).join(","),max_file_size:51200}}),"people"===(null===U||void 0===U||null===(d=U.name)||void 0===d?void 0:d.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{position_id:[],type:"single"}}),"date"===(null===U||void 0===U||null===(s=U.name)||void 0===s?void 0:s.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{type:"single"}}),"dropdown"===(null===U||void 0===U||null===(c=U.name)||void 0===c?void 0:c.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{list:[],type:"single"}}),"payments"===(null===U||void 0===U||null===(m=U.name)||void 0===m?void 0:m.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{list:["Credit Card","GCash","Cash"]}}),"pin"===(null===U||void 0===U||null===(p=U.name)||void 0===p?void 0:p.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{pintype:"single",realtime:!0,destination:!1,source:!0}}),"record"===(null===U||void 0===U||null===(f=U.name)||void 0===f?void 0:f.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{component_id:[],type:"single",selection:"",filters:[]}}),"status"===(null===U||void 0===U||null===(y=U.name)||void 0===y?void 0:y.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{list:[]}}),"list filter"===(null===U||void 0===U||null===(g=U.name)||void 0===g?void 0:g.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{field:"",value:""}}),"id"===(null===U||void 0===U||null===(h=U.name)||void 0===h?void 0:h.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{id:"",value:0}}),"list"===(null===U||void 0===U||null===(C=U.name)||void 0===C?void 0:C.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{module_id:"",list:[]}}),"module list"===(null===U||void 0===U||null===(S=U.name)||void 0===S?void 0:S.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{module_id:"",list:[]}}),"step list"===(null===U||void 0===U||null===(b=U.name)||void 0===b?void 0:b.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{component_id:"",list:[]}}),"component list"===(null===U||void 0===U||null===(E=U.name)||void 0===E?void 0:E.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{component_id:"",list:[]}}),"transaction list"===(null===U||void 0===U||null===(_=U.name)||void 0===_?void 0:_.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{map:{}}}),"lookup"===(null===U||void 0===U||null===(Z=U.name)||void 0===Z?void 0:Z.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{source_id:"",target_id:"",common_field:"",list:[],selection:""}}),"rewards"===(null===U||void 0===U||null===(w=U.name)||void 0===w?void 0:w.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{status:"Closed",points:1,equiv:1,creator:!0}}),"calendar"===(null===U||void 0===U||null===(N=U.name)||void 0===N?void 0:N.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{limit:!0,creator:!0,priority:!0,span:!1}}),"connectors"===(null===U||void 0===U||null===(L=U.name)||void 0===L?void 0:L.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{component1_id:"",component2_id:"",common_field_12:"",component3_id:"",common_field_23:"",outputs:""}}),"map"===(null===U||void 0===U||null===(I=U.name)||void 0===I?void 0:I.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{maptype:"region"}}),"formula"===(null===U||void 0===U||null===(x=U.name)||void 0===x?void 0:x.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{operator:"",list:[],display:"text"}}),"item formula"===(null===U||void 0===U||null===(M=U.name)||void 0===M?void 0:M.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{operator:"",list:[],display:"text"}}),"emails"===(null===U||void 0===U||null===(O=U.name)||void 0===O?void 0:O.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{subject:"",message:""}}),"product"===(null===U||void 0===U||null===(k=U.name)||void 0===k?void 0:k.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{list:[]}}),"product lookup"===(null===U||void 0===U||null===(T=U.name)||void 0===T?void 0:T.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{selection:"",component_id:"",list:[]}}),"filters"===(null===U||void 0===U||null===(B=U.name)||void 0===B?void 0:B.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{component_id:"",list:[],filters:[]}}),"info"===(null===U||void 0===U||null===(F=U.name)||void 0===F?void 0:F.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{component_id:"",list:[]}}),"chart"===(null===U||void 0===U||null===(D=U.name)||void 0===D?void 0:D.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{component_id:"",list:[]}}),"value"===(null===U||void 0===U||null===(A=U.name)||void 0===A?void 0:A.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{module_id:"",component_id:"",value:""}}),"notes"===(null===U||void 0===U||null===(W=U.name)||void 0===W?void 0:W.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{value:""}}),"url"===(null===U||void 0===U||null===(V=U.name)||void 0===V?void 0:V.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{type:"image"}}),"googleai assistant"===(null===U||void 0===U||null===(z=U.name)||void 0===z?void 0:z.toLowerCase())&&(q={field_type:(0,n.Z)({},U),options:{description:"",fixed:!0,current:!1}}),null!==e&&void 0!==e&&e.mapToItem&&(console.log(e.mapToItem),q.options=(0,n.Z)((0,n.Z)({},q.options),{},{mapToItem:e.mapToItem})),(null===K||void 0===K||null===(R=K.selectedBlueprintComponent)||void 0===R?void 0:R.fields.length)<20)?(it(),H({type:u.qY.setSelectedBlueprintComponentNewField,value:(0,n.Z)((0,n.Z)({},q),{},{label:null!==(j=e.label)&&void 0!==j?j:""})})):Ke("You can only add a maximum of 20 fields per component. ")}))}}},Zt.createElement(V.G,{className:"fa-icon",icon:z.ptq,style:{marginRight:"20px",color:"gray"}}))),Zt.createElement("br",null),Zt.createElement("div",{className:_e},Ge?"Selected Fields:":"Available Fields:"),Zt.createElement("div",{style:{display:"flex",flexDirection:"column"}},null===K||void 0===K||null===(p=K.selectedBlueprintComponent)||void 0===p||null===(y=p.fields)||void 0===y?void 0:y.map((function(e,t){var l,o,a,i,r,d,s,c;return Zt.createElement(Lt,{key:t,id:e.id,name:1===(null===e||void 0===e||null===(l=e.field_type)||void 0===l?void 0:l.io_type)?null!==e&&void 0!==e&&null!==(o=e.options)&&void 0!==o&&o.mapToItem?"".concat(null===e||void 0===e||null===(a=e.field_type)||void 0===a?void 0:a.name," (").concat(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.mapToItem,")"):null===e||void 0===e||null===(r=e.field_type)||void 0===r?void 0:r.name:"Template"===(null===e||void 0===e||null===(d=e.field_type)||void 0===d?void 0:d.name)?null===e||void 0===e||null===(s=e.field_type)||void 0===s?void 0:s.name:"".concat(null===e||void 0===e||null===(c=e.field_type)||void 0===c?void 0:c.name," (Out)"),settingsClicked:function(){var t;H({type:u.qY.setSelectedFieldFromSelectedBlueprintComponent,value:(0,n.Z)((0,n.Z)({},e),{},{index:null===e||void 0===e||null===(t=e.field_type)||void 0===t?void 0:t.index})}),te(!0)},renderError:We,hasSettingsBtn:!0},Zt.createElement(Nt,e))}))),Zt.createElement("p",{className:_e},0==(null===K||void 0===K||null===(g=K.selectedBlueprintComponent)||void 0===g||null===(h=g.fields)||void 0===h?void 0:h.length)?"No fields available. Select and add by clicking above":"You can add a maximum of 20 fields per component."),Zt.createElement("br",null)),(null===qe||void 0===qe?void 0:qe.length)>0&&Zt.createElement(B.Z,{message:qe,onClick:function(){return Ke("")}}),(null===nt||void 0===nt?void 0:nt.length)>0&&Zt.createElement(B.Z,{withError:!1,extraClassName:he,message:nt,onClick:function(){return ot("")}})),Zt.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingTop:"10px",width:"100%",overflow:"auto"}},Zt.createElement(f.zx,{loading:oe,title:"Close",clicked:function(){return x()},titleStyle:{fontSize:"14px"},style:{width:"16%",display:$e?"none":""}}),Zt.createElement(f.zx,{disabled:!((null===K||void 0===K||null===(C=K.selectedBlueprintComponent)||void 0===C?void 0:C.fields.length)>0&&null!==(S=K.selectedBlueprintComponent)&&void 0!==S&&S.name),light:!0,title:Ge?"Save":"Update",loading:oe,clicked:st,titleStyle:{fontSize:"14px"},style:{width:"20%",display:1==(null===K||void 0===K||null===(b=K.selectedBlueprintComponent)||void 0===b?void 0:b.readonly)&&"superadmin"!==A.status?"none":(null===K||void 0===K||null===(E=K.selectedBlueprintComponent)||void 0===E?void 0:E.fields.length)>0&&null!==(_=K.selectedBlueprintComponent)&&void 0!==_&&_.name?"":"none"}}),!Ge&&Zt.createElement(f.j3,{permissions:[f.po.blueprints.components.delete]},Zt.createElement(f.zx,{light:!0,title:$e?"Back":"Rename",clicked:function(){return et(!$e)},titleStyle:{fontSize:"14px"},style:{width:"20%",display:1==(null===K||void 0===K||null===(Z=K.selectedBlueprintComponent)||void 0===Z?void 0:Z.readonly)&&"superadmin"!==A.status?"none":""}})),!Ge&&!$e&&Zt.createElement(f.j3,{permissions:[f.po.blueprints.components.delete]},Zt.createElement(f.zx,{light:!0,title:"Copy",clicked:ct,titleStyle:{fontSize:"14px"},style:{width:"22%"}})),!Ge&&!$e&&0==(null===K||void 0===K||null===(w=K.selectedBlueprintComponent)||void 0===w?void 0:w.readonly)&&Zt.createElement(Zt.Fragment,null,Zt.createElement(f.j3,{permissions:[f.po.blueprints.components.delete]},Zt.createElement(f.zx,{light:!0,title:"New",clicked:function(){Ye(!0),H({type:u.qY.resetSelectedBlueprintComponent})},titleStyle:{fontSize:"14px"},style:{width:"16%"}}),0===F.filter((function(e){return e.component_fields.filter((function(e){var t;return e.component_blueprint_id===(null===(t=K.selectedBlueprintComponent)||void 0===t?void 0:t.id)})).length>0})).length&&Zt.createElement(f.zx,{light:!0,title:"Delete",loading:ge,clicked:function(){Ne(!0),(0,ue.bp)(K.selectedBlueprintComponent.id).subscribe({next:function(){k.h.dispatch((0,m.Xc)({show:!0,message:"You have successfully deleted ".concat(K.selectedBlueprintComponent.name),color:"red"})),null===I||void 0===I||I(!0)},complete:function(){Ne(!1),null===x||void 0===x||x(!0)}})},titleStyle:{fontSize:"14px"},style:{width:"20%"}})))))),ee&&Zt.createElement(ze,{onClose:function(){H({type:u.qY.setSelectedFieldFromSelectedBlueprintComponent,value:null}),Me(!1),Be(!1),te(!1)},isOpen:ee,modalStyle:{minWidth:"500px",width:T.tq?"100%":"38%"},leftControlAction:function(e){return function(e){Be(!0),H({type:u.qY.removeSelectedFieldFromSelectedBlueprintComponent,value:{id:e}}),Be(!1),te(!1)}(e)},leftControlLoading:Te,centralControlAction:function(e){Me(!0),H({type:u.qY.setSelectedBlueprintComponentSpecificField,value:e}),Me(!1),te(!1)},centralControlLoading:xe,allModules:M,blueprints:O,components:F,companyProcesses:W,products:D,selectedFields:K.selectedBlueprintComponent.fields,readOnly:(null===K||void 0===K||null===(N=K.selectedBlueprintComponent)||void 0===N?void 0:N.readonly)&&"superadmin"!==A.status}),Y&&Zt.createElement(f.Ts,{onClick:function(){return J(!1)},url:"https://www.youtube.com/watch?v=xV-bOHvfbPQ"}))})),Nt=function(e){var t,l,n=e.id,o=e.value,i=e.field_type,r=k.h.getState().flowReducer.companyData,d=(0,u.aL)(),s=(0,a.Z)(d,2)[1];switch(null===i||void 0===i?void 0:i.data_type){case"file":case"date":return Zt.createElement("input",{type:"input",placeholder:null===i||void 0===i?void 0:i.name,className:ge,value:o,name:null===i||void 0===i?void 0:i.name,onChange:function(e){s({type:u.qY.setSelectedBlueprintComponentSpecificField,value:{id:n,value:e.target.value}})}});case"text":return Zt.createElement("input",{type:null===i||void 0===i?void 0:i.data_type,placeholder:"Input name for "+(null===i||void 0===i?void 0:i.name),className:ge,value:o,name:null===i||void 0===i?void 0:i.name,onChange:function(e){var t=e.target.value;s({type:u.qY.setSelectedBlueprintComponentSpecificField,value:{id:n,value:t}})}});case"output":return Zt.createElement("input",{type:null===i||void 0===i?void 0:i.data_type,placeholder:"Insert value for "+(null===i||void 0===i||null===(t=i.name)||void 0===t?void 0:t.toLowerCase())+" element...",className:ge,value:o,name:null===i||void 0===i?void 0:i.name,readOnly:"-"!==(null===r||void 0===r?void 0:r.id)&&"Template"===(null===i||void 0===i?void 0:i.name),onChange:function(e){var t=e.target.value;s({type:u.qY.setSelectedBlueprintComponentSpecificField,value:{id:n,value:t}})}});default:return Zt.createElement("input",{type:null===i||void 0===i?void 0:i.data_type,placeholder:"Insert value for "+(null===i||void 0===i||null===(l=i.name)||void 0===l?void 0:l.toLowerCase())+" element...",className:ge,value:o,name:null===i||void 0===i?void 0:i.name,onChange:function(e){var t=e.target.value;s({type:u.qY.setSelectedBlueprintComponentSpecificField,value:{id:n,value:t}})}})}},Lt=function(e){var t=e.id,l=e.renderError,n=(e.fieldIcon,e.children),o=e.hasSettingsBtn,r=e.settingsClicked,d=e.name,s=(0,u.aL)(),c=(0,a.Z)(s,1)[0],m=(0,i.useState)(!1),p=(0,a.Z)(m,2),v=p[0],f=p[1],y=(0,i.useCallback)((function(){var e;return f(l&&(null===(e=c.validation.fields)||void 0===e?void 0:e.some((function(e){return(null===e||void 0===e?void 0:e.toString())===(null===t||void 0===t?void 0:t.toString())}))))}),[l,c.validation.fields,t]);return(0,i.useEffect)((function(){y()}),[l,t,c.validation.fields,y]),Zt.createElement("div",{className:pe,"app-field-row-has-error":v?"error":""},Zt.createElement("div",{className:ve},n),Zt.createElement("p",{className:ye},d),o&&Zt.createElement("button",{className:fe,onClick:function(){return r()}},Zt.createElement(V.G,{icon:z.gr5,style:{width:"20px",height:"20px",color:"gray"}})))},It=(0,r.$j)((function(e){var t=e.flowReducer,l=t.blueprints,n=t.allStatutes,o=t.selectedBlueprintComponent,a=t.allModules,i=t.componentTypes,r=t.components,d=t.products,u=t.companyData,s=t.companyProcesses,c=e.modalsReducer;return{blueprints:l,allStatutes:n,selectedBlueprintComponent:o,allModules:a,componentTypes:i,components:r,products:d,companyData:u,companyProcesses:s,onBoardingModalsVisibility:c.onBoardingModalsVisibility,isOnboarding:c.isOnboarding}}),(function(e){return{onSetSelectedProStep:function(t){return e((0,m.Sc)(t))}}}))(wt),xt=l(22590),Mt=l(74165),Ot=l(15861),kt=l(4942),Tt=l(28550),Bt=l(88846),Pt=l(62169),Ft=l(84634),Dt=l(9204),At=l(30401),Wt=l(62498),Vt=l(51791),zt=l(97606),Rt=l(8284),jt=l(12653),Ut=l(80121),qt=l(31510),Kt=l(97293),Ht=l(45987),Xt=l(87462),Gt=!1,Yt="data-dev-focus",Jt='a[href], button, input:not([type="hidden"]), [tabindex="0"], select, textarea',Qt=!1;if("undefined"!==typeof window&&"undefined"!==typeof document)try{var $t=document.createElement("div");$t.addEventListener("focus",(function(e){e.preventDefault(),e.stopPropagation()}),!0),$t.focus(Object.defineProperty({},"preventScroll",{get:function(){Qt=!0}}))}catch(Zn){}var el=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.activeElement;try{return e.matches(":focus-visible")}catch(t){}return!1},tl=function(e){var t=e.target&&"getAttribute"in e.target&&e.target;t&&null!=t.getAttribute(Yt)&&requestAnimationFrame((function(){t.removeAttribute(Yt)}))},ll=function(){Gt||(Gt=!0,document.addEventListener("blur",tl,!0))},nl="StepComponents_renderComponent__+z3XW",ol="StepComponents_wrapper__3JMC9",al="StepComponents_mainContainer__zd1cq",il="StepComponents_firstRow__XX+Ep",rl="StepComponents_pLabel__NLkqd",dl="StepComponents_icoContainer__RDLt2",ul="StepComponents_renderFieldOfComponent__YckNH",sl="StepComponents_inheritedFieldNameContainer__OP5us",cl="StepComponents_inheritedFieldName__Z3BI3",ml="StepComponents_inheritedFieldMandatoryMark__3Oe+t",pl="StepComponents_optionsContainer__yY3PK",vl="StepComponents_mandatoryContainer__CFmJm",fl="StepComponents_mandatoryIconContainer__CHSuP",yl="StepComponents_mandatorySVG__SrpT7",gl="StepComponents_notMandatory__fegWP",hl="StepComponents_mandatoryText__iZ04J",Cl="StepComponents_typeText__+A6OQ",Sl="StepComponents_visibilityContainer__er+Sk",bl="StepComponents_renderComponents__PxNBA",El="StepComponents_noContentWrapperNewComponents__dQHs8",_l="StepComponents_noContentWrapperContainerNewComponents__C+epL",Zl="StepComponents_noContentParagraphNewComponents__9soSj",wl="StepComponents_firstRowControls__QK4Eb",Nl="StepComponents_renderSearchComponentsHost__LM0BX",Ll="StepComponents_showSearchComponentContainer__O7l8b",Il="StepComponents_showSearchComponentSelectWithSearchContainer__S0y1p",xl="StepComponents_showSearchComponentSelectWithSearchAddComponentButton__5gcm8",Ml="StepComponents_errorContainer__gR5Ss",Ol="StepComponents_peoplePositionsSelectBorderless__iOTkZ",kl="StepComponents_peoplePositionsSelect__kisVR",Tl="StepComponents_peoplePositionsSelectInput__PuuvP",Bl="StepComponents_peoplePositionsSelectMenuOverlay__mivFp",Pl="StepComponents_peoplePositionsSelectMenuOverlayItem__mpsra",Fl="StepComponents_listContainer__bnutj",Dl="StepComponents_accordionContainer__h-Kjc",Al=l(60179),Wl=l(30490),Vl=l(67861),zl=l(66918),Rl=(0,i.memo)((function(e){e.selectedProcess;var t=e.blueprints,l=e.companyPositionsArray,n=e.showAddButton,r=void 0===n||n,u=e.onEditChange,s=void 0===u?function(){}:u,m=(0,c._M)(),p=(0,a.Z)(m,2),y=p[0],g=p[1],h=(0,i.useState)([]),C=(0,a.Z)(h,2),S=C[0],b=C[1],E=(0,i.useState)(!1),_=(0,a.Z)(E,2),Z=_[0],w=_[1],N=(0,i.useCallback)((function(){var e,t,l,n;if(!(null!==y&&void 0!==y&&null!==(e=y.selectedStep)&&void 0!==e&&null!==(t=e.component_blueprints)&&void 0!==t&&t.length)>0)return b([]);var a=zl.compose(zl.map(zl.assoc("hasStatus",(null===(l=zl.pathOr("",["status","id"]))||void 0===l?void 0:l.length)>0)),zl.map(zl.assoc("hasTitle",(null===(n=zl.flip(zl.prop("title")))||void 0===n?void 0:n.length)>0)))(y.selectedStep.component_blueprints);b((0,o.Z)(a.map((function(e){return{value:e.id,uuid:e._uuid,title:e.title,component:e}}))))}),[y.selectedStep.component_blueprints]);(0,i.useEffect)((function(){N()}),[y.selectedStep.component_blueprints,N]);var L=(0,i.useCallback)((function(e){(0,ue.vG)(e.value).pipe((0,d.P)()).subscribe({next:function(e){var t={id:e.id,is_active:!0,is_inherited:!1,name:e.name,selected_fields:e.fields.map((function(e){var t,l,n,o,a;return{data_type:null===e||void 0===e||null===(t=e.field_type)||void 0===t?void 0:t.data_type,data_type_name:null===e||void 0===e||null===(l=e.field_type)||void 0===l?void 0:l.name,field_name:null!==(n=null===e||void 0===e?void 0:e.value)&&void 0!==n?n:null===e||void 0===e||null===(o=e.field_type)||void 0===o?void 0:o.name,id:e.id,index:e.index,mandatory:!1,options:null!==(a=null===e||void 0===e?void 0:e.options)&&void 0!==a?a:[],process_step_blueprint_field_id:e.id}})),status:{id:"",name:""},title:"",hasStatus:!1,hasTitle:!1,_uuid:(0,v.mR)(),new:!0};g({type:c.Cb.addNewComponentAtStep,value:t}),w((function(e){return!e}))},error:function(e){}})}),[g]);return Vl.createElement("div",{className:bl},(null===S||void 0===S?void 0:S.length)>0&&(null===S||void 0===S?void 0:S.map((function(e,t){var n;return Vl.createElement(jl,{onEditChange:function(t){s(t,e.component.id)},key:t+e.uuid,value:e.value,compUUID:e.uuid,title:(null===(n=e.title)||void 0===n?void 0:n.length)>0?e.title:"Select title...",companyPositionsArray:l})}))),Z?Vl.createElement(ql,{onComponentSelect:L,blueprint_components:zl.sortWith([zl.ascend(zl.prop("name"))])(t.filter((function(e){return zl.not(zl.includes(e.id,zl.pipe(zl.pluck("component_blueprints"),zl.flatten,zl.pipe(zl.pluck("id")))(y.steps)))})).filter((function(e){return zl.not(zl.includes(e.id,zl.pipe(zl.pluck("value"))(S)))})))}):Vl.createElement("div",{className:El,style:{display:0==r?"none":""}},Vl.createElement("div",{className:_l},t.length>0?Vl.createElement(f.zx,{style:{height:"30px"},title:"Attach Component",clicked:function(){return w((function(e){return!e}))}}):Vl.createElement("p",{className:Zl},"There are no available components. Create one first!"))))})),jl=(0,i.memo)((function(e){var t,l,r,u,s,m,p,v,y,g,h,C,S,b,E,_,Z,w,N,L,I,x,M,O,k,T,B,P,F,D,A,W,R,j,U,q,K,H,X,G,Y,J,Q,$,ee,te,le,ne,oe=e.value,ae=e.title,ie=e.compUUID,re=e.companyPositionsArray,de=e.show,ce=void 0!==de&&de,me=e.onEditChange,pe=void 0===me?function(){}:me,ve=(0,i.useRef)(null),fe=(0,c._M)(),ye=(0,a.Z)(fe,2),ge=ye[0],he=ye[1],Ce=(0,i.useState)(zl.find(zl.allPass([zl.propEq("_uuid",ie)]))(null!==(t=null===ge||void 0===ge||null===(l=ge.selectedStep)||void 0===l?void 0:l.component_blueprints)&&void 0!==t?t:[])),Se=(0,a.Z)(Ce,2),be=Se[0],Ee=Se[1],_e=(0,i.useState)(""),Ze=(0,a.Z)(_e,2),we=Ze[0],Ne=Ze[1],Le=(0,i.useState)(!1),Ie=(0,a.Z)(Le,2)[1],xe=(0,i.useState)(null!==(r=(null===be||void 0===be||null===(u=be.options)||void 0===u||null===(s=u.showOnly)||void 0===s?void 0:s.length)>0)&&void 0!==r&&r),Me=(0,a.Z)(xe,2),ke=Me[0],Te=Me[1],Be=(0,i.useState)(!1),Pe=(0,a.Z)(Be,2),Fe=Pe[0],De=Pe[1],Ae=(0,i.useState)(!1),We=(0,a.Z)(Ae,2),Ve=We[0],ze=We[1],Re=(0,i.useState)(null!==(m=null===be||void 0===be?void 0:be.new)&&void 0!==m?m:ce),je=(0,a.Z)(Re,2),Ue=je[0],qe=je[1],Ke=(0,i.useState)((function(){var e;return 0===(null===be||void 0===be||null===(e=be.selected_fields)||void 0===e?void 0:e.length)?[]:zl.sortWith([zl.ascend(zl.prop("index"))])(be.selected_fields).map((function(e,t){var l,a,i;return(0,n.Z)({},{id:"row-".concat(e.id),component:Vl.createElement(Ul,{key:"field-".concat(null===e||void 0===e?void 0:e.id).concat(t),fieldId:null===e||void 0===e?void 0:e.id,compId:oe,compUUID:ie,componentTitle:null===be||void 0===be?void 0:be.title,isKeyClicked:function(){Ee((0,n.Z)((0,n.Z)({},be),{},{options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{key:e.field_name})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ie,compBluePrintId:be.id,isInherited:!1,options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{key:e.field_name})}})},isKey:(null===be||void 0===be||null===(l=be.options)||void 0===l?void 0:l.key)===e.field_name,isLeft:!(null===be||void 0===be||null===(a=be.options)||void 0===a||null===(i=a.left)||void 0===i||!i.find((function(t){return t===e.field_name}))),isLeftClicked:function(){var t,l,a,i,r,d,u,s,m,p;null!==be&&void 0!==be&&null!==(t=be.options)&&void 0!==t&&null!==(l=t.left)&&void 0!==l&&l.find((function(t){return t===e.field_name}))?(Ee((0,n.Z)((0,n.Z)({},be),{},{options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{left:null===be||void 0===be||null===(a=be.options)||void 0===a||null===(i=a.left)||void 0===i?void 0:i.filter((function(t){return t!==e.field_name}))})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ie,compBluePrintId:be.id,isInherited:!1,options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{left:null===be||void 0===be||null===(r=be.options)||void 0===r||null===(d=r.left)||void 0===d?void 0:d.filter((function(t){return t!==e.field_name}))})}})):(Ee((0,n.Z)((0,n.Z)({},be),{},{options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{left:[null!==(u=null===be||void 0===be||null===(s=be.options)||void 0===s?void 0:s.left)&&void 0!==u?u:[],e.field_name]})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ie,compBluePrintId:be.id,isInherited:!1,options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{left:[].concat((0,o.Z)(null!==(m=null===be||void 0===be||null===(p=be.options)||void 0===p?void 0:p.left)&&void 0!==m?m:[]),[e.field_name])})}}))},component:be})})}))})),He=(0,a.Z)(Ke,2),Xe=He[0],Ge=He[1];(0,i.useEffect)((function(){var e,t,l=zl.find(zl.allPass([zl.propEq("_uuid",ie)]))(null!==(e=null===ge||void 0===ge||null===(t=ge.selectedStep)||void 0===t?void 0:t.component_blueprints)&&void 0!==e?e:[]);Ee(l)}),[null===ge||void 0===ge||null===(p=ge.selectedStep)||void 0===p?void 0:p.component_blueprints,oe]);var Ye=(0,i.useCallback)((function(){De(!0),(0,ue.vG)(be.id).pipe((0,d.P)()).subscribe({next:function(e){De(!1);var t=e.fields.map((function(e){var t,l,n,o,a,i=be.selected_fields.find((function(t){return t.id===e.id}));return i?(i.options=null===e||void 0===e?void 0:e.options,i):(Ne({title:"Change in fields found, please save this step"}),qe(!0),{data_type:null===e||void 0===e||null===(t=e.field_type)||void 0===t?void 0:t.data_type,data_type_name:null===e||void 0===e||null===(l=e.field_type)||void 0===l?void 0:l.name,field_name:null!==(n=null===e||void 0===e?void 0:e.value)&&void 0!==n?n:null===e||void 0===e||null===(o=e.field_type)||void 0===o?void 0:o.name,id:e.id,index:e.index,mandatory:!1,options:null!==(a=null===e||void 0===e?void 0:e.options)&&void 0!==a?a:[],process_step_blueprint_field_id:e.id})}));t.length<be.selected_fields.length&&(Ne({title:"A field was removed, please save this step"}),qe(!0)),be.selected_fields=t,he({type:c.Cb.updateComponentAtStep,value:be}),Ge((function(){var e;return 0===(null===be||void 0===be||null===(e=be.selected_fields)||void 0===e?void 0:e.length)?[]:zl.sortWith([zl.ascend(zl.prop("index"))])(be.selected_fields).map((function(e,t){var l,a,i;return(0,n.Z)({},{id:"row-".concat(e.id),component:Vl.createElement(Ul,{key:"field-".concat(null===e||void 0===e?void 0:e.id).concat(t),fieldId:null===e||void 0===e?void 0:e.id,compId:oe,compUUID:ie,componentTitle:null===be||void 0===be?void 0:be.title,isKeyClicked:function(){Ee((0,n.Z)((0,n.Z)({},be),{},{options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{key:e.field_name})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ie,compBluePrintId:be.id,isInherited:!1,options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{key:e.field_name})}})},isKey:(null===be||void 0===be||null===(l=be.options)||void 0===l?void 0:l.key)===e.field_name,isLeft:!(null===be||void 0===be||null===(a=be.options)||void 0===a||null===(i=a.left)||void 0===i||!i.find((function(t){return t===e.field_name}))),isLeftClicked:function(){var t,l,a,i,r,d,u,s,m,p;null!==be&&void 0!==be&&null!==(t=be.options)&&void 0!==t&&null!==(l=t.left)&&void 0!==l&&l.find((function(t){return t===e.field_name}))?(Ee((0,n.Z)((0,n.Z)({},be),{},{options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{left:null===be||void 0===be||null===(a=be.options)||void 0===a||null===(i=a.left)||void 0===i?void 0:i.filter((function(t){return t!==e.field_name}))})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ie,compBluePrintId:be.id,isInherited:!1,options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{left:null===be||void 0===be||null===(r=be.options)||void 0===r||null===(d=r.left)||void 0===d?void 0:d.filter((function(t){return t!==e.field_name}))})}})):(Ee((0,n.Z)((0,n.Z)({},be),{},{options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{left:[null!==(u=null===be||void 0===be||null===(s=be.options)||void 0===s?void 0:s.left)&&void 0!==u?u:[],e.field_name]})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ie,compBluePrintId:be.id,isInherited:!1,options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{left:[].concat((0,o.Z)(null!==(m=null===be||void 0===be||null===(p=be.options)||void 0===p?void 0:p.left)&&void 0!==m?m:[]),[e.field_name])})}}))},component:be})})}))})),Ee((0,n.Z)((0,n.Z)({},be),{},{selected_fields:t}))},error:function(e){De(!1)}})}),[he]),Je=(0,i.useCallback)((function(){he({type:c.Cb.removeComponentFromStep,value:{uuid:ie}})}),[ie]);(0,i.useEffect)((function(){!function(e,t){var l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e||l&&!Qt||(t&&(!0===t&&(t=Jt),e=e.querySelector(t)),null!=e&&requestAnimationFrame((function(){e&&(-1==e.tabIndex&&null==e.getAttribute("tabindex")&&(e.tabIndex=-1),el()||(e.setAttribute(Yt,""),Gt||ll()),e.focus({preventScroll:!0}))})))}(null===ve||void 0===ve?void 0:ve.current,!0)}),[null===be||void 0===be?void 0:be.title]);var Qe=(0,i.useMemo)((function(){return[{Header:"Component",columns:[{Header:"Component",accessor:"component"}]}]}),[]);return Vl.createElement(f.sm,{key:oe+ae,className:nl,"comp-in-edit-mode":Ue?"true":null,"app-variant":(null===(v=we.title)||void 0===v?void 0:v.length)>0||(null===(y=we.status)||void 0===y?void 0:y.length)>0?"error":"normal",onClickOutside:function(){Ie(!0)}},Vl.createElement(f.gc,{title:"".concat(1==(null===be||void 0===be||null===(g=be.options)||void 0===g?void 0:g.allowMultipleInputs)?"Transaction":!0===(null===be||void 0===be||null===(h=be.options)||void 0===h?void 0:h.asReport)?"Report":!0===(null===be||void 0===be||null===(C=be.options)||void 0===C?void 0:C.asDashboard)?"Dashboard":!0===(null===be||void 0===be||null===(S=be.options)||void 0===S?void 0:S.asModuleList)?"Main List":"Component",":")}),Vl.createElement("div",{className:ol},Vl.createElement("div",{className:al},Vl.createElement("div",{className:il},Vl.createElement("p",{className:rl,onClick:function(){return pe(be.id)}},null===be||void 0===be?void 0:be.name),Vl.createElement("div",{className:wl},Ue&&Vl.createElement(f.zx,{light:!0,icon:Vl.createElement(V.G,{icon:z.Mdf,style:{width:"20px",height:"30px"}}),style:{height:"30px"},clicked:function(){return ze(!0)}}),Ue&&Vl.createElement(f.zx,{loadingIn:Fe,light:!0,icon:Vl.createElement("img",{src:Oe.Fd}),style:{height:"30px"},clicked:function(){return Ye()}}),Ue&&Vl.createElement(f.zx,{light:!0,style:{height:"30px"},title:"Remove",clicked:function(){return Je()}}),Vl.createElement("div",{className:dl,onClick:function(){qe((function(e){return!e}))}},Vl.createElement(Oe.Kn,{style:{transform:Ue?"rotate(180deg)":"rotate(0deg)"}})))),(null===(b=we.title)||void 0===b?void 0:b.length)>0&&Vl.createElement("span",{className:Ml},we.title))),Ve&&Vl.createElement(f.U7,{hasCloseIcon:!0,onClose:function(){return ze(!1)},scrollable:!0,shadowedContainerStyle:{minWidth:"500px",width:"100%"},isOpen:Ve,blured:!0},Vl.createElement("div",{style:{backgroundColor:"rgb(246, 244, 236)",width:"inherit"}},Vl.createElement("div",{className:Fl,style:{display:"flex",margin:"150px 50px 50px 50px"}},Vl.createElement("div",{className:Dl,style:{margin:"30px 0 0 0"}},Vl.createElement(Wl.g,{component:be,selectedComponent:{id:"",name:""},isDraft:!0,setTaskProcessContext:function(){},processTaskContext:{components:[],newStepComponents:[]}}))))),Ue&&Vl.createElement("div",{style:{flex:1,width:"100%"}},Vl.createElement(f.jL,{ref:ve,ungrouped:!0,title:"Drag to arrange Component Fields:",columned:!0,withAckButton:!1},Vl.createElement("br",null),Vl.createElement(Al.z0,null,Vl.createElement(Al.iA,{columns:Qe,data:Xe,onhandleDragEnd:function(e){e.map((function(e,t){he({type:c.Cb.updateComponentFieldIndexKeyValue,value:{compBluePrintUUID:e.component.props.compUUID,compBluePrintId:e.component.props.compId,fieldId:e.component.props.fieldId,index:t}})})),Ge(e)}}))),Vl.createElement(f.pd,{id:"moduleList",title:"Use as Transactions List",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ge&&void 0!==ge&&null!==(E=ge.selectedStep)&&void 0!==E&&null!==(_=E.options)&&void 0!==_&&_.templateName||1!=(null===ge||void 0===ge||null===(Z=ge.selectedStep)||void 0===Z?void 0:Z.rank)||1==(null===be||void 0===be||null===(w=be.options)||void 0===w?void 0:w.asDashboard)||1==(null===be||void 0===be||null===(N=be.options)||void 0===N?void 0:N.asReport)?"none":""},value:null!==(L=null===be||void 0===be||null===(I=be.options)||void 0===I?void 0:I.asModuleList)&&void 0!==L&&L,toggleSelected:function(e){Ee((0,n.Z)((0,n.Z)({},be),{},{options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{asReport:!1,asDashboard:!1,asModuleList:e})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ie,compBluePrintId:be.id,isInherited:!1,options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{asReport:!1,asDashboard:!1,asModuleList:e})}})}}),Vl.createElement(f.pd,{id:"asReport",title:"Use as a report?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ge&&void 0!==ge&&null!==(x=ge.selectedStep)&&void 0!==x&&null!==(M=x.options)&&void 0!==M&&M.templateName||1!=(null===ge||void 0===ge||null===(O=ge.selectedStep)||void 0===O?void 0:O.rank)||1==(null===be||void 0===be||null===(k=be.options)||void 0===k?void 0:k.asModuleList)||1==(null===be||void 0===be||null===(T=be.options)||void 0===T?void 0:T.asDashboard)?"none":""},value:null!==(B=null===be||void 0===be||null===(P=be.options)||void 0===P?void 0:P.asReport)&&void 0!==B&&B,toggleSelected:function(e){Ee((0,n.Z)((0,n.Z)({},be),{},{options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{asModuleList:!1,asDashboard:!1,asReport:e})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ie,compBluePrintId:be.id,isInherited:!1,options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{asModuleList:!1,asDashboard:!1,asReport:e})}})}}),Vl.createElement(f.pd,{id:"asDashboard",title:"View as dashboard?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ge&&void 0!==ge&&null!==(F=ge.selectedStep)&&void 0!==F&&null!==(D=F.options)&&void 0!==D&&D.templateName||1!=(null===ge||void 0===ge||null===(A=ge.selectedStep)||void 0===A?void 0:A.rank)||1==(null===be||void 0===be||null===(W=be.options)||void 0===W?void 0:W.asModuleList)||1==(null===be||void 0===be||null===(R=be.options)||void 0===R?void 0:R.asReport)?"none":""},value:null!==(j=null===be||void 0===be||null===(U=be.options)||void 0===U?void 0:U.asDashboard)&&void 0!==j&&j,toggleSelected:function(e){Ee((0,n.Z)((0,n.Z)({},be),{},{options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{asReport:!1,asModuleList:!1,asDashboard:e})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ie,compBluePrintId:be.id,isInherited:!1,options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{asReport:!1,asModuleList:!1,asDashboard:e})}})}}),Vl.createElement(f.pd,{id:"multipleInputs",title:"Allow multiple inputs?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ge&&void 0!==ge&&null!==(q=ge.selectedStep)&&void 0!==q&&null!==(K=q.options)&&void 0!==K&&K.templateName||1==(null===be||void 0===be||null===(H=be.options)||void 0===H?void 0:H.asModuleList)||1==(null===be||void 0===be||null===(X=be.options)||void 0===X?void 0:X.asReport)||1==(null===be||void 0===be||null===(G=be.options)||void 0===G?void 0:G.asDashboard)?"none":be.selected_fields.filter((function(e){var t;return null===(t=e.options)||void 0===t?void 0:t.mapToItem})).length>0&&be.selected_fields.find((function(e){return"Transaction List"===e.data_type_name}))?"":"none"},value:null!==(Y=null===be||void 0===be||null===(J=be.options)||void 0===J?void 0:J.allowMultipleInputs)&&void 0!==Y&&Y,toggleSelected:function(e){Ee((0,n.Z)((0,n.Z)({},be),{},{options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{allowMultipleInputs:e})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ie,compBluePrintId:be.id,isInherited:!1,options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{allowMultipleInputs:e})}})}}),Vl.createElement(f.pd,{id:"showAll",title:"Show component to all?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ge&&void 0!==ge&&null!==(Q=ge.selectedStep)&&void 0!==Q&&null!==($=Q.options)&&void 0!==$&&$.templateName?"none":""},value:!ke,toggleSelected:function(e){Te(!e)}}),Vl.createElement(f.jL,{style:{display:null!==ge&&void 0!==ge&&null!==(ee=ge.selectedStep)&&void 0!==ee&&null!==(te=ee.options)&&void 0!==te&&te.templateName?"none":ke?"":"none"},ref:ve,ungrouped:!0,title:"Only show this component to:",columned:!0,withAckButton:!1},Vl.createElement("br",null),Vl.createElement(se.Cm,{tagEmplacement:"inlined",searchable:!1,items:re,groupedBy:"department",groupname:"department",triggerType:"chevron",initialSelectedValues:null===be||void 0===be||null===(le=be.options)||void 0===le||null===(ne=le.showOnly)||void 0===ne?void 0:ne.map((function(e){return re.find((function(t){return t.value===e}))})),className:kl,inputClassName:Tl,molclassname:Bl,moliclassname:Pl,onChange:function(e){Ee((0,n.Z)((0,n.Z)({},be),{},{options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{showOnly:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ie,compBluePrintId:be.id,isInherited:!1,options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{showOnly:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))})}})}}))))}),(function(e,t){return t.props===e.props})),Ul=(0,i.memo)((function(e){var t,l,n,o,r,d,u,s,m,p,v,f=e.fieldId,y=e.compId,g=e.compUUID,h=e.componentTitle,C=e.isKeyClicked,S=(e.isKey,e.component,e.isLeftClicked),b=(e.isLeft,(0,c._M)()),E=(0,a.Z)(b,2),_=E[0],Z=E[1],w=(0,i.useState)(!1),N=(0,a.Z)(w,2),L=N[0],I=N[1],x=(0,i.useCallback)((function(){var e,t,l,n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return zl.find(zl.propEq("_uuid",e))(t)}(g,null!==(e=null===_||void 0===_||null===(t=_.selectedStep)||void 0===t?void 0:t.component_blueprints)&&void 0!==e?e:[]);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return zl.find(zl.propEq("id",e))(t)}(f,null!==(l=null===n||void 0===n?void 0:n.selected_fields)&&void 0!==l?l:[])}),[y,f,null===_||void 0===_||null===(t=_.selectedStep)||void 0===t?void 0:t.component_blueprints]),M=function(e){return I(e)},O=(0,i.useState)(x()),k=(0,a.Z)(O,2),T=k[0],B=k[1];(0,i.useEffect)((function(){B(x())}),[x,_.selectedStep.component_blueprints]);var P=(0,i.useCallback)((function(){var e,t;M(!1),(null===(e=null!==(t=null===h||void 0===h?void 0:h.split(", "))&&void 0!==t?t:[])||void 0===e?void 0:e.some((function(e){return(null===e||void 0===e?void 0:e.toLowerCase())==(null===T||void 0===T?void 0:T.field_name.toLowerCase())})))&&M(!0)}),[h,null===T||void 0===T?void 0:T.field_name]);(0,i.useEffect)((function(){P()}),[]),(0,i.useEffect)((function(){var e,t;M(!1),(null===(e=null!==(t=null===h||void 0===h?void 0:h.split(", "))&&void 0!==t?t:[])||void 0===e?void 0:e.some((function(e){return(null===e||void 0===e?void 0:e.toLowerCase())==(null===T||void 0===T?void 0:T.field_name.toLowerCase())})))&&M(!0)}),[y,h,P,null===T||void 0===T?void 0:T.field_name,null===_||void 0===_||null===(l=_.selectedStep)||void 0===l?void 0:l.component_blueprints]);var F=(0,i.useCallback)((function(e){!L&&(null===y||void 0===y?void 0:y.length)>0&&Z({type:c.Cb.updateComponentFieldKeyValue,value:{compBluePrintUUID:g,compBluePrintId:y,isInherited:!1,fieldId:f,visible:e,index:null===T||void 0===T?void 0:T.index,mandatory:0!=e&&("output"!==T.data_type&&(null===T||void 0===T?void 0:T.mandatory))}})}),[y,g,null===T||void 0===T?void 0:T.mandatory,f,L,Z,null===T||void 0===T?void 0:T.index]),D=(0,i.useCallback)((function(e){!L&&(null===y||void 0===y?void 0:y.length)>0&&Z({type:c.Cb.updateComponentFieldKeyValue,value:{compBluePrintUUID:g,compBluePrintId:y,isInherited:!1,fieldId:f,mandatory:"output"!==T.data_type&&e,index:null===T||void 0===T?void 0:T.index,visible:1==e||(null===T||void 0===T?void 0:T.visible)}})}),[y,g,null===T||void 0===T?void 0:T.visible,f,L,Z,null===T||void 0===T?void 0:T.index]);return Vl.createElement("div",{className:ul,"app-variant":L?"read-only":"editable","app-color":null!==T&&void 0!==T&&T.visible?"active":"inactive",tabIndex:"0"},Vl.createElement("div",{className:sl},Vl.createElement("p",{className:cl},null===T||void 0===T?void 0:T.field_name),Vl.createElement("p",{className:ml},(null===T||void 0===T?void 0:T.mandatory)&&"*")),Vl.createElement("p",{className:Cl},T.data_type_name),Vl.createElement("span",{className:pl},Vl.createElement("div",{className:vl,onClick:function(){D(!(null!==T&&void 0!==T&&T.mandatory))}},"output"!==T.data_type&&"ID"!==T.data_type_name&&Vl.createElement("span",{className:fl},null!==T&&void 0!==T&&T.mandatory?Vl.createElement(Oe.H_,{className:yl}):Vl.createElement("div",{className:gl})),"output"!==T.data_type&&"ID"!==T.data_type_name&&Vl.createElement("p",{className:hl},L?"":"Required")),"output"!==T.data_type&&"ID"!==T.data_type_name&&Vl.createElement(V.G,{icon:z.DD4,style:{marginRight:"5px",color:(null===_||void 0===_||null===(n=_.selectedStep)||void 0===n||null===(o=n.component_blueprints)||void 0===o||null===(r=o.find((function(e){return e.id===y})))||void 0===r||null===(d=r.options)||void 0===d?void 0:d.key)===(null===T||void 0===T?void 0:T.field_name)?"lightgray":"black"},onClick:C}),Vl.createElement(V.G,{icon:z.AiD,style:{marginRight:"5px",color:null!==_&&void 0!==_&&null!==(u=_.selectedStep)&&void 0!==u&&null!==(s=u.component_blueprints)&&void 0!==s&&null!==(m=s.find((function(e){return e.id===y})))&&void 0!==m&&null!==(p=m.options)&&void 0!==p&&null!==(v=p.left)&&void 0!==v&&v.find((function(e){return e===(null===T||void 0===T?void 0:T.field_name)}))?"black":"lightgray"},onClick:S}),Vl.createElement("div",{className:Sl,onClick:function(){F(!(null!==T&&void 0!==T&&T.visible))}},void 0==(null===T||void 0===T?void 0:T.visible)||null!==T&&void 0!==T&&T.visible?Vl.createElement(Oe.Ch,null):Vl.createElement(Oe.vV,null))))})),ql=function(e){var t,l=e.onComponentSelect,n=e.blueprint_components,o=(0,i.useState)(n),r=(0,a.Z)(o,1)[0],d=(0,i.useState)(!0),u=(0,a.Z)(d,2),s=u[0],c=u[1],m=(0,i.useState)({}),p=(0,a.Z)(m,2),f=p[0],y=p[1];return Vl.createElement("div",{className:Nl},s?Vl.createElement("div",{className:Ll,"app-display-variant":s?"table-row":"none"},Vl.createElement("div",{className:Il},Vl.createElement(se.yV,{placeholder:"Select component to attach ...",items:r.map((function(e){return{value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.name,type:!0===(null===e||void 0===e?void 0:e.readonly)?"Template":(0,v.m)(null===e||void 0===e?void 0:e.name)}})),id:"select-step-new-blueprint-component",initialSelectedValues:[],groupedBy:"type",groupname:"type",inputStyle:{cursor:"pointer"},className:Ol,inputClassName:Tl,molclassname:Bl,moliclassname:Pl,onChange:function(e){(null===e||void 0===e?void 0:e.length)>0?y(e[0]):y({value:"",label:""})}},Vl.createElement(V.G,{className:"fa-icon",icon:z.ptq,style:{marginRight:"20px",color:"gray"}})),(null===f||void 0===f||null===(t=f.value)||void 0===t?void 0:t.length)>0&&Vl.createElement("button",{type:"button",className:xl},Vl.createElement(Oe.H_,{onClick:function(){l(f),c((function(e){return!e}))}})))):Vl.createElement("p",{style:{textAlign:"center",marginBottom:"auto",color:"var(--app-color-gray-light)",fontFamily:"var(--app-text-main-font)",fontSize:"16px",marginTop:"20px",lineHeight:"32px"}},"Finish adding your previous component to add another."))},Kl=l(64468),Hl="StepData_multiselectWithSearch__FVnWX",Xl="StepData_smoMultiselectParent__kAn4t",Gl="StepData_selectMenuItem__i040a",Yl="StepData_inputClassName__U3j-5",Jl="StepData_peoplePositionsSelect__FZEAk",Ql="StepData_peoplePositionsSelectInput__4N5AT",$l="StepData_peoplePositionsSelectMenuOverlay__VU2s4",en="StepData_peoplePositionsSelectMenuOverlayItem__xI2Zj",tn=(0,i.createRef)(null),ln={parentSteps:{id:"parentStep",title:"Parent Step",placeholder:"Select steps here...",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},stepName:{id:"stepName",title:"Step Name",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},guidance:{id:"guidance",title:"Description",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},rank:{id:"rank",title:"Rank",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},newComponents:{id:"newComponents",title:"Components to be used in this step",defaultHighlighted:!0,readOnly:!0,otherContent:!0,withAckButton:!1,useContext:c.QJ},pathwayOptions:{id:"pathwayOptions",title:"Branch to the following steps",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},isFinalStep:{id:"isFinalStep",title:"Is this the final step of this workflow?",ungrouped:!0,withAckButton:!1,useContext:c.QJ},stepTemplate:{id:"stepTemplate",title:"Custom Template",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},showStepAll:{id:"showStep",title:"Show step to all?",ungrouped:!0,withAckButton:!1,useContext:c.QJ},showStepAuthor:{id:"showStepAuthor",title:"Only show step to author?",ungrouped:!0,withAckButton:!1,useContext:c.QJ},showAsTabbed:{id:"showAsTabbed",title:"Use tabs for components?",ungrouped:!0,withAckButton:!1,useContext:c.QJ},deleteOnBack:{id:"deleteOnBack",title:"Delete step inputs made on back?",ungrouped:!0,withAckButton:!1,useContext:c.QJ}},nn=l(74369),on=l(32086),an=l(67861),rn=["percentualWidth","children","style"],dn=function(e){var t=e.percentualWidth,l=e.children,o=e.style,a=(0,Ht.Z)(e,rn);return an.createElement("div",(0,Xt.Z)({style:(0,n.Z)({width:t},o)},a),l)},un=(0,r.$j)((function(e){var t=e.flowReducer;return{blueprints:t.blueprints,allStatutes:t.allStatutes,selectedProcess:t.selectedProcess,selectedProStep:t.selectedProStep,companyData:t.companyData,companyPositionsArray:t.companyPositionsArray}}),(function(e){return{onSetSelectedProStep:function(t){return e((0,m.Sc)(t))},onSetSelectedProStepOptions:function(t){return e((0,m.Jk)(t))}}}))((function(e){var t,l,r,u,s,m,y,g,h,C,S,b,E,_,Z,w,N,L,I,x,M,O,k,T,B,P,F,D,A,W,V,z,R,j,U,q,K,H,X,G,Y,J,Q=e.onSetSelectedProStep,$=e.selectedProcess,ee=e.companyPositionsArray,te=e.blueprints,le=(e.companyData,e.onEditChange),ne=void 0===le?function(){}:le,oe=(0,c._M)(),ae=(0,a.Z)(oe,2),ie=ae[0],re=ae[1],de=(0,i.useState)([]),ue=(0,a.Z)(de,2),ce=ue[0],me=ue[1],pe=(0,i.useState)(!1),ve=(0,a.Z)(pe,2),fe=ve[0],ye=ve[1],ge=(0,i.useState)([]),he=(0,a.Z)(ge,2),Ce=(he[0],he[1]),Se=(0,i.useState)(!1),be=(0,a.Z)(Se,2),Ee=(be[0],be[1]),_e=(0,i.useState)([]),Ze=(0,a.Z)(_e,2),we=(Ze[0],Ze[1]),Ne=(0,i.useState)(null!==(t=null===(l=ie.selectedStep)||void 0===l||null===(r=l.options)||void 0===r?void 0:r.useCustomTemplate)&&void 0!==t&&t),Le=(0,a.Z)(Ne,2),Ie=Le[0],xe=(Le[1],(0,i.useState)({parentSteps:"",stepName:"",estimatedTime:"",guidance:"",inheritedComponents:"",newComponents:"",pathwayOptions:""})),Me=(0,a.Z)(xe,2),ke=Me[0],Te=Me[1],Be=(0,v.DJ)();(0,i.useEffect)((function(){var e,t;0==(null===(e=ie.selectedStep)||void 0===e||null===(t=e.options)||void 0===t?void 0:t.is_start_next_process)&&re({type:c.Cb.updateSelectedStepPathways,value:(0,o.Z)(ie.selectedStep.pathway_steps)})}),[null===(u=ie.selectedStep)||void 0===u||null===(s=u.options)||void 0===s?void 0:s.is_start_next_process]),(0,i.useEffect)((function(){Fe()}),[ie.selectedStep]),(0,i.useEffect)((function(){ye(!0),(0,p.hI)({processId:$.id,parentsOnly:1}).pipe((0,d.P)()).subscribe({next:function(e){var t,l;(null===e||void 0===e?void 0:e.length)>0?Be()&&me((0,o.Z)(Bt.Z(nn.Z((function(e,t){return e.concat({rank:t.rank,label:t.name,value:t.id})}),[]),on.Z(Rt.Z("id",null===(l=ie.selectedStep)||void 0===l?void 0:l.id)))(e))):null!==(t=ie.selectedStep)&&void 0!==t&&t.isNewStep&&!zt.Z(Rt.Z("is_start",!0))(null===ie||void 0===ie?void 0:ie.steps)&&Be()&&me([]);Be()&&ye(!1),Be()&&Pe()},error:function(e){Be()&&ye(!1)}})}),[]);var Pe=function(){var e,t,l;"newDefaultStep"!==(null===(e=ie.selectedStep)||void 0===e?void 0:e.id)&&""!==(null===ie||void 0===ie||null===(t=ie.selectedStep)||void 0===t?void 0:t.id)&&(Ee(!0),(0,p.hI)({processId:$.id,pathways:1,forStepId:null===(l=ie.selectedStep)||void 0===l?void 0:l.id}).pipe((0,d.P)()).subscribe({next:function(e){if(e)try{var t,l,n,a,i,r,d=on.Z(Rt.Z("id",null===ie||void 0===ie||null===(t=ie.selectedStep)||void 0===t?void 0:t.id),null!==(l=null===e||void 0===e?void 0:e.steps)&&void 0!==l?l:[]),u=null!==(n=on.Z(Rt.Z("id",$.id),null!==(a=e.processes)&&void 0!==a?a:[]))&&void 0!==n?n:[],s=[].concat((0,o.Z)(null!==(i=null===d||void 0===d?void 0:d.map((function(e){return{value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.name,rank:null===e||void 0===e?void 0:e.rank,icon:Oe.CH,type:"step"}})))&&void 0!==i?i:[]),(0,o.Z)(null!==(r=null===u||void 0===u?void 0:u.map((function(e){return{value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.name,icon:Oe.IR,type:"process"}})))&&void 0!==r?r:[]));s&&(Ee(!1),Ce(s),Ee(!1)),we([].concat((0,o.Z)(d),(0,o.Z)(u)))}catch(c){Ee(!1)}else me([]),Ee(!1)},error:function(e){Ee(!1)}}))},Fe=(0,i.useCallback)((function(){}),[ie.steps,ie.selectedStep]),De=(0,o.Z)(nn.Z((function(e,t){return e.concat({value:t.id,label:t.name})}),[])(null!==(m=null===ie||void 0===ie||null===(y=ie.selectedStep)||void 0===y?void 0:y.parent_steps)&&void 0!==m?m:[])),Ae=null===ie||void 0===ie||null===(g=ie.selectedStep)||void 0===g||null===(h=g.pathway_processes)||void 0===h?void 0:h.concat(null===ie||void 0===ie||null===(C=ie.selectedStep)||void 0===C?void 0:C.pathway_steps),We=((null===Ae||void 0===Ae?void 0:Ae.length)>0&&(null===(S=qt.Z(Ae))||void 0===S||S.map((function(e){return null===e||void 0===e?void 0:e.name})).join(", ")),(0,i.useCallback)((function(){var e,t,l,o,a,i,r,d,u,s,c,m,p,v,f,y,g,h,C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",S={parentSteps:"Step must be connected to at least one other step",stepName:"Step name is mandatory",guidance:"Short description of step is mandatory",inheritedComponents:"Some inherited component have missing required information",newComponents:"Some new component have missing required informations",pathwayOptions:"Error inside Pathway Options"},b=(0,n.Z)({},ke);if(C)switch(C){case"stepName":b.stepName="string"==typeof(null===ie||void 0===ie||null===(e=ie.selectedStep)||void 0===e?void 0:e.name)&&(null===ie||void 0===ie||null===(t=ie.selectedStep)||void 0===t||null===(l=t.name)||void 0===l?void 0:l.length)>0?"":S.stepName;break;case"guidance":b.guidance="string"==typeof(null===ie||void 0===ie||null===(o=ie.selectedStep)||void 0===o?void 0:o.guidance)&&(null===ie||void 0===ie||null===(a=ie.selectedStep)||void 0===a||null===(i=a.guidance)||void 0===i?void 0:i.length)>0?"":S.guidance;break;case"newComponents":var E,_,Z,w,N;b.newComponents=Array.isArray(null===ie||void 0===ie||null===(E=ie.selectedStep)||void 0===E?void 0:E.component_blueprints)?S.newComponents:"";var L=null===ie||void 0===ie||null===(_=ie.selectedStep)||void 0===_||null===(Z=_.component_blueprints)||void 0===Z?void 0:Z.find((function(e){var t;return!(null!==e&&void 0!==e&&e.status)||""==(null===e||void 0===e?void 0:e.status)||""==(null===e||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id)}));L&&(b.newComponents="Invalid status in new blueprints components");var I=null===ie||void 0===ie||null===(w=ie.selectedStep)||void 0===w||null===(N=w.component_blueprints)||void 0===N?void 0:N.find((function(e){return!(null!==e&&void 0!==e&&e.title)||""==(null===e||void 0===e?void 0:e.title)}));I&&(b.newComponents+="\nInvalid title in new blueprints components");break;case"pathwayOptions":b.pathwayOptions=Array.isArray(null===ie||void 0===ie||null===(r=ie.selectedStep)||void 0===r?void 0:r.pathway_steps)&&Array.isArray(null===ie||void 0===ie||null===(d=ie.selectedStep)||void 0===d?void 0:d.pathway_processes)?"":S.pathwayOptions;break;default:b.stepName="string"==typeof(null===ie||void 0===ie||null===(u=ie.selectedStep)||void 0===u?void 0:u.name)&&(null===ie||void 0===ie||null===(s=ie.selectedStep)||void 0===s||null===(c=s.name)||void 0===c?void 0:c.length)>0?"":S.stepName,b.guidance="string"==typeof(null===ie||void 0===ie||null===(m=ie.selectedStep)||void 0===m?void 0:m.guidance)&&(null===ie||void 0===ie||null===(p=ie.selectedStep)||void 0===p||null===(v=p.guidance)||void 0===v?void 0:v.length)>0?"":S.guidance,b.inheritedComponents=Array.isArray(null===ie||void 0===ie||null===(f=ie.selectedStep)||void 0===f?void 0:f.component_blueprints)?"":S.inheritedComponents,b.newComponents=Array.isArray(null===ie||void 0===ie||null===(y=ie.selectedStep)||void 0===y?void 0:y.component_blueprints)?"":S.newComponents,b.pathwayOptions=Array.isArray(null===ie||void 0===ie||null===(g=ie.selectedStep)||void 0===g?void 0:g.pathway_steps)&&Array.isArray(null===ie||void 0===ie||null===(h=ie.selectedStep)||void 0===h?void 0:h.pathway_processes)?"":S.pathwayOptions}return Te(b),b}),[null===ie||void 0===ie?void 0:ie.selectedStep,ke])),Ve=!zt.Z(Rt.Z("is_start",!0))(on.Z(Rt.Z("id",ie.selectedStep.id),null===ie||void 0===ie?void 0:ie.steps))||1==(null===ie||void 0===ie||null===(b=ie.selectedStep)||void 0===b?void 0:b.is_start);return an.createElement("div",null,an.createElement(dn,{percentualWidth:"100%",style:{marginBottom:"10px"}},an.createElement(f.Lb,{title:"Step Name"}),an.createElement(f.n2,(0,Xt.Z)({},ln.stepName,{title:"",value:null===(E=ie.selectedStep)||void 0===E?void 0:E.name,sectionError:ke.stepName,onOpenChanged:function(e){!e&&We("stepName")}}),an.createElement(f.WH,{onControlTouched:function(){},placeholder:"Insert step name...",text:null===(_=ie.selectedStep)||void 0===_?void 0:_.name,onTextChanged:function(e){re({type:c.Cb.updateSelectedStepKeyValue,value:{name:e}}),Q({name:e})}}))),an.createElement(dn,{percentualWidth:"100%"},an.createElement(f.Lb,{title:"Description"}),an.createElement(f.n2,(0,Xt.Z)({},ln.guidance,{title:"",value:null===(Z=ie.selectedStep)||void 0===Z?void 0:Z.guidance,sectionError:ke.guidance}),an.createElement(f.WH,{plcHoffset:"0px",text:null===(w=ie.selectedStep)||void 0===w?void 0:w.guidance,placeholder:"Add description for step here...",onTextChanged:function(e){re({type:c.Cb.updateSelectedStepKeyValue,value:{guidance:e}}),Q({guidance:e})}}))),an.createElement(dn,{percentualWidth:"100%",style:{display:1==Ve?"none":""}},an.createElement(f.Lb,{title:"Connect Step To"}),an.createElement(f.n2,(0,Xt.Z)({},ln.parentSteps,{title:"",readOnly:Ve,value:(null===(N=ie.selectedStep)||void 0===N||null===(L=N.parent_steps)||void 0===L?void 0:L.length)>0?nn.Z((function(e,t){return e.concat(t.name)}),[])(qt.Z(null===(I=ie.selectedStep)||void 0===I?void 0:I.parent_steps)).map((function(e,t){return an.createElement(Kl.Vp,{key:"tag"+t},e)})):Ve?an.createElement(Kl.Vp,null,"Start of Workflow"):null,sectionError:ke.parentSteps,onOpenChanged:function(e){!e&&!Ve&&We("parentSteps")}}),fe&&an.createElement("span",{style:{display:"flex",width:"100%",justifyContent:"center",alignItems:"center"}},an.createElement(f.$j,{size:30,type:"ThreeDots"})),(null===ce||void 0===ce?void 0:ce.length)>0&&!Ve&&an.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"X",tagType:"step-plated",tagEmplacement:"inlined",triggerType:"eyeglass",initialSelectedItems:De,placeholder:"Search steps here...",className:Hl,inputClassName:Yl,molclassname:Xl,moliclassname:Gl,menuOverlayListItemStyle:{padding:"10px",maxWidth:"100%"},onChange:function(e){re({type:c.Cb.updateSelectedStepParentSteps,value:(0,o.Z)(nn.Z((function(e,t){return e.concat({rank:t.rank,name:t.label,id:t.value})}),[])(e))}),setTimeout(Fe(),0)},items:ce}),0!=(null===ce||void 0===ce?void 0:ce.length)||fe||1!=(null===ie||void 0===ie?void 0:ie.selectedStep.isNewStep)?null:an.createElement(Kl.Vp,{tagType:"step-plated"},"Start of Workflow"))),an.createElement(dn,{percentualWidth:"100%",style:{marginTop:"20px"}},an.createElement(f.Lb,{title:ln.newComponents.title}),an.createElement(Rl,{onEditChange:function(e,t){return ne(e,t)},showAddButton:!Ie,selectedProcess:$,blueprints:te,companyPositionsArray:ee})),an.createElement(dn,{percentualWidth:"100%",style:{marginTop:"20px"}},an.createElement(f.pd,(0,Xt.Z)({},ln.showAsTabbed,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null!==(x=null===(M=ie.selectedStep)||void 0===M||null===(O=M.options)||void 0===O?void 0:O.tabbed)&&void 0!==x&&x,toggleSelected:function(e){var t,l;re({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,n.Z)((0,n.Z)({},null===(t=ie.selectedStep)||void 0===t?void 0:t.options),{},{tabbed:e})}}),Q({options:(0,n.Z)((0,n.Z)({},null===(l=ie.selectedStep)||void 0===l?void 0:l.options),{},{tabbed:e})})}}))),an.createElement(dn,{percentualWidth:"100%",style:{marginTop:"20px",display:1==(null===(k=ie.selectedStep)||void 0===k?void 0:k.is_end)||1==(null===(T=ie.selectedStep)||void 0===T?void 0:T.is_start)?"none":""}},an.createElement(f.pd,(0,Xt.Z)({},ln.deleteOnBack,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null!==(B=null===(P=ie.selectedStep)||void 0===P||null===(F=P.options)||void 0===F?void 0:F.deleteOnBack)&&void 0!==B&&B,toggleSelected:function(e){var t,l;re({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,n.Z)((0,n.Z)({},null===(t=ie.selectedStep)||void 0===t?void 0:t.options),{},{deleteOnBack:e})}}),Q({options:(0,n.Z)((0,n.Z)({},null===(l=ie.selectedStep)||void 0===l?void 0:l.options),{},{deleteOnBack:e})})}}))),an.createElement(dn,{percentualWidth:"100%",style:{marginTop:"20px",display:1==(null===(D=ie.selectedStep)||void 0===D?void 0:D.is_end)?"none":""}},an.createElement(f.pd,(0,Xt.Z)({},ln.showStepAll,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null===(A=null===(W=ie.selectedStep)||void 0===W||null===(V=W.options)||void 0===V?void 0:V.showStepAll)||void 0===A||A,toggleSelected:function(e){var t,l;re({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,n.Z)((0,n.Z)({},null===(t=ie.selectedStep)||void 0===t?void 0:t.options),{},{showOnly:[],showStepAll:e})}}),Q({options:(0,n.Z)((0,n.Z)({},null===(l=ie.selectedStep)||void 0===l?void 0:l.options),{},{showOnly:[],showStepAll:e})})}}))),an.createElement(dn,{percentualWidth:"100%",style:{marginTop:"20px",display:0==(null===(z=ie.selectedStep)||void 0===z||null===(R=z.options)||void 0===R?void 0:R.showStepAll)?"":"none"}},an.createElement(f.pd,(0,Xt.Z)({},ln.showStepAuthor,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null!==(j=null===(U=ie.selectedStep)||void 0===U||null===(q=U.options)||void 0===q?void 0:q.showStepAuthor)&&void 0!==j&&j,toggleSelected:function(e){var t,l;re({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,n.Z)((0,n.Z)({},null===(t=ie.selectedStep)||void 0===t?void 0:t.options),{},{showOnly:[],showStepAuthor:e})}}),Q({options:(0,n.Z)((0,n.Z)({},null===(l=ie.selectedStep)||void 0===l?void 0:l.options),{},{showOnly:[],showStepAuthor:e})})}}))),an.createElement(f.jL,{style:{display:0==(null===(K=ie.selectedStep)||void 0===K||null===(H=K.options)||void 0===H?void 0:H.showStepAll)?"":"none",paddingLeft:"10px"},ungrouped:!0,title:"Only show this step to:",columned:!0,withAckButton:!1},an.createElement("br",null),an.createElement(se.Cm,{tagEmplacement:"inlined",searchable:!1,items:ee,groupedBy:"department",groupname:"department",triggerType:"chevron",initialSelectedValues:null===(X=ie.selectedStep)||void 0===X||null===(G=X.options)||void 0===G||null===(Y=G.showOnly)||void 0===Y?void 0:Y.map((function(e){return ee.find((function(t){return t.value===e}))})),className:Jl,inputClassName:Ql,molclassname:$l,moliclassname:en,onChange:function(e){var t,l;re({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,n.Z)((0,n.Z)({},null===(t=ie.selectedStep)||void 0===t?void 0:t.options),{},{showStepAuthor:!1,showOnly:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))})}}),Q({options:(0,n.Z)((0,n.Z)({},null===(l=ie.selectedStep)||void 0===l?void 0:l.options),{},{showStepAuthor:!1,showOnly:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))})})}})),an.createElement(f.pd,(0,Xt.Z)({},ln.isFinalStep,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null===(J=ie.selectedStep)||void 0===J?void 0:J.is_end,toggleSelected:function(e){var t,l;1==e?(Q({child_steps:[]}),re({type:c.Cb.updateSelectedStepKeyValue,value:{is_end:e,options:(0,n.Z)((0,n.Z)({},null===(t=ie.selectedStep)||void 0===t?void 0:t.options),{},{showOnly:[],showStepAll:!0})}}),Q({is_end:e,options:(0,n.Z)((0,n.Z)({},null===(l=ie.selectedStep)||void 0===l?void 0:l.options),{},{showOnly:[],showStepAll:!0})})):(re({type:c.Cb.updateSelectedStepKeyValue,value:{is_end:e}}),Q({is_end:e}))}})))})),sn="StepModal_host__e9qAE",cn="StepModal_titleContainer__rQtrC",mn="StepModal_contentContainer__ySA3D",pn="StepModal_saveButtonContainer__ysY+S",vn="StepModal_controls2__7XszY",fn=(l(55859),l(67861)),yn=(0,i.memo)((function(e){var t,l,r,u,s,y,g,h,C,S,b,E,_,Z,w,N,L,I,x,M=(0,i.useState)(""),O=(0,a.Z)(M,2),T=O[0],P=(O[1],e.visible),F=e.onClose,D=e.onSave,A=e.selectedProcess,W=e.companyProcesses,V=e.shadowedContainerStyle,z=void 0===V?{minWidth:"500px",width:""===T?"34%":"90%"}:V,j=e.onBoardingCompleted,U=e.onEditChange,q=void 0===U?function(){}:U,K=(0,c._M)(),H=(0,a.Z)(K,2),X=H[0],G=H[1],Y=(0,i.useState)(X.selectedStep),J=(0,a.Z)(Y,1)[0],Q=(0,c.QJ)(),$=(0,a.Z)(Q,2)[1],ee=(0,i.useState)(!1),te=(0,a.Z)(ee,2),le=te[0],ne=te[1],oe=(0,i.useState)(!1),ae=(0,a.Z)(oe,2),ie=ae[0],re=ae[1],ue=(0,i.useState)(""),se=(0,a.Z)(ue,2),ce=se[0],me=se[1],pe=e.onBoardingModalsVisibility,ve=(e.isOnboarding,pe.eightModalVisible),fe=pe.tenthModalVisible,ye=(0,i.useCallback)((function(e){G({type:c.Cb.unsetSelectedStep}),F&&F(e)}),[F,G]),ge=(0,i.useCallback)((function(e,t){return $({open:!0,activeElement:e,errors:(0,kt.Z)({},e,t)})}),[$]),he=(0,i.useCallback)((function(e){var t,l,n,o,a,i=!0,r=[];0==e.is_start&&0==(null===e||void 0===e||null===(t=e.parent_steps)||void 0===t?void 0:t.length)&&(i=!1,r.push((0,kt.Z)({},null===ln||void 0===ln||null===(o=ln.parent_steps)||void 0===o?void 0:o.id,"Invalid parent(s)")),ge(null===ln||void 0===ln||null===(a=ln.parentSteps)||void 0===a?void 0:a.id,"Invalid parent(s)"));return 1==e.is_start&&(null===(l=e.parent_steps)||void 0===l?void 0:l.length)>0&&(i=!1,r.push((0,kt.Z)({},ln.parentSteps.id,"Invalid parent(s)")),ge(ln.parentSteps.id,"Invalid parent(s)")),(null===(n=e.name)||void 0===n?void 0:n.length)<1&&(i=!1,r.push((0,kt.Z)({},ln.stepName.id,"Invalid name")),ge(ln.stepName.id)),i}),[null===X||void 0===X||null===(t=X.selectedStep)||void 0===t?void 0:t.component_blueprints,ge]),Ce=(0,i.useCallback)((function(){re(!0),(0,p.hI)({processId:null===A||void 0===A?void 0:A.id}).pipe((0,d.P)()).subscribe({next:function(e){if(e.length>0){G({type:c.Cb.setAllSteps,value:Bt.Z(Pt.Z(Ft.Z("rank")),Dt.Z(At.Z(Wt.Z("component_blueprints"),Dt.Z((function(e){return Tt.Z("_uuid",(0,v.mR)(),e)})))))(e)})}},error:function(e){re(!1)}})}),[A.id,G]),Se=(0,i.useCallback)((function(){var e=X.selectedStep;if(he(e)){var t,l,a,i,r,u,s,c;re(!0);var m=Bt.Z(Vt.Z(["id"]),zt.Z(Rt.Z("is_start",!0)))(X.steps),v=(null===m||void 0===m?void 0:m.length)>0&&m==(null===e||void 0===e?void 0:e.id)&&0===(null===e||void 0===e||null===(t=e.parent_steps)||void 0===t?void 0:t.length),f={name:null===e||void 0===e?void 0:e.name,guidance:null===e||void 0===e?void 0:e.guidance,procedure_id:null===e||void 0===e?void 0:e.procedure_id,duration:null===e||void 0===e?void 0:e.duration,is_start:v||(null===e||void 0===e?void 0:e.is_start),is_end:e.is_end,options:(0,n.Z)((0,n.Z)({},e.options),{},{layout:null!==(l=null===e||void 0===e?void 0:e.layout)&&void 0!==l?l:{}}),parent_steps:(0,o.Z)(Dt.Z(Vt.Z(["id"]))(null===e||void 0===e?void 0:e.parent_steps)),pathway_steps:null!==(a=null===e||void 0===e||null===(i=e.pathway_processes)||void 0===i?void 0:i.map((function(e){return e.id})))&&void 0!==a?a:[],pathway_processes:null!==(r=null===e||void 0===e||null===(u=e.pathway_processes)||void 0===u?void 0:u.map((function(e){return e.id})))&&void 0!==r?r:[],component_blueprints:(0,o.Z)(e.component_blueprints.map((function(e){return(0,n.Z)((0,n.Z)({},jt.Z(["_uuid"])(e)),{},{selected_fields:(0,o.Z)(Dt.Z(Ut.Z(["id","index","mandatory","visible","procedure_step_blueprint_field_id"]))(e.selected_fields))})}))),rank:+(null!==(s=null===e||void 0===e||null===(c=e.parent_steps)||void 0===c?void 0:c.reduce((function(e,t){return e<=+t.rank?e=+(null===t||void 0===t?void 0:t.rank):null}),0))&&void 0!==s?s:0)+1};(0,p.Ac)(f).pipe((0,d.P)()).subscribe({next:function(e){ve?k.h.dispatch((0,R.$6)({ninthModalVisible:!0})):fe&&k.h.dispatch((0,R.$6)({eleventhModalVisible:!0})),Ce(),re(!1),j?ye(!0):D()},error:function(e){re(!1)}})}}),[X,he,Ce,ye]),be=(0,i.useCallback)((function(){var e=X.selectedStep;if(he(e)){var t,l,a,i,r,u,s,f;re(!0);var y=Bt.Z(Vt.Z(["id"]),zt.Z(Rt.Z("is_start",!0)))(X.steps),g=(null===y||void 0===y?void 0:y.length)>0&&y==(null===e||void 0===e?void 0:e.id)&&0===(null===e||void 0===e||null===(t=e.parent_steps)||void 0===t?void 0:t.length),h=(0,n.Z)({name:null===e||void 0===e||null===(l=e.name)||void 0===l?void 0:l.trim(),guidance:null===e||void 0===e?void 0:e.guidance,procedure_id:null===e||void 0===e?void 0:e.procedure_id,duration:null===e||void 0===e?void 0:e.duration,is_start:g||(null===e||void 0===e?void 0:e.is_start),is_end:e.is_end,options:(0,n.Z)((0,n.Z)({},e.options),{},{layout:null!==(a=null===e||void 0===e?void 0:e.layout)&&void 0!==a?a:{}}),parent_steps:qt.Z((0,o.Z)(Dt.Z(Vt.Z(["id"]))(null===e||void 0===e?void 0:e.parent_steps))),pathway_steps:null!==(i=null===e||void 0===e||null===(r=e.pathway_steps)||void 0===r?void 0:r.map((function(e){return e.id})))&&void 0!==i?i:[],pathway_processes:null!==(u=null===e||void 0===e||null===(s=e.pathway_processes)||void 0===s?void 0:s.map((function(e){return e.id})))&&void 0!==u?u:[],component_blueprints:(0,o.Z)(e.component_blueprints.map((function(e){return(0,n.Z)((0,n.Z)({},jt.Z(["_uuid"])(e)),{},{status:null,selected_fields:(0,o.Z)(Dt.Z(Ut.Z(["id","index","mandatory","visible","procedure_step_blueprint_field_id"]))(e.selected_fields))})}))),rank:+e.rank},Kt.Z({ranking_steps:null===(f=Dt.Z(Kt.Z({id:Vt.Z(["id"]),rank:de.Z("rank")})).ranking_steps)||void 0===f?void 0:f.map((function(e){var t;return{id:e.id,rank:null!==(t=e.rank)&&void 0!==t?t:1e3}}))})(X.steps));(0,p.T5)(h,e.id,!0).pipe((0,d.P)()).subscribe({next:function(t){if(t.length>0){G({type:c.Cb.setAllSteps,value:Bt.Z(Pt.Z(Ft.Z("rank")),Dt.Z(At.Z(Wt.Z("component_blueprints"),Dt.Z((function(e){return Tt.Z("_uuid",(0,v.mR)(),e)})))))(t)})}k.h.dispatch((0,m.an)([].concat((0,o.Z)(W.filter((function(t){return t.id!==e.procedure_id}))),[(0,n.Z)((0,n.Z)({},A),{},{steps:t})]),1)),re(!1),ye(!0)},error:function(e){me(e.data),re(!1)}})}}),[ye,X.selectedStep,X.steps,Ce,G,he]),Ee=(0,i.useCallback)((function(){var e,t,l,n,o,a,i={},r="Please connect to a step",d="Step name is mandatory";(null===X||void 0===X?void 0:X.steps.length)>0&&(i.parentSteps=zt.Z(Rt.Z("is_start",!0))(null===X||void 0===X?void 0:X.steps)&&(null===X||void 0===X||null===(n=X.selectedStep)||void 0===n||null===(o=n.parent_steps)||void 0===o?void 0:o.length)>0||1==(null===X||void 0===X||null===(a=X.selectedStep)||void 0===a?void 0:a.is_start)?"":r);i.stepName="string"==typeof(null===X||void 0===X||null===(e=X.selectedStep)||void 0===e?void 0:e.name)&&(null===X||void 0===X||null===(t=X.selectedStep)||void 0===t||null===(l=t.name)||void 0===l?void 0:l.length)>0?"":d;var u,s=Object.values(i).every((function(e){return""===e}));((null===X||void 0===X?void 0:X.steps.length)>0&&ge(ln.parentSteps.id,i.parentSteps),ge(ln.parentSteps.id,i.parentSteps),ge(ln.stepName.id,i.stepName),ge(ln.newComponents.id,i.newComponents),s)||me("".concat(null!==(u=i.stepName)&&void 0!==u?u:""," ").concat(i.parentSteps));return s}),[le,null===X||void 0===X||null===(l=X.selectedStep)||void 0===l?void 0:l.pathway_processes,null===X||void 0===X||null===(r=X.selectedStep)||void 0===r?void 0:r.pathway_steps,null===X||void 0===X||null===(u=X.selectedStep)||void 0===u?void 0:u.component_blueprints,null===X||void 0===X||null===(s=X.selectedStep)||void 0===s?void 0:s.name,null===X||void 0===X||null===(y=X.selectedStep)||void 0===y||null===(g=y.parent_steps)||void 0===g?void 0:g.length,null===X||void 0===X?void 0:X.steps]),_e=(0,i.useCallback)((0,Ot.Z)((0,Mt.Z)().mark((function e(){var t;return(0,Mt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ne(!0),Ee()){e.next=4;break}return e.abrupt("return");case 4:null!==X&&void 0!==X&&null!==(t=X.selectedStep)&&void 0!==t&&t.isNewStep?Se():be();case 5:case"end":return e.stop()}}),e)}))),[Ee,J,Se,be]),Ze=(0,i.useCallback)((function(){var e;(null===J||void 0===J||null===(e=J.id)||void 0===e?void 0:e.length)>0&&("newDefaultStep"===(null===J||void 0===J?void 0:J.id)&&ye(),1!=J.is_start?(0,p.HP)(null===J||void 0===J?void 0:J.id).pipe((0,d.P)()).subscribe({next:function(e){var t;Ce(),G({type:c.Cb.removeStepById,value:null===(t=X.selectedStep)||void 0===t?void 0:t.id}),ye(!0)},error:function(){}}):me("First step cannot be deleted. Delete the procedure instead"))}),[ye,null===(h=X.selectedStep)||void 0===h?void 0:h.id,Ce,null===J||void 0===J?void 0:J.id,J.is_start,G]);return fn.createElement(f.U7,{scrollable:!0,shadowedContainerStyle:z,isOpen:P,blured:!0},fn.createElement("div",{style:{display:"flex"}},fn.createElement("div",{style:{width:""===T?"100%":"30%"}},fn.createElement("div",{className:sn},e.children,fn.createElement("div",{id:"scrollableDiv",ref:tn,className:mn},j&&fn.createElement("div",{className:cn},fn.createElement("p",null,"newDefaultStep"!==(null===X||void 0===X||null===(C=X.selectedStep)||void 0===C?void 0:C.id)&&""!==(null===X||void 0===X||null===(S=X.selectedStep)||void 0===S?void 0:S.id)?"Edit Step #".concat(null===X||void 0===X||null===(b=X.selectedStep)||void 0===b?void 0:b.rank):"New Step")),fn.createElement("div",{style:{flex:1}},fn.createElement(un,{onEditChange:function(e,t){return q(e,t)},selectedProcess:A})),ce&&fn.createElement(B.Z,{message:ce,onClick:function(){return me("")}}),fn.createElement("div",{className:j?pn:vn},!j&&fn.createElement(f.zx,{clear:!0,title:"",clicked:function(){}}),F&&!j&&fn.createElement(f.zx,{light:!0,title:"Back",clicked:ye}),F&&j&&fn.createElement(f.zx,{title:"Close",clicked:ye}),(null===X||void 0===X||null===(E=X.selectedStep)||void 0===E||null===(_=E.name)||void 0===_?void 0:_.length)>3&&!j&&fn.createElement(f.zx,{title:null!==X&&void 0!==X&&null!==(Z=X.selectedStep)&&void 0!==Z&&Z.isNewStep?"Save":"Update",loading:ie,clicked:_e}),(null===X||void 0===X||null===(w=X.selectedStep)||void 0===w||null===(N=w.name)||void 0===N?void 0:N.length)>3&&j&&fn.createElement(f.zx,{light:!0,title:null!==X&&void 0!==X&&null!==(L=X.selectedStep)&&void 0!==L&&L.isNewStep?"Save":"Update",loading:ie,clicked:_e}),"newDefaultStep"!==(null===X||void 0===X||null===(I=X.selectedStep)||void 0===I?void 0:I.id)&&""!==(null===X||void 0===X||null===(x=X.selectedStep)||void 0===x?void 0:x.id)&&fn.createElement(f.zx,{light:!0,title:"Delete",clicked:Ze})))))))})),gn=(0,r.$j)((function(e){var t=e.flowReducer;return{allStatutes:t.allStatutes,selectedProcess:t.selectedProcess,companyProcesses:t.companyProcesses,onBoardingCompleted:t.onBoardingCompleted,onBoardingModalsVisibility:e.modalsReducer.onBoardingModalsVisibility}}),(function(e){return{onSetSelectedProStep:function(t){return e((0,m.Sc)(t))}}}))(yn),hn=l(67861),Cn=function(e){var t,l=(0,te.s0)(),r=(e.onClose,e.selectedProcess),s=e.onResetSelectedProStep,g=e.blueprints,h=e.allModules,C=e.companyProcesses,S=e.workflowTemplates,b=e.onBoardingModalsVisibility,E=(0,i.useState)(!1),_=((0,a.Z)(E,2)[1],(0,i.useState)(!1)),Z=(0,a.Z)(_,2),w=Z[0],N=Z[1],L=(0,i.useState)(!1),I=(0,a.Z)(L,2),x=I[0],M=I[1],O=(0,i.useState)(!1),B=(0,a.Z)(O,2),P=B[0],F=B[1],D=(0,i.useState)(!1),A=(0,a.Z)(D,2),W=A[0],V=A[1],z=(0,i.useState)(!1),j=(0,a.Z)(z,2),U=j[0],K=j[1],H=(0,i.useState)(!1),X=(0,a.Z)(H,2),G=X[0],Y=X[1],J=(0,i.useState)(!1),Q=(0,a.Z)(J,2),$=Q[0],ee=Q[1],ne=(0,i.useState)(!1),ae=(0,a.Z)(ne,2),ie=ae[0],re=ae[1],de=(0,u.aL)(),se=(0,a.Z)(de,2),ce=(se[0],se[1]),me=(0,c._M)(),pe=(0,a.Z)(me,2),ve=pe[0],fe=(pe[1],(0,i.useState)(!1)),ye=(0,a.Z)(fe,2),ge=ye[0],he=ye[1],Ce=(0,i.useState)(!1),Se=(0,a.Z)(Ce,2),be=Se[0],Ee=Se[1],_e=(0,i.useState)(),Ze=(0,a.Z)(_e,2),we=Ze[0],Ne=Ze[1];document.title="".concat(r.name," | ").concat(v.iC);var Le=function(){1==ie&&((0,p.zJ)(r.id).pipe((0,d.P)()).subscribe({}),(0,ue.d7)(v.KI,v.RI).pipe((0,d.P)()).subscribe({})),k.h.dispatch((0,m.IW)(!0)),k.h.dispatch((0,m.Xc)({show:!1,message:""})),l("/dashboard")};return(0,i.useEffect)((function(){var e,t,l,n,o;""!==(null===r||void 0===r?void 0:r.name)&&((null===r||void 0===r||null===(e=r.steps)||void 0===e?void 0:e.length)>0||(null===r||void 0===r?void 0:r.steps)>0||(null===ve||void 0===ve||null===(t=ve.steps)||void 0===t?void 0:t.length)>0)?0===(null===(l=h.filter((function(e){return e.procedure.id===(null===r||void 0===r?void 0:r.id)})))||void 0===l?void 0:l.length)?k.h.dispatch((0,m.Xc)({show:!0,message:"You can now create modules. Modules are pages where your users can interact with the workflows and components you created. This is where transactions are created."})):(null===(n=h.filter((function(e){return e.procedure.id===(null===r||void 0===r?void 0:r.id)})))||void 0===n?void 0:n.length)>0&&1==(null===r||void 0===r||null===(o=r.steps)||void 0===o?void 0:o.length)&&k.h.dispatch((0,m.Xc)({show:!0,message:"To edit your step, click the box of your target step. The edit step modal will appear. There you can edit and update your step."})):""!==(null===r||void 0===r?void 0:r.name)&&(null===g||void 0===g?void 0:g.length)>0?1==r.created&&k.h.dispatch((0,m.Xc)({show:!0,message:"You have just created ".concat(null===r||void 0===r?void 0:r.name," workflow and modules. Kindly configure Modules. After doing this you can now use your workflow module.")})):""===(null===r||void 0===r?void 0:r.name)&&0==S.length&&(null===g||void 0===g?void 0:g.length)>0?(k.h.dispatch((0,m.Xc)({show:!0,message:"To begin building your Workflow, click the Edit button, enter name, description and save. You can also build components before creating your workflow."})),M(!0)):""===(null===r||void 0===r?void 0:r.name)&&S.length>0&&(null===g||void 0===g?void 0:g.length)>0?Ee(!0):0===(null===g||void 0===g?void 0:g.length)&&""===(null===r||void 0===r?void 0:r.name)&&k.h.dispatch((0,m.Xc)({show:!0,message:"To begin buiding your Workflow, start by creating blueprint components. Components are field data that you can use to gather information on your steps",action:function(){V(!0)}}))}),[h,r,g]),hn.createElement(hn.Fragment,null,hn.createElement("div",{className:xt.Z.host},hn.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},hn.createElement("div",{style:T.tq?{padding:"0 0 0 10px",position:"fixed",bottom:"0"}:{padding:"0 0 0 10px"}},hn.createElement(f.zx,{title:"Close",clicked:function(){return Le()}})),hn.createElement("div",{style:T.tq?{display:"flex"}:{xposition:"flex",right:"0",top:"0",display:"flex",flexDirection:"row",padding:"0 10px 0 0px"}},hn.createElement(bn,{onAddNewProcess:function(){M(!0)}}),""!==(null===r||void 0===r?void 0:r.name)&&(null===ve||void 0===ve||null===(t=ve.steps)||void 0===t?void 0:t.length)>0&&""!==(null===r||void 0===r?void 0:r.name)&&hn.createElement(En,{onAddNewModule:function(){(null===b||void 0===b?void 0:b.eleventhModalVisible)&&k.h.dispatch((0,R.$6)({twelvthModalVisible:!0})),ee(!0)}}),hn.createElement(Sn,{onAddNewComponent:function(){Ne(void 0),ce({type:u.qY.resetSelectedBlueprintComponent}),V(!0)}}),0===h.filter((function(e){return e.procedure.id===(null===r||void 0===r?void 0:r.id)})).length&&""!==(null===r||void 0===r?void 0:r.name)&&hn.createElement(f.j3,{permissions:[f.po.blueprints.process.delete]},hn.createElement(f.zx,{light:!0,title:"Delete",clicked:function(){return F(!0)}}),hn.createElement("span",{className:xt.Z.control})),hn.createElement(f.zx,{light:!0,icon:hn.createElement("img",{src:Oe.Fd}),style:{width:"50px"},clicked:function(){he(!0),(0,p.zJ)(r.id).pipe((0,d.P)()).subscribe({next:function(e){k.h.dispatch((0,m.Xu)(e)),k.h.dispatch((0,m.an)([].concat((0,o.Z)(C.filter((function(t){return t.id!==e.id}))),[e]),1)),he(!1)}}),(0,ue.d7)(v.KI,v.RI).pipe((0,d.P)()).subscribe({})},loading:ge}))),(null===g||void 0===g?void 0:g.length)>0&&hn.createElement("div",{className:xt.Z.processNameContainer}),hn.createElement(le.Z,{edit:!1,onEditStep:function(){(null===b||void 0===b?void 0:b.ninthModalVisible)&&k.h.dispatch((0,R.$6)({tenthModalVisible:!0})),N(!0)},onEditStepEnded:w,updateParent:function(e,t,l){!function(e,t,l){var n=null===ve||void 0===ve?void 0:ve.steps.find((function(t){return t.id===e}));if(n){he(!0);var a={name:n.name,parent_steps:1==l?qt.Z([].concat((0,o.Z)(qt.Z((0,o.Z)(Dt.Z(Vt.Z(["id"]))(null===n||void 0===n?void 0:n.parent_steps)))),[t])):qt.Z((0,o.Z)(Dt.Z(Vt.Z(["id"]))(null===n||void 0===n?void 0:n.parent_steps.filter((function(e){return e.id!==t})))))};(0,p.T5)(a,n.id,!0).pipe((0,d.P)()).subscribe({next:function(e){(0,p.zJ)(r.id).pipe((0,d.P)()).subscribe({next:function(e){return k.h.dispatch((0,m.Xu)(e))}}),he(!1)},error:function(e){he(!1)}})}}(e,t,l)},updateStep:function(e){!function(e){var t=e;if(t){he(!0);var l={options:null===t||void 0===t?void 0:t.options};(0,p.T5)(l,t.id,!0).pipe((0,d.P)()).subscribe({next:function(e){k.h.dispatch((0,m.an)([].concat((0,o.Z)(C.filter((function(e){return e.id!==t.procedure_id}))),[(0,n.Z)((0,n.Z)({},r),{},{steps:e})]),1))}})}}(e)}})),w&&hn.createElement(gn,{visible:w,onClose:function(e){re(e),s(),N(!1),M(!1),Y(!1)},onEditChange:function(e,t){V(!0),Ne(e)}}),P&&hn.createElement(f.U7,{isOpen:P,onClose:function(){return F(!1)},backdropColor:!0,blured:!0,shadowedContainerStyle:{minWidth:"600px",width:T.tq?"100%":"40%",height:"160px"}},hn.createElement("div",{className:xt.Z.deleteModalContainer},hn.createElement("div",{className:xt.Z.deleteModalTextContainer},hn.createElement("p",{className:xt.Z.deteteModalText},"Are you sure you want to delete this workflow?")),hn.createElement("div",{className:xt.Z.deleteModalButtonContainer},hn.createElement(f.zx,{title:"Delete",clicked:function(){return function(){var e;!(null!==r&&void 0!==r&&null!==(e=r.id)&&void 0!==e&&e.length)>0||(he(!0),(0,p.vo)(null===r||void 0===r?void 0:r.id).pipe((0,d.P)()).subscribe({next:function(e){F(!1),he(!1),re(!0),Le()},error:function(e){he(!1),F(!1)}}))}()},loading:ge}),hn.createElement(f.zx,{light:!0,title:"No, Go back",clicked:function(){return F(!1)}})))),W&&hn.createElement(It,{selectedComponent:we,visible:W,onClose:function(e){re(e),V(!1)},onUpdate:function(e){k.h.dispatch((0,m.an)(C.filter((function(e){return e.id!==r.id})),1))}}),U&&hn.createElement(It,{visible:U,onClose:function(){M(!1),Ee(!0),K(!1)},onUpdate:function(){k.h.dispatch((0,m.an)(C.filter((function(e){return e.id!==r.id})),1))}}),$&&hn.createElement(y.ZP,{onClose:function(){return ee(!1)},isOpen:$,modalStyle:{maxWidth:"500px"},selectedProcessId:null===r||void 0===r?void 0:r.id}),x&&hn.createElement(q,{onCreate:function(){M(!1),N(!0)},onClose:function(){return M(!1)},isOpen:x,modalStyle:{maxWidth:"500px"},selectedProcessId:null===r||void 0===r?void 0:r.id,selectedProcess:r,shadowedContainerStyle:{width:T.tq?"100%":"30%"}}),G&&hn.createElement(q,{onCreate:function(){M(!1),N(!0)},onClose:function(){l("/")},isOpen:G,modalStyle:{maxWidth:"500px"},selectedProcessId:null===r||void 0===r?void 0:r.id,selectedProcess:r,shadowedContainerStyle:{width:T.tq?"100%":"30%"}}),be&&hn.createElement(oe,{isOpen:be,onCreateBlank:function(){Y(!0),Ee(!1)},onClose:function(){Ee(!1)},gotoProcess:function(e){M(!1),Ee(!1),k.h.dispatch((0,m.Xu)({name:null===e||void 0===e?void 0:e.name,description:null===e||void 0===e?void 0:e.description,id:e.id,is_pinned:null===e||void 0===e?void 0:e.is_pinned,user_id:null===e||void 0===e?void 0:e.user_id,registered:!0,type:null===e||void 0===e?void 0:e.type,steps:null===e||void 0===e?void 0:e.steps,shared_positions:null===e||void 0===e?void 0:e.shared_positions,created:!0}))},gotoComponents:function(){M(!1),Ee(!1),K(!0),ce({type:u.qY.resetSelectedBlueprintComponent})},modalStyle:{maxWidth:"500px"},selectedProcessId:null===r||void 0===r?void 0:r.id,selectedProcess:r,shadowedContainerStyle:{width:"65%",minWidth:"400px"}}))},Sn=function(e){var t=e.onAddNewComponent;return hn.createElement(f.zx,{light:!0,title:"Component",clicked:t})},bn=function(e){var t=e.onAddNewProcess;return hn.createElement(f.zx,{light:!0,title:"Edit",clicked:t})},En=function(e){var t=e.onAddNewModule;return hn.createElement(f.zx,{titleStyle:{fontWeight:"bold"},title:"Module",clicked:t,style:{backgroundColor:"var(--app-color-blue)"}})},_n=(0,r.$j)((function(e){var t=e.flowReducer;return{selectedProcess:t.selectedProcess,blueprints:t.blueprints,allModules:t.allModules,companyProcesses:t.companyProcesses,workflowTemplates:t.workflowTemplates,onBoardingModalsVisibility:e.modalsReducer.onBoardingModalsVisibility}}),(function(e){return{onSetSelectedProStep:function(t){return e((0,m.Sc)(t))},onResetSelectedProStep:function(){return e((0,m.wv)())}}}))((function(e){return hn.createElement(s.jm,null,hn.createElement(c.FZ,null,hn.createElement(c.s_,null,hn.createElement(u.ij,null,hn.createElement(u.Xr,null,hn.createElement(Cn,e))))))}))},22590:function(e,t){t.Z={host:"ProcessInfo_host__+oaqg",processControls:"ProcessInfo_processControls__2tdBF",sharePosition:"ProcessInfo_sharePosition__FqHsX",addStep:"ProcessInfo_addStep__uYhIL",addComponent:"ProcessInfo_addComponent__ZNJnb",buttonWrapper:"ProcessInfo_buttonWrapper__TYYT4",addStepTooltip:"ProcessInfo_addStepTooltip__rWSLm",addComponentTooltip:"ProcessInfo_addComponentTooltip__x6Vlz",messageContainer:"ProcessInfo_messageContainer__Ymk+d",title:"ProcessInfo_title__6a6i3",message:"ProcessInfo_message__kMz1c",customCheckbox:"ProcessInfo_customCheckbox__OHBxP",checkmark:"ProcessInfo_checkmark__jqo8a",closeButton:"ProcessInfo_closeButton__Xqtn-",control:"ProcessInfo_control__tSGLd",processNameContainer:"ProcessInfo_processNameContainer__EsIer",tutorialWrapper:"ProcessInfo_tutorialWrapper__Ijpgx",tutorialContainer:"ProcessInfo_tutorialContainer__6VGmK",processChartWrapper:"ProcessInfo_processChartWrapper__Q4jCW","react-tabs__tab--selected":"ProcessInfo_react-tabs__tab--selected__kT6jO","css-1hwfws3":"ProcessInfo_css-1hwfws3__oWVI5","css-1okebmr-indicatorSeparator":"ProcessInfo_css-1okebmr-indicatorSeparator__-YC+I","css-1gsw4b3":"ProcessInfo_css-1gsw4b3__9qcid","process-name":"ProcessInfo_process-name__nJ2CH","process-description":"ProcessInfo_process-description__C24Ws",container:"ProcessInfo_container__0EX6d",arrow_type2:"ProcessInfo_arrow_type2__VA3Ze","combined-shape":"ProcessInfo_combined-shape__WjWTZ","saved-description":"ProcessInfo_saved-description__Z5PuF",helper:"ProcessInfo_helper__7xoR9","rectangle-copy-4":"ProcessInfo_rectangle-copy-4__yjPo2",rectangle:"ProcessInfo_rectangle__kG0GD","rectangle-2":"ProcessInfo_rectangle-2__g+vZ8","rectangle-copy-3":"ProcessInfo_rectangle-copy-3__27bVn","new-step-modal":"ProcessInfo_new-step-modal__ur8v3","process-name-container":"ProcessInfo_process-name-container__noEII","input-search":"ProcessInfo_input-search__WA0Hv","editable-rectangle":"ProcessInfo_editable-rectangle__GgZ++",shareProcessHost:"ProcessInfo_shareProcessHost__k6ClQ",shareModalCloseButtonContainer:"ProcessInfo_shareModalCloseButtonContainer__4RcY9",shareModalCloseButton:"ProcessInfo_shareModalCloseButton__d19L0",shareModalClosebuttonImage:"ProcessInfo_shareModalClosebuttonImage__ctaAE",shareImage:"ProcessInfo_shareImage__MMQSA",shareProcessTitle:"ProcessInfo_shareProcessTitle__NcNb-",selectComponentContainer:"ProcessInfo_selectComponentContainer__ZGHp7",selectComponentTite:"ProcessInfo_selectComponentTite__HIPH3",selectComponent:"ProcessInfo_selectComponent__AqNdw",selectClearControlsClassName:"ProcessInfo_selectClearControlsClassName__2JBX7",selectListContainer:"ProcessInfo_selectListContainer__P13gF",shareButtonContainer:"ProcessInfo_shareButtonContainer__EmjbT",multiSelectContainer:"ProcessInfo_multiSelectContainer__cJOx5",multiselectComponent:"ProcessInfo_multiselectComponent__gZpac",multiSelectSearchInput:"ProcessInfo_multiSelectSearchInput__YmtV7",multiSelectMenuOverlayList:"ProcessInfo_multiSelectMenuOverlayList__MgB5l",multiSelectMenuOverlayListItem:"ProcessInfo_multiSelectMenuOverlayListItem__gW5lT",showTutorialContainer:"ProcessInfo_showTutorialContainer__pHXUK",deleteModalContainer:"ProcessInfo_deleteModalContainer__zJS6K",deleteModalTextContainer:"ProcessInfo_deleteModalTextContainer__23irp",deleteModalImage:"ProcessInfo_deleteModalImage__blHCS",deteteModalText:"ProcessInfo_deteteModalText__fp5WW",deleteModalButtonContainer:"ProcessInfo_deleteModalButtonContainer__dBunM",deleteModalCancelButton:"ProcessInfo_deleteModalCancelButton__9lDvo",errorContainer:"ProcessInfo_errorContainer__50zTL",paragraphNameContainer:"ProcessInfo_paragraphNameContainer__qBr8V",paragraphDescriptionContainer:"ProcessInfo_paragraphDescriptionContainer__1YFKM",rightSideContainer:"ProcessInfo_rightSideContainer__NWma5",usersHost:"ProcessInfo_usersHost__kRtg+"}}}]);
//# sourceMappingURL=67.1983b34e.chunk.js.map