"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[654,110],{57273:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var i=n(87462),a=n(74165),l=n(15861),r=n(1413),o=n(93433),c=n(29439),s=n(67861),u=n(39518),m=(n(60940),n(79492),n(43984)),p=n(88374),d=n(71982),f={companyHost:"BillingInfo_companyHost__SHdHY",billingInfoHost:"BillingInfo_billingInfoHost__v7cHk",selectControl:"BillingInfo_selectControl__Vt3TJ",menuOverlayList:"BillingInfo_menuOverlayList__gNvLt","react-datepicker-wrapper":"BillingInfo_react-datepicker-wrapper__DvFS1",tasksTableHost:"BillingInfo_tasksTableHost__WPCKQ",tableHost:"BillingInfo_tableHost__ZHzUb",sectionTitle:"BillingInfo_sectionTitle__IzrGv",formWrapper:"BillingInfo_formWrapper__h8oSs",toggleDayPicker:"BillingInfo_toggleDayPicker__3ynTT",form:"BillingInfo_form__NWku+",inputField:"BillingInfo_inputField__BqFYx",noPaymentInfo:"BillingInfo_noPaymentInfo__ShCOz",containerWrapper:"BillingInfo_containerWrapper__XSz4R",inputWrapper:"BillingInfo_inputWrapper__s51O+",errorParagraph:"BillingInfo_errorParagraph__HhNov",trialContainer:"BillingInfo_trialContainer__bYiBP",trialTitle:"BillingInfo_trialTitle__COL72",dashboardTitle:"BillingInfo_dashboardTitle__5kHjX",subTitle:"BillingInfo_subTitle__wV9n1",trialText:"BillingInfo_trialText__f9goq",trialButton:"BillingInfo_trialButton__yZUgc",updateButton:"BillingInfo_updateButton__fppRx",plansContainer:"BillingInfo_plansContainer__Ohk+7",additionalPlanContainer:"BillingInfo_additionalPlanContainer__PJpPY",planTitle:"BillingInfo_planTitle__bpnTr",planDescriptionContainer:"BillingInfo_planDescriptionContainer__VVA0e",planPrice:"BillingInfo_planPrice__IjtDU",planDescription:"BillingInfo_planDescription__hQKXm",planButton:"BillingInfo_planButton__Us8Kv",month:"BillingInfo_month__EQy1u",currentInvoicesContainer:"BillingInfo_currentInvoicesContainer__ryD63",logoutButton:"BillingInfo_logoutButton__RwI2T",boxesHost:"BillingInfo_boxesHost__myZ4y",products:"BillingInfo_products__9Ucy2",checkoutRightContainer:"BillingInfo_checkoutRightContainer__uzOpS",productsContainer:"BillingInfo_productsContainer__qQwdu",servicesContainer:"BillingInfo_servicesContainer__Gm22k",hr:"BillingInfo_hr__jyJEL",endingMessage:"BillingInfo_endingMessage__3hlqh",userPanelHost:"BillingInfo_userPanelHost__vNdI4",userPanelRows:"BillingInfo_userPanelRows__BE5Q9",plansHost:"BillingInfo_plansHost__IPD8J",wallet:"BillingInfo_wallet__EO6K9"},g=n(96189),_=n(11577),h=n(10103),v=n(34710),y=n(87381),b=n(50981),E=n.n(b),x=n(27658),w=n(90369),C=n(23280),k=n(61616),I=n(71302),B="CancelMembership_membershipHost__fCag6",N="CancelMembership_cancelDescription__gv+nz",S="CancelMembership_benefitContainer__vZJ9H",P="CancelMembership_benefitTitle__RVht7",T="CancelMembership_benefitDescription__jo63S",H="CancelMembership_buttonsContainer__0qOe-",Z="CancelMembership_unsubscribeButton__CExEY",D="CancelMembership_continueUnsubscribeButton__sJVdv",M="CancelMembership_dontContinueButton__ofaCy",A="CancelMembership_questionaireContainer__PPjA4",W=n(89293),z=n(67861);var R,O=function(e){var t,n=e.onCancelMembership,i=e.onClose,a=(0,s.useState)(!1),l=(0,c.Z)(a,2),o=l[0],u=l[1],m=(0,s.useState)([]),p=(0,c.Z)(m,2),d=p[0],f=p[1],_=(0,s.useState)(0),h=(0,c.Z)(_,2),v=h[0],y=h[1],b=(0,s.useState)([]),E=(0,c.Z)(b,2),x=E[0],w=E[1],C=(0,s.useState)(!1),k=(0,c.Z)(C,2),I=k[0],R=k[1];return(0,s.useEffect)((function(){f([{id:0,question:"Why are you cancelling your subscription?",answer:""},{id:1,question:"What would have made you keep using ".concat(W.iC,"?"),answer:""},{id:2,question:"Would you ever reconsider using ".concat(W.iC," in the future?"),answer:""}]),w([{title:"Real-Time Company-Wide Workflow Updates:",description:"The moment you change a workflow in ".concat(W.iC,", it immediately and automatically updates for everyone. No more need for extra notifications, training, etc. The next time someone follows that workflow, the latest version is always there.")},{title:"An Org Chart That's Actually Useful:",description:"No more static drawings. ".concat(W.iC," is helping teams around the world understand exactly where they are in the org, who they're reporting to, and how the company operates. It's also helping managers share specific workflows and information only with specific roles.")},{title:"Full Transparency Of Every Moving Piece:",description:"".concat(W.iC,"'s Components system is empowering thousands of professionals to spend way less time updating spreadsheets and way more time doing the actual work they want to do! Everything everyone does in the company is automatically saved and timestamped.")},{title:"And A Dozen Other Benefits",description:"Such as automatic issue/delay escalations up the management chain, the ability to create Procedure Flows to see how specific people or deliverables are flowing through your workflows, and so much more."}])}),[]),z.createElement(s.Fragment,null,o?z.createElement("div",null,z.createElement("div",{className:B},"A Few Questions Before You Go",z.createElement("p",{className:N},d[v].question)),z.createElement("div",{className:A},z.createElement("textarea",{type:"text",name:"textarea",rows:3,className:"textAreaStyle_T",value:null!==(t=d[v].answer)&&void 0!==t?t:"",onChange:function(e){f(d.map((function(t){return t.id===v?(0,r.Z)((0,r.Z)({},d[v]),{},{answer:e.target.value}):t})))}})),z.createElement("br",null),z.createElement("div",{className:B},z.createElement("div",{className:H},z.createElement(g.zx,{className:D,clicked:function(){v+1===d.length?R(!0):y(v+1)},title:"Continue"})),z.createElement("span",{className:N},"Question ".concat(v+1," of ").concat(d.length)))):z.createElement("div",{className:B},"Cancel Your Subscription",z.createElement("p",{className:N},"Are you sure you want to cancel your subscription?",z.createElement("br",null),"You will lose the following benefits:"),x.map((function(e,t){return z.createElement("div",{key:t,className:S},z.createElement("p",{className:P},e.title),z.createElement("p",{className:T},e.description))})),z.createElement("div",{className:H},z.createElement(g.zx,{className:Z,clicked:function(){u(!0)},title:"Cancel Subscription"})),z.createElement("div",{className:H},z.createElement(g.zx,{className:M,clicked:function(){i()},title:"Don't Cancel Subscription"}))),z.createElement(U,{giveThanks:I,onClose:function(){return i()},onCancelMembership:function(){return n({reasons:d})}}))},U=function(e){var t=e.giveThanks,n=e.onClose,i=e.onCancelMembership;return z.createElement(g.U7,{isOpen:t,shadowedContainerStyle:{width:"30%",minWidth:"400px",paddingTop:"40px",paddingBottom:"40px"},onClose:function(){return n()},scrollable:!0,blured:!0},z.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},z.createElement("img",{alt:"",src:I.f_G}),z.createElement("p",{style:{marginTop:"10px",fontFamily:"var(--app-text-main-font)",fontSize:"24px",fontWeight:"600",color:"blue",marginBottom:"5px",textAlign:"center"}},"Thank You For Answering",z.createElement("br",null),"The Questionaire!"),z.createElement(g.zx,{className:M,style:{width:"100px"},clicked:function(){return i()},title:"Close"})))},Y=n(27436),q=n(30994),F=n(46415),j=n(73500),Q=n(72864),J=n(75105),K=n(32588);n(87424);function G(e){var t=e.columns,n=e.data,a=e.cl,l=void 0===a?f.tasksTableHost:a,r=(0,w.useTable)({columns:t,data:n}),o=r.getTableProps,c=r.getTableBodyProps,u=r.headerGroups,m=r.rows,p=r.prepareRow;return s.createElement("div",{className:l},s.createElement("table",o(),s.createElement("thead",null,u.map((function(e){return s.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return s.createElement("th",e.getHeaderProps(),e.render("Header"))})))}))),s.createElement("tbody",c(),m.map((function(e,t){return p(e)||s.createElement("tr",(0,i.Z)({key:t},e.getRowProps()),e.cells.map((function(e){return s.createElement("td",e.getCellProps(),e.render("Cell"))})))})))))}var V=(0,u.$j)((function(e){var t=e.authReducer,n=t.authenticatedUser.position,i=t.authenticatedUser,a=e.flowReducer;return{companyData:a.companyData,companyPositionsArray:a.companyPositionsArray,position:n,companyUsersArray:a.companyUsersArray,billable:a.billable,billProducts:a.billProducts,authenticatedUser:i}}),(function(e){return{onSetCompanyDataField:function(t){return e((0,p.QK)(t))},onSetAuthenticatedUserPosition:function(t){return e((0,m.IF)(t))},onTutorialModalOpen:function(t){return e((0,d.ay)(t))}}}))((function(e){var t,n,i,m,d=(0,s.useState)(null),w=(0,c.Z)(d,2),I=w[0],B=w[1],N=e.companyData,S=e.onSetCompanyDataField,P=e.companyUsersArray,T=e.billable,H=e.billProducts,Z=e.authenticatedUser,D=((0,s.useRef)(),(0,u.I0)()),M=(0,s.useState)(""),A=(0,c.Z)(M,2),z=A[0],U=(A[1],(0,s.useState)([])),V=(0,c.Z)(U,2),X=V[0],$=V[1],ee=(0,s.useState)([]),te=(0,c.Z)(ee,2),ne=te[0],ie=te[1],ae=(0,s.useState)(!1),le=(0,c.Z)(ae,2),re=le[0],oe=le[1],ce=(0,s.useState)([]),se=(0,c.Z)(ce,2),ue=se[0],me=se[1],pe=(0,s.useState)(0),de=(0,c.Z)(pe,2),fe=de[0],ge=de[1],_e=(0,s.useState)(!1),he=(0,c.Z)(_e,2),ve=he[0],ye=he[1],be=(0,s.useState)(-1),Ee=(0,c.Z)(be,2),xe=Ee[0],we=Ee[1],Ce=(0,s.useState)({end_date:""}),ke=(0,c.Z)(Ce,2),Ie=ke[0],Be=ke[1],Ne=(0,s.useState)([]),Se=(0,c.Z)(Ne,2),Pe=Se[0],Te=Se[1],He=(0,s.useState)(null),Ze=(0,c.Z)(He,2),De=(Ze[0],Ze[1]),Me=(0,s.useState)(!1),Ae=(0,c.Z)(Me,2),We=Ae[0],ze=Ae[1],Re=(0,s.useState)(P.filter((function(e){return new Date(e.validity)<(0,b.now)()}))),Oe=(0,c.Z)(Re,2),Ue=Oe[0],Ye=Oe[1],qe=(0,s.useState)([]),Fe=(0,c.Z)(qe,2),je=Fe[0],Qe=Fe[1],Je=(N.name,(0,s.useState)(!1)),Ke=(0,c.Z)(Je,2),Ge=Ke[0],Ve=Ke[1],Le=(0,C.UO)().hash,Xe=(0,s.useState)({name:"",founding_date:"",employees_no:"",industry:"",description:"",position:"",misc_info:""}),$e=((0,c.Z)(Xe,1)[0],(0,s.useState)({name:!1,founding_date:!1,employees_no:!1,industry:!1,description:!1,position:!1}));(0,c.Z)($e,2)[1],document.title="Billing | ".concat(W.iC),(0,s.useEffect)((function(){(null===Le||void 0===Le?void 0:Le.length)>0&&(null===T||void 0===T?void 0:T.id.length)>0&&(null===T||void 0===T?void 0:T.id)===Le&&T.subscriptionInfo.billable_users.filter((function(e,t){var n,i;(0,J.TP)(e.id,e.first_name,e.last_name,e.phone,null,"".concat(E()().add(null!==(n=null===(i=T.subscriptionInfo)||void 0===i?void 0:i.duration)&&void 0!==n?n:30,"days").format("YYYY-MM-DD HH:mm:ss"))).pipe((0,_.P)()).subscribe({next:function(){var e,n;t===T.subscriptionInfo.billable_users.length-1&&(0,x.Iv)({id:null===T||void 0===T?void 0:T.id,total:T.subscriptionInfo.total,product:T.subscriptionInfo.plan,quantity:1,ends_at:"".concat(E()().add(null!==(e=null===(n=T.subscriptionInfo)||void 0===n?void 0:n.duration)&&void 0!==e?e:30,"days").format("YYYY-MM-DD HH:mm:ss"))}).pipe((0,_.P)()).subscribe({next:function(){return Ve(!0)}})}})})),0==P.length&&Z.is_admin&&(0,J.AW)().pipe((0,h.q)(1)).subscribe({})}),[]);var et=(0,s.useCallback)((function(e){var t=[];0!==(null===e||void 0===e?void 0:e.length)&&(e.map((function(e){return t.push({description:e.description,total:null===e||void 0===e?void 0:e.invoice_total,status:e.status,date:E()(e.invoice_date).format("MMMM Do, YYYY"),url:s.createElement("a",{href:e.invoice_url,target:"_blank",rel:"noreferrer"},"View Invoice")})})),me(t))}),[]),tt=(0,s.useCallback)((function(e){var t=[];0!==(null===e||void 0===e?void 0:e.length)&&(e.map((function(e){return t.push({description:e.stripe_product,total:(+(null===e||void 0===e?void 0:e.stripe_price)).toFixed(2),status:e.stripe_status,date:E()(e.starts_at).format("MMMM Do, YYYY"),url:"",id:"".concat(e.stripe_id).substring(0,13),user:null===e||void 0===e?void 0:e.user_id})})),me(t))}),[]);(0,s.useEffect)((function(){""===q.lw&&(0,x.hZ)().pipe((0,_.P)()).subscribe({next:function(e){var t;$(e.product),ie(e.prices);var n=null===e||void 0===e||null===(t=e.product)||void 0===t?void 0:t.find((function(e){return"User Subscription"===e.name}));if(n){var i=[];Object.entries(n.metadata).map((function(e){e[1]=JSON.parse(e[1]),i.push(e)})),i=Object.fromEntries(i),(0,x.Ik)().pipe((0,_.P)()).subscribe({next:function(e){if(Te(e.services),void 0!=e.services&&e.services.length>0){var t=new Date(Math.max.apply(Math,(0,o.Z)(e.services.map((function(e){return new Date(e.ends_at)})))));t>(0,b.now)()&&De(t)}if(void 0!==e.subscription){var a,l=new Date(e.subscription.start_date),c=new Date(l.setMonth(l.getMonth()+1)),s=null!==(a=N.billable_users)&&void 0!==a?a:0;Object.entries(i).map((function(t){if(s<=t[1].max&&s>=t[1].min){var i=new Intl.NumberFormat("en-US",{style:"currency",currency:t[1].currency});Be((0,r.Z)((0,r.Z)({},e.subscription),{},{end_date:c.toDateString(),plan:t[0],plan_price:"".concat(t[1].currency," ").concat(i.format(t[1].price)),price_code:n.default_price,total:"".concat(t[1].currency," ").concat(i.format(t[1].price*s))})),S({billing_info:e.billing_info})}}))}else if("Company still on trial"===e.message){var u,m=null!==(u=N.billable_users)&&void 0!==u?u:0;Object.entries(i).map((function(e){if(m<=e[1].max&&m>=e[1].min){var t=new Intl.NumberFormat("en-US",{style:"currency",currency:e[1].currency});Be({plan:e[0],plan_price:"".concat(e[1].currency," ").concat(t.format(e[1].price)),price_code:n.default_price,total:"".concat(e[1].currency," ").concat(t.format(e[1].price*m))})}}))}},error:function(){}})}},error:function(){}}),""===q.lw?(0,x.sA)().pipe((0,_.P)()).subscribe({next:function(e){e.invoices&&et(e.invoices)},error:function(){}}):(0,x.GP)().pipe((0,_.P)()).subscribe({next:function(e){e.data&&tt(e.data)},error:function(){}}),D((0,p.IW)(!0)),D((0,p.tR)(!1))}),[]);var nt=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(t){var n,i,l,r,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.price,i={lineItems:[{price:n,quantity:1}],mode:"payment",billingAddressCollection:"required",customerEmail:N.billing_info.email,clientReferenceId:N.billing_info.id,successUrl:"".concat(window.location.origin,"/success"),cancelUrl:"".concat(window.location.origin,"/cancel")},e.next=5,R||(R=(0,y.J)("pk_test_")),R;case 5:return l=e.sent,oe(!0),e.next=9,l.redirectToCheckout(i);case 9:r=e.sent,(o=r.error)&&B(o.message),oe(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),it=function(e,t){return Object.keys(e).length>0&&Object.keys(e).map((function(n,i){var a=JSON.parse(e[n]),l=0!=Pe.length&&Pe.filter((function(e){return new Date(e.ends_at).getTime()>(0,b.now)()&&e.stripe_price===a.price_code&&e.stripe_product===t})).length>0;return s.createElement(g.zx,{disabled:l,key:i,className:f.planButton,lighter:!0,style:{marginBottom:"4px"},loading:re,title:"Basic"===n?"Purchase Now":"Subscribe for "+n,clicked:function(){rt("/checkout",{state:{service_name:t,price:a}})}})}))},at=s.useMemo((function(){return[{Header:function(){return s.createElement("span",null,s.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px",color:"white"},alt:""}),"Payment ID")},accessor:"id"},{Header:function(){return s.createElement("span",null,s.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px",color:"white"},alt:""}),"Invoice Date")},accessor:"date"},{Header:function(){return s.createElement("span",null,s.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px"},alt:""}),"Description")},accessor:"description"},{Header:function(){return s.createElement("span",null,s.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px"},alt:""}),"Notes")},accessor:"status"},{Header:function(){return s.createElement("span",null,s.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px"},alt:""}),"Invoice Total")},accessor:"total"}]}),[]),lt=s.useMemo((function(){return[{Header:function(){return s.createElement("span",null,s.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px"},alt:""}),"Username")},accessor:"username"},{Header:function(){return s.createElement("span",null,s.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px",color:"white"},alt:""}),"First Name")},accessor:"first_name"},{Header:function(){return s.createElement("span",null,s.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px"},alt:""}),"Last Name")},accessor:"last_name"},{Header:function(){return s.createElement("span",null,s.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px"},alt:""}),"Email")},accessor:"email"},{Header:function(){return s.createElement("span",null,s.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px"},alt:""}),"Validity")},accessor:"validity"}]}),[]),rt=(0,C.s0)();return s.createElement("div",{className:f.billingInfoHost,style:{margin:"200px 0 0 0",padding:"0 0 0 10%"}},s.createElement(k.Z,{headerTitle:"Billing",targetProcessing:!1}),s.createElement(g.j3,{permissions:[g.po.billing.view]},s.createElement("div",{style:{display:"flex"}},s.createElement("div",{className:f.currentInvoicesContainer,style:{minWidth:"200px",display:"on_trial"===N.status||"trial_ended"===N.status||"inactive"===N.status?"":"none"}},s.createElement("p",{className:f.dashboardTitle},"Active Plan"),s.createElement("p",{className:f.trialText,style:{fontWeight:"100",fontSize:"inactive"===N.status?"16px":"20px",textAlign:"center"}},"on_trial"===N.status?"Trial (".concat(parseInt((new Date(N.trial_ends_at).getTime()-(0,b.now)())/864e5)," days left)"):"inactive"===N.status?"Expired. Subscription required":"Trial Ended")),s.createElement("div",{className:f.currentInvoicesContainer,style:{minWidth:"200px"}},s.createElement("p",{className:f.dashboardTitle},"Total Users"),s.createElement("p",{className:f.trialText,style:{fontWeight:"100",textAlign:"center"}},null!==(t=null===P||void 0===P?void 0:P.length)&&void 0!==t?t:"")),s.createElement("div",{className:f.currentInvoicesContainer,style:{minWidth:"200px",display:"on_trial"===N.status||"trial_ended"===N.status?"none":""}},s.createElement("p",{className:f.dashboardTitle},"Subscribed Users"),s.createElement("p",{className:f.trialText,style:{fontWeight:"100",textAlign:"center"}},(null!==(n=null===P||void 0===P?void 0:P.length)&&void 0!==n?n:0)-Ue.length)),s.createElement("div",{className:f.currentInvoicesContainer,style:{minWidth:"200px"}},s.createElement("p",{className:f.dashboardTitle},"For Subscription"),s.createElement("p",{className:f.trialText,style:{fontWeight:"100",textAlign:"center"}},(null===je||void 0===je?void 0:je.length)>0?je.length:Ue.length))),s.createElement(F.mQ,{style:{fontFamily:"var(--app-text-main-font)",fontSize:j.tq?"12px":"20px"},selectedIndex:fe,onSelect:function(e){ge(e)}},s.createElement(F.td,null,s.createElement(F.OK,null,"Products"),s.createElement(F.OK,null,"Subscriptions")),s.createElement(F.x4,null,s.createElement("div",{style:{minWidth:j.tq?"110%":"600px",marginTop:"20px",width:j.tq?"100%":"80%"}},"Click one plan to subscribe:",s.createElement("div",{style:{display:"flex"}},(H.length>0||X.length)>0&&""===q.lw?X.slice(0,2).map((function(e,t){var n,i=null!==(n=ne.find((function(t){return t.id===e.default_price})))&&void 0!==n?n:{cost:"0.00",currency:""};return s.createElement("div",{key:t,className:f.additionalPlanContainer,style:{marginRight:"20px"}},s.createElement("p",{className:f.planTitle},"".concat(e.name," ").concat(e.options.currency).concat(e.options.price,".00")),s.createElement("p",{className:f.planPrice},i.currency.toUpperCase()," ",i.cost," ",s.createElement("span",{className:f.month},"/month")),s.createElement("div",{className:f.planDescriptionContainer},s.createElement("p",{className:f.planDescription,style:{fontSize:"16px"}},e.description)),Object.keys(e.metadata).length>0?"active"===N.status&&it(e.metadata,e.id):"active"===N.status&&s.createElement(g.zx,{loading:re,lighter:!0,className:f.planButton,clicked:function(){return nt({price:e.default_price})},title:"Purchase Now"}),s.createElement("br",null))})):s.createElement("div",{className:f.plansHost},null===H||void 0===H?void 0:H.map((function(e,t){return s.createElement("div",{key:t,style:{padding:"10px"}},s.createElement(K.Z,{height:"340px",firstName:"".concat(e.stripe_ref),position:"".concat(e.options.currency," ").concat(e.options.price," ").concat(e.options.dlabel),email:e.options.description,cardClicked:function(){var t,n;Ue.length>0&&(Be({plan_price:e.options.price,currency:e.options.currency,plan:null!==(t=e.name)&&void 0!==t?t:e.stripe_ref,total:e.options.price*(0==je.length?Ue.length:je.length),billable_users:0==je.length?Ue:je,duration:e.options.duration,dlabel:e.options.dlabel}),D((0,p.IW)(!1)),rt("/checkout",{state:{companyData:N,subscriptionInfo:{plan_price:e.options.price,currency:e.options.currency,plan:null!==(n=e.name)&&void 0!==n?n:e.stripe_ref,total:e.options.price*(0==je.length?Ue.length:je.length),billable_users:0==je.length?Ue:je,duration:e.options.duration,dlabel:e.options.dlabel},type:"Subscription"}}))}}))})),s.createElement("div",{style:{padding:"10px"}},s.createElement(K.Z,{height:"340px",firstName:"Enterprise",position:"Custom",email:"Feel free to contact us to discuss your large scale needs, self-hosted requirements or application customization. Click this button to send an email to support. We will immediately get back to you.",cardClicked:function(){window.location="mailto:manuel.parungao@adpgxsoftware.com"}})))),"Optional: Select users for individual subscription.",s.createElement("div",{className:f.userPanelHost},Ue.map((function(e,t){var n;return s.createElement("div",{className:f.userPanelRows,key:t},s.createElement(Q.Z,{task:{name:ve?"".concat(e.first_name," ").concat(e.last_name," (").concat(null!==(n=e.validity)&&void 0!==n?n:"New",")"):"".concat(e.first_name," ").concat(e.last_name),status:null},clicked:function(){je.filter((function(t){return t.id===e.id})).length>0?Qe(je.filter((function(t){return t.id!==e.id}))):Qe([].concat((0,o.Z)(je),[e]))},setTaskToEdit:function(){},openModal:function(){}}))})),Ue.length!=P.length&&s.createElement("div",{className:f.userPanelRows},s.createElement(Q.Z,{task:{name:"Show all instead",status:null},clicked:function(){1==ve?Ye(P):(Qe([]),Ye(P.filter((function(e){return new Date(e.validity)<(0,b.now)()})))),ye(!ve)},setTaskToEdit:function(){},openModal:function(){}}))))),s.createElement(F.x4,null,s.createElement("div",{style:{minWidth:j.tq?"110%":"600px",marginTop:"20px",width:j.tq?"100%":"70%"}},s.createElement("div",{style:{display:""===q.lw?"none":"flex"}},s.createElement(G,{columns:lt,data:P})))),s.createElement("br",null))),s.createElement("div",{className:f.wallet},s.createElement("div",{style:{color:"black",fontSize:"14px"}},"Payments Wallet:"),s.createElement("div",{style:{color:"black",fontSize:"20px",fontWeight:"bold",margin:"5px 0 80px"}},"Php ",null!==(i=null===Z||void 0===Z||null===(m=Z.wallet)||void 0===m?void 0:m.toFixed(2))&&void 0!==i?i:"0.00"),s.createElement("div",{className:f.actionsContainer},s.createElement(g.zx,{clear:!0,title:"Top Up",clicked:function(){return we(0)},style:{backgroundColor:"var(--app-color-blue)",color:"white",width:"140px",display:xe>-1?"none":""}})),s.createElement("div",{style:{width:"inherit",display:-1===xe?"none":""}},s.createElement("div",{style:{color:"black"},onClick:function(){return we(-1)}},"Select your denomination:"),s.createElement(g.zx,{light:500!==xe,title:"Php 500.00",clicked:function(){return we(500)},style:{width:"100%"}}),s.createElement(g.zx,{light:1e3!==xe,title:"Php 1000.00",clicked:function(){return we(1e3)},style:{width:"100%"}}),s.createElement(g.zx,{light:2e3!==xe,title:"Php 2000.00",clicked:function(){return we(2e3)},style:{width:"100%"}}),s.createElement(g.zx,{light:3e3!==xe,title:"Php 3000.00",clicked:function(){return we(3e3)},style:{width:"100%"}}),xe>0&&s.createElement(g.zx,{light:!0,title:"Proceed to Checkout",clicked:function(){D((0,p.IW)(!1)),rt("/checkout",{state:{companyData:N,subscriptionInfo:{user_id:Z.id,ref:Z.id,plan_price:xe,currency:"PHP",plan:"Credits",total:xe,billable_users:[Z],duration:0,dlabel:"Flowhero",id:(0,W.mR)()},type:"Credits"}})},style:{backgroundColor:"var(--app-color-blue)",color:"white",width:"100%"}}))),s.createElement(F.mQ,{style:{fontFamily:"var(--app-text-main-font)",fontSize:j.tq?"12px":"20px"},selectedIndex:fe,onSelect:function(e){ge(e)}},s.createElement(F.td,null,s.createElement(F.OK,null,"Payment History")),s.createElement(F.x4,null,s.createElement("div",{style:{fontSize:"18px",minWidth:j.tq?"110%":"600px",marginTop:"20px",width:j.tq?"100%":"70%"}},s.createElement(s.Fragment,null,s.createElement(G,{columns:at,data:ue}),0===ue.length&&s.createElement("p",{className:f.noPaymentInfo},"No available invoices."))))),(null===z||void 0===z?void 0:z.length)>0&&s.createElement("p",{className:f.errorParagraph},z),I&&s.createElement(Y.Z,{message:I}),Ge&&s.createElement(L,{message:"",handler:function(e){D((0,p.zt)({})),Qe([]),Ye(e.filter((function(e){return new Date(e.validity)<(0,b.now)()}))),rt("/billing-info"),Ve(!1)}}),"active"===N.status&&void 0!==Ie.price_code&&s.createElement(g.zx,{className:f.logoutButton,title:"Cancel Subscription",clicked:function(){ze(!0)}}),s.createElement(g.U7,{blured:!0,scrollable:!0,isOpen:We,onClose:function(){ze(!1)},backdropColor:!0,shadowedContainerStyle:{width:"680px"}},s.createElement(O,{onCancelMembership:function(e){ze(!1),(0,x.r1)(e).pipe((0,_.P)()).subscribe({next:function(){(0,v.aK)().pipe((0,_.P)()).subscribe({})},error:function(e){B(e.data.message.message)}})},onClose:function(){ze(!1)}})))})),L=function(e){var t=e.setCompletedModal,n=(e.message,e.handler),i=void 0===n?function(){}:n,a=(0,s.useState)(!1),l=(0,c.Z)(a,2),r=l[0],o=l[1];return s.createElement(g.U7,{isOpen:!0,shadowedContainerStyle:{width:"35%",minWidth:"500px",minHeight:"400px"},onClose:function(){return t(!1)},scrollable:!0,blured:!0},s.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},s.createElement("p",{style:{marginTop:"50px",fontSize:"26px",color:"#4A4A4A",marginBottom:"5px",textAlign:"center"}},"Your subscription to ".concat(W.iC," was successful")),s.createElement("p",{style:{width:"300px",fontFamily:"var(--app-text-main-font)",fontSize:"16px",color:"#4A4A4A",textAlign:"center",marginBottom:"20px"}},s.createElement("br",null),"Newly subcribed user may need to login again to refresh their page.",s.createElement("br",null)),s.createElement(g.zx,{style:{width:"200px"},loading:r,clicked:function(){o(!0),(0,J.AW)(!0).pipe((0,h.q)(1)).subscribe({next:function(e){return i(e)}})},title:"Continue"})))}},72864:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(50981),a=n.n(i),l=n(67861),r=n(41771),o=n(96189),c="TaskCard_task-card__8sPmS",s="TaskCard_task-card-container__rHG31",u="TaskCard_clickLabel__A3ARk";var m=function(e){var t=e.task,n=e.openModal,i=void 0===n?function(){}:n,m=e.setTaskToEdit,p=void 0===m?function(){}:m,d=e.clicked,f=void 0===d?function(){}:d,g=e.isEditable,_=e.priority,h=t.name,v=(t.process,t.status);return t.add_info,l.createElement("div",{className:c},t.completed_at?l.createElement("div",{className:s,style:{flex:1},onClick:function(){i(),p()}},l.createElement("p",{className:u,style:{fontWeight:void 0!==_?"bold":"normal"}},"".concat(h)),l.createElement("p",{className:u},a()(t.completed_at).format("DD of MMMM YYYY"))):l.createElement("div",{className:s},l.createElement(o.XZ,{label:"".concat(void 0!==_?"".concat(_):""," ").concat(h," ").concat(null!==v?"  (".concat(v,")"):""),onChange:f}),g&&l.createElement("img",{alt:"",style:{cursor:"pointer"},src:r.ePH,onClick:function(){i(),p()}})))}},33500:function(){}}]);
//# sourceMappingURL=654.f5d477c6.chunk.js.map