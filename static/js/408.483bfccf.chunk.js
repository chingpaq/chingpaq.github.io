"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[408],{46408:function(e,t,a){a.r(t),a.d(t,{LabeledContainer:function(){return g}});var r=a(1413),l=a(29439),n=a(67861),i=a(29118),o=a(39518),s=a(11577),d=a(43984),c=a(75105),u=a(89293),_=a(10904),m=a(61616),p=a(29),v=a(73500),f=a(88374),y=a(23280),g=function(e){var t=e.label,a=e.children,r=e.readOnly;return n.createElement("div",{className:p.Z.labeledContainerHost,style:{width:v.tq?"100%":"50%"},"app-readonly":r?"true":"false"},n.createElement("p",{className:p.Z.labeledContainerLabel},t),a)},P=function(e){var t=e.label,a=e.error,r=e.children,l=e.wrappedContent;return n.createElement("div",{className:p.Z.labeledFieldHost},n.createElement("label",{className:p.Z.labeledFieldLabel},t),l?n.createElement("div",{className:p.Z.labeledFieldChildrenContainer},r):r,(null===a||void 0===a?void 0:a.length)>0&&n.createElement("p",{className:p.Z.labeledFieldError},a))};t.default=(0,o.$j)((function(e){return{authenticatedUser:e.authReducer.authenticatedUser,user:e.sessionReducer.user,components:e.flowReducer.components}}),(function(e){return{onSetAuthenticatedUserPosition:function(t){return e((0,d.IF)(t))}}}))((function(e){var t,a,d,g,h=e.authenticatedUser,b=(0,n.useState)(""),E=(0,l.Z)(b,2)[1],C=(0,n.useState)(h),x=(0,l.Z)(C,2),M=x[0],Z=x[1],w=(0,n.useState)(""),T=(0,l.Z)(w,2),N=T[0],S=T[1],F=(0,n.useState)(""),U=(0,l.Z)(F,2),k=U[0],I=U[1],L=(0,n.useState)(""),j=(0,l.Z)(L,2),O=j[0],H=j[1],D=(0,n.useState)(""),B=(0,l.Z)(D,2),G=B[0],R=B[1],q=(0,n.useState)(""),A=(0,l.Z)(q,2),W=A[0],z=A[1],J=(0,n.useState)(!1),K=(0,l.Z)(J,2),Y=K[0],V=K[1],X=(0,n.useState)(!1),Q=(0,l.Z)(X,2)[1],$=(0,n.useState)(!1),ee=(0,l.Z)($,2),te=ee[0],ae=ee[1],re=(0,y.TH)().state;document.title="My Profile | ".concat(u.iC);var le=(0,y.s0)(),ne=(0,o.I0)(),ie=(0,n.useCallback)((function(e){return e.forEach((function(e){var t,a;if(E(""),(null===e||void 0===e||null===(t=e.type)||void 0===t?void 0:t.toString().indexOf("image/"))>-1&&["jpeg","jpg","png"].indexOf(null===e||void 0===e||null===(a=e.type)||void 0===a?void 0:a.toString().split("/")[1])>-1){var r=new FileReader;r.readAsDataURL(e),r.onloadend=function(t){(new FormData).append("avatar",e),(0,c.xx)(M.id,e).subscribe({next:function(e){Z(e)},error:function(e){E(null===e||void 0===e?void 0:e.data)}})}}}))}),[]),oe=(0,i.uI)({onDrop:ie}),se=(oe.getRootProps,oe.getInputProps,oe.isDragActive,(0,n.useState)("")),de=(0,l.Z)(se,2),ce=de[0],ue=de[1],_e=(0,n.useState)(""),me=(0,l.Z)(_e,2),pe=me[0],ve=me[1];(0,n.useEffect)((function(){var e;ue(""),(null===re||void 0===re||null===(e=re.user)||void 0===e?void 0:e.id.length)>0&&(Z(re.user),ne((0,f.IW)(!1))),ne((0,f.tR)(!1))}),[]);var fe=(0,n.useState)({first_name:"",last_name:"",mobile:"",address:"",city:"",postal:""}),ye=(0,l.Z)(fe,2),ge=ye[0],Pe=ye[1],he=(0,n.useState)({first_name:!1,last_name:!1,mobile:!1,address:!1,city:!1,postal:!1}),be=(0,l.Z)(he,2),Ee=be[0],Ce=be[1],xe=(0,n.useCallback)((function(){Object.values(Ee).some((function(e){return!0===e}))&&(Pe({first_name:"",last_name:"",mobile:"",address:"",city:"",postal:""}),ve(""),(0,c.TP)(M.id,M.first_name,M.last_name,M.phone,M.address,M.city,M.postal).pipe((0,s.P)()).subscribe({next:function(){Ce({first_name:!1,last_name:!1,mobile:!1,address:!1,city:!1,postal:!1})},error:function(e){var t,a,l,n,i,o,s={first_name:"",last_name:"",mobile:"",address:"",city:"",postal:""};e.data.errors.first_name&&(s.first_name=null===(t=e.data.errors.first_name)||void 0===t?void 0:t.join("; "));e.data.errors.last_name&&(s.last_name=null===(a=e.data.errors.last_name)||void 0===a?void 0:a.join("; "));e.data.errors.mobile&&(s.mobile=null===(l=e.data.errors.mobile)||void 0===l?void 0:l.join("; "));e.data.errors.address&&(s.address=null===(n=e.data.errors.address)||void 0===n?void 0:n.join("; "));e.data.errors.city&&(s.city=null===(i=e.data.errors.city)||void 0===i?void 0:i.join("; "));e.data.errors.postal&&(s.postal=null===(o=e.data.errors.postal)||void 0===o?void 0:o.join("; "));"The given data was invalid."!==e.data.message&&ve(e.data.message),Pe((function(e){return(0,r.Z)((0,r.Z)({},e),s)}))}}))}),[M,Ee]);return n.createElement("div",{id:"my-profile-settings",className:p.Z.host,style:{padding:v.tq?"10px":""}},(null===re||void 0===re||null===(t=re.user)||void 0===t||null===(a=t.id)||void 0===a?void 0:a.length)>0&&1==h.is_admin?n.createElement("div",{style:{width:"70%",display:"flex",justifyContent:"space-between"}},n.createElement(_.zx,{title:"Back",clicked:function(){return le("/users")},style:{width:"100px"}}),(null===re||void 0===re?void 0:re.user)&&n.createElement(_.zx,{title:"Show Tasks",loading:Y,light:!0,clicked:function(){return Q(!0)}})):n.createElement("div",{style:{margin:"80px 0 0 0",display:v.tq?"none":""}},n.createElement(m.Z,{headerTitle:"Change Account Password",targetProcessing:!1})),n.createElement("div",{className:p.Z.labeledContainerHost,style:{width:v.tq?"100%":"50%"}},n.createElement("div",{className:p.Z.userDataWrapper},n.createElement(_.sm,{className:p.Z.userSettingsContainer,style:{padding:v.tq?"0":""},onClickOutside:xe},n.createElement("div",{style:{display:v.tq?"":"flex",gap:"24px",marginTop:"15px",width:"100%"}},n.createElement("div",{style:{flex:1}},n.createElement(P,{label:(null===re||void 0===re||null===(d=re.user)||void 0===d||null===(g=d.id)||void 0===g?void 0:g.length)>0&&1==h.is_admin?"Admin Password":"Old Password",error:ge.first_name},n.createElement("input",{type:"password",name:"old-password",className:p.Z.inputField,value:N,onChange:function(e){return S(e.target.value)}}))),n.createElement("div",{style:{flex:1}},n.createElement(P,{label:"New Password",error:ge.first_name},n.createElement("input",{type:"password",name:"new-password",className:p.Z.inputField,value:O,onChange:function(e){return H(e.target.value)}}))),n.createElement("div",{style:{flex:1}},n.createElement(P,{label:"Verify New Password",error:ge.last_name},n.createElement("input",{type:"password",name:"verify-password",className:p.Z.inputField,value:G,onChange:function(e){return R(e.target.value)}})))),n.createElement("div",{style:{display:"flex"}},N.length>5&&O.length>5&&G.length>5&&n.createElement("div",{style:{display:"flex",gap:"24px",marginTop:"15px",maxWidth:"100%"}},n.createElement(_.zx,{title:"Update password",loading:Y,lighter:!0,clicked:function(){if(V(!0),O!==G)return V(!1),z("Confirmation does not match");(0,c.N4)(N,O,G,M.id).pipe((0,s.P)()).subscribe({next:function(){V(!1),ae(!0),I(""),z(""),pe(""),ce("")},error:function(e){var t,a,r,l;(console.log(e),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&null!==(a=t.errors)&&void 0!==a&&a.old_password)&&I(null===e||void 0===e||null===(r=e.data)||void 0===r||null===(l=r.errors)||void 0===l?void 0:l.old_password[0]);V(!1),ae(!1)},complete:function(){S(""),H(""),R("")}})}}))),n.createElement("div",null,te&&n.createElement("p",{className:p.Z.success},"Password Successfully changed")),n.createElement("div",null,(null===k||void 0===k?void 0:k.length)>0&&n.createElement("p",{className:p.Z.errorGeneralText},k)),n.createElement("div",null,(null===W||void 0===W?void 0:W.length)>0&&n.createElement("p",{className:p.Z.errorGeneralText},W)),n.createElement("div",null,(null===ce||void 0===ce?void 0:ce.length)>0&&n.createElement("p",{className:p.Z.errorGeneralText},ce)),n.createElement("div",null,(null===pe||void 0===pe?void 0:pe.length)>0&&n.createElement("p",{className:p.Z.errorGeneralText},pe))))))}))},61616:function(e,t,a){a.d(t,{Z:function(){return s}});var r="HeaderTopBar_headerTopBar__D+HJ9",l="HeaderTopBar_headerTopBarContainer__1jgza",n="HeaderTopBar_loadingContainer__UcfwW",i=a(93572),o=a(67861),s=function(e){var t=e.hasHeaderImg,a=e.headerTitle,s=e.headerImgSrc,d=e.targetProcessing;return o.createElement("div",{className:r},o.createElement("div",{className:l},t&&o.createElement("img",{alt:"",src:s}),o.createElement("p",null,a),d&&o.createElement("span",{className:n},o.createElement(i.Z,{type:"Watch",color:"var(--app-color-gray-light)",height:15,width:"".concat(30,"px")}))))}},29:function(e,t){t.Z={host:"MyProfile_host__Bnmii",labeledContainerHost:"MyProfile_labeledContainerHost__IQZCc",labeledContainerLabel:"MyProfile_labeledContainerLabel__Tg+ZM",avatarDragContainer:"MyProfile_avatarDragContainer__1jOhu",avatarUploadIcon:"MyProfile_avatarUploadIcon__sZ016",avatarUploadText:"MyProfile_avatarUploadText__9UN2K",avatarAcceptedFormatsText:"MyProfile_avatarAcceptedFormatsText__zXNGB",avatarUploadPictureContainer:"MyProfile_avatarUploadPictureContainer__jjcmU",avatarUploadPictureText:"MyProfile_avatarUploadPictureText__6Jnly",avatarDragInput:"MyProfile_avatarDragInput__90brU",avatarContentContainer:"MyProfile_avatarContentContainer__kqcIC",avatarUrlImg:"MyProfile_avatarUrlImg__yCO7Y",avatarErrorText:"MyProfile_avatarErrorText__nxaLE",labeledFieldHost:"MyProfile_labeledFieldHost__hKuOZ",labeledFieldLabel:"MyProfile_labeledFieldLabel__cdIoV",labeledFieldChildrenContainer:"MyProfile_labeledFieldChildrenContainer__sG4-y",labeledFieldError:"MyProfile_labeledFieldError__xG-9G",label:"MyProfile_label__efRly",inputField:"MyProfile_inputField__RqYBM",emailParagraph:"MyProfile_emailParagraph__XK4WI",positionsParagraph:"MyProfile_positionsParagraph__LuOSk",errorGeneralText:"MyProfile_errorGeneralText__JSHju",success:"MyProfile_success__f1kym",userDataWrapper:"MyProfile_userDataWrapper__k9v75",userSettingsContainer:"MyProfile_userSettingsContainer__lwFPb",deletePositionContainer:"MyProfile_deletePositionContainer__HGaAl",deletePosition_title:"MyProfile_deletePosition_title__3lF+T",deletePosition_description:"MyProfile_deletePosition_description__1MKdp",deletePosition_checkboxContainer:"MyProfile_deletePosition_checkboxContainer__8r2sD",deletePosition_buttonContainer:"MyProfile_deletePosition_buttonContainer__0eBDk",selectText:"MyProfile_selectText__7EfSy",employeesMOL:"MyProfile_employeesMOL__B-L1Y",industryMOL:"MyProfile_industryMOL__yvJtL",industryMOLI:"MyProfile_industryMOLI__fbLN+"}}}]);
//# sourceMappingURL=408.483bfccf.chunk.js.map