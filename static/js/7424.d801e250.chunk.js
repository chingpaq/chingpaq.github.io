"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[7424],{87424:function(e,t,a){a.r(t),a.d(t,{default:function(){return z}});var n=a(74165),l=a(93433),i=a(15861),c=a(29439),r=a(67861),o=(a(60940),"CheckoutPage_checkoutPageHost__O6Y0r"),s="CheckoutPage_checkoutTop__a8Ke9",u="CheckoutPage_checkoutContent__jV+8M",m="CheckoutPage_checkoutLeftContainer__uCaxb",d="CheckoutPage_pageTitle__qI+QM",p="CheckoutPage_sectionTitle__5+HAr",v="CheckoutPage_inputRow__zQJ2Y",y="CheckoutPage_inputContainer__B0SjF",g="CheckoutPage_cardContainer__NY+g4",f="CheckoutPage_inputField__Wz1Ve",h="CheckoutPage_checkoutRightContainer__sSAwU",E="CheckoutPage_productsContainer__2SOt1",_="CheckoutPage_products__DuYZP",b="CheckoutPage_planContainer__fk9gT",x="CheckoutPage_planTitle__ymDCz",C="CheckoutPage_price__YeVwJ",N="CheckoutPage_planDetails__PYyTM",P="CheckoutPage_priceDetails__9FXhe",w="CheckoutPage_payButton__xJ0+0",k="CheckoutPage_planTitleBlue__wP0eR",S="CheckoutPage_endingMessage__qtIa5",Z=a(40694),Y=a(23280),D=a(27658),T=a(34710),L=a(11577),q=a(14170),A=a(89293),B=(a(66180),a(33500),a(50981)),M=a.n(B),R=a(30994),H=a(88374),I=a(39518),j=a(73500),F=a(88827),z=(a(59565),(0,a(87381).J)("pk_test_"),function(e){var t,a,z,W,J,O,U,K,Q,X,G=(0,Y.s0)(),$=e.onSuccess,ee=e.onClose,te=void 0===ee?function(){return G("/billing-info")}:ee,ae=e.subscriptionInfo,ne=void 0===ae?{}:ae,le=e.companyData,ie=void 0===le?{email:""}:le,ce=e.paymentPath,re=void 0===ce?"payments":ce,oe=e.withBack,se=void 0===oe||oe,ue=e.label,me=void 0===ue?"Plan":ue,de=e.onError,pe=void 0===de?function(){}:de,ve=(0,I.v9)((function(e){return e.flowReducer})),ye=ve.payable,ge=(ve.billable,(0,I.v9)((function(e){return e.authReducer}))),fe=ge.authenticatedUser,he=(0,r.useRef)(),Ee=(0,I.I0)(),_e=(0,r.useState)(fe.first_name),be=(0,c.Z)(_e,2),xe=be[0],Ce=be[1],Ne=(0,r.useState)(fe.last_name),Pe=(0,c.Z)(Ne,2),we=Pe[0],ke=Pe[1],Se=(0,r.useState)("".concat(null!==(t=null===fe||void 0===fe?void 0:fe.address)&&void 0!==t?t:""," ").concat(null!==(a=null===fe||void 0===fe?void 0:fe.city)&&void 0!==a?a:""," ").concat(null!==(z=null===fe||void 0===fe?void 0:fe.postal)&&void 0!==z?z:"")),Ze=(0,c.Z)(Se,2),Ye=Ze[0],De=Ze[1],Te=(0,r.useState)(""),Le=(0,c.Z)(Te,2),qe=Le[0],Ae=(Le[1],(0,r.useState)("")),Be=(0,c.Z)(Ae,2),Me=Be[0],Re=(Be[1],(0,r.useState)("")),He=(0,c.Z)(Re,2),Ie=He[0],je=(He[1],(0,r.useState)("")),Fe=(0,c.Z)(je,2),ze=Fe[0],Ve=(Fe[1],(0,r.useState)("")),We=(0,c.Z)(Ve,2),Je=(We[0],We[1],(0,r.useState)("")),Oe=(0,c.Z)(Je,2),Ue=Oe[0],Ke=(Oe[1],(0,r.useState)("")),Qe=(0,c.Z)(Ke,2),Xe=Qe[0],Ge=Qe[1],$e=(0,r.useState)("4343434343434345"),et=(0,c.Z)($e,2),tt=et[0],at=et[1],nt=(0,r.useState)(""),lt=(0,c.Z)(nt,2),it=lt[0],ct=lt[1],rt=(0,r.useState)(""),ot=(0,c.Z)(rt,2),st=ot[0],ut=ot[1],mt=(0,r.useState)(fe.email),dt=(0,c.Z)(mt,2),pt=dt[0],vt=dt[1],yt=(0,r.useState)(!1),gt=(0,c.Z)(yt,2),ft=gt[0],ht=gt[1],Et=(0,r.useState)(""),_t=(0,c.Z)(Et,2),bt=_t[0],xt=_t[1],Ct=(0,r.useState)(!1),Nt=(0,c.Z)(Ct,2),Pt=Nt[0],wt=Nt[1],kt=(0,r.useState)(""),St=(0,c.Z)(kt,2),Zt=St[0],Yt=St[1],Dt=(0,r.useState)(!1),Tt=(0,c.Z)(Dt,1)[0],Lt=(0,Y.TH)(),qt=(0,r.useState)(null!==(W=null===Lt||void 0===Lt||null===(J=Lt.state)||void 0===J?void 0:J.subscriptionInfo)&&void 0!==W?W:ne),At=(0,c.Z)(qt,1)[0],Bt=(0,r.useState)(null!==(O=null===Lt||void 0===Lt||null===(U=Lt.state)||void 0===U?void 0:U.companyData)&&void 0!==O?O:ie),Mt=((0,c.Z)(Bt,1)[0],function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var a,i,c,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xt(""),""!==R.lw||""!==Xe){e.next=4;break}return xt("Please enter card owner name."),e.abrupt("return");case 4:if(t.preventDefault(),xt(""),a=[],""===xe&&a.push("first name"),""===we&&a.push("last name"),""===pt&&a.push("email"),""===Ye&&a.push("full address"),""===qe&&a.push("city"),""===Me&&a.push("postal Code"),""===Ue&&""===R.lw&&a.push("phone Number"),!(a.length>0)){e.next=20;break}return a=a.map((function(e,t){return r.createElement("li",{key:t},e)})),i=function(){return r.createElement(r.Fragment,null,r.createElement("span",null,"Please fill in all input fields:"),r.createElement("ul",null,a))},ht(!1),xt(i),e.abrupt("return");case 20:""!==R.lw&&(o=null!==(c=null===ne||void 0===ne?void 0:ne.ref)&&void 0!==c?c:(0,A.mR)(),Ee((0,H.zt)({id:o,subscriptionInfo:At})),ht(!0),(0,D.JE)("begin-module"===re||"begin-mobile"===re?'[{"amount":'.concat(100*(null===At||void 0===At?void 0:At.plan_price),',"currency":"PHP","description":"').concat(null===At||void 0===At?void 0:At.ref,'","name":"Payment-').concat(null===At||void 0===At?void 0:At.ref,'","quantity":1}]'):"wallet"===re?'[{"amount":'.concat(100*(null===At||void 0===At?void 0:At.plan_price),',"currency":"PHP","description":"').concat(null===At||void 0===At?void 0:At.user_id,'","name":"Wallet","quantity":1}]'):"[".concat(At.billable_users.map((function(e){return'{"amount":'.concat(100*(null===At||void 0===At?void 0:At.plan_price),',"currency":"PHP","description":"').concat(e.id,'","name":"Subscription-').concat(e.first_name," ").concat(e.last_name,'","quantity":1}')})).toString(),"]"),'{"address":{"line1":"'.concat(Ye,'","city":"').concat(qe,'","state":"').concat(ze,'","postal_code":"').concat(Me,'","country": "PH"},"name":"').concat(xe," ").concat(we,'","email":"').concat(pt,'"}'),'"'.concat(R.Hf,"#/").concat(re,"/").concat(o,'"'),'"'.concat(o,'"'),"begin-module"===re||"begin-mobile"===re?"Payment":"wallet"===re?"Wallet":"Subscription").pipe((0,L.P)()).subscribe({next:function(e){var t;if(null!==(t=e.data)&&void 0!==t&&t.attributes){var a,n=[].concat((0,l.Z)(ye),[{user_id:At.user_id,amount:null===At||void 0===At?void 0:At.total,currency:"PHP",paymentID:o,id:null===At||void 0===At?void 0:At.id,product:null===At||void 0===At?void 0:At.plan,description:null===At||void 0===At?void 0:At.description,session:null===(a=e.data)||void 0===a?void 0:a.id}]);F.h.dispatch((0,H.Wy)(n)),window.location.replace(e.data.attributes.checkout_url)}},complete:function(){},error:function(e){ht(!1),xt("Payment error.Please contact your administrator"),pe("Payment error.Please contact your administrator")}}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return r.createElement("div",{className:o},se&&r.createElement("div",{className:s},r.createElement(Z.Z,{clicked:te,title:"Back"})),r.createElement("div",{className:u,style:{padding:j.tq?"15px":""}},r.createElement("div",{className:m,style:{width:j.tq?"100%":"",display:At?"":"none"}},r.createElement("p",{className:d},"Complete your Purchase"),r.createElement("p",{className:p,style:{marginTop:"50px"}},"Payment Information"),r.createElement("div",{style:{display:""===R.lw?"":"none",margin:"20px 0"}},r.createElement("div",{className:v},r.createElement("div",{className:y},r.createElement(q.Lb,{title:"Name on Card *"}),r.createElement("input",{value:Xe,onChange:function(e){return Ge(e.target.value)},type:"text",name:"state",className:f}))),r.createElement("div",{className:v},R.lw&&r.createElement("div",{className:y,style:{display:"flex"}},r.createElement("div",{className:g},r.createElement(q.Lb,{title:"Card Number"}),r.createElement("input",{value:tt,required:!0,minLength:16,maxLength:16,onChange:function(e){return at(e.target.value)},type:"text",name:"state",className:f})),r.createElement("div",{className:g,style:{width:"30%"}},r.createElement(q.Lb,{title:"Expiry"}),r.createElement("input",{value:it,required:!0,placeholder:"MM / YY",onChange:function(e){return ct(e.target.value)},type:"month",name:"state",className:f})),r.createElement("div",{className:g,style:{width:"10%",marginRight:"0px"}},r.createElement(q.Lb,{title:"CVC"}),r.createElement("input",{value:st,required:!0,minLength:3,maxLength:3,placeholder:"CVC",onChange:function(e){return ut(e.target.value)},type:"integer",name:"state",className:f}))))),r.createElement("form",{ref:he,style:{display:!0===Tt?"none":""}},r.createElement("div",{className:v,style:{flexDirection:j.tq?"column":"row"}},r.createElement("div",{className:y},r.createElement(q.Lb,{title:"First Name"}),r.createElement("input",{value:xe,onChange:function(e){return Ce(e.target.value)},style:{marginRight:"30px"},type:"text",name:"first-name",className:f})),r.createElement("div",{className:y},r.createElement(q.Lb,{title:"Last Name"}),r.createElement("input",{value:we,onChange:function(e){return ke(e.target.value)},type:"text",name:"last-name",className:f}))),r.createElement("div",{className:v,style:{flexDirection:j.tq?"column":"row"}},r.createElement("div",{className:y},r.createElement(q.Lb,{title:"Email"}),r.createElement("input",{value:pt,onChange:function(e){return vt(e.target.value)},style:{marginRight:"30px"},type:"text",name:"email",className:f}))),r.createElement("div",{className:v,style:{flexDirection:j.tq?"column":"row"}},r.createElement("div",{className:y},r.createElement(q.Lb,{title:"Full Address"}),r.createElement("input",{value:Ye,onChange:function(e){return De(e.target.value)},style:{marginRight:"30px"},type:"text",name:"full-address",className:f}))))),r.createElement("div",{className:h},r.createElement("div",{className:E},r.createElement("p",{className:_},"Products"),r.createElement("div",{className:b},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"10px"}},At?r.createElement("p",{className:x},null===At||void 0===At?void 0:At.plan):r.createElement("p",{className:x},Lt.state.price.description),At?r.createElement("p",{className:C},null===At||void 0===At?void 0:At.currency," ",null===At||void 0===At?void 0:At.plan_price):r.createElement("p",{className:C},Lt.state.price.currency," ",Lt.state.price.price)),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"5px",marginBottom:"5px"}},At&&r.createElement("p",{className:N},me),At&&r.createElement("p",{className:P},null===At||void 0===At?void 0:At.dlabel))),(null===At||void 0===At?void 0:At.onetime)&&r.createElement("div",{className:b},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"10px"}},r.createElement("p",{className:x},"Admin Fee"),r.createElement("p",{className:C},null===At||void 0===At?void 0:At.currency," ",null!==(K=null===At||void 0===At?void 0:At.onetime)&&void 0!==K?K:0)),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"5px",marginBottom:"5px"}},At&&r.createElement("p",{className:N},"Others"),At&&r.createElement("p",{className:P},"/month"))),r.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",margin:"5%"}}),r.createElement("div",{style:{display:void 0===(null===At||void 0===At||null===(Q=At.billable_users)||void 0===Q?void 0:Q.length)?"none":"flex",justifyContent:"space-between",margin:"5%",marginBottom:"0px"}},r.createElement("p",{className:x},"Number of users to bill"),r.createElement("p",{className:C},null===At||void 0===At?void 0:At.billable_users.length)),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",margin:"5%",marginBottom:"20px"}},r.createElement("p",{className:k},"Total (due today)"),At?r.createElement("p",{className:k},null===At||void 0===At?void 0:At.currency," ",null===At||void 0===At?void 0:At.total):r.createElement("p",{className:k},Lt.state.price.currency," ",Lt.state.price.price)),r.createElement(Z.Z,{className:w,disabled:ft,title:"Pay Now",clicked:At?Mt:function(){var e;xt(""),ht(!0),(0,D.Ul)(Lt.state.service_name,Lt.state.price.price_code,null!==(e=Lt.state.price.duration)&&void 0!==e?e:null).pipe((0,L.P)()).subscribe({next:function(e){Yt(e.data.stripe_id),wt(!0),(0,T.aK)().pipe((0,L.P)()).subscribe({}),ht(!1)},error:function(e){void 0!=e.data?xt(e.data.message.message):xt("Payment error. Please check your card."),ht(!1)}})},loading:ft,style:{backgroundColor:""!==xe&&""!==we&&""!==Ye&&""!==qe&&""!==Me&&""!==Ie&&""!==ze?"":"black"}}),r.createElement("div",{className:S,style:{display:void 0===(null===At||void 0===At||null===(X=At.billable_users)||void 0===X?void 0:X.length)?"none":"flex"}},r.createElement("p",null,""!==R.lw?"Payments by":"You can cancel your plan anytime. Your yearly recurrent payment starts on ".concat(M()(new Date((0,B.now)())).add(1,"years").format("MMMM Do, YYYY"),". You will be billed monthly for the number of Employees in your account.")),r.createElement("img",{src:"https://files.readme.io/7586db8-small-paymongo_api_white.png",style:{height:"40px",width:"160px"}})),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",margin:"5%",marginBottom:"0px",color:"red"}},bt&&r.createElement("div",null,bt))))),Pt&&r.createElement(V,{message:Zt,onSuccess:$}))}),V=function(e){var t=e.setCompletedModal,a=e.message,n=e.onSuccess;return r.createElement(q.U7,{isOpen:!0,shadowedContainerStyle:{width:"35%",minWidth:"500px",minHeight:"400px"},onClose:function(){return t(!1)},scrollable:!0,blured:!0},r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.createElement("p",{style:{marginTop:"50px",fontSize:"32px",color:"#4A4A4A",marginBottom:"5px",textAlign:"center"}},"Your subscription to ".concat(A.iC," was successful!")),r.createElement("p",{style:{width:"300px",fontFamily:"var(--app-text-main-font)",fontSize:"16px",color:"#4A4A4A",textAlign:"center",marginBottom:"20px"}},"Your payment reference is ".concat(a),r.createElement("br",null),r.createElement("br",null),"You can look for this in your invoices list in the billing page ",r.createElement("br",null),r.createElement("br",null),r.createElement("span",{style:{fontWeight:"700"}},"Thank you for your purchase!")),r.createElement(Z.Z,{style:{width:"200px"},clicked:function(){n(a)},title:"View Invoices"})))}}}]);
//# sourceMappingURL=7424.d801e250.chunk.js.map