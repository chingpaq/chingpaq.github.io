"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[450],{49450:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var a=n(74165),r=n(15861),i=n(70885),l=n(67861),c=(n(60940),{checkoutPageHost:"CheckoutPage_checkoutPageHost__O6Y0r",checkoutTop:"CheckoutPage_checkoutTop__a8Ke9",logoContainer:"CheckoutPage_logoContainer__ifU6H",checkoutContent:"CheckoutPage_checkoutContent__jV+8M",checkoutLeftContainer:"CheckoutPage_checkoutLeftContainer__uCaxb",pageTitle:"CheckoutPage_pageTitle__qI+QM",sectionTitle:"CheckoutPage_sectionTitle__5+HAr",inputRow:"CheckoutPage_inputRow__zQJ2Y",inputContainer:"CheckoutPage_inputContainer__B0SjF",cardContainer:"CheckoutPage_cardContainer__NY+g4",stripeCardNumberContainer:"CheckoutPage_stripeCardNumberContainer__sjjAW",inputField:"CheckoutPage_inputField__Wz1Ve",cardInput:"CheckoutPage_cardInput__dyq2p",checkoutRightContainer:"CheckoutPage_checkoutRightContainer__sSAwU",productsContainer:"CheckoutPage_productsContainer__2SOt1",hr:"CheckoutPage_hr__q+nEf",products:"CheckoutPage_products__DuYZP",planContainer:"CheckoutPage_planContainer__fk9gT",planTitle:"CheckoutPage_planTitle__ymDCz",price:"CheckoutPage_price__YeVwJ",planDetails:"CheckoutPage_planDetails__PYyTM",priceDetails:"CheckoutPage_priceDetails__9FXhe",payButton:"CheckoutPage_payButton__xJ0+0",planTitleBlue:"CheckoutPage_planTitleBlue__wP0eR",endingMessage:"CheckoutPage_endingMessage__qtIa5",currencySelectContainer:"CheckoutPage_currencySelectContainer__uyGwv",currencySelectComponent:"CheckoutPage_currencySelectComponent__5PIVD",currencySelectMenuOverlayList:"CheckoutPage_currencySelectMenuOverlayList__1-4yj",currencySelectMenuOverlayListItem:"CheckoutPage_currencySelectMenuOverlayListItem__PmlMT",currencySearchInput:"CheckoutPage_currencySearchInput__NJ4WU",phoneIInput:"CheckoutPage_phoneIInput__sSySJ",phoneContainer:"CheckoutPage_phoneContainer__pnf9K"}),o=n(59565),s=n(40694),u=n(23280),d=n(27658),p=n(34710),m=n(11577),h=n(20086),v=n(89293),f=n(66180),g=n.n(f),y=n(50981),_=n.n(y),b=n(30994),C=n(75105);var E=function(){var e,t,n,f,E,x,N,P,S,w,Z,I=(0,l.useRef)(),T=(0,l.useState)(""),R=(0,i.Z)(T,2),L=R[0],A=R[1],M=(0,l.useState)(""),Y=(0,i.Z)(M,2),D=Y[0],F=Y[1],B=(0,l.useState)(""),H=(0,i.Z)(B,2),q=H[0],j=H[1],O=(0,l.useState)(""),V=(0,i.Z)(O,2),z=V[0],K=V[1],J=(0,l.useState)(""),U=(0,i.Z)(J,2),W=U[0],G=U[1],Q=(0,l.useState)(""),X=(0,i.Z)(Q,2),$=X[0],ee=X[1],te=(0,l.useState)(""),ne=(0,i.Z)(te,2),ae=ne[0],re=ne[1],ie=(0,l.useState)(""),le=(0,i.Z)(ie,2),ce=le[0],oe=le[1],se=(0,l.useState)(""),ue=(0,i.Z)(se,2),de=ue[0],pe=ue[1],me=(0,l.useState)(""),he=(0,i.Z)(me,2),ve=he[0],fe=he[1],ge=(0,l.useState)("4343434343434345"),ye=(0,i.Z)(ge,2),_e=ye[0],be=ye[1],Ce=(0,l.useState)(""),Ee=(0,i.Z)(Ce,2),ke=Ee[0],xe=Ee[1],Ne=(0,l.useState)(""),Pe=(0,i.Z)(Ne,2),Se=Pe[0],we=Pe[1],Ze=(0,l.useState)(""),Ie=(0,i.Z)(Ze,2),Te=Ie[0],Re=Ie[1],Le=(0,l.useState)(!1),Ae=(0,i.Z)(Le,2),Me=Ae[0],Ye=Ae[1],De=(0,l.useState)(""),Fe=(0,i.Z)(De,2),Be=Fe[0],He=Fe[1],qe=(0,l.useState)(!1),je=(0,i.Z)(qe,2),Oe=je[0],Ve=je[1],ze=(0,l.useState)(""),Ke=(0,i.Z)(ze,2),Je=Ke[0],Ue=Ke[1],We=(0,l.useState)(!1),Ge=(0,i.Z)(We,2),Qe=Ge[0],Xe=(Ge[1],(0,o.useStripe)()),$e=(0,o.useElements)(),et=(0,u.TH)(),tt=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n,r,i,c,s,u,h,v,f,g,y;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(He(""),""!==ve){e.next=4;break}return He("Please enter card owner name."),e.abrupt("return");case 4:if(!b.lw||""!==Se&&""!==ke&&""!==_e){e.next=7;break}return He("Please enter card details."),e.abrupt("return");case 7:if(t.preventDefault(),Xe&&$e){e.next=11;break}if(b.lw){e.next=11;break}return e.abrupt("return");case 11:if(Ye(!0),He(""),n=[],""===L&&n.push("first name"),""===D&&n.push("last name"),""===Te&&n.push("email"),""===q&&n.push("full address"),""===z&&n.push("city"),""===W&&n.push("postal Code"),""===$&&n.push("country"),""===de&&n.push("phone Number"),!(n.length>0)){e.next=28;break}return n=n.map((function(e,t){return l.createElement("li",{key:t},e)})),r=function(){return l.createElement(l.Fragment,null,l.createElement("span",null,"Please fill in all input fields:"),l.createElement("ul",null,n))},Ye(!1),He(r),e.abrupt("return");case 28:if(i=function(){return Qe||""===L&&""===D&&""===q&&""===z&&""===W&&""===$&&""===ae&&""===ce&&""===de?{}:{name:L+" "+D,address:{city:z,country:$,line1:q,postal_code:W,state:ae},phone:de,email:et.state.companyData.email}},""!==b.lw){e.next=41;break}return h={type:"card",card:$e.getElement(o.CardElement),billing_details:i()},e.next=33,Xe.createPaymentMethod(h);case 33:if(void 0===(v=e.sent).error){e.next=38;break}return Ye(!1),He(null!==(f=null===(g=v.error)||void 0===g?void 0:g.message)&&void 0!==f?f:"Invalid card details"),e.abrupt("return");case 38:(0,d.AK)(null===(c=et.state.subscriptionInfo)||void 0===c?void 0:c.billable_users.length,null===(s=et.state.subscriptionInfo)||void 0===s?void 0:s.price_code,null===(u=v.paymentMethod)||void 0===u?void 0:u.id).pipe((0,m.P)()).subscribe({next:function(e){"Add Subscription successful"===e.message&&(Ue(e.data.stripe_id),Ve(!0),(0,p.aK)().pipe((0,m.P)()).subscribe({}))},complete:function(){},error:function(e){void 0!=e.data?He(e.data.message.message):He("Payment error. Please check your card"),Ye(!1)}}),e.next=42;break;case 41:(0,d.$d)(100*(null===(y=et.state.subscriptionInfo)||void 0===y?void 0:y.total)).pipe((0,m.P)()).subscribe({next:function(e){var t;if(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id){var n,a,r,i=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.id,l=null===e||void 0===e||null===(a=e.data)||void 0===a||null===(r=a.attributes)||void 0===r?void 0:r.client_key;(0,d.z9)({card_number:_e,exp_month:+ke.substring(5,7),exp_year:+ke.substring(2,4),cvc:Se,address:{line1:q,city:z,state:ae,postal_code:W,country:"PH"},name:ve,email:Te,phone:de}).pipe((0,m.P)()).subscribe({next:function(e){var t,n;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id&&(0,d.h4)(i,null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.id,l).pipe((0,m.P)()).subscribe({next:function(e){var t,n,a,r,i,l;e&&(Ue(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.id),Ve(!0),(0,d.Iv)({id:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.id,total:null===e||void 0===e||null===(a=e.data)||void 0===a||null===(r=a.attributes)||void 0===r?void 0:r.amount,product:et.state.type,quantity:1,ends_at:"".concat(_()().add(null!==(i=null===(l=et.state.subscriptionInfo)||void 0===l?void 0:l.duration)&&void 0!==i?i:30,"days").format("YYYY-MM-DD HH:mm:ss"))}).pipe((0,m.P)()).subscribe({next:function(e){"Subscription"===et.state.type&&et.state.subscriptionInfo.billable_users.filter((function(e){var t,n;(0,C.TP)(e.id,e.first_name,e.last_name,null,"".concat(_()().add(null!==(t=null===(n=et.state.subscriptionInfo)||void 0===n?void 0:n.duration)&&void 0!==t?t:30,"days").format("YYYY-MM-DD HH:mm:ss"))).pipe((0,m.P)()).subscribe({next:function(e){console.log("user",e)}})}))}}))},complete:function(){},error:function(e){Ye(!1)}})},complete:function(){},error:function(e){Ye(!1)}})}},complete:function(){},error:function(e){Ye(!1)}});case 42:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.createElement("div",{className:c.checkoutPageHost},l.createElement("div",{className:c.checkoutTop},l.createElement(s.Z,{clicked:function(){return window.history.back()},title:"Back"})),l.createElement("div",{className:c.checkoutContent},l.createElement("div",{className:c.checkoutLeftContainer,style:{display:et.state.subscriptionInfo?"":"none"}},l.createElement("p",{className:c.pageTitle},"Complete your Purchase"),l.createElement("p",{className:c.sectionTitle,style:{marginTop:"0px"}},"Payment Information"),l.createElement("div",{className:c.inputRow},l.createElement("div",{className:c.inputContainer},l.createElement(h.Lb,{title:"Name on Card *"}),l.createElement("input",{value:ve,onChange:function(e){return fe(e.target.value)},type:"text",name:"state",className:c.inputField}))),l.createElement("div",{className:c.inputRow},b.lw?l.createElement("div",{className:c.inputContainer,style:{display:"flex"}},l.createElement("div",{className:c.cardContainer},l.createElement(h.Lb,{title:"Card Number"}),l.createElement("input",{value:_e,required:!0,minLength:16,maxLength:16,onChange:function(e){return be(e.target.value)},type:"text",name:"state",className:c.inputField})),l.createElement("div",{className:c.cardContainer,style:{width:"30%"}},l.createElement(h.Lb,{title:"Expiry"}),l.createElement("input",{value:ke,required:!0,placeholder:"MM / YY",onChange:function(e){return xe(e.target.value)},type:"month",name:"state",className:c.inputField})),l.createElement("div",{className:c.cardContainer,style:{width:"10%",marginRight:"0px"}},l.createElement(h.Lb,{title:"CVC"}),l.createElement("input",{value:Se,required:!0,minLength:3,maxLength:3,placeholder:"CVC",onChange:function(e){return we(e.target.value)},type:"integer",name:"state",className:c.inputField}))):l.createElement("div",{className:c.inputContainer},l.createElement(h.Lb,{title:"Card Number *"}),l.createElement(o.CardElement,{id:"cc-number",className:c.stripeCardNumberContainer}))),l.createElement("p",{className:c.sectionTitle,style:{marginTop:"0px"}},"Invoicing Information"),l.createElement("form",{ref:I,style:{display:!0===Qe?"none":""}},l.createElement("div",{className:c.inputRow},l.createElement("div",{className:c.inputContainer},l.createElement(h.Lb,{title:"First Name"}),l.createElement("input",{value:L,onChange:function(e){return A(e.target.value)},style:{marginRight:"30px"},type:"text",name:"first-name",className:c.inputField})),l.createElement("div",{className:c.inputContainer},l.createElement(h.Lb,{title:"Last Name"}),l.createElement("input",{value:D,onChange:function(e){return F(e.target.value)},type:"text",name:"last-name",className:c.inputField}))),l.createElement("div",{className:c.inputRow},l.createElement("div",{className:c.inputContainer},l.createElement(h.Lb,{title:"Email"}),l.createElement("input",{value:Te,onChange:function(e){return Re(e.target.value)},style:{marginRight:"30px"},type:"text",name:"email",className:c.inputField}))),l.createElement("div",{className:c.inputRow},l.createElement("div",{className:c.inputContainer},l.createElement(h.Lb,{title:"Full Address"}),l.createElement("input",{value:q,onChange:function(e){return j(e.target.value)},style:{marginRight:"30px"},type:"text",name:"full-address",className:c.inputField}))),l.createElement("div",{className:c.inputRow},l.createElement("div",{className:c.inputContainer},l.createElement(h.Lb,{title:"City"}),l.createElement("input",{value:z,onChange:function(e){return K(e.target.value)},style:{marginRight:"30px"},type:"text",name:"city",className:c.inputField})),l.createElement("div",{className:c.inputContainer},l.createElement(h.Lb,{title:"Postal Code"}),l.createElement("input",{value:W,onChange:function(e){return G(e.target.value)},type:"text",name:"postal-code",className:c.inputField}))),l.createElement("div",{className:c.inputRow},l.createElement("div",{className:c.inputContainer},l.createElement(h.Lb,{title:"Country"}),l.createElement(h.Ld,{items:v.AE,triggerType:"chevron",onChange:function(e){ee(e.value)},className:c.currencySelectContainer,inputClassName:c.currencySearchInput,clearControlsClassName:c.currencyClearControlsClassName,molclassname:c.currencySelectMenuOverlayList,moliclassname:c.currencySelectMenuOverlayListItem})),l.createElement("div",{className:c.inputContainer},l.createElement(h.Lb,{title:"State"}),l.createElement("input",{value:ae,onChange:function(e){return re(e.target.value)},type:"text",name:"state",className:c.inputField}))),l.createElement("div",{className:c.inputRow},l.createElement("div",{className:c.inputContainer},l.createElement(h.Lb,{title:"VAT/TAX ID"}),l.createElement("input",{value:ce,onChange:function(e){return oe(e.target.value)},style:{marginRight:"30px"},type:"text",name:"vat",className:c.inputField})),l.createElement("div",{className:c.inputContainer},l.createElement(h.Lb,{title:"Phone"}),l.createElement("div",{className:c.phoneContainer},l.createElement(g(),{country:"ph",value:de,onChange:function(e){return pe(e)},inputClass:c.phoneIInput,specialLabel:"",placeholder:"Enter number here...",inputStyle:{border:"none",width:"100%"}})))))),l.createElement("div",{className:c.checkoutRightContainer},l.createElement("div",{className:c.productsContainer},l.createElement("p",{className:c.products},"Products"),l.createElement("div",{className:c.planContainer},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"10px"}},et.state.subscriptionInfo?l.createElement("p",{className:c.planTitle},null===(e=et.state.subscriptionInfo)||void 0===e?void 0:e.plan):l.createElement("p",{className:c.planTitle},et.state.price.description),et.state.subscriptionInfo?l.createElement("p",{className:c.price},null===(t=et.state.subscriptionInfo)||void 0===t?void 0:t.currency," ",null===(n=et.state.subscriptionInfo)||void 0===n?void 0:n.plan_price):l.createElement("p",{className:c.price},et.state.price.currency," ",et.state.price.price)),l.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"5px",marginBottom:"5px"}},et.state.subscriptionInfo&&l.createElement("p",{className:c.planDetails},"Plan"),et.state.subscriptionInfo&&l.createElement("p",{className:c.priceDetails},null===(f=et.state.subscriptionInfo)||void 0===f?void 0:f.dlabel))),l.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",margin:"5%"}}),l.createElement("div",{style:{display:void 0===(null===(E=et.state.subscriptionInfo)||void 0===E||null===(x=E.billable_users)||void 0===x?void 0:x.length)?"none":"flex",justifyContent:"space-between",margin:"5%",marginBottom:"0px"}},l.createElement("p",{className:c.planTitle},"Number of users to bill"),l.createElement("p",{className:c.price},null===(N=et.state.subscriptionInfo)||void 0===N?void 0:N.billable_users.length)),l.createElement("div",{style:{display:"flex",justifyContent:"space-between",margin:"5%",marginBottom:"20px"}},l.createElement("p",{className:c.planTitleBlue},"Total (due today)"),et.state.subscriptionInfo?l.createElement("p",{className:c.planTitleBlue},null===(P=et.state.subscriptionInfo)||void 0===P?void 0:P.currency," ",null===(S=et.state.subscriptionInfo)||void 0===S?void 0:S.total):l.createElement("p",{className:c.planTitleBlue},et.state.price.currency," ",et.state.price.price)),l.createElement(s.Z,{className:c.payButton,disabled:Me,title:"Pay Now",clicked:et.state.subscriptionInfo?tt:function(){var e;He(""),Ye(!0),(0,d.Ul)(et.state.service_name,et.state.price.price_code,null!==(e=et.state.price.duration)&&void 0!==e?e:null).pipe((0,m.P)()).subscribe({next:function(e){Ue(e.data.stripe_id),Ve(!0),(0,p.aK)().pipe((0,m.P)()).subscribe({}),Ye(!1)},error:function(e){void 0!=e.data?He(e.data.message.message):He("Payment error. Please check your card."),Ye(!1)}})},loading:Me}),l.createElement("div",{className:c.endingMessage,style:{display:void 0===(null===(w=et.state.subscriptionInfo)||void 0===w||null===(Z=w.billable_users)||void 0===Z?void 0:Z.length)?"none":""}},l.createElement("p",null,"You can cancel your plan anytime. Your yearly recurrent payment starts on ".concat(_()(new Date((0,y.now)())).add(1,"years").format("MMMM Do, YYYY"),". You will be billed monthly for the number of Employees in your account."))),l.createElement("div",{style:{display:"flex",justifyContent:"space-between",margin:"5%",marginBottom:"0px",color:"red"}},Be&&l.createElement("div",null,Be))))),Oe&&l.createElement(k,{message:Je}))},k=function(e){var t=(0,u.s0)(),n=e.setCompletedModal,a=e.message;return l.createElement(h.U7,{isOpen:!0,shadowedContainerStyle:{width:"35%",minWidth:"500px",minHeight:"400px"},onClose:function(){return n(!1)},scrollable:!0,blured:!0},l.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},l.createElement("p",{style:{marginTop:"50px",fontFamily:"var(--app-font-gt-walsheim-pro)",fontSize:"32px",color:"#4A4A4A",marginBottom:"5px",textAlign:"center"}},"Your subscription to FlowHero was successful!"),l.createElement("p",{style:{width:"300px",fontFamily:"var(--app-font-quicksand-medium)",fontSize:"16px",color:"#4A4A4A",textAlign:"center",marginBottom:"20px"}},"Your payment reference is ".concat(a),l.createElement("br",null),l.createElement("br",null),"You can look for this in your invoices list in the billing page ",l.createElement("br",null),l.createElement("br",null),l.createElement("span",{style:{fontWeight:"700"}},"Great Job!")),l.createElement(s.Z,{style:{width:"200px"},clicked:function(){t("/billing-info")},title:"View Invoices"})))}},27658:function(e,t,n){n.d(t,{$d:function(){return C},AK:function(){return v},GP:function(){return m},Hm:function(){return d},Ik:function(){return h},Iv:function(){return y},Ul:function(){return f},h4:function(){return _},hZ:function(){return u},r1:function(){return g},sA:function(){return p},z9:function(){return b}});var a=n(1413),r=n(88827),i=n(30994),l=n(95256),c=n(96332),o=n(88374),s=n(88502),u=function(){var e=r.h.getState().authReducer.sessionSettings.last_access_token,t=(0,a.Z)((0,a.Z)({},i.ns.payments.getStripeProductsAndPrices(e)),{},{handlerEnabled:!0});return new l.y((function(e){return(0,c.b)(t).then((function(t){200===(null===t||void 0===t?void 0:t.status)&&null!==t&&void 0!==t&&t.data&&(e.next(t.data),e.complete())})).catch((function(t){e.error(t)}))}))},d=function(){var e=r.h.getState().authReducer.sessionSettings.last_access_token,t=(0,a.Z)((0,a.Z)({},i.ns.payments.getProductsAndPrices(e)),{},{handlerEnabled:!0});return new l.y((function(e){return(0,c.b)(t).then((function(t){200===(null===t||void 0===t?void 0:t.status)&&null!==t&&void 0!==t&&t.data&&(e.next(t.data),e.complete())})).catch((function(t){e.error(t)}))}))},p=function(){var e=r.h.getState().authReducer.sessionSettings.last_access_token,t=(0,a.Z)((0,a.Z)({},i.ns.payments.getCompanyInvoices(e)),{},{handlerEnabled:!0});return new l.y((function(e){return(0,c.b)(t).then((function(t){200===(null===t||void 0===t?void 0:t.status)&&null!==t&&void 0!==t&&t.data&&(e.next(t.data),e.complete())})).catch((function(t){e.error(t)}))}))},m=function(){var e=r.h.getState().authReducer.sessionSettings.last_access_token,t=(0,a.Z)((0,a.Z)({},i.ns.payments.getCompanyPurchases(e)),{},{handlerEnabled:!0});return new l.y((function(e){return(0,c.b)(t).then((function(t){200===(null===t||void 0===t?void 0:t.status)&&null!==t&&void 0!==t&&t.data&&(e.next(t.data),e.complete())})).catch((function(t){e.error(t)}))}))},h=function(){var e=r.h.getState().authReducer.sessionSettings.last_access_token,t=(0,a.Z)((0,a.Z)({},i.ns.payments.getCurrentSubscription(e)),{},{handlerEnabled:!0});return new l.y((function(e){return(0,c.b)(t).then((function(t){200===(null===t||void 0===t?void 0:t.status)&&null!==t&&void 0!==t&&t.data&&(e.next(t.data),e.complete())})).catch((function(t){e.error(t)}))}))},v=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=r.h.getState().authReducer.sessionSettings.last_access_token,u=new FormData;u.append("pmethod",n),u.append("quantity",+e),u.append("subscriber_rate",t),u.append("one_time",o);var d=(0,a.Z)({},i.ns.payments.subscriptionPayment(s)),p=(0,a.Z)((0,a.Z)({},d),{},{data:u,handlerEnabled:!0,forwardAllErrors:!0});return new l.y((function(e){return(0,c.b)(p).then((function(t){null!==t&&void 0!==t&&t.data&&(e.next(t.data),e.complete())})).catch((function(t){e.error(t)}))}))},f=function(e,t,n){var o=r.h.getState().authReducer.sessionSettings.last_access_token,u={service_name:e,service_cost:t};null!=n&&(u.duration=+n);var d=(0,a.Z)({},i.ns.payments.servicesPayment(o)),p=(0,a.Z)((0,a.Z)({},d),{},{data:null==n?s.stringify(u):s.stringify((0,a.Z)((0,a.Z)({},u),{},{duration:n})),handlerEnabled:!0,forwardAllErrors:!0});return new l.y((function(e){return(0,c.b)(p).then((function(t){null!==t&&void 0!==t&&t.data&&(e.next(t.data),e.complete())})).catch((function(t){e.error(t)}))}))},g=function(e){var t=r.h.getState().authReducer.sessionSettings.last_access_token,n={immediately:1,reasons:e},o=(0,a.Z)({},i.ns.payments.unsubscribe(t)),u=(0,a.Z)((0,a.Z)({},o),{},{data:s.stringify(n),handlerEnabled:!0,forwardAllErrors:!0});return new l.y((function(e){return(0,c.b)(u).then((function(t){null!==t&&void 0!==t&&t.data&&(e.next(t.data),e.complete())})).catch((function(t){e.error(t)}))}))},y=function(e){var t=r.h.getState().authReducer.sessionSettings.last_access_token,n={pmethod:"card",paymentId:e.id,service_cost:e.total,service_name:e.product,quantity:+e.quantity,ends_at:e.ends_at},u=(0,a.Z)({},i.ns.payments.active(t)),d=(0,a.Z)((0,a.Z)({},u),{},{data:s.stringify(n),handlerEnabled:!0,forwardAllErrors:!0});return new l.y((function(e){return(0,c.b)(d).then((function(t){var n;null!==t&&void 0!==t&&t.data&&(r.h.dispatch((0,o.QK)(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.data)),e.next(t.data),e.complete())})).catch((function(t){e.error(t)}))}))},_=function(e,t,n){r.h.getState().authReducer.sessionSettings.last_access_token;var o={data:{attributes:{payment_method:t,client_key:n,return_url:"http://www.google.com"}}},s=(0,a.Z)({},i.ns.payments.attachIntent(e)),u=(0,a.Z)((0,a.Z)({},s),{},{data:o,handlerEnabled:!0,forwardAllErrors:!0});return new l.y((function(e){return(0,c.b)(u).then((function(t){null!==t&&void 0!==t&&t.data&&(e.next(t.data),e.complete())})).catch((function(t){console.log("error",t),e.error(t)}))}))},b=function(e){r.h.getState().authReducer.sessionSettings.last_access_token;var t={data:{attributes:{type:"card",details:{card_number:e.card_number,exp_month:e.exp_month,exp_year:e.exp_year,cvc:e.cvc},billing:{address:e.address,name:e.name,phone:e.phone,email:e.email},payment_method_option:{},metadata:{key1:"value",key2:"value"}}}},n=(0,a.Z)({},i.ns.payments.paymentMethod()),o=(0,a.Z)((0,a.Z)({},n),{},{data:t,handlerEnabled:!0,forwardAllErrors:!0});return new l.y((function(e){return(0,c.b)(o).then((function(t){null!==t&&void 0!==t&&t.data&&(e.next(t.data),e.complete())})).catch((function(t){console.log("error",t),e.error(t)}))}))},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'"card"',n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'"PHP"',o=r.h.getState().authReducer.sessionSettings.last_access_token,s={amount:+e,pmethod:t,currency:n},u=(0,a.Z)({},i.ns.payments.createIntent(o)),d=(0,a.Z)((0,a.Z)({},u),{},{data:s,handlerEnabled:!0,forwardAllErrors:!0});return new l.y((function(e){return(0,c.b)(d).then((function(t){null!==t&&void 0!==t&&t.data&&(e.next(t.data),e.complete())})).catch((function(t){e.error(t)}))}))}},60940:function(){}}]);
//# sourceMappingURL=450.d4e5a3f8.chunk.js.map