{"version":3,"file":"static/js/761.3adf5868.chunk.js","mappings":"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","sources":["webpack://flowhero/./src/appFiles/components/SideMenuEntries/BlueprintsComps/ProcessesTab/ProcessStepsChart.module.scss?864a","appFiles/components/SideMenuEntries/BlueprintsComps/ProcessesTab/Sidebar.js","appFiles/components/SideMenuEntries/BlueprintsComps/ProcessesTab/ProcessStepsChart.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"host\":\"ProcessStepsChart_host__Ubvna\",\"target\":\"ProcessStepsChart_target__lLbWe\",\"startContainer\":\"ProcessStepsChart_startContainer__1AZuF\",\"placeholderContainer\":\"ProcessStepsChart_placeholderContainer__HI-Ue\",\"cardContainer\":\"ProcessStepsChart_cardContainer__9G7q5\",\"svg\":\"ProcessStepsChart_svg__bAVNU\",\"paragraph\":\"ProcessStepsChart_paragraph__D9Hr2\",\"firstStepContainer\":\"ProcessStepsChart_firstStepContainer__RmBGK\",\"rankedStepsContainer\":\"ProcessStepsChart_rankedStepsContainer__UejYl\",\"stepWrapper\":\"ProcessStepsChart_stepWrapper__VvpWm\",\"stepContainer\":\"ProcessStepsChart_stepContainer__ubO3z\",\"titleContainer\":\"ProcessStepsChart_titleContainer__ziT0H\",\"durationContainer\":\"ProcessStepsChart_durationContainer__uR4X-\",\"durationText\":\"ProcessStepsChart_durationText__NXJSW\",\"image\":\"ProcessStepsChart_image__6lH3l\",\"bottomAnnotation\":\"ProcessStepsChart_bottomAnnotation__y-3p7\",\"tree\":\"ProcessStepsChart_tree__uqAbd\",\"step\":\"ProcessStepsChart_step__1kNXi\"};","import React from 'react';\n\nexport default props => {\n\tconst onDragStart = (event, nodeType) => {\n\t\tevent.dataTransfer.setData('application/reactflow', nodeType);\n\t\tevent.dataTransfer.effectAllowed = 'move';\n\t};\n\n\treturn (\n\t\t<aside>\n\t\t\t<div className=\"title\">{props?.title ?? 'Workflow'}</div>\n\t\t\t<div className=\"subtitle\">{props?.subtitle ?? 'Hello world'}</div>\n\t\t\t<div className=\"description\">Drag box to the right pane to add a new step.</div>\n\t\t\t<br />\n\t\t\t<div className=\"dndnode input\" onDragStart={event => onDragStart(event, 'input')} draggable>\n\t\t\t\tNew Step\n\t\t\t</div>\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<div className=\"description\">You can connect a step to another step by dragging the handles of the box bottom on top of the handle of the target step. A plus sign should appear. A saved step message will appear if the connection is allowed.</div>\n\t\t\t<br />\n\t\t\t<div className=\"description\">To rearrange the positions of the step in the layout, make sure to unlock the lower left lock button. Drag the step to your desired location.</div>\n\t\t\t<br />\n\t\t\t<div className=\"description\">To delete a connection, click the line(or its label), then press delete (or backspace for some keyboards) The line should disappear and a saved step message should appear.</div>\n\t\t</aside>\n\t);\n};\n","import { useEffect, useRef, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { first } from 'rxjs/operators';\nimport { getProcessById, getStepsByProcessId } from '../../../../services/processes.service';\n\nimport { setSelectedProStep } from '../../../../reduxStore/actions/flowActions';\nimport cls from './ProcessStepsChart.module.scss';\nimport { generateNewUUID } from '../../../../shared/utility';\nimport { useProcessContext, pat } from '../../../../context/processStep.context';\nimport { useMountedState } from 'react-use';\nimport { Button, Spinner } from '../../../common';\nimport * as R from 'ramda';\n\nimport { Tree, TreeNode } from 'react-organizational-chart';\nimport ReactFlow, { ReactFlowProvider, Controls, Background, addEdge, removeElements, ArrowHeadType } from 'react-flow-renderer';\n\nimport 'react-flow-renderer/dist/style.css';\nimport './styles.css';\n\nimport Sidebar from './Sidebar';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faDiagramNext, faDiagramProject } from '@fortawesome/free-solid-svg-icons';\n\nconst initialElements = [];\n\nconst generateNodesFromValueChain = valuChain => {\n\tconst elements = [];\n\tconst valueChainSize = Object.keys(valuChain).length;\n\tconst firstNodeYPosition = window.innerHeight / (valueChainSize + 1);\n\tconst firstNodeXPosition = window.innerWidth / 3;\n\n\tlet positionIncreamentCount = 1;\n\n\tfor (const valuChainItem in valuChain) {\n\t\tif (Object.hasOwnProperty.call(valuChain, valuChainItem)) {\n\t\t\tconst element = valuChain[valuChainItem];\n\t\t\tconst position = {\n\t\t\t\ty: element.step?.options?.layout?.y ? element.step?.options?.layout?.y : positionIncreamentCount == 1 ? 0 : firstNodeYPosition * positionIncreamentCount - 1,\n\t\t\t\tx: element.step?.options?.layout?.x ? element.step?.options?.layout?.x : element.step?.parent_steps?.length > 1 ? firstNodeXPosition + 400 : firstNodeXPosition,\n\t\t\t};\n\t\t\tpositionIncreamentCount++;\n\t\t\telements.push({\n\t\t\t\tid: valuChainItem,\n\t\t\t\ttype: element.step.is_start == true ? 'output' : element.step.is_end == true ? 'input' : element.childOf ? 'default' : 'input',\n\t\t\t\tdata: { label: element.label, step: element.step },\n\t\t\t\tposition,\n\t\t\t\tsourcePosition: 'top',\n\t\t\t\ttargetPosition: 'bottom',\n\t\t\t});\n\t\t}\n\t}\n\treturn elements;\n};\n\nconst generateEdgesFromValueChain = valuChain => {\n\tconst elements = [];\n\tfor (const valuChainItem in valuChain) {\n\t\tif (Object.hasOwnProperty.call(valuChain, valuChainItem)) {\n\t\t\tconst element = valuChain[valuChainItem];\n\t\t\tif (element.childOf) {\n\t\t\t\telement.childOf.filter(child => {\n\t\t\t\t\telements.push({\n\t\t\t\t\t\tid: `edge-${valuChainItem}-${child.id}`,\n\t\t\t\t\t\tsource: valuChainItem,\n\t\t\t\t\t\ttarget: child.id,\n\t\t\t\t\t\ttype: 'smoothstep',\n\t\t\t\t\t\tlabel: `${child.name} â®• ${element.step.name}`,\n\t\t\t\t\t\t//arrowHeadType: ArrowHeadType.ArrowClosed\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\treturn elements;\n};\n\nlet id = 0;\nconst getId = () => `dndnode_${id++}`;\n\nconst ProcessStepsChart = props => {\n\tconst isMounted = useMountedState();\n\tconst { selectedProcess, onEditStep, companyProcesses, workflowTemplates, updateParent = () => { }, edit = false, updateStep = () => { } } = props;\n\n\tconst [procContext, setInProcContext] = useProcessContext();\n\tconst [loading, setLoading] = useState(false);\n\tconst [onEdit, setOnEdit] = useState(edit);\n\tconst [paneMoveable] = useState(false);\n\tconst [panOnScroll] = useState(true);\n\tconst reactFlowWrapper = useRef(null);\n\tconst [reactFlowInstance, setReactFlowInstance] = useState(null);\n\tconst [elements, setElements] = useState(initialElements);\n\n\tuseEffect(() => {\n\t\tconst values = R.mergeAll(procContext?.steps\n\t\t\t.concat((procContext?.steps?.length == 0 || procContext?.steps?.filter(st => st.is_end === true).length > 0) ? [] : [{\n\t\t\t\tname: '',\n\t\t\t\tid: 'New',\n\t\t\t\tnew: true,\n\t\t\t\trank: 0,\n\t\t\t\tparent_steps: [procContext?.steps.length == 0 ? [] : procContext?.steps[procContext?.steps?.length - 1]]\n\t\t\t}])\n\t\t\t.map(step => {\n\t\t\t\treturn {\n\t\t\t\t\t[step?.id ?? 'New']: {\n\t\t\t\t\t\tlabel:\n\t\t\t\t\t\t\tstep.name === '' ? (\n\t\t\t\t\t\t\t\t'New Step'\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div>{`${step.is_start ? '(Start)' : ''} `}</div>\n\t\t\t\t\t\t\t\t\t<div style={{ fontSize: '16px' }}>{`${step.name}`}</div>\n\t\t\t\t\t\t\t\t\t<div>{`${step.is_end ? '(End)' : ''} `}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\tchildrenOf: step.parent_steps.length > 0 ? step.parent_steps[0].id : null,\n\t\t\t\t\t\tchildOf: step?.parent_steps ?? [],\n\t\t\t\t\t\tstep: step,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t})\n\t\t);\n\t\tsetElements([...generateNodesFromValueChain(values), ...generateEdgesFromValueChain(values)]);\n\t}, [procContext?.steps]);\n\n\tconst onLoad = _reactFlowInstance => {\n\t\tsetReactFlowInstance(_reactFlowInstance);\n\t\tsetTimeout(_reactFlowInstance.fitView);\n\t};\n\n\tconst onConnect = params => {\n\t\tif (new RegExp(/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/).test(params.source) || new RegExp(/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/).test(params.target)) {\n\t\t\tconst step = procContext.steps.find(step => step.id === params.target);\n\t\t\tif (step) {\n\t\t\t\tif (step.is_end == true) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tupdateParent(params.source, params.target, true);\n\t\t\tsetElements(els => addEdge(params, els));\n\t\t}\n\t};\n\n\tconst onElementsRemove = elementsToRemove => {\n\t\tif (elementsToRemove?.length > 0) {\n\t\t\tif (elementsToRemove[0]?.id.includes('edge')) {\n\t\t\t\tif (new RegExp(/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/).test(elementsToRemove[0].source) && new RegExp(/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/).test(elementsToRemove[0].target)) {\n\t\t\t\t\tupdateParent(elementsToRemove[0].source, elementsToRemove[0].target, false);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst step2remove = elementsToRemove.find(elem => !elem.id.includes('edge'));\n\t\t\t\tif (step2remove) {\n\t\t\t\t\tsetInProcContext({\n\t\t\t\t\t\ttype: pat.setSelectedStep,\n\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\t...step2remove.data.step,\n\t\t\t\t\t\t\tparent_steps: R.map(R.pick(['id', 'name', 'rank']))(step2remove?.data.step.parent_steps ?? []),\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\tonEditStep();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsetElements(els => removeElements(elementsToRemove, els));\n\t};\n\n\tconst onNodeDoubleClick = (event, node) => {\n\t\tif (node?.data?.step?.new == true) {\n\t\t\tsetInProcContext({ type: pat.addNewStep, value: selectedProcess.id });\n\t\t} else {\n\t\t\tsetInProcContext({\n\t\t\t\ttype: pat.setSelectedStep,\n\t\t\t\tvalue: {\n\t\t\t\t\t...node.data.step,\n\t\t\t\t\tparent_steps: R.map(R.pick(['id', 'name', 'rank']))(node?.data?.step?.parent_steps ?? []),\n\t\t\t\t\tlayout: node?.position,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t\tonEditStep();\n\t};\n\n\tconst onConnectBegin = (event, node) => {\n\t\treturn;\n\t};\n\n\tconst onNodeDragStop = (event, node) => {\n\t\tsetInProcContext({\n\t\t\ttype: pat.setSelectedStep,\n\t\t\tvalue: {\n\t\t\t\t...node.step,\n\t\t\t\tlayout: node?.position,\n\t\t\t},\n\t\t});\n\n\t\tupdateStep({\n\t\t\t...node?.data?.step,\n\t\t\toptions: { ...node?.data?.step?.options, layout: node.position },\n\t\t});\n\t};\n\tconst onDragOver = event => {\n\t\tevent.preventDefault();\n\t\tevent.dataTransfer.dropEffect = 'move';\n\t};\n\n\tconst onDrop = event => {\n\t\tevent.preventDefault();\n\t\tconst reactFlowBounds = reactFlowWrapper.current.getBoundingClientRect();\n\t\tconst type = event.dataTransfer.getData('application/reactflow');\n\t\tconst position = reactFlowInstance.project({\n\t\t\tx: event.clientX - reactFlowBounds.left,\n\t\t\ty: event.clientY - reactFlowBounds.top,\n\t\t});\n\t\tconst newNode = {\n\t\t\tid: getId(),\n\t\t\ttype,\n\t\t\tposition,\n\t\t\tsourcePosition: 'top',\n\t\t\ttargetPosition: 'bottom',\n\t\t\tdata: { label: `New Step ${type}`, step: { name: '', new: true } },\n\t\t};\n\t\tsetInProcContext({ type: pat.addNewStep, value: selectedProcess.id });\n\t\tsetElements(es => es.concat(newNode));\n\t\t\n\t\tonEditStep();\n\t};\n\n\tuseEffect(() => {\n\t\tif (selectedProcess.name !== '' && selectedProcess.id !== '') {\n\t\t\tlet found = companyProcesses.find(process => process.id === selectedProcess.id);\n\t\t\tif (!found) {\n\t\t\t\tfound = workflowTemplates.find(process => process.id === selectedProcess.id);\n\t\t\t}\n\t\t\tif (found && found?.steps.length > 0) {\n\t\t\t\tconst addUUID = obj => R.assoc('_uuid', generateNewUUID(), obj);\n\t\t\t\tconst updated = R.compose(R.sortBy(R.eqProps('rank')), R.map(R.over(R.lensProp('component_blueprints'), R.map(addUUID))))(found.steps);\n\t\t\t\tsetInProcContext({\n\t\t\t\t\ttype: pat.setAllSteps,\n\t\t\t\t\tvalue: updated,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetLoading(true);\n\t\t\t\tgetProcessById(selectedProcess.id)\n\t\t\t\t\t.pipe(first())\n\t\t\t\t\t.subscribe({\n\t\t\t\t\t\tnext: data => {\n\t\t\t\t\t\t\tif (data?.steps?.length > 0) {\n\t\t\t\t\t\t\t\tconst addUUID = obj => R.assoc('_uuid', generateNewUUID(), obj);\n\t\t\t\t\t\t\t\tconst updated = R.compose(R.sortBy(R.eqProps('rank')), R.map(R.over(R.lensProp('component_blueprints'), R.map(addUUID))))(data.steps);\n\t\t\t\t\t\t\t\tsetInProcContext({\n\t\t\t\t\t\t\t\t\ttype: pat.setAllSteps,\n\t\t\t\t\t\t\t\t\tvalue: updated,\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tisMounted() && setLoading(false);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: _error => {\n\t\t\t\t\t\t\tisMounted() && setLoading(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, [selectedProcess]);\n\n\tconst Tree_Component = props => {\n\t\tconst { step } = props;\n\t\treturn (\n\t\t\t<TreeNode\n\t\t\t\tlabel={\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={cls.target}\n\t\t\t\t\t\tstyle={{ display: '' }}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetInProcContext({\n\t\t\t\t\t\t\t\ttype: pat.setSelectedStep,\n\t\t\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\t\t\t...step,\n\t\t\t\t\t\t\t\t\tparent_steps: R.map(R.pick(['id', 'name', 'rank']))(step?.parent_steps ?? []),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tonEditStep();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className={cls.startContainer}>\n\t\t\t\t\t\t\t<div className={cls.step} app-card-type=\"start\">\n\t\t\t\t\t\t\t\t<p className={cls.paragraph}>{step?.name}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{step?.next_steps && step?.next_steps?.map((ch, index) => <Tree_Component key={index} step={procContext?.steps.find(s => s.id === ch.id)} />)}\n\t\t\t\t{step?.pathway_steps && step?.pathway_steps?.map((ch, index) => <TreeNode key={index} label={<div className={cls.tree}>{ch.name}</div>} />)}\n\t\t\t\t{step?.pathway_processes &&\n\t\t\t\t\tstep?.pathway_processes?.map((ph, index) => (\n\t\t\t\t\t\t<TreeNode\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={cls.tree}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetLoading(true);\n\t\t\t\t\t\t\t\t\t\tgetStepsByProcessId({ processId: ph.id })\n\t\t\t\t\t\t\t\t\t\t\t.pipe(first())\n\t\t\t\t\t\t\t\t\t\t\t.subscribe({\n\t\t\t\t\t\t\t\t\t\t\t\tnext: data => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst addUUID = obj => R.assoc('_uuid', generateNewUUID(), obj);\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst updated = R.compose(R.sortBy(R.eqProps('rank')), R.map(R.over(R.lensProp('component_blueprints'), R.map(addUUID))))(data);\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetInProcContext({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: pat.setAllSteps,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: updated,\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\tisMounted() && setLoading(false);\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\terror: _error => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tisMounted() && setLoading(false);\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{`Process: ${ph.name}`}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t{step?.is_end === true && procContext?.steps.filter(s => s.rank !== 1 && s?.parent_steps?.length == 0).length == 0 && <TreeNode label={<div className={cls.tree}>End Step</div>} />}\n\t\t\t</TreeNode>\n\t\t);\n\t};\n\treturn (\n\t\t<div>\n\t\t\t{loading && selectedProcess.name !== '' && selectedProcess.id !== '' && (\n\t\t\t\t<div className={cls.placeholderContainer} style={{ display: '' }}>\n\t\t\t\t\t{<Spinner size={80} type={'ThreeDots'} />}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{onEdit && (\n\t\t\t\t<div className=\"dndflow\">\n\t\t\t\t\t<ReactFlowProvider>\n\t\t\t\t\t\t<div className=\"reactflow-wrapper\" ref={reactFlowWrapper}>\n\t\t\t\t\t\t\t<ReactFlow\n\t\t\t\t\t\t\t\telements={elements}\n\t\t\t\t\t\t\t\tnodesDraggable={false}\n\t\t\t\t\t\t\t\tonConnectStart={onConnectBegin}\n\t\t\t\t\t\t\t\tonConnect={onConnect}\n\t\t\t\t\t\t\t\tonElementsRemove={onElementsRemove}\n\t\t\t\t\t\t\t\tonLoad={onLoad}\n\t\t\t\t\t\t\t\tonDrop={onDrop}\n\t\t\t\t\t\t\t\tonDragOver={onDragOver}\n\t\t\t\t\t\t\t\tpaneMoveable={paneMoveable}\n\t\t\t\t\t\t\t\tpanOnScroll={panOnScroll}\n\t\t\t\t\t\t\t\tsnapToGrid={true}\n\t\t\t\t\t\t\t\tonNodeDragStop={onNodeDragStop}\n\t\t\t\t\t\t\t\tonNodeDoubleClick={onNodeDoubleClick}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Controls />\n\t\t\t\t\t\t\t\t<Background variant=\"lines\" />\n\t\t\t\t\t\t\t</ReactFlow>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Sidebar title={selectedProcess.name} subtitle={selectedProcess.description} />\n\t\t\t\t\t</ReactFlowProvider>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<div className={cls.host} app-is-preview={'false'} style={{ display: procContext?.steps.length > 0 && !onEdit ? '' : 'none' }}>\n\t\t\t\t{!loading && procContext?.steps.length > 0 && (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Tree\n\t\t\t\t\t\t\tlineWidth={'2px'}\n\t\t\t\t\t\t\tlineColor={'green'}\n\t\t\t\t\t\t\tlineBorderRadius={'10px'}\n\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t<div className={cls.tree} style={{ fontSize: '26px', padding: '30px 10px', display: procContext?.steps.length > 0 ? '' : 'none', maxWidth: '50%' }}>\n\t\t\t\t\t\t\t\t\t{selectedProcess.name}\n\t\t\t\t\t\t\t\t\t<p>{selectedProcess.description}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{procContext?.steps.length > 0 && <Tree_Component step={procContext?.steps.find(s => s.rank === 1)} />}\n\t\t\t\t\t\t</Tree>\n\t\t\t\t\t\t<Tree lineWidth={'0px'} lineColor={'transparent'}>\n\t\t\t\t\t\t\t{procContext?.steps.length > 0 && procContext?.steps.filter(s => s.rank !== 1 && s?.parent_steps?.length == 0).length > 0 && <Tree_Component step={procContext?.steps.find(s => s.rank !== 1 && s?.parent_steps?.length == 0)} />}\n\t\t\t\t\t\t</Tree>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t{procContext?.steps.length > 0 > 0 && onEditStep && (\n\t\t\t\t<div style={{ float: 'right' }}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon={<FontAwesomeIcon style={{ width: '20px', height: '20px' }} icon={onEdit ? faDiagramNext : faDiagramProject} />}\n\t\t\t\t\t\tlight\n\t\t\t\t\t\ttitle={onEdit ? 'Chart' : 'Builder'}\n\t\t\t\t\t\tclicked={() => {\n\t\t\t\t\t\t\tsetOnEdit(!onEdit);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = store => {\n\tconst { selectedProcess, companyProcesses, workflowTemplates } = store.flowReducer;\n\treturn { selectedProcess, companyProcesses, workflowTemplates };\n};\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tonSetSelectedProStep: selectedStep => dispatch(setSelectedProStep(selectedStep)),\n\t};\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ProcessStepsChart);\n"],"names":["props","_props$title","_props$subtitle","React","className","title","subtitle","onDragStart","event","nodeType","dataTransfer","setData","effectAllowed","draggable","initialElements","generateNodesFromValueChain","valuChain","elements","valueChainSize","Object","keys","length","firstNodeYPosition","window","innerHeight","firstNodeXPosition","innerWidth","positionIncreamentCount","valuChainItem","hasOwnProperty","call","_element$step","_element$step$options","_element$step$options2","_element$step2","_element$step2$option","_element$step2$option2","_element$step3","_element$step3$option","_element$step3$option2","_element$step4","_element$step4$option","_element$step4$option2","_element$step5","_element$step5$parent","element","position","y","step","options","layout","x","parent_steps","push","id","type","is_start","is_end","childOf","data","label","sourcePosition","targetPosition","generateEdgesFromValueChain","filter","child","concat","source","target","name","connect","store","selectedProcess","companyProcesses","workflowTemplates","flowReducer","dispatch","onSetSelectedProStep","selectedStep","setSelectedProStep","isMounted","useMountedState","onEditStep","updateParent","edit","updateStep","procContext","setInProcContext","useProcessContext","loading","setLoading","useState","onEdit","setOnEdit","paneMoveable","panOnScroll","reactFlowWrapper","useRef","reactFlowInstance","setReactFlowInstance","setElements","useEffect","_procContext$steps","_procContext$steps2","_procContext$steps3","values","R","steps","st","new","rank","map","_step$id","_step$parent_steps","createElement","style","fontSize","childrenOf","_found","found","find","process","addUUID","obj","generateNewUUID","updated","pat","value","getProcessById","pipe","first","subscribe","next","_data$steps","error","_error","Tree_Component","_step$next_steps","_step$pathway_steps","_step$pathway_process","TreeNode","cls","display","onClick","_step$parent_steps2","_objectSpread","next_steps","ch","index","key","s","pathway_steps","pathway_processes","ph","getStepsByProcessId","processId","_s$parent_steps","Spinner","size","ReactFlowProvider","ref","ReactFlow","nodesDraggable","onConnectStart","onConnectBegin","node","onConnect","params","RegExp","test","els","addEdge","onElementsRemove","elementsToRemove","_elementsToRemove$","includes","step2remove","elem","_step2remove$data$ste","removeElements","onLoad","_reactFlowInstance","setTimeout","fitView","onDrop","preventDefault","reactFlowBounds","current","getBoundingClientRect","getData","project","clientX","left","clientY","top","newNode","es","onDragOver","dropEffect","snapToGrid","onNodeDragStop","_node$data3","_node$data4","_node$data4$step","onNodeDoubleClick","_node$data","_node$data$step","_node$data$step$paren","_node$data2","_node$data2$step","Controls","Background","variant","Sidebar","description","Tree","lineWidth","lineColor","lineBorderRadius","padding","maxWidth","_s$parent_steps2","_s$parent_steps3","float","Button","icon","FontAwesomeIcon","width","height","faDiagramNext","faDiagramProject","light","clicked"],"sourceRoot":""}