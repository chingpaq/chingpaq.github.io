{"version":3,"file":"static/js/825.842412ff.chunk.js","mappings":"wMACA,QAAgC,uCAAhC,EAA6F,6CAA7F,EAA20B,wCAA30B,EAA44B,gD,gDCW54B,MAyHA,GAAeA,EAAAA,EAAAA,IAXSC,IACvB,MAAM,oBAAEC,EAAmB,gBAAEC,GAAoBF,EAAMG,YACvD,MAAO,CAAEF,sBAAqBC,oBAEJE,IACnB,CACNC,uBAAwBC,GAAWF,GAASG,EAAAA,EAAAA,IAAqBD,IACjEE,wBAAyBC,GAAgBL,GAASM,EAAAA,EAAAA,IAA8BD,IAChFE,8BAA+BC,GAAUR,GAASS,EAAAA,EAAAA,IAA4BD,MAGhF,CAzHwBE,IACvB,MAAMC,GAAWC,EAAAA,EAAAA,OACX,wBAAER,EAAuB,uBAAEH,EAAsB,gBAAEH,GAAoBY,GACtEG,IAAeC,EAAAA,EAAAA,UAAS,CAAC,IACzBC,EAAeC,IAAoBF,EAAAA,EAAAA,UAAS,CAAEG,MAAO,EAAGC,OAAQ,IACjEC,GAAgBC,EAAAA,EAAAA,WACfC,EAAiBC,IAAsBR,EAAAA,EAAAA,WAAS,IAChDS,EAASC,IAAcV,EAAAA,EAAAA,WAAS,IAChCW,EAAaC,IAAkBZ,EAAAA,EAAAA,WAAS,IAC/Ca,EAAAA,EAAAA,WAAU,KACTC,KACE,CAACT,EAAeN,IACnB,MAAMe,GAA0BC,EAAAA,EAAAA,aAAY,KAAO,IAADC,EACjD,MAAM,MAAEb,EAAK,OAAEC,IAAwB,OAAbC,QAAa,IAAbA,GAAsB,QAATW,EAAbX,EAAeY,eAAO,IAAAD,OAAT,EAAbA,EAAwBE,0BAA2B,CAAC,EAC9EhB,EAAiB,CAAEC,MAAOA,EAAOC,OAAQA,KACvC,CAACC,IAiBJ,OACCc,EAAAA,cAAA,OAAKC,UAAWC,GACfF,EAAAA,cAAA,OAAKC,UAAWC,EAAyBC,MAAO,CAAEC,QAAS,KAC1DJ,EAAAA,cAACK,EAAAA,GAAM,CACNC,MAAO,OACPC,QAASA,KACR5C,EAAAA,EAAAA,UAAe6C,EAAAA,EAAAA,KAAY,IAC3B9B,EAAS,eAGXsB,EAAAA,cAACS,EAAAA,GAAiB,CAACC,YAAa,CAACC,EAAAA,GAAAA,QAAAA,SAAAA,SAChCX,EAAAA,cAACK,EAAAA,GAAM,CACNO,OAAK,EACLN,MAAO,cACPC,QAASA,KACRlB,GAAmB,MAGrBW,EAAAA,cAACK,EAAAA,GAAM,CACNO,OAAK,EACLN,MAAO,WACPC,QAASA,KACR5C,EAAAA,EAAAA,UACCkD,EAAAA,EAAAA,IAAgB,CACfC,KAAM,GACNC,GAAI,GACJC,YAAQC,EACRC,qBAAiBD,EACjBE,cAAe,GACfC,eAAe,EACfC,SAAU,GACVC,MAAO,GACPC,aAAc,MAGhBpD,EAAwB,CAAEqD,sBAAsB,IAChDxD,GAAuB,MAGzBgC,EAAAA,cAACK,EAAAA,GAAM,CACNO,OAAK,EACLN,MAAOd,EAAc,YAAc,aACnCe,QAASA,KACRd,GAAgBD,QAKpBQ,EAAAA,cAAA,OAAKC,UAAWC,GACfF,EAAAA,cAACK,EAAAA,GAAM,CAACC,MAAO,wBAAyBmB,OAAK,EAACnC,QAASA,KAGxDU,EAAAA,cAAA,OAAK0B,IAAKxC,EAAee,UAAWC,GACnCF,EAAAA,cAAC2B,EAAAA,EAA0B,CAACC,YAAa9C,EAAe+C,kBApEjCC,IACzBvC,GAAW,IACXwC,EAAAA,EAAAA,IAAgBD,GAAYE,UAAU,CACrCC,KAAMA,KACL1C,GAAW,GACXpB,EAAwB,CAAEqD,sBAAsB,IAChDxD,GAAuB,IAExBkE,MAAOA,KACN3C,GAAW,IAEZ4C,SAAUA,UAyDqF3C,YAAaA,KAG3GJ,GACAY,EAAAA,cAACoC,EAAAA,EAAiB,CACjBhE,aAAcgB,EACdiD,gBAAgB,EAChBC,kBAAmB,CAAC,EACpBC,uBAAwB,CAAEC,SAAU,QAASxD,MAAO,MAAOC,OAAQ,QACnEwD,qBAAsB,CAAC,EACvBC,SAAUA,KACTrD,GAAmB,IAEpBsD,uBAAwBA,KACvBtD,GAAmB,IAEpBuD,mBAAoBA,KACnBvD,GAAmB,Q","sources":["webpack://flowhero/./src/appFiles/components/OnboardingEntries/CompanyOrganizationalChart/EditComOrgChart.module.scss?538b","appFiles/components/OnboardingEntries/CompanyOrganizationalChart/EditComOrgChart.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"mainContainer\":\"EditComOrgChart_mainContainer__ZAIhg\",\"backButtonContainer\":\"EditComOrgChart_backButtonContainer__HDWrv\",\"backButton\":\"EditComOrgChart_backButton__JSdP5\",\"backButtonIcon\":\"EditComOrgChart_backButtonIcon__oqptF\",\"inviteColleguesContainer\":\"EditComOrgChart_inviteColleguesContainer__s2Vbk\",\"inviteColleguesButton\":\"EditComOrgChart_inviteColleguesButton__XKKsk\",\"inviteColleguesButtonIcon\":\"EditComOrgChart_inviteColleguesButtonIcon__9zw1B\",\"controlsContainer\":\"EditComOrgChart_controlsContainer__K0uG6\",\"addPositionButton\":\"EditComOrgChart_addPositionButton__1vh3b\",\"addPositionButtonIcon\":\"EditComOrgChart_addPositionButtonIcon__bQyMP\",\"defineDepartmentsButton\":\"EditComOrgChart_defineDepartmentsButton__9vYgm\",\"defineDepartmentsButtonIcon\":\"EditComOrgChart_defineDepartmentsButtonIcon__3I+qp\",\"chartContainer\":\"EditComOrgChart_chartContainer__VeHYX\",\"paragraphNameContainer\":\"EditComOrgChart_paragraphNameContainer__PC4SG\"};","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\n\nimport { setServerFeatureNotReadyYet, setPositionInfo, setShowMenu } from '../../../reduxStore/actions/flowActions';\nimport { setOnBoardingModalsVisibility, setOnBoardingVisible } from '../../../reduxStore/actions/modalsActions';\nimport CompanyOrganizationalChart from './CompanyOrganizationalChart';\nimport cls from './EditComOrgChart.module.scss';\nimport { Button, PermissionWrapper, Spinner, po } from '../../common';\nimport { getPositionById } from '../../../services/company.service';\nimport { store } from '../../../reduxStore/store';\nimport CreateDepartments from '../OnboardingModals/CreateDepartments';\nconst EditComOrgChart = props => {\n\tconst navigate = useNavigate();\n\tconst { onToggleModalVisibility, onSetOnBoardingVisible, companyOrgChart } = props;\n\tconst [departments] = useState({});\n\tconst [aContainerDim, setAContainerDim] = useState({ width: 0, height: 0 });\n\tconst aContainerRef = useRef();\n\tconst [showDepartments, setShowDepartments] = useState(false);\n\tconst [loading, setLoading] = useState(false);\n\tconst [showAsChart, setShowAsChart] = useState(false);\n\tuseEffect(() => {\n\t\tsetAContainerDimensions();\n\t}, [aContainerRef, departments]);\n\tconst setAContainerDimensions = useCallback(() => {\n\t\tconst { width, height } = aContainerRef?.current?.getBoundingClientRect() || {};\n\t\tsetAContainerDim({ width: width, height: height });\n\t}, [aContainerRef]);\n\n\tconst onPositionPressed = positionId => {\n\t\tsetLoading(true);\n\t\tgetPositionById(positionId).subscribe({\n\t\t\tnext: () => {\n\t\t\t\tsetLoading(false);\n\t\t\t\tonToggleModalVisibility({ positionModalVisible: true });\n\t\t\t\tonSetOnBoardingVisible(true);\n\t\t\t},\n\t\t\terror: () => {\n\t\t\t\tsetLoading(false);\n\t\t\t},\n\t\t\tcomplete: () => {},\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className={cls.mainContainer}>\n\t\t\t<div className={cls.backButtonContainer} style={{ display: '' }}>\n\t\t\t\t<Button\n\t\t\t\t\ttitle={'Back'}\n\t\t\t\t\tclicked={() => {\n\t\t\t\t\t\tstore.dispatch(setShowMenu(true));\n\t\t\t\t\t\tnavigate('/company');\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<PermissionWrapper permissions={[po.company.orgChart.update]}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tlight\n\t\t\t\t\t\ttitle={'Departments'}\n\t\t\t\t\t\tclicked={() => {\n\t\t\t\t\t\t\tsetShowDepartments(true);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tlight\n\t\t\t\t\t\ttitle={'Add Role'}\n\t\t\t\t\t\tclicked={() => {\n\t\t\t\t\t\t\tstore.dispatch(\n\t\t\t\t\t\t\t\tsetPositionInfo({\n\t\t\t\t\t\t\t\t\tname: '',\n\t\t\t\t\t\t\t\t\tid: '',\n\t\t\t\t\t\t\t\t\tparent: undefined,\n\t\t\t\t\t\t\t\t\tparent_position: undefined,\n\t\t\t\t\t\t\t\t\tdepartment_id: '',\n\t\t\t\t\t\t\t\t\tis_managerial: false,\n\t\t\t\t\t\t\t\t\tchildren: [],\n\t\t\t\t\t\t\t\t\tusers: [],\n\t\t\t\t\t\t\t\t\tshared_users: [],\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tonToggleModalVisibility({ positionModalVisible: true });\n\t\t\t\t\t\t\tonSetOnBoardingVisible(true);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tlight\n\t\t\t\t\t\ttitle={showAsChart ? 'View List' : 'View Chart'}\n\t\t\t\t\t\tclicked={() => {\n\t\t\t\t\t\t\tsetShowAsChart(!showAsChart);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</PermissionWrapper>\n\t\t\t</div>\n\t\t\t<div className={cls.paragraphNameContainer}>\n\t\t\t\t<Button title={'Roles and Departments'} clear loading={loading} />\n\t\t\t</div>\n\n\t\t\t<div ref={aContainerRef} className={cls.chartContainer}>\n\t\t\t\t<CompanyOrganizationalChart dimmensions={aContainerDim} onPositionPressed={onPositionPressed} showAsChart={showAsChart}></CompanyOrganizationalChart>\n\t\t\t</div>\n\n\t\t\t{showDepartments && (\n\t\t\t\t<CreateDepartments\n\t\t\t\t\tmodalVisible={showDepartments}\n\t\t\t\t\thasCloseButton={true}\n\t\t\t\t\tmodalWrapperStyle={{}}\n\t\t\t\t\tshadowedContainerStyle={{ minWidth: '523px', width: '40%', height: 'auto' }}\n\t\t\t\t\tchildrenWrapperStyle={{}}\n\t\t\t\t\tonCancel={() => {\n\t\t\t\t\t\tsetShowDepartments(false);\n\t\t\t\t\t}}\n\t\t\t\t\tonPreviousButtonAction={() => {\n\t\t\t\t\t\tsetShowDepartments(false);\n\t\t\t\t\t}}\n\t\t\t\t\tonNextButtonAction={() => {\n\t\t\t\t\t\tsetShowDepartments(false);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = store => {\n\tconst { inviteColleguesList, companyOrgChart } = store.flowReducer;\n\treturn { inviteColleguesList, companyOrgChart };\n};\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tonSetOnBoardingVisible: visible => dispatch(setOnBoardingVisible(visible)),\n\t\tonToggleModalVisibility: modalVisible => dispatch(setOnBoardingModalsVisibility(modalVisible)),\n\t\tonSetServerFeatureNotReadyYet: unlock => dispatch(setServerFeatureNotReadyYet(unlock)),\n\t};\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(EditComOrgChart);\n"],"names":["connect","store","inviteColleguesList","companyOrgChart","flowReducer","dispatch","onSetOnBoardingVisible","visible","setOnBoardingVisible","onToggleModalVisibility","modalVisible","setOnBoardingModalsVisibility","onSetServerFeatureNotReadyYet","unlock","setServerFeatureNotReadyYet","props","navigate","useNavigate","departments","useState","aContainerDim","setAContainerDim","width","height","aContainerRef","useRef","showDepartments","setShowDepartments","loading","setLoading","showAsChart","setShowAsChart","useEffect","setAContainerDimensions","useCallback","_aContainerRef$curren","current","getBoundingClientRect","React","className","cls","style","display","Button","title","clicked","setShowMenu","PermissionWrapper","permissions","po","light","setPositionInfo","name","id","parent","undefined","parent_position","department_id","is_managerial","children","users","shared_users","positionModalVisible","clear","ref","CompanyOrganizationalChart","dimmensions","onPositionPressed","positionId","getPositionById","subscribe","next","error","complete","CreateDepartments","hasCloseButton","modalWrapperStyle","shadowedContainerStyle","minWidth","childrenWrapperStyle","onCancel","onPreviousButtonAction","onNextButtonAction"],"sourceRoot":""}