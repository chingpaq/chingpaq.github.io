"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[3799],{36957:function(e,t,l){l.r(t),l.d(t,{default:function(){return Cn}});var n=l(1413),o=l(93433),a=l(29439),i=l(67861),r=l(39518),d=l(11577),u=l(13845),s=l(95242),c=l(29937),m=l(88374),p=l(93389),v=l(89293),f=l(14170),y=l(85718),h="ProcessOptionsModal_host__4xb31",C="ProcessOptionsModal_target__Cmhw-",g="ProcessOptionsModal_title__JOTDc",b="ProcessOptionsModal_elementTextInput__8yK8r",S="ProcessOptionsModal_optionSection__Vj7zH",E="ProcessOptionsModal_controls__aDMTt",_="ProcessOptionsModal_controls2__fRbTq",Z="ProcessOptionsModal_errorContainer__YQXXM",w="ProcessOptionsModal_messageContainer__ca1I4",N="ProcessOptionsModal_selectComponentContainer__aYCuu",L="ProcessOptionsModal_multiSelectContainer__ee4zs",I="ProcessOptionsModal_multiSelectSearchInput__xCVpC",x="ProcessOptionsModal_multiSelectMenuOverlayList__bP915",M="ProcessOptionsModal_multiSelectMenuOverlayListItem__Gaoic",k=l(63077),O=l(88827),T=l(73500),P=l(27436),B=l(7162),F=l(46034),D=l(27197),A=l(90252);var W=l(34710),V=l(12075),z=l(52902),R=l(71982),j=l(67861),U=(l(66918),function(e){var t=e.children;return j.createElement("div",{className:S},t)}),q=(0,r.$j)((function(e){var t=e.flowReducer;return{companyProcesses:t.companyProcesses,companyPositionsArray:t.companyPositionsArray,allModules:t.allModules,components:t.components,onBoardingCompleted:t.onBoardingCompleted,companyData:t.companyData,onBoardingModalsVisibility:e.modalsReducer.onBoardingModalsVisibility}}))((function(e){var t,l,r,u=e.onClose,s=void 0===u?function(){}:u,y=e.onCreate,S=void 0===y?function(){}:y,T=e.isOpen,q=e.companyProcesses,H=e.selectedProcess,K=e.selectedProcessId,X=void 0===K?"":K,G=e.shadowedContainerStyle,Y=e.onBoardingCompleted,J=e.companyData,Q=e.onSkip,$=e.companyPositionsArray,ee=e.onBoardingModalsVisibility,te=(0,i.useState)(""!==(null===H||void 0===H?void 0:H.id)),le=(0,a.Z)(te,2),ne=le[0],oe=le[1],ae=(0,i.useState)(""),ie=(0,a.Z)(ae,2),re=ie[0],de=ie[1],ue=(0,i.useState)(H||void 0),se=(0,a.Z)(ue,2),ce=se[0],me=se[1],pe=(0,i.useState)(H?H.name:""),ve=(0,a.Z)(pe,2),fe=ve[0],ye=ve[1],he=(0,i.useState)(H?H.description:""),Ce=(0,a.Z)(he,2),ge=Ce[0],be=Ce[1],Se=(0,i.useState)(""),Ee=(0,a.Z)(Se,2),_e=Ee[0],Ze=Ee[1],we=(0,c._M)(),Ne=(0,a.Z)(we,2)[1],Le=(0,i.useState)(!1),Ie=(0,a.Z)(Le,2),xe=Ie[0],Me=Ie[1],ke=(0,i.useState)(!1),Oe=(0,a.Z)(ke,2),Te=Oe[0],Pe=Oe[1],Be=(0,i.useState)(!1),Fe=(0,a.Z)(Be,2),De=(Fe[0],Fe[1]),Ae=(0,i.useState)(null!==$&&void 0!==$?$:[]),We=(0,a.Z)(Ae,2),Ve=We[0],ze=We[1],Re=(0,i.useState)(null!==(t=null===H||void 0===H||null===(l=H.shared_positions)||void 0===l?void 0:l.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:e.id}})))&&void 0!==t?t:[]),je=(0,a.Z)(Re,2),Ue=je[0],qe=je[1],He=(0,i.useState)(!0),Ke=(0,a.Z)(He,2),Xe=(Ke[0],Ke[1]),Ge=(0,i.useState)([]),Ye=(0,a.Z)(Ge,2),Je=Ye[0],Qe=Ye[1],$e=(0,i.useState)(""),et=(0,a.Z)($e,2),tt=et[0],lt=et[1];(0,i.useEffect)((function(){1==ne&&((0,p.zJ)(X).pipe((0,d.P)()).subscribe({next:function(e){var t,l,n=null!==(t=null===e||void 0===e||null===(l=e.shared_positions)||void 0===l?void 0:l.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:e.id}})))&&void 0!==t?t:[];qe((0,o.Z)(n)),Xe(!1)},error:function(e){Xe(!1)}}),0==(null===$||void 0===$?void 0:$.length)&&(De(!0),Xe(!0),(0,W.OW)().pipe((0,d.P)()).subscribe({next:function(e){ze(null===e||void 0===e?void 0:e.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:e.id}}))),De(!1)},error:function(e){De(!1)}})))}),[ne,X]);var nt=(0,i.useCallback)((function(){Me(!0),lt(""),"superadmin"!==(null===J||void 0===J?void 0:J.status)?(0,p.QK)(X,null===Je||void 0===Je?void 0:Je.map((function(e){return null===e||void 0===e?void 0:e.value}))).pipe((0,d.P)(),function(e,t,l){var n=(0,B.m)(e)||t||l?{next:e,error:t,complete:l}:e;return n?(0,F.e)((function(e,t){var l;null===(l=n.subscribe)||void 0===l||l.call(n);var o=!0;e.subscribe((0,D.x)(t,(function(e){var l;null===(l=n.next)||void 0===l||l.call(n,e),t.next(e)}),(function(){var e;o=!1,null===(e=n.complete)||void 0===e||e.call(n),t.complete()}),(function(e){var l;o=!1,null===(l=n.error)||void 0===l||l.call(n,e),t.error(e)}),(function(){var e,t;o&&(null===(e=n.unsubscribe)||void 0===e||e.call(n)),null===(t=n.finalize)||void 0===t||t.call(n)})))})):A.y}({next:function(){},complete:function(){}})).subscribe({next:function(e){rt()},error:function(e){lt(ot(e))}}):rt()}),[X,Je,fe,ge]),ot=(0,i.useCallback)((function(e){var t,l,n,o;if(!(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.errors||null===(l=e.data)||void 0===l)&&l.message)return null===(n=e.data)||void 0===n?void 0:n.message;if(null!==e&&void 0!==e&&null!==(o=e.data)&&void 0!==o&&o.errors){var a,i,r,d,u=/^(?:\D*\d)/g;return(null===(a=Object.values(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.errors))||void 0===a||null===(i=a.map((function(e){var t=null===e||void 0===e?void 0:e.map((function(e){var t,l=e.match(/\d/g)[0];return(null===e||void 0===e?void 0:e.replace(u,null===(t=Je[l])||void 0===t?void 0:t.label))+"\n"}));return null===t||void 0===t?void 0:t.join("")})))||void 0===i?void 0:i.join(""))+(null===(d=e.data)||void 0===d?void 0:d.message)}return""}),[Je]),at=(null===q||void 0===q?void 0:q.length)>0?q.map((function(e){return{label:e.name,value:e,process:e}})):[],it=function(){Ne({type:c.Cb.setAllSteps,value:[]}),Me(!0),(0,p.QN)(fe,ge,null===ce||void 0===ce?void 0:ce.type).pipe((0,d.P)()).subscribe({next:function(e){Me(!1),O.h.dispatch((0,m.Xu)(e)),ee.seventhModalVisible&&O.h.dispatch((0,R.$6)({eightModalVisible:!0})),Ne({type:c.Cb.addNewStep,value:e.id}),S()},error:function(e){},complete:function(){}})},rt=(0,i.useCallback)((function(){Me(!0),(0,p.gQ)(null===ce||void 0===ce?void 0:ce.id,fe,ge,null===ce||void 0===ce?void 0:ce.type).pipe((0,d.P)()).subscribe({next:function(e){Me(!1),O.h.dispatch((0,m.Xu)(e)),Y?null===s||void 0===s||s():S()}})}),[ce,fe,ge]),dt={control:function(e,t){return(0,n.Z)((0,n.Z)({},e),{},{boxShadow:"none","&:hover":{border:"1px solid var(--app-color-gray-lighter)"},position:"relative",height:"60px",width:"101%",border:"var(--app-color-gray-lighter) solid 1px",borderRadius:"8px",padding:"3px",fontFamily:"var(--app-text-main-font)",fontSize:"1.4em",color:"#4A4A4A",textAlign:"left",flex:"1 1 auto",justifyContent:"center",alignItems:"center",alignContent:"center",alignSelf:"center",margin:"0px 0 0 0 ",marginBottom:"20px"})},input:function(e,t){return(0,n.Z)((0,n.Z)({},e),{},{fontFamily:"var(--app-text-main-font)",color:"#4A4A4A",width:"100%",textAlign:"left",fontSize:"0.8em",alignSelf:"center",padding:"0",marginLeft:0,textIndent:"0"})},menu:function(e,t){return(0,n.Z)((0,n.Z)({},e),{},{justifyContent:"center",alignItems:"center",verticalTextAlign:"center",alignContent:"center",fontFamily:"var(--app-text-main-font)"})},menulist:function(e,t){return(0,n.Z)((0,n.Z)({},e),{},{justifyContent:"center",alignItems:"center",verticalTextAlign:"center",alignContent:"center",fontFamily:"var(--app-text-main-font)"})},option:function(e,t){return(0,n.Z)((0,n.Z)({},e),{},{minHeight:15,paddingTop:0,fontSize:"1.1em",verticalTextAlign:"center",justifyContent:"center",alignItems:"center",alignContent:"center",fontFamily:"var(--app-text-main-font)"})},placeholder:function(e,t){return(0,n.Z)((0,n.Z)({},e),{},{fontSize:"0.75em",lineHeight:"20px",color:"#4A4A4A",fontWeight:400,overflow:"hidden",fontFamily:"var(--app-text-main-font)"})},singleValue:function(e,t){var l=t.isDisabled?.5:1;return(0,n.Z)((0,n.Z)({},e),{},{opacity:l,transition:"opacity 300ms",marginLeft:"0px",fontSize:"0.75em",lineHeight:"20px",color:"#4A4A4A",fontFamily:"var(--app-text-main-font)"})},indicatorsContainer:function(e,t){t._data;return(0,n.Z)((0,n.Z)({},e),{},{marginTop:"auto",marginBottom:"auto",color:"#4A4A4A",size:7,":hover":{color:"gray"},width:"65px",height:"45px",fontFamily:"var(--app-text-main-font)"})}};return j.createElement(f.U7,{isOpen:T,blured:!0,scrollable:!0,shadowedContainerStyle:G},j.createElement("div",{className:h},j.createElement("div",{className:C},j.createElement("p",{className:g,style:{display:Y?"":"none"}},(null===H||void 0===H||null===(r=H.id)||void 0===r?void 0:r.length)>0?"edit":"create new"," ","workflow"),j.createElement(U,null,e.children,j.createElement(f.Lb,{title:"Name of workflow"}),j.createElement("input",{type:"text",name:"element-name",value:fe,onChange:function(e){return ye(e.target.value)},className:b,style:{marginBottom:"10px"}}),j.createElement(f.Lb,{title:"Description of workflow"}),j.createElement("textarea",{type:"text",name:"element-name",value:ge,onChange:function(e){return be(e.target.value)},className:b,style:{marginBottom:"10px",height:"100px"}}),ne&&j.createElement(f.Lb,{title:"Show workflow to positions"}),ne&&j.createElement("div",{className:N},j.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"X",tagEmplacement:"inlined",items:Ve,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:Ue,className:L,inputClassName:I,molclassname:x,moliclassname:M,placeholder:"Select...",onChange:function(e){Qe(e)}},j.createElement(V.G,{icon:z.ptq,style:{marginRight:"10px"}})),(null===tt||void 0===tt?void 0:tt.length)>0&&j.createElement("span",{className:Z},tt)),j.createElement("br",null),j.createElement("br",null),at.length>0&&j.createElement(f.Lb,{title:"Select Another Workflow to Edit"}),at.length>0&&j.createElement(k.ZP,{onFocus:function(){return de("")},isSearchable:!1,key:"Workflow",styles:dt,placeholder:"Select workflow to edit...",components:{DropdownIndicator:v.ms},options:at,onChange:function(e){"New Workflow"!==e.label?(me(e.process),ye(e.process.name),be(e.process.description),O.h.dispatch((0,m.Xu)(e.process)),oe(!0)):(O.h.dispatch((0,m.Xu)({description:"",id:"",is_pinned:!1,name:"",user_id:"",registered:!1,type:!1,steps:[]})),me({description:"",id:"",is_pinned:!1,name:"",user_id:"",registered:!1,type:!1,steps:[]}),ye(""),be(""),oe(!1))}})),(null===_e||void 0===_e?void 0:_e.length)>0&&j.createElement(P.Z,{message:_e,onClick:function(){return Ze("")}}),(null===re||void 0===re?void 0:re.length)>0&&j.createElement("span",{className:w,onClick:function(){return de("")}},re)),j.createElement("div",{className:Y?E:_},Y&&j.createElement(f.zx,{title:"Close",clicked:s}),!Y&&j.createElement(f.zx,{light:!0,title:"Back",clicked:s}),!ne&&Y&&j.createElement(f.zx,{light:!0,title:"Save",loading:xe,clicked:it}),j.createElement("div",{style:{display:"flex"}},!ne&&!Y&&j.createElement(f.zx,{title:"Skip",loading:Te,clicked:function(){Pe(!0),Q()}}),!ne&&!Y&&j.createElement(f.zx,{title:"Create",loading:xe,clicked:it})),ne&&j.createElement(f.zx,{light:!0,title:"Update",loading:xe,clicked:nt}))))})),H="WorkflowTemplatesModal_host__Q3zbH",K="WorkflowTemplatesModal_header__N8ZLt",X="WorkflowTemplatesModal_title__23bdy",G="WorkflowTemplatesModal_subtitle__oBjjB",Y="WorkflowTemplatesModal_controls__ajc+K",J="WorkflowTemplatesModal_trialTitle__dTNg9",Q="WorkflowTemplatesModal_subTitle__Bzxqf",$="WorkflowTemplatesModal_trialText__c0htd",ee="WorkflowTemplatesModal_currentInvoicesContainer__-k6ew",te=l(23280),le=l(60761),ne=l(35606),oe=l(13397),ae=l(98032),ie=l(67861),re=(0,r.$j)((function(e){var t=e.flowReducer;return{companyProcesses:t.companyProcesses,companyPositionsArray:t.companyPositionsArray,allModules:t.allModules,components:t.components,onBoardingCompleted:t.onBoardingCompleted,workflowTemplates:t.workflowTemplates}}))((function(e){var t=e.isOpen,l=e.shadowedContainerStyle,n=e.onCreateBlank,o=e.gotoProcess,u=e.workflowTemplates,s=e.gotoComponents,y=(0,i.useState)(!1),h=(0,a.Z)(y,2),C=h[0],g=h[1],b=(0,i.useState)({name:"",steps:[]}),S=(0,a.Z)(b,2),E=S[0],_=S[1],Z=(0,r.v9)((function(e){return e.modalsReducer})),w=Z.onBoardingModalsVisibility,N=(Z.isOnboarding,w.secondModalVisible),L=w.fourthModalVisible,I=w.sixthModalVisible,x=w.templatesFirst,M=(0,r.I0)();document.title="New Workflow | ".concat(v.iC);var k=(0,te.s0)(),T=function(){M((0,m.Xu)(void 0)),O.h.dispatch((0,m.Xc)({show:!1,message:""})),k("/")};return ie.createElement(c.FZ,null,ie.createElement(f.U7,{isOpen:t,blured:!1,scrollable:!0,shadowedContainerStyle:l,onClose:T},ie.createElement("div",{className:H},ie.createElement("div",{style:{display:"flex",alignItems:"center"}},ie.createElement("p",{className:X},"New Workflow"),ie.createElement(f.zx,{clear:!0,loading:C})),ie.createElement("p",{className:G},"Start a new workflow or select from any of our predefined workflow templates"),ie.createElement("div",{style:{display:""===(null===E||void 0===E?void 0:E.name)||C?"none":"",width:"100%"}},ie.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"0 30px 0 30px"}},ie.createElement(f.zx,{title:"Hide",light:!0,clicked:function(){_({name:""}),g(!1),M((0,m.Xu)({name:"",steps:[]}))}}),ie.createElement(f.zx,{title:"Create",light:!0,style:{color:"white",backgroundColor:"green"},clicked:function(){g(!0),(0,p.yx)(E).pipe((0,d.P)()).subscribe({next:function(e){g(!1),o(e)},error:function(e){g(!1)}})}})),ie.createElement(le.Z,null)),ie.createElement("div",{className:ee,style:{maxWidth:"40%",minWidth:"260px",width:"30%",backgroundColor:N||L?"lightblue":"",height:"30vh"}},ie.createElement("p",{className:J},"Components"),ie.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",marginBottom:"20px"}}),ie.createElement("div",{className:K},ie.createElement("p",{className:$},"Create Components"),ie.createElement(f.zx,{disabled:C,title:"Open",style:{width:"80px",minWidth:"80px"},clicked:function(){N&&M((0,R.$6)({thirdModalVisible:!0})),L&&M((0,R.$6)({fifthModalVisible:!0})),s()}})),ie.createElement("br",null),ie.createElement("br",null),ie.createElement("p",{className:Q},"Components are objects that workflows use to input or output informations. In forms they are usally called fields.")),ie.createElement("div",{className:ee,style:{maxWidth:"40%",minWidth:"260px",width:"30%",backgroundColor:I?"lightblue":"",height:"30vh"}},ie.createElement("p",{className:J},"New Workflow"),ie.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",marginBottom:"20px"}}),ie.createElement("div",{className:K},ie.createElement("p",{className:$},"Blank Workflow"),ie.createElement(f.zx,{disabled:C,title:"Open",style:{width:"80px",minWidth:"80px"},clicked:function(){I&&M((0,R.$6)({seventhModalVisible:!0})),n()}})),ie.createElement("br",null),ie.createElement("br",null),ie.createElement("p",{className:Q},"Create your workflow using a blank canvass")),null===u||void 0===u?void 0:u.filter((function(e){return"Employee Master"===e.name})).map((function(e,t){return ie.createElement("div",{className:ee,style:{maxWidth:"40%",minWidth:"260px",width:"30%",backgroundColor:x&&"Customer Creation"===e.name?"lightblue":"",height:"30vh"},key:t},ie.createElement("p",{className:J},"Workflow Template"),ie.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",marginBottom:"20px"}}),!C&&ie.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"space-between"}},ie.createElement("div",{className:$},"".concat(e.name)),ie.createElement(f.zx,{disabled:C,title:(null===E||void 0===E?void 0:E.name)===e.name?"Create":"View",style:{display:(null===E||void 0===E?void 0:E.name)===e.name?"none":"",backgroundColor:(null===E||void 0===E?void 0:E.name)===e.name?"green":"rgb(83, 159, 234)",width:"80px",minWidth:"80px"},clicked:function(){(null===E||void 0===E?void 0:E.name)!==e.name?(window.scrollTo({top:0,behavior:"smooth"}),_(e),M((0,m.Xu)(e)),x&&M((0,R.$6)({templatesSecond:!0}))):(g(!0),(0,p.yx)(E).pipe((0,d.P)()).subscribe({next:function(e){g(!1),o(e)},error:function(e){g(!1)}}))}})),ie.createElement("br",null),ie.createElement("p",{className:Q},"".concat(e.description)))})),function(){var e;return null===(e=ne.Z([oe.Z(ae.Z("name"))])(u))||void 0===e?void 0:e.filter((function(e){return"Employee Master"!==e.name})).map((function(e,t){return ie.createElement("div",{className:ee,style:{maxWidth:"40%",minWidth:"260px",width:"30%",backgroundColor:x&&"Customer Creation"===e.name?"lightblue":""},key:t},ie.createElement("p",{className:J},"Workflow Template"),ie.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",marginBottom:"20px"}}),!C&&ie.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"space-between"}},ie.createElement("div",{className:$},"".concat(e.name)),ie.createElement(f.zx,{disabled:C,title:(null===E||void 0===E?void 0:E.name)===e.name?"Create":"View",style:{display:(null===E||void 0===E?void 0:E.name)===e.name?"none":"",backgroundColor:(null===E||void 0===E?void 0:E.name)===e.name?"green":"rgb(83, 159, 234)",width:"80px",minWidth:"80px"},clicked:function(){(null===E||void 0===E?void 0:E.name)!==e.name?(window.scrollTo({top:0,behavior:"smooth"}),_(e),M((0,m.Xu)(e)),x&&M((0,R.$6)({templatesSecond:!0}))):(g(!0),(0,p.yx)(E).pipe((0,d.P)()).subscribe({next:function(e){g(!1),o(e)},error:function(e){g(!1)}}))}})),ie.createElement("br",null),ie.createElement("p",{className:Q},"".concat(e.description)))}))}()),ie.createElement("div",{className:Y},ie.createElement(f.zx,{disabled:C,loading:C,title:"Close",clicked:T}))))})),de=l(87546),ue=(l(66596),l(6073)),se=l(4358),ce="ComponentsModal_host__d5q2n",me="ComponentsModal_title__1eiWg",pe="ComponentsModal_fieldRow__gg9Nz",ve="ComponentsModal_fieldRowContent__Ylhmb",fe="ComponentsModal_fieldRowControls__F17z0",ye="ComponentsModal_typeText__58xUE",he="ComponentsModal_fieldTypeInput__Pyosc",Ce="ComponentsModal_warningContainer__V1j68",ge="ComponentsModal_peoplePositionsSelect__6lG4K",be="ComponentsModal_peoplePositionsSelectInput__O5Mfe",Se="ComponentsModal_peoplePositionsSelectMenuOverlay__oF43q",Ee="ComponentsModal_peoplePositionsSelectMenuOverlayItem__efdLS",_e="ComponentsModal_selectedFieldsContainer__SaWzh",Ze="ComponentsModal_elementTextInput__JbVsI",we="ComponentsModal_fieldType__ifgEs",Ne=l(71002),Le=l(47144),Ie=l.n(Le),xe=l(66180),Me=l.n(xe),ke=l(85692),Oe={host:"FieldOptionsModal_host__+NDEc",closeContainer:"FieldOptionsModal_closeContainer__VBxuW",closeElement:"FieldOptionsModal_closeElement__xlo+y",closeIcon:"FieldOptionsModal_closeIcon__ga2TN",target:"FieldOptionsModal_target__ruE2b",optionSection:"FieldOptionsModal_optionSection__aAlGM",optionSettings:"FieldOptionsModal_optionSettings__py99w",title:"FieldOptionsModal_title__jqNO1",subtitle:"FieldOptionsModal_subtitle__26Gfa",elementInputTitle:"FieldOptionsModal_elementInputTitle__AAoAr",readOnlyTextInput:"FieldOptionsModal_readOnlyTextInput__Gff1d",elementTextArea:"FieldOptionsModal_elementTextArea__MCisO",elementTextInput:"FieldOptionsModal_elementTextInput__ywFdu",unfocusableWrapper:"FieldOptionsModal_unfocusableWrapper__sul2H",numberOptionsContainer:"FieldOptionsModal_numberOptionsContainer__9Adnt",renderBooleansOptions:"FieldOptionsModal_renderBooleansOptions__R4F-q",phonePrefixContainer:"FieldOptionsModal_phonePrefixContainer__X-k-T",phonePrefixSelectContainer:"FieldOptionsModal_phonePrefixSelectContainer__XK7PK",phoneIDropdown:"FieldOptionsModal_phoneIDropdown__f5MvN",phoneISearch:"FieldOptionsModal_phoneISearch__d42v9",phonePrefixText:"FieldOptionsModal_phonePrefixText__yi1yt",phoneIContainer:"FieldOptionsModal_phoneIContainer__YguKy",phoneIInput:"FieldOptionsModal_phoneIInput__xTFtX",phoneIButton:"FieldOptionsModal_phoneIButton__d4ccV","react-tel-input":"FieldOptionsModal_react-tel-input__Vdvqo","country-list":"FieldOptionsModal_country-list__bWUIZ","selected-flag":"FieldOptionsModal_selected-flag__RSASJ",open:"FieldOptionsModal_open__tDETU",currencySelectContainer:"FieldOptionsModal_currencySelectContainer__Vd4e9",currencySymbol:"FieldOptionsModal_currencySymbol__6RUaW",currencySelectComponent:"FieldOptionsModal_currencySelectComponent__BofG5",currencySelectMenuOverlayList:"FieldOptionsModal_currencySelectMenuOverlayList__xNU7C",currencySelectMenuOverlayListItem:"FieldOptionsModal_currencySelectMenuOverlayListItem__Z+vtS",currencySearchInput:"FieldOptionsModal_currencySearchInput__SKNfN",currencyClearControlsClassName:"FieldOptionsModal_currencyClearControlsClassName__Tsou1",uploadSelectComponent:"FieldOptionsModal_uploadSelectComponent__aIDW9",multiselectContainer:"FieldOptionsModal_multiselectContainer__VfjNY",uploadSearchInput:"FieldOptionsModal_uploadSearchInput__SM79r",maxFileSizeInput:"FieldOptionsModal_maxFileSizeInput__f2cLT",uploadFileSizeMeasureUnit:"FieldOptionsModal_uploadFileSizeMeasureUnit__FzVcE",uploadSelectMenuOverlayList:"FieldOptionsModal_uploadSelectMenuOverlayList__BCrMO",uploadSelectMenuOverlayListItem:"FieldOptionsModal_uploadSelectMenuOverlayListItem__Qkdru",dateTimePickerContainer:"FieldOptionsModal_dateTimePickerContainer__qjVxA",dateTimePickerTrigger:"FieldOptionsModal_dateTimePickerTrigger__judgV",dateAutosizeInput:"FieldOptionsModal_dateAutosizeInput__CsxLi",dateOptionsContainer:"FieldOptionsModal_dateOptionsContainer__Haxqc",dropdownElementHost:"FieldOptionsModal_dropdownElementHost__E7zgm",dropdownSymbol:"FieldOptionsModal_dropdownSymbol__5ABYM",dropdownSelectComponent:"FieldOptionsModal_dropdownSelectComponent__nArXq",dropdownSelectMenuOverlayList:"FieldOptionsModal_dropdownSelectMenuOverlayList__5n+3u",dropdownSelectMenuOverlayListItem:"FieldOptionsModal_dropdownSelectMenuOverlayListItem__QEn6G",dropdownInput:"FieldOptionsModal_dropdownInput__U3JY1",dropdownClearControlsClassName:"FieldOptionsModal_dropdownClearControlsClassName__FjsP5",dropdownListContainer:"FieldOptionsModal_dropdownListContainer__I6Y7K",dropDownButtonContainer:"FieldOptionsModal_dropDownButtonContainer__9K7oX",addDropdownOptionButton:"FieldOptionsModal_addDropdownOptionButton__EAca1",addDropdownOptionIcon:"FieldOptionsModal_addDropdownOptionIcon__XYMOa",dropDownNewListItemInputContainer:"FieldOptionsModal_dropDownNewListItemInputContainer__QgqO+",dropDownNewListItemInput:"FieldOptionsModal_dropDownNewListItemInput__u4m7R",dropdownInputButtonSaveNewItem:"FieldOptionsModal_dropdownInputButtonSaveNewItem__Wj4Cc",dropdownListItemsContainer:"FieldOptionsModal_dropdownListItemsContainer__yUWal",renderEditableListContainer:"FieldOptionsModal_renderEditableListContainer__H4aqe",renderEditableListItemInput:"FieldOptionsModal_renderEditableListItemInput__KLSTJ",renderEditableListItemDeleteButton:"FieldOptionsModal_renderEditableListItemDeleteButton__+u21c",peopleContainer:"FieldOptionsModal_peopleContainer__pfgvy",peopleBooleansOptions:"FieldOptionsModal_peopleBooleansOptions__OJGc9",peoplePositionSelectContainer:"FieldOptionsModal_peoplePositionSelectContainer__WVMlT",peoplePositionsSelect:"FieldOptionsModal_peoplePositionsSelect__WvnuB",peoplePositionsSelectMenuOverlay:"FieldOptionsModal_peoplePositionsSelectMenuOverlay__MhaEf",peoplePositionsSelectMenuOverlayItem:"FieldOptionsModal_peoplePositionsSelectMenuOverlayItem__n-2C5",controls:"FieldOptionsModal_controls__bDTZg",deleteButton:"FieldOptionsModal_deleteButton__YT1QH",errorContainer:"FieldOptionsModal_errorContainer__Pvvt9",componentsSelectContainer:"FieldOptionsModal_componentsSelectContainer__y8BMn",componentsSymbol:"FieldOptionsModal_componentsSymbol__sqPYL",componentsSelectComponent:"FieldOptionsModal_componentsSelectComponent__WhkRj",componentsSelectMenuOverlayList:"FieldOptionsModal_componentsSelectMenuOverlayList__tR9cX",componentsSelectMenuOverlayListItem:"FieldOptionsModal_componentsSelectMenuOverlayListItem__ptRPc",componentsSearchInput:"FieldOptionsModal_componentsSearchInput__MTz6p",ccomponentsClearControlsClassName:"FieldOptionsModal_ccomponentsClearControlsClassName__WMR5x",checkboxLabelClass:"FieldOptionsModal_checkboxLabelClass__zMstz"},Te=l(66918),Pe=[{label:"Display as text",value:"text"},{label:"Display as Horizontal Bar",value:"bar"}],Be=function(e){var t,l,d,s,c,m,p,y,h,C,g,b,S,E,_,Z,w,N,L,I,x,M,k,O,T,P,B,F,D,A,W,V,z,R,j,U,q,H,K,X,G,Y,J,Q,$,ee,te,le,ne,oe,ae,ie,re,de,ue,se,ce,me,pe,ve,fe,ye,he,Ce,ge,be,Se,Ee,_e,Ze,we,Le,xe,Me,ke,Be,st,gt,bt,St,Et,_t,Zt,wt,Nt,Lt,It,xt,Mt,kt,Ot,Tt,Pt,Bt,Ft,Dt,At,Wt,Vt,zt,Rt,jt,Ut,qt,Ht,Kt,Xt,Gt,Yt,Jt,Qt,$t,el,tl,ll,nl,ol,al,il,rl,dl,ul,sl,cl,ml,pl,vl,fl,yl,hl,Cl,gl,bl,Sl,El,_l,Zl,wl,Nl,Ll,Il,xl,Ml,kl,Ol,Tl,Pl,Bl,Fl,Dl,Al,Wl,Vl,zl=e.onClose,Rl=e.isOpen,jl=e.leftControlLoading,Ul=e.leftControlAction,ql=e.centralControlAction,Hl=e.centralControlLoading,Kl=e.modalStyle,Xl=e.allModules,Gl=e.blueprints,Yl=e.selectedFields,Jl=e.components,Ql=e.products,$l=e.companyProcesses,en=e.readOnly,tn=void 0!==en&&en,ln=(0,u.aL)(),nn=(0,a.Z)(ln,1)[0],on=(null===nn||void 0===nn?void 0:nn.selectedFieldFromSelectedBlueprintComponent)||{},an=on.field_type,rn=void 0===an?{}:an,dn=on.id,un=on.value,sn=on.options,cn=(0,i.useState)(un),mn=(0,a.Z)(cn,2),pn=mn[0],vn=mn[1],fn=(0,i.useState)(!1),yn=(0,a.Z)(fn,2),hn=yn[0],Cn=yn[1],gn=(0,i.useState)((0,n.Z)({},sn)),bn=(0,a.Z)(gn,2),Sn=bn[0],En=bn[1],_n=(0,i.useState)({}),Zn=(0,a.Z)(_n,2),wn=Zn[0],Nn=Zn[1],Ln=(0,r.v9)((function(e){return e.flowReducer})),In=Ln.companyPositionsArray,xn=Ln.companyDepartments,Mn=Ln.companyUsersArray,kn=(0,i.useState)(Te.sortWith([Te.ascend(Te.prop("department_name"))])(null===In||void 0===In?void 0:In.map((function(e){var t;return{label:e.label,value:e.value,department_name:e.department,department_id:null===(t=xn.find((function(t){return t.label==e.department})))||void 0===t?void 0:t.value}})))),On=(0,a.Z)(kn,1)[0],Tn=(0,i.useState)(null===sn||void 0===sn?void 0:sn.interval),Pn=(0,a.Z)(Tn,2),Bn=Pn[0],Fn=Pn[1],Dn=(0,i.useState)(null===sn||void 0===sn?void 0:sn.field),An=(0,a.Z)(Dn,2),Wn=An[0],Vn=An[1],zn=(0,i.useState)([{label:"Firstname",value:"first_name"},{label:"Lastname",value:"last_name"},{label:"Username",value:"username"},{label:"Email",value:"email"},{label:"Address",value:"address"},{label:"City",value:"city"},{label:"Postal",value:"postal"},{label:"Phone",value:"phone"},{label:"Timezone",value:"timezone"}]),Rn=(0,a.Z)(zn,1)[0],jn=(0,i.useCallback)((function(){var e,t,l={general:"",name:"",list:"",type:""};((null===pn||void 0===pn||null===(e=pn.trim())||void 0===e?void 0:e.length)<1&&(l.name="Element name must have at least one letter character"),rn&&Te.has("options")(rn))&&(null===rn||void 0===rn||null===(t=rn.options)||void 0===t||t.forEach((function(e){var t;"object"!==(0,Ne.Z)(e)&&(Te.has(null===e||void 0===e?void 0:e.toString())(Sn)||(l.general="Mandatory fields are not completed,"),(!Sn[e]||null!==Sn&&void 0!==Sn&&Sn[e]&&(null===(t=Sn[e])||void 0===t?void 0:t.length)<1)&&(l[e]=" ".concat(e," was not provided")))})));return Nn(l),!!Object.values(l).every((function(e){return""===e}))}),[Sn,pn,rn,sn]),Un=(0,i.useCallback)((function(){hn&&jn()}),[hn,jn]);(0,i.useEffect)((function(){Un()}),[Un]);var qn=(0,i.useCallback)((function(){Cn(!0),jn()&&(null===ql||void 0===ql||ql({id:dn,value:pn,options:Sn}))}),[ql,Sn,pn,dn,jn]),Hn=Xl.map((function(e){return{label:e.name,value:e.id,module:e}}));return i.createElement(f.U7,{isOpen:Rl,blured:!0,scrollable:!0,shadowedContainerStyle:Kl},i.createElement("div",{className:Oe.host},i.createElement("div",{className:Oe.target},i.createElement("p",{className:Oe.title},"edit ".concat(null===rn||void 0===rn?void 0:rn.name)),i.createElement(Ae,{errorMessage:Object.values(wn).length>0?Object.values(wn).filter((function(e){return""!==e})):""}),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Field Name"}),i.createElement("input",{type:"text",name:"element-name",value:pn,onChange:function(e){return t=e.target.value,void vn(t);var t},className:Oe.elementTextInput,readOnly:"Template"===rn.name})),"number"===(null===rn||void 0===rn||null===(t=rn.name)||void 0===t?void 0:t.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(We,{validationErrors:wn,defaultValue:"numeric"==(null===sn||void 0===sn?void 0:sn.type),onChangeType:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{type:e}))}}),i.createElement(Ae,{errorMessage:null===wn||void 0===wn?void 0:wn.type},i.createElement(f.Lb,{title:"Output display"}),i.createElement(f.sm,{"apps-variant":null!==wn&&void 0!==wn&&wn.type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:Pe,defaultSelectedItem:Pe.find((function(e){return e.value===(null===Sn||void 0===Sn?void 0:Sn.display)})),className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){"bar"===(null===e||void 0===e?void 0:e.value)?En((0,n.Z)((0,n.Z)({},Sn),{},{display:null===e||void 0===e?void 0:e.value,chart:!1})):(null===Sn||void 0===Sn||delete Sn.barC,null===Sn||void 0===Sn||delete Sn.maxC,null===Sn||void 0===Sn||delete Sn.max,En((0,n.Z)((0,n.Z)({},Sn),{},{display:null===e||void 0===e?void 0:e.value})))}}))),"bar"===(null===Sn||void 0===Sn?void 0:Sn.display)&&i.createElement(Ae,{errorMessage:null===wn||void 0===wn?void 0:wn.name},i.createElement(f.Lb,{title:"Maximum Value"}),i.createElement("input",{type:"text",name:"element-name",value:Sn.max,onBlur:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{max:e.target.value}))},className:Oe.elementTextInput}),i.createElement(f.Lb,{title:"Color - Formula Value"}),i.createElement("input",{type:"text",className:Oe.elementTextInput,style:{borderRight:"white"===(null===Sn||void 0===Sn?void 0:Sn.barC)?"white":"50px solid ".concat(null!==(l=null===Sn||void 0===Sn?void 0:Sn.barC)&&void 0!==l?l:"#F6F4EC")},defaultValue:null!==(d=null===Sn||void 0===Sn?void 0:Sn.barC)&&void 0!==d?d:"#F6F4EC",onBlur:function(e){return En((0,n.Z)((0,n.Z)({},Sn),{},{barC:e.target.value}))}}),i.createElement(f.Lb,{title:"Color - Formula Max Value"}),i.createElement("input",{type:"text",className:Oe.elementTextInput,style:{borderRight:"white"===(null===Sn||void 0===Sn?void 0:Sn.maxC)?"white":"50px solid ".concat(null!==(s=null===Sn||void 0===Sn?void 0:Sn.maxC)&&void 0!==s?s:"yellow")},defaultValue:null!==(c=null===Sn||void 0===Sn?void 0:Sn.maxC)&&void 0!==c?c:"yellow",onBlur:function(e){return En((0,n.Z)((0,n.Z)({},Sn),{},{maxC:e.target.value}))}})),"percentage"===(null===Sn||void 0===Sn?void 0:Sn.type)&&"bar"!==(null===Sn||void 0===Sn?void 0:Sn.display)&&i.createElement(f.pd,{id:"Show chart for percentage value",title:"Show chart for percentage value",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===Sn||void 0===Sn?void 0:Sn.chart,toggleSelected:function(e){En(e?(0,n.Z)((0,n.Z)({},Sn),{},{chart:!0}):(0,n.Z)((0,n.Z)({},Sn),{},{chart:!1}))}})),"url"===(null===rn||void 0===rn||null===(m=rn.name)||void 0===m?void 0:m.toLowerCase())&&i.createElement(ze,{validationErrors:wn,defaultType:"image"==(null===sn||void 0===sn?void 0:sn.type),defaultValue:null!==(p=null===sn||void 0===sn?void 0:sn.value)&&void 0!==p?p:"",onChangeType:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{type:e}))},onChangeValue:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{value:e}))}}),"checkbox"===(null===rn||void 0===rn||null===(y=rn.name)||void 0===y?void 0:y.toLowerCase())&&i.createElement(Re,{validationErrors:wn,defaultValue:null!==(h=null===sn||void 0===sn?void 0:sn.value)&&void 0!==h?h:"",onChangeValue:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{value:e}))}}),"phone"===(null===rn||void 0===rn||null===(C=rn.name)||void 0===C?void 0:C.toLowerCase())&&i.createElement(je,{validationErrors:wn,countryCode:null===sn||void 0===sn?void 0:sn.country_code,defaultValue:(null===sn||void 0===sn?void 0:sn.country_prefix)+" "+(null===sn||void 0===sn?void 0:sn.country_name),onChange:function(e){return En(e)}}),"currency"===(null===rn||void 0===rn||null===(g=rn.name)||void 0===g?void 0:g.toLowerCase())&&i.createElement(Ue,{validationErrors:wn,defaultValue:Te.find(Te.propEq("value",null===sn||void 0===sn?void 0:sn.currency_value))(v.s3),onCurrencySelected:function(e){En({currency_type:null===e||void 0===e?void 0:e.label,currency_value:null===e||void 0===e?void 0:e.value,symbol:null===e||void 0===e?void 0:e.symbol})}}),"action button"===(null===rn||void 0===rn||null===(b=rn.name)||void 0===b?void 0:b.toLowerCase())&&i.createElement(qe,{validationErrors:wn,defaultValue:null===sn||void 0===sn?void 0:sn.action,onActionSelected:function(e){En({action:null===e||void 0===e?void 0:e.value})}}),"value button"===(null===rn||void 0===rn||null===(S=rn.name)||void 0===S?void 0:S.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(Ae,null,i.createElement(f.Lb,{title:"Button label to use"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null===Sn||void 0===Sn?void 0:Sn.label,onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{label:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Button Image (Optional)"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null===Sn||void 0===Sn?void 0:Sn.image,onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{image:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Value to set"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null===Sn||void 0===Sn?void 0:Sn.value,onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{value:e.target.value}))}}))),i.createElement("label",{className:Oe.checkboxLabelClass},"Use selection as decision for step?",i.createElement("input",{type:"checkbox",defaultChecked:null===sn||void 0===sn?void 0:sn.decision,onChange:function(e){return e.target.checked?En((0,n.Z)((0,n.Z)({},Sn),{},{decision:e.target.checked})):En((0,n.Z)((0,n.Z)({},Sn),{},{decision:!1,jump1:void 0}))}})),(null===Sn||void 0===Sn?void 0:Sn.decision)&&i.createElement(Ae,{errorMessage:null===wn||void 0===wn?void 0:wn.position_id},i.createElement(f.Lb,{title:"Process where to look for step"}),i.createElement(f.sm,{"app-variant":null!==wn&&void 0!==wn&&wn.position_id?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.peoplePositionSelectContainer)},i.createElement(f.rk,{items:$l.map((function(e){return{label:e.name,value:e.id,process:e}})),defaultSelected:{label:null===(E=$l.find((function(e){return e.id===(null===Sn||void 0===Sn?void 0:Sn.process)})))||void 0===E?void 0:E.name},className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{process:e.value}))}}))),(null===Sn||void 0===Sn?void 0:Sn.decision)&&(null===Sn||void 0===Sn?void 0:Sn.process)&&i.createElement(Ae,{errorMessage:null===wn||void 0===wn?void 0:wn.position_id},i.createElement(f.Lb,{title:"Selection jumps to step"}),i.createElement(f.sm,{"app-variant":null!==wn&&void 0!==wn&&wn.position_id?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.peoplePositionSelectContainer)},i.createElement(f.rk,{items:null===(_=$l.find((function(e){return e.id===(null===Sn||void 0===Sn?void 0:Sn.process)})))||void 0===_||null===(Z=_.steps)||void 0===Z?void 0:Z.map((function(e){return{label:e.name,value:e.id,step:e}})),defaultSelected:{label:null===(w=$l.find((function(e){return e.id===(null===Sn||void 0===Sn?void 0:Sn.process)})))||void 0===w||null===(N=w.steps)||void 0===N||null===(L=N.find((function(e){return e.id===Sn.jump1})))||void 0===L?void 0:L.name},className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{jump1:e.value}))}})))),"profile"===(null===rn||void 0===rn||null===(I=rn.name)||void 0===I?void 0:I.toLowerCase())&&i.createElement(He,{companyUsersArray:Mn,validationErrors:wn,defaultValue:null===sn||void 0===sn?void 0:sn.type,defaultOption:Sn,onProfileSelected:function(e){En({type:null===e||void 0===e?void 0:e.value})}}),"upload"===(null===rn||void 0===rn||null===(x=rn.name)||void 0===x?void 0:x.toLowerCase())&&i.createElement(ut,{validationErrors:wn,defaultMaxSize:null!==(M=+(null===sn||void 0===sn?void 0:sn.max_file_size)/1024)&&void 0!==M?M:51200,onMaxFileSizeChanged:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{max_file_size:1024*+e}))},defaultList:sn.accepted_mimes,onListSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{accepted_mimes:e}))}}),"date"===(null===rn||void 0===rn||null===(k=rn.name)||void 0===k?void 0:k.toLowerCase())&&i.createElement(Ve,{validationErrors:wn,defaultValue:"single"==(null===Sn||void 0===Sn?void 0:Sn.type),defaultAuto:null===Sn||void 0===Sn?void 0:Sn.auto,defaultTime:null===Sn||void 0===Sn?void 0:Sn.time,onChangeType:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{type:e}))},onExceeded:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{auto:e}))},withTime:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{time:e}))}}),"people"===(null===rn||void 0===rn||null===(O=rn.name)||void 0===O?void 0:O.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(pt,{validationErrors:wn,allModules:Xl,defaultType:null===Sn||void 0===Sn?void 0:Sn.type,defaultAssign:null===Sn||void 0===Sn?void 0:Sn.assign,defaultEmail:null===Sn||void 0===Sn?void 0:Sn.email,defaultCalendar:null===Sn||void 0===Sn?void 0:Sn.calendar,defaultSlider:null===Sn||void 0===Sn?void 0:Sn.slider,onChangeSlider:function(e){En(1==e?(0,n.Z)((0,n.Z)({},Sn),{},{slider:!0,calendar:!1}):(0,n.Z)((0,n.Z)({},Sn),{},{slider:!1,info:!1,other:!1}))},onCalendar:function(e){En(1==e?(0,n.Z)((0,n.Z)({},Sn),{},{calendar:!0,slider:!1,assign:!1,info:!1,other:!1}):(0,n.Z)((0,n.Z)({},Sn),{},{calendar:!1}))},defaultModule:Xl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===Sn||void 0===Sn?void 0:Sn.module_id)&&void 0!==t?t:"")})),defaultPositions:null!==(T=null===Sn||void 0===Sn?void 0:Sn.position_id)&&void 0!==T?T:[],onChangeType:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{type:e}))},onChangeEmail:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{email:e}))},onChangeAssign:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{assign:e}))},onChangeList:function(e){e.length>0?En((0,n.Z)((0,n.Z)({},Sn),{},{position_id:(0,o.Z)(e)})):delete Sn.position_id},onModuleSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{module_id:e.value}))},options:sn,onOptionsSelected:function(e){En(e)},fieldOption:Sn}),(null===Sn||void 0===Sn?void 0:Sn.slider)&&i.createElement("label",{className:Oe.checkboxLabelClass},"Display user info?",i.createElement("input",{type:"checkbox",defaultChecked:null===sn||void 0===sn?void 0:sn.info,onChange:function(e){return En((0,n.Z)((0,n.Z)({},Sn),{},{info:e.target.checked}))}})),(null===Sn||void 0===Sn?void 0:Sn.slider)&&i.createElement("label",{className:Oe.checkboxLabelClass},"Display other user info?",i.createElement("input",{type:"checkbox",defaultChecked:null===sn||void 0===sn?void 0:sn.other,onChange:function(e){return En((0,n.Z)((0,n.Z)({},Sn),{},{other:e.target.checked}))}})),(null===Sn||void 0===Sn?void 0:Sn.position_id)&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Field in users to use as filter"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement(f.rk,{items:Rn,defaultSelected:Rn.find((function(e){return e.value===Sn.filter})),className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{filter:e.value}))}}))),(null===Sn||void 0===Sn?void 0:Sn.position_id)&&i.createElement(Xe,{title:"Filter Selections",validationErrors:wn,defaultList:(null===Sn||void 0===Sn||null===(P=Sn.dropdown)||void 0===P?void 0:P.length)>0?null===Sn||void 0===Sn?void 0:Sn.dropdown:void 0,onListSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{dropdown:e}))}}),i.createElement("div",{style:{display:null!==Sn&&void 0!==Sn&&Sn.calendar?"":"none"}},i.createElement(Ae,null,i.createElement(f.Lb,{title:"Header label to use"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null===Sn||void 0===Sn?void 0:Sn.header,onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{header:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Title label to use in tasks"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null!==(B=null===Sn||void 0===Sn?void 0:Sn.title)&&void 0!==B?B:"Event Name",onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{title:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Description label to use in tasks"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null!==(F=null===Sn||void 0===Sn?void 0:Sn.description)&&void 0!==F?F:"Description",onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{description:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Assignee label to use in tasks"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null!==(D=null===Sn||void 0===Sn?void 0:Sn.assignee)&&void 0!==D?D:"Assigned to",onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{assignee:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Start date label to use in tasks"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null!==(A=null===Sn||void 0===Sn?void 0:Sn.start)&&void 0!==A?A:"Start Date",onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{start:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"End date label to use in tasks"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null!==(W=null===Sn||void 0===Sn?void 0:Sn.end)&&void 0!==W?W:"End Date",onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{end:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Value label to use  in tasks (Optional)"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null===Sn||void 0===Sn?void 0:Sn.valueL,onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{valueL:e.target.value}))}})),i.createElement("p",{className:Oe.optionSettings},"Note: If set, ensure label is set in calendar")),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Display users in assigned to from these positions (Optional)"}),i.createElement("div",{style:{border:"1px solid var(--app-color-gray-lighter)"}},i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:On,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:(null===Sn||void 0===Sn?void 0:Sn.aList)&&(null===On||void 0===On?void 0:On.filter((function(e){return(null===Sn||void 0===Sn?void 0:Sn.aList.indexOf(e.value))>-1}))),className:Oe.uploadSelectComponent,inputClassName:Oe.uploadSearchInput,molclassname:Oe.uploadSelectMenuOverlayList,moliclassname:Oe.uploadSelectMenuOverlayListItem,onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{aList:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))}))}}))),i.createElement(Xe,{validationErrors:wn,defaultList:(null===sn||void 0===sn||null===(V=sn.list)||void 0===V?void 0:V.length)>0?null===sn||void 0===sn?void 0:sn.list:void 0,onListSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{list:e}))}}))),"positions"===(null===rn||void 0===rn||null===(z=rn.name)||void 0===z?void 0:z.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(vt,{validationErrors:wn,allModules:Xl,defaultType:null===sn||void 0===sn?void 0:sn.type,defaultAssign:null===sn||void 0===sn?void 0:sn.assign,defaultEmail:null===sn||void 0===sn?void 0:sn.email,defaultCalendar:null===sn||void 0===sn?void 0:sn.calendar,defaultSlider:null===sn||void 0===sn?void 0:sn.slider,onChangeSlider:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{slider:e}))},onCalendar:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{calendar:e}))},defaultModule:Xl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===sn||void 0===sn?void 0:sn.module_id)&&void 0!==t?t:"")})),defaultPositions:null!==(R=null===sn||void 0===sn?void 0:sn.position_id)&&void 0!==R?R:[],onChangeType:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{type:e}))},onChangeEmail:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{email:e}))},onChangeAssign:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{assign:e}))},onChangeList:function(e){e.length>0?En((0,n.Z)((0,n.Z)({},Sn),{},{position_id:(0,o.Z)(e)})):delete Sn.position_id},onModuleSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{module_id:e.value}))},options:sn,onOptionsSelected:function(e){En(e)},fieldOption:Sn}),i.createElement("div",null,i.createElement(f.pd,{id:"Fetch users when item is selected",title:"Fetch users when item is selected?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===Sn||void 0===Sn?void 0:Sn.fetch,toggleSelected:function(e){En(e?(0,n.Z)((0,n.Z)({},Sn),{},{fetch:!0}):(0,n.Z)((0,n.Z)({},Sn),{},{fetch:!1}))}})),i.createElement("div",null,i.createElement(f.pd,{id:"Share transaction to position when item is selected",title:"Share transaction to position when item is selected?",ungrouped:!0,withAckButton:!1,style:{margin:"40px 0px 20px 0px",width:"auto"},value:null===Sn||void 0===Sn?void 0:Sn.share,toggleSelected:function(e){En(e?(0,n.Z)((0,n.Z)({},Sn),{},{share:!0}):(0,n.Z)((0,n.Z)({},Sn),{},{share:!1}))}})),i.createElement("div",null,i.createElement(f.pd,{id:"AddUserPosition",title:"Add user to selected position?",ungrouped:!0,withAckButton:!1,style:{margin:"40px 0px 20px 0px",width:"auto"},value:null!==(j=null===Sn||void 0===Sn?void 0:Sn.addToPos)&&void 0!==j&&j,toggleSelected:function(e){En(e?(0,n.Z)((0,n.Z)({},Sn),{},{addToPos:!0,share:!1,calendar:!1,fetch:!1}):(0,n.Z)((0,n.Z)({},Sn),{},{addToPos:!1}))}})),i.createElement("div",{style:{display:null!==Sn&&void 0!==Sn&&Sn.calendar?"":"none"}},i.createElement(Ae,null,i.createElement(f.Lb,{title:"Header label to use"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null===Sn||void 0===Sn?void 0:Sn.header,onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{header:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Title label to use"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null!==(U=null===Sn||void 0===Sn?void 0:Sn.title)&&void 0!==U?U:"Event Name",onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{title:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Description label to use"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null!==(q=null===Sn||void 0===Sn?void 0:Sn.description)&&void 0!==q?q:"Description",onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{description:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Assignee label to use"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null!==(H=null===Sn||void 0===Sn?void 0:Sn.assignee)&&void 0!==H?H:"Assigned to",onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{assignee:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Start date label to use"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null!==(K=null===Sn||void 0===Sn?void 0:Sn.start)&&void 0!==K?K:"Start Date",onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{start:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"End date label to use"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null!==(X=null===Sn||void 0===Sn?void 0:Sn.end)&&void 0!==X?X:"End Date",onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{end:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Value label to use (Optional)"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null===Sn||void 0===Sn?void 0:Sn.valueL,onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{valueL:e.target.value}))}})),i.createElement("p",{className:Oe.optionSettings},"Note: If set, ensure label is set in calendar")),i.createElement(Xe,{validationErrors:wn,defaultList:(null===sn||void 0===sn||null===(G=sn.list)||void 0===G?void 0:G.length)>0?null===sn||void 0===sn?void 0:sn.list:void 0,onListSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{list:e}))}}))),"dropdown"===(null===rn||void 0===rn||null===(Y=rn.name)||void 0===Y?void 0:Y.toLowerCase())&&i.createElement(Ke,{validationErrors:wn,defaultType:v.YX.find((function(e){var t;return(null===e||void 0===e?void 0:e.value)==(null!==(t=null===sn||void 0===sn?void 0:sn.type)&&void 0!==t?t:"single")})),defaultList:(null===sn||void 0===sn||null===(J=sn.list)||void 0===J?void 0:J.length)>0?null===sn||void 0===sn?void 0:sn.list:void 0,defaultPr:null!==(Q=null===sn||void 0===sn?void 0:sn.process)&&void 0!==Q?Q:"",defaultJ1:null!==($=null===sn||void 0===sn?void 0:sn.jump1)&&void 0!==$?$:"",defaultJ2:null!==(ee=null===sn||void 0===sn?void 0:sn.jump2)&&void 0!==ee?ee:"",onTypeSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{type:e.value}))},onListSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{list:e}))},onJump1Selected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{jump1:e}))},onJump2Selected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{jump2:e}))},onProcSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{process:e}))},companyProcesses:$l}),"radio"===(null===rn||void 0===rn||null===(te=rn.name)||void 0===te?void 0:te.toLowerCase())&&i.createElement(Ke,{validationErrors:wn,defaultList:(null===sn||void 0===sn||null===(le=sn.list)||void 0===le?void 0:le.length)>0?null===sn||void 0===sn?void 0:sn.list:void 0,defaultPr:null!==(ne=null===sn||void 0===sn?void 0:sn.process)&&void 0!==ne?ne:"",defaultJ1:null!==(oe=null===sn||void 0===sn?void 0:sn.jump1)&&void 0!==oe?oe:"",defaultJ2:null!==(ae=null===sn||void 0===sn?void 0:sn.jump2)&&void 0!==ae?ae:"",onListSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{list:e}))},onJump1Selected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{jump1:e}))},onJump2Selected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{jump2:e}))},onProcSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{process:e}))},companyProcesses:$l}),"status"===(null===rn||void 0===rn||null===(ie=rn.name)||void 0===ie?void 0:ie.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(Xe,{validationErrors:wn,defaultList:(null===sn||void 0===sn||null===(re=sn.list)||void 0===re?void 0:re.length)>0?null===sn||void 0===sn?void 0:sn.list:void 0,onListSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{list:e}))}}),i.createElement("label",{className:Oe.checkboxLabelClass},"Control transaction with this field?",i.createElement("input",{type:"checkbox",defaultChecked:null===sn||void 0===sn?void 0:sn.control,onChange:function(e){return En((0,n.Z)((0,n.Z)({},Sn),{},{control:e.target.checked}))}}))),("list"===(null===rn||void 0===rn||null===(de=rn.name)||void 0===de?void 0:de.toLowerCase())||"module list"===(null===rn||void 0===rn||null===(ue=rn.name)||void 0===ue?void 0:ue.toLowerCase()))&&i.createElement(Ye,{allModules:Xl,validationErrors:wn,defaultType:{label:null!==(se=null===sn||void 0===sn?void 0:sn.type)&&void 0!==se?se:"Table",value:null!==(ce=null===sn||void 0===sn?void 0:sn.type)&&void 0!==ce?ce:"Table"},defaultTypeX:sn,defaultModule:Xl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===sn||void 0===sn?void 0:sn.module_id)&&void 0!==t?t:"")})),defaultList:(null===sn||void 0===sn||null===(me=sn.list)||void 0===me?void 0:me.length)>0?null===sn||void 0===sn?void 0:sn.list:void 0,onTypeSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{type:e.value}))},onModuleSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{module_id:e.module.id}))},onChangeList:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{list:(0,o.Z)(e)}))},multiSelectLabel:""===(null===sn||void 0===sn?void 0:sn.module_id)?"":null===(pe=Xl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===sn||void 0===sn?void 0:sn.module_id)&&void 0!==t?t:"")})))||void 0===pe?void 0:pe.label}),"transaction list"===(null===rn||void 0===rn||null===(ve=rn.name)||void 0===ve?void 0:ve.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(f.Lb,{title:"Note: Make sure Allow Mutiple Inputs in Step configuration is set to YES to allow creation of items",style:{margin:"30px 5px"}}),i.createElement("label",{className:Oe.checkboxLabelClass},"The list uses six or more columns?",i.createElement("input",{type:"checkbox",defaultChecked:null===sn||void 0===sn?void 0:sn.simple,onChange:function(e){e.target.checked&&(null===Sn||void 0===Sn||delete Sn.id,null===Sn||void 0===Sn||delete Sn.module_id,null===Sn||void 0===Sn||delete Sn.type,null===Sn||void 0===Sn||delete Sn.map),En((0,n.Z)((0,n.Z)({},Sn),{},{simple:e.target.checked}))}})),(null===Sn||void 0===Sn?void 0:Sn.simple)&&i.createElement(Ae,{errorMessage:null===wn||void 0===wn?void 0:wn.type},i.createElement(f.Lb,{title:"Module to list"}),i.createElement(f.sm,{"app-variant":null!==wn&&void 0!==wn&&wn.type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement(f.rk,{items:Hn,defaultSelected:Xl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===Sn||void 0===Sn?void 0:Sn.module_id)&&void 0!==t?t:"")})),className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{module_id:e.module.id}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Type (Optional)"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,defaultValue:null===sn||void 0===sn?void 0:sn.type,onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{type:e.target.value}))}}))),!(null!==Sn&&void 0!==Sn&&Sn.simple)&&i.createElement(i.Fragment,null,i.createElement(Ae,null,i.createElement(f.Lb,{title:"List ID"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null===sn||void 0===sn?void 0:sn.id,onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{id:e.target.value}))}}))),i.createElement(Fe,{blueprints:Gl,allModules:Xl,companyProcesses:$l,validationErrors:wn,defaultTable:{label:null!==(fe=null===sn||void 0===sn?void 0:sn.table)&&void 0!==fe?fe:"Table",value:null!==(ye=null===sn||void 0===sn?void 0:sn.table)&&void 0!==ye?ye:"Table"},options:Sn,defaultMap:null!==(he=null===Sn||void 0===Sn?void 0:Sn.map)&&void 0!==he?he:{},defaultModule:Xl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===Sn||void 0===Sn?void 0:Sn.module_id)&&void 0!==t?t:"")})),defaultList:(null===Sn||void 0===Sn||null===(Ce=Sn.list)||void 0===Ce?void 0:Ce.length)>0?null===Sn||void 0===Sn?void 0:Sn.list:void 0,onTableSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{table:e.value}))},onModuleSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{module_id:e.module.id}))},onChangeMapping:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{map:e}))},multiSelectLabel:""===(null===Sn||void 0===Sn?void 0:Sn.module_id)?"":null===(ge=Xl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===Sn||void 0===Sn?void 0:Sn.module_id)&&void 0!==t?t:"")})))||void 0===ge?void 0:ge.label,setFieldOption:En})),i.createElement("label",{className:Oe.checkboxLabelClass},"Show footer?",i.createElement("input",{type:"checkbox",defaultChecked:null===sn||void 0===sn?void 0:sn.footer,onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{footer:e.target.checked}))}})),i.createElement("label",{className:Oe.checkboxLabelClass},"Immediately save item as added?",i.createElement("input",{type:"checkbox",defaultChecked:null===sn||void 0===sn?void 0:sn.asap,onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{asap:e.target.checked}))}})),i.createElement("label",{className:Oe.checkboxLabelClass},"Add File Export?",i.createElement("input",{type:"checkbox",defaultChecked:null===sn||void 0===sn?void 0:sn.export,onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{export:e.target.checked}))}}))),("step list"===(null===rn||void 0===rn||null===(be=rn.name)||void 0===be?void 0:be.toLowerCase())||"component list"===(null===rn||void 0===rn||null===(Se=rn.name)||void 0===Se?void 0:Se.toLowerCase()))&&i.createElement(Je,{blueprints:Gl.filter((function(e){var t;return(null===e||void 0===e?void 0:e.id)!==(null!==(t=null===sn||void 0===sn?void 0:sn.component_id)&&void 0!==t?t:"")})),validationErrors:wn,defaultList:(null===sn||void 0===sn||null===(Ee=sn.list)||void 0===Ee?void 0:Ee.length)>0?null===sn||void 0===sn?void 0:sn.list:void 0,defaultType:Gl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===sn||void 0===sn?void 0:sn.component_id)&&void 0!==t?t:"")})),onTypeSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{component_id:e.component.id}))},defaultKey:null!==(_e=null===sn||void 0===sn?void 0:sn.key)&&void 0!==_e?_e:"Key",onKeySelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{key:e}))},onChangeList:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{list:(0,o.Z)(e)}))},multiSelectLabel:""===(null===sn||void 0===sn?void 0:sn.component_id)?"":null===(Ze=Gl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===sn||void 0===sn?void 0:sn.component_id)&&void 0!==t?t:"")})))||void 0===Ze?void 0:Ze.label}),"product"===(null===rn||void 0===rn||null===(we=rn.name)||void 0===we?void 0:we.toLowerCase())&&i.createElement(Ge,{products:Ql,validationErrors:wn,defaultList:(null===sn||void 0===sn||null===(Le=sn.list)||void 0===Le?void 0:Le.length)>0?null===sn||void 0===sn?void 0:sn.list:void 0,onChangeList:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{list:(0,o.Z)(e)}))}}),"record"===(null===rn||void 0===rn||null===(xe=rn.name)||void 0===xe?void 0:xe.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(Ae,{errorMessage:null===wn||void 0===wn?void 0:wn.type},i.createElement(f.Lb,{title:"Conduct lookup from these transactions:"}),i.createElement(f.sm,{"app-variant":null!==wn&&void 0!==wn&&wn.type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:Xl.map((function(e){return{label:e.name,value:e.id}})),defaultSelectedItem:Xl.map((function(e){return{label:e.name,value:e.id}})).find((function(e){return e.value===(null===sn||void 0===sn?void 0:sn.module_id)})),className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{module_id:null===e||void 0===e?void 0:e.value}))}}))),i.createElement(ct,{defaultFilters:null===sn||void 0===sn?void 0:sn.filters,validationErrors:wn,field_type:rn,blueprints:Gl,nameValues:(null===sn||void 0===sn||null===(Me=sn.names)||void 0===Me?void 0:Me.length)>0?null===sn||void 0===sn?void 0:sn.names:[],defaultType:(null===sn||void 0===sn||null===(ke=sn.selection)||void 0===ke?void 0:ke.length)>0?{label:null===sn||void 0===sn?void 0:sn.selection}:void 0,defaultList:(null===sn||void 0===sn||null===(Be=sn.list)||void 0===Be?void 0:Be.length)>0?null===sn||void 0===sn?void 0:sn.list:[],defaultValue:{label:void 0===nn.allBlueprintComponents.find((function(e){var t;return e.id===(null===(t=nn.selectedFieldFromSelectedBlueprintComponent.options)||void 0===t?void 0:t.component_id)}))?"":nn.allBlueprintComponents.find((function(e){var t;return e.id===(null===(t=nn.selectedFieldFromSelectedBlueprintComponent.options)||void 0===t?void 0:t.component_id)})).name},defaultOutputField:(null===sn||void 0===sn||null===(st=sn.output)||void 0===st?void 0:st.length)>0?{label:null===sn||void 0===sn?void 0:sn.output}:void 0,defaultGlobal:null===sn||void 0===sn?void 0:sn.global,onGlobalSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{global:e}))},onListSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{list:e}))},onComponentSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{component_id:e.blueprint.id}))},onTypeSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{selection:e}))},onNamesSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{names:e}))},onOutputFieldSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{output:e}))},onFilterList:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{filters:e}))}})),"googleai assistant"===(null===rn||void 0===rn||null===(gt=rn.name)||void 0===gt?void 0:gt.toLowerCase())&&i.createElement(ft,{defaultCurrent:null===sn||void 0===sn?void 0:sn.current,defaultDescription:null===sn||void 0===sn?void 0:sn.description,defaultValue:null===sn||void 0===sn?void 0:sn.analyze,defaultFixed:null===sn||void 0===sn?void 0:sn.fixed,defaultModule:{label:void 0===Xl.find((function(e){return e.id===(null===sn||void 0===sn?void 0:sn.module_id)}))?"":Xl.find((function(e){return e.id===(null===sn||void 0===sn?void 0:sn.module_id)})).name},defaultModule2:{label:void 0===Xl.find((function(e){return e.id===(null===sn||void 0===sn?void 0:sn.module2_id)}))?"":Xl.find((function(e){return e.id===(null===sn||void 0===sn?void 0:sn.module2_id)})).name},defaultModule3:{label:void 0===Xl.find((function(e){return e.id===(null===sn||void 0===sn?void 0:sn.module3_id)}))?"":Xl.find((function(e){return e.id===(null===sn||void 0===sn?void 0:sn.module3_id)})).name},setFieldValue:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{analyze:e}))},setDefaultCurrent:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{current:e}))},setDefaultDescription:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{description:e}))},onModule1Select:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{module_id:null===e||void 0===e?void 0:e.value}))},onModule2Select:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{module2_id:null===e||void 0===e?void 0:e.value}))},onModule3Select:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{module3_id:null===e||void 0===e?void 0:e.value}))},setDefaultFixed:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{fixed:e}))},validationErrors:wn,allModules:Xl}),"value"===(null===rn||void 0===rn||null===(bt=rn.name)||void 0===bt?void 0:bt.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(mt,{field_type:rn,allModules:Xl,components:Jl,defaultModule:(null===sn||void 0===sn||null===(St=sn.module_id)||void 0===St?void 0:St.length)>0?{label:Xl.find((function(e){return e.id===(null===sn||void 0===sn?void 0:sn.module_id)})).name,value:null===sn||void 0===sn?void 0:sn.module_id}:void 0,defaultOutput:null===Jl||void 0===Jl?void 0:Jl.filter((function(e){return e.module_id===(null===sn||void 0===sn?void 0:sn.module_id)})).map((function(e){return{label:"".concat(e.title),value:e.id}})),defaultValue:{label:null===sn||void 0===sn?void 0:sn.value,slabel:void 0===nn.allBlueprintComponents.find((function(e){var t,l;return e.id===(null===(t=nn.selectedFieldFromSelectedBlueprintComponent)||void 0===t||null===(l=t.options)||void 0===l?void 0:l.component_id)}))?"":nn.allBlueprintComponents.find((function(e){return e.id===nn.selectedFieldFromSelectedBlueprintComponent.options.component_id})).name},onModuleSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{module_id:e.value}))},onOutputSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{component_id:e.value}))},onFieldValueSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{value:e.value}))}}),i.createElement("label",{className:Oe.checkboxLabelClass},"Show chart for selected value?",i.createElement("input",{type:"checkbox",defaultChecked:null===sn||void 0===sn?void 0:sn.chart,onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{chart:e.target.checked}))}}))),"formula"===(null===rn||void 0===rn||null===(Et=rn.name)||void 0===Et?void 0:Et.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement($e,{setFieldOption:En,fieldOption:Sn,selectedFields:Yl,validationErrors:wn,defaultValue:(null===sn||void 0===sn||null===(_t=sn.operator)||void 0===_t?void 0:_t.length)>0?null===sn||void 0===sn?void 0:sn.operator:void 0,defaultList:(null===sn||void 0===sn||null===(Zt=sn.list)||void 0===Zt?void 0:Zt.length)>0?null===sn||void 0===sn?void 0:sn.list:void 0,defaultSearchText:(null===sn||void 0===sn||null===(wt=sn.searchtext)||void 0===wt?void 0:wt.length)>0?null===sn||void 0===sn?void 0:sn.searchtext:void 0,onOperatorSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{operator:e}))},onChangeList:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{list:(0,o.Z)(e)}))},onChangeSearchText:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{searchtext:e}))},blueprints:Gl}),"freesum"===(null===Sn||void 0===Sn?void 0:Sn.operator)&&i.createElement(Xe,{title:"Add fields to compute",validationErrors:wn,defaultList:(null===sn||void 0===sn||null===(Nt=sn.list)||void 0===Nt?void 0:Nt.length)>0?null===sn||void 0===sn?void 0:sn.list:void 0,onListSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{list:e}))}})),"item formula"===(null===rn||void 0===rn||null===(Lt=rn.name)||void 0===Lt?void 0:Lt.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(et,{setFieldOption:En,fieldOption:Sn,selectedFields:Yl,validationErrors:wn,defaultValue:(null===sn||void 0===sn||null===(It=sn.operator)||void 0===It?void 0:It.length)>0?null===sn||void 0===sn?void 0:sn.operator:void 0,defaultList:(null===sn||void 0===sn||null===(xt=sn.list)||void 0===xt?void 0:xt.length)>0?null===sn||void 0===sn?void 0:sn.list:void 0,defaultSearchText:(null===sn||void 0===sn||null===(Mt=sn.searchtext)||void 0===Mt?void 0:Mt.length)>0?null===sn||void 0===sn?void 0:sn.searchtext:void 0,onOperatorSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{operator:e}))},onChangeList:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{list:(0,o.Z)(e)}))},onChangeSearchText:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{searchtext:e}))},blueprints:Gl}),"freesum"===(null===Sn||void 0===Sn?void 0:Sn.operator)&&i.createElement(Xe,{title:"Add fields to compute",validationErrors:wn,defaultList:(null===sn||void 0===sn||null===(kt=sn.list)||void 0===kt?void 0:kt.length)>0?null===sn||void 0===sn?void 0:sn.list:void 0,onListSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{list:e}))}})),"list filter"===(null===rn||void 0===rn||null===(Ot=rn.name)||void 0===Ot?void 0:Ot.toLowerCase())&&i.createElement(lt,{selectedFields:Yl,validationErrors:wn,defaultField:(null===sn||void 0===sn||null===(Tt=sn.field)||void 0===Tt?void 0:Tt.length)>0?null===sn||void 0===sn?void 0:sn.field:void 0,defaultValue:(null===sn||void 0===sn||null===(Pt=sn.value)||void 0===Pt?void 0:Pt.length)>0?null===sn||void 0===sn?void 0:sn.value:void 0,onChangeField:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{field:e}))},onChangeValue:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{value:e}))},blueprints:Gl}),"connector"===(null===rn||void 0===rn||null===(Bt=rn.name)||void 0===Bt?void 0:Bt.toLowerCase())&&i.createElement(dt,{selectedFields:Yl,validationErrors:wn,defaultComponent1:(null===sn||void 0===sn||null===(Ft=sn.component1_id)||void 0===Ft?void 0:Ft.length)>0?{label:nn.allBlueprintComponents.find((function(e){return e.id===(null===sn||void 0===sn?void 0:sn.component1_id)})).name}:void 0,defaultComponent2:(null===sn||void 0===sn||null===(Dt=sn.component2_id)||void 0===Dt?void 0:Dt.length)>0?{label:nn.allBlueprintComponents.find((function(e){return e.id===(null===sn||void 0===sn?void 0:sn.component2_id)})).name}:void 0,defaultComponent3:(null===sn||void 0===sn||null===(At=sn.component3_id)||void 0===At?void 0:At.length)>0?{label:nn.allBlueprintComponents.find((function(e){return e.id===(null===sn||void 0===sn?void 0:sn.component3_id)})).name}:void 0,defaultCommon12:(null===sn||void 0===sn||null===(Wt=sn.common_field_12)||void 0===Wt?void 0:Wt.length)>0?{label:null===sn||void 0===sn?void 0:sn.common_field_12}:void 0,defaultInputComponent1:(null===sn||void 0===sn||null===(Vt=sn.component1_input)||void 0===Vt?void 0:Vt.length)>0?{label:null===sn||void 0===sn?void 0:sn.component1_input}:void 0,defaultCommon23:(null===sn||void 0===sn||null===(zt=sn.common_field_23)||void 0===zt?void 0:zt.length)>0?{label:null===sn||void 0===sn?void 0:sn.common_field_23}:void 0,defaultOutputs:(null===sn||void 0===sn||null===(Rt=sn.outputs)||void 0===Rt?void 0:Rt.length)>0?null===sn||void 0===sn?void 0:sn.outputs:[],onComponent1InputSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{component1_input:e}))},onComponent1Selected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{component1_id:e}))},onComponent2Selected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{component2_id:e}))},onCommon12Selected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{common_field_12:e}))},onComponent3Selected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{component3_id:e}))},onCommon23Selected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{common_field_23:e}))},onOutputsSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{outputs:(0,o.Z)(e)}))},bpContext:nn}),"payments"===(null===rn||void 0===rn||null===(jt=rn.name)||void 0===jt?void 0:jt.toLowerCase())&&i.createElement(Ct,{validationErrors:wn,defaultValue:(null===sn||void 0===sn||null===(Ut=sn.type)||void 0===Ut?void 0:Ut.length)>0?{label:nn.allBlueprintComponents.find((function(e){return e.id===(null===sn||void 0===sn?void 0:sn.type)})).name}:void 0,defaultSrcName:(null===sn||void 0===sn||null===(qt=sn.paymentField)||void 0===qt?void 0:qt.length)>0?{label:null===sn||void 0===sn?void 0:sn.paymentField}:void 0,onSourceSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{type:e}))},onSourceLabel:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{paymentField:e}))},bpContext:nn,defaultList:(null===sn||void 0===sn||null===(Ht=sn.list)||void 0===Ht?void 0:Ht.length)>0?null===sn||void 0===sn?void 0:sn.list:void 0,onListSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{list:e}))}}),"lookup"===(null===rn||void 0===rn||null===(Kt=rn.name)||void 0===Kt?void 0:Kt.toLowerCase())&&i.createElement(rt,{selectedFields:Yl,validationErrors:wn,defaultGlobal:(null===sn||void 0===sn||null===(Xt=sn.global)||void 0===Xt?void 0:Xt.length)>0?null===sn||void 0===sn?void 0:sn.global:void 0,defaultValue:(null===sn||void 0===sn||null===(Gt=sn.source_id)||void 0===Gt?void 0:Gt.length)>0?{label:nn.allBlueprintComponents.find((function(e){return e.id===(null===sn||void 0===sn?void 0:sn.source_id)})).name}:void 0,defaultTarget:(null===sn||void 0===sn||null===(Yt=sn.target_id)||void 0===Yt?void 0:Yt.length)>0?{label:nn.allBlueprintComponents.find((function(e){return e.id===(null===sn||void 0===sn?void 0:sn.target_id)})).name}:void 0,defaultType:(null===sn||void 0===sn||null===(Jt=sn.selection)||void 0===Jt?void 0:Jt.length)>0?{label:null===sn||void 0===sn?void 0:sn.selection}:void 0,defaultCommon:(null===sn||void 0===sn||null===(Qt=sn.common_field)||void 0===Qt?void 0:Qt.length)>0?{label:null===sn||void 0===sn?void 0:sn.common_field}:void 0,defaultList:(null===sn||void 0===sn||null===($t=sn.list)||void 0===$t?void 0:$t.length)>0?null===sn||void 0===sn?void 0:sn.list:void 0,defaultRefList:(null===sn||void 0===sn||null===(el=sn.rlist)||void 0===el?void 0:el.length)>0?null===sn||void 0===sn?void 0:sn.rlist:void 0,defaultRefName:(null===sn||void 0===sn||null===(tl=sn.referenceLabel)||void 0===tl?void 0:tl.length)>0?{label:null===sn||void 0===sn?void 0:sn.referenceLabel}:void 0,defaultSrcName:(null===sn||void 0===sn||null===(ll=sn.sourceLabel)||void 0===ll?void 0:ll.length)>0?null===sn||void 0===sn?void 0:sn.sourceLabel:void 0,onSourceSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{source_id:e}))},onTargetSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{target_id:e}))},onFieldSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{common_field:e}))},onChangeList:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{list:(0,o.Z)(e)}))},onChangeRList:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{rlist:(0,o.Z)(e)}))},onTypeSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{selection:e}))},onSourceLabel:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{sourceLabel:(0,o.Z)(e)}))},onReferenceLabel:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{referenceLabel:e}))},onGlobalSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{global:e}))},onSetShowAll:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{showAll:e}))},showAllDefault:null===sn||void 0===sn?void 0:sn.showAll,bpContext:nn}),"emails"===(null===rn||void 0===rn||null===(nl=rn.name)||void 0===nl?void 0:nl.toLowerCase())&&i.createElement(tt,{validationErrors:wn,options:sn,setFieldOption:En,fieldOption:Sn,blueprints:Gl}),"product lookup"===(null===rn||void 0===rn||null===(ol=rn.name)||void 0===ol?void 0:ol.toLowerCase())&&i.createElement(nt,{validationErrors:wn,defaultTarget:nn.allBlueprintComponents.find((function(e){return e.id===(null===sn||void 0===sn?void 0:sn.component_id)})),defaultRefName:null===sn||void 0===sn?void 0:sn.referenceLabel,defaultList:null===sn||void 0===sn?void 0:sn.list,defaultType:(null===sn||void 0===sn||null===(al=sn.selection)||void 0===al?void 0:al.length)>0?{label:null===sn||void 0===sn?void 0:sn.selection}:void 0,onTargetSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{component_id:e}))},onChangeList:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{list:(0,o.Z)(e)}))},onTypeSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{selection:e}))},onReferenceLabel:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{referenceLabel:e}))},bpContext:nn}),"id"===(null===rn||void 0===rn||null===(il=rn.name)||void 0===il?void 0:il.toLowerCase())&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"ID series to automatically generate"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement(yt,{defaultValue:(null===sn||void 0===sn||null===(rl=sn.id)||void 0===rl?void 0:rl.length)>0?{label:null===sn||void 0===sn?void 0:sn.id}:{label:""},onSetIdGenerator:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{id:e,value:e}))}}))),"notes"===(null===rn||void 0===rn||null===(dl=rn.name)||void 0===dl?void 0:dl.toLowerCase())&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Notes automatically generate"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement(ht,{defaultValue:sn.value.length>0?{label:sn.value}:{label:""},onNotesGenerator:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{value:e}))}}))),"filters"===(null===rn||void 0===rn||null===(ul=rn.name)||void 0===ul?void 0:ul.toLowerCase())&&i.createElement(ot,{validationErrors:wn,defaultTarget:nn.allBlueprintComponents.find((function(e){return e.id===(null===sn||void 0===sn?void 0:sn.component_id)})),defaultFilters:null===sn||void 0===sn?void 0:sn.filters,defaultOutput:null===sn||void 0===sn?void 0:sn.output,defaultGlobal:null===sn||void 0===sn?void 0:sn.global,onGlobalSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{global:e}))},onTargetSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{component_id:e}))},onFilterList:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{filters:e}))},onOutputSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{output:e}))},bpContext:nn}),"module"===(null===rn||void 0===rn||null===(sl=rn.name)||void 0===sl?void 0:sl.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(at,{validationErrors:wn,fieldOption:Sn,setFieldOption:function(e){return En((0,n.Z)((0,n.Z)({},Sn),e))},defaultModule:null===Sn||void 0===Sn?void 0:Sn.module_id,defaultFields:null===Sn||void 0===Sn?void 0:Sn.fields,onFieldsSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{fields:e}))},bpContext:nn,companyProcesses:$l,onModuleSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{module_id:e.value}))},components:Jl})),"details"===(null===rn||void 0===rn||null===(cl=rn.name)||void 0===cl?void 0:cl.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(it,{validationErrors:wn,fieldOption:Sn,setFieldOption:function(e){return En((0,n.Z)((0,n.Z)({},Sn),e))},defaultModule:null===Sn||void 0===Sn?void 0:Sn.module_id,defaultFields:null===Sn||void 0===Sn?void 0:Sn.fields,onFieldsSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{fields:e}))},bpContext:nn,companyProcesses:$l,onModuleSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{module_id:e.value}))},components:Jl}),!(null!==Sn&&void 0!==Sn&&Sn.cmp)&&i.createElement("label",{className:Oe.checkboxLabelClass},"Display in Table",i.createElement("input",{type:"checkbox",defaultChecked:null===Sn||void 0===Sn?void 0:Sn.table,onChange:function(e){return En((0,n.Z)((0,n.Z)({},Sn),{},{table:e.target.checked}))}}))),"pin"===(null===rn||void 0===rn||null===(ml=rn.name)||void 0===ml?void 0:ml.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement("label",{className:Oe.checkboxLabelClass},"Pin a second location",i.createElement("input",{type:"checkbox",defaultChecked:null===Sn||void 0===Sn?void 0:Sn.destination,onChange:function(e){return En((0,n.Z)((0,n.Z)({},Sn),{},{destination:e.target.checked}))}})),i.createElement("label",{className:Oe.checkboxLabelClass},"Compute distance ".concat(1==(null===Sn||void 0===Sn?void 0:Sn.destination)?"between two pins":"with current location"),i.createElement("input",{type:"checkbox",defaultChecked:null===Sn||void 0===Sn?void 0:Sn.compute,onChange:function(e){return En((0,n.Z)((0,n.Z)({},Sn),{},{compute:e.target.checked}))}})),i.createElement("label",{className:Oe.checkboxLabelClass},"Show real-time location",i.createElement("input",{type:"checkbox",defaultChecked:null===Sn||void 0===Sn?void 0:Sn.realtime,onChange:function(e){return En((0,n.Z)((0,n.Z)({},Sn),{},{realtime:e.target.checked}))}})),1==(null===Sn||void 0===Sn?void 0:Sn.realtime)&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Interval"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"number",className:Oe.dropDownNewListItemInput,value:Bn,name:"Interval",onChange:function(e){Fn(e.target.value),En((0,n.Z)((0,n.Z)({},Sn),{},{interval:+e.target.value}))}})))),"ratings"===(null===rn||void 0===rn||null===(pl=rn.name)||void 0===pl?void 0:pl.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(Ae,null,i.createElement(f.Lb,{title:"Field to lookup user ID"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:Wn,name:"Field to lookup user ID",onChange:function(e){Vn(e.target.value),En((0,n.Z)((0,n.Z)({},Sn),{},{field:e.target.value}))}}))),i.createElement("label",{className:Oe.checkboxLabelClass},"Add comments field?",i.createElement("input",{type:"checkbox",defaultChecked:null===Sn||void 0===Sn?void 0:Sn.comments,onChange:function(e){return En((0,n.Z)((0,n.Z)({},Sn),{},{comments:e.target.checked}))}})),i.createElement("label",{className:Oe.checkboxLabelClass},"Allow users to view rating?",i.createElement("input",{type:"checkbox",defaultChecked:null===Sn||void 0===Sn?void 0:Sn.view,onChange:function(e){return En((0,n.Z)((0,n.Z)({},Sn),{},{view:e.target.checked}))}}))),"rewards"===(null===rn||void 0===rn||null===(vl=rn.name)||void 0===vl?void 0:vl.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(Ae,null,i.createElement(f.Lb,{title:"Apply rewards when status matches"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null!==(fl=null===Sn||void 0===Sn?void 0:Sn.status)&&void 0!==fl?fl:"Closed",name:"Status to compare",onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{status:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Reward points to apply"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"number",className:Oe.dropDownNewListItemInput,value:null!==(yl=null===Sn||void 0===Sn?void 0:Sn.points)&&void 0!==yl?yl:1,name:"Reward points to apply",onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{points:+e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Equivalent wallet value to apply"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"number",className:Oe.dropDownNewListItemInput,value:null!==(hl=null===Sn||void 0===Sn?void 0:Sn.equiv)&&void 0!==hl?hl:1,name:"Equivalent wallet value to apply",onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{equiv:+e.target.value}))}}))),i.createElement("label",{className:Oe.checkboxLabelClass},"Apply rewards to transaction creator?",i.createElement("input",{type:"checkbox",defaultChecked:null===Sn||void 0===Sn?void 0:Sn.creator,onChange:function(e){return En((0,n.Z)((0,n.Z)({},Sn),{},{creator:e.target.checked}))}}))),"link"===(null===rn||void 0===rn||null===(Cl=rn.name)||void 0===Cl?void 0:Cl.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement("label",{className:Oe.checkboxLabelClass},"Show link as an image?",i.createElement("input",{type:"checkbox",defaultChecked:null===Sn||void 0===Sn?void 0:Sn.image,onChange:function(e){return En((0,n.Z)((0,n.Z)({},Sn),{},{image:e.target.checked}))}}))),"long text"===(null===rn||void 0===rn||null===(gl=rn.name)||void 0===gl?void 0:gl.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement("label",{className:Oe.checkboxLabelClass},"Use Rich Text?",i.createElement("input",{type:"checkbox",defaultChecked:null===Sn||void 0===Sn?void 0:Sn.rich,onChange:function(e){return En((0,n.Z)((0,n.Z)({},Sn),{},{rich:e.target.checked}))}}))),"video"===(null===rn||void 0===rn||null===(bl=rn.name)||void 0===bl?void 0:bl.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(Ae,null,i.createElement(f.Lb,{title:"Status to match"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null===Sn||void 0===Sn?void 0:Sn.status,onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{status:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Time that join button is available (mins)"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"number",className:Oe.dropDownNewListItemInput,value:null!==(Sl=null===Sn||void 0===Sn?void 0:Sn.expiry)&&void 0!==Sl?Sl:10,onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{expiry:+e.target.value}))}})))),"calendar"===(null===rn||void 0===rn||null===(El=rn.name)||void 0===El?void 0:El.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(Ae,null,i.createElement(f.Lb,{title:"Header label to use"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null===Sn||void 0===Sn?void 0:Sn.header,onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{header:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Title label to use"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null!==(_l=null===Sn||void 0===Sn?void 0:Sn.title)&&void 0!==_l?_l:"Event Name",onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{title:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Description label to use"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null!==(Zl=null===Sn||void 0===Sn?void 0:Sn.description)&&void 0!==Zl?Zl:"Description",onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{description:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Assignee label to use"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null!==(wl=null===Sn||void 0===Sn?void 0:Sn.assignee)&&void 0!==wl?wl:"Assigned to",onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{assignee:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Start date label to use"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null!==(Nl=null===Sn||void 0===Sn?void 0:Sn.start)&&void 0!==Nl?Nl:"Start Date",onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{start:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"End date label to use"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null!==(Ll=null===Sn||void 0===Sn?void 0:Sn.end)&&void 0!==Ll?Ll:"End Date",onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{end:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Value label to use (Optional)"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null===Sn||void 0===Sn?void 0:Sn.valueL,onChange:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{valueL:e.target.value}))}}))),i.createElement(Xe,{validationErrors:wn,defaultList:(null===sn||void 0===sn||null===(Il=sn.list)||void 0===Il?void 0:Il.length)>0?null===sn||void 0===sn?void 0:sn.list:void 0,onListSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{list:e}))}}),i.createElement("label",{className:Oe.checkboxLabelClass},"Retrieve calendar of transaction creator only?",i.createElement("input",{type:"checkbox",defaultChecked:null===Sn||void 0===Sn?void 0:Sn.creator,onChange:function(e){return En((0,n.Z)((0,n.Z)({},Sn),{},{creator:e.target.checked}))}})),i.createElement("label",{className:Oe.checkboxLabelClass},"Limit calendar to module it is attached to?",i.createElement("input",{type:"checkbox",defaultChecked:null===Sn||void 0===Sn?void 0:Sn.limited,onChange:function(e){return En((0,n.Z)((0,n.Z)({},Sn),{},{limited:e.target.checked}))}})),i.createElement("label",{className:Oe.checkboxLabelClass},"Allow event to span multiple dates?",i.createElement("input",{type:"checkbox",defaultChecked:null===Sn||void 0===Sn?void 0:Sn.span,onChange:function(e){return En((0,n.Z)((0,n.Z)({},Sn),{},{span:e.target.checked}))}})),i.createElement("label",{className:Oe.checkboxLabelClass},"Show calendar priority?",i.createElement("input",{type:"checkbox",defaultChecked:null===Sn||void 0===Sn?void 0:Sn.priority,onChange:function(e){return En((0,n.Z)((0,n.Z)({},Sn),{},{priority:e.target.checked}))}}))),"info"===(null===rn||void 0===rn||null===(xl=rn.name)||void 0===xl?void 0:xl.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(Je,{defaultOrientation:null!==(Ml=null===sn||void 0===sn?void 0:sn.orientation)&&void 0!==Ml?Ml:"Rows",defaultKey:null!==(kl=null===sn||void 0===sn?void 0:sn.key)&&void 0!==kl?kl:"Product ID",onKeySelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{key:e}))},blueprints:Gl,validationErrors:wn,defaultList:(null===sn||void 0===sn||null===(Ol=sn.list)||void 0===Ol?void 0:Ol.length)>0?null===sn||void 0===sn?void 0:sn.list:void 0,defaultType:Gl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===sn||void 0===sn?void 0:sn.component_id)&&void 0!==t?t:"")})),onTypeSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{component_id:e.component.id}))},onChangeList:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{list:(0,o.Z)(e)}))},onChangeOrientation:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{orientation:e}))},multiSelectLabel:""===(null===sn||void 0===sn?void 0:sn.component_id)?"":null===(Tl=Gl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===sn||void 0===sn?void 0:sn.component_id)&&void 0!==t?t:"")})))||void 0===Tl?void 0:Tl.label}),i.createElement("label",{className:Oe.checkboxLabelClass},"Show this info in emails?",i.createElement("input",{type:"checkbox",defaultChecked:null===Sn||void 0===Sn?void 0:Sn.email,onChange:function(e){return En((0,n.Z)((0,n.Z)({},Sn),{},{email:e.target.checked}))}}))),"chart"===(null===rn||void 0===rn||null===(Pl=rn.name)||void 0===Pl?void 0:Pl.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(Qe,{setFieldOption:En,fieldOption:Sn,defaultOrientation:null!==(Bl=null===sn||void 0===sn?void 0:sn.orientation)&&void 0!==Bl?Bl:"Rows",defaultKey:null!==(Fl=null===sn||void 0===sn?void 0:sn.key)&&void 0!==Fl?Fl:"",defaultConfig:null!==(Dl=null===sn||void 0===sn?void 0:sn.config)&&void 0!==Dl?Dl:v.HR,onConfigSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{config:e}))},onKeySelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{key:e}))},blueprints:Gl,validationErrors:wn,defaultList:(null===sn||void 0===sn||null===(Al=sn.list)||void 0===Al?void 0:Al.length)>0?null===sn||void 0===sn?void 0:sn.list:void 0,defaultItemList:(null===sn||void 0===sn||null===(Wl=sn.items)||void 0===Wl?void 0:Wl.length)>0?null===sn||void 0===sn?void 0:sn.items:void 0,defaultType:Gl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===sn||void 0===sn?void 0:sn.component_id)&&void 0!==t?t:"")})),onTypeSelected:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{component_id:e.component.id}))},onChangeList:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{list:(0,o.Z)(e)}))},onChangeListItems:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{items:(0,o.Z)(e)}))},onChangeOrientation:function(e){En((0,n.Z)((0,n.Z)({},Sn),{},{orientation:e}))},multiSelectLabel:""===(null===sn||void 0===sn?void 0:sn.component_id)?"":Gl.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===sn||void 0===sn?void 0:sn.component_id)&&void 0!==t?t:"")})).label}))),"emails"!==(null===rn||void 0===rn||null===(Vl=rn.name)||void 0===Vl?void 0:Vl.toLowerCase())&&i.createElement(De,{isOutput:0===(null===rn||void 0===rn?void 0:rn.io_type),selectedFields:Yl,options:Sn,fieldType:null===rn||void 0===rn?void 0:rn.name,onOptionsSelected:function(e){En(e)},fieldOption:Sn}),i.createElement("div",{className:Oe.controls},i.createElement(f.zx,{title:"Close",clicked:zl}),!tn&&i.createElement(f.zx,{light:!0,title:"Save",loading:Hl,clicked:qn}),!tn&&Ul&&i.createElement(f.zx,{title:"Delete",light:!0,loading:jl,clicked:function(){return Ul(dn)}}))))},Fe=function(e){var t=e.setFieldOption,l=e.options,r=e.defaultTable,d=e.defaultModule,u=e.defaultMap,s=e.onModuleSelected,c=e.onTableSelected,m=e.defaultList,p=e.validationErrors,v=e.allModules,y=(e.onChangeMapping,e.multiSelectLabel,e.companyProcesses),h=e.blueprints,C=(0,i.useState)(void 0),g=(0,a.Z)(C,2),b=(g[0],g[1]),S=(0,i.useState)(null!==u&&void 0!==u?u:{}),E=(0,a.Z)(S,1)[0],_=(0,i.useState)(!1),Z=(0,a.Z)(_,2),w=(Z[0],Z[1]),N=(0,i.useState)(void 0===m||0===m.length?[]:m.map((function(e){var t;return{label:e,value:e,blueprint_name:null!==(t=null===d||void 0===d?void 0:d.label)&&void 0!==t?t:"Others"}}))),L=(0,a.Z)(N,2),I=L[0],x=L[1];(0,i.useEffect)((function(){M()}),[]);var M=function(){if(h.length>0){var e=[];h.filter((function(t){t.fields.filter((function(t){e=[].concat((0,o.Z)(e),[t.value])}))})),e=(0,o.Z)(new Set(e)).map((function(e){return{label:e,value:e,blueprint_name:e}})),x((0,o.Z)(Te.sortWith([Te.ascend(Te.prop("label"))])(e)))}},k=v.map((function(e){return{label:e.name,value:e.id,module:e}})),O=[{label:"Item Code",value:"item_code"},{label:"Quantity",value:"quantity"},{label:"Value",value:"value"},{label:"Alt Value",value:"alt_value"},{label:"Type",value:"type"}];return i.createElement("div",{className:Oe.dropdownElementHost},i.createElement(Ae,{errorMessage:null===p||void 0===p?void 0:p.type},i.createElement(f.Lb,{title:"Module to list"}),i.createElement(f.sm,{"app-variant":null!==p&&void 0!==p&&p.type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement(f.rk,{items:k,defaultSelected:d,className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){!function(e){if(y.length>0&&void 0!==e){var t,l,n=[];null===(t=y.find((function(t){return t.id===e})))||void 0===t||null===(l=t.steps)||void 0===l||l.filter((function(e){e.component_blueprints.filter((function(e){e.selected_fields.filter((function(e){return 1==e.visible})).filter((function(e){n=[].concat((0,o.Z)(n),[e.field_name])}))}))})),n=(0,o.Z)(new Set(n)).map((function(e){var t;return{label:e,value:e,blueprint_name:null!==(t=null===d||void 0===d?void 0:d.label)&&void 0!==t?t:"Others"}})),x([].concat((0,o.Z)(Te.sortWith([Te.ascend(Te.prop("label"))])(n)),[{label:"None",value:"none"}]))}}(e.module.procedure.id),b(e),null===s||void 0===s||s(e),null!==e&&void 0!==e&&e.symbol?w(!1):w(!0)}}))),i.createElement(Ae,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Item Code"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:null!==u&&void 0!==u&&u.item_code?{label:u.item_code,value:u.item_code}:null,className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.item_code:E.item_code=e.value,t((0,n.Z)((0,n.Z)({},l),{},{map:E}))}}))),i.createElement(Ae,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Quantity"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:null!==u&&void 0!==u&&u.quantity?{label:u.quantity,value:u.quantity}:null,className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.quantity:E.quantity=e.value,t((0,n.Z)((0,n.Z)({},l),{},{map:E}))}}))),i.createElement(Ae,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Value"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:null!==u&&void 0!==u&&u.value?{label:u.value,value:u.value}:null,className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.value:E.value=e.value,t((0,n.Z)((0,n.Z)({},l),{},{map:E}))}}))),i.createElement(Ae,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Other Value"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:null!==u&&void 0!==u&&u.alt_value?{label:u.alt_value,value:u.alt_value}:null,className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.alt_value:E.alt_value=e.value,t((0,n.Z)((0,n.Z)({},l),{},{map:E}))}}))),i.createElement(Ae,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Total"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:null!==u&&void 0!==u&&u.total?{label:u.total,value:u.total}:null,className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.total:E.total=e.value,t((0,n.Z)((0,n.Z)({},l),{},{map:E}))}}))),i.createElement(Ae,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Type"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:null!==u&&void 0!==u&&u.type?{label:u.type,value:u.type}:null,className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.type:E.type=e.value,t((0,n.Z)((0,n.Z)({},l),{},{map:E}))}}))),(null===l||void 0===l?void 0:l.group)&&i.createElement(Ae,{errorMessage:null===p||void 0===p?void 0:p.type},i.createElement(f.Lb,{title:"Group By"}),i.createElement(f.sm,{"app-variant":null!==p&&void 0!==p&&p.type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement(f.rk,{items:O,defaultSelected:null===O||void 0===O?void 0:O.find((function(e){return e.value===(null===l||void 0===l?void 0:l.groupL)})),className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){t((0,n.Z)((0,n.Z)({},l),{},{groupL:null===e||void 0===e?void 0:e.value}))}}))),i.createElement("label",{className:Oe.checkboxLabelClass},"Group items?",i.createElement("input",{type:"checkbox",defaultChecked:null===l||void 0===l?void 0:l.group,onChange:function(e){return t((0,n.Z)((0,n.Z)({},l),{},{group:e.target.checked}))}})),i.createElement(Ae,{errorMessage:null===p||void 0===p?void 0:p.type},i.createElement(f.Lb,{title:"List type"}),i.createElement(f.sm,{"app-variant":null!==p&&void 0!==p&&p.type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement(f.rk,{items:[{label:"Table (Horizontal fields)",value:"Table"},{label:"List (max 4 fields displayed)",value:"List"},{label:"Vertical",value:"vertical"}],defaultSelected:r,className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){null===c||void 0===c||c(e),null!==e&&void 0!==e&&e.symbol?w(!1):w(!0)}}))))},De=function(e){var t,l,o,r=e.fieldType,d=e.selectedFields,u=e.fieldOption,s=e.errorMessage,c=e.noBorder,m=e.options,p=e.onOptionsSelected,v=e.isOutput,y=(0,i.useState)(((null===m||void 0===m?void 0:m.valueToMatch)||(null===m||void 0===m?void 0:m.valueToMatch2))&&(null===m||void 0===m?void 0:m.fieldToMatch)||(null===m||void 0===m?void 0:m.mapToItem)||(null===m||void 0===m?void 0:m.notes)||(null===m||void 0===m?void 0:m.width)||(null===m||void 0===m?void 0:m.landscape)),h=(0,a.Z)(y,2),C=h[0],g=h[1],b=(0,i.useState)(null===m||void 0===m?void 0:m.valueToMatch),S=(0,a.Z)(b,2),E=S[0],_=S[1],Z=(0,i.useState)(null===m||void 0===m?void 0:m.valueToMatch2),w=(0,a.Z)(Z,2),N=w[0],L=w[1],I=(0,i.useState)(null===m||void 0===m?void 0:m.fieldToMatch),x=(0,a.Z)(I,2),M=x[0],k=x[1],O=(0,i.useState)(null===m||void 0===m?void 0:m.notes),T=(0,a.Z)(O,2),P=T[0],B=T[1],F=[{label:"Make field visible and mandatory",value:"visman"},{label:"Make field visible",value:"visible"},{label:"Make field hidden",value:"hidden"},{label:"Make field mandatory",value:"mandatory"},{label:"Make field optional",value:"optional"},{label:"Disable the field",value:"disable"},{label:"Enable the field",value:"enable"}],D=[{label:"Make field visible and mandatory",value:"visman"},{label:"Show the field",value:"visible"},{label:"Hide the field",value:"hide"},{label:"Make field mandatory",value:"mandatory"},{label:"Make field optional",value:"optional"},{label:"Disable the field",value:"disable"},{label:"Enable the field",value:"enable"},{label:"Trigger an email during save",value:"email"}],A=[{label:"Set date today",value:"today",type:"Date"},{label:"Set date tomorrow",value:"tomorrow",type:"Date"},{label:"Set date one month from today",value:"month",type:"Date"},{label:"Set date one week from today",value:"week",type:"Date"},{label:"None",value:"none",type:"Date"}],W=[{label:"Total Sum per line item variable (A1+A2+An)",id:6,value:"itemsum",type:"items"},{label:"Total Difference per line item variable (A1-A2-An)",id:7,value:"itemdiff",type:"items"},{label:"Count occurrences of string in line item variable selected",id:12,value:"countocc",type:"items"},{label:"None",id:14,value:"none",type:"items"}];d.map((function(e){return{label:e.value,value:e.value,field:e}}));return i.createElement("div",{className:Oe.optionSettings,"app-container-variant":c?"noBorder":"border","app-variant":(null===s||void 0===s?void 0:s.length)>0?"error":"normal"},!("GoogleAI Assistant"===r||"OpenAI Assistant"===r)&&i.createElement(f.pd,{id:"Show additional options?",title:"Show additional options?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!!C,toggleSelected:function(e){g(e)}}),C&&i.createElement("div",null,i.createElement(Ae,null,i.createElement(f.Lb,{title:"Add Notes"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("textarea",{type:"text",className:Oe.dropDownNewListItemInput,value:P,name:"matched to field",onChange:function(e){B(e.target.value),p((0,n.Z)((0,n.Z)({},u),{},{notes:e.target.value}))}})))),C&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Field name to match values"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:M,name:"matched to field",onChange:function(e){k(e.target.value),p((0,n.Z)((0,n.Z)({},u),{},{fieldToMatch:e.target.value}))}}))),C&&(null===M||void 0===M?void 0:M.length)>2&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Values (A) to be matched to field. (Note: Use ' , ' to seperate)"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:E,name:"matched to field",onChange:function(e){_(e.target.value),p((0,n.Z)((0,n.Z)({},u),{},{valueToMatch:e.target.value}))}}))),C&&(null===E||void 0===E?void 0:E.length)>2&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Perform this action when matched with (A)"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:D.filter((function(e){return"email"!==e.value})),defaultSelectedItem:D.find((function(e){return e.value===(null===m||void 0===m?void 0:m.actionToPerform)})),className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){p((0,n.Z)((0,n.Z)({},u),{},{actionToPerform:e.value}))}}))),C&&(null===E||void 0===E?void 0:E.length)>2&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Perform this action when not matched with (A)"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:F,defaultSelectedItem:F.find((function(e){return e.value===(null===m||void 0===m?void 0:m.initialState)})),className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){p((0,n.Z)((0,n.Z)({},u),{},{initialState:e.value}))}}))),C&&(null===M||void 0===M?void 0:M.length)>2&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Values (B) to be matched to field. (Note: Use ' , ' to seperate)"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:N,name:"matched to field",onChange:function(e){L(e.target.value),p((0,n.Z)((0,n.Z)({},u),{},{valueToMatch2:e.target.value}))}}))),C&&(null===N||void 0===N?void 0:N.length)>2&&"Date"===r&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Change to this value when matched with (B)"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:A,defaultSelectedItem:A.filter((function(e){return e.type===r})).find((function(e){return e.value===(null===m||void 0===m?void 0:m.value)})),className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){p((0,n.Z)((0,n.Z)({},u),{},{value:e.value}))}}))),C&&(null===N||void 0===N?void 0:N.length)>2&&("Text"===r||"Status"===r)&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Change to this value when matched"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:r.toLowerCase(),className:Oe.dropDownNewListItemInput,placeholder:null===m||void 0===m?void 0:m.value,name:"matched to field",onChange:function(e){p((0,n.Z)((0,n.Z)({},u),{},{value:e.target.value}))}}))),C&&(null===N||void 0===N?void 0:N.length)>2&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Perform action to field when matched with (B)"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:null!==m&&void 0!==m&&m.actionToPerform?D.filter((function(e){return!(e.value===(null===m||void 0===m?void 0:m.actionToPerform)||e.value===(null===m||void 0===m?void 0:m.initialState))})):D,defaultSelectedItem:D.find((function(e){return e.value===(null===m||void 0===m?void 0:m.actionToPerform2)})),className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){p((0,n.Z)((0,n.Z)({},u),{},{actionToPerform2:e.value}))}}))),C&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Map this field to line item field"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:[{label:"Item Codes",value:"item_code"},{label:"Numbers",value:"quantity"},{label:"Basic Text",value:"value"},{label:"Other Text",value:"alt_value"},{label:"Totals",value:"total"},{label:"Type",value:"type"},{label:"Distance",value:"distance"},{label:"None",value:"none"}],defaultSelectedItem:[{label:"Item Codes",value:"item_code"},{label:"Numbers",value:"quantity"},{label:"Text",value:"value"},{label:"More Text",value:"alt_value"},{label:"Totals",value:"total"},{label:"Type",value:"type"},{label:"Distance",value:"distance"}].find((function(e){return e.value===(null===m||void 0===m?void 0:m.mapToItem)})),className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?(delete u.mapToItem,delete u.footer):p((0,n.Z)((0,n.Z)({},u),{},{mapToItem:e.value}))}}))),C&&u.mapToItem&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Compute and display as footer value"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:W,defaultSelectedItem:W.find((function(e){return e.value===(null===m||void 0===m?void 0:m.footer)})),className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?delete u.footer:p((0,n.Z)((0,n.Z)({},u),{},{footer:e.value}))}}))),C&&u.mapToItem&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Item Group Header"}),i.createElement("input",{type:"text",className:Oe.elementTextInput,defaultValue:null===u||void 0===u?void 0:u.group,onBlur:function(e){return p((0,n.Z)((0,n.Z)({},u),{},{group:e.target.value}))}})),C&&!v&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Apply color for values"}),i.createElement("input",{type:"text",className:Oe.elementTextInput,style:{borderRight:"white"===(null===u||void 0===u?void 0:u.valueC)?"white":"".concat(null!==u&&void 0!==u&&u.valueC?"50px":"1px"," solid ").concat(null!==(t=null===u||void 0===u?void 0:u.valueC)&&void 0!==t?t:"var(--app-color-gray-lighter)")},defaultValue:null===u||void 0===u?void 0:u.valueC,onBlur:function(e){return p((0,n.Z)((0,n.Z)({},u),{},{valueC:e.target.value}))}})),C&&i.createElement(Ae,null,i.createElement("br",null),i.createElement(f.Lb,{title:"Field width (min 15%, will fit 4 fields in row)"}),i.createElement("div",{style:{display:"flex",width:"100%"}},i.createElement("input",{type:"range",min:"15",max:"100",step:"5",style:{width:"90%"},defaultValue:null!==(l=null===m||void 0===m?void 0:m.width)&&void 0!==l?l:"0",onChange:function(e){p((0,n.Z)((0,n.Z)({},u),{},{width:e.target.value}))}}),i.createElement("label",{style:{width:"10%"}},null!==(o=null===u||void 0===u?void 0:u.width)&&void 0!==o?o:null===m||void 0===m?void 0:m.width,"%")),i.createElement("br",null)),C&&i.createElement(f.pd,{id:"Show label in landscape?",title:"Show label in landscape?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===m||void 0===m?void 0:m.landscape,toggleSelected:function(e){p((0,n.Z)((0,n.Z)({},u),{},{landscape:e}))}}),C&&!v&&i.createElement(f.pd,{id:"Do not save this value?",title:"Do not save this value?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===m||void 0===m?void 0:m.skip,toggleSelected:function(e){p((0,n.Z)((0,n.Z)({},u),{},{skip:e}))}}),C&&!v&&i.createElement(f.pd,{id:"Read only?",title:"Read only?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===m||void 0===m?void 0:m.read,toggleSelected:function(e){p((0,n.Z)((0,n.Z)({},u),{},{read:e}))}}))},Ae=function(e){var t=e.children,l=e.errorMessage,n=e.noBorder;return i.createElement("div",{className:Oe.optionSection,"app-container-variant":n?"noBorder":"border","app-variant":(null===l||void 0===l?void 0:l.length)>0?"error":"normal"},t,(null===l||void 0===l?void 0:l.length)>0&&i.createElement("span",{className:Oe.errorContainer},l))},We=function(e){var t=e.defaultValue,l=e.onChangeType,n=e.validationErrors,o=(0,i.useState)(null!==t&&void 0!==t&&t),r=(0,a.Z)(o,2),d=r[0],u=r[1];return i.createElement(Ae,{errorMessage:null===n||void 0===n?void 0:n.type},i.createElement(f.Lb,{title:"Type of Number"}),i.createElement(f.sm,{"app-variant":null!==n&&void 0!==n&&n.type?"error":"normal","app-container-variant":"noBorder",className:Oe.numberOptionsContainer},i.createElement(f.nd,{selected:d,setSelected:function(e){u(e),l(e?"numeric":"percentage")},first:"123 Value",second:"% Percentage",extraClassName:Oe.renderBooleansOptions})))},Ve=function(e){var t=e.defaultValue,l=e.defaultAuto,n=e.defaultTime,o=e.onChangeType,r=e.onExceeded,d=e.withTime,u=e.validationErrors,s=(0,i.useState)(null!==t&&void 0!==t&&t),c=(0,a.Z)(s,2),m=c[0],p=c[1];return i.createElement(Ae,{errorMessage:null===u||void 0===u?void 0:u.type},i.createElement(f.Lb,{title:"Type of Element"}),i.createElement(f.sm,{"app-variant":null!==u&&void 0!==u&&u.type?"error":"normal","app-container-variant":"noBorder",className:Oe.dateOptionsContainer},i.createElement(f.nd,{selected:m,setSelected:function(e){p(e),o(e?"single":"range")},first:"Single date",second:"Date Range",extraClassName:Oe.renderBooleansOptions})),i.createElement(f.pd,{id:"Add Time",title:"With Time?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:n,toggleSelected:function(e){d(e)}}),i.createElement(f.pd,{id:"Auto-close when date is exceeded",title:"Auto-close when date is exceeded?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:l,toggleSelected:function(e){r(e)}}))},ze=function(e){var t=e.defaultValue,l=e.defaultType,n=e.onChangeType,o=e.onChangeValue,r=e.validationErrors,d=(0,i.useState)(null!==l&&void 0!==l&&l),u=(0,a.Z)(d,2),s=u[0],c=u[1],m=(0,i.useState)(t),p=(0,a.Z)(m,2),v=p[0],y=p[1];return i.createElement(Ae,{errorMessage:null===r||void 0===r?void 0:r.type},i.createElement(f.Lb,{title:"URL Link"}),i.createElement("input",{type:"text",name:"element-name",value:v,onChange:function(e){o(e.target.value),y(e.target.value)},className:Oe.elementTextInput}),i.createElement(f.Lb,{title:"Type of Element"}),i.createElement(f.sm,{"app-variant":null!==r&&void 0!==r&&r.type?"error":"normal","app-container-variant":"noBorder",className:Oe.numberOptionsContainer},i.createElement(f.nd,{selected:s,setSelected:function(e){c(e),n(e?"image":"link")},first:"Image",second:"Link",extraClassName:Oe.renderBooleansOptions})))},Re=function(e){var t=e.defaultValue,l=e.onChangeValue,n=e.validationErrors,o=(0,i.useState)(t),r=(0,a.Z)(o,2),d=r[0],u=r[1];return i.createElement(Ae,{errorMessage:null===n||void 0===n?void 0:n.type},i.createElement(f.Lb,{title:"Label"}),i.createElement("input",{type:"text",name:"element-name",value:d,onChange:function(e){l(e.target.value),u(e.target.value)},className:Oe.elementTextInput}))},je=function(e){var t=e.onChange,l=e.countryCode,n=e.defaultValue,o=e.validationErrors,r=(0,i.useState)(n),d=(0,a.Z)(r,2),u=d[0],s=d[1];return i.createElement(Ae,{errorMessage:null===o||void 0===o?void 0:o.country_prefix},i.createElement(f.Lb,{title:"Phone Number Prefix"}),i.createElement(f.sm,{"app-variant":null!==o&&void 0!==o&&o.country_prefix?"error":"normal",className:Oe.unfocusableWrapper,onClickOutside:function(){},onClick:function(){var e,t=document.getElementsByClassName("selected-flag");t[0]&&(null===(e=t[0])||void 0===e||e.click())}},i.createElement(Me(),{specialLabel:"",enableSearch:!0,country:null!==l&&void 0!==l?l:"ph",onChange:function(e,l,n){var o="+"+l.dialCode+" "+l.name;s(o),null===t||void 0===t||t({country_prefix:"+".concat(null===l||void 0===l?void 0:l.dialCode),country_code:null===l||void 0===l?void 0:l.countryCode,country_name:null===l||void 0===l?void 0:l.name})},value:u,inputProps:{name:"phone",required:!1,autoFocus:!1},countryCodeEditable:!1,containerClass:Ie()(Oe.phoneIContainer,Oe.borderClass),inputClass:Oe.phoneIInput,buttonClass:Oe.phoneIButton,dropdownClass:Oe.phoneIDropdown,searchClass:Oe.phoneISearch}),i.createElement("p",{className:Oe.phonePrefixText},null!==u&&void 0!==u?u:"+44 United Kingdom")))},Ue=function(e){var t=e.defaultValue,l=e.onCurrencySelected,n=e.validationErrors,o=(0,i.useState)(void 0),r=(0,a.Z)(o,2),d=r[0],u=r[1],s=(0,i.useState)(!1),c=(0,a.Z)(s,2),m=c[0],p=c[1];return i.createElement(Ae,{errorMessage:null===n||void 0===n?void 0:n.currency_type},i.createElement(f.Lb,{title:"Currency Type"}),i.createElement(f.sm,{"app-variant":null!==n&&void 0!==n&&n.currency_type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement("pre",{className:Oe.currencySymbol},null!==d&&void 0!==d&&d.symbol?null===d||void 0===d?void 0:d.symbol:m?"":null===t||void 0===t?void 0:t.symbol," "),i.createElement(f.Ld,{items:v.s3,defaultSelectedItem:t,triggerType:"chevron",className:Oe.currencySelectComponent,inputClassName:Oe.currencySearchInput,clearControlsClassName:Oe.currencyClearControlsClassName,molclassname:Oe.currencySelectMenuOverlayList,moliclassname:Oe.currencySelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){u(e),l(e),null!==e&&void 0!==e&&e.symbol?p(!1):p(!0)}})))},qe=function(e){var t=e.defaultValue,l=e.onActionSelected,n=e.validationErrors,o=(0,i.useState)(void 0),r=(0,a.Z)(o,2),d=(r[0],r[1]),u=(0,i.useState)(!1),s=(0,a.Z)(u,2),c=(s[0],s[1]);return i.createElement(Ae,{errorMessage:null===n||void 0===n?void 0:n.currency_type},i.createElement(f.Lb,{title:"Action Type"}),i.createElement(f.sm,{"app-variant":null!==n&&void 0!==n&&n.currency_type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement(f.Ld,{items:v.D0,defaultSelectedItem:v.D0.find((function(e){return e.value===t})),triggerType:"chevron",className:Oe.currencySelectComponent,inputClassName:Oe.currencySearchInput,clearControlsClassName:Oe.currencyClearControlsClassName,molclassname:Oe.currencySelectMenuOverlayList,moliclassname:Oe.currencySelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){d(e),l(e),null!==e&&void 0!==e&&e.symbol?c(!1):c(!0)}})),i.createElement("br",null),i.createElement(f.Lb,{title:"Notes: The Action Button is only shown in the detail popup screen"}))},He=function(e){var t=e.defaultValue,l=e.defaultOption,n=e.onProfileSelected,o=e.validationErrors,r=e.companyUsersArray,d=(0,i.useState)(void 0),u=(0,a.Z)(d,2),s=u[0],c=u[1],m=(0,i.useState)(void 0),p=(0,a.Z)(m,2),v=(p[0],p[1],(0,i.useState)(!1)),y=(0,a.Z)(v,2),h=(y[0],y[1]),C=[{label:"User that made the transaction",value:"creator"},{label:"Wallet of user that made the transaction",value:"wallet"},{label:"User that accepted the transaction",value:"owner"},{label:"Custom",value:"custom"}];return i.createElement(Ae,{errorMessage:null===o||void 0===o?void 0:o.currency_type},i.createElement(f.Lb,{title:"Show profile of user"}),i.createElement(f.sm,{"app-variant":null!==o&&void 0!==o&&o.currency_type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement(f.Ld,{items:C,defaultSelectedItem:C.find((function(e){return e.value===t})),triggerType:"chevron",className:Oe.currencySelectComponent,inputClassName:Oe.currencySearchInput,clearControlsClassName:Oe.currencyClearControlsClassName,molclassname:Oe.currencySelectMenuOverlayList,moliclassname:Oe.currencySelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){c(e),n(e),null!==e&&void 0!==e&&e.symbol?h(!1):h(!0)}})),("custom"===(null===s||void 0===s?void 0:s.value)||"custom"===t)&&i.createElement(i.Fragment,null,i.createElement(f.Lb,{title:"Select user"}),i.createElement(f.sm,{"app-variant":null!==o&&void 0!==o&&o.currency_type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement(f.Ld,{items:r.map((function(e){return{label:"".concat(e.first_name," ").concat(e.last_name),value:e.id}})),defaultSelectedItem:r.map((function(e){return{label:"".concat(e.first_name," ").concat(e.last_name),value:e.id}})).find((function(e){return e.value===(null===l||void 0===l?void 0:l.id)})),triggerType:"chevron",className:Oe.currencySelectComponent,inputClassName:Oe.currencySearchInput,clearControlsClassName:Oe.currencyClearControlsClassName,molclassname:Oe.currencySelectMenuOverlayList,moliclassname:Oe.currencySelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){l.id=e.value}}))),i.createElement(f.pd,{id:"Show profile picture",title:"Show profile picture?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:null===l||void 0===l?void 0:l.show,toggleSelected:function(e){l.show=e}}))},Ke=function(e){var t,l,n,r,d,u,s,c,m,p,y=e.defaultPr,h=e.defaultJ1,C=e.defaultJ2,g=e.defaultType,b=e.onTypeSelected,S=e.defaultList,E=e.onListSelected,_=e.validationErrors,Z=e.onJump1Selected,w=void 0===Z?function(){}:Z,N=e.onJump2Selected,L=void 0===N?function(){}:N,I=e.companyProcesses,x=e.onProcSelected,M=void 0===x?function(){}:x,k=(0,i.useState)(void 0),O=(0,a.Z)(k,2),T=O[0],P=O[1],B=(0,i.useState)(!1),F=(0,a.Z)(B,2),D=F[0],A=F[1],W=(0,i.useState)(null!==S&&void 0!==S?S:[]),R=(0,a.Z)(W,2),j=R[0],U=R[1],q=(0,i.useState)(!0),H=(0,a.Z)(q,2),K=H[0],X=H[1],G=(0,i.useState)(""),Y=(0,a.Z)(G,2),J=Y[0],Q=Y[1],$=(0,i.useState)(h),ee=(0,a.Z)($,2),te=ee[0],le=ee[1],ne=(0,i.useState)(C),oe=(0,a.Z)(ne,2),ae=oe[0],ie=oe[1],re=(0,i.useState)(y),de=(0,a.Z)(re,2),ue=de[0],se=de[1],ce=(0,i.useCallback)((function(){X(!0),U((function(e){return[].concat((0,o.Z)(e),[J])})),Q(""),null===E||void 0===E||E([].concat((0,o.Z)(j),[J]))}),[j,J,E]),me=(0,i.useCallback)((function(e){U((function(t){return(0,o.Z)(Te.reject(Te.equals(e),t))})),null===E||void 0===E||E((0,o.Z)(Te.reject(Te.equals(e),j)))}),[j,E]);return i.createElement("div",{className:Oe.dropdownElementHost},b&&i.createElement(Ae,{errorMessage:null===_||void 0===_?void 0:_.type},i.createElement(f.Lb,{title:"Dropdown Type"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement("pre",{className:Oe.dropdownSymbol},null!==T&&void 0!==T&&T.icon?null===T||void 0===T?void 0:T.icon:D?"":null===g||void 0===g?void 0:g.icon," "),i.createElement(f.rk,{items:v.YX,defaultSelected:g,className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){P(e),null===b||void 0===b||b(null!==e&&void 0!==e?e:"single"),null!==e&&void 0!==e&&e.symbol?A(!1):A(!0)}}))),i.createElement(Ae,{errorMessage:null===_||void 0===_?void 0:_.list},i.createElement(f.Lb,{title:"Dropdown Options"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.list?"error":"normal",className:Oe.dropdownListContainer,onClickOutside:(0,i.useCallback)((function(){null===E||void 0===E||E(j)}),[j,E])},K?i.createElement("div",{className:Oe.dropDownButtonContainer},i.createElement(f.zx,{light:!0,title:"Add Dropdown Option",clicked:function(){return X(!1)}})):i.createElement("div",{className:Oe.dropDownNewListItemInputContainer},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:J,name:"newItem",placeholder:"Type name",onChange:function(e){Q(e.target.value)}}),(null===J||void 0===J?void 0:J.length)>0&&i.createElement("button",{type:"button",onClick:ce,className:Oe.dropdownInputButtonSaveNewItem},i.createElement(V.G,{icon:z.g6h}))),i.createElement("div",{className:Oe.dropdownListItemsContainer},j&&(null===j||void 0===j?void 0:j.map((function(e,t){return i.createElement(st,{key:e+t,item:e,isOverflow:(null===j||void 0===j?void 0:j.length)>3,onItemChanged:function(e){U((function(l){return(0,o.Z)(Te.update(t)(e)(l))}))},onItemRemoved:function(){return me(e)}})})))))),(te||"decision"===(null===T||void 0===T?void 0:T.value))&&i.createElement(Ae,{errorMessage:null===_||void 0===_?void 0:_.position_id},i.createElement(f.Lb,{title:"Process where to look for step"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.position_id?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.peoplePositionSelectContainer)},i.createElement(f.rk,{items:I.map((function(e){return{label:e.name,value:e.id,process:e}})),defaultSelected:{label:null===(t=I.find((function(e){return e.id===ue})))||void 0===t?void 0:t.name},className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){se(e.value),null===M||void 0===M||M(e.value)}}))),(te||"decision"===(null===T||void 0===T?void 0:T.value))&&ue&&i.createElement(Ae,{errorMessage:null===_||void 0===_?void 0:_.position_id},i.createElement(f.Lb,{title:"Dropdown option 1 jumps to step"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.position_id?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.peoplePositionSelectContainer)},i.createElement(f.rk,{items:null===(l=I.find((function(e){return e.id===ue})))||void 0===l||null===(n=l.steps)||void 0===n?void 0:n.map((function(e){return{label:e.name,value:e.id,step:e}})),defaultSelected:{label:null===(r=I.find((function(e){return e.id===ue})))||void 0===r||null===(d=r.steps)||void 0===d||null===(u=d.find((function(e){return e.id===te})))||void 0===u?void 0:u.name},className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){le(e.value),null===w||void 0===w||w(e.value)}}))),(ae||"decision"===(null===T||void 0===T?void 0:T.value))&&ue&&i.createElement(Ae,{errorMessage:null===_||void 0===_?void 0:_.position_id},i.createElement(f.Lb,{title:"Dropdown option 2 jumps to step"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.position_id?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.peoplePositionSelectContainer)},i.createElement(f.rk,{items:null===(s=I.find((function(e){return e.id===ue})))||void 0===s?void 0:s.steps.map((function(e){return{label:e.name,value:e.id,step:e}})),defaultSelected:{label:null===(c=I.find((function(e){return e.id===ue})))||void 0===c||null===(m=c.steps)||void 0===m||null===(p=m.find((function(e){return e.id===ae})))||void 0===p?void 0:p.name},className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){ie(e.value),null===L||void 0===L||L(e.value)}}))))},Xe=function(e){var t=e.defaultList,l=e.onListSelected,n=e.validationErrors,r=e.title,d=void 0===r?"Dropdown Options":r,u=(0,i.useState)(null!==t&&void 0!==t?t:[]),s=(0,a.Z)(u,2),c=s[0],m=s[1],p=(0,i.useState)(!0),v=(0,a.Z)(p,2),y=v[0],h=v[1],C=(0,i.useState)(""),g=(0,a.Z)(C,2),b=g[0],S=g[1],E=(0,i.useCallback)((function(){h(!0),m((function(e){return[].concat((0,o.Z)(e),[b])})),S(""),null===l||void 0===l||l([].concat((0,o.Z)(c),[b]))}),[c,b,l]),_=(0,i.useCallback)((function(e){m((function(t){return(0,o.Z)(Te.reject(Te.equals(e),t))})),null===l||void 0===l||l((0,o.Z)(Te.reject(Te.equals(e),c)))}),[c,l]);return i.createElement("div",{className:Oe.dropdownElementHost},i.createElement(Ae,{errorMessage:null===n||void 0===n?void 0:n.list},i.createElement(f.Lb,{title:d}),i.createElement(f.sm,{"app-variant":null!==n&&void 0!==n&&n.list?"error":"normal",className:Oe.dropdownListContainer,onClickOutside:(0,i.useCallback)((function(){null===l||void 0===l||l(c)}),[c,l])},y?i.createElement("div",{className:Oe.dropDownButtonContainer},i.createElement(f.zx,{light:!0,title:"Add Options",clicked:function(){return h(!1)}})):i.createElement("div",{className:Oe.dropDownNewListItemInputContainer},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:b,name:"newItem",placeholder:"Type name",onChange:function(e){S(e.target.value)}}),(null===b||void 0===b?void 0:b.length)>0&&i.createElement("button",{type:"button",onClick:E,className:Oe.dropdownInputButtonSaveNewItem},i.createElement(V.G,{icon:z.g6h}))),i.createElement("div",{className:Oe.dropdownListItemsContainer},c&&(null===c||void 0===c?void 0:c.map((function(e,t){return i.createElement(st,{key:e+t,item:e,isOverflow:(null===c||void 0===c?void 0:c.length)>3,onItemChanged:function(e){m((function(l){return(0,o.Z)(Te.update(t)(e)(l))}))},onItemRemoved:function(){return _(e)}})})))))))},Ge=function(e){var t=e.defaultList,l=e.validationErrors,n=e.onChangeList,o=e.products;return i.createElement("div",{className:Oe.dropdownElementHost},i.createElement(Ae,{errorMessage:null===l||void 0===l?void 0:l.position_id},i.createElement(f.Lb,{title:"What products to display?"}),i.createElement(f.sm,{"app-variant":null!==l&&void 0!==l&&l.position_id?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.peoplePositionSelectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:o.map((function(e){return{label:e.name,value:e.product_code}})),itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:void 0===t||0===t.length?[]:t.map((function(e){var t=o.find((function(t){return t.product_code===e}));return{label:null===t||void 0===t?void 0:t.name,value:null===t||void 0===t?void 0:t.product_code}})),className:Oe.uploadSelectComponent,inputClassName:Oe.uploadSearchInput,molclassname:Oe.uploadSelectMenuOverlayList,moliclassname:Oe.uploadSelectMenuOverlayListItem,onChange:function(e){null===n||void 0===n||n(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))))},Ye=function(e){var t=e.defaultType,l=e.defaultModule,n=e.onModuleSelected,r=e.onTypeSelected,u=e.defaultList,s=e.validationErrors,c=e.allModules,m=e.onChangeList,v=e.multiSelectLabel,y=void 0===v?"Default":v,h=(0,i.useState)(void 0),C=(0,a.Z)(h,2),g=C[0],b=C[1],S=(0,i.useState)(!1),E=(0,a.Z)(S,2),_=E[0],Z=E[1],w=(0,i.useState)(!1),N=(0,a.Z)(w,2)[1],L=(0,i.useState)(void 0===u||0===u.length?[]:u.map((function(e){return{label:e,value:e,blueprint_name:y}}))),I=(0,a.Z)(L,2),x=I[0],M=I[1],k=c.map((function(e){return{label:e.name,value:e.id,module:e}}));return i.createElement("div",{className:Oe.dropdownElementHost},i.createElement(Ae,{errorMessage:null===s||void 0===s?void 0:s.type},i.createElement(f.Lb,{title:"Module to list"}),i.createElement(f.sm,{"app-variant":null!==s&&void 0!==s&&s.type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement("pre",{className:Oe.dropdownSymbol},null!==g&&void 0!==g&&g.icon?null===g||void 0===g?void 0:g.icon:_?"":null===l||void 0===l?void 0:l.icon," "),i.createElement(f.rk,{items:k,defaultSelected:l,className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){var t;t=e.module.procedure.id,(0,p.zJ)(t).pipe((0,d.P)()).subscribe({next:function(e){var t,l=[];null===(t=e.steps)||void 0===t||t.filter((function(e){e.component_blueprints.filter((function(e){e.selected_fields.filter((function(t){l=[].concat((0,o.Z)(l),[{label:t.field_name,value:t.field_name,blueprint_name:e.name,blueprint_id:e.id}])}))}))})),M([].concat((0,o.Z)(Te.sortWith([Te.ascend(Te.prop("blueprint_name"))])(l)),[{label:"Created Date",value:"Created Date",blueprint_name:"Others"},{label:"Total Qty",value:"Total Qty",blueprint_name:"Others"}])),N(!1)},error:function(e){}}),b(e),null===n||void 0===n||n(e),null!==e&&void 0!==e&&e.symbol?Z(!1):Z(!0)}}))),i.createElement(Ae,{errorMessage:null===s||void 0===s?void 0:s.position_id},i.createElement(f.Lb,{title:"What fields to display?"}),i.createElement(f.sm,{"app-variant":null!==s&&void 0!==s&&s.position_id?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.peoplePositionSelectContainer)},i.createElement(se.Cm,{items:x,groupedBy:"blueprint_name",groupname:"blueprint_name",triggerType:"chevron",initialSelectedValues:void 0===u||0===u.length?[]:u.map((function(e){return{label:e,value:e,blueprint_name:y}})),className:Oe.peoplePositionsSelect,inputClassName:Oe.peoplePositionsSelectInput,molclassname:Oe.peoplePositionsSelectMenuOverlay,moliclassname:Oe.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===m||void 0===m||m(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(Ae,{errorMessage:null===s||void 0===s?void 0:s.type},i.createElement(f.Lb,{title:"List type"}),i.createElement(f.sm,{"app-variant":null!==s&&void 0!==s&&s.type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement(f.rk,{items:[{label:"Table",value:"Table"},{label:"List (max 4 fields displayed)",value:"List"}],defaultSelected:t,className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){null===r||void 0===r||r(e),null!==e&&void 0!==e&&e.symbol?Z(!1):Z(!0)}}))))},Je=function(e){var t=e.defaultOrientation,l=e.defaultKey,n=e.defaultType,d=e.defaultList,u=e.onKeySelected,s=e.onTypeSelected,c=e.validationErrors,m=e.blueprints,p=e.onChangeList,v=e.multiSelectLabel,y=void 0===v?"Default":v,h=e.onChangeOrientation,C=(e.fieldOption,e.setFieldOption,(0,r.v9)((function(e){return e.modalsReducer}))),g=C.isOnboarding,b=(0,i.useState)(void 0),S=(0,a.Z)(b,2),E=(S[0],S[1]),_=(0,i.useState)(!1),Z=(0,a.Z)(_,2),w=(Z[0],Z[1]),N=(0,i.useState)(!0),L=(0,a.Z)(N,2)[1],I=(0,i.useState)(void 0===d||0===d.length?[]:d.map((function(e){return{label:e,value:e,blueprint_name:y}}))),x=(0,a.Z)(I,2),M=x[0],k=x[1],O=g?m.map((function(e){return{label:e.name,value:e.id,component:e}})):m.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,component:e}})),T=[{label:"Rows",value:"rows"},{label:"Columns",value:"Columns"}];return i.createElement("div",{className:Oe.dropdownElementHost},i.createElement(Ae,{errorMessage:null===c||void 0===c?void 0:c.type},i.createElement(f.Lb,{title:"Component where to conduct lookup"}),i.createElement(f.sm,{"app-variant":null!==c&&void 0!==c&&c.type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement(f.rk,{items:O,defaultSelected:n,className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){!function(e){var t=[];e.fields.filter((function(l){t=[].concat((0,o.Z)(t),[{label:l.value,value:l.value,blueprint_name:e.name,blueprint_id:e.id}])})),k([].concat((0,o.Z)(Te.sortWith([Te.ascend(Te.prop("blueprint_name"))])(t)),[{label:"Created Date",value:"created_date",blueprint_name:"Others"}])),L(!1)}(e.component),E(e),null===s||void 0===s||s(null!==e&&void 0!==e?e:"single"),null!==e&&void 0!==e&&e.symbol?w(!1):w(!0)}}))),i.createElement(Ae,{errorMessage:null===c||void 0===c?void 0:c.position_id},i.createElement(f.Lb,{title:"What key to use?"}),i.createElement(f.sm,{"app-variant":null!==c&&void 0!==c&&c.position_id?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.peoplePositionSelectContainer)},i.createElement(f.rk,{items:M,defaultSelected:{label:l},className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){var t;null===u||void 0===u||u(null!==(t=e.value)&&void 0!==t?t:"Key")}}))),i.createElement(Ae,{errorMessage:null===c||void 0===c?void 0:c.position_id},i.createElement(f.Lb,{title:"What fields to display?"}),i.createElement(f.sm,{"app-variant":null!==c&&void 0!==c&&c.position_id?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.peoplePositionSelectContainer)},i.createElement(se.Cm,{items:M,groupedBy:"blueprint_name",groupname:"blueprint_name",triggerType:"chevron",initialSelectedValues:void 0===d||0===d.length?[]:d.map((function(e){return{label:e,value:e,blueprint_name:y}})),className:Oe.peoplePositionsSelect,inputClassName:Oe.peoplePositionsSelectInput,molclassname:Oe.peoplePositionsSelectMenuOverlay,moliclassname:Oe.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===p||void 0===p||p(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(Ae,{errorMessage:null===c||void 0===c?void 0:c.type},i.createElement(f.Lb,{title:"Interface Orientation"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:T,defaultSelectedItem:T.find((function(e){return e.value===t})),className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){h(e.value),null!==e&&void 0!==e&&e.symbol?w(!1):w(!0)}}))))},Qe=function(e){var t,l,d=e.defaultOrientation,u=e.defaultKey,s=e.defaultType,c=e.defaultList,m=e.defaultItemList,p=e.defaultConfig,v=e.onConfigSelected,y=e.onKeySelected,h=e.onTypeSelected,C=e.validationErrors,g=e.blueprints,b=(e.onChangeList,e.onChangeListItems,e.multiSelectLabel,e.onChangeOrientation,e.setFieldOption),S=e.fieldOption,E=(0,r.v9)((function(e){return e.modalsReducer})),_=E.isOnboarding,Z=(0,i.useState)(void 0),w=(0,a.Z)(Z,2),N=(w[0],w[1]),L=(0,i.useState)(!1),I=(0,a.Z)(L,2),x=(I[0],I[1]),M=(0,i.useState)(!0),k=(0,a.Z)(M,2)[1],O=(0,i.useState)(null!==d&&void 0!==d?d:"Donut"),T=(0,a.Z)(O,2),P=T[0],B=T[1],F=(0,i.useState)(s?Te.sortWith([Te.ascend(Te.prop("blueprint_name"))])(g.find((function(e){return e.id===(null===s||void 0===s?void 0:s.value)})).fields.map((function(e){var t=g.find((function(e){return e.id===(null===s||void 0===s?void 0:s.value)}));return{label:e.value,value:e.value,blueprint_name:t.name,blueprint_id:t.id}}))):[]),D=(0,a.Z)(F,2),A=D[0],W=D[1],V=_?Te.sortWith([Te.ascend(Te.prop("name"))])(g).map((function(e){return{label:e.name,value:e.id,component:e}})):Te.sortWith([Te.ascend(Te.prop("name"))])(g).filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,component:e}})),z=[{label:"Donut",value:"Donut"},{label:"Custom",value:"Custom"}],R=[{label:"Count Occurences",value:"occurences"},{label:"Total Quantity",value:"quantity"}];return i.createElement("div",{className:Oe.dropdownElementHost},i.createElement(Ae,{errorMessage:null===C||void 0===C?void 0:C.type},i.createElement(f.Lb,{title:"Chart Type"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:z,defaultSelectedItem:z.find((function(e){return e.value===d})),className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){b((0,n.Z)((0,n.Z)({},S),{},{orientation:e.value,list:[],items:[]})),B(e.value),null!==e&&void 0!==e&&e.symbol?x(!1):x(!0)}}))),i.createElement(Ae,{errorMessage:null===C||void 0===C?void 0:C.type},i.createElement(f.Lb,{title:"Component where to get fields"}),i.createElement(f.sm,{"app-variant":null!==C&&void 0!==C&&C.type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement(f.rk,{items:V,defaultSelected:s,className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){var t;t=e.component,W([].concat((0,o.Z)(Te.sortWith([Te.ascend(Te.prop("blueprint_name"))])(t.fields.map((function(e){return{label:e.value,value:e.value,blueprint_name:t.name,blueprint_id:t.id}})))),[{label:"Created Date",value:"created_date",blueprint_name:"Others"}])),k(!1),N(e),null===h||void 0===h||h(null!==e&&void 0!==e?e:"single"),null!==e&&void 0!==e&&e.symbol?x(!1):x(!0)}}))),i.createElement(Ae,{errorMessage:null===C||void 0===C?void 0:C.position_id},i.createElement(f.Lb,{title:"What key to use?"}),i.createElement(f.sm,{"app-variant":null!==C&&void 0!==C&&C.position_id?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.peoplePositionSelectContainer)},i.createElement(f.rk,{items:A,defaultSelected:{label:u},className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){var t;null===y||void 0===y||y(null!==(t=e.value)&&void 0!==t?t:"Key")}}))),"Custom"===P&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Chart Config"}),i.createElement("textarea",{id:"chart config",type:"text",name:"element-name",defaultValue:JSON.stringify(p),onChange:function(e){},onBlur:function(){var e,t,l;(function(e){try{JSON.parse(e)}catch(t){return!1}return!0})(null===(e=document.getElementById("chart config"))||void 0===e?void 0:e.value)?(v(JSON.parse(null===(t=document.getElementById("chart config"))||void 0===t?void 0:t.value)),document.getElementById("chart config").style.borderColor="var(--app-color-gray-lighter)"):0===(null===(l=document.getElementById("chart config"))||void 0===l?void 0:l.value.length)?(document.getElementById("chart config").value=JSON.stringify({}),document.getElementById("chart config").style.borderColor="pink"):document.getElementById("chart config").style.borderColor="red"},className:Oe.elementTextInput,style:{minHeight:"200px"}})),("Donut"!==P||"Donut"===P&&"quantity"===(null===S||void 0===S?void 0:S.operation))&&0===(null===S||void 0===S||null===(t=S.items)||void 0===t?void 0:t.length)&&i.createElement(Ae,{errorMessage:null===C||void 0===C?void 0:C.position_id},i.createElement(f.Lb,{title:"What field to use to compute?"}),i.createElement(f.sm,{"app-variant":null!==C&&void 0!==C&&C.position_id?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.peoplePositionSelectContainer)},i.createElement(f.rk,{items:A,defaultSelected:1===(null===c||void 0===c?void 0:c.length)?{label:c[0]}:void 0,className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){b((0,n.Z)((0,n.Z)({},S),{},{list:[e.value],items:[]}))}}))),("Donut"!==P||"Donut"===P&&"quantity"===(null===S||void 0===S?void 0:S.operation))&&0===(null===S||void 0===S||null===(l=S.list)||void 0===l?void 0:l.length)&&i.createElement(Ae,{errorMessage:null===C||void 0===C?void 0:C.position_id},i.createElement(f.Lb,{title:"What item field to use to compute?"}),i.createElement(f.sm,{"app-variant":null!==C&&void 0!==C&&C.position_id?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.peoplePositionSelectContainer)},i.createElement(f.rk,{items:[{label:"Item Code",value:"item_code",blueprint_name:"Items"},{label:"Quantity",value:"quantity",blueprint_name:"Items"},{label:"Value",value:"value",blueprint_name:"Items"},{label:"Value 2",value:"alt_value",blueprint_name:"Items"},{label:"Total",value:"total",blueprint_name:"Items"},{label:"Type",value:"type",blueprint_name:"Items"}],defaultSelected:1===(null===m||void 0===m?void 0:m.length)?{label:m[0]}:void 0,className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){b((0,n.Z)((0,n.Z)({},S),{},{items:[e.value],list:[]}))}}))),i.createElement(Ae,{errorMessage:null===C||void 0===C?void 0:C.type},i.createElement(f.Lb,{title:"Operation to be used"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:R,defaultSelectedItem:R.find((function(e){return e.value===(null===S||void 0===S?void 0:S.operation)})),className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){b((0,n.Z)((0,n.Z)({},S),{},{operation:null===e||void 0===e?void 0:e.value}))}}))))},$e=function(e){var t,l,r,d,u,s=e.defaultValue,c=e.defaultList,m=e.defaultSearchText,p=e.onChangeSearchText,v=e.onChangeList,y=e.onOperatorSelected,h=e.validationErrors,C=e.selectedFields,g=e.blueprints,b=(e.selectLabel,e.setFieldOption),S=e.fieldOption,E=(0,i.useState)(void 0===s?"":s),_=(0,a.Z)(E,2),Z=_[0],w=_[1],N=(0,i.useState)(void 0===c?[]:c),L=(0,a.Z)(N,1)[0],I=(0,i.useState)(void 0===m?"":m),x=(0,a.Z)(I,2),M=x[0],k=x[1],O=[{label:"Sum of the fields (A+B)",id:0,value:"sum",type:"fields"},{label:"Sum of custom fields (F1+..Fn)",id:15,value:"freesum",type:"fields"},{label:"Difference between fields (A-B)",id:1,value:"difference",type:"fields"},{label:"Multiply the fields (A*B)",id:2,value:"multiply",type:"fields"},{label:"Divide the fields (A/B)",id:3,value:"divide",type:"fields"},{label:"Total Difference per field (A1-A2-An)",id:4,value:"tdiff",type:"fields"},{label:"Total Sum per field (A1+A2+An)",id:5,value:"tsum",type:"fields"},{label:"Total Sum per line item variable (A1+A2+An)",id:6,value:"itemsum",type:"items"},{label:"Total Difference per line item variable (A1-A2-An)",id:7,value:"itemdiff",type:"items"},{label:"Difference between dates (D1-D2-Dn, in days)",id:10,value:"datesdiff",type:"date"},{label:"Difference between today and date (Today-Dn, in days)",id:11,value:"datenowdiff",type:"date"},{label:"Count occurrences of string in field selected",id:12,value:"countocc",type:"fields"},{label:"Count occurrences of date in field selected",id:13,value:"countdateocc",type:"date"},{label:"Compute the distance between two pins",id:14,value:"cmpdistance",type:"pin"}],T=[{label:"Quantity",id:6,value:"qty",type:"items"},{label:"Total",id:8,value:"total",type:"items"},{label:"Value",id:8,value:"value",type:"items"},{label:"Alt Value",id:9,value:"altvalue",type:"items"}],P=[{label:"Set date today",value:"today",type:"Date"},{label:"Set date tomorrow",value:"tomorrow",type:"Date"},{label:"Set date one month from today",value:"month",type:"Date"},{label:"Set date one week from today",value:"week",type:"Date"},{label:"None",value:"none",type:"Date"}],B=C.filter((function(e){return""!=e.value&&("Value Button"===e.field_type.name||"Number"===e.field_type.name||"Formula"===e.field_type.name||"Item Formula"===e.field_type.name)})).map((function(e){return{label:e.value,value:e.id,field_name:e.field_type.name}})),F=C.filter((function(e){return""!=e.value&&"Date"===e.field_type.name})).map((function(e){return{label:e.value,value:e.id,field_name:"Dates"}})),D=[].concat.apply([],g.map((function(e){return[].concat.apply([],e.fields)}))).map((function(e){return{label:e.value,value:e.id,type:e.name}}));return i.createElement("div",{className:Oe.dropdownElementHost},i.createElement(Ae,{errorMessage:null===h||void 0===h?void 0:h.type},i.createElement(f.Lb,{title:"Operation to perform"}),i.createElement(f.sm,{"apps-variant":null!==h&&void 0!==h&&h.type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:O,defaultSelectedItem:O.find((function(e){return e.value===Z})),className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){w(e.value),y(e.value)}}))),"freesum"!==Z&&i.createElement(Ae,{errorMessage:null===h||void 0===h?void 0:h.accepted_mimes},i.createElement(f.Lb,{title:"sum"===Z||"difference"===Z||"multiply"===Z||"divide"===Z?"Fields to perform selected operation":"Field to perform selected operation"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.accepted_mimes?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.multiselectContainer)},"datesdiff"===Z||"datenowdiff"===Z||"sum"===Z||"difference"===Z||"multiply"===Z||"divide"===Z?i.createElement(se.Cm,{items:"datesdiff"===Z||"datenowdiff"===Z?F:B,groupedBy:"field_name",groupname:"field_name",triggerType:"chevron",initialSelectedValues:"datesdiff"===Z||"datenowdiff"===Z?F.filter((function(e){return(null===L||void 0===L?void 0:L.indexOf(null===e||void 0===e?void 0:e.label))>-1})):B.filter((function(e){return(null===L||void 0===L?void 0:L.indexOf(null===e||void 0===e?void 0:e.label))>-1})),className:Oe.peoplePositionsSelect,inputClassName:Oe.peoplePositionsSelectInput,molclassname:Oe.peoplePositionsSelectMenuOverlay,moliclassname:Oe.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===v||void 0===v||v(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.label})))}}):"itemdiff"===Z||"itemsum"===Z?i.createElement(f.Ld,{triggerType:"chevron",items:T,defaultSelectedItem:L.length>0&&null!==(t=T.find((function(e){return e.value===L[0]})))&&void 0!==t?t:{},className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){null===v||void 0===v||v([null===e||void 0===e?void 0:e.value])}}):"cmpdistance"===Z?i.createElement(se.Cm,{items:D.filter((function(e){return"Pin"===e.type})),groupedBy:"type",groupname:"type",triggerType:"chevron",initialSelectedValues:D.filter((function(e){return"Pin"===e.type})).filter((function(e){return(null===L||void 0===L?void 0:L.indexOf(null===e||void 0===e?void 0:e.label))>-1})),className:Oe.peoplePositionsSelect,inputClassName:Oe.peoplePositionsSelectInput,molclassname:Oe.peoplePositionsSelectMenuOverlay,moliclassname:Oe.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===v||void 0===v||v(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.label})))}}):i.createElement(f.Ld,{triggerType:"chevron",items:Te.sortWith([Te.ascend(Te.prop("label"))])((0,o.Z)(new Set(D.filter((function(e){return"countdateocc"===Z?"Date"===e.type:"Text"===e.type&&"countocc"===Z||"Number"===e.type||"Status"===e.type||"Formula"===e.type||"Item Formula"===e.type||"Currency"===e.type})).map((function(e){return e.label})))).map((function(e){return{label:e,value:e}}))),defaultSelectedItem:L.length>0?{label:L[0]}:{},className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){null===v||void 0===v||v([null===e||void 0===e?void 0:e.label])}}))),"countocc"===Z&&i.createElement(Ae,{errorMessage:null===h||void 0===h?void 0:h.name},i.createElement(f.Lb,{title:"Input text to search"}),i.createElement("input",{type:"text",name:"element-name",value:M,onChange:function(e){k(e.target.value),p(e.target.value)},className:Oe.elementTextInput})),"countdateocc"===Z&&i.createElement(Ae,{errorMessage:null===h||void 0===h?void 0:h.name},i.createElement(f.Lb,{title:"Select date to match with"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.accepted_mimes?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.multiselectContainer)},i.createElement(f.Ld,{triggerType:"chevron",items:P,defaultSelectedItem:m&&P.find((function(e){return e.value===m})),className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){p(null===e||void 0===e?void 0:e.value)}}))),i.createElement(Ae,{errorMessage:null===h||void 0===h?void 0:h.type},i.createElement(f.Lb,{title:"Output display"}),i.createElement(f.sm,{"apps-variant":null!==h&&void 0!==h&&h.type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:Pe,defaultSelectedItem:Pe.find((function(e){return e.value===(null===S||void 0===S?void 0:S.display)})),className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){b((0,n.Z)((0,n.Z)({},S),{},{display:null===e||void 0===e?void 0:e.value}))}}))),"bar"===(null===S||void 0===S?void 0:S.display)&&i.createElement(Ae,{errorMessage:null===h||void 0===h?void 0:h.name},i.createElement(f.Lb,{title:"Maximum Value"}),i.createElement("input",{type:"text",name:"element-name",value:S.max,onBlur:function(e){b((0,n.Z)((0,n.Z)({},S),{},{max:e.target.value}))},className:Oe.elementTextInput}),i.createElement(f.Lb,{title:"Color - Formula Value"}),i.createElement("input",{type:"text",className:Oe.elementTextInput,style:{borderRight:"white"===(null===S||void 0===S?void 0:S.barC)?"white":"50px solid ".concat(null!==(l=null===S||void 0===S?void 0:S.barC)&&void 0!==l?l:"#F6F4EC")},defaultValue:null!==(r=null===S||void 0===S?void 0:S.barC)&&void 0!==r?r:"#F6F4EC",onBlur:function(e){return b((0,n.Z)((0,n.Z)({},S),{},{barC:e.target.value}))}}),i.createElement(f.Lb,{title:"Color - Formula Max Value"}),i.createElement("input",{type:"text",className:Oe.elementTextInput,style:{borderRight:"white"===(null===S||void 0===S?void 0:S.maxC)?"white":"50px solid ".concat(null!==(d=null===S||void 0===S?void 0:S.maxC)&&void 0!==d?d:"yellow")},defaultValue:null!==(u=null===S||void 0===S?void 0:S.maxC)&&void 0!==u?u:"yellow",onBlur:function(e){return b((0,n.Z)((0,n.Z)({},S),{},{maxC:e.target.value}))}})),i.createElement("br",null),i.createElement("p",{className:Oe.elementInputTitle},"Ensure fields are set to the appropriate type (number, dates, currency, etc)"))},et=function(e){var t,l,o,r,d=e.defaultValue,u=e.defaultList,s=e.defaultSearchText,c=e.onChangeSearchText,m=e.onChangeList,p=e.onOperatorSelected,v=e.validationErrors,y=e.selectedFields,h=e.blueprints,C=(e.selectLabel,e.setFieldOption),g=e.fieldOption,b=(0,i.useState)(void 0===d?"":d),S=(0,a.Z)(b,2),E=S[0],_=S[1],Z=(0,i.useState)(void 0===u?[]:u),w=(0,a.Z)(Z,1)[0],N=(0,i.useState)(void 0===s?"":s),L=(0,a.Z)(N,2),I=L[0],x=L[1],M=[{label:"Sum of the fields (A+B)",id:0,value:"sum",type:"fields"},{label:"Difference between fields (A-B)",id:1,value:"difference",type:"fields"},{label:"Multiply the fields (A*B)",id:2,value:"multiply",type:"fields"},{label:"Divide the fields (A/B)",id:3,value:"divide",type:"fields"}],k=[{label:"Set date today",value:"today",type:"Date"},{label:"Set date tomorrow",value:"tomorrow",type:"Date"},{label:"Set date one month from today",value:"month",type:"Date"},{label:"Set date one week from today",value:"week",type:"Date"},{label:"None",value:"none",type:"Date"}],O=y.filter((function(e){return""!=e.value&&("Value Button"===e.field_type.name||"Number"===e.field_type.name||"Formula"===e.field_type.name||"Item Formula"===e.field_type.name)})).map((function(e){return{label:e.value,value:e.id,field_name:e.field_type.name}})),T=y.filter((function(e){return""!=e.value&&"Date"===e.field_type.name})).map((function(e){return{label:e.value,value:e.id,field_name:"Dates"}}));[].concat.apply([],h.map((function(e){return[].concat.apply([],e.fields)}))).map((function(e){return{label:e.value,value:e.id,type:e.name}}));return i.createElement("div",{className:Oe.dropdownElementHost},i.createElement(Ae,{errorMessage:null===v||void 0===v?void 0:v.type},i.createElement(f.Lb,{title:"Operation to perform"}),i.createElement(f.sm,{"apps-variant":null!==v&&void 0!==v&&v.type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:M,defaultSelectedItem:M.find((function(e){return e.value===E})),className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){_(e.value),p(e.value)}}))),"freesum"!==E&&i.createElement(Ae,{errorMessage:null===v||void 0===v?void 0:v.accepted_mimes},i.createElement(f.Lb,{title:"sum"===E||"difference"===E||"multiply"===E||"divide"===E?"Fields to perform selected operation":"Field to perform selected operation"}),i.createElement(f.sm,{"app-variant":null!==v&&void 0!==v&&v.accepted_mimes?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.multiselectContainer)},i.createElement(se.Cm,{items:"datesdiff"===E||"datenowdiff"===E?T:O,groupedBy:"field_name",groupname:"field_name",triggerType:"chevron",initialSelectedValues:"datesdiff"===E||"datenowdiff"===E?T.filter((function(e){return(null===w||void 0===w?void 0:w.indexOf(null===e||void 0===e?void 0:e.label))>-1})):O.filter((function(e){return(null===w||void 0===w?void 0:w.indexOf(null===e||void 0===e?void 0:e.label))>-1})),className:Oe.peoplePositionsSelect,inputClassName:Oe.peoplePositionsSelectInput,molclassname:Oe.peoplePositionsSelectMenuOverlay,moliclassname:Oe.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===m||void 0===m||m(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.label})))}}))),"countocc"===E&&i.createElement(Ae,{errorMessage:null===v||void 0===v?void 0:v.name},i.createElement(f.Lb,{title:"Input text to search"}),i.createElement("input",{type:"text",name:"element-name",value:I,onChange:function(e){x(e.target.value),c(e.target.value)},className:Oe.elementTextInput})),"countdateocc"===E&&i.createElement(Ae,{errorMessage:null===v||void 0===v?void 0:v.name},i.createElement(f.Lb,{title:"Select date to match with"}),i.createElement(f.sm,{"app-variant":null!==v&&void 0!==v&&v.accepted_mimes?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.multiselectContainer)},i.createElement(f.Ld,{triggerType:"chevron",items:k,defaultSelectedItem:s&&k.find((function(e){return e.value===s})),className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){c(null===e||void 0===e?void 0:e.value)}}))),i.createElement(Ae,{errorMessage:null===v||void 0===v?void 0:v.type},i.createElement(f.Lb,{title:"Output display"}),i.createElement(f.sm,{"apps-variant":null!==v&&void 0!==v&&v.type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:Pe,defaultSelectedItem:Pe.find((function(e){return e.value===(null===g||void 0===g?void 0:g.display)})),className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){C((0,n.Z)((0,n.Z)({},g),{},{display:null===e||void 0===e?void 0:e.value}))}}))),"bar"===(null===g||void 0===g?void 0:g.display)&&i.createElement(Ae,{errorMessage:null===v||void 0===v?void 0:v.name},i.createElement(f.Lb,{title:"Maximum Value"}),i.createElement("input",{type:"text",name:"element-name",value:g.max,onBlur:function(e){C((0,n.Z)((0,n.Z)({},g),{},{max:e.target.value}))},className:Oe.elementTextInput}),i.createElement(f.Lb,{title:"Color - Formula Value"}),i.createElement("input",{type:"text",className:Oe.elementTextInput,style:{borderRight:"white"===(null===g||void 0===g?void 0:g.barC)?"white":"50px solid ".concat(null!==(t=null===g||void 0===g?void 0:g.barC)&&void 0!==t?t:"#F6F4EC")},defaultValue:null!==(l=null===g||void 0===g?void 0:g.barC)&&void 0!==l?l:"#F6F4EC",onBlur:function(e){return C((0,n.Z)((0,n.Z)({},g),{},{barC:e.target.value}))}}),i.createElement(f.Lb,{title:"Color - Formula Max Value"}),i.createElement("input",{type:"text",className:Oe.elementTextInput,style:{borderRight:"white"===(null===g||void 0===g?void 0:g.maxC)?"white":"50px solid ".concat(null!==(o=null===g||void 0===g?void 0:g.maxC)&&void 0!==o?o:"yellow")},defaultValue:null!==(r=null===g||void 0===g?void 0:g.maxC)&&void 0!==r?r:"yellow",onBlur:function(e){return C((0,n.Z)((0,n.Z)({},g),{},{maxC:e.target.value}))}})),i.createElement("br",null),i.createElement("p",{className:Oe.elementInputTitle},"Ensure fields are set to the appropriate type (number, dates, currency, etc)"))},tt=function(e){var t,l,o,r,d,u,s=e.options,c=e.setFieldOption,m=e.fieldOption,p=e.validationErrors,v=(0,i.useState)(null!==(t=s.subject)&&void 0!==t?t:""),y=(0,a.Z)(v,2),h=y[0],C=y[1],g=(0,i.useState)(null!==(l=s.message)&&void 0!==l?l:""),b=(0,a.Z)(g,2),S=b[0],E=b[1],_=(0,i.useState)(null!==(o=s.message2)&&void 0!==o?o:""),Z=(0,a.Z)(_,2),w=Z[0],N=Z[1],L=(0,i.useState)(null!==(r=s.valueToMatch)&&void 0!==r?r:""),I=(0,a.Z)(L,2),x=I[0],M=I[1],k=(0,i.useState)(null!==(d=s.copyEmailRecip)&&void 0!==d?d:""),O=(0,a.Z)(k,2),T=O[0],P=O[1],B=(0,i.useState)(null!==(u=s.fieldToMatch)&&void 0!==u?u:""),F=(0,a.Z)(B,2),D=F[0],A=F[1];return i.createElement("div",{className:Oe.dropdownElementHost},i.createElement(Ae,{errorMessage:null===p||void 0===p?void 0:p.name},i.createElement(f.Lb,{title:"Email subject"}),i.createElement("input",{type:"text",name:"element-name",value:null!==h&&void 0!==h?h:"",onChange:function(e){c((0,n.Z)((0,n.Z)({},m),{},{message2:w,message:S,subject:e.target.value,copyEmailRecip:T})),C(e.target.value)},className:Oe.elementTextInput})),i.createElement(Ae,{errorMessage:null===p||void 0===p?void 0:p.name},i.createElement(f.Lb,{title:"Custom email message to selected recipients"}),i.createElement("textarea",{type:"text",name:"element-name",value:null!==S&&void 0!==S?S:"",onChange:function(e){c((0,n.Z)((0,n.Z)({},m),{},{subject:h,message:e.target.value,message2:w,copyEmailRecip:T})),E(e.target.value)},className:Oe.elementTextInput,style:{height:"100px"}})),i.createElement(Ae,{errorMessage:null===p||void 0===p?void 0:p.name},i.createElement(f.Lb,{title:"Custom email message to creator"}),i.createElement("textarea",{type:"text",name:"element-name",value:null!==w&&void 0!==w?w:"",onChange:function(e){c((0,n.Z)((0,n.Z)({},m),{},{subject:h,message:S,message2:e.target.value,copyEmailRecip:T})),N(e.target.value)},className:Oe.elementTextInput,style:{height:"100px"}})),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Field to check to trigger email"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:D,name:"matched to field",onChange:function(e){A(e.target.value),c((0,n.Z)((0,n.Z)({},m),{},{subject:h,message:S,message2:w,fieldToMatch:e.target.value,valueToMatch:x,copyEmailRecip:T}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Values of field to trigger the email (Note: Use ' , ' to seperate)"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:x,name:"matched to field",onChange:function(e){M(e.target.value),c((0,n.Z)((0,n.Z)({},m),{},{subject:h,message:S,message2:w,fieldToMatch:D,valueToMatch:e.target.value,copyEmailRecip:T}))}}))),i.createElement(f.pd,{id:"Copy default email recipients",title:"Copy default email recipients?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:T,toggleSelected:function(e){P(e),c((0,n.Z)((0,n.Z)({},m),{},{subject:h,message:S,message2:w,fieldToMatch:D,valueToMatch:x,copyEmailRecip:e}))}}))},lt=function(e){var t=e.defaultValue,l=e.defaultField,n=e.onChangeField,o=e.onChangeValue,r=e.validationErrors,d=e.blueprints,u=(0,i.useState)(void 0===t?"":t),s=(0,a.Z)(u,2),c=s[0],m=s[1],p=(0,i.useState)(void 0===l?"":l),v=(0,a.Z)(p,1)[0],y=[].concat.apply([],d.map((function(e){return[].concat.apply([],e.fields)}))).map((function(e){return{label:e.value,value:e.id,type:e.name}}));return i.createElement("div",{className:Oe.dropdownElementHost},i.createElement(Ae,{errorMessage:null===r||void 0===r?void 0:r.accepted_mimes},i.createElement(f.Lb,{title:"Field to perform filter"}),i.createElement(f.sm,{"app-variant":null!==r&&void 0!==r&&r.accepted_mimes?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.multiselectContainer)},i.createElement(f.Ld,{triggerType:"chevron",items:y,defaultSelectedItem:v.length>0?{label:v}:{},className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){null===n||void 0===n||n(null===e||void 0===e?void 0:e.label)}}))),i.createElement(Ae,{errorMessage:null===r||void 0===r?void 0:r.name},i.createElement(f.Lb,{title:"Input text to search"}),i.createElement("input",{type:"text",name:"element-name",value:c,onChange:function(e){o(e.target.value),m(e.target.value)},className:Oe.elementTextInput})),i.createElement("br",null))},nt=function(e){var t,l=e.defaultRefName,n=e.onReferenceLabel,o=e.validationErrors,r=e.onTargetSelected,d=e.onChangeList,u=e.onTypeSelected,s=e.defaultTarget,c=e.defaultType,m=e.bpContext,p=e.defaultList,v=(0,i.useState)(!1),y=(0,a.Z)(v,2)[1],h=(0,i.useState)({}),C=(0,a.Z)(h,2)[1],g=(0,i.useState)(void 0==s?[]:null===s||void 0===s||null===(t=s.fields)||void 0===t?void 0:t.map((function(e){return{label:e.value,value:e.value}}))),b=(0,a.Z)(g,2),S=b[0],E=b[1],_=(0,i.useState)(void 0==p?[]:(null===p||void 0===p?void 0:p.length)>0?p.map((function(e){return{label:e,value:e,component_name:"Fields"}})):[]),Z=(0,a.Z)(_,2),w=Z[0],N=Z[1],L=(0,i.useState)(m.allBlueprintComponents.filter((function(e){return!1===e.readonly})).filter((function(e){return e.fields.filter((function(e){return"Product ID"===e.value})).length>0})).map((function(e){return{label:e.name,value:e.id,blueprint:e}}))),I=(0,a.Z)(L,1)[0];return i.createElement("div",{className:Oe.dropdownElementHost},i.createElement(Ae,{errorMessage:null===o||void 0===o?void 0:o.type},i.createElement(f.Lb,{title:"Component where to conduct lookup of Product"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:{label:null===s||void 0===s?void 0:s.name,value:null===s||void 0===s?void 0:s.id},className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){E(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),N(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),C(e),r(e.value),null!==e&&void 0!==e&&e.symbol?y(!1):y(!0)}}))),i.createElement(Ae,{errorMessage:null===o||void 0===o?void 0:o.type},i.createElement(f.Lb,{title:"Display label for Components found"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:S,defaultSelectedItem:{label:l,value:l},className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){n(e.value)}}))),i.createElement(Ae,{errorMessage:null===o||void 0===o?void 0:o.accepted_mimes},i.createElement(f.Lb,{title:"Fields to output"}),i.createElement(f.sm,{"app-variant":null!==o&&void 0!==o&&o.accepted_mimes?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:w,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:0===(null===p||void 0===p?void 0:p.length)?[]:p.map((function(e){return{label:e,value:e}})),className:Oe.uploadSelectComponent,inputClassName:Oe.uploadSearchInput,molclassname:Oe.uploadSelectMenuOverlayList,moliclassname:Oe.uploadSelectMenuOverlayListItem,onChange:function(e){null===d||void 0===d||d(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(Ae,{errorMessage:null===o||void 0===o?void 0:o.type},i.createElement(f.Lb,{title:"Interface Type"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:[{label:"Dropdown",value:"Dropdown"},{label:"Tiles",value:"Tiles"},{label:"Columns",value:"Columns"}],defaultSelectedItem:c,className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){u(e.value),null!==e&&void 0!==e&&e.symbol?y(!1):y(!0)}}))))},ot=function(e){var t=e.validationErrors,l=e.onTargetSelected,n=e.onOutputSelected,o=e.onGlobalSelected,d=e.defaultTarget,u=e.defaultGlobal,s=e.bpContext,c=e.onFilterList,m=e.defaultFilters,p=e.defaultOutput,v=(0,r.v9)((function(e){return e.modalsReducer})),y=v.isOnboarding,h=(0,i.useState)(!1),C=(0,a.Z)(h,2)[1],g=(0,i.useState)({}),b=(0,a.Z)(g,2)[1],S=(0,i.useState)(void 0==m?[]:(null===m||void 0===m?void 0:m.length)>0?m.map((function(e){return{label:e,value:e,component_name:"Fields"}})):[]),E=(0,a.Z)(S,2),_=E[0],Z=E[1],w=(0,i.useState)(y?s.allBlueprintComponents.map((function(e){return{label:e.name,value:e.id,blueprint:e}})):s.allBlueprintComponents.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}}))),N=(0,a.Z)(w,1)[0],L=(0,i.useState)(void 0==d?[]:d.fields.map((function(e){return{label:e.value,value:e.value}}))),I=(0,a.Z)(L,2),x=I[0],M=I[1];return i.createElement("div",{className:Oe.dropdownElementHost},i.createElement(Ae,{errorMessage:null===t||void 0===t?void 0:t.type},i.createElement(f.Lb,{title:"Component where to conduct lookup"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:N,defaultSelectedItem:{label:null===d||void 0===d?void 0:d.name,value:null===d||void 0===d?void 0:d.id},className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){Z(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),M(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),b(e),l(e.value),null!==e&&void 0!==e&&e.symbol?C(!1):C(!0)}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Fields to filter (enter in order of filter, max 3)"}),i.createElement(f.sm,{"app-variant":null!==t&&void 0!==t&&t.accepted_mimes?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:_,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:0===(null===m||void 0===m?void 0:m.length)?[]:null===m||void 0===m?void 0:m.map((function(e){return{label:e,value:e}})),className:Oe.uploadSelectComponent,inputClassName:Oe.uploadSearchInput,molclassname:Oe.uploadSelectMenuOverlayList,moliclassname:Oe.uploadSelectMenuOverlayListItem,onChange:function(e){null===c||void 0===c||c(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(Ae,{errorMessage:null===t||void 0===t?void 0:t.accepted_mimes},i.createElement(f.Lb,{title:"Use a global field to filter components (Optional)"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:x,defaultSelectedItem:{label:u,value:u},className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){o(e.value)}}))),i.createElement(Ae,{errorMessage:null===t||void 0===t?void 0:t.accepted_mimes},i.createElement(f.Lb,{title:"Field value to save as output"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:x,defaultSelectedItem:{label:p,value:p},className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){n(e.value)}}))))},at=function(e){var t,l,d=e.validationErrors,u=e.fieldOption,s=e.setFieldOption,c=e.onModuleSelected,m=e.defaultModule,p=e.defaultFields,v=e.onFieldsSelected,y=e.components,h=(0,r.v9)((function(e){return e.flowReducer})),C=h.allModules,g=h.companyProcesses,b=(0,i.useState)(g.length>0&&m&&g.find((function(e){var t,l;return e.id===(null===C||void 0===C||null===(t=C.find((function(e){return e.id===m})))||void 0===t||null===(l=t.procedure)||void 0===l?void 0:l.id)}))?[].concat((0,o.Z)(Te.sortWith([Te.ascend(Te.prop("label"))])(Te.map((function(e){var t;return{label:e,value:e,blueprint_name:null!==(t=null===m||void 0===m?void 0:m.label)&&void 0!==t?t:"Others"}}),(0,o.Z)(new Set(Te.map((function(e){return e.field_name}),Te.flatten(Te.pluck("selected_fields",Te.flatten(Te.pluck("component_blueprints",null===(t=g.find((function(e){var t,l;return e.id===(null===C||void 0===C||null===(t=C.find((function(e){return e.id===m})))||void 0===t||null===(l=t.procedure)||void 0===l?void 0:l.id)})))||void 0===t?void 0:t.steps)))))))))),[{label:"None",value:"none"}]):[]),S=(0,a.Z)(b,2),E=S[0],_=S[1],Z=C.map((function(e){return{label:e.name,value:e.id,module:e}}));return i.createElement("div",{className:Oe.dropdownElementHost},i.createElement(Ae,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(Ae,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Module to process"}),i.createElement(f.sm,{"app-variant":null!==d&&void 0!==d&&d.type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement(f.rk,{items:Z,defaultSelected:Z.find((function(e){return e.value===m})),className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){!function(e){var t;g.length>0&&void 0!==e&&_([].concat((0,o.Z)(Te.sortWith([Te.ascend(Te.prop("label"))])(Te.map((function(e){var t;return{label:e,value:e,blueprint_name:null!==(t=null===m||void 0===m?void 0:m.label)&&void 0!==t?t:"Others"}}),(0,o.Z)(new Set(Te.map((function(e){return e.field_name}),Te.flatten(Te.pluck("selected_fields",Te.flatten(Te.pluck("component_blueprints",null===(t=g.find((function(t){return t.id===e})))||void 0===t?void 0:t.steps)))))))))),[{label:"None",value:"none"}]))}(e.module.procedure.id),null===c||void 0===c||c(e)}}))),i.createElement(Ae,{errorMessage:null===d||void 0===d?void 0:d.accepted_mimes},i.createElement(f.Lb,{title:"Fields to transfer to module"}),i.createElement(f.sm,{"app-variant":null!==d&&void 0!==d&&d.accepted_mimes?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:E,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:0===(null===p||void 0===p?void 0:p.length)?[]:null===p||void 0===p?void 0:p.map((function(e){return{label:e,value:e}})),className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){null===v||void 0===v||v(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(Ae,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Key to use in list"}),i.createElement(f.sm,{"app-variant":null!==d&&void 0!==d&&d.type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement(f.rk,{items:E,defaultSelected:E.find((function(e){return e.value===u.key})),className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){s((0,n.Z)((0,n.Z)({},u),{},{key:e.value}))}}))),i.createElement(Ae,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Add an item to this existing module transaction (Optional)"}),i.createElement(f.sm,{"app-variant":null!==d&&void 0!==d&&d.type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement(f.rk,{items:[{label:"None",value:"none"}].concat((0,o.Z)(y.filter((function(e){return e.module_id===(null===u||void 0===u?void 0:u.module_id)})).map((function(e){return{label:e.title,value:e.id}})))),defaultSelected:y.find((function(e){return e.id===u.cmp}))?{label:null===(l=y.find((function(e){return e.id===u.cmp})))||void 0===l?void 0:l.title,value:u.cmp}:{label:u.cmp,value:u.cmp},className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?s((0,n.Z)((0,n.Z)({},u),{},{cmp:void 0})):s((0,n.Z)((0,n.Z)({},u),{},{cmp:e.value,showL:!1}))}})))),i.createElement(Ae,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement("label",{className:Oe.checkboxLabelClass},"Save transaction before calling this module",i.createElement("input",{type:"checkbox",defaultChecked:null===u||void 0===u?void 0:u.save,onChange:function(e){return s((0,n.Z)((0,n.Z)({},u),{},{save:e.target.checked}))}})),i.createElement("label",{className:Oe.checkboxLabelClass},"Allow transactions to be viewed",i.createElement("input",{type:"checkbox",defaultChecked:null===u||void 0===u?void 0:u.viewable,onChange:function(e){return s((0,n.Z)((0,n.Z)({},u),{},{viewable:e.target.checked}))}})),i.createElement("label",{className:Oe.checkboxLabelClass},"Show Module List",i.createElement("input",{type:"checkbox",defaultChecked:null===u||void 0===u?void 0:u.showL,onChange:function(e){return s((0,n.Z)((0,n.Z)({},u),{},{showL:e.target.checked}))}})),i.createElement("label",{className:Oe.checkboxLabelClass},"Show Button in Detail View",i.createElement("input",{type:"checkbox",defaultChecked:null===u||void 0===u?void 0:u.detail,onChange:function(e){return s((0,n.Z)((0,n.Z)({},u),{},{detail:e.target.checked}))}}))))},it=function(e){var t,l=e.validationErrors,d=e.fieldOption,u=e.setFieldOption,s=e.onModuleSelected,c=e.defaultModule,m=e.companyProcesses,p=e.defaultFields,v=e.onFieldsSelected,y=(e.components,(0,r.v9)((function(e){return e.flowReducer}))),h=y.allModules,C=(0,i.useState)(m.length>0&&c&&m.find((function(e){var t,l;return e.id===(null===h||void 0===h||null===(t=h.find((function(e){return e.id===c})))||void 0===t||null===(l=t.procedure)||void 0===l?void 0:l.id)}))?[].concat((0,o.Z)(Te.sortWith([Te.ascend(Te.prop("label"))])(Te.map((function(e){var t;return{label:e,value:e,blueprint_name:null!==(t=null===c||void 0===c?void 0:c.label)&&void 0!==t?t:"Others"}}),(0,o.Z)(new Set(Te.map((function(e){return e.field_name}),Te.flatten(Te.pluck("selected_fields",Te.flatten(Te.pluck("component_blueprints",null===(t=m.find((function(e){var t,l;return e.id===(null===h||void 0===h||null===(t=h.find((function(e){return e.id===c})))||void 0===t||null===(l=t.procedure)||void 0===l?void 0:l.id)})))||void 0===t?void 0:t.steps)))))))))),[{label:"None",value:"none"}]):[]),g=(0,a.Z)(C,2),b=g[0],S=g[1],E=h.map((function(e){return{label:e.name,value:e.id,module:e}}));return i.createElement("div",{className:Oe.dropdownElementHost},i.createElement(Ae,{errorMessage:null===l||void 0===l?void 0:l.type},i.createElement(Ae,{errorMessage:null===l||void 0===l?void 0:l.type},i.createElement(f.Lb,{title:"Module to process"}),i.createElement(f.sm,{"app-variant":null!==l&&void 0!==l&&l.type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement(f.rk,{items:E,defaultSelected:E.find((function(e){return e.value===c})),className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){!function(e){var t;m.length>0&&void 0!==e&&S([].concat((0,o.Z)(Te.sortWith([Te.ascend(Te.prop("label"))])(Te.map((function(e){var t;return{label:e,value:e,blueprint_name:null!==(t=null===c||void 0===c?void 0:c.label)&&void 0!==t?t:"Others"}}),(0,o.Z)(new Set(Te.map((function(e){return e.field_name}),Te.flatten(Te.pluck("selected_fields",Te.flatten(Te.pluck("component_blueprints",null===(t=m.find((function(t){return t.id===e})))||void 0===t?void 0:t.steps)))))))))),[{label:"None",value:"none"}]))}(e.module.procedure.id),null===s||void 0===s||s(e)}}))),i.createElement(Ae,{errorMessage:null===l||void 0===l?void 0:l.type},i.createElement(f.Lb,{title:"Key to use in list"}),i.createElement(f.sm,{"app-variant":null!==l&&void 0!==l&&l.type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement(f.rk,{items:b,defaultSelected:b.find((function(e){return e.value===d.key})),className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){u((0,n.Z)((0,n.Z)({},d),{},{key:e.value}))}}))),i.createElement(Ae,{errorMessage:null===l||void 0===l?void 0:l.accepted_mimes},i.createElement(f.Lb,{title:"Fields to display"}),i.createElement(f.sm,{"app-variant":null!==l&&void 0!==l&&l.accepted_mimes?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:b,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:0===(null===p||void 0===p?void 0:p.length)?[]:null===p||void 0===p?void 0:p.map((function(e){return{label:e,value:e}})),className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){null===v||void 0===v||v(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}})))))},rt=function(e){var t=e.defaultGlobal,l=(e.defaultRefName,e.defaultSrcName),n=e.onSourceLabel,o=(e.onReferenceLabel,e.defaultValue),d=e.validationErrors,u=e.onSourceSelected,s=e.onTargetSelected,c=e.onFieldSelected,m=e.onChangeList,p=e.onTypeSelected,v=e.defaultCommon,y=e.defaultTarget,h=e.defaultType,C=e.bpContext,g=e.defaultList,b=e.defaultRefList,S=e.onChangeRList,E=e.onGlobalSelected,_=e.onSetShowAll,Z=e.showAllDefault,w=(0,i.useState)("none"),N=(0,a.Z)(w,2),L=N[0],I=N[1],x=(0,r.v9)((function(e){return e.modalsReducer})),M=x.isOnboarding,k=(0,i.useState)(!1),O=(0,a.Z)(k,2)[1],T=(0,i.useState)({}),P=(0,a.Z)(T,2),B=P[0],F=P[1],D=(0,i.useState)({}),A=(0,a.Z)(D,2)[1],W=(0,i.useState)({}),V=(0,a.Z)(W,2)[1],z=(0,i.useState)([]),R=(0,a.Z)(z,2),j=R[0],U=R[1],q=(0,i.useState)([]),H=(0,a.Z)(q,2),K=H[0],X=H[1],G=(0,i.useState)([]),Y=(0,a.Z)(G,2),J=Y[0],Q=Y[1],$=(0,i.useState)(void 0===b||0===b.length?[]:b.map((function(e){return{label:e,value:e,component_name:"Fields"}}))),ee=(0,a.Z)($,2),te=(ee[0],ee[1],(0,i.useState)(void 0===g||0===g.length?[]:g.map((function(e){return{label:e,value:e,component_name:"Fields"}})))),le=(0,a.Z)(te,2),ne=le[0],oe=le[1],ae=(0,i.useState)([]),ie=(0,a.Z)(ae,2),re=ie[0],de=ie[1];(0,i.useEffect)((function(){ue()}),[]);var ue=(0,i.useCallback)((function(){var e=M?C.allBlueprintComponents.map((function(e){return{label:e.name,value:e.id,blueprint:e}})):C.allBlueprintComponents.filter((function(e){return 0==e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}}));if(de(e),o&&e){var t,l=null===(t=e.find((function(e){return e.label===o.label})))||void 0===t?void 0:t.blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e}})),n=e.find((function(e){return e.label===o.label}));if(U(n.blueprint.fields.map((function(e){var t;return{label:e.value,value:e.id,field:e,component_name:null===(t=n.blueprint)||void 0===t?void 0:t.name}}))),v&&(null===l||void 0===l?void 0:l.length)>0){var a=null===e||void 0===e?void 0:e.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.blueprint.fields)||void 0===t?void 0:t.filter((function(e){return e.value===v.label})).length)>0})).filter((function(e){return e.label!==o.label})).map((function(e){return{label:e.label,value:e.value,component:e.blueprint}}));if(X(a),y&&(null===a||void 0===a?void 0:a.length)>0){var i,r,d,u,s,c,m;Q(null!==(i=null===a||void 0===a||null===(r=a.find((function(e){return e.label===y.label})))||void 0===r||null===(d=r.component)||void 0===d||null===(u=d.fields)||void 0===u?void 0:u.map((function(e){return{label:e.value,value:e.value,component_name:y.label}})))&&void 0!==i?i:[]);var p=e.find((function(e){return e.label===o.label}));oe(null!==(s=null===a||void 0===a||null===(c=a.find((function(e){return e.label===y.label})))||void 0===c||null===(m=c.component.fields)||void 0===m?void 0:m.map((function(e){return{label:e.value,value:e.value,component_name:y.label}})).concat(null===p||void 0===p?void 0:p.blueprint.fields.map((function(e){return{label:e.value,value:e.value,component_name:p.label}}))))&&void 0!==s?s:[])}}}setTimeout((function(){return I("")}))}));return""===L&&i.createElement("div",{className:Oe.dropdownElementHost,style:{display:L}},i.createElement(Ae,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Category Component"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:re,defaultSelectedItem:o,className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){var t=re.find((function(t){return t.value===e.value}));U(t.blueprint.fields.map((function(e){var l;return{label:e.value,value:e.id,field:e,component_name:null===(l=t.blueprint)||void 0===l?void 0:l.name}}))),F(e),u(e.value)}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Display label for Category Component"}),i.createElement(f.sm,{"app-variant":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.multiselectContainer)},i.createElement(se.Cm,{tagEmplacement:"inlined",items:null!==j&&void 0!==j?j:[],groupedBy:"component_name",groupname:"component_name",triggerType:"chevron",initialSelectedValues:void 0===l||0===l.length?[]:l.map((function(e){return null===j||void 0===j?void 0:j.find((function(t){return t.label===e}))})),className:Oe.peoplePositionsSelect,inputClassName:Oe.peoplePositionsSelectInput,molclassname:Oe.peoplePositionsSelectMenuOverlay,moliclassname:Oe.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===n||void 0===n||n(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.label})))}}))),i.createElement(Ae,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Common field for lookup"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:j,defaultSelectedItem:v,className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){if(e){var t=M?re.filter((function(t){var l,n;return(null===t||void 0===t||null===(l=t.blueprint)||void 0===l||null===(n=l.fields)||void 0===n?void 0:n.filter((function(t){return t.value===e.label})).length)>0})):re.filter((function(e){return!1===e.blueprint.readonly})).filter((function(t){var l,n;return(null===t||void 0===t||null===(l=t.blueprint)||void 0===l||null===(n=l.fields)||void 0===n?void 0:n.filter((function(t){return t.value===e.label})).length)>0}));X(t.filter((function(e){return e.label!==B.label})).map((function(e){return{label:e.label,value:e.value,component:e.blueprint}}))),V(e),c(e.label),null!==e&&void 0!==e&&e.symbol?O(!1):O(!0)}}}))),i.createElement(Ae,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Component where to conduct lookup"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:K,defaultSelectedItem:y,className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){var t;Q(null!==(t=e.component.fields.map((function(t){return{label:t.value,value:t.value,component_name:e.label}})))&&void 0!==t?t:[]),oe(e.component.fields.map((function(t){return{label:t.value,value:t.value,component_name:e.label}})).concat(B.blueprint.fields.map((function(e){return{label:e.value,value:e.value,component_name:B.label}})))),A(e),s(e.value),null!==e&&void 0!==e&&e.symbol?O(!1):O(!0)}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Use a global field to filter components (Optional)"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:ne,defaultSelectedItem:{label:t,value:t},className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){E(e.value)}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Fields to display for Components found"}),i.createElement(f.sm,{"app-variant":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.multiselectContainer)},i.createElement(se.Cm,{tagEmplacement:"inlined",items:null!==J&&void 0!==J?J:[],groupedBy:"component_name",groupname:"component_name",triggerType:"chevron",initialSelectedValues:void 0===b||0===b.length?[]:b.map((function(e){return{label:e,value:e,component_name:"Fields"}})),className:Oe.peoplePositionsSelect,inputClassName:Oe.peoplePositionsSelectInput,molclassname:Oe.peoplePositionsSelectMenuOverlay,moliclassname:Oe.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===S||void 0===S||S(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(Ae,{errorMessage:null===d||void 0===d?void 0:d.accepted_mimes},i.createElement(f.Lb,{title:"Fields to output"}),i.createElement(f.sm,{"app-variant":null!==d&&void 0!==d&&d.accepted_mimes?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.multiselectContainer)},i.createElement(se.Cm,{tagEmplacement:"inlined",items:ne,groupedBy:"component_name",groupname:"component_name",triggerType:"chevron",initialSelectedValues:null===ne||void 0===ne?void 0:ne.filter((function(e){return-1!==(null===g||void 0===g?void 0:g.indexOf(e.label))})),className:Oe.peoplePositionsSelect,inputClassName:Oe.peoplePositionsSelectInput,molclassname:Oe.peoplePositionsSelectMenuOverlay,moliclassname:Oe.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===m||void 0===m||m(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(Ae,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Interface Type"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:[{label:"Dropdown",value:"Dropdown"},{label:"Tiles",value:"Tiles"}],defaultSelectedItem:h,className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){p(e.value),null!==e&&void 0!==e&&e.symbol?O(!1):O(!0)}}))),i.createElement(f.pd,{id:"Show all choices immediately",title:"Show all choices immediately?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:Z,toggleSelected:function(e){_(e)}}))},dt=function(e){var t=e.defaultInputComponent1,l=e.defaultComponent1,n=e.defaultComponent2,o=e.defaultComponent3,d=e.defaultCommon12,u=e.defaultCommon23,s=e.defaultOutputs,c=void 0===s?[]:s,m=e.onComponent1Selected,p=e.onComponent1InputSelected,v=e.onComponent2Selected,y=e.onComponent3Selected,h=e.onCommon12Selected,C=e.onCommon23Selected,g=e.onOutputsSelected,b=e.validationErrors,S=e.bpContext,E=(0,r.v9)((function(e){return e.modalsReducer})),_=E.isOnboarding,Z=(0,i.useState)(_?S.allBlueprintComponents.map((function(e){return{label:e.name,value:e.id,blueprint:e}})):S.allBlueprintComponents.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}}))),w=(0,a.Z)(Z,1)[0],N=(0,i.useState)(!1),L=(0,a.Z)(N,2)[1],I=(0,i.useState)({}),x=(0,a.Z)(I,2),M=x[0],k=x[1],O=(0,i.useState)(l?w.find((function(e){return e.label===l.label})).blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e,component_name:l.label}})):[]),T=(0,a.Z)(O,2),P=T[0],B=T[1],F=(0,i.useState)(n?w.find((function(e){return e.label===n.label})).blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e,component_name:n.label}})):[]),D=(0,a.Z)(F,2),A=D[0],W=D[1],V=(0,i.useState)([]),z=(0,a.Z)(V,2),R=z[0],j=z[1],U=(0,i.useState)([]),q=(0,a.Z)(U,2),H=q[0],K=q[1];return i.createElement("div",{className:Oe.dropdownElementHost},i.createElement(Ae,{errorMessage:null===b||void 0===b?void 0:b.type},i.createElement(f.Lb,{title:"Input Component (A)"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:w,defaultSelectedItem:l,className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){var t=w.find((function(t){return t.value===e.value}));B(t.blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e}}))),k(e),m(e.value)}}))),i.createElement(Ae,{errorMessage:null===b||void 0===b?void 0:b.type},i.createElement(f.Lb,{title:"Input field to use with component (A)"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:P,defaultSelectedItem:t,className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){p(e.label),null!==e&&void 0!==e&&e.symbol?L(!1):L(!0)}}))),i.createElement(Ae,{errorMessage:null===b||void 0===b?void 0:b.type},i.createElement(f.Lb,{title:"Common field for first lookup, A + B"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:P,defaultSelectedItem:d,className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){var t=w.filter((function(t){return t.blueprint.fields.filter((function(t){return t.value===e.label})).length>0}));j(t.filter((function(e){return e.label!==M.label})).map((function(e){return{label:e.label,value:e.value,component:e.blueprint}}))),h(e.label),null!==e&&void 0!==e&&e.symbol?L(!1):L(!0)}}))),i.createElement(Ae,{errorMessage:null===b||void 0===b?void 0:b.type},i.createElement(f.Lb,{title:"Target component (B) where value will come from"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:R,defaultSelectedItem:n,className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){var t=w.find((function(t){return t.value===e.value}));W(t.blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e,component_name:t.blueprint.name}}))),v(e.value),null!==e&&void 0!==e&&e.symbol?L(!1):L(!0)}}))),i.createElement(Ae,{errorMessage:null===b||void 0===b?void 0:b.type},i.createElement(f.Lb,{title:"Common field for second lookup, B + C"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:A,defaultSelectedItem:u,className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){var t=w.filter((function(t){return t.blueprint.fields.filter((function(t){return t.value===e.label})).length>0}));K(t.filter((function(e){return e.label!==M.label})).map((function(e){return{label:e.label,value:e.value,component:e.blueprint}}))),C(e.label),null!==e&&void 0!==e&&e.symbol?L(!1):L(!0)}}))),i.createElement(Ae,{errorMessage:null===b||void 0===b?void 0:b.type},i.createElement(f.Lb,{title:"Component (C) where to conduct second lookup"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:H,defaultSelectedItem:o,className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){y(e.value),null!==e&&void 0!==e&&e.symbol?L(!1):L(!0)}}))),i.createElement(Ae,{errorMessage:null===b||void 0===b?void 0:b.accepted_mimes},i.createElement(f.Lb,{title:"Fields to display from target component (B)"}),i.createElement(f.sm,{"app-variant":null!==b&&void 0!==b&&b.accepted_mimes?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.multiselectContainer)},i.createElement(se.Cm,{tagEmplacement:"inlined",items:A,groupedBy:"component_name",groupname:"component_name",triggerType:"chevron",initialSelectedValues:void 0===c||0===c.length?[]:c.map((function(e){var t;return{label:e,value:null===(t=A.find((function(t){return t.label===e})))||void 0===t?void 0:t.value,component_name:n.label}})),className:Oe.peoplePositionsSelect,inputClassName:Oe.peoplePositionsSelectInput,molclassname:Oe.peoplePositionsSelectMenuOverlay,moliclassname:Oe.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===g||void 0===g||g(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.label})))}}))))},ut=function(e){var t,l=e.defaultMaxSize,n=e.onMaxFileSizeChanged,o=e.defaultList,r=e.onListSelected,d=e.validationErrors,u=(0,i.useState)(null===(t=null!==l&&void 0!==l?l:0)||void 0===t?void 0:t.toString()),s=(0,a.Z)(u,2),c=s[0],m=s[1];return i.createElement("div",{className:Oe.dropdownElementHost},i.createElement(Ae,{errorMessage:null===d||void 0===d?void 0:d.max_file_size},i.createElement(f.Lb,{title:"Maximum file size"}),i.createElement(f.sm,{"app-variant":null!==d&&void 0!==d&&d.max_file_size?"error":"normal",className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",placeholder:"Insert max size in MB",className:Oe.maxFileSizeInput,value:c,name:"file max size",onChange:function(e){var t=e.target.value;Number(+t)?(m(t),null===n||void 0===n||n(t)):""===t&&(m(""),null===n||void 0===n||n("0"))}}),i.createElement("pre",{className:Oe.uploadFileSizeMeasureUnit},"MB"))),i.createElement(Ae,{errorMessage:null===d||void 0===d?void 0:d.accepted_mimes},i.createElement(f.Lb,{title:"Type of Files"}),i.createElement(f.sm,{"app-variant":null!==d&&void 0!==d&&d.accepted_mimes?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"top",items:v.cH,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:null===v.cH||void 0===v.cH?void 0:v.cH.filter((function(e){var t;return(null===o||void 0===o?void 0:o.indexOf(null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.replaceAll(".","")))>-1})),className:Oe.uploadSelectComponent,inputClassName:Oe.uploadSearchInput,molclassname:Oe.uploadSelectMenuOverlayList,moliclassname:Oe.uploadSelectMenuOverlayListItem,onChange:function(e){null===r||void 0===r||r(e.map((function(e){var t;return null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.replaceAll(".","")})).join(","))}}))))},st=function(e){var t=e.item,l=e.onItemChanged,n=e.onItemRemoved,o=e.isOverflow,r=(0,i.useState)(t),d=(0,a.Z)(r,2),u=d[0],s=d[1],c=(0,i.useState)(!1),m=(0,a.Z)(c,2),p=m[0],v=m[1];return i.createElement(f.sm,{className:Oe.renderEditableListContainer,"app-variant":o?"overflow":"",onClickOutside:function(){v(!1),s(t)}},i.createElement("input",{onFocus:function(){v(!0)},type:"text",className:Oe.renderEditableListItemInput,value:u,name:"editItem",onChange:function(e){v(!0),s(e.target.value)}}),p&&i.createElement("button",{type:"button",onClick:function(e){null===l||void 0===l||l(u)},className:Oe.renderEditableListItemDeleteButton},i.createElement(ke.nQ,null)),p&&i.createElement("button",{type:"button",onClick:function(e){null===n||void 0===n||n(t)},className:Oe.renderEditableListItemDeleteButton},i.createElement(ke.EU,null)))},ct=function(e){var t,l,n,o,d,u,s,c,m=e.defaultFilters,p=e.defaultValue,v=e.nameValues,y=e.defaultList,h=e.onListSelected,C=e.onComponentSelected,g=e.onGlobalSelected,b=e.blueprints,S=e.onTypeSelected,E=e.defaultType,_=e.defaultOutputField,Z=e.defaultGlobal,w=e.onNamesSelected,N=e.onOutputFieldSelected,L=e.onFilterList,I=(e.validationErrors,e.allModules,e.setFieldOption,e.fieldOption,(0,r.v9)((function(e){return e.modalsReducer}))),x=I.isOnboarding,M=(0,i.useState)(void 0),k=(0,a.Z)(M,2),O=(k[0],k[1]),T=(0,i.useState)(!1),P=(0,a.Z)(T,2),B=(P[0],P[1]),F=(0,i.useState)(x?null!==(t=null===b||void 0===b?void 0:b.map((function(e){return{label:e.name,value:e.id,blueprint:e}})))&&void 0!==t?t:[]:b.filter((function(e){return!1===e.readonly})).length>0?b.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}})):null!==(l=null===b||void 0===b?void 0:b.map((function(e){return{label:e.name,value:e.id,blueprint:e}})))&&void 0!==l?l:[]),D=(0,a.Z)(F,1)[0],A=(0,i.useState)(void 0==m?[]:(null===m||void 0===m?void 0:m.length)>0?m.map((function(e){return{label:e,value:e,component_name:"Fields"}})):[]),W=(0,a.Z)(A,2),R=W[0],j=W[1],U=(0,i.useState)(null!==p&&void 0!==p&&p.label?0==b.length?[]:x?null===(n=b.find((function(e){return e.name===p.label})))||void 0===n||null===(o=n.fields)||void 0===o?void 0:o.map((function(e){return{label:e.value,value:e.value}})):null===(d=b.filter((function(e){return!1===e.readonly})).find((function(e){return e.name===p.label})))||void 0===d||null===(u=d.fields)||void 0===u?void 0:u.map((function(e){return{label:e.value,value:e.value}})):[]),q=(0,a.Z)(U,2),H=q[0],K=q[1];return i.createElement(i.Fragment,null,i.createElement(Ae,null,i.createElement(f.Lb,{title:"Interface Type"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:[{label:"Dropdown",value:"Dropdown"},{label:"Tiles",value:"Tiles"}],defaultSelectedItem:E,className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){S(e.value),null!==e&&void 0!==e&&e.symbol?B(!1):B(!0)}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Component where to conduct lookup"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:D,defaultSelectedItem:p,className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){O(e),C(e),null!==e&&void 0!==e&&e.symbol?B(!1):B(!0),K(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),j(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}})))}})))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Values to display"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:null!==H&&void 0!==H?H:[],itemType:"checkboxes",checkboxEmplacement:"left",inputStyle:{cursor:"pointer"},initialSelectedItems:null===(s=null!==H&&void 0!==H?H:[])||void 0===s?void 0:s.filter((function(e){return(null===v||void 0===v?void 0:v.indexOf(e.label))>-1})),className:Oe.uploadSelectComponent,inputClassName:Oe.uploadSearchInput,molclassname:Oe.uploadSelectMenuOverlayList,moliclassname:Oe.uploadSelectMenuOverlayListItem,onChange:function(e){null===w||void 0===w||w(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Fields to filter, enter in order of filter, max 3 (Optional)"}),i.createElement(f.sm,{"app-variant":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:null!==R&&void 0!==R?R:[],itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:0===(null===m||void 0===m?void 0:m.length)?[]:null===m||void 0===m?void 0:m.map((function(e){return{label:e,value:e}})),className:Oe.uploadSelectComponent,inputClassName:Oe.uploadSearchInput,inputStyle:{cursor:"pointer"},molclassname:Oe.uploadSelectMenuOverlayList,moliclassname:Oe.uploadSelectMenuOverlayListItem,onChange:function(e){null===L||void 0===L||L(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}},i.createElement(V.G,{className:"fa-icon",icon:z.ptq,style:{marginRight:"20px",color:"gray"}})))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Use a global field to filter components (Optional)"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:H,defaultSelectedItem:{label:Z,value:Z},className:Oe.componentsSelectComponent,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},inputClassName:Oe.componentsSearchInput,clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){g(e.value)}})))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Field value to save"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:H,defaultSelectedItem:_,className:Oe.componentsSelectComponent,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},inputClassName:Oe.componentsSearchInput,clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){N(e.value)}})))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Field values to share"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:null!==H&&void 0!==H?H:[],itemType:"checkboxes",checkboxEmplacement:"left",inputStyle:{cursor:"pointer"},initialSelectedItems:null===(c=null!==H&&void 0!==H?H:[])||void 0===c?void 0:c.filter((function(e){return(null===y||void 0===y?void 0:y.indexOf(e.label))>-1})),className:Oe.uploadSelectComponent,inputClassName:Oe.uploadSearchInput,molclassname:Oe.uploadSelectMenuOverlayList,moliclassname:Oe.uploadSelectMenuOverlayListItem,onChange:function(e){null===h||void 0===h||h(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))))},mt=function(e){var t,l,n,o=e.defaultValue,r=e.onModuleSelected,d=(e.field_type,e.onOutputSelected),u=e.onFieldValueSelected,s=e.defaultOutput,c=e.defaultModule,m=e.components,p=void 0===m?[]:m,v=e.allModules,y=(e.fieldOption,e.setFieldOption,(0,i.useState)(void 0)),h=(0,a.Z)(y,2),C=h[0],g=h[1],b=(0,i.useState)(c?{value:""}:void 0),S=(0,a.Z)(b,2),E=S[0],_=S[1],Z=(0,i.useState)(v.map((function(e){return{label:e.name,value:e.id,module:e}}))),w=(0,a.Z)(Z,1)[0];return i.createElement(i.Fragment,null,i.createElement(Ae,null,i.createElement(f.Lb,{title:"Select Module:"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:w,defaultSelectedItem:c,className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){g(e),r(e)}})))),C&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Select Output:"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:null===p||void 0===p?void 0:p.filter((function(e){return e.module_id===C.value})).map((function(e){return{label:"".concat(e.title),value:e.id}})),defaultSelectedItem:s,className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){_(e),d(e)}})))),E&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Select Field Value:"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:null!==(t=null===p||void 0===p||null===(l=p.find((function(e){return e.id===E.value})))||void 0===l||null===(n=l.component_fields)||void 0===n?void 0:n.map((function(e){return{label:"".concat(e.field_name," = ").concat(e.value),value:e.value}})))&&void 0!==t?t:[],defaultSelectedItem:o,className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){u(e)}})))))},pt=(0,i.memo)((function(e){var t=e.defaultCalendar,l=e.defaultSlider,o=e.defaultAssign,d=e.defaultEmail,u=e.defaultType,s=e.defaultPositions,c=e.onChangeSlider,m=e.onChangeList,p=e.onChangeType,y=e.onChangeEmail,h=e.onChangeAssign,C=e.validationErrors,g=e.allModules,b=e.onModuleSelected,S=e.defaultModule,E=e.options,_=e.onOptionsSelected,Z=e.fieldOption,w=e.onCalendar,N=(0,i.useState)("single"==u),L=(0,a.Z)(N,2),I=L[0],x=L[1],M=(0,i.useState)(!1),k=(0,a.Z)(M,2),O=k[0],T=k[1],P=(0,i.useState)(null===E||void 0===E?void 0:E.componentF),B=(0,a.Z)(P,2),F=B[0],D=B[1],A=(0,i.useState)(null===E||void 0===E?void 0:E.componentO),V=(0,a.Z)(A,2),z=V[0],R=V[1],j=(0,i.useState)(null===E||void 0===E?void 0:E.componentUO),U=(0,a.Z)(j,2),q=U[0],H=U[1],K=(0,i.useState)(s),X=(0,a.Z)(K,2),G=X[0],Y=X[1],J=(0,i.useState)(null===E||void 0===E?void 0:E.module_id),Q=(0,a.Z)(J,2),$=Q[0],ee=Q[1],te=g.map((function(e){return{label:e.name,value:e.id,module:e}})),le=(0,r.v9)((function(e){return e.flowReducer})),ne=le.companyPositionsArray,oe=le.companyDepartments,ae=(0,i.useState)(Te.sortWith([Te.ascend(Te.prop("department_name"))])(null===ne||void 0===ne?void 0:ne.map((function(e){var t;return{label:e.label,value:e.value,department_name:e.department,department_id:null===(t=oe.find((function(t){return t.label==e.department})))||void 0===t?void 0:t.value}})))),ie=(0,a.Z)(ae,2),re=ie[0],de=ie[1];return(0,i.useEffect)((function(){var e=(0,W.OW)().subscribe({next:function(e){(0,W.xt)().subscribe({next:function(t){var l=null===e||void 0===e?void 0:e.map((function(e){var l;return{label:e.name,value:e.id,department_name:null===(l=t.find((function(t){return t.id==e.department_id})))||void 0===l?void 0:l.name,department_id:e.department_id}}));de(Te.sortWith([Te.ascend(Te.prop("department_name"))])(l)),T(!1)},error:function(e){T(!1)}})},error:function(e){T(!1)}});return function(){(0,v.zK)(e)}}),[]),i.createElement("div",{className:Oe.peopleContainer},i.createElement(Ae,{errorMessage:null===C||void 0===C?void 0:C.type},i.createElement(f.Lb,{title:"How many People can be placed in this position?"}),i.createElement(f.sm,{"app-variant":null!==C&&void 0!==C&&C.type?"error":"normal","app-container-variant":"noBorder",className:Ie()(Oe.unfocusableWrapper)},i.createElement(f.nd,{selected:I,setSelected:function(e){x(e),null===p||void 0===p||p(e?"single":"multiple")},first:"One Person",second:"Multiple People",extraClassName:Oe.renderBooleansOptions}))),(void 0!==F||0!==(null===F||void 0===F?void 0:F.length))&&i.createElement(Ae,{errorMessage:null===C||void 0===C?void 0:C.position_id},i.createElement(f.Lb,{title:"Option 1: Display users from these positions:"}),i.createElement(f.sm,{"app-variant":null!==C&&void 0!==C&&C.position_id?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.peoplePositionSelectContainer)},O?i.createElement(f.$j,{size:30,type:"ThreeDots"}):(null===re||void 0===re?void 0:re.length)>0?i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:re,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:null===re||void 0===re?void 0:re.filter((function(e){return(null===s||void 0===s?void 0:s.indexOf(e.value))>-1})),className:Oe.uploadSelectComponent,inputClassName:Oe.uploadSearchInput,molclassname:Oe.uploadSelectMenuOverlayList,moliclassname:Oe.uploadSelectMenuOverlayListItem,onChange:function(e){Y(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))),null===m||void 0===m||m(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}):null)),0==G.length&&i.createElement(Ae,{errorMessage:null===C||void 0===C?void 0:C.type},i.createElement(f.Lb,{title:"Option 2: Display users based from a lookup in:"}),i.createElement(f.sm,{"app-variant":null!==C&&void 0!==C&&C.type?"error":"normal",className:Oe.unfocusableWrapper},i.createElement(f.rk,{items:te,defaultSelected:S,className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){ee(e.module.id),null===b||void 0===b||b(e)}}))),0==G.length&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Field set in the steps where to lookup"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:F,name:"matched to field",onChange:function(e){D(e.target.value),_((0,n.Z)((0,n.Z)({},Z),{},{componentF:e.target.value,module_id:$}))}}))),0==G.length&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Field from lookup where to get positions and users"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:z,name:"matched to field",onChange:function(e){R(e.target.value),_((0,n.Z)((0,n.Z)({},Z),{},{componentO:e.target.value,module_id:$}))}}))),0==G.length&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Field from lookup where to get users (direct user list)"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:q,name:"matched to field",onChange:function(e){H(e.target.value),_((0,n.Z)((0,n.Z)({},Z),{},{componentUO:e.target.value}))}}))),!t&&i.createElement(f.pd,{id:"Display as slider",title:"Display as slider?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!!l,toggleSelected:function(e){c(e)}}),i.createElement(f.pd,{id:"Trigger an email when user is selected",title:"Trigger an email to selected user during save?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!!d,toggleSelected:function(e){y(e)}}),!t&&i.createElement(f.pd,{id:"Assign the user selected to transaction",title:"Assign the user selected to transaction?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!!o,toggleSelected:function(e){h(e)}}),!l&&i.createElement(f.pd,{id:"Display as calendar",title:"Display as calendar?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!!t,toggleSelected:function(e){w(e)}}))})),vt=(0,i.memo)((function(e){var t,l,o,d,u,s,c=e.defaultCalendar,m=e.defaultSlider,p=(e.defaultAssign,e.defaultEmail,e.defaultType),y=e.defaultPositions,h=(e.onChangeSlider,e.onChangeList),C=e.onChangeType,g=(e.onChangeEmail,e.onChangeAssign,e.validationErrors),b=e.allModules,S=(e.onModuleSelected,e.defaultModule,e.options),E=(e.onOptionsSelected,e.fieldOption),_=e.onCalendar,Z=e.setFieldOption,w=(0,i.useState)("single"==p),N=(0,a.Z)(w,2),L=N[0],I=N[1],x=(0,i.useState)(!1),M=(0,a.Z)(x,2),k=M[0],O=M[1],T=(0,i.useState)(null===S||void 0===S?void 0:S.componentF),P=(0,a.Z)(T,2),B=P[0],F=(P[1],(0,i.useState)(null===S||void 0===S?void 0:S.componentO)),D=(0,a.Z)(F,2),A=(D[0],D[1],(0,i.useState)(null===S||void 0===S?void 0:S.componentUO)),V=(0,a.Z)(A,2),z=(V[0],V[1],(0,i.useState)(y)),R=(0,a.Z)(z,2),j=(R[0],R[1]),U=(0,i.useState)(null===S||void 0===S?void 0:S.module_id),q=(0,a.Z)(U,2),H=(q[0],q[1],b.map((function(e){return{label:e.name,value:e.id,module:e}})),(0,r.v9)((function(e){return e.flowReducer}))),K=H.companyPositionsArray,X=H.companyDepartments,G=(0,i.useState)(Te.sortWith([Te.ascend(Te.prop("department_name"))])(null===K||void 0===K?void 0:K.map((function(e){var t;return{label:e.label,value:e.value,department_name:e.department,department_id:null===(t=X.find((function(t){return t.label==e.department})))||void 0===t?void 0:t.value}})))),Y=(0,a.Z)(G,2),J=Y[0],Q=Y[1];return(0,i.useEffect)((function(){var e=(0,W.OW)().subscribe({next:function(e){(0,W.xt)().subscribe({next:function(t){var l=null===e||void 0===e?void 0:e.map((function(e){var l;return{label:e.name,value:e.id,department_name:null===(l=t.find((function(t){return t.id==e.department_id})))||void 0===l?void 0:l.name,department_id:e.department_id}}));Q(Te.sortWith([Te.ascend(Te.prop("department_name"))])(l)),O(!1)},error:function(e){O(!1)}})},error:function(e){O(!1)}});return function(){(0,v.zK)(e)}}),[]),i.createElement("div",{className:Oe.peopleContainer},i.createElement(Ae,{errorMessage:null===g||void 0===g?void 0:g.type},i.createElement(f.Lb,{title:"How many Positions can be selected?"}),i.createElement(f.sm,{"app-variant":null!==g&&void 0!==g&&g.type?"error":"normal","app-container-variant":"noBorder",className:Ie()(Oe.unfocusableWrapper)},i.createElement(f.nd,{selected:L,setSelected:function(e){I(e),null===C||void 0===C||C(e?"single":"multiple")},first:"Single",second:"Multiple",extraClassName:Oe.renderBooleansOptions}))),(void 0!==B||0!==(null===B||void 0===B?void 0:B.length))&&i.createElement(Ae,{errorMessage:null===g||void 0===g?void 0:g.position_id},i.createElement(f.Lb,{title:"Display these positions:"}),i.createElement(f.sm,{"app-variant":null!==g&&void 0!==g&&g.position_id?"error":"normal",className:Ie()(Oe.unfocusableWrapper,Oe.peoplePositionSelectContainer)},k?i.createElement(f.$j,{size:30,type:"ThreeDots"}):(null===J||void 0===J?void 0:J.length)>0?i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:J,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:null===J||void 0===J?void 0:J.filter((function(e){return(null===y||void 0===y?void 0:y.indexOf(e.value))>-1})),className:Oe.uploadSelectComponent,inputClassName:Oe.uploadSearchInput,molclassname:Oe.uploadSelectMenuOverlayList,moliclassname:Oe.uploadSelectMenuOverlayListItem,onChange:function(e){j(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))),null===h||void 0===h||h(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}):null)),!m&&i.createElement(f.pd,{id:"Display as calendar",title:"Display as calendar?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!!c,toggleSelected:function(e){_(e)}}),i.createElement("div",null,i.createElement("label",{className:Oe.checkboxLabelClass},"Fetch users when item is selected?",i.createElement("input",{type:"checkbox",defaultChecked:null===S||void 0===S?void 0:S.fetch,onChange:function(e){return Z((0,n.Z)((0,n.Z)({},S),{},{fetch:e.target.checked}))}}))),i.createElement("div",null,i.createElement("label",{className:Oe.checkboxLabelClass},"Share transaction to position when item is selected?",i.createElement("input",{type:"checkbox",defaultChecked:null===S||void 0===S?void 0:S.share,onChange:function(e){return Z((0,n.Z)((0,n.Z)({},S),{},{share:e.target.checked}))}}))),i.createElement("div",null,i.createElement("label",{className:Oe.checkboxLabelClass},"Add user to selected position?",i.createElement("input",{type:"checkbox",defaultChecked:null===S||void 0===S?void 0:S.addToPos,onChange:function(e){return e.target.checked?Z((0,n.Z)((0,n.Z)({},S),{},{addToPos:e.target.checked,share:!1,calendar:!1,fetch:!1})):Z((0,n.Z)((0,n.Z)({},E),{},{addToPos:!1}))}}))),i.createElement("div",{style:{display:null!==E&&void 0!==E&&E.calendar?"":"none"}},i.createElement(Ae,null,i.createElement(f.Lb,{title:"Header label to use"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null===E||void 0===E?void 0:E.header,onChange:function(e){Z((0,n.Z)((0,n.Z)({},E),{},{header:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Title label to use"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null!==(t=null===E||void 0===E?void 0:E.title)&&void 0!==t?t:"Event Name",onChange:function(e){Z((0,n.Z)((0,n.Z)({},E),{},{title:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Description label to use"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null!==(l=null===E||void 0===E?void 0:E.description)&&void 0!==l?l:"Description",onChange:function(e){Z((0,n.Z)((0,n.Z)({},E),{},{description:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Assignee label to use"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null!==(o=null===E||void 0===E?void 0:E.assignee)&&void 0!==o?o:"Assigned to",onChange:function(e){Z((0,n.Z)((0,n.Z)({},E),{},{assignee:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Start date label to use"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null!==(d=null===E||void 0===E?void 0:E.start)&&void 0!==d?d:"Start Date",onChange:function(e){Z((0,n.Z)((0,n.Z)({},E),{},{start:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"End date label to use"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null!==(u=null===E||void 0===E?void 0:E.end)&&void 0!==u?u:"End Date",onChange:function(e){Z((0,n.Z)((0,n.Z)({},E),{},{end:e.target.value}))}}))),i.createElement(Ae,null,i.createElement(f.Lb,{title:"Value label to use (Optional)"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:null===E||void 0===E?void 0:E.valueL,onChange:function(e){Z((0,n.Z)((0,n.Z)({},E),{},{valueL:e.target.value}))}})),i.createElement("p",{className:Oe.optionSettings},"Note: If set, ensure label is set in calendar")),i.createElement(Xe,{validationErrors:g,defaultList:(null===S||void 0===S||null===(s=S.list)||void 0===s?void 0:s.length)>0?null===S||void 0===S?void 0:S.list:void 0,onListSelected:function(e){Z((0,n.Z)((0,n.Z)({},E),{},{list:e}))}})))})),ft=function(e){var t=e.defaultCurrent,l=e.defaultFixed,n=e.defaultDescription,o=e.defaultValue,r=e.defaultModule,d=e.defaultModule2,u=e.defaultModule3,s=e.allModules,c=e.onModule1Select,m=e.onModule2Select,p=e.onModule3Select,v=e.setFieldValue,y=e.setDefaultDescription,h=e.setDefaultFixed,C=e.setDefaultCurrent,g=(0,i.useState)(null!==l&&void 0!==l&&l),b=(0,a.Z)(g,2),S=b[0],E=b[1],_=(0,i.useState)(o),Z=(0,a.Z)(_,2),w=Z[0],N=Z[1],L=(0,i.useState)(n),I=(0,a.Z)(L,2),x=I[0],M=I[1],k=(0,i.useState)(1!=t&&""!==(null===r||void 0===r?void 0:r.label)),O=(0,a.Z)(k,2),T=O[0],P=O[1],B=(0,i.useState)(t),F=(0,a.Z)(B,2),D=F[0],A=F[1],W=s.map((function(e){return{label:e.name,value:e.id,module:e}}));return i.createElement(i.Fragment,null,i.createElement(Ae,null,i.createElement(f.Lb,{title:"Description"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("textarea",{type:"text",className:Oe.elementTextArea,value:x,name:"element-desc",onChange:function(e){y(e.target.value),M(e.target.value)}}))),i.createElement(f.pd,{id:"Use records for the AI to analyze",title:"Use records for the AI to analyze?",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!!T,toggleSelected:function(e){P(e),1==e&&(A(!1),C(!1))}}),!T&&i.createElement(f.pd,{id:"Use current transaction for the AI to analyze",title:"Use current transaction for the AI to analyze",ungrouped:!0,withAckButton:!1,style:{margin:"10px 0px",width:"auto"},value:!!D,toggleSelected:function(e){A(e),C(e)}}),T&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Records to use as source A"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement(f.rk,{items:W,defaultSelected:r,className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){null===c||void 0===c||c(e)}}))),T&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Records to use as source B (Optional)"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement(f.rk,{items:W,defaultSelected:d,className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){null===m||void 0===m||m(e)}}))),T&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Records to use as source C (Optional)"}),i.createElement(f.sm,{className:Oe.unfocusableWrapper},i.createElement(f.rk,{items:W,defaultSelected:u,className:Oe.dropdownSelectComponent,tmiClassName:Oe.dropdownInput,molclassname:Oe.dropdownSelectMenuOverlayList,moliclassname:Oe.dropdownSelectMenuOverlayListItem,onChange:function(e){null===p||void 0===p||p(e)}}))),1==S&&i.createElement(Ae,null,i.createElement(f.Lb,{title:"Fixed query to use ".concat(T?"with the records selected":"")}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("textarea",{type:"text",className:Oe.elementTextArea,value:w,name:"element-query",onChange:function(e){v(e.target.value),N(e.target.value)}}))),i.createElement(f.pd,{id:"Use a fixed query?",title:"Use a fixed query",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 0px 0px",width:"auto"},value:S,toggleSelected:function(e){E(e),h(e)}}))},yt=function(e){var t=e.onSetIdGenerator,l=e.defaultValue,n=(0,i.useState)(l.label),o=(0,a.Z)(n,2),r=o[0],d=o[1];return i.createElement("div",{className:Oe.currencySelectContainer},i.createElement("input",{type:"text",placeholder:"Enter prefix of ID",className:Oe.elementTextInput,value:r,name:"element-name",onChange:function(e){d(e.target.value),function(e){t(e)}(e.target.value)}}))},ht=function(e){var t=e.onNotesGenerator,l=e.defaultValue,n=(0,i.useState)(l.label),o=(0,a.Z)(n,2),r=o[0],d=o[1];return i.createElement("div",{className:Oe.currencySelectContainer},i.createElement("textarea",{type:"text",placeholder:"Enter Notes to display",className:Oe.elementTextArea,value:r,name:"element-name",onChange:function(e){d(e.target.value),function(e){t(e)}(e.target.value)}}))},Ct=function(e){var t=e.defaultList,l=e.defaultSrcName,n=e.onSourceLabel,d=e.defaultValue,u=e.validationErrors,s=e.onSourceSelected,c=e.bpContext,m=e.onListSelected,p=void 0===m?function(){}:m,v=(0,r.v9)((function(e){return e.modalsReducer})),y=v.isOnboarding,h=(0,i.useState)(null!==t&&void 0!==t?t:[]),C=(0,a.Z)(h,2),g=C[0],b=C[1],S=(0,i.useState)(""),E=(0,a.Z)(S,2),_=E[0],Z=E[1],w=(0,i.useState)([]),N=(0,a.Z)(w,2),L=N[0],I=N[1],x=(0,i.useState)(!0),M=(0,a.Z)(x,2),k=M[0],O=M[1],T=(0,i.useState)([]),P=(0,a.Z)(T,2),B=P[0],F=P[1];(0,i.useEffect)((function(){D()}),[]);var D=(0,i.useCallback)((function(){F(y?c.allBlueprintComponents.map((function(e){return{label:e.name,value:e.id,blueprint:e}})):c.allBlueprintComponents.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}})))})),A=(0,i.useCallback)((function(){O(!0),b((function(e){return[].concat((0,o.Z)(e),[_])})),Z(""),null===p||void 0===p||p([].concat((0,o.Z)(g),[_]))}),[g,_,p]),W=(0,i.useCallback)((function(e){b((function(t){return(0,o.Z)(Te.reject(Te.equals(e),t))})),null===p||void 0===p||p((0,o.Z)(Te.reject(Te.equals(e),g)))}),[g,p]);return i.createElement("div",{className:Oe.dropdownElementHost},i.createElement(Ae,{errorMessage:null===u||void 0===u?void 0:u.type},i.createElement(f.Lb,{title:"Select Component where field to use as payment amount is found"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:B,defaultSelectedItem:d,className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){var t=B.find((function(t){return t.value===e.value}));I(t.blueprint.fields.filter((function(e){return"Number"===e.name||"Formula"===e.name||"Item Formula"===e.name})).map((function(e){return{label:e.value,value:e.id,field:e}}))),s(e.value)}}))),i.createElement(Ae,{errorMessage:null===u||void 0===u?void 0:u.type},i.createElement(f.Lb,{title:"Field to use for payment amount"}),i.createElement("div",{className:Oe.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:L,defaultSelectedItem:l,className:Oe.componentsSelectComponent,inputClassName:Oe.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Oe.componentsClearControlsClassName,molclassname:Oe.componentsSelectMenuOverlayList,moliclassname:Oe.componentsSelectMenuOverlayListItem,onChange:function(e){n(e.label)}}))),i.createElement(Ae,{errorMessage:null===u||void 0===u?void 0:u.list},i.createElement(f.Lb,{title:"Payment Options"}),i.createElement(f.sm,{"app-variant":null!==u&&void 0!==u&&u.list?"error":"normal",className:Oe.dropdownListContainer,onClickOutside:(0,i.useCallback)((function(){null===p||void 0===p||p(g)}),[g,p])},k?i.createElement("div",{className:Oe.dropDownButtonContainer},i.createElement(f.zx,{light:!0,title:"Add Payment Option",clicked:function(){return O(!1)}})):i.createElement("div",{className:Oe.dropDownNewListItemInputContainer},i.createElement("input",{type:"text",className:Oe.dropDownNewListItemInput,value:_,name:"newItem",placeholder:"Type name",onChange:function(e){Z(e.target.value)}}),(null===_||void 0===_?void 0:_.length)>0&&i.createElement("button",{type:"button",onClick:A,className:Oe.dropdownInputButtonSaveNewItem},i.createElement(V.G,{icon:z.g6h}))),i.createElement("div",{className:Oe.dropdownListItemsContainer},g&&(null===g||void 0===g?void 0:g.map((function(e,t){return i.createElement(st,{key:e+t,item:e,isOverflow:(null===g||void 0===g?void 0:g.length)>3,onItemChanged:function(e){b((function(l){return(0,o.Z)(Te.update(t)(e)(l))}))},onItemRemoved:function(){return W(e)}})})))))))},gt=l(67861),bt=(0,i.memo)((function(e){var t,l,r,d,s,c,p,y,h,C,g,b,S,E,_,Z,w,N,L,I=e.visible,x=e.onUpdate,M=e.onClose,k=e.authenticatedUser,B=e.allModules,F=e.blueprints,D=e.componentTypes,A=e.components,W=e.products,j=e.companyData,U=e.companyProcesses,q=e.selectedComponent,H=(0,u.aL)(),K=(0,a.Z)(H,2),X=K[0],G=K[1],Y=(0,i.useState)(!1),J=(0,a.Z)(Y,2),Q=(J[0],J[1],(0,i.useState)(!1)),$=(0,a.Z)(Q,2),ee=$[0],te=$[1],le=(0,i.useState)(!1),ie=(0,a.Z)(le,2),re=ie[0],ve=ie[1],fe=(0,i.useState)(!1),ye=(0,a.Z)(fe,2),he=ye[0],Ne=ye[1],Le=(0,i.useState)(!1),Ie=(0,a.Z)(Le,2),xe=Ie[0],Me=Ie[1],ke=(0,i.useState)(!1),Oe=(0,a.Z)(ke,2),Te=Oe[0],Pe=Oe[1],Fe=(0,i.useState)({name:"",fields:"",components:""}),De=(0,a.Z)(Fe,2)[1],We=(0,i.useState)(!1),Ve=(0,a.Z)(We,2),ze=Ve[0],Re=Ve[1],je=(0,i.useState)(""),Ue=(0,a.Z)(je,2),qe=Ue[0],He=Ue[1],Ke=(0,i.useState)(!0),Xe=(0,a.Z)(Ke,2),Ge=Xe[0],Ye=Xe[1],Je=(0,i.useState)(!1),Qe=(0,a.Z)(Je,2),$e=Qe[0],et=Qe[1],tt=(0,i.useState)(""),lt=(0,a.Z)(tt,2),nt=lt[0],ot=lt[1],at=e.onBoardingModalsVisibility;(0,i.useEffect)((function(){He(""),G({type:u.qY.setAllBlueprintsComponents,value:F})}),[X.selectedBlueprintComponent.fields]),(0,i.useEffect)((function(){void 0!==q&&(G({type:u.qY.setSelectedBlueprintComponent,value:F.find((function(e){return e.id===q}))}),Ye(!1))}),[]);var it=function(){De({name:"",components:""}),He("")},rt=(0,i.useCallback)((function(e){ve(!0),(0,ue._u)(e.id,e).subscribe({next:function(){ve(!1),O.h.dispatch((0,m.Xc)({show:!0,message:"You have successfully updated ".concat(e.name)})),null===x||void 0===x||x(!0),null===M||void 0===M||M(!0)},error:function(e){var t,l,n,o,a,i,r,d,u;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.errors&&De({name:null===e||void 0===e||null===(l=e.data)||void 0===l||null===(n=l.errors)||void 0===n||null===(o=n.name)||void 0===o?void 0:o.join("; "),components:null===e||void 0===e||null===(a=e.data)||void 0===a||null===(i=a.errors)||void 0===i||null===(r=i.components)||void 0===r?void 0:r.join("; ")});null!==e&&void 0!==e&&e.data&&He(null!==(d=null===e||void 0===e||null===(u=e.data)||void 0===u?void 0:u.message)&&void 0!==d?d:null===e||void 0===e?void 0:e.data);ve(!1)}})}),[M]),dt=(0,i.useCallback)((function(e){ve(!0),(0,ue.Bp)(e).subscribe({next:function(){null!==at&&void 0!==at&&at.thirdModalVisible?O.h.dispatch((0,R.$6)({fourthModalVisible:!0})):null!==at&&void 0!==at&&at.fifthModalVisible?O.h.dispatch((0,R.$6)({sixthModalVisible:!0})):O.h.dispatch((0,m.Xc)({show:!0,message:"You have successfully created ".concat(e.name)})),ve(!1),null===x||void 0===x||x(!0),He("You have successfully created ".concat(e.name,". Press the close button"))},error:function(e){var t,l,n,o,a,i,r,d,u;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.errors&&De({name:null===e||void 0===e||null===(l=e.data)||void 0===l||null===(n=l.errors)||void 0===n||null===(o=n.name)||void 0===o?void 0:o.join("; "),components:null===e||void 0===e||null===(a=e.data)||void 0===a||null===(i=a.errors)||void 0===i||null===(r=i.components)||void 0===r?void 0:r.join("; ")});null!==e&&void 0!==e&&e.data&&He(null!==(d=null===e||void 0===e||null===(u=e.data)||void 0===u?void 0:u.message)&&void 0!==d?d:null===e||void 0===e?void 0:e.data);ve(!1)}})}),[M]),ut=((0,i.useCallback)((function(e){ve(!0),(0,ue.zs)(e.id,e.name).subscribe({next:function(){ve(!1),O.h.dispatch((0,m.Xc)({show:!0,message:"You have successfully duplicated component"})),null===x||void 0===x||x(!0),null===M||void 0===M||M(!0)},error:function(e){var t,l,n,o,a,i,r,d,u;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.errors&&De({name:null===e||void 0===e||null===(l=e.data)||void 0===l||null===(n=l.errors)||void 0===n||null===(o=n.name)||void 0===o?void 0:o.join("; "),components:null===e||void 0===e||null===(a=e.data)||void 0===a||null===(i=a.errors)||void 0===i||null===(r=i.components)||void 0===r?void 0:r.join("; ")});null!==e&&void 0!==e&&e.data&&He(null!==(d=null===e||void 0===e||null===(u=e.data)||void 0===u?void 0:u.message)&&void 0!==d?d:null===e||void 0===e?void 0:e.data);ve(!1)}})}),[M]),(0,i.useCallback)((function(){var e,t,l=X.validation,a=l.name,i=l.fields;if("superadmin"!==(null===k||void 0===k?void 0:k.user_type)&&(a||(null===i||void 0===i?void 0:i.length)>0||(null===(e=X.selectedBlueprintComponent.fields)||void 0===e?void 0:e.length)<1)){var r,d,u,s,c,m,p,v,f="";if((null===(r=X.selectedBlueprintComponent.fields)||void 0===r?void 0:r.length)<1&&(f="Component must have at least one field"),(null===i||void 0===i?void 0:i.length)>0&&(f="Check options of red fields"),null!==X&&void 0!==X&&null!==(d=X.selectedBlueprintComponent)&&void 0!==d&&null!==(u=d.fields)&&void 0!==u&&u.some((function(e){var t,l;return 0==(null===e||void 0===e||null===(t=e.options)||void 0===t||null===(l=t.list)||void 0===l?void 0:l.length)}))&&(f="Element's option list must have at least one entry"),null!==X&&void 0!==X&&null!==(s=X.selectedBlueprintComponent)&&void 0!==s&&null!==(c=s.fields)&&void 0!==c&&c.some((function(e){var t,l;return 0==(null===e||void 0===e||null===(t=e.options)||void 0===t||null===(l=t.type)||void 0===l?void 0:l.length)}))&&(f="Element's option type is mandatory"),null!==X&&void 0!==X&&null!==(m=X.selectedBlueprintComponent)&&void 0!==m&&null!==(p=m.fields)&&void 0!==p&&p.some((function(e){var t;return 0==(null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.length)}))&&(f="Name is mandatory for each element"),De({name:a?"Add a component name":"",fields:f}),(null===(v=f)||void 0===v?void 0:v.length)>0){var y,h,C=document.querySelectorAll('[app-field-row-has-error="error"]');if(C)if((null===C||void 0===C?void 0:C.length)>0)null===(y=(0,o.Z)(C))||void 0===y||null===(h=y.reverse()[(null===C||void 0===C?void 0:C.length)-1])||void 0===h||h.scrollIntoView({block:"start",behavior:"smooth"})}(null===i||void 0===i?void 0:i.length)>0&&Re(!0)}else{ve(!0),it();var g={components:X.selectedBlueprintComponent.components,fields:X.selectedBlueprintComponent.fields.map((function(e){var t;return(null===(t=e.id)||void 0===t?void 0:t.length)>20?(0,n.Z)({},e):de.Z("id")(e)})),name:X.selectedBlueprintComponent.name};(null===(t=X.selectedBlueprintComponent.id)||void 0===t?void 0:t.length)>0?rt((0,n.Z)((0,n.Z)({},g),{},{id:X.selectedBlueprintComponent.id})):dt(g)}}),[X.selectedBlueprintComponent.components,X.selectedBlueprintComponent.fields,X.selectedBlueprintComponent.id,X.selectedBlueprintComponent.name,X.validation,dt,rt])),st=(0,i.useCallback)((function(){var e;if((null===(e=X.selectedBlueprintComponent.id)||void 0===e?void 0:e.length)>0){ve(!0),it();var t={components:X.selectedBlueprintComponent.components,fields:X.selectedBlueprintComponent.fields.map((function(e){var t;return(null===(t=e.id)||void 0===t?void 0:t.length)>20?(0,n.Z)({},e):de.Z("id")(e)})),name:"Copy of ".concat(X.selectedBlueprintComponent.name)};dt(t)}}),[X.selectedBlueprintComponent.components,X.selectedBlueprintComponent.fields,X.selectedBlueprintComponent.id,X.selectedBlueprintComponent.name,X.validation,dt,rt]),ct=function(e){G({type:u.qY.setSelectedBlueprintComponentName,value:e})};return gt.createElement(gt.Fragment,null,gt.createElement(f.U7,{id:"edit-component-modal",blured:!0,scrollable:!1,isOpen:I,shadowedContainerStyle:{minWidth:"500px",width:T.tq?"100%":"38%"}},gt.createElement("div",{className:ce},gt.createElement("div",{className:me},gt.createElement("p",null,1==(null===X||void 0===X||null===(t=X.selectedBlueprintComponent)||void 0===t?void 0:t.readonly)?"Template Component":Ge?"New Component":"Edit Component")),gt.createElement("p",{className:we},"A component is an object within a step that groups your various fields. You can only use a component one step at a time in a workflow"),1==(null===X||void 0===X||null===(l=X.selectedBlueprintComponent)||void 0===l?void 0:l.readonly)&&gt.createElement("p",{className:we},"Note: You are working on a Template Component, if you want to add more fields or rename a field, we encourage to duplicate/copy this component and make your changes there instead. Remove then this template component from the step where this is attached and add your copied component.  "),gt.createElement(Ae,null,Ge&&gt.createElement("div",null,gt.createElement(f.Lb,{title:"Name"}),gt.createElement("input",{type:"text",name:"element-name",value:null===(r=X.selectedBlueprintComponent)||void 0===r?void 0:r.name,onChange:function(e){ct(e.target.value)},onClick:function(){},className:Ze})),$e&&gt.createElement("div",null,gt.createElement(f.Lb,{title:"Name"}),gt.createElement("input",{type:"text",name:"element-name",value:null===(d=X.selectedBlueprintComponent)||void 0===d?void 0:d.name,onChange:function(e){ct(e.target.value)},onClick:function(){},className:Ze})),!$e&&gt.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",maxHeight:"100%",border:"0px solid var(--app-color-gray-lighter)",marginTop:"10px"}},gt.createElement(f.Lb,{title:q?"Name":"Select Component to Edit"}),gt.createElement("div",{className:pe},gt.createElement(se.yV,{placeholder:null!==(s=X.selectedBlueprintComponent)&&void 0!==s&&s.name&&!Ge?null===(c=X.selectedBlueprintComponent)||void 0===c?void 0:c.name:"Or selelct a Component to edit...",items:q?[]:D?(0,o.Z)(ne.Z([oe.Z(ae.Z("name"))])(F).map((function(e){return{label:"".concat(null===e||void 0===e?void 0:e.name),value:null===e||void 0===e?void 0:e.id,type:"".concat(!0===e.readonly?"Templates":(0,v.m)(null===e||void 0===e?void 0:e.name))}}))):[],initialSelectedValues:[],groupedBy:"type",groupname:"type",inputStyle:{blank:!0,cursor:"pointer"},className:ge,inputClassName:be,molclassname:Se,moliclassname:Ee,onChange:function(e){1==e.length&&(G({type:u.qY.setSelectedBlueprintComponent,value:F.find((function(t){return t.id===e[0].value}))}),Ye(!1))}},!q&&gt.createElement(V.G,{className:"fa-icon",icon:z.ptq,style:{marginRight:"20px",color:"gray"}})))),gt.createElement("br",null),!$e&&gt.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",maxHeight:"100%",border:"0px solid var(--app-color-gray-lighter)"}},gt.createElement(f.Lb,{title:"Fields Selection"}),gt.createElement("div",{className:pe},gt.createElement(se.yV,{placeholder:"Click and select field to add ...",items:D?[].concat((0,o.Z)(ne.Z([oe.Z(ae.Z("name"))])(D.filter((function(e){var t,l;return!(null!==j&&void 0!==j&&null!==(t=j.misc_info)&&void 0!==t&&null!==(l=t.blueprints)&&void 0!==l&&l.includes(null===e||void 0===e?void 0:e.name))&&(0==e.io_type||1==e.io_type)}))).map((function(e){return{label:e.name,value:e.id,type:0==e.io_type?"Output":"Input"}}))),(0,o.Z)(null!==j&&void 0!==j&&null!==(p=j.misc_info)&&void 0!==p&&p.templates?j.misc_info.templates.map((function(e){return{label:e,value:e,type:"Templates"}})):[])):[],initialSelectedValues:[],groupedBy:"type",groupname:"type",inputStyle:{blank:!0,cursor:"pointer"},className:ge,inputClassName:be,molclassname:Se,moliclassname:Ee,onChange:function(e){if(e.length>0){var t=[e[0]];t=function(e,t,l){var n,o,a,i,r,d;return"Battery Order Template"===e[0].value?null===t||void 0===t||null===(n=t.misc_info)||void 0===n?void 0:n.templatesData.find((function(e){return"Battery Order Template"===e.name})).config.map((function(e){return{value:l.find((function(t){return t.name===e.value})).id,label:e.label,mapToItem:null===e||void 0===e?void 0:e.mapToItem}})):"Battery Template"===e[0].value?null===t||void 0===t||null===(o=t.misc_info)||void 0===o?void 0:o.templatesData.find((function(e){return"Battery Template"===e.name})).config.map((function(e){return{value:l.find((function(t){return t.name===e.value})).id,label:e.label,mapToItem:null===e||void 0===e?void 0:e.mapToItem}})):null!==(a=null===t||void 0===t||null===(i=t.misc_info)||void 0===i||null===(r=i.templatesData.find((function(t){return t.name===e[0].value})))||void 0===r||null===(d=r.config)||void 0===d?void 0:d.map((function(e){return{value:l.find((function(t){return t.name===e.value})).id,label:e.label,mapToItem:null===e||void 0===e?void 0:e.mapToItem}})))&&void 0!==a?a:[]}(e,j,D),0==t.length&&(ot(""),t=[e[0]]),t.map((function(e){var t,l,o,a,i,r,d,s,c,m,p,f,y,h,C,g,b,S,E,_,Z,w,N,L,I,x,M,k,O,T,P,B,F,A,W,V,z,R,j,U,q=D.find((function(t){return t.id===e.value})),H={field_type:(0,n.Z)({},q)};("number"===(null===q||void 0===q||null===(t=q.name)||void 0===t?void 0:t.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{type:"numeric",display:"text"}}),"phone"===(null===q||void 0===q||null===(l=q.name)||void 0===l?void 0:l.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{country_prefix:"+44",country_code:"gb",country_name:"United Kingdom"}}),"currency"===(null===q||void 0===q||null===(o=q.name)||void 0===o?void 0:o.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{currency_type:"British Pound Sterling",currency_value:"GBP",symbol:"\xa3"}}),"action button"===(null===q||void 0===q||null===(a=q.name)||void 0===a?void 0:a.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{action:"creator"}}),"profile"===(null===q||void 0===q||null===(i=q.name)||void 0===i?void 0:i.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{type:"user"}}),"upload"===(null===q||void 0===q||null===(r=q.name)||void 0===r?void 0:r.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{accepted_mimes:v.cH.map((function(e){var t;return null===(t=e.value)||void 0===t?void 0:t.replaceAll(".","")})).join(","),max_file_size:51200}}),"people"===(null===q||void 0===q||null===(d=q.name)||void 0===d?void 0:d.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{position_id:[],type:"single"}}),"date"===(null===q||void 0===q||null===(s=q.name)||void 0===s?void 0:s.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{type:"single"}}),"dropdown"===(null===q||void 0===q||null===(c=q.name)||void 0===c?void 0:c.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{list:[],type:"single"}}),"payments"===(null===q||void 0===q||null===(m=q.name)||void 0===m?void 0:m.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{list:["Credit Card","GCash","Cash"]}}),"pin"===(null===q||void 0===q||null===(p=q.name)||void 0===p?void 0:p.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{pintype:"single",realtime:!0,destination:!1,source:!0}}),"record"===(null===q||void 0===q||null===(f=q.name)||void 0===f?void 0:f.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{component_id:[],type:"single",selection:"",filters:[]}}),"status"===(null===q||void 0===q||null===(y=q.name)||void 0===y?void 0:y.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{list:[]}}),"list filter"===(null===q||void 0===q||null===(h=q.name)||void 0===h?void 0:h.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{field:"",value:""}}),"id"===(null===q||void 0===q||null===(C=q.name)||void 0===C?void 0:C.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{id:"",value:0}}),"list"===(null===q||void 0===q||null===(g=q.name)||void 0===g?void 0:g.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{module_id:"",list:[]}}),"module list"===(null===q||void 0===q||null===(b=q.name)||void 0===b?void 0:b.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{module_id:"",list:[]}}),"step list"===(null===q||void 0===q||null===(S=q.name)||void 0===S?void 0:S.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{component_id:"",list:[]}}),"component list"===(null===q||void 0===q||null===(E=q.name)||void 0===E?void 0:E.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{component_id:"",list:[]}}),"transaction list"===(null===q||void 0===q||null===(_=q.name)||void 0===_?void 0:_.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{map:{}}}),"lookup"===(null===q||void 0===q||null===(Z=q.name)||void 0===Z?void 0:Z.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{source_id:"",target_id:"",common_field:"",list:[],selection:""}}),"rewards"===(null===q||void 0===q||null===(w=q.name)||void 0===w?void 0:w.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{status:"Closed",points:1,equiv:1,creator:!0}}),"calendar"===(null===q||void 0===q||null===(N=q.name)||void 0===N?void 0:N.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{limit:!0,creator:!0,priority:!0,span:!1}}),"connectors"===(null===q||void 0===q||null===(L=q.name)||void 0===L?void 0:L.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{component1_id:"",component2_id:"",common_field_12:"",component3_id:"",common_field_23:"",outputs:""}}),"map"===(null===q||void 0===q||null===(I=q.name)||void 0===I?void 0:I.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{maptype:"region"}}),"formula"===(null===q||void 0===q||null===(x=q.name)||void 0===x?void 0:x.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{operator:"",list:[],display:"text"}}),"item formula"===(null===q||void 0===q||null===(M=q.name)||void 0===M?void 0:M.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{operator:"",list:[],display:"text"}}),"emails"===(null===q||void 0===q||null===(k=q.name)||void 0===k?void 0:k.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{subject:"",message:""}}),"product"===(null===q||void 0===q||null===(O=q.name)||void 0===O?void 0:O.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{list:[]}}),"product lookup"===(null===q||void 0===q||null===(T=q.name)||void 0===T?void 0:T.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{selection:"",component_id:"",list:[]}}),"filters"===(null===q||void 0===q||null===(P=q.name)||void 0===P?void 0:P.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{component_id:"",list:[],filters:[]}}),"info"===(null===q||void 0===q||null===(B=q.name)||void 0===B?void 0:B.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{component_id:"",list:[]}}),"details"===(null===q||void 0===q||null===(F=q.name)||void 0===F?void 0:F.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{module_id:"",list:[]}}),"chart"===(null===q||void 0===q||null===(A=q.name)||void 0===A?void 0:A.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{component_id:"",list:[]}}),"value"===(null===q||void 0===q||null===(W=q.name)||void 0===W?void 0:W.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{module_id:"",component_id:"",value:""}}),"notes"===(null===q||void 0===q||null===(V=q.name)||void 0===V?void 0:V.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{value:""}}),"url"===(null===q||void 0===q||null===(z=q.name)||void 0===z?void 0:z.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{type:"image"}}),"googleai assistant"===(null===q||void 0===q||null===(R=q.name)||void 0===R?void 0:R.toLowerCase())&&(H={field_type:(0,n.Z)({},q),options:{description:"",fixed:!0,current:!1}}),null!==e&&void 0!==e&&e.mapToItem&&(console.log(e.mapToItem),H.options=(0,n.Z)((0,n.Z)({},H.options),{},{mapToItem:e.mapToItem})),(null===X||void 0===X||null===(j=X.selectedBlueprintComponent)||void 0===j?void 0:j.fields.length)<20)?(it(),G({type:u.qY.setSelectedBlueprintComponentNewField,value:(0,n.Z)((0,n.Z)({},H),{},{label:null!==(U=e.label)&&void 0!==U?U:""})})):He("You can only add a maximum of 20 fields per component. ")}))}}},gt.createElement(V.G,{className:"fa-icon",icon:z.ptq,style:{marginRight:"20px",color:"gray"}}))),gt.createElement("br",null),gt.createElement("div",{className:_e},Ge?"Selected Fields:":"Available Fields:"),gt.createElement("div",{style:{display:"flex",flexDirection:"column"}},null===X||void 0===X||null===(y=X.selectedBlueprintComponent)||void 0===y||null===(h=y.fields)||void 0===h?void 0:h.map((function(e,t){var l,o,a,i,r,d,s,c;return gt.createElement(Et,{key:t,id:e.id,name:1===(null===e||void 0===e||null===(l=e.field_type)||void 0===l?void 0:l.io_type)?null!==e&&void 0!==e&&null!==(o=e.options)&&void 0!==o&&o.mapToItem?"".concat(null===e||void 0===e||null===(a=e.field_type)||void 0===a?void 0:a.name," (").concat(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.mapToItem,")"):null===e||void 0===e||null===(r=e.field_type)||void 0===r?void 0:r.name:"Template"===(null===e||void 0===e||null===(d=e.field_type)||void 0===d?void 0:d.name)?null===e||void 0===e||null===(s=e.field_type)||void 0===s?void 0:s.name:"".concat(null===e||void 0===e||null===(c=e.field_type)||void 0===c?void 0:c.name," (Out)"),settingsClicked:function(){var t;G({type:u.qY.setSelectedFieldFromSelectedBlueprintComponent,value:(0,n.Z)((0,n.Z)({},e),{},{index:null===e||void 0===e||null===(t=e.field_type)||void 0===t?void 0:t.index})}),te(!0)},renderError:ze,hasSettingsBtn:!0},gt.createElement(St,e))}))),gt.createElement("p",{className:_e},0==(null===X||void 0===X||null===(C=X.selectedBlueprintComponent)||void 0===C||null===(g=C.fields)||void 0===g?void 0:g.length)?"No fields available. Select and add by clicking above":"You can add a maximum of 20 fields per component."),gt.createElement("br",null)),(null===qe||void 0===qe?void 0:qe.length)>0&&gt.createElement(P.Z,{message:qe,onClick:function(){return He("")}}),(null===nt||void 0===nt?void 0:nt.length)>0&&gt.createElement(P.Z,{withError:!1,extraClassName:Ce,message:nt,onClick:function(){return ot("")}})),gt.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingTop:"10px",width:"100%",overflow:"auto"}},gt.createElement(f.zx,{loading:re,title:"Close",clicked:function(){return M()},titleStyle:{fontSize:"14px"},style:{width:"100%",maxWidth:"180px",display:$e?"none":""}}),gt.createElement(f.zx,{disabled:!((null===X||void 0===X||null===(b=X.selectedBlueprintComponent)||void 0===b?void 0:b.fields.length)>0&&null!==(S=X.selectedBlueprintComponent)&&void 0!==S&&S.name),light:!0,title:Ge?"Save":"Update",loading:re,clicked:ut,titleStyle:{fontSize:"14px"},style:{width:"100%",maxWidth:"180px",display:1==(null===X||void 0===X||null===(E=X.selectedBlueprintComponent)||void 0===E?void 0:E.readonly)&&"superadmin"!==j.status?"none":(null===X||void 0===X||null===(_=X.selectedBlueprintComponent)||void 0===_?void 0:_.fields.length)>0&&null!==(Z=X.selectedBlueprintComponent)&&void 0!==Z&&Z.name?"":"none"}}),!Ge&&gt.createElement(f.j3,{permissions:[f.po.blueprints.components.delete]},gt.createElement(f.zx,{light:!0,title:$e?"Back":"Rename",clicked:function(){return et(!$e)},titleStyle:{fontSize:"14px"},style:{width:"100%",maxWidth:"180px",display:1==(null===X||void 0===X||null===(w=X.selectedBlueprintComponent)||void 0===w?void 0:w.readonly)&&"superadmin"!==j.status?"none":""}})),!Ge&&!$e&&gt.createElement(f.j3,{permissions:[f.po.blueprints.components.delete]},gt.createElement(f.zx,{light:!0,title:"Copy",clicked:st,titleStyle:{fontSize:"14px"},style:{width:"100%",maxWidth:"180px"}})),!Ge&&!$e&&0==(null===X||void 0===X||null===(N=X.selectedBlueprintComponent)||void 0===N?void 0:N.readonly)&&gt.createElement(gt.Fragment,null,gt.createElement(f.j3,{permissions:[f.po.blueprints.components.delete]},gt.createElement(f.zx,{light:!0,title:"New",clicked:function(){Ye(!0),G({type:u.qY.resetSelectedBlueprintComponent})},titleStyle:{fontSize:"14px"},style:{width:"100%",maxWidth:"180px"}}),0===A.filter((function(e){return e.component_fields.filter((function(e){var t;return e.component_blueprint_id===(null===(t=X.selectedBlueprintComponent)||void 0===t?void 0:t.id)})).length>0})).length&&gt.createElement(f.zx,{light:!0,title:"Delete",loading:he,clicked:function(){Ne(!0),(0,ue.bp)(X.selectedBlueprintComponent.id).subscribe({next:function(){O.h.dispatch((0,m.Xc)({show:!0,message:"You have successfully deleted ".concat(X.selectedBlueprintComponent.name),color:"red"})),null===x||void 0===x||x(!0)},complete:function(){Ne(!1),null===M||void 0===M||M(!0)}})},titleStyle:{fontSize:"14px"},style:{width:"100%",maxWidth:"180px"}})))))),ee&&gt.createElement(Be,{onClose:function(){G({type:u.qY.setSelectedFieldFromSelectedBlueprintComponent,value:null}),Me(!1),Pe(!1),te(!1)},isOpen:ee,modalStyle:{minWidth:"500px",width:T.tq?"100%":"38%"},leftControlAction:function(e){return function(e){Pe(!0),G({type:u.qY.removeSelectedFieldFromSelectedBlueprintComponent,value:{id:e}}),Pe(!1),te(!1)}(e)},leftControlLoading:Te,centralControlAction:function(e){Me(!0),G({type:u.qY.setSelectedBlueprintComponentSpecificField,value:e}),Me(!1),te(!1)},centralControlLoading:xe,allModules:B,blueprints:F,components:A,companyProcesses:U,products:W,selectedFields:X.selectedBlueprintComponent.fields,readOnly:(null===X||void 0===X||null===(L=X.selectedBlueprintComponent)||void 0===L?void 0:L.readonly)&&"superadmin"!==j.status}))})),St=function(e){var t,l,n=e.id,o=e.value,i=e.field_type,r=O.h.getState().flowReducer.companyData,d=(0,u.aL)(),s=(0,a.Z)(d,2)[1];switch(null===i||void 0===i?void 0:i.data_type){case"file":case"date":return gt.createElement("input",{type:"input",placeholder:null===i||void 0===i?void 0:i.name,className:he,value:o,name:null===i||void 0===i?void 0:i.name,onChange:function(e){s({type:u.qY.setSelectedBlueprintComponentSpecificField,value:{id:n,value:e.target.value}})}});case"text":return gt.createElement("input",{type:null===i||void 0===i?void 0:i.data_type,placeholder:"Input name for "+(null===i||void 0===i?void 0:i.name),className:he,value:o,name:null===i||void 0===i?void 0:i.name,onChange:function(e){var t=e.target.value;s({type:u.qY.setSelectedBlueprintComponentSpecificField,value:{id:n,value:t}})}});case"output":return gt.createElement("input",{type:null===i||void 0===i?void 0:i.data_type,placeholder:"Insert value for "+(null===i||void 0===i||null===(t=i.name)||void 0===t?void 0:t.toLowerCase())+" element...",className:he,value:o,name:null===i||void 0===i?void 0:i.name,readOnly:"-"!==(null===r||void 0===r?void 0:r.id)&&"Template"===(null===i||void 0===i?void 0:i.name),onChange:function(e){var t=e.target.value;s({type:u.qY.setSelectedBlueprintComponentSpecificField,value:{id:n,value:t}})}});default:return gt.createElement("input",{type:null===i||void 0===i?void 0:i.data_type,placeholder:"Insert value for "+(null===i||void 0===i||null===(l=i.name)||void 0===l?void 0:l.toLowerCase())+" element...",className:he,value:o,name:null===i||void 0===i?void 0:i.name,onChange:function(e){var t=e.target.value;s({type:u.qY.setSelectedBlueprintComponentSpecificField,value:{id:n,value:t}})}})}},Et=function(e){var t=e.id,l=e.renderError,n=(e.fieldIcon,e.children),o=e.hasSettingsBtn,r=e.settingsClicked,d=e.name,s=(0,u.aL)(),c=(0,a.Z)(s,1)[0],m=(0,i.useState)(!1),p=(0,a.Z)(m,2),v=p[0],f=p[1],y=(0,i.useCallback)((function(){var e;return f(l&&(null===(e=c.validation.fields)||void 0===e?void 0:e.some((function(e){return(null===e||void 0===e?void 0:e.toString())===(null===t||void 0===t?void 0:t.toString())}))))}),[l,c.validation.fields,t]);return(0,i.useEffect)((function(){y()}),[l,t,c.validation.fields,y]),gt.createElement("div",{className:pe,"app-field-row-has-error":v?"error":""},gt.createElement("div",{className:ve},n),gt.createElement("p",{className:ye},d),o&&gt.createElement("button",{className:fe,onClick:function(){return r()}},gt.createElement(V.G,{icon:z.gr5,style:{width:"20px",height:"20px",color:"gray"}})))},_t=(0,r.$j)((function(e){var t=e.flowReducer,l=t.blueprints,n=t.allStatutes,o=t.selectedBlueprintComponent,a=t.allModules,i=t.componentTypes,r=t.components,d=t.products,u=t.companyData,s=t.companyProcesses,c=e.authReducer.authenticatedUser,m=e.modalsReducer;return{blueprints:l,allStatutes:n,selectedBlueprintComponent:o,allModules:a,componentTypes:i,components:r,products:d,companyData:u,companyProcesses:s,onBoardingModalsVisibility:m.onBoardingModalsVisibility,isOnboarding:m.isOnboarding,authenticatedUser:c}}),(function(e){return{onSetSelectedProStep:function(t){return e((0,m.Sc)(t))}}}))(bt),Zt=l(22590),wt=l(74165),Nt=l(15861),Lt=l(4942),It=l(28550),xt=l(88846),Mt=l(62169),kt=l(84634),Ot=l(9204),Tt=l(30401),Pt=l(62498),Bt=l(51791),Ft=l(97606),Dt=l(8284),At=l(12653),Wt=l(80121),Vt=l(31510),zt=l(97293),Rt=l(45987),jt=l(87462),Ut=!1,qt="data-dev-focus",Ht='a[href], button, input:not([type="hidden"]), [tabindex="0"], select, textarea',Kt=!1;if("undefined"!==typeof window&&"undefined"!==typeof document)try{var Xt=document.createElement("div");Xt.addEventListener("focus",(function(e){e.preventDefault(),e.stopPropagation()}),!0),Xt.focus(Object.defineProperty({},"preventScroll",{get:function(){Kt=!0}}))}catch(gn){}var Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.activeElement;try{return e.matches(":focus-visible")}catch(t){}return!1},Yt=function(e){var t=e.target&&"getAttribute"in e.target&&e.target;t&&null!=t.getAttribute(qt)&&requestAnimationFrame((function(){t.removeAttribute(qt)}))},Jt=function(){Ut||(Ut=!0,document.addEventListener("blur",Yt,!0))},Qt="StepComponents_renderComponent__+z3XW",$t="StepComponents_wrapper__3JMC9",el="StepComponents_mainContainer__zd1cq",tl="StepComponents_firstRow__XX+Ep",ll="StepComponents_pLabel__NLkqd",nl="StepComponents_icoContainer__RDLt2",ol="StepComponents_renderFieldOfComponent__YckNH",al="StepComponents_inheritedFieldNameContainer__OP5us",il="StepComponents_inheritedFieldName__Z3BI3",rl="StepComponents_inheritedFieldMandatoryMark__3Oe+t",dl="StepComponents_optionsContainer__yY3PK",ul="StepComponents_mandatoryContainer__CFmJm",sl="StepComponents_mandatoryIconContainer__CHSuP",cl="StepComponents_mandatorySVG__SrpT7",ml="StepComponents_notMandatory__fegWP",pl="StepComponents_mandatoryText__iZ04J",vl="StepComponents_typeText__+A6OQ",fl="StepComponents_visibilityContainer__er+Sk",yl="StepComponents_renderComponents__PxNBA",hl="StepComponents_noContentWrapperNewComponents__dQHs8",Cl="StepComponents_noContentWrapperContainerNewComponents__C+epL",gl="StepComponents_noContentParagraphNewComponents__9soSj",bl="StepComponents_firstRowControls__QK4Eb",Sl="StepComponents_renderSearchComponentsHost__LM0BX",El="StepComponents_showSearchComponentContainer__O7l8b",_l="StepComponents_showSearchComponentSelectWithSearchContainer__S0y1p",Zl="StepComponents_showSearchComponentSelectWithSearchAddComponentButton__5gcm8",wl="StepComponents_errorContainer__gR5Ss",Nl="StepComponents_peoplePositionsSelectBorderless__iOTkZ",Ll="StepComponents_peoplePositionsSelect__kisVR",Il="StepComponents_peoplePositionsSelectInput__PuuvP",xl="StepComponents_peoplePositionsSelectMenuOverlay__mivFp",Ml="StepComponents_peoplePositionsSelectMenuOverlayItem__mpsra",kl="StepComponents_listContainer__bnutj",Ol="StepComponents_accordionContainer__h-Kjc",Tl=l(60179),Pl=l(71600),Bl=l(67861),Fl=l(66918),Dl=(0,i.memo)((function(e){e.selectedProcess;var t=e.blueprints,l=e.companyPositionsArray,n=e.showAddButton,r=void 0===n||n,u=e.onEditChange,s=void 0===u?function(){}:u,m=(0,c._M)(),p=(0,a.Z)(m,2),y=p[0],h=p[1],C=(0,i.useState)([]),g=(0,a.Z)(C,2),b=g[0],S=g[1],E=(0,i.useState)(!1),_=(0,a.Z)(E,2),Z=_[0],w=_[1],N=(0,i.useCallback)((function(){var e,t,l,n;if(!(null!==y&&void 0!==y&&null!==(e=y.selectedStep)&&void 0!==e&&null!==(t=e.component_blueprints)&&void 0!==t&&t.length)>0)return S([]);var a=Fl.compose(Fl.map(Fl.assoc("hasStatus",(null===(l=Fl.pathOr("",["status","id"]))||void 0===l?void 0:l.length)>0)),Fl.map(Fl.assoc("hasTitle",(null===(n=Fl.flip(Fl.prop("title")))||void 0===n?void 0:n.length)>0)))(y.selectedStep.component_blueprints);S((0,o.Z)(a.map((function(e){return{value:e.id,uuid:e._uuid,title:e.title,component:e}}))))}),[y.selectedStep.component_blueprints]);(0,i.useEffect)((function(){N()}),[y.selectedStep.component_blueprints,N]);var L=(0,i.useCallback)((function(e){(0,ue.vG)(e.value).pipe((0,d.P)()).subscribe({next:function(e){var t={id:e.id,is_active:!0,is_inherited:!1,name:e.name,selected_fields:e.fields.map((function(e){var t,l,n,o,a;return{data_type:null===e||void 0===e||null===(t=e.field_type)||void 0===t?void 0:t.data_type,data_type_name:null===e||void 0===e||null===(l=e.field_type)||void 0===l?void 0:l.name,field_name:null!==(n=null===e||void 0===e?void 0:e.value)&&void 0!==n?n:null===e||void 0===e||null===(o=e.field_type)||void 0===o?void 0:o.name,id:e.id,index:e.index,mandatory:!1,options:null!==(a=null===e||void 0===e?void 0:e.options)&&void 0!==a?a:[],process_step_blueprint_field_id:e.id}})),status:{id:"",name:""},title:"",hasStatus:!1,hasTitle:!1,_uuid:(0,v.mR)(),new:!0};h({type:c.Cb.addNewComponentAtStep,value:t}),w((function(e){return!e}))},error:function(e){}})}),[h]);return Bl.createElement("div",{className:yl},(null===b||void 0===b?void 0:b.length)>0&&(null===b||void 0===b?void 0:b.map((function(e,t){var n;return Bl.createElement(Al,{onEditChange:function(t){s(t,e.component.id)},key:t+e.uuid,value:e.value,compUUID:e.uuid,title:(null===(n=e.title)||void 0===n?void 0:n.length)>0?e.title:"Select title...",companyPositionsArray:l})}))),Z?Bl.createElement(Vl,{onComponentSelect:L,blueprint_components:Fl.sortWith([Fl.ascend(Fl.prop("name"))])(t.filter((function(e){return Fl.not(Fl.includes(e.id,Fl.pipe(Fl.pluck("component_blueprints"),Fl.flatten,Fl.pipe(Fl.pluck("id")))(y.steps)))})).filter((function(e){return Fl.not(Fl.includes(e.id,Fl.pipe(Fl.pluck("value"))(b)))})))}):Bl.createElement("div",{className:hl,style:{display:0==r?"none":""}},Bl.createElement("div",{className:Cl},t.length>0?Bl.createElement(f.zx,{style:{height:"30px"},title:"Attach Component",clicked:function(){return w((function(e){return!e}))}}):Bl.createElement("p",{className:gl},"There are no available components. Create one first!"))))})),Al=(0,i.memo)((function(e){var t,l,r,u,s,m,p,v,y,h,C,g,b,S,E,_,Z,w,N,L,I,x,M,k,O,T,P,B,F,D,A,W,V,z,R,j,U,q,H,K,X,G,Y,J,Q,$,ee,te,le,ne=e.value,oe=e.title,ae=e.compUUID,ie=e.companyPositionsArray,re=e.show,de=void 0!==re&&re,ce=e.onEditChange,me=void 0===ce?function(){}:ce,pe=(0,i.useRef)(null),ve=(0,c._M)(),fe=(0,a.Z)(ve,2),ye=fe[0],he=fe[1],Ce=(0,i.useState)(Fl.find(Fl.allPass([Fl.propEq("_uuid",ae)]))(null!==(t=null===ye||void 0===ye||null===(l=ye.selectedStep)||void 0===l?void 0:l.component_blueprints)&&void 0!==t?t:[])),ge=(0,a.Z)(Ce,2),be=ge[0],Se=ge[1],Ee=(0,i.useState)(""),_e=(0,a.Z)(Ee,2),Ze=_e[0],we=_e[1],Ne=(0,i.useState)(!1),Le=(0,a.Z)(Ne,2)[1],Ie=(0,i.useState)(null!==(r=(null===be||void 0===be||null===(u=be.options)||void 0===u||null===(s=u.showOnly)||void 0===s?void 0:s.length)>0)&&void 0!==r&&r),xe=(0,a.Z)(Ie,2),Me=xe[0],Oe=xe[1],Te=(0,i.useState)(null===be||void 0===be||null===(m=be.options)||void 0===m?void 0:m.statusOnly),Pe=(0,a.Z)(Te,2),Be=(Pe[0],Pe[1],(0,i.useState)(!1)),Fe=(0,a.Z)(Be,2),De=Fe[0],Ae=Fe[1],We=(0,i.useState)(!1),Ve=(0,a.Z)(We,2),ze=Ve[0],Re=Ve[1],je=(0,i.useState)(null!==(p=null===be||void 0===be?void 0:be.new)&&void 0!==p?p:de),Ue=(0,a.Z)(je,2),qe=Ue[0],He=Ue[1],Ke=(0,i.useState)((function(){var e;return 0===(null===be||void 0===be||null===(e=be.selected_fields)||void 0===e?void 0:e.length)?[]:Fl.sortWith([Fl.ascend(Fl.prop("index"))])(be.selected_fields).map((function(e,t){return(0,n.Z)({},{id:"row-".concat(e.id),component:Bl.createElement(Wl,{key:"field-".concat(null===e||void 0===e?void 0:e.id).concat(t),fieldId:null===e||void 0===e?void 0:e.id,compId:ne,compUUID:ae,componentTitle:null===be||void 0===be?void 0:be.title,isKeyClicked:function(){var t,l=null===ye||void 0===ye||null===(t=ye.selectedStep)||void 0===t?void 0:t.component_blueprints.find((function(e){return e.id===ne}));l.options.key=e.field_name,he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ae,compBluePrintId:ne,options:l.options}})},isLeftClicked:function(){var t,l,a,i,r,d,u=null===ye||void 0===ye||null===(t=ye.selectedStep)||void 0===t?void 0:t.component_blueprints.find((function(e){return e.id===ne}));null!==(l=u.options)&&void 0!==l&&null!==(a=l.left)&&void 0!==a&&a.find((function(t){return t===e.field_name}))?u.options=(0,n.Z)((0,n.Z)({},u.options),{},{left:null===(i=u.options)||void 0===i?void 0:i.left.filter((function(t){return t!==e.field_name}))}):u.options=(0,n.Z)((0,n.Z)({},u.options),{},{left:[].concat((0,o.Z)(null!==(r=null===(d=u.options)||void 0===d?void 0:d.left)&&void 0!==r?r:[]),[e.field_name])});he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ae,compBluePrintId:ne,isInherited:!1,options:u.options}})},component:be})})}))})),Xe=(0,a.Z)(Ke,2),Ge=Xe[0],Ye=Xe[1];(0,i.useEffect)((function(){var e,t,l=Fl.find(Fl.allPass([Fl.propEq("_uuid",ae)]))(null!==(e=null===ye||void 0===ye||null===(t=ye.selectedStep)||void 0===t?void 0:t.component_blueprints)&&void 0!==e?e:[]);Se(l)}),[null===ye||void 0===ye||null===(v=ye.selectedStep)||void 0===v?void 0:v.component_blueprints,ne]);var Je=(0,i.useCallback)((function(){Ae(!0),(0,ue.vG)(be.id).pipe((0,d.P)()).subscribe({next:function(e){Ae(!1);var t=e.fields.map((function(e){var t,l,n,o,a,i=be.selected_fields.find((function(t){return t.id===e.id}));return i?(i.options=null===e||void 0===e?void 0:e.options,i):(we({title:"Change in fields found, please save this step"}),He(!0),{data_type:null===e||void 0===e||null===(t=e.field_type)||void 0===t?void 0:t.data_type,data_type_name:null===e||void 0===e||null===(l=e.field_type)||void 0===l?void 0:l.name,field_name:null!==(n=null===e||void 0===e?void 0:e.value)&&void 0!==n?n:null===e||void 0===e||null===(o=e.field_type)||void 0===o?void 0:o.name,id:e.id,index:e.index,mandatory:!1,options:null!==(a=null===e||void 0===e?void 0:e.options)&&void 0!==a?a:[],process_step_blueprint_field_id:e.id})}));t.length<be.selected_fields.length&&(we({title:"A field was removed, please save this step"}),He(!0)),be.selected_fields=t,he({type:c.Cb.updateComponentAtStep,value:be}),Ye((function(){var e;return 0===(null===be||void 0===be||null===(e=be.selected_fields)||void 0===e?void 0:e.length)?[]:Fl.sortWith([Fl.ascend(Fl.prop("index"))])(be.selected_fields).map((function(e,t){var l,a,i;return(0,n.Z)({},{id:"row-".concat(e.id),component:Bl.createElement(Wl,{key:"field-".concat(null===e||void 0===e?void 0:e.id).concat(t),fieldId:null===e||void 0===e?void 0:e.id,compId:ne,compUUID:ae,componentTitle:null===be||void 0===be?void 0:be.title,isKeyClicked:function(){Se((0,n.Z)((0,n.Z)({},be),{},{options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{key:e.field_name})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ae,compBluePrintId:be.id,isInherited:!1,options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{key:e.field_name})}})},isKey:(null===be||void 0===be||null===(l=be.options)||void 0===l?void 0:l.key)===e.field_name,isLeft:!(null===be||void 0===be||null===(a=be.options)||void 0===a||null===(i=a.left)||void 0===i||!i.find((function(t){return t===e.field_name}))),isLeftClicked:function(){var t,l,a,i,r,d,u,s,m,p;null!==be&&void 0!==be&&null!==(t=be.options)&&void 0!==t&&null!==(l=t.left)&&void 0!==l&&l.find((function(t){return t===e.field_name}))?(Se((0,n.Z)((0,n.Z)({},be),{},{options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{left:null===be||void 0===be||null===(a=be.options)||void 0===a||null===(i=a.left)||void 0===i?void 0:i.filter((function(t){return t!==e.field_name}))})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ae,compBluePrintId:be.id,isInherited:!1,options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{left:null===be||void 0===be||null===(r=be.options)||void 0===r||null===(d=r.left)||void 0===d?void 0:d.filter((function(t){return t!==e.field_name}))})}})):(Se((0,n.Z)((0,n.Z)({},be),{},{options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{left:[].concat((0,o.Z)(null!==(u=null===be||void 0===be||null===(s=be.options)||void 0===s?void 0:s.left)&&void 0!==u?u:[]),[e.field_name])})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ae,compBluePrintId:be.id,isInherited:!1,options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{left:[].concat((0,o.Z)(null!==(m=null===be||void 0===be||null===(p=be.options)||void 0===p?void 0:p.left)&&void 0!==m?m:[]),[e.field_name])})}}))},component:be})})}))})),Se((0,n.Z)((0,n.Z)({},be),{},{selected_fields:t}))},error:function(e){Ae(!1)}})}),[he]),Qe=(0,i.useCallback)((function(){he({type:c.Cb.removeComponentFromStep,value:{uuid:ae}})}),[ae]);(0,i.useEffect)((function(){!function(e,t){var l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e||l&&!Kt||(t&&(!0===t&&(t=Ht),e=e.querySelector(t)),null!=e&&requestAnimationFrame((function(){e&&(-1==e.tabIndex&&null==e.getAttribute("tabindex")&&(e.tabIndex=-1),Gt()||(e.setAttribute(qt,""),Ut||Jt()),e.focus({preventScroll:!0}))})))}(null===pe||void 0===pe?void 0:pe.current,!0)}),[null===be||void 0===be?void 0:be.title]);var $e=(0,i.useMemo)((function(){return[{Header:"Component",columns:[{Header:"Component",accessor:"component"}]}]}),[]);return Bl.createElement(f.sm,{key:ne+oe,className:Qt,"comp-in-edit-mode":qe?"true":null,"app-variant":(null===(y=Ze.title)||void 0===y?void 0:y.length)>0||(null===(h=Ze.status)||void 0===h?void 0:h.length)>0?"error":"normal",onClickOutside:function(){Le(!0)}},Bl.createElement(f.gc,{title:"".concat(1==(null===be||void 0===be||null===(C=be.options)||void 0===C?void 0:C.allowMultipleInputs)?"Transaction":!0===(null===be||void 0===be||null===(g=be.options)||void 0===g?void 0:g.asReport)?"Report":!0===(null===be||void 0===be||null===(b=be.options)||void 0===b?void 0:b.asDashboard)?"Dashboard":!0===(null===be||void 0===be||null===(S=be.options)||void 0===S?void 0:S.asModuleList)?"Main List":"Component",":")}),Bl.createElement("div",{className:$t},Bl.createElement("div",{className:el},Bl.createElement("div",{className:tl},Bl.createElement("p",{className:ll,onClick:function(){return me(be.id)}},null===be||void 0===be?void 0:be.name),Bl.createElement("div",{className:bl},qe&&Bl.createElement(f.zx,{loadingIn:De,light:!0,icon:Bl.createElement("img",{src:ke.Fd}),style:{height:"30px"},clicked:function(){return Je()}}),qe&&Bl.createElement(f.zx,{light:!0,style:{height:"30px"},title:"Remove",clicked:function(){return Qe()}}),Bl.createElement("div",{className:nl,onClick:function(){He((function(e){return!e}))}},Bl.createElement(ke.Kn,{style:{transform:qe?"rotate(180deg)":"rotate(0deg)"}})))),(null===(E=Ze.title)||void 0===E?void 0:E.length)>0&&Bl.createElement("span",{className:wl},Ze.title))),ze&&Bl.createElement(f.U7,{hasCloseIcon:!0,onClose:function(){return Re(!1)},scrollable:!0,shadowedContainerStyle:{minWidth:"500px",width:"100%"},isOpen:ze,blured:!0},Bl.createElement("div",{style:{backgroundColor:"rgb(246, 244, 236)",width:"inherit"}},Bl.createElement("div",{className:kl,style:{display:"flex",margin:"150px 50px 50px 50px"}},Bl.createElement("div",{className:Ol,style:{margin:"30px 0 0 0"}},Bl.createElement(Pl.g,{component:be,selectedComponent:{id:"",name:""},isDraft:!0,setTaskProcessContext:function(){},processTaskContext:{components:[],newStepComponents:[]}}))))),qe&&Bl.createElement("div",{style:{flex:1,width:"100%"}},Bl.createElement(f.jL,{ref:pe,ungrouped:!0,title:"Drag to arrange Component Fields:",columned:!0,withAckButton:!1},Bl.createElement("br",null),Bl.createElement(Tl.z0,null,Bl.createElement(Tl.iA,{columns:$e,data:Ge,onhandleDragEnd:function(e){e.map((function(e,t){he({type:c.Cb.updateComponentFieldIndexKeyValue,value:{compBluePrintUUID:e.component.props.compUUID,compBluePrintId:e.component.props.compId,fieldId:e.component.props.fieldId,index:t}})})),Ye(e)}}))),Bl.createElement(f.pd,{id:"moduleList",title:"Use as Transactions List",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ye&&void 0!==ye&&null!==(_=ye.selectedStep)&&void 0!==_&&null!==(Z=_.options)&&void 0!==Z&&Z.templateName||1!=(null===ye||void 0===ye||null===(w=ye.selectedStep)||void 0===w?void 0:w.rank)||1==(null===be||void 0===be||null===(N=be.options)||void 0===N?void 0:N.asDashboard)||1==(null===be||void 0===be||null===(L=be.options)||void 0===L?void 0:L.asReport)?"none":""},value:null!==(I=null===be||void 0===be||null===(x=be.options)||void 0===x?void 0:x.asModuleList)&&void 0!==I&&I,toggleSelected:function(e){Se((0,n.Z)((0,n.Z)({},be),{},{options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{asReport:!1,asDashboard:!1,asModuleList:e})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ae,compBluePrintId:be.id,isInherited:!1,options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{asReport:!1,asDashboard:!1,asModuleList:e})}})}}),Bl.createElement(f.pd,{id:"asReport",title:"Use as a report?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ye&&void 0!==ye&&null!==(M=ye.selectedStep)&&void 0!==M&&null!==(k=M.options)&&void 0!==k&&k.templateName||1!=(null===ye||void 0===ye||null===(O=ye.selectedStep)||void 0===O?void 0:O.rank)||1==(null===be||void 0===be||null===(T=be.options)||void 0===T?void 0:T.asModuleList)||1==(null===be||void 0===be||null===(P=be.options)||void 0===P?void 0:P.asDashboard)?"none":""},value:null!==(B=null===be||void 0===be||null===(F=be.options)||void 0===F?void 0:F.asReport)&&void 0!==B&&B,toggleSelected:function(e){Se((0,n.Z)((0,n.Z)({},be),{},{options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{asModuleList:!1,asDashboard:!1,asReport:e})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ae,compBluePrintId:be.id,isInherited:!1,options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{asModuleList:!1,asDashboard:!1,asReport:e})}})}}),Bl.createElement(f.pd,{id:"asDashboard",title:"View as dashboard?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ye&&void 0!==ye&&null!==(D=ye.selectedStep)&&void 0!==D&&null!==(A=D.options)&&void 0!==A&&A.templateName||1!=(null===ye||void 0===ye||null===(W=ye.selectedStep)||void 0===W?void 0:W.rank)||1==(null===be||void 0===be||null===(V=be.options)||void 0===V?void 0:V.asModuleList)||1==(null===be||void 0===be||null===(z=be.options)||void 0===z?void 0:z.asReport)?"none":""},value:null!==(R=null===be||void 0===be||null===(j=be.options)||void 0===j?void 0:j.asDashboard)&&void 0!==R&&R,toggleSelected:function(e){Se((0,n.Z)((0,n.Z)({},be),{},{options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{asReport:!1,asModuleList:!1,asDashboard:e})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ae,compBluePrintId:be.id,isInherited:!1,options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{asReport:!1,asModuleList:!1,asDashboard:e})}})}}),Bl.createElement(f.pd,{id:"multipleInputs",title:"Allow multiple inputs?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ye&&void 0!==ye&&null!==(U=ye.selectedStep)&&void 0!==U&&null!==(q=U.options)&&void 0!==q&&q.templateName||1==(null===be||void 0===be||null===(H=be.options)||void 0===H?void 0:H.asModuleList)||1==(null===be||void 0===be||null===(K=be.options)||void 0===K?void 0:K.asReport)||1==(null===be||void 0===be||null===(X=be.options)||void 0===X?void 0:X.asDashboard)?"none":be.selected_fields.filter((function(e){var t;return null===(t=e.options)||void 0===t?void 0:t.mapToItem})).length>0&&be.selected_fields.find((function(e){return"Transaction List"===e.data_type_name}))?"":"none"},value:null!==(G=null===be||void 0===be||null===(Y=be.options)||void 0===Y?void 0:Y.allowMultipleInputs)&&void 0!==G&&G,toggleSelected:function(e){Se((0,n.Z)((0,n.Z)({},be),{},{options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{allowMultipleInputs:e})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ae,compBluePrintId:be.id,isInherited:!1,options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{allowMultipleInputs:e})}})}}),Bl.createElement(f.pd,{id:"showAll",title:"Show component to all?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ye&&void 0!==ye&&null!==(J=ye.selectedStep)&&void 0!==J&&null!==(Q=J.options)&&void 0!==Q&&Q.templateName?"none":""},value:!Me,toggleSelected:function(e){Oe(!e)}}),Bl.createElement(f.jL,{style:{display:null!==ye&&void 0!==ye&&null!==($=ye.selectedStep)&&void 0!==$&&null!==(ee=$.options)&&void 0!==ee&&ee.templateName?"none":Me?"":"none"},ref:pe,ungrouped:!0,title:"Only show this component to:",columned:!0,withAckButton:!1},Bl.createElement("br",null),Bl.createElement(se.Cm,{tagEmplacement:"inlined",searchable:!1,items:ie,groupedBy:"department",groupname:"department",triggerType:"chevron",initialSelectedValues:null===be||void 0===be||null===(te=be.options)||void 0===te||null===(le=te.showOnly)||void 0===le?void 0:le.map((function(e){return ie.find((function(t){return t.value===e}))})),className:Ll,inputClassName:Il,molclassname:xl,moliclassname:Ml,onChange:function(e){Se((0,n.Z)((0,n.Z)({},be),{},{options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{showOnly:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))})})),he({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ae,compBluePrintId:be.id,isInherited:!1,options:(0,n.Z)((0,n.Z)({},null===be||void 0===be?void 0:be.options),{},{showOnly:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))})}})}}))))}),(function(e,t){return t.props===e.props})),Wl=(0,i.memo)((function(e){var t,l,n,o,r,d,u,s,m,p,v,f=e.fieldId,y=e.compId,h=e.compUUID,C=e.componentTitle,g=e.isKeyClicked,b=e.isLeftClicked,S=(0,c._M)(),E=(0,a.Z)(S,2),_=E[0],Z=E[1],w=(0,i.useState)(!1),N=(0,a.Z)(w,2),L=N[0],I=N[1],x=(0,i.useCallback)((function(){var e,t,l,n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Fl.find(Fl.propEq("_uuid",e))(t)}(h,null!==(e=null===_||void 0===_||null===(t=_.selectedStep)||void 0===t?void 0:t.component_blueprints)&&void 0!==e?e:[]);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Fl.find(Fl.propEq("id",e))(t)}(f,null!==(l=null===n||void 0===n?void 0:n.selected_fields)&&void 0!==l?l:[])}),[y,f,null===_||void 0===_||null===(t=_.selectedStep)||void 0===t?void 0:t.component_blueprints]),M=function(e){return I(e)},k=(0,i.useState)(x()),O=(0,a.Z)(k,2),T=O[0],P=O[1];(0,i.useEffect)((function(){P(x())}),[x,_.selectedStep.component_blueprints]);var B=(0,i.useCallback)((function(){var e,t;M(!1),(null===(e=null!==(t=null===C||void 0===C?void 0:C.split(", "))&&void 0!==t?t:[])||void 0===e?void 0:e.some((function(e){return(null===e||void 0===e?void 0:e.toLowerCase())==(null===T||void 0===T?void 0:T.field_name.toLowerCase())})))&&M(!0)}),[C,null===T||void 0===T?void 0:T.field_name]);(0,i.useEffect)((function(){B()}),[]),(0,i.useEffect)((function(){var e,t;M(!1),(null===(e=null!==(t=null===C||void 0===C?void 0:C.split(", "))&&void 0!==t?t:[])||void 0===e?void 0:e.some((function(e){return(null===e||void 0===e?void 0:e.toLowerCase())==(null===T||void 0===T?void 0:T.field_name.toLowerCase())})))&&M(!0)}),[y,C,B,null===T||void 0===T?void 0:T.field_name,null===_||void 0===_||null===(l=_.selectedStep)||void 0===l?void 0:l.component_blueprints]);var F=(0,i.useCallback)((function(e){!L&&(null===y||void 0===y?void 0:y.length)>0&&Z({type:c.Cb.updateComponentFieldKeyValue,value:{compBluePrintUUID:h,compBluePrintId:y,isInherited:!1,fieldId:f,visible:e,index:null===T||void 0===T?void 0:T.index,mandatory:0!=e&&("output"!==T.data_type&&(null===T||void 0===T?void 0:T.mandatory))}})}),[y,h,null===T||void 0===T?void 0:T.mandatory,f,L,Z,null===T||void 0===T?void 0:T.index]),D=(0,i.useCallback)((function(e){!L&&(null===y||void 0===y?void 0:y.length)>0&&Z({type:c.Cb.updateComponentFieldKeyValue,value:{compBluePrintUUID:h,compBluePrintId:y,isInherited:!1,fieldId:f,mandatory:"output"!==T.data_type&&e,index:null===T||void 0===T?void 0:T.index,visible:1==e||(null===T||void 0===T?void 0:T.visible)}})}),[y,h,null===T||void 0===T?void 0:T.visible,f,L,Z,null===T||void 0===T?void 0:T.index]);return Bl.createElement("div",{className:ol,"app-variant":L?"read-only":"editable","app-color":null!==T&&void 0!==T&&T.visible?"active":"inactive",tabIndex:"0"},Bl.createElement("div",{className:al},Bl.createElement("p",{className:il},null===T||void 0===T?void 0:T.field_name),Bl.createElement("p",{className:rl},(null===T||void 0===T?void 0:T.mandatory)&&"*")),Bl.createElement("p",{className:vl},T.data_type_name),Bl.createElement("span",{className:dl},Bl.createElement("div",{className:ul,onClick:function(){D(!(null!==T&&void 0!==T&&T.mandatory))}},"output"!==T.data_type&&"ID"!==T.data_type_name&&Bl.createElement("span",{className:sl},null!==T&&void 0!==T&&T.mandatory?Bl.createElement(ke.H_,{className:cl}):Bl.createElement("div",{className:ml})),"output"!==T.data_type&&"ID"!==T.data_type_name&&Bl.createElement("p",{className:pl},L?"":"Required")),"output"!==T.data_type&&"ID"!==T.data_type_name&&Bl.createElement(V.G,{icon:z.DD4,style:{marginRight:"5px",color:(null===_||void 0===_||null===(n=_.selectedStep)||void 0===n||null===(o=n.component_blueprints)||void 0===o||null===(r=o.find((function(e){return e.id===y})))||void 0===r||null===(d=r.options)||void 0===d?void 0:d.key)===(null===T||void 0===T?void 0:T.field_name)?"black":"lightgray"},onClick:g}),Bl.createElement(V.G,{icon:z.AiD,style:{marginRight:"5px",color:null!==_&&void 0!==_&&null!==(u=_.selectedStep)&&void 0!==u&&null!==(s=u.component_blueprints)&&void 0!==s&&null!==(m=s.find((function(e){return e.id===y})))&&void 0!==m&&null!==(p=m.options)&&void 0!==p&&null!==(v=p.left)&&void 0!==v&&v.find((function(e){return e===(null===T||void 0===T?void 0:T.field_name)}))?"black":"lightgray"},onClick:b}),Bl.createElement("div",{className:fl,onClick:function(){F(!(null!==T&&void 0!==T&&T.visible))}},void 0==(null===T||void 0===T?void 0:T.visible)||null!==T&&void 0!==T&&T.visible?Bl.createElement(ke.Ch,null):Bl.createElement(ke.vV,null))))})),Vl=function(e){var t,l=e.onComponentSelect,n=e.blueprint_components,o=(0,i.useState)(n),r=(0,a.Z)(o,1)[0],d=(0,i.useState)(!0),u=(0,a.Z)(d,2),s=u[0],c=u[1],m=(0,i.useState)({}),p=(0,a.Z)(m,2),f=p[0],y=p[1];return Bl.createElement("div",{className:Sl},s?Bl.createElement("div",{className:El,"app-display-variant":s?"table-row":"none"},Bl.createElement("div",{className:_l},Bl.createElement(se.yV,{placeholder:"Select component to attach ...",items:r.map((function(e){return{value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.name,type:!0===(null===e||void 0===e?void 0:e.readonly)?"Template":(0,v.m)(null===e||void 0===e?void 0:e.name)}})),id:"select-step-new-blueprint-component",initialSelectedValues:[],groupedBy:"type",groupname:"type",inputStyle:{cursor:"pointer"},className:Nl,inputClassName:Il,molclassname:xl,moliclassname:Ml,onChange:function(e){(null===e||void 0===e?void 0:e.length)>0?y(e[0]):y({value:"",label:""})}},Bl.createElement(V.G,{className:"fa-icon",icon:z.ptq,style:{marginRight:"20px",color:"gray"}})),(null===f||void 0===f||null===(t=f.value)||void 0===t?void 0:t.length)>0&&Bl.createElement("button",{type:"button",className:Zl},Bl.createElement(ke.H_,{onClick:function(){l(f),c((function(e){return!e}))}})))):Bl.createElement("p",{style:{textAlign:"center",marginBottom:"auto",color:"var(--app-color-gray-light)",fontFamily:"var(--app-text-main-font)",fontSize:"16px",marginTop:"20px",lineHeight:"32px"}},"Finish adding your previous component to add another."))},zl=l(64468),Rl="StepData_multiselectWithSearch__FVnWX",jl="StepData_smoMultiselectParent__kAn4t",Ul="StepData_selectMenuItem__i040a",ql="StepData_inputClassName__U3j-5",Hl="StepData_peoplePositionsSelect__FZEAk",Kl="StepData_peoplePositionsSelectInput__4N5AT",Xl="StepData_peoplePositionsSelectMenuOverlay__VU2s4",Gl="StepData_peoplePositionsSelectMenuOverlayItem__xI2Zj",Yl=(0,i.createRef)(null),Jl={parentSteps:{id:"parentStep",title:"Parent Step",placeholder:"Select steps here...",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},stepName:{id:"stepName",title:"Step Name",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},guidance:{id:"guidance",title:"Description",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},rank:{id:"rank",title:"Rank",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},newComponents:{id:"newComponents",title:"Components to be used in this step",defaultHighlighted:!0,readOnly:!0,otherContent:!0,withAckButton:!1,useContext:c.QJ},pathwayOptions:{id:"pathwayOptions",title:"Branch to the following steps",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},isFinalStep:{id:"isFinalStep",title:"Is this the final step of this workflow?",ungrouped:!0,withAckButton:!1,useContext:c.QJ},stepTemplate:{id:"stepTemplate",title:"Custom Template",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},showStepAll:{id:"showStep",title:"Show step to all?",ungrouped:!0,withAckButton:!1,useContext:c.QJ},showStepAuthor:{id:"showStepAuthor",title:"Only show step to author?",ungrouped:!0,withAckButton:!1,useContext:c.QJ},showAsTabbed:{id:"showAsTabbed",title:"Use tabs for components?",ungrouped:!0,withAckButton:!1,useContext:c.QJ},deleteOnBack:{id:"deleteOnBack",title:"Delete step inputs made on back?",ungrouped:!0,withAckButton:!1,useContext:c.QJ}},Ql=l(74369),$l=l(32086),en=l(67861),tn=["percentualWidth","children","style"],ln=function(e){var t=e.percentualWidth,l=e.children,o=e.style,a=(0,Rt.Z)(e,tn);return en.createElement("div",(0,jt.Z)({style:(0,n.Z)({width:t},o)},a),l)},nn=(0,r.$j)((function(e){var t=e.flowReducer;return{blueprints:t.blueprints,allStatutes:t.allStatutes,selectedProcess:t.selectedProcess,selectedProStep:t.selectedProStep,companyData:t.companyData,companyPositionsArray:t.companyPositionsArray}}),(function(e){return{onSetSelectedProStep:function(t){return e((0,m.Sc)(t))},onSetSelectedProStepOptions:function(t){return e((0,m.Jk)(t))}}}))((function(e){var t,l,r,u,s,m,y,h,C,g,b,S,E,_,Z,w,N,L,I,x,M,k,O,T,P,B,F,D,A,W,V,z,R,j,U,q,H,K,X,G,Y,J,Q=e.onSetSelectedProStep,$=e.selectedProcess,ee=e.companyPositionsArray,te=e.blueprints,le=(e.companyData,e.onEditChange),ne=void 0===le?function(){}:le,oe=(0,c._M)(),ae=(0,a.Z)(oe,2),ie=ae[0],re=ae[1],de=(0,i.useState)([]),ue=(0,a.Z)(de,2),ce=ue[0],me=ue[1],pe=(0,i.useState)(!1),ve=(0,a.Z)(pe,2),fe=ve[0],ye=ve[1],he=(0,i.useState)([]),Ce=(0,a.Z)(he,2),ge=(Ce[0],Ce[1]),be=(0,i.useState)(!1),Se=(0,a.Z)(be,2),Ee=(Se[0],Se[1]),_e=(0,i.useState)([]),Ze=(0,a.Z)(_e,2),we=(Ze[0],Ze[1]),Ne=(0,i.useState)(null!==(t=null===(l=ie.selectedStep)||void 0===l||null===(r=l.options)||void 0===r?void 0:r.useCustomTemplate)&&void 0!==t&&t),Le=(0,a.Z)(Ne,2),Ie=Le[0],xe=(Le[1],(0,i.useState)({parentSteps:"",stepName:"",estimatedTime:"",guidance:"",inheritedComponents:"",newComponents:"",pathwayOptions:""})),Me=(0,a.Z)(xe,2),Oe=Me[0],Te=Me[1],Pe=(0,v.DJ)();(0,i.useEffect)((function(){var e,t;0==(null===(e=ie.selectedStep)||void 0===e||null===(t=e.options)||void 0===t?void 0:t.is_start_next_process)&&re({type:c.Cb.updateSelectedStepPathways,value:(0,o.Z)(ie.selectedStep.pathway_steps)})}),[null===(u=ie.selectedStep)||void 0===u||null===(s=u.options)||void 0===s?void 0:s.is_start_next_process]),(0,i.useEffect)((function(){Fe()}),[ie.selectedStep]),(0,i.useEffect)((function(){ye(!0),(0,p.hI)({processId:$.id,parentsOnly:1}).pipe((0,d.P)()).subscribe({next:function(e){var t,l;(null===e||void 0===e?void 0:e.length)>0?Pe()&&me((0,o.Z)(xt.Z(Ql.Z((function(e,t){return e.concat({rank:t.rank,label:t.name,value:t.id})}),[]),$l.Z(Dt.Z("id",null===(l=ie.selectedStep)||void 0===l?void 0:l.id)))(e))):null!==(t=ie.selectedStep)&&void 0!==t&&t.isNewStep&&!Ft.Z(Dt.Z("is_start",!0))(null===ie||void 0===ie?void 0:ie.steps)&&Pe()&&me([]);Pe()&&ye(!1),Pe()&&Be()},error:function(e){Pe()&&ye(!1)}})}),[]);var Be=function(){var e,t,l;"newDefaultStep"!==(null===(e=ie.selectedStep)||void 0===e?void 0:e.id)&&""!==(null===ie||void 0===ie||null===(t=ie.selectedStep)||void 0===t?void 0:t.id)&&(Ee(!0),(0,p.hI)({processId:$.id,pathways:1,forStepId:null===(l=ie.selectedStep)||void 0===l?void 0:l.id}).pipe((0,d.P)()).subscribe({next:function(e){if(e)try{var t,l,n,a,i,r,d=$l.Z(Dt.Z("id",null===ie||void 0===ie||null===(t=ie.selectedStep)||void 0===t?void 0:t.id),null!==(l=null===e||void 0===e?void 0:e.steps)&&void 0!==l?l:[]),u=null!==(n=$l.Z(Dt.Z("id",$.id),null!==(a=e.processes)&&void 0!==a?a:[]))&&void 0!==n?n:[],s=[].concat((0,o.Z)(null!==(i=null===d||void 0===d?void 0:d.map((function(e){return{value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.name,rank:null===e||void 0===e?void 0:e.rank,icon:ke.CH,type:"step"}})))&&void 0!==i?i:[]),(0,o.Z)(null!==(r=null===u||void 0===u?void 0:u.map((function(e){return{value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.name,icon:ke.IR,type:"process"}})))&&void 0!==r?r:[]));s&&(Ee(!1),ge(s),Ee(!1)),we([].concat((0,o.Z)(d),(0,o.Z)(u)))}catch(c){Ee(!1)}else me([]),Ee(!1)},error:function(e){Ee(!1)}}))},Fe=(0,i.useCallback)((function(){}),[ie.steps,ie.selectedStep]),De=(0,o.Z)(Ql.Z((function(e,t){return e.concat({value:t.id,label:t.name})}),[])(null!==(m=null===ie||void 0===ie||null===(y=ie.selectedStep)||void 0===y?void 0:y.parent_steps)&&void 0!==m?m:[])),Ae=null===ie||void 0===ie||null===(h=ie.selectedStep)||void 0===h||null===(C=h.pathway_processes)||void 0===C?void 0:C.concat(null===ie||void 0===ie||null===(g=ie.selectedStep)||void 0===g?void 0:g.pathway_steps),We=((null===Ae||void 0===Ae?void 0:Ae.length)>0&&(null===(b=Vt.Z(Ae))||void 0===b||b.map((function(e){return null===e||void 0===e?void 0:e.name})).join(", ")),(0,i.useCallback)((function(){var e,t,l,o,a,i,r,d,u,s,c,m,p,v,f,y,h,C,g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",b={parentSteps:"Step must be connected to at least one other step",stepName:"Step name is mandatory",guidance:"Short description of step is mandatory",inheritedComponents:"Some inherited component have missing required information",newComponents:"Some new component have missing required informations",pathwayOptions:"Error inside Pathway Options"},S=(0,n.Z)({},Oe);if(g)switch(g){case"stepName":S.stepName="string"==typeof(null===ie||void 0===ie||null===(e=ie.selectedStep)||void 0===e?void 0:e.name)&&(null===ie||void 0===ie||null===(t=ie.selectedStep)||void 0===t||null===(l=t.name)||void 0===l?void 0:l.length)>0?"":b.stepName;break;case"guidance":S.guidance="string"==typeof(null===ie||void 0===ie||null===(o=ie.selectedStep)||void 0===o?void 0:o.guidance)&&(null===ie||void 0===ie||null===(a=ie.selectedStep)||void 0===a||null===(i=a.guidance)||void 0===i?void 0:i.length)>0?"":b.guidance;break;case"newComponents":var E,_,Z,w,N;S.newComponents=Array.isArray(null===ie||void 0===ie||null===(E=ie.selectedStep)||void 0===E?void 0:E.component_blueprints)?b.newComponents:"";var L=null===ie||void 0===ie||null===(_=ie.selectedStep)||void 0===_||null===(Z=_.component_blueprints)||void 0===Z?void 0:Z.find((function(e){var t;return!(null!==e&&void 0!==e&&e.status)||""==(null===e||void 0===e?void 0:e.status)||""==(null===e||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id)}));L&&(S.newComponents="Invalid status in new blueprints components");var I=null===ie||void 0===ie||null===(w=ie.selectedStep)||void 0===w||null===(N=w.component_blueprints)||void 0===N?void 0:N.find((function(e){return!(null!==e&&void 0!==e&&e.title)||""==(null===e||void 0===e?void 0:e.title)}));I&&(S.newComponents+="\nInvalid title in new blueprints components");break;case"pathwayOptions":S.pathwayOptions=Array.isArray(null===ie||void 0===ie||null===(r=ie.selectedStep)||void 0===r?void 0:r.pathway_steps)&&Array.isArray(null===ie||void 0===ie||null===(d=ie.selectedStep)||void 0===d?void 0:d.pathway_processes)?"":b.pathwayOptions;break;default:S.stepName="string"==typeof(null===ie||void 0===ie||null===(u=ie.selectedStep)||void 0===u?void 0:u.name)&&(null===ie||void 0===ie||null===(s=ie.selectedStep)||void 0===s||null===(c=s.name)||void 0===c?void 0:c.length)>0?"":b.stepName,S.guidance="string"==typeof(null===ie||void 0===ie||null===(m=ie.selectedStep)||void 0===m?void 0:m.guidance)&&(null===ie||void 0===ie||null===(p=ie.selectedStep)||void 0===p||null===(v=p.guidance)||void 0===v?void 0:v.length)>0?"":b.guidance,S.inheritedComponents=Array.isArray(null===ie||void 0===ie||null===(f=ie.selectedStep)||void 0===f?void 0:f.component_blueprints)?"":b.inheritedComponents,S.newComponents=Array.isArray(null===ie||void 0===ie||null===(y=ie.selectedStep)||void 0===y?void 0:y.component_blueprints)?"":b.newComponents,S.pathwayOptions=Array.isArray(null===ie||void 0===ie||null===(h=ie.selectedStep)||void 0===h?void 0:h.pathway_steps)&&Array.isArray(null===ie||void 0===ie||null===(C=ie.selectedStep)||void 0===C?void 0:C.pathway_processes)?"":b.pathwayOptions}return Te(S),S}),[null===ie||void 0===ie?void 0:ie.selectedStep,Oe])),Ve=!Ft.Z(Dt.Z("is_start",!0))($l.Z(Dt.Z("id",ie.selectedStep.id),null===ie||void 0===ie?void 0:ie.steps))||1==(null===ie||void 0===ie||null===(S=ie.selectedStep)||void 0===S?void 0:S.is_start);return en.createElement("div",null,en.createElement(ln,{percentualWidth:"100%",style:{marginBottom:"10px"}},en.createElement(f.Lb,{title:"Step Name"}),en.createElement(f.n2,(0,jt.Z)({},Jl.stepName,{title:"",value:null===(E=ie.selectedStep)||void 0===E?void 0:E.name,sectionError:Oe.stepName,onOpenChanged:function(e){!e&&We("stepName")}}),en.createElement(f.WH,{onControlTouched:function(){},placeholder:"Insert step name...",text:null===(_=ie.selectedStep)||void 0===_?void 0:_.name,onTextChanged:function(e){re({type:c.Cb.updateSelectedStepKeyValue,value:{name:e}}),Q({name:e})}}))),en.createElement(ln,{percentualWidth:"100%"},en.createElement(f.Lb,{title:"Description"}),en.createElement(f.n2,(0,jt.Z)({},Jl.guidance,{title:"",value:null===(Z=ie.selectedStep)||void 0===Z?void 0:Z.guidance,sectionError:Oe.guidance}),en.createElement(f.WH,{plcHoffset:"0px",text:null===(w=ie.selectedStep)||void 0===w?void 0:w.guidance,placeholder:"Add description for step here...",onTextChanged:function(e){re({type:c.Cb.updateSelectedStepKeyValue,value:{guidance:e}}),Q({guidance:e})}}))),en.createElement(ln,{percentualWidth:"100%",style:{display:1==Ve?"none":""}},en.createElement(f.Lb,{title:"Connect Step To"}),en.createElement(f.n2,(0,jt.Z)({},Jl.parentSteps,{title:"",readOnly:Ve,value:(null===(N=ie.selectedStep)||void 0===N||null===(L=N.parent_steps)||void 0===L?void 0:L.length)>0?Ql.Z((function(e,t){return e.concat(t.name)}),[])(Vt.Z(null===(I=ie.selectedStep)||void 0===I?void 0:I.parent_steps)).map((function(e,t){return en.createElement(zl.Vp,{key:"tag"+t},e)})):Ve?en.createElement(zl.Vp,null,"Start of Workflow"):null,sectionError:Oe.parentSteps,onOpenChanged:function(e){!e&&!Ve&&We("parentSteps")}}),fe&&en.createElement("span",{style:{display:"flex",width:"100%",justifyContent:"center",alignItems:"center"}},en.createElement(f.$j,{size:30,type:"ThreeDots"})),(null===ce||void 0===ce?void 0:ce.length)>0&&!Ve&&en.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"X",tagType:"step-plated",tagEmplacement:"inlined",triggerType:"eyeglass",initialSelectedItems:De,placeholder:"Search steps here...",className:Rl,inputClassName:ql,molclassname:jl,moliclassname:Ul,menuOverlayListItemStyle:{padding:"10px",maxWidth:"100%"},onChange:function(e){re({type:c.Cb.updateSelectedStepParentSteps,value:(0,o.Z)(Ql.Z((function(e,t){return e.concat({rank:t.rank,name:t.label,id:t.value})}),[])(e))}),setTimeout(Fe(),0)},items:ce}),0!=(null===ce||void 0===ce?void 0:ce.length)||fe||1!=(null===ie||void 0===ie?void 0:ie.selectedStep.isNewStep)?null:en.createElement(zl.Vp,{tagType:"step-plated"},"Start of Workflow"))),en.createElement(ln,{percentualWidth:"100%",style:{marginTop:"20px"}},en.createElement(f.Lb,{title:Jl.newComponents.title}),en.createElement(Dl,{onEditChange:function(e,t){return ne(e,t)},showAddButton:!Ie,selectedProcess:$,blueprints:te,companyPositionsArray:ee})),en.createElement(ln,{percentualWidth:"100%",style:{marginTop:"20px"}},en.createElement(f.pd,(0,jt.Z)({},Jl.showAsTabbed,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null!==(x=null===(M=ie.selectedStep)||void 0===M||null===(k=M.options)||void 0===k?void 0:k.tabbed)&&void 0!==x&&x,toggleSelected:function(e){var t,l;re({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,n.Z)((0,n.Z)({},null===(t=ie.selectedStep)||void 0===t?void 0:t.options),{},{tabbed:e})}}),Q({options:(0,n.Z)((0,n.Z)({},null===(l=ie.selectedStep)||void 0===l?void 0:l.options),{},{tabbed:e})})}}))),en.createElement(ln,{percentualWidth:"100%",style:{marginTop:"20px",display:1==(null===(O=ie.selectedStep)||void 0===O?void 0:O.is_end)||1==(null===(T=ie.selectedStep)||void 0===T?void 0:T.is_start)?"none":""}},en.createElement(f.pd,(0,jt.Z)({},Jl.deleteOnBack,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null!==(P=null===(B=ie.selectedStep)||void 0===B||null===(F=B.options)||void 0===F?void 0:F.deleteOnBack)&&void 0!==P&&P,toggleSelected:function(e){var t,l;re({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,n.Z)((0,n.Z)({},null===(t=ie.selectedStep)||void 0===t?void 0:t.options),{},{deleteOnBack:e})}}),Q({options:(0,n.Z)((0,n.Z)({},null===(l=ie.selectedStep)||void 0===l?void 0:l.options),{},{deleteOnBack:e})})}}))),en.createElement(ln,{percentualWidth:"100%",style:{marginTop:"20px",display:1==(null===(D=ie.selectedStep)||void 0===D?void 0:D.is_end)?"none":""}},en.createElement(f.pd,(0,jt.Z)({},Jl.showStepAll,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null===(A=null===(W=ie.selectedStep)||void 0===W||null===(V=W.options)||void 0===V?void 0:V.showStepAll)||void 0===A||A,toggleSelected:function(e){var t,l;re({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,n.Z)((0,n.Z)({},null===(t=ie.selectedStep)||void 0===t?void 0:t.options),{},{showOnly:[],showStepAll:e})}}),Q({options:(0,n.Z)((0,n.Z)({},null===(l=ie.selectedStep)||void 0===l?void 0:l.options),{},{showOnly:[],showStepAll:e})})}}))),en.createElement(ln,{percentualWidth:"100%",style:{marginTop:"20px",display:0==(null===(z=ie.selectedStep)||void 0===z||null===(R=z.options)||void 0===R?void 0:R.showStepAll)?"":"none"}},en.createElement(f.pd,(0,jt.Z)({},Jl.showStepAuthor,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null!==(j=null===(U=ie.selectedStep)||void 0===U||null===(q=U.options)||void 0===q?void 0:q.showStepAuthor)&&void 0!==j&&j,toggleSelected:function(e){var t,l;re({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,n.Z)((0,n.Z)({},null===(t=ie.selectedStep)||void 0===t?void 0:t.options),{},{showOnly:[],showStepAuthor:e})}}),Q({options:(0,n.Z)((0,n.Z)({},null===(l=ie.selectedStep)||void 0===l?void 0:l.options),{},{showOnly:[],showStepAuthor:e})})}}))),en.createElement(f.jL,{style:{display:0==(null===(H=ie.selectedStep)||void 0===H||null===(K=H.options)||void 0===K?void 0:K.showStepAll)?"":"none",paddingLeft:"10px"},ungrouped:!0,title:"Only show this step to:",columned:!0,withAckButton:!1},en.createElement("br",null),en.createElement(se.Cm,{tagEmplacement:"inlined",searchable:!1,items:ee,groupedBy:"department",groupname:"department",triggerType:"chevron",initialSelectedValues:null===(X=ie.selectedStep)||void 0===X||null===(G=X.options)||void 0===G||null===(Y=G.showOnly)||void 0===Y?void 0:Y.map((function(e){return ee.find((function(t){return t.value===e}))})),className:Hl,inputClassName:Kl,molclassname:Xl,moliclassname:Gl,onChange:function(e){var t,l;re({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,n.Z)((0,n.Z)({},null===(t=ie.selectedStep)||void 0===t?void 0:t.options),{},{showStepAuthor:!1,showOnly:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))})}}),Q({options:(0,n.Z)((0,n.Z)({},null===(l=ie.selectedStep)||void 0===l?void 0:l.options),{},{showStepAuthor:!1,showOnly:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))})})}})),en.createElement(f.pd,(0,jt.Z)({},Jl.isFinalStep,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null===(J=ie.selectedStep)||void 0===J?void 0:J.is_end,toggleSelected:function(e){var t,l;1==e?(Q({child_steps:[]}),re({type:c.Cb.updateSelectedStepKeyValue,value:{is_end:e,options:(0,n.Z)((0,n.Z)({},null===(t=ie.selectedStep)||void 0===t?void 0:t.options),{},{showOnly:[],showStepAll:!0})}}),Q({is_end:e,options:(0,n.Z)((0,n.Z)({},null===(l=ie.selectedStep)||void 0===l?void 0:l.options),{},{showOnly:[],showStepAll:!0})})):(re({type:c.Cb.updateSelectedStepKeyValue,value:{is_end:e}}),Q({is_end:e}))}})))})),on="StepModal_host__e9qAE",an="StepModal_titleContainer__rQtrC",rn="StepModal_contentContainer__ySA3D",dn="StepModal_saveButtonContainer__ysY+S",un="StepModal_controls2__7XszY",sn=(l(55859),l(67861)),cn=(0,i.memo)((function(e){var t,l,r,u,s,y,h,C,g,b,S,E,_,Z,w,N,L,I,x,M=(0,i.useState)(""),k=(0,a.Z)(M,2),T=k[0],B=(k[1],e.visible),F=e.onClose,D=e.onSave,A=e.selectedProcess,W=e.companyProcesses,V=e.shadowedContainerStyle,z=void 0===V?{minWidth:"500px",width:""===T?"34%":"90%"}:V,j=e.onBoardingCompleted,U=e.onEditChange,q=void 0===U?function(){}:U,H=(0,c._M)(),K=(0,a.Z)(H,2),X=K[0],G=K[1],Y=(0,i.useState)(X.selectedStep),J=(0,a.Z)(Y,1)[0],Q=(0,c.QJ)(),$=(0,a.Z)(Q,2)[1],ee=(0,i.useState)(!1),te=(0,a.Z)(ee,2),le=te[0],ne=te[1],oe=(0,i.useState)(!1),ie=(0,a.Z)(oe,2),re=ie[0],de=ie[1],ue=(0,i.useState)(""),se=(0,a.Z)(ue,2),ce=se[0],me=se[1],pe=e.onBoardingModalsVisibility,ve=(e.isOnboarding,pe.eightModalVisible),fe=pe.tenthModalVisible,ye=(0,i.useCallback)((function(e){G({type:c.Cb.unsetSelectedStep}),F&&F(e)}),[F,G]),he=(0,i.useCallback)((function(e,t){return $({open:!0,activeElement:e,errors:(0,Lt.Z)({},e,t)})}),[$]),Ce=(0,i.useCallback)((function(e){var t,l,n,o,a,i=!0,r=[];0==e.is_start&&0==(null===e||void 0===e||null===(t=e.parent_steps)||void 0===t?void 0:t.length)&&(i=!1,r.push((0,Lt.Z)({},null===Jl||void 0===Jl||null===(o=Jl.parent_steps)||void 0===o?void 0:o.id,"Invalid parent(s)")),he(null===Jl||void 0===Jl||null===(a=Jl.parentSteps)||void 0===a?void 0:a.id,"Invalid parent(s)"));return 1==e.is_start&&(null===(l=e.parent_steps)||void 0===l?void 0:l.length)>0&&(i=!1,r.push((0,Lt.Z)({},Jl.parentSteps.id,"Invalid parent(s)")),he(Jl.parentSteps.id,"Invalid parent(s)")),(null===(n=e.name)||void 0===n?void 0:n.length)<1&&(i=!1,r.push((0,Lt.Z)({},Jl.stepName.id,"Invalid name")),he(Jl.stepName.id)),i}),[null===X||void 0===X||null===(t=X.selectedStep)||void 0===t?void 0:t.component_blueprints,he]),ge=(0,i.useCallback)((function(){de(!0),(0,p.hI)({processId:null===A||void 0===A?void 0:A.id}).pipe((0,d.P)()).subscribe({next:function(e){if(e.length>0){G({type:c.Cb.setAllSteps,value:xt.Z(Mt.Z(kt.Z("rank")),Ot.Z(Tt.Z(Pt.Z("component_blueprints"),Ot.Z((function(e){return It.Z("_uuid",(0,v.mR)(),e)})))))(e)})}},error:function(e){de(!1)}})}),[A.id,G]),be=(0,i.useCallback)((function(){var e=X.selectedStep;if(Ce(e)){var t,l,a,i,r,u,s,c,m,v;de(!0);var f=xt.Z(Bt.Z(["id"]),Ft.Z(Dt.Z("is_start",!0)))(X.steps),y=(null===f||void 0===f?void 0:f.length)>0&&f==(null===e||void 0===e?void 0:e.id)&&0===(null===e||void 0===e||null===(t=e.parent_steps)||void 0===t?void 0:t.length),h={name:null===e||void 0===e?void 0:e.name,guidance:null===e||void 0===e?void 0:e.guidance,procedure_id:null===A||void 0===A?void 0:A.id,duration:null===e||void 0===e?void 0:e.duration,is_start:y||(null===e||void 0===e?void 0:e.is_start),is_end:e.is_end,options:(0,n.Z)((0,n.Z)({},null===e||void 0===e?void 0:e.options),{},{layout:null!==(l=null===e||void 0===e?void 0:e.layout)&&void 0!==l?l:{}}),parent_steps:(0,o.Z)(Ot.Z(Bt.Z(["id"]))(null!==(a=null===e||void 0===e?void 0:e.parent_steps)&&void 0!==a?a:[])),pathway_steps:null!==(i=null===e||void 0===e||null===(r=e.pathway_processes)||void 0===r?void 0:r.map((function(e){return e.id})))&&void 0!==i?i:[],pathway_processes:null!==(u=null===e||void 0===e||null===(s=e.pathway_processes)||void 0===s?void 0:s.map((function(e){return e.id})))&&void 0!==u?u:[],component_blueprints:(0,o.Z)((null!==(c=null===e||void 0===e?void 0:e.component_blueprints)&&void 0!==c?c:[]).map((function(e){return(0,n.Z)((0,n.Z)({},At.Z(["_uuid"])(e)),{},{selected_fields:(0,o.Z)(Ot.Z(Wt.Z(["id","index","mandatory","visible","procedure_step_blueprint_field_id"]))(e.selected_fields))})}))),rank:+(null!==(m=null===e||void 0===e||null===(v=e.parent_steps)||void 0===v?void 0:v.reduce((function(e,t){return e<=+t.rank?e=+(null===t||void 0===t?void 0:t.rank):null}),0))&&void 0!==m?m:0)+1};(0,p.Ac)(h).pipe((0,d.P)()).subscribe({next:function(e){ve?O.h.dispatch((0,R.$6)({ninthModalVisible:!0})):fe&&O.h.dispatch((0,R.$6)({eleventhModalVisible:!0})),ge(),de(!1),j?ye(!0):D()},error:function(e){de(!1)}})}}),[X,Ce,ge,ye]),Se=(0,i.useCallback)((function(){var e=X.selectedStep;if(Ce(e)){var t,l,a,i,r,u,s,f;de(!0);var y=xt.Z(Bt.Z(["id"]),Ft.Z(Dt.Z("is_start",!0)))(X.steps),h=(null===y||void 0===y?void 0:y.length)>0&&y==(null===e||void 0===e?void 0:e.id)&&0===(null===e||void 0===e||null===(t=e.parent_steps)||void 0===t?void 0:t.length),C=(0,n.Z)({name:null===e||void 0===e||null===(l=e.name)||void 0===l?void 0:l.trim(),guidance:null===e||void 0===e?void 0:e.guidance,procedure_id:null===e||void 0===e?void 0:e.procedure_id,duration:null===e||void 0===e?void 0:e.duration,is_start:h||(null===e||void 0===e?void 0:e.is_start),is_end:e.is_end,options:(0,n.Z)((0,n.Z)({},e.options),{},{layout:null!==(a=null===e||void 0===e?void 0:e.layout)&&void 0!==a?a:{}}),parent_steps:Vt.Z((0,o.Z)(Ot.Z(Bt.Z(["id"]))(null===e||void 0===e?void 0:e.parent_steps))),pathway_steps:null!==(i=null===e||void 0===e||null===(r=e.pathway_steps)||void 0===r?void 0:r.map((function(e){return e.id})))&&void 0!==i?i:[],pathway_processes:null!==(u=null===e||void 0===e||null===(s=e.pathway_processes)||void 0===s?void 0:s.map((function(e){return e.id})))&&void 0!==u?u:[],component_blueprints:(0,o.Z)(e.component_blueprints.map((function(e){return(0,n.Z)((0,n.Z)({},At.Z(["_uuid"])(e)),{},{status:null,selected_fields:(0,o.Z)(Ot.Z(Wt.Z(["id","index","mandatory","visible","procedure_step_blueprint_field_id"]))(e.selected_fields))})}))),rank:+e.rank},zt.Z({ranking_steps:null===(f=Ot.Z(zt.Z({id:Bt.Z(["id"]),rank:ae.Z("rank")})).ranking_steps)||void 0===f?void 0:f.map((function(e){var t;return{id:e.id,rank:null!==(t=e.rank)&&void 0!==t?t:1e3}}))})(X.steps));(0,p.T5)(C,e.id,!0).pipe((0,d.P)()).subscribe({next:function(t){if(t.length>0){G({type:c.Cb.setAllSteps,value:xt.Z(Mt.Z(kt.Z("rank")),Ot.Z(Tt.Z(Pt.Z("component_blueprints"),Ot.Z((function(e){return It.Z("_uuid",(0,v.mR)(),e)})))))(t)})}O.h.dispatch((0,m.an)([].concat((0,o.Z)(W.filter((function(t){return t.id!==e.procedure_id}))),[(0,n.Z)((0,n.Z)({},A),{},{steps:t})]),1)),de(!1),ye(!0)},error:function(e){me(e.data),de(!1)}})}}),[ye,X.selectedStep,X.steps,ge,G,Ce]),Ee=(0,i.useCallback)((function(){var e,t,l,n,o,a,i={},r="Please connect to a step",d="Step name is mandatory";(null===X||void 0===X?void 0:X.steps.length)>0&&(i.parentSteps=Ft.Z(Dt.Z("is_start",!0))(null===X||void 0===X?void 0:X.steps)&&(null===X||void 0===X||null===(n=X.selectedStep)||void 0===n||null===(o=n.parent_steps)||void 0===o?void 0:o.length)>0||1==(null===X||void 0===X||null===(a=X.selectedStep)||void 0===a?void 0:a.is_start)?"":r);i.stepName="string"==typeof(null===X||void 0===X||null===(e=X.selectedStep)||void 0===e?void 0:e.name)&&(null===X||void 0===X||null===(t=X.selectedStep)||void 0===t||null===(l=t.name)||void 0===l?void 0:l.length)>0?"":d;var u,s=Object.values(i).every((function(e){return""===e}));((null===X||void 0===X?void 0:X.steps.length)>0&&he(Jl.parentSteps.id,i.parentSteps),he(Jl.parentSteps.id,i.parentSteps),he(Jl.stepName.id,i.stepName),he(Jl.newComponents.id,i.newComponents),s)||me("".concat(null!==(u=i.stepName)&&void 0!==u?u:""," ").concat(i.parentSteps));return s}),[le,null===X||void 0===X||null===(l=X.selectedStep)||void 0===l?void 0:l.pathway_processes,null===X||void 0===X||null===(r=X.selectedStep)||void 0===r?void 0:r.pathway_steps,null===X||void 0===X||null===(u=X.selectedStep)||void 0===u?void 0:u.component_blueprints,null===X||void 0===X||null===(s=X.selectedStep)||void 0===s?void 0:s.name,null===X||void 0===X||null===(y=X.selectedStep)||void 0===y||null===(h=y.parent_steps)||void 0===h?void 0:h.length,null===X||void 0===X?void 0:X.steps]),_e=(0,i.useCallback)((0,Nt.Z)((0,wt.Z)().mark((function e(){var t;return(0,wt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ne(!0),Ee()){e.next=4;break}return e.abrupt("return");case 4:null!==X&&void 0!==X&&null!==(t=X.selectedStep)&&void 0!==t&&t.isNewStep?be():Se();case 5:case"end":return e.stop()}}),e)}))),[Ee,J,be,Se]),Ze=(0,i.useCallback)((function(){var e;(null===J||void 0===J||null===(e=J.id)||void 0===e?void 0:e.length)>0&&("newDefaultStep"===(null===J||void 0===J?void 0:J.id)&&ye(),(0,p.HP)(null===J||void 0===J?void 0:J.id).pipe((0,d.P)()).subscribe({next:function(e){var t;ge(),G({type:c.Cb.removeStepById,value:null===(t=X.selectedStep)||void 0===t?void 0:t.id}),ye(!0)},error:function(){}}))}),[ye,null===(C=X.selectedStep)||void 0===C?void 0:C.id,ge,null===J||void 0===J?void 0:J.id,J.is_start,G]);return sn.createElement(f.U7,{scrollable:!0,shadowedContainerStyle:z,isOpen:B,blured:!0},sn.createElement("div",{style:{display:"flex"}},sn.createElement("div",{style:{width:""===T?"100%":"30%"}},sn.createElement("div",{className:on},e.children,sn.createElement("div",{id:"scrollableDiv",ref:Yl,className:rn},j&&sn.createElement("div",{className:an},sn.createElement("p",null,"newDefaultStep"!==(null===X||void 0===X||null===(g=X.selectedStep)||void 0===g?void 0:g.id)&&""!==(null===X||void 0===X||null===(b=X.selectedStep)||void 0===b?void 0:b.id)?"Edit Step #".concat(null===X||void 0===X||null===(S=X.selectedStep)||void 0===S?void 0:S.rank):"New Step")),sn.createElement("div",{style:{flex:1}},sn.createElement(nn,{onEditChange:function(e,t){return q(e,t)},selectedProcess:A})),ce&&sn.createElement(P.Z,{message:ce,onClick:function(){return me("")}}),sn.createElement("div",{className:j?dn:un},!j&&sn.createElement(f.zx,{clear:!0,title:"",clicked:function(){}}),F&&!j&&sn.createElement(f.zx,{light:!0,title:"Back",clicked:ye}),F&&j&&sn.createElement(f.zx,{title:"Close",clicked:ye}),(null===X||void 0===X||null===(E=X.selectedStep)||void 0===E||null===(_=E.name)||void 0===_?void 0:_.length)>3&&!j&&sn.createElement(f.zx,{title:null!==X&&void 0!==X&&null!==(Z=X.selectedStep)&&void 0!==Z&&Z.isNewStep?"Save":"Update",loading:re,clicked:_e}),(null===X||void 0===X||null===(w=X.selectedStep)||void 0===w||null===(N=w.name)||void 0===N?void 0:N.length)>3&&j&&sn.createElement(f.zx,{light:!0,title:null!==X&&void 0!==X&&null!==(L=X.selectedStep)&&void 0!==L&&L.isNewStep?"Save":"Update",loading:re,clicked:_e}),"newDefaultStep"!==(null===X||void 0===X||null===(I=X.selectedStep)||void 0===I?void 0:I.id)&&""!==(null===X||void 0===X||null===(x=X.selectedStep)||void 0===x?void 0:x.id)&&sn.createElement(f.zx,{light:!0,title:"Delete",clicked:Ze})))))))})),mn=(0,r.$j)((function(e){var t=e.flowReducer;return{allStatutes:t.allStatutes,selectedProcess:t.selectedProcess,companyProcesses:t.companyProcesses,onBoardingCompleted:t.onBoardingCompleted,onBoardingModalsVisibility:e.modalsReducer.onBoardingModalsVisibility}}),(function(e){return{onSetSelectedProStep:function(t){return e((0,m.Sc)(t))}}}))(cn),pn=l(67861),vn=function(e){var t,l,r=(0,te.s0)(),s=(e.onClose,e.selectedProcess),h=e.onResetSelectedProStep,C=e.blueprints,g=e.allModules,b=e.companyProcesses,S=e.workflowTemplates,E=e.onBoardingModalsVisibility,_=(0,i.useState)(!1),Z=((0,a.Z)(_,2)[1],(0,i.useState)(!1)),w=(0,a.Z)(Z,2),N=w[0],L=w[1],I=(0,i.useState)(!1),x=(0,a.Z)(I,2),M=x[0],k=x[1],P=(0,i.useState)(!1),B=(0,a.Z)(P,2),F=B[0],D=B[1],A=(0,i.useState)(!1),W=(0,a.Z)(A,2),j=W[0],U=W[1],H=(0,i.useState)(!1),K=(0,a.Z)(H,2),X=K[0],G=K[1],Y=(0,i.useState)(!1),J=(0,a.Z)(Y,2),Q=J[0],$=J[1],ee=(0,i.useState)(!1),ne=(0,a.Z)(ee,2),oe=ne[0],ae=ne[1],ie=(0,i.useState)(!1),de=(0,a.Z)(ie,2),se=de[0],ce=de[1],me=(0,u.aL)(),pe=(0,a.Z)(me,2),ve=(pe[0],pe[1]),fe=(0,c._M)(),ye=(0,a.Z)(fe,2),he=ye[0],Ce=ye[1],ge=(0,i.useState)(!1),be=(0,a.Z)(ge,2),Se=be[0],Ee=be[1],_e=(0,i.useState)(!1),Ze=(0,a.Z)(_e,2),we=Ze[0],Ne=Ze[1],Le=(0,i.useState)(),Ie=(0,a.Z)(Le,2),xe=Ie[0],Me=Ie[1];document.title="".concat(s.name," | ").concat(v.iC);var Oe=function(){1==se&&((0,p.zJ)(s.id).pipe((0,d.P)()).subscribe({}),(0,ue.d7)(v.KI,v.RI).pipe((0,d.P)()).subscribe({})),O.h.dispatch((0,m.IW)(!0)),O.h.dispatch((0,m.Xc)({show:!1,message:""})),r("/dashboard")};return(0,i.useEffect)((function(){var e,t,l,n,o;""!==(null===s||void 0===s?void 0:s.name)&&((null===s||void 0===s||null===(e=s.steps)||void 0===e?void 0:e.length)>0||(null===s||void 0===s?void 0:s.steps)>0||(null===he||void 0===he||null===(t=he.steps)||void 0===t?void 0:t.length)>0)?0===(null===(l=g.filter((function(e){return e.procedure.id===(null===s||void 0===s?void 0:s.id)})))||void 0===l?void 0:l.length)?O.h.dispatch((0,m.Xc)({show:!0,message:"You can now create modules. Modules are pages where your users can interact with the workflows and components you created. This is where transactions are created."})):(null===(n=g.filter((function(e){return e.procedure.id===(null===s||void 0===s?void 0:s.id)})))||void 0===n?void 0:n.length)>0&&1==(null===s||void 0===s||null===(o=s.steps)||void 0===o?void 0:o.length)&&O.h.dispatch((0,m.Xc)({show:!0,message:"To edit your step, click the box of your target step. The edit step modal will appear. There you can edit and update your step."})):""!==(null===s||void 0===s?void 0:s.name)&&(null===C||void 0===C?void 0:C.length)>0?1==s.created&&O.h.dispatch((0,m.Xc)({show:!0,message:"You have just created ".concat(null===s||void 0===s?void 0:s.name," workflow and modules. Kindly configure Modules. After doing this you can now use your workflow module.")})):""===(null===s||void 0===s?void 0:s.name)&&0==S.length&&(null===C||void 0===C?void 0:C.length)>0?(O.h.dispatch((0,m.Xc)({show:!0,message:"To begin building your Workflow, click the Edit button, enter name, description and save. You can also build components before creating your workflow."})),k(!0)):""===(null===s||void 0===s?void 0:s.name)&&S.length>0&&(null===C||void 0===C?void 0:C.length)>0?Ne(!0):0===(null===C||void 0===C?void 0:C.length)&&""===(null===s||void 0===s?void 0:s.name)&&O.h.dispatch((0,m.Xc)({show:!0,message:"To begin buiding your Workflow, start by creating blueprint components. Components are field data that you can use to gather information on your steps",action:function(){U(!0)}}))}),[g,s,C]),pn.createElement(pn.Fragment,null,pn.createElement("div",{className:Zt.Z.host},pn.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},pn.createElement("div",{style:T.tq?{padding:"0 0 0 10px",position:"fixed",bottom:"0"}:{padding:"0 0 0 10px"}},pn.createElement(f.zx,{title:"Close",clicked:function(){return Oe()}})),pn.createElement("div",{style:T.tq?{display:"flex"}:{xposition:"flex",right:"0",top:"0",display:"flex",flexDirection:"row",padding:"0 10px 0 0px"}},""!==(null===s||void 0===s?void 0:s.name)&&(null===he||void 0===he||null===(t=he.steps)||void 0===t?void 0:t.length)>0&&""!==(null===s||void 0===s?void 0:s.name)&&pn.createElement(hn,{onAddNewModule:function(){(null===E||void 0===E?void 0:E.eleventhModalVisible)&&O.h.dispatch((0,R.$6)({twelvthModalVisible:!0})),ae(!0)}}),pn.createElement(yn,{onAddNewProcess:function(){k(!0)}}),pn.createElement(fn,{onAddNewComponent:function(){Me(void 0),ve({type:u.qY.resetSelectedBlueprintComponent}),U(!0)}}),0===(null===s||void 0===s||null===(l=s.steps)||void 0===l?void 0:l.length)&&pn.createElement(f.zx,{light:!0,icon:pn.createElement("img",{src:ke.Nb}),style:{width:"100px"},clicked:function(){Ce({type:c.Cb.addNewStep,value:s.id}),L(!0)},loading:Se}),0===g.filter((function(e){return e.procedure.id===(null===s||void 0===s?void 0:s.id)})).length&&""!==(null===s||void 0===s?void 0:s.name)&&pn.createElement(f.j3,{permissions:[f.po.blueprints.process.delete]},pn.createElement(f.zx,{light:!0,icon:pn.createElement(V.G,{icon:z.$aW,style:{width:"20px",height:"20px"}}),clicked:function(){return D(!0)},style:{width:"100px"}}),pn.createElement("span",{className:Zt.Z.control})),pn.createElement(f.zx,{light:!0,icon:pn.createElement("img",{src:ke.Fd}),style:{width:"50px"},clicked:function(){Ee(!0),(0,p.zJ)(s.id).pipe((0,d.P)()).subscribe({next:function(e){O.h.dispatch((0,m.Xu)(e)),O.h.dispatch((0,m.an)([].concat((0,o.Z)(b.filter((function(t){return t.id!==e.id}))),[e]),1)),Ee(!1)}}),(0,ue.d7)(v.KI,v.RI).pipe((0,d.P)()).subscribe({})},loading:Se}))),(null===C||void 0===C?void 0:C.length)>0&&pn.createElement("div",{className:Zt.Z.processNameContainer}),pn.createElement(le.Z,{edit:!1,onEditStep:function(){(null===E||void 0===E?void 0:E.ninthModalVisible)&&O.h.dispatch((0,R.$6)({tenthModalVisible:!0})),L(!0)},onEditStepEnded:N,updateParent:function(e,t,l){!function(e,t,l){var n=null===he||void 0===he?void 0:he.steps.find((function(t){return t.id===e}));if(n){Ee(!0);var a={name:n.name,parent_steps:1==l?Vt.Z([].concat((0,o.Z)(Vt.Z((0,o.Z)(Ot.Z(Bt.Z(["id"]))(null===n||void 0===n?void 0:n.parent_steps)))),[t])):Vt.Z((0,o.Z)(Ot.Z(Bt.Z(["id"]))(null===n||void 0===n?void 0:n.parent_steps.filter((function(e){return e.id!==t})))))};(0,p.T5)(a,n.id,!0).pipe((0,d.P)()).subscribe({next:function(e){(0,p.zJ)(s.id).pipe((0,d.P)()).subscribe({next:function(e){return O.h.dispatch((0,m.Xu)(e))}}),Ee(!1)},error:function(e){Ee(!1)}})}}(e,t,l)},updateStep:function(e){!function(e){var t=e;if(t){var l={options:null===t||void 0===t?void 0:t.options};(0,p.T5)(l,t.id,!0).pipe((0,d.P)()).subscribe({next:function(e){Ee(!1),O.h.dispatch((0,m.an)([].concat((0,o.Z)(b.filter((function(e){return e.id!==t.procedure_id}))),[(0,n.Z)((0,n.Z)({},s),{},{steps:e})]),1))}})}}(e)}})),N&&pn.createElement(mn,{visible:N,onClose:function(e){ce(e),h(),L(!1),k(!1),$(!1)},onEditChange:function(e,t){U(!0),Me(e)}}),F&&pn.createElement(f.U7,{isOpen:F,onClose:function(){return D(!1)},backdropColor:!0,blured:!0,shadowedContainerStyle:{minWidth:"600px",width:T.tq?"100%":"40%",height:"160px"}},pn.createElement("div",{className:Zt.Z.deleteModalContainer},pn.createElement("div",{className:Zt.Z.deleteModalTextContainer},pn.createElement("p",{className:Zt.Z.deteteModalText},"Are you sure you want to delete this workflow?")),pn.createElement("div",{className:Zt.Z.deleteModalButtonContainer},pn.createElement(f.zx,{title:"Delete",clicked:function(){return function(){var e;!(null!==s&&void 0!==s&&null!==(e=s.id)&&void 0!==e&&e.length)>0||(Ee(!0),(0,p.vo)(null===s||void 0===s?void 0:s.id).pipe((0,d.P)()).subscribe({next:function(e){D(!1),Ee(!1),ce(!0),Oe()},error:function(e){Ee(!1),D(!1)}}))}()},loading:Se}),pn.createElement(f.zx,{light:!0,title:"No, Go back",clicked:function(){return D(!1)}})))),j&&pn.createElement(_t,{selectedComponent:xe,visible:j,onClose:function(e){ce(e),U(!1)},onUpdate:function(e){O.h.dispatch((0,m.an)(b.filter((function(e){return e.id!==s.id})),1))}}),X&&pn.createElement(_t,{visible:X,onClose:function(){k(!1),Ne(!0),G(!1)},onUpdate:function(){O.h.dispatch((0,m.an)(b.filter((function(e){return e.id!==s.id})),1))}}),oe&&pn.createElement(y.ZP,{onClose:function(){return ae(!1)},isOpen:oe,modalStyle:{maxWidth:"500px"},selectedProcessId:null===s||void 0===s?void 0:s.id}),M&&pn.createElement(q,{onCreate:function(){k(!1),L(!0)},onClose:function(){return k(!1)},isOpen:M,modalStyle:{maxWidth:"500px"},selectedProcessId:null===s||void 0===s?void 0:s.id,selectedProcess:s,shadowedContainerStyle:{width:T.tq?"100%":"30%"}}),Q&&pn.createElement(q,{onCreate:function(){k(!1),L(!0)},onClose:function(){r("/")},isOpen:Q,modalStyle:{maxWidth:"500px"},selectedProcessId:null===s||void 0===s?void 0:s.id,selectedProcess:s,shadowedContainerStyle:{width:T.tq?"100%":"30%"}}),we&&pn.createElement(re,{isOpen:we,onCreateBlank:function(){$(!0),Ne(!1)},onClose:function(){Ne(!1)},gotoProcess:function(e){k(!1),Ne(!1),O.h.dispatch((0,m.Xu)({name:null===e||void 0===e?void 0:e.name,description:null===e||void 0===e?void 0:e.description,id:e.id,is_pinned:null===e||void 0===e?void 0:e.is_pinned,user_id:null===e||void 0===e?void 0:e.user_id,registered:!0,type:null===e||void 0===e?void 0:e.type,steps:null===e||void 0===e?void 0:e.steps,shared_positions:null===e||void 0===e?void 0:e.shared_positions,created:!0}))},gotoComponents:function(){k(!1),Ne(!1),G(!0),ve({type:u.qY.resetSelectedBlueprintComponent})},modalStyle:{maxWidth:"500px"},selectedProcessId:null===s||void 0===s?void 0:s.id,selectedProcess:s,shadowedContainerStyle:{width:"65%",minWidth:"400px"}}))},fn=function(e){var t=e.onAddNewComponent;return pn.createElement(f.zx,{light:!0,clicked:t,icon:pn.createElement(V.G,{icon:z.Zrf,style:{margin:"0px",width:"20px",height:"20px"}}),style:{width:"100px"}})},yn=function(e){var t=e.onAddNewProcess;return pn.createElement(f.zx,{light:!0,titleStyle:{fontWeight:"normal",fontSize:"14px"},clicked:t,icon:pn.createElement(V.G,{icon:z.gr5,style:{margin:"0px",width:"20px",height:"20px"}}),style:{width:"100px"}})},hn=function(e){var t=e.onAddNewModule;return pn.createElement(f.zx,{titleStyle:{fontWeight:"normal"},clicked:t,style:{width:"100px"},icon:pn.createElement(V.G,{icon:z.mh3,style:{margin:"0px",width:"20px",height:"20px"}})})},Cn=(0,r.$j)((function(e){var t=e.flowReducer;return{selectedProcess:t.selectedProcess,blueprints:t.blueprints,allModules:t.allModules,companyProcesses:t.companyProcesses,workflowTemplates:t.workflowTemplates,onBoardingModalsVisibility:e.modalsReducer.onBoardingModalsVisibility}}),(function(e){return{onSetSelectedProStep:function(t){return e((0,m.Sc)(t))},onResetSelectedProStep:function(){return e((0,m.wv)())}}}))((function(e){return pn.createElement(s.jm,null,pn.createElement(c.FZ,null,pn.createElement(c.s_,null,pn.createElement(u.ij,null,pn.createElement(u.Xr,null,pn.createElement(vn,e))))))}))},22590:function(e,t){t.Z={host:"ProcessInfo_host__+oaqg",processControls:"ProcessInfo_processControls__2tdBF",sharePosition:"ProcessInfo_sharePosition__FqHsX",addStep:"ProcessInfo_addStep__uYhIL",addComponent:"ProcessInfo_addComponent__ZNJnb",buttonWrapper:"ProcessInfo_buttonWrapper__TYYT4",addStepTooltip:"ProcessInfo_addStepTooltip__rWSLm",addComponentTooltip:"ProcessInfo_addComponentTooltip__x6Vlz",messageContainer:"ProcessInfo_messageContainer__Ymk+d",title:"ProcessInfo_title__6a6i3",message:"ProcessInfo_message__kMz1c",customCheckbox:"ProcessInfo_customCheckbox__OHBxP",checkmark:"ProcessInfo_checkmark__jqo8a",closeButton:"ProcessInfo_closeButton__Xqtn-",control:"ProcessInfo_control__tSGLd",processNameContainer:"ProcessInfo_processNameContainer__EsIer",tutorialWrapper:"ProcessInfo_tutorialWrapper__Ijpgx",tutorialContainer:"ProcessInfo_tutorialContainer__6VGmK",processChartWrapper:"ProcessInfo_processChartWrapper__Q4jCW","react-tabs__tab--selected":"ProcessInfo_react-tabs__tab--selected__kT6jO","css-1hwfws3":"ProcessInfo_css-1hwfws3__oWVI5","css-1okebmr-indicatorSeparator":"ProcessInfo_css-1okebmr-indicatorSeparator__-YC+I","css-1gsw4b3":"ProcessInfo_css-1gsw4b3__9qcid","process-name":"ProcessInfo_process-name__nJ2CH","process-description":"ProcessInfo_process-description__C24Ws",container:"ProcessInfo_container__0EX6d",arrow_type2:"ProcessInfo_arrow_type2__VA3Ze","combined-shape":"ProcessInfo_combined-shape__WjWTZ","saved-description":"ProcessInfo_saved-description__Z5PuF",helper:"ProcessInfo_helper__7xoR9","rectangle-copy-4":"ProcessInfo_rectangle-copy-4__yjPo2",rectangle:"ProcessInfo_rectangle__kG0GD","rectangle-2":"ProcessInfo_rectangle-2__g+vZ8","rectangle-copy-3":"ProcessInfo_rectangle-copy-3__27bVn","new-step-modal":"ProcessInfo_new-step-modal__ur8v3","process-name-container":"ProcessInfo_process-name-container__noEII","input-search":"ProcessInfo_input-search__WA0Hv","editable-rectangle":"ProcessInfo_editable-rectangle__GgZ++",shareProcessHost:"ProcessInfo_shareProcessHost__k6ClQ",shareModalCloseButtonContainer:"ProcessInfo_shareModalCloseButtonContainer__4RcY9",shareModalCloseButton:"ProcessInfo_shareModalCloseButton__d19L0",shareModalClosebuttonImage:"ProcessInfo_shareModalClosebuttonImage__ctaAE",shareImage:"ProcessInfo_shareImage__MMQSA",shareProcessTitle:"ProcessInfo_shareProcessTitle__NcNb-",selectComponentContainer:"ProcessInfo_selectComponentContainer__ZGHp7",selectComponentTite:"ProcessInfo_selectComponentTite__HIPH3",selectComponent:"ProcessInfo_selectComponent__AqNdw",selectClearControlsClassName:"ProcessInfo_selectClearControlsClassName__2JBX7",selectListContainer:"ProcessInfo_selectListContainer__P13gF",shareButtonContainer:"ProcessInfo_shareButtonContainer__EmjbT",multiSelectContainer:"ProcessInfo_multiSelectContainer__cJOx5",multiselectComponent:"ProcessInfo_multiselectComponent__gZpac",multiSelectSearchInput:"ProcessInfo_multiSelectSearchInput__YmtV7",multiSelectMenuOverlayList:"ProcessInfo_multiSelectMenuOverlayList__MgB5l",multiSelectMenuOverlayListItem:"ProcessInfo_multiSelectMenuOverlayListItem__gW5lT",showTutorialContainer:"ProcessInfo_showTutorialContainer__pHXUK",deleteModalContainer:"ProcessInfo_deleteModalContainer__zJS6K",deleteModalTextContainer:"ProcessInfo_deleteModalTextContainer__23irp",deleteModalImage:"ProcessInfo_deleteModalImage__blHCS",deteteModalText:"ProcessInfo_deteteModalText__fp5WW",deleteModalButtonContainer:"ProcessInfo_deleteModalButtonContainer__dBunM",deleteModalCancelButton:"ProcessInfo_deleteModalCancelButton__9lDvo",errorContainer:"ProcessInfo_errorContainer__50zTL",paragraphNameContainer:"ProcessInfo_paragraphNameContainer__qBr8V",paragraphDescriptionContainer:"ProcessInfo_paragraphDescriptionContainer__1YFKM",rightSideContainer:"ProcessInfo_rightSideContainer__NWma5",usersHost:"ProcessInfo_usersHost__kRtg+"}}}]);
//# sourceMappingURL=3799.92e0f977.chunk.js.map