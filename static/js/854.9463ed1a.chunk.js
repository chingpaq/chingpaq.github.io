"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[854],{2854:function(e,t,a){a.r(t),a.d(t,{default:function(){return le}});var r=a(29439),n=a(67861),o=a(39518),l=a(23280),i=a(88374),s="Login_headerTopBarContainer__QWz8Y",c="Login_logoUrlImg__UaUon",d="Login_logoUrlImgMobile__gvaUr",m="Login_navbaritems__g7mXs",u="Login_navbarlinks__dLaYR",p=a(87462),g=a(12265),h=a(47144),v=a.n(h),f=a(15049),y=a(10103),b=a(98500),w=a(23075),_=a.n(w),E=a(31787);_()(b);var N=a(71982),x=a(57417),C=a(96189),I=a(48630),S=a(45987),L="TextField_inputContainer__-Li1l",M="TextField_ornament__1DMyr",q="TextField_rightButton__miccv",B="TextField_textInput__TQ2mO",Z="TextField_userTextInput__8z5C4",k="TextField_inputLabel__IAwPE",R="TextField_errorContainer__D-YWL",T=["isDisabled","readOnly","label","hasMandatoryIndicator","placeholder","charactersNo","icon","rightButtonLabel","rightButtonAction","rightButtonClass","errorMessage","defaultValue","onChange","name","type","autoComplete"],F=["className","hasError"],P=["className"],D=["children"],U=["hasMandatoryIndicator","children","className"],V=(0,n.forwardRef)((function(e,t){var a=e.isDisabled,o=void 0!==a&&a,l=e.readOnly,i=e.label,s=void 0===i?"":i,c=e.hasMandatoryIndicator,d=e.placeholder,m=void 0===d?"Insert email":d,u=e.charactersNo,p=e.icon,g=e.rightButtonLabel,h=e.rightButtonAction,f=e.rightButtonClass,y=e.errorMessage,b=e.defaultValue,w=e.onChange,_=e.name,E=e.type,N=void 0===E?"text":E,x=e.autoComplete,C=(0,S.Z)(e,T),I=(0,n.useState)(null!==b&&void 0!==b?b:""),B=(0,r.Z)(I,2),k=B[0],R=B[1],F=Boolean(y);return n.createElement("div",C,n.createElement(z,{hasMandatoryIndicator:c},s),n.createElement(O,{hasError:F,className:L},n.createElement(A,{"app-readonly":l?"readonly":"",readOnly:l,autoComplete:x,disabled:o,name:_,type:N,placeholder:m,value:k,maxLength:u,onChange:function(e){R(e.target.value),null===w||void 0===w||w(e)},ref:t,className:Z}),p&&n.createElement("div",{className:M},p),g&&n.createElement("button",{type:"button",onClick:h,className:v()(q,f),style:{fontFamily:"Montserrat",fontSize:"14px",fontWeight:"normal"}},g)),y&&n.createElement(j,null,y))})),O=(0,n.forwardRef)((function(e,t){var a=e.className,r=e.hasError,o=(0,S.Z)(e,F);return n.createElement("div",(0,p.Z)({"app-error":r?"error":"",ref:t},o,{className:v()(L,a)}))})),A=(0,n.forwardRef)((function(e,t){var a=e.className,r=(0,S.Z)(e,P);return n.createElement("input",(0,p.Z)({ref:t},r,{className:v()(B,a)}))}));function j(e){var t=e.children,a=(0,S.Z)(e,D);return n.createElement("p",(0,p.Z)({className:R},a),t)}function z(e){var t=e.hasMandatoryIndicator,a=e.children,r=e.className,o=(0,S.Z)(e,U);return n.createElement("label",(0,p.Z)({className:v()(k,r)},o),a,t&&n.createElement("span",{className:"text-danger"},"*"))}var W=a(12075),J=a(52902),Y=a(67861),X=(0,n.forwardRef)((function(e,t){var a=(0,n.useState)(!1),o=(0,r.Z)(a,2),l=o[0],i=o[1];return Y.createElement(V,(0,p.Z)({},e,{ref:t,type:l?"text":"password",rightButtonLabel:l?Y.createElement(W.G,{icon:J.Mdf,style:{color:"black",width:"16px",height:"16px"}}):Y.createElement(W.G,{icon:J.Aq,style:{color:"var(--app-color-gray-light)",width:"16px",height:"16px"}}),rightButtonAction:function(){return i((function(e){return!e}))},rightButtonClass:""}))})),G="LoginForm_host__UvJwq",Q="LoginForm_row__9D3he",$="LoginForm_signInButton__VPwbB",H="LoginForm_recoverPasswordButton__fDOss",K=a(73500),ee=a(89293),te="This company do not have onboard required data yet!\nPlease contact comapny admin.\nBasic company information must be enroled\nBefore you will be granted access to ".concat(ee.iC),ae=(0,n.memo)((function(e){var t,a,l,s,c,d,m,u,h=e.onLoginSuccess,w=e.className,_=e.onResetPassword,S=(0,o.I0)(),L=(0,o.v9)((function(e){return e.authReducer.sessionSettings})).rememberMe,M=(0,n.useState)(!1),q=(0,r.Z)(M,2),B=q[0],Z=q[1],k=(0,n.useState)(""),R=(0,r.Z)(k,2),T=R[0],F=R[1],P=(0,n.useMemo)((function(){return{yup:b,schemas:{email:b.string().min(6,"Username must have at least 8 characters"),password:b.string().min(8,"Password must have at least 8 characters"),passwordRepeat:b.string().oneOf([b.ref("password"),null],"Passwords does not match").required("Password repeat is required"),website:b.string().url(),phoneNumber:b.string().test({name:"phone-pattern",message:"Not a valid phone number",test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""==e||(0,E.yf)(e)}}),mobilePhoneNumber:b.string().test({name:"mobile-phone-pattern",message:"Not a valid mobile phone number",test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""==e||(0,E.yf)(e)}}),employerName:b.string().required("Employer name is required")}}}),[]),D=P.schemas,U=P.yup,O=(0,f.cI)({mode:"onSubmit",criteriaMode:"firstError",resolver:(0,g.X)(U.object().shape({email:D.email,password:D.password}))}),A=O.register,z=O.handleSubmit,W=O.formState.errors,J=O.getValues;return n.createElement("form",{onSubmit:z((function(e){F(""),Z(!0);var t=J(),a=t.email,r=t.password,n=t.rememberMe;(0,x.n$)({email:a,password:r,rememberMe:n}).pipe((0,y.q)(1)).subscribe({next:function(e){var t=e.is_admin;!1===e.onboarding_status?!0===t?(S((0,N.DJ)(!0)),S((0,N.q9)(!0)),S((0,N.$6)({firstModalVisible:!0})),S((0,i.IW)(!1)),Z(!1)):(F(te),Z(!1)):(S((0,N.DJ)(!1)),S((0,N.q9)(!1)),S((0,i.fj)(!0)),Z(!1),null===h||void 0===h||h(e))},error:function(e){var t,a="string"==typeof e.data?e.data:null!==e&&void 0!==e&&e.error?null===e||void 0===e?void 0:e.error:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message;F(422===e.status||"Not authenticated"===a?"Invalid user name or password, please try again.":a),Z(!1)}})})),className:v()(G,w),onClick:function(){return F("")}},n.createElement("div",{className:Q,"app-variant":"first-row"},n.createElement(V,(0,p.Z)({autoComplete:L?"username":"new-password",type:"text",placeholder:"Email or Username",defaultValue:null!==(t=localStorage.getItem("username"))&&void 0!==t?t:""},A("email")))),n.createElement("div",{className:Q,"app-variant":"second-row"},n.createElement(X,(0,p.Z)({autoComplete:L?"on":"off",placeholder:"Password",defaultValue:null!==(a=localStorage.getItem("password"))&&void 0!==a?a:""},A("password")))),(T||(null===(l=W.password)||void 0===l?void 0:l.message)||(null===(s=W.email)||void 0===s?void 0:s.message))&&n.createElement(j,null,"".concat(null!==T&&void 0!==T?T:""," ").concat(null!==(c=null===(d=W.password)||void 0===d?void 0:d.message)&&void 0!==c?c:""," ").concat(null!==(m=null===(u=W.email)||void 0===u?void 0:u.message)&&void 0!==m?m:""," ")),n.createElement(C.zx,{disabled:B,loading:B,type:"submit",title:"Sign in",className:$}),n.createElement("div",{className:Q,"app-variant":"third-row"},n.createElement(I.X,(0,p.Z)({defaultChecked:L,checkboxLabel:"Remember me"},A("rememberMe"))),n.createElement("br",null),n.createElement("p",{className:H,onClick:_},K.tq?"Forgot Password":"Need to find your password?"),n.createElement("br",null)))})),re=a(38502),ne=a(88827),oe=a(67861),le=(0,n.memo)((function(e){e.title;var t,a,p=(0,l.s0)(),g=(0,o.I0)(),h=ne.h.getState().flowReducer,v=h.companyData,f=h.lastUpdates,y=ne.h.getState().sessionReducer.authenticated,b=(0,n.useState)(null!==(t=JSON.parse(localStorage.getItem("companyData")))&&void 0!==t?t:{logo:""}),w=(0,r.Z)(b,1)[0];return document.title="Login | ".concat(ee.iC),(0,n.useEffect)((function(){y?p("/flowhero"):(g((0,i.fj)(!1)),g((0,i.aV)()),(0,x.iC)())}),[]),0==y?oe.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",height:"98vh"}},oe.createElement("div",{style:{width:K.tq?"100%":"20%",padding:"20px",minWidth:"300px"}},oe.createElement("div",{className:s,style:{fontSize:K.tq?"12px":"16px",marginTop:"20px"},onClick:function(){return p("/flowhero")}},!(null!==w&&void 0!==w&&w.logo)&&oe.createElement("p",null,null===w||void 0===w||null===(a=w.display_name)||void 0===a?void 0:a.toUpperCase()),null!==w&&void 0!==w&&w.logo?oe.createElement("img",{alt:"lg",src:null===w||void 0===w?void 0:w.logo,className:K.tq?d:c}):K.tq?(0,ee.lh)("30px","var(--app-color-gray-dark)",""):(0,ee.lh)("32px","var(--app-color-gray-dark)","bold")),oe.createElement(ae,{onLoginSuccess:function(e){var t=e.isSingleApp;if(f.componentsByModule={},"trial_ended"!==(null===v||void 0===v?void 0:v.status)&&"inactive"!==(null===v||void 0===v?void 0:v.status)){if(!0===t&&K.tq)return(0,re.V0)(),void p("/mobile");(0,re.e3)()}else"inactive"===(null===v||void 0===v?void 0:v.status)?(0,re.e3)(!0):(0,re.e3)();p("/")},onResetPassword:function(){return p("/reset-password")}})),oe.createElement("div",{style:{width:"80%",display:K.tq?"none":"flex",backgroundColor:"rgb(246,244,236)",justifyContent:"flex-end",padding:"20px",height:"102vh"}},oe.createElement("ul",{className:m,style:{display:K.tq?"none":"",marginRight:"20px"}},oe.createElement("li",null,oe.createElement("a",{href:"#/flowhero/",className:u},"HOME")),oe.createElement("li",null,oe.createElement("a",{href:"#/",className:u},"CONTACT US")),oe.createElement("li",null,oe.createElement("a",{href:"#/legal",className:u},"PRIVACY"))))):oe.createElement("div",{style:{margin:"auto",width:"100%",height:"500px",display:"flex",alignContent:"center",alignItems:"center",justifyItems:"center",justifyContent:"center"}},(0,ee.lh)("30px"))}))}}]);
//# sourceMappingURL=854.9463ed1a.chunk.js.map