"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[3104],{51765:(e,l,t)=>{t.r(l),t.d(l,{default:()=>de});var o=t(1413),i=t(67861),n=t(23280),d=t(85692);const a=t.p+"static/media/businessman.f7a1c3f4d653b011e089.jpg";var s=t(40694),r=t(2288),u=t(72864),v=t(52950),p=t(51481),c=t(88374);const m={host:"Dashboard_host__5V1Px",dashboardPanel:"Dashboard_dashboardPanel__KsIe5",headerContainer:"Dashboard_headerContainer__Bb76Q",title:"Dashboard_title__0Sg0v",modalTitle:"Dashboard_modalTitle__5VQoX",singleButton:"Dashboard_singleButton__RaYRv",fieldRowContainer:"Dashboard_fieldRowContainer__qZamr",fieldTypeInput:"Dashboard_fieldTypeInput__IuVWl",dashboardCard:"Dashboard_dashboardCard__BFQfi",searchContainer:"Dashboard_searchContainer__YkGT6",searchInput:"Dashboard_searchInput__-xy78",dropdownSelectComponent:"Dashboard_dropdownSelectComponent__aNur+",dropdownSelectMenuOverlayList:"Dashboard_dropdownSelectMenuOverlayList__5-CsM",dropdownSelectMenuOverlayListItem:"Dashboard_dropdownSelectMenuOverlayListItem__vWbrQ",dropdownInput:"Dashboard_dropdownInput__Lt5I3",dropdownClearControlsClassName:"Dashboard_dropdownClearControlsClassName__6FyOs",dropdownListContainer:"Dashboard_dropdownListContainer__5-0Dc",dropDownButtonContainer:"Dashboard_dropDownButtonContainer__4Rgmf",searchResults:"Dashboard_searchResults__8E1SR",pageContainer:"Dashboard_pageContainer__+zSEJ",emulatedFlexGap:"Dashboard_emulatedFlexGap__4o4oR",center:"Dashboard_center__lmmP0",logoUrlImg:"Dashboard_logoUrlImg__8lVL5",logoUrlImgMobile:"Dashboard_logoUrlImgMobile__DvDb1",dashboardImg:"Dashboard_dashboardImg__p2fky",menuBar:"Dashboard_menuBar__4L6Mg"};var h=t(93389),f=t(6073),_=t(49465),g=t(88827),y=t(10103),b=t(11577),E=t(1542),w=t(34710),x=t(48929);const C="ModulePanel_moduleBoardPanelHost__oSpYm",k="ModulePanel_container__GIAqY",M="ModulePanel_titleContainer__3nUmv",S="ModulePanel_cardTitle__93SOc";var T=t(67861);const D=e=>{const{iconSrc:l,cardTitle:t,children:o,style:i,endLabel:n="",loading:d=!1,onAddItem:a=()=>{},withAddButton:s=!0}=e;return T.createElement("div",{className:C,style:i},T.createElement("div",{className:k},T.createElement("div",{className:M},l&&T.createElement("img",{alt:"",src:l}),t&&T.createElement("p",{className:S},t),d&&T.createElement(x.$j,{type:"BallTriangle",color:"var(--app-color-gray-dark)",height:30,width:"".concat(30,"px"),style:{padding:"0 0 0 10px"}})),s&&T.createElement(x.zx,{clear:!0,titleStyle:{fontWeight:"normal"},style:{width:"120px",backgroundColor:"rgb(83, 159, 234)",color:"white"},clicked:a,title:"Add Item"}),T.createElement("div",{style:{fontSize:"12px",textAlign:"right"}},n),o))};var q=t(50981),Z=t.n(q);const N="ComponentModuleCard_component-card__2-rIM",I="ComponentModuleCard_component-card-container__QM+Tm",P="ComponentModuleCard_clickLabel1__y6p7N",O="ComponentModuleCard_clickLabel2__rVtV0",W="ComponentModuleCard_clickLabel3__Rb8mM",A="ComponentModuleCard_clickLabel4__DErj1";var B=t(73500);const R=function(e){var l,t,o,n,a,s,r;const{component:u,options:v,openModal:p=()=>{},setComponentToEdit:c=()=>{},clicked:m=()=>{},isEditable:h=!0,children:f}=e,{title:_}=u,g=null!==(l=null!==(t=null===u||void 0===u?void 0:u.status)&&void 0!==t?t:null===(o=u.component_fields)||void 0===o||null===(n=o.find(e=>"Status"===e.data_type_name))||void 0===n?void 0:n.value)&&void 0!==l?l:"",y=null!==(a=null===(s=u.component_fields)||void 0===s||null===(r=s.find(e=>{var l,t,o,i;return(null===e||void 0===e||null===(l=e.value)||void 0===l?void 0:l.includes("jpg"))||(null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.includes("jpeg"))||(null===e||void 0===e||null===(o=e.value)||void 0===o?void 0:o.includes("png"))||(null===e||void 0===e||null===(i=e.value)||void 0===i?void 0:i.includes("pdf"))}))||void 0===r?void 0:r.value)&&void 0!==a?a:"";return 1==(null===v||void 0===v?void 0:v.asGraphical)?i.createElement("div",{className:N,style:{display:"Hide"===g||"Closed"===g||"Done"===g?"none":"",border:"0px dashed var(--app-color-gray-dark)"}},i.createElement("div",{onClick:m,className:I},""!==y?y.includes("pdf")?i.createElement("embed",{src:"".concat(y,"#toolbar=0&navpanes=0&scrollbar=0&zoom=100%"),width:"100%",height:"1000px"}):i.createElement("img",{alt:"lg",src:y,onError:e=>e.target.src="https://i.quotev.com/b2gtjqawaaaa.jpg",style:{margin:"0 0 0 0",padding:"3px 3px 3px 0",width:"100%",height:"100%"},onClick:m}):i.createElement("div",null,"Image Not available"))):i.createElement("div",{className:N,onClick:m},i.createElement("div",{className:I,style:{fontWeight:"bold",color:"var(--app-color-gray-dark)"}},""!==y?i.createElement("div",{style:{width:"50%",display:"flex"}},i.createElement("img",{alt:"lg",src:y,style:{margin:"0 0 0 0",padding:"3px 13px 3px 0",width:"50px",height:"50px"}}),i.createElement("p",{className:P,onClick:m},"".concat(null!==_&&void 0!==_?_:u.id))):B.tq?i.createElement("p",{className:P,onClick:m},"".concat(null!==_&&void 0!==_?_:u.id)):i.createElement("div",{style:{width:"50%",display:"flex"}},_.split("  ").length>0&&_.split("  ").map((e,l)=>i.createElement("p",{key:l,className:_.split("  ").length>1?P:A,onClick:m},"".concat(e)))),!B.tq&&i.createElement("p",{className:O,onClick:m},g),!B.tq&&i.createElement("p",{className:W,onClick:m},Z()(u.created_date).format("DD MMM YYYY")),f,h&&i.createElement("img",{alt:"",style:{cursor:"pointer"},src:d.eP,onClick:()=>{p(),c()}})))};var L=t(32422),U=t(88550),Y=t(46415),F=(t(60940),t(39518)),z=t(81330),V=t.n(z),j=t(27436),Q=t(62589),J=t(43984),G=t(94667),H=t(27658),X=t(75105),K=t(63864),$=t(44408),ee=t(23910),le=(t(56120),t(37704),t(72666),t(68623),t(3863),t(95361),t(143),t(31266)),te=t(84952),oe=t(20089),ie=t(36832);const ne=t(66918),de=(0,F.$j)(e=>{const{begunModule:l,allTasks:t,allCompletedTasks:o,allCompletedTasksPaginated:i,companyProcesses:n,allModules:d,components:a,companyData:s,companyUsersArray:r,blueprints:u,payable:v,lastUpdates:p,workflowTemplates:c,showMenu:m,showSideMenu:h,companyPositionsArray:f}=e.flowReducer,{user:_}=e.sessionReducer,{onBoardingModalsVisibility:g}=e.modalsReducer;return{begunModule:l,allTasks:t,allCompletedTasks:o,allCompletedTasksPaginated:i,companyProcesses:n,allModules:d,components:a,companyData:s,companyUsersArray:r,user:_,blueprints:u,payable:v,lastUpdates:p,workflowTemplates:c,showMenu:m,showSideMenu:h,companyPositionsArray:f,onBoardingModalsVisibility:g}},e=>({onSetSelectedProcess:l=>e((0,c.Xu)(l))}))(e=>{var l,t,C,k,M,S,T,N,I,P,O,W,A,z,de,ae,se,re,ue,ve,pe,ce,me,he,fe,_e,ge,ye,be,Ee,we,xe,Ce,ke,Me,Se,Te,De,qe,Ze,Ne,Ie,Pe,Oe,We,Ae,Be,Re,Le;const{allTasks:Ue,allCompletedTasks:Ye,allCompletedTasksPaginated:Fe,onSetSelectedProcess:ze,user:Ve,companyProcesses:je,allModules:Qe,components:Je,companyData:Ge,companyUsersArray:He,begunModule:Xe,payable:Ke,lastUpdates:$e,onBoardingModalsVisibility:el,showSideMenu:ll}=e,tl=(0,n.TH)(),[ol,il]=(0,i.useState)(!1),[nl,dl]=(0,i.useState)(!1),[al,sl]=(0,i.useState)(!1),[rl,ul]=(0,i.useState)(1),[vl,pl]=(0,i.useState)(1),[cl,ml]=(0,i.useState)({laterTasks:[],todayTasks:[],overdueTasks:[],completedTasks:[]}),[,hl]=(0,i.useState)([]),[fl,_l]=(0,i.useState)(""),[gl,yl]=(0,i.useState)(0),[bl,El]=(0,i.useState)(!1),[wl,xl]=(0,i.useState)({}),[Cl,kl]=(0,U.pQ)(),[Ml,Sl]=(0,i.useState)(!1),[Tl,Dl]=(0,i.useState)({message:""}),[ql,Zl]=(0,i.useState)(!1),[Nl,Il]=(0,i.useState)(""),[Pl,Ol]=(0,i.useState)(),[Wl,Al]=(0,i.useState)({candidates:[]}),[Bl,Rl]=(0,i.useState)("superadmin"!==Ve.user_type&&(!((null===Je||void 0===Je?void 0:Je.length)>0)&&(!((null===Qe||void 0===Qe?void 0:Qe.length)>0&&He.length>0&&(null===je||void 0===je?void 0:je.length)>0)&&"false"!==localStorage.getItem("showInfo")))),[Ll,Ul]=(0,i.useState)(!1),[Yl,Fl]=(0,i.useState)([]),zl=(0,F.I0)(),Vl=(0,n.s0)(),{hash:jl,transactionID:Ql,newStatus:Jl,walletID:Gl,paymentID:Hl}=(0,n.UO)();let Xl=(0,i.useRef)(),Kl=0;const{authenticated:$l}=(0,F.v9)(e=>e.sessionReducer);document.title="Dashboard | ".concat(_.iC),(0,i.useEffect)(()=>{!B.tq&&zl((0,c.tR)("inactive"!==(null===Ge||void 0===Ge?void 0:Ge.status))),zl((0,c.IW)(!0)),setTimeout(()=>Ul(!0),12e3),zl((0,c.aV)())},[]),(0,i.useEffect)(()=>{if($l){var e;if("trial_ended"!==(null===Ge||void 0===Ge?void 0:Ge.status)&&"inactive"!==(null===Ge||void 0===Ge?void 0:Ge.status))if(history.pushState(null,null,tl.href),window.onpopstate=function(e){history.go(1)},Ve.isSingleApp&&B.tq)Vl("/mobile");else if(null===Ve||void 0===Ve||null===(e=Ve.pinned_modules)||void 0===e||e.map(e=>0==Je.filter(l=>l.module_id===e.id).length&&(0,E.vC)(e,_.Qc,_.M4,1,_._N).pipe((0,y.q)(1)).subscribe({next:l=>{var t;e.lastUpdate=0,e.count=null!==(t=null===l||void 0===l?void 0:l.total)&&void 0!==t?t:0}})),(0,f.EE)().pipe((0,y.q)(1)).subscribe({}),(null===jl||void 0===jl?void 0:jl.length)>0)(0,p.yW)(jl).pipe((0,y.q)(1)).subscribe({next:e=>{_l(e),Zl(!0)}});else if((null===Ql||void 0===Ql?void 0:Ql.length)>0){var l;xl(null===Je||void 0===Je?void 0:Je.find(e=>e.id===Ql));const e=null===je||void 0===je?void 0:je.find(e=>{var l,t;return e.id===(null===(l=Qe.find(e=>e.id===Je.find(e=>e.id===Ql).module_id))||void 0===l||null===(t=l.procedure)||void 0===t?void 0:t.id)});(null===e||void 0===e||null===(l=e.steps)||void 0===l?void 0:l.length)>0?(g.h.dispatch((0,c.q4)(e)),il(!1),(null===Jl||void 0===Jl?void 0:Jl.length)>0?((0,f.DA)(e,Je.find(e=>e.id===Ql),Jl,kl,Qe),g.h.dispatch((0,c.IW)(!1)),Vl("/begin-module")):El(!0)):(il(!0),(0,h.zJ)(e.id).pipe((0,b.P)()).subscribe({next:e=>{g.h.dispatch((0,c.q4)(e)),il(!1),(null===Jl||void 0===Jl?void 0:Jl.length)>0?((0,f.DA)(e,Je.find(e=>e.id===Ql),void 0,kl,Qe),g.h.dispatch((0,c.IW)(!1)),Vl("/begin-module")):El(!0)},error:e=>{}}))}""===(null===Ve||void 0===Ve?void 0:Ve.id)&&(zl((0,J.ci)()),zl((0,c.mb)()))}},[$l]),(0,i.useEffect)(()=>{Qe.length>0&&Qe.filter(e=>{var l;return void 0===je.find(l=>{var t;return l.id===(null===e||void 0===e||null===(t=e.procedure)||void 0===t?void 0:t.id)})&&(0,h.zJ)(null===e||void 0===e||null===(l=e.procedure)||void 0===l?void 0:l.id).pipe((0,b.P)()).subscribe({})}),Qe.length>0&&Qe.filter(e=>{var l;$e.componentsByModule[e.name]&&Z()((0,q.now)()).diff(Z()(null!==(l=$e.componentsByModule[e.name])&&void 0!==l?l:(0,q.now)()),"minutes")>10&&(0,E.vC)(e,_.Qc,_.Zp,1).pipe((0,y.q)(1)).subscribe({next:l=>{Kl+=1,Kl==Qe.length&&g.h.dispatch((0,c.Xc)({show:!1,message:""})),$e.componentsByModule[e.name]=(0,q.now)()}})})},[Qe]),(0,i.useEffect)(()=>{if($l){let e=[];Qe.filter(l=>je.filter(e=>{var t;return l.procedure.id===e.id&&e.steps.length>0&&(null===e||void 0===e||null===(t=e.steps)||void 0===t?void 0:t.filter(e=>e.component_blueprints.filter(e=>{var l;return 1==(null===(l=e.options)||void 0===l?void 0:l.asDashboard)})))}).filter(t=>t.steps.filter(e=>e.component_blueprints.filter(e=>{var l;return 1==(null===(l=e.options)||void 0===l?void 0:l.asDashboard)})).filter(i=>i.component_blueprints.filter(e=>{var l;return 1==(null===(l=e.options)||void 0===l?void 0:l.asDashboard)}).filter(i=>i.selected_fields.filter(e=>1==e.visible&&("Formula"===e.data_type_name||"Chart"===e.data_type_name)).map(n=>{var d,a,s,r;e=(null===Ve||void 0===Ve||null===(d=Ve.positions)||void 0===d?void 0:d.filter(e=>{var l,t;return null===(l=i.options)||void 0===l||null===(t=l.showOnly)||void 0===t?void 0:t.includes(e.id)}).length)>0||0==(null===(a=i.options)||void 0===a||null===(s=a.showOnly)||void 0===s?void 0:s.length)||void 0===(null===(r=i.options)||void 0===r?void 0:r.showOnly)?[...e,(0,o.Z)((0,o.Z)({},n),{},{module_id:l.id,procedure:t,module:l})]:[...e]}))))),Fl(e)}},[$l,Qe,je,Je]),(0,i.useEffect)(()=>{const e=null===Ue||void 0===Ue?void 0:Ue.find(e=>e.id==new URLSearchParams(null===tl||void 0===tl?void 0:tl.search).get("taskId"));e&&(_l(e),dl(!0))},[Ue,tl]),(0,i.useEffect)(()=>{if($l&&(null===Ke||void 0===Ke?void 0:Ke.length)>0&&void 0!==Gl&&void 0===Hl){Ke.find(e=>e.user_id===(null===Ve||void 0===Ve?void 0:Ve.id)&&e.paymentID===Gl)&&(g.h.dispatch((0,c.Wy)(Ke.filter(e=>e.paymentID!==Gl))),Vl("/billing-info"))}},[Gl,$l]);const et=(0,i.useCallback)((e,l)=>{if(0==e.length)return void Al({candidates:[{content:{parts:[{text:"Enter a question that I could answer"}]}}]});let t={role:"user",parts:[{text:e}]};l&&(t.parts=[...t.parts,{text:JSON.stringify({table:l.module.name,data:Je.filter(e=>e.module_id===l.value).map(e=>{let l={};return e.component_fields.filter(e=>l=(0,o.Z)((0,o.Z)({},l),{},{[e.field_name]:e.value})),(0,o.Z)((0,o.Z)({},l),{},{created_date:e.created_date,created_by:e.created_by.id,items:null===e||void 0===e?void 0:e.component_items.map(e=>({item:e.item_code,quantity:+e.quantity,value:e.value}))})})})}]),il(!0),(0,G.hd)(JSON.stringify(t)).pipe((0,b.P)()).subscribe({next:e=>{il(!1),Al(e)},error:e=>{Al({candidates:[{content:{parts:[{text:JSON.stringify(e)}]}}]}),il(!1)}})},[]),lt=(null===Wl||void 0===Wl||null===(l=Wl.candidates)||void 0===l?void 0:l.length)>0&&(null===Wl||void 0===Wl?void 0:Wl.candidates.map(e=>{var l,t;return null===(l=e.content)||void 0===l||null===(t=l.parts)||void 0===t?void 0:t.map((e,l)=>i.createElement("textarea",{className:m.searchResults,disabled:!0,key:100+l,value:e.text}))})),tt=(0,i.useCallback)(()=>{const e=[];0!==(null===Fe||void 0===Fe?void 0:Fe.length)&&(Fe.map(l=>{var t;return e.push({taskName:l.name,process:null===l||void 0===l||null===(t=l.process)||void 0===t?void 0:t.name,completedOn:Z()(l.completed_at).format("DD MMMM YYYY hh:mm"),duration:l.duration})}),hl(e),ml((0,o.Z)((0,o.Z)({},cl),{},{completedTasks:Fe})))},[Ye,Ue]);(0,i.useEffect)(()=>tt(),[Ye,Ue]),(0,i.useEffect)(()=>ot(),[Ue]),(0,i.useEffect)(()=>{g.h.dispatch((0,c.q4)({description:"",id:"",is_pinned:"",name:"",user_id:"",registered:!1,type:!1}))},[]);const ot=(0,i.useCallback)(()=>{const e=[],l=[],t=[];if(0===(null===Ue||void 0===Ue?void 0:Ue.length))return;Ue.map(o=>{const i=Z()(new Date).format("YYYY-MM-DD");return"Done"===o.status?void 0:Z()(o.due_date,"YYYY-MM-DD").isSame(i)?l.push(o):"Moved"===o.status||"Postponed"===o.status||"Cancelled"===o.status||Z()(o.due_date,"YYYY-MM-DD").isAfter(i)?t.push(o):e.push(o)});ml({laterTasks:t,todayTasks:l,overdueTasks:e,completedTasks:Fe})},[Ue]),it=()=>{dl(!nl)},nt=()=>{dl(!0),sl(!0)},dt=e=>{let l=Math.ceil(e.length/_.ZP);B.tq&&l>8?l=7:!B.tq&&l>23&&(l=23);const t=e.length>0?e.length<_.ZP+1||123456==rl?ne.sortWith([ne.ascend(ne.prop("due_date"))])(e):ne.sortWith([ne.ascend(ne.prop("due_date"))])(e).slice(rl*_.ZP-_.ZP,rl*_.ZP):[];return i.createElement("div",null,e.length>0?t.map((e,l)=>{var t,o;return i.createElement("div",{key:l},i.createElement(u.Z,{isEditable:!0,task:e,clicked:()=>{(e=>{(0,p.xJ)({status:"Done"},null===e||void 0===e?void 0:e.id).subscribe({next:e=>{Fe.push(e)},complete:()=>yl(3)})})(e)},taskId:e.id,setTaskToEdit:()=>_l(e),openModal:()=>nt(),priority:null!==(null===e||void 0===e||null===(t=e.add_info)||void 0===t?void 0:t.priority)?null===(o=_._l.find(l=>{var t;return l.value===(null===e||void 0===e||null===(t=e.add_info)||void 0===t?void 0:t.priority)}))||void 0===o?void 0:o.icon:""}))}):"No tasks found",e.length>0&&i.createElement("div",{style:{display:l>1?"flex":"none",margin:"20px 0 0 0"}},i.createElement("p",{style:{padding:"0 10px 0 0",fontSize:"14px"}},"Page:"),l>0&&[...Array(l)].map((e,l)=>i.createElement(s.Z,{title:l+1,titleContainer:m.pageContainer,disabled:l==rl-1,clear:!0,key:l,style:{fontSize:"10px",maxWidth:"34px",minWidth:"20px",padding:"0",display:l<18?"":"none"},clicked:()=>ul(l+1)})),i.createElement(s.Z,{title:"All",disabled:123456==rl,clicked:()=>ul(123456),clear:!0})))},at=null===wl||void 0===wl||null===(t=wl.component_fields)||void 0===t||null===(C=t.find(e=>"Status"===e.data_type_name))||void 0===C?void 0:C.value,st=(null===Xe||void 0===Xe||null===(k=Xe.processModule)||void 0===k||null===(M=k.steps)||void 0===M?void 0:M.length)>0?null===Xe||void 0===Xe||null===(S=Xe.processModule)||void 0===S||null===(T=S.steps)||void 0===T||null===(N=T.find(e=>(null===e||void 0===e?void 0:e.component_blueprints.filter(e=>e.selected_fields.filter(e=>"Status"===e.data_type_name).length>0).length)>0))||void 0===N||null===(I=N.component_blueprints)||void 0===I||null===(P=I.find(e=>e.selected_fields.filter(e=>"Status"===e.data_type_name).length>0))||void 0===P||null===(O=P.options)||void 0===O?void 0:O.showOnly:void 0,rt=(null===Xe||void 0===Xe||null===(W=Xe.processModule)||void 0===W||null===(A=W.steps)||void 0===A?void 0:A.length)>0?null===Xe||void 0===Xe||null===(z=Xe.processModule)||void 0===z||null===(de=z.steps)||void 0===de||null===(ae=de.find(e=>(null===e||void 0===e?void 0:e.component_blueprints.filter(e=>e.selected_fields.filter(e=>"Freehand"===e.data_type_name).length>0).length)>0))||void 0===ae||null===(se=ae.component_blueprints.find(e=>{var l;return(null===(l=e.selected_fields.filter(e=>"Freehand"===e.data_type_name))||void 0===l?void 0:l.length)>0}))||void 0===se||null===(re=se.options)||void 0===re?void 0:re.showOnly:void 0,ut=(null===Xe||void 0===Xe||null===(ue=Xe.processModule)||void 0===ue||null===(ve=ue.steps)||void 0===ve?void 0:ve.length)>0?null===Xe||void 0===Xe||null===(pe=Xe.processModule)||void 0===pe||null===(ce=pe.steps)||void 0===ce||null===(me=ce.find(e=>(null===e||void 0===e?void 0:e.component_blueprints.filter(e=>e.selected_fields.filter(e=>"Action Button"===e.data_type_name).length>0).length)>0))||void 0===me||null===(he=me.component_blueprints)||void 0===he||null===(fe=he.find(e=>e.selected_fields.filter(e=>"Action Button"===e.data_type_name).length>0))||void 0===fe||null===(_e=fe.options)||void 0===_e?void 0:_e.showOnly:void 0,vt=(0,i.memo)(()=>{var e,l;return(null===Ve||void 0===Ve||null===(e=Ve.pinned_modules)||void 0===e?void 0:e.length)>0&&ne.sortWith([ne.descend(ne.prop("name"))])(null!==(l=null===Ve||void 0===Ve?void 0:Ve.pinned_modules)&&void 0!==l?l:[]).filter(e=>{var l;return!(null!==(l=e.options)&&void 0!==l&&l.asGraphical)}).map((e,l)=>{var t,n,d,a,r,u,v,p,h,C,k,M,S,T,Z,N,I,P,O,W,A,Y,F,z,j,Q,J,G,$,ee,le,te,oe,ie,de,ae,se,re,ue,ve,pe;const ce=je.find(l=>{var t;return l.id===(null===e||void 0===e||null===(t=e.procedure)||void 0===t?void 0:t.id)});return ce&&i.createElement("div",{key:l},i.createElement("div",{style:{minWidth:B.tq?"100%":"600px",marginBottom:"20px",width:(B.tq,"100%")}},i.createElement(D,{cardTitle:e.name,withAddButton:!(null!==e&&void 0!==e&&null!==(t=e.options)&&void 0!==t&&t.single||1==(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.readOnly)&&"manager"!==Ve.user_type&&"admin"!==Ve.user_type)&&(!!(null!==(d=!(null!==(a=e.options)&&void 0!==a&&a.asGraphical))&&void 0!==d?d:ce)&&((null===ce||void 0===ce?void 0:ce.steps.length)>0&&("trial_ended"!==Ge.status&&"inactive"!==Ge.status))),onAddItem:()=>{var l,t;(0,f.OQ)(!0,!0).pipe((0,y.q)(1)).subscribe({}),Ge.start=!1,(0,w.aK)().pipe((0,b.P)()).subscribe({}),g.h.dispatch((0,c.IW)(!1)),g.h.dispatch((0,c.q4)((0,o.Z)((0,o.Z)({},e.procedure),{},{completeSteps:Xe.processModule.steps,steps:Xe.processModule.steps,stepIndex:1,module_id:e.id,module:e}))),kl({action:U._U.setModuleItems,value:[]}),kl({action:U._U.setModuleNewStepComponents,value:[]}),kl({action:U._U.setComponents,value:[]}),(null===ce||void 0===ce||null===(l=ce.steps)||void 0===l?void 0:l.length)>0&&(null===(t=ce.steps)||void 0===t||t.filter(e=>{var l;return null===e||void 0===e||null===(l=e.component_blueprints)||void 0===l?void 0:l.filter(e=>e.selected_fields.filter(e=>e.value=void 0))})),Vl("/begin-module")},loading:ol,endLabel:B.tq||!0===(null===(r=e.options)||void 0===r?void 0:r.asGraphical)?"":"Created Date"},(e=>{const l=Je.filter(l=>l.module_id===e.id&&"Closed"!==(null===l||void 0===l?void 0:l.status));let t=Math.ceil((null!==e&&void 0!==e&&e.count?+(null===e||void 0===e?void 0:e.count):l.length)/_.M4);B.tq&&t>7?t=7:!B.tq&&t>23&&(t=23);const n=l.length>0?l.length<_.M4+1||123456==vl?ne.sortWith([ne.descend(ne.prop("created_date"))])(l):ne.sortWith([ne.descend(ne.prop("created_date"))])(l).slice(vl*_.M4-_.M4,vl*_.M4):[],d=l=>{var t,i,n,d,a,s,r,u,v,p,m,h,f,y,E,w,x,C,k,M,S,T,D,q,Z,N,I,P,O,W;const A=je.find(l=>l.id===e.procedure.id);xl(l),Ge.start=!0;let B=[];(null===A||void 0===A||null===(t=A.steps)||void 0===t?void 0:t.length)>0&&(null===A||void 0===A||null===(i=A.steps)||void 0===i||i.filter(e=>{var l;return null===e||void 0===e||null===(l=e.component_blueprints)||void 0===l?void 0:l.filter(e=>e.selected_fields.filter(e=>e.value=void 0))})),ne.uniqWith(ne.eqProps("group"))(l.component_fields).map(e=>{B=[...B,{id:e.component_blueprint_id,temp_id:e.id,selected_fields:ne.filter(ne.propEq("group",e.group))(l.component_fields)}]}),A.steps.filter(e=>{e.component_blueprints.filter(e=>{e.selected_fields.filter(e=>{var t;const o=null===(t=l.component_fields)||void 0===t?void 0:t.find(l=>l.field_name===e.field_name);if(void 0!=o)e.value=o.value,e.group=o.group;else if("Record"===e.data_type_name){var i;const t=null===(i=l.component_fields)||void 0===i?void 0:i.find(l=>l.field_name===e.options.name);void 0!=t&&(e.value=t.value,e.group=t.group)}})})}),kl({action:U._U.setComponents,value:B}),kl({action:U._U.setModuleItems,value:JSON.parse(JSON.stringify(l.component_items))});const R=A.steps.filter(e=>{var l,t,o,i,n,d;return void 0==(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.showStepAll)||1==(null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.showStepAll)||0==(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.showStepAll)&&((null===e||void 0===e||null===(i=e.options)||void 0===i||null===(n=i.showOnly)||void 0===n?void 0:n.filter(e=>Ve.positions.map(e=>e.id).indexOf(e)>-1).length)>0||(null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.showStepAuthor)&&(null===Ve||void 0===Ve?void 0:Ve.id)===(null===A||void 0===A?void 0:A.user_id))}).map((e,l)=>(0,o.Z)((0,o.Z)({},e),{},{rank:l+1})),L=(null===Xe||void 0===Xe||null===(n=Xe.processModule)||void 0===n||null===(d=n.steps)||void 0===d?void 0:d.length)>0?null===Xe||void 0===Xe||null===(a=Xe.processModule)||void 0===a||null===(s=a.steps)||void 0===s||null===(r=s.find(e=>(null===e||void 0===e?void 0:e.component_blueprints.filter(e=>e.selected_fields.filter(e=>"Status"===e.data_type_name).length>0).length)>0))||void 0===r||null===(u=r.component_blueprints)||void 0===u||null===(v=u.find(e=>e.selected_fields.filter(e=>"Status"===e.data_type_name).length>0))||void 0===v||null===(p=v.options)||void 0===p?void 0:p.showOnly:[],Y=(null===Xe||void 0===Xe||null===(m=Xe.processModule)||void 0===m||null===(h=m.steps)||void 0===h?void 0:h.length)>0?null===Xe||void 0===Xe||null===(f=Xe.processModule)||void 0===f||null===(y=f.steps)||void 0===y||null===(E=y.find(e=>(null===e||void 0===e?void 0:e.component_blueprints.filter(e=>e.selected_fields.filter(e=>"Action Button"===e.data_type_name).length>0).length)>0))||void 0===E||null===(w=E.component_blueprints.find(e=>{var l;return(null===(l=e.selected_fields.filter(e=>"Action Button"===e.data_type_name))||void 0===l?void 0:l.length)>0}))||void 0===w||null===(x=w.options)||void 0===x?void 0:x.showOnly:[],F=void 0===at&&((null===Ve||void 0===Ve?void 0:Ve.id)===(null===A||void 0===A?void 0:A.user_id)||(null===L||void 0===L?void 0:L.filter(e=>Ve.positions.map(e=>e.id).indexOf(e)>-1).length)>0)||(void 0===at||"New"===at||"Reopen"===at)&&(null===l||void 0===l||null===(C=l.created_by)||void 0===C?void 0:C.id)===(null===Ve||void 0===Ve?void 0:Ve.id)||void 0!==at&&!("Closed"===at||at===(null!==(k=null===(M=Xe.processModule)||void 0===M||null===(S=M.module)||void 0===S||null===(T=S.options)||void 0===T?void 0:T.lock)&&void 0!==k?k:null===Ge||void 0===Ge||null===(D=Ge.misc_info)||void 0===D?void 0:D.lock))&&(null===L||void 0===L?void 0:L.filter(e=>Ve.positions.map(e=>e.id).indexOf(e)>-1).length)>0&&(1!=(null===Qe||void 0===Qe||null===(q=Qe.find(e=>e.id===l.module_id))||void 0===q||null===(Z=q.options)||void 0===Z?void 0:Z.strict)||(null===l||void 0===l||null===(N=l.created_by)||void 0===N?void 0:N.id)!==(null===Ve||void 0===Ve?void 0:Ve.id))||!1===(null===l||void 0===l?void 0:l.is_complete)&&(null===l||void 0===l||null===(I=l.created_by)||void 0===I?void 0:I.id)===(null===Ve||void 0===Ve?void 0:Ve.id),z=(0,_.cQ)(at,Y,l,Ve,Xe,Ge),V=null!==(P=null===(O=l.component_fields.find(e=>"Action Button"===e.data_type_name))||void 0===O?void 0:O.value)&&void 0!==P?P:"";var j,Q,J;g.h.dispatch((0,c.q4)((0,o.Z)((0,o.Z)({},A),{},{completeSteps:A.steps,steps:R,stepIndex:1==F&&l.created_by.id===Ve.id&&V||(!F||l.created_by.id!==Ve.id&&A.user_id!==Ve.id)&&(!z||V!==Ve.id&&A.user_id!==Ve.id)?0:1,canEdit:!(1==F&&l.created_by.id===Ve.id&&V||(!F||l.created_by.id!==Ve.id&&A.user_id!==Ve.id)&&(!z||V!==Ve.id&&A.user_id!==Ve.id)),back_array:R.length>0?[R[0].id]:[],module_id:l.module_id,module:null===Qe||void 0===Qe?void 0:Qe.find(e=>e.id===l.module_id),isUpdating:!0,selectedComponent:l,showDetail:!0}))),null!==l&&void 0!==l&&null!==(W=l.assigned_to)&&void 0!==W&&W.id&&!He.find(e=>{var t;return e.id===(null===l||void 0===l||null===(t=l.assigned_to)||void 0===t?void 0:t.id)})?(il(!0),(0,X.VG)(He.find(e=>{var t;return e.id===(null===(t=l.created_by)||void 0===t?void 0:t.id)})?[null===l||void 0===l||null===(j=l.assigned_to)||void 0===j?void 0:j.id]:[null===l||void 0===l||null===(Q=l.assigned_to)||void 0===Q?void 0:Q.id,null===l||void 0===l||null===(J=l.created_by)||void 0===J?void 0:J.id]).pipe((0,b.P)()).subscribe({next:e=>{g.h.dispatch((0,c.NY)(He.concat(e))),il(!1),El(!0)},error:()=>{}})):El(!0)};return i.createElement("div",null,l.length>0?n.map((l,t)=>i.createElement("div",{key:t},i.createElement(R,{isEditable:!1,options:null===e||void 0===e?void 0:e.options,component:l,clicked:()=>{var e;if(0===(null===(e=l.component_fields)||void 0===e?void 0:e.length))return il(!0),void(0,f.r6)(l.id).pipe((0,b.P)()).subscribe({next:e=>{d(e),il(!1)},error:()=>{}});d(l)},setComponentToEdit:()=>{},openModal:()=>{}}))):"No items found",i.createElement("div",{style:{display:t>1?"flex":"none",margin:"20px 0 0 0"}},l.length>0&&i.createElement(i.Fragment,null,i.createElement("p",{style:{padding:"0 10px 0 0",fontSize:"14px"}},"Page:"),t>0&&[...Array(t)].map((t,o)=>i.createElement(s.Z,{title:o+1,disabled:o==vl-1,clear:!0,key:o,style:{maxWidth:"34px",minWidth:"20px",display:o<16?"":"none",padding:"0"},titleContainer:m.pageContainer,clicked:()=>{const t=Math.ceil(l.length/_.M4),i=o+1;i>t?(il(!0),$e.componentsByModule[e.name]=0,(0,E.vC)(e,_.Qc,i-t<=1?_.M4:_.M4*i,i-t<=1?i:1).pipe((0,y.q)(1)).subscribe({next:l=>{var t;il(!1),$e.componentsByModule[e.name]=(0,q.now)(),e.lastUpdate=0,e.count=null!==(t=null===l||void 0===l?void 0:l.total)&&void 0!==t?t:0,pl(i)}}),i==t&&pl(i)):pl(i)}}))),i.createElement(s.Z,{title:"All",disabled:123456==vl,clicked:()=>{(0,E.vC)(e,_.Qc,999999,1).pipe((0,y.q)(1)).subscribe({next:l=>{var t;il(!1),e.lastUpdate=0,e.count=null!==(t=null===l||void 0===l?void 0:l.total)&&void 0!==t?t:0}}),pl(123456)},clear:!0})))})(e))),bl&&i.createElement(x.U7,{onClose:()=>El(!1),hasCloseIcon:!!B.tq||0==(null===wl||void 0===wl||null===(u=wl.component_fields)||void 0===u?void 0:u.length),blured:!0,scrollable:!0,isOpen:bl,backdropColor:!0,shadowedContainerStyle:{width:"100%",height:"auto",minWidth:B.tq?"100%":"1000px",backgroundColor:B.tq?"":"transparent"}},i.createElement(L.rr,{print:Ml,ref:Xl,begunModule:Xe,allModules:Qe,companyData:Ge,components:Je,selectedComponent:wl,companyUsersArray:He},(null===wl||void 0===wl||null===(v=wl.component_fields)||void 0===v?void 0:v.length)>0&&i.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",padding:Ml?"0 30%":"0 20%"}},!Ml&&i.createElement(s.Z,{title:"Close",style:{width:B.tq?"90%":"120px"},clicked:()=>{xl({}),El(!1),Sl(!1),g.h.dispatch((0,c.q4)(""))}}),(0,_.cQ)(at,ut,wl,Ve,Xe,Ge)&&(null===Xe||void 0===Xe||null===(p=Xe.processModule)||void 0===p||null===(h=p.steps)||void 0===h||null===(C=h.find(e=>e.component_blueprints.filter(e=>e.selected_fields.filter(e=>"Action Button"===e.data_type_name).length>0).length>0))||void 0===C||null===(k=C.component_blueprints.find(e=>e.selected_fields.filter(e=>"Action Button"===e.data_type_name).length>0))||void 0===k?void 0:k.selected_fields.filter(e=>"Action Button"===e.data_type_name).map((e,l)=>{var t,n;if("status"===e.options.action){var d,a,r,u,v,p,h,y;let t=(null===Ge||void 0===Ge||null===(d=Ge.misc_info)||void 0===d||null===(a=d.status)||void 0===a?void 0:a.length)>0?null===Ge||void 0===Ge||null===(r=Ge.misc_info)||void 0===r?void 0:r.status:_.MO;var E;if((null===Ge||void 0===Ge||null===(u=Ge.misc_info)||void 0===u||null===(v=u.rules)||void 0===v?void 0:v.length)>0)null===Ge||void 0===Ge||null===(E=Ge.misc_info)||void 0===E||E.rules.filter(e=>"status"===e.type).filter(l=>{l.valueCondition===e.value&&(t="0"===l.allow?t.filter(e=>l.values.includes(e.value)):t.filter(e=>!l.values.includes(e.value)))});return i.createElement("div",{key:l,style:{width:"100%",display:"user"===e.options.action&&null!==(p=wl.component_fields)&&void 0!==p&&null!==(h=p.find(l=>l.procedure_step_blueprint_field_id===e.procedure_step_blueprint_field_id))&&void 0!==h&&h.value?"none":""}},i.createElement(K.Z,{titleProps:{fontSize:"16px",color:"var(--app-color-gray-light)"},className:m.multiselectComponent,key:l,visible:e.visible,mandatory:e.mandatory,value:null!==(y=e.value)&&void 0!==y?y:"",items:t,error:e.errors,onChange:l=>{var t,i,n,d;if(null!==(t=Xe.processModule)&&void 0!==t&&null!==(i=t.module)&&void 0!==i&&null!==(n=i.options)&&void 0!==n&&n.credits&&(l===(null===(d=Ge.options)||void 0===d?void 0:d.lock)||"Closed"===l)){var a,s,r,u,v,p,m,h;const e=null===Xe||void 0===Xe||null===(a=Xe.processModule)||void 0===a||null===(s=a.steps)||void 0===s||null===(r=s.find(e=>e.component_blueprints.filter(e=>e.selected_fields.filter(e=>"Payments"===e.data_type_name).length>0).length>0))||void 0===r||null===(u=r.component_blueprints.find(e=>e.selected_fields.filter(e=>"Payments"===e.data_type_name).length>0))||void 0===u?void 0:u.selected_fields.find(e=>"Payments"===e.data_type_name),l=null===(v=Cl.newStepComponents.concat(Cl.components).find(l=>l.selected_fields.filter(l=>{var t;return l.field_name===(null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.paymentField)}).length>0))||void 0===v||null===(p=v.selected_fields)||void 0===p?void 0:p.find(l=>{var t;return l.field_name===(null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.paymentField)});let t=0;if(null===(m=Xe.processModule)||void 0===m||null===(h=m.selectedComponent.payments)||void 0===h||!h.stripe_id)return El(!1),Xe.processModule.showDetail=!1,void g.h.dispatch((0,c.Xc)({show:!0,message:"Check support payment docs",color:"red",spinner:!1,bottom:!0}));var y,E;if(!(+(null!==(y=null===l||void 0===l?void 0:l.value)&&void 0!==y?y:0)>0))return void g.h.dispatch((0,c.Xc)({show:!0,message:"No amount found",color:"red",spinner:!1,bottom:!0}));t=+(null!==(E=null===l||void 0===l?void 0:l.value)&&void 0!==E?E:0),"Cash"!==(null===e||void 0===e?void 0:e.value)&&(0,H.e_)({user_id:Ve.id,id:(0,_.mR)(),total:t,product:"CR-".concat(null===wl||void 0===wl?void 0:wl.title),notes:"Wallet",quantity:1}).pipe((0,b.P)()).subscribe({next:()=>{var e;Ve.wallet=+(+(null!==(e=null===Ve||void 0===Ve?void 0:Ve.wallet)&&void 0!==e?e:0)+t)}})}Ge.start=!0,il(!0),(0,f.C0)({component_id:wl.id,index:0,group:99,value:l,procedure_step_blueprint_field_id:e.procedure_step_blueprint_field_id}).subscribe({next:()=>{il(!1),El(!1),g.h.dispatch((0,c.q4)((0,o.Z)((0,o.Z)({},Xe.processModule),{},{showDetail:!1})))}})},fieldIcon:e.icon,fieldLabel:e.field_name,placeholder:"Select status..."}))}return i.createElement(s.Z,{key:l,light:!0,title:e.field_name,loading:ol,clicked:()=>{if("user"===e.options.action||"creator"===e.options.action){var l,t,i;const w="user"===e.options.action?Ve:He.find(e=>{var l;return e.id===(null===(l=wl.created_by)||void 0===l?void 0:l.id)});if(null!==(l=Xe.processModule)&&void 0!==l&&null!==(t=l.module)&&void 0!==t&&null!==(i=t.options)&&void 0!==i&&i.credits&&"user"===e.options.action){var n,d,a,s,r,u,v,p,m,h;const e=null===Xe||void 0===Xe||null===(n=Xe.processModule)||void 0===n||null===(d=n.steps)||void 0===d||null===(a=d.find(e=>e.component_blueprints.filter(e=>e.selected_fields.filter(e=>"Payments"===e.data_type_name).length>0).length>0))||void 0===a||null===(s=a.component_blueprints.find(e=>e.selected_fields.filter(e=>"Payments"===e.data_type_name).length>0))||void 0===s?void 0:s.selected_fields.find(e=>"Payments"===e.data_type_name),l=null===(r=Cl.newStepComponents.concat(Cl.components).find(l=>l.selected_fields.filter(l=>{var t;return l.field_name===(null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.paymentField)}).length>0))||void 0===r||null===(u=r.selected_fields)||void 0===u?void 0:u.find(l=>{var t;return l.field_name===(null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.paymentField)});let t=0;if(void 0===(null===w||void 0===w?void 0:w.wallet)||0===(null===w||void 0===w?void 0:w.wallet))return g.h.dispatch((0,c.Xc)({show:!0,message:"You need to setup funds for your wallet",color:"red",spinner:!1,bottom:!0})),Xe.processModule.showDetail=!1,void El(!1);if(+(null!==(v=null===l||void 0===l?void 0:l.value)&&void 0!==v?v:0)>0&&"Cash"===(null===e||void 0===e?void 0:e.value)){var y,E;if((null!==(y=+(null===w||void 0===w?void 0:w.wallet))&&void 0!==y?y:0)<+(null===l||void 0===l?void 0:l.value))return g.h.dispatch((0,c.Xc)({show:!0,message:"Insufficient funds in wallet",color:"red",spinner:!1,bottom:!0})),Xe.processModule.showDetail=!1,void El(!1);t=+(null!==(E=null===l||void 0===l?void 0:l.value)&&void 0!==E?E:0)}else if(null===(p=Xe.processModule)||void 0===p||null===(m=p.selectedComponent)||void 0===m||null===(h=m.payments)||void 0===h||!h.stripe_id)return El(!1),Xe.processModule.showDetail=!1,void g.h.dispatch((0,c.Xc)({show:!0,message:"Check support payment docs",color:"red",spinner:!1,bottom:!0}));"Cash"===(null===e||void 0===e?void 0:e.value)&&(0,H.e_)({user_id:Ve.id,id:(0,_.mR)(),total:-t,product:"DB-".concat(null===wl||void 0===wl?void 0:wl.title),notes:"Wallet",quantity:1}).pipe((0,b.P)()).subscribe({next:()=>{var e;return w.wallet=+(+(null!==(e=null===w||void 0===w?void 0:w.wallet)&&void 0!==e?e:0)-t)},error:()=>g.h.dispatch((0,c.Xc)({show:!0,message:"Purchase error encountered",color:"red",spinner:!1,bottom:!0}))})}il(!0),(0,f.C0)({component_id:wl.id,index:0,group:99,value:w.id,procedure_step_blueprint_field_id:e.procedure_step_blueprint_field_id}).subscribe({next:e=>{(0,f.dn)(wl.id,w.id).subscribe({next:e=>{il(!1),El(!1),g.h.dispatch((0,c.q4)((0,o.Z)((0,o.Z)({},Xe.processModule),{},{showDetail:!1})))}})},error:()=>{},complete:()=>{}})}else"status"===e.options.action||"date"===e.options.action||e.options.action,il(!1)},style:{backgroundColor:"green",color:"white",width:B.tq?"90%":"100px",display:"user"===e.options.action&&null!==(t=wl.component_fields)&&void 0!==t&&null!==(n=t.find(l=>l.procedure_step_blueprint_field_id===e.procedure_step_blueprint_field_id))&&void 0!==n&&n.value?"none":""}})})),(void 0===at&&(null===ut||void 0===ut?void 0:ut.filter(e=>Ve.positions.map(e=>e.id).indexOf(e)>-1).length)>0||void 0!==at&&!("Hide"===at||"Closed"===at||at===(null!==(M=null===(S=Xe.processModule)||void 0===S||null===(T=S.module)||void 0===T||null===(Z=T.options)||void 0===Z?void 0:Z.lock)&&void 0!==M?M:null===Ge||void 0===Ge||null===(N=Ge.misc_info)||void 0===N?void 0:N.lock))&&(null===ut||void 0===ut?void 0:ut.filter(e=>Ve.positions.map(e=>e.id).indexOf(e)>-1).length)>0&&(1!=(null===Xe||void 0===Xe||null===(I=Xe.processModule)||void 0===I||null===(P=I.module)||void 0===P||null===(O=P.options)||void 0===O?void 0:O.strict)||(null===wl||void 0===wl||null===(W=wl.created_by)||void 0===W?void 0:W.id)!==(null===Ve||void 0===Ve?void 0:Ve.id)))&&wl.created_by!==(null===Ve||void 0===Ve?void 0:Ve.id)&&(null===Xe||void 0===Xe||null===(A=Xe.processModule)||void 0===A||null===(Y=A.steps[0].component_blueprints.find(e=>e.selected_fields.filter(e=>"Action Button"===e.data_type_name).length>0))||void 0===Y?void 0:Y.selected_fields.filter(e=>"Action Button"===e.data_type_name).map((e,l)=>{var t,o;return i.createElement(s.Z,{key:l,title:e.field_name,loading:ol,clicked:()=>{"user"===e.options.action?(il(!0),(0,f.C0)({component_id:wl.id,index:e.index,group:99,value:Ve.id,procedure_step_blueprint_field_id:e.procedure_step_blueprint_field_id}).subscribe({next:e=>{il(!1),El(!1)},error:()=>{},complete:()=>{}})):"status"===e.options.action||"date"===e.options.action||e.options.action},style:{backgroundColor:"green",color:"white",width:B.tq?"90%":"120px",display:"user"===e.options.action&&null!==(t=wl.component_fields)&&void 0!==t&&null!==(o=t.find(l=>l.procedure_step_blueprint_field_id===e.procedure_step_blueprint_field_id))&&void 0!==o&&o.value?"none":""}})})),Ml&&i.createElement(s.Z,{light:!0,title:"Close",style:{width:B.tq?"90%":"120px"},clicked:()=>{Sl(!1)}}),(void 0===at&&((null===Ve||void 0===Ve?void 0:Ve.id)===(null===Xe||void 0===Xe||null===(F=Xe.processModule)||void 0===F?void 0:F.user_id)||(null===st||void 0===st?void 0:st.filter(e=>Ve.positions.map(e=>e.id).indexOf(e)>-1).length)>0||(null===rt||void 0===rt?void 0:rt.filter(e=>Ve.positions.map(e=>e.id).indexOf(e)>-1).length)>0)||(void 0===at||"New"===at||"Reopen"===at)&&((null===wl||void 0===wl||null===(z=wl.created_by)||void 0===z?void 0:z.id)===(null===Ve||void 0===Ve?void 0:Ve.id)||(null===wl||void 0===wl||null===(j=wl.assigned_to)||void 0===j?void 0:j.id)===(null===Ve||void 0===Ve?void 0:Ve.id))||void 0!==at&&!("Closed"===at||at===(null!==(Q=null===(J=Xe.processModule)||void 0===J||null===(G=J.module)||void 0===G||null===($=G.options)||void 0===$?void 0:$.lock)&&void 0!==Q?Q:null===Ge||void 0===Ge||null===(ee=Ge.misc_info)||void 0===ee?void 0:ee.lock))&&((null===st||void 0===st?void 0:st.filter(e=>Ve.positions.map(e=>e.id).indexOf(e)>-1).length)>0||(null===rt||void 0===rt?void 0:rt.filter(e=>Ve.positions.map(e=>e.id).indexOf(e)>-1).length)>0)&&(1!=(null===Ve||void 0===Ve||null===(le=Ve.pinned_modules)||void 0===le||null===(te=le.find(e=>e.id===wl.module_id))||void 0===te||null===(oe=te.options)||void 0===oe?void 0:oe.strict)||(null===wl||void 0===wl||null===(ie=wl.created_by)||void 0===ie?void 0:ie.id)!==(null===Ve||void 0===Ve?void 0:Ve.id))||(null===(de=Xe.processModule)||void 0===de||null===(ae=de.module)||void 0===ae||null===(se=ae.options)||void 0===se?void 0:se.allEdit)||!1===(null===wl||void 0===wl?void 0:wl.is_complete)&&(null===wl||void 0===wl||null===(re=wl.created_by)||void 0===re?void 0:re.id)===(null===Ve||void 0===Ve?void 0:Ve.id))&&!Ml&&i.createElement(s.Z,{light:!0,title:"Edit",style:{backgroundColor:B.tq?"var(--app-color-blue)":"",color:B.tq?"white":"",width:B.tq?"90%":"120px",display:0===(null===(ue=wl.component_fields)||void 0===ue?void 0:ue.filter(e=>"Action Button"===e.data_type_name&&"user"===e.options.action).length)||0===(null===(ve=wl.component_fields)||void 0===ve?void 0:ve.filter(e=>"Action Button"===e.data_type_name&&"user"===e.options.action&&void 0===e.value).length)&&(null===(pe=wl.component_fields)||void 0===pe?void 0:pe.filter(e=>"Action Button"===e.data_type_name&&"user"===e.options.action&&e.value===(null===Ve||void 0===Ve?void 0:Ve.id)).length)>0?"":"none"},clicked:()=>{var e,l,t,i,n;let d=[];(null===Xe||void 0===Xe||null===(e=Xe.processModule)||void 0===e||null===(l=e.steps)||void 0===l?void 0:l.length)>0&&(null===Xe||void 0===Xe||null===(t=Xe.processModule)||void 0===t||null===(i=t.steps)||void 0===i||i.filter(e=>{var l;return null===e||void 0===e||null===(l=e.component_blueprints)||void 0===l?void 0:l.filter(e=>e.selected_fields.filter(e=>e.value=void 0))})),ne.uniqWith(ne.eqProps("group"))(wl.component_fields).map(e=>{d=[...d,{id:e.component_blueprint_id,temp_id:e.id,selected_fields:ne.filter(ne.propEq("group",e.group))(wl.component_fields)}]}),Xe.processModule.steps.filter(e=>{e.component_blueprints.filter(e=>{e.selected_fields.filter(e=>{var l;const t=null===(l=wl.component_fields)||void 0===l?void 0:l.find(l=>l.field_name===e.field_name);if(void 0!=t)e.value=t.value;else if("Record"===e.data_type_name){var o;const l=null===(o=wl.component_fields)||void 0===o?void 0:o.find(l=>l.field_name===e.options.name);void 0!=l&&(e.value=l.value)}})})}),kl({action:U._U.setComponents,value:d}),kl({action:U._U.setModuleItems,value:JSON.parse(JSON.stringify(wl.component_items))}),g.h.dispatch((0,c.IW)(!1));const a=Xe.processModule.steps.filter(e=>{var l,t,o,i,n,d,a;return void 0==(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.showStepAll)||1==(null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.showStepAll)||0==(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.showStepAll)&&(null===e||void 0===e||null===(i=e.options)||void 0===i||null===(n=i.showOnly)||void 0===n?void 0:n.filter(e=>Ve.positions.map(e=>e.id).indexOf(e)>-1).length)>0||(null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.showStepAuthor)&&(null===Ve||void 0===Ve?void 0:Ve.id)===(null===(a=Xe.processModule)||void 0===a?void 0:a.user_id)}).map((e,l)=>(0,o.Z)((0,o.Z)({},e),{},{rank:l+1}));g.h.dispatch((0,c.q4)((0,o.Z)((0,o.Z)({},Xe.processModule),{},{completeSteps:Xe.processModule.steps,steps:a,stepIndex:null!==(n=Xe.processModule.module.options)&&void 0!==n&&n.single?0:1,back_array:a.length>0?[a[0].id]:[],module_id:wl.module_id,module:null===Qe||void 0===Qe?void 0:Qe.find(e=>e.id===wl.module_id),isUpdating:!0,selectedComponent:wl}))),Vl("/begin-module")}}),!Ml&&!B.tq&&i.createElement(s.Z,{light:!0,title:"Print",clicked:()=>Sl(!0),style:{width:"120px"}}),Ml&&i.createElement(V(),{trigger:()=>i.createElement("button",{className:m.singleButton},"Send to Printer"),content:()=>Xl.current})))))})}),pt=(0,i.memo)(()=>{var e;return i.createElement("div",{style:{display:null!==Ve&&void 0!==Ve&&null!==(e=Ve.ui_permissions)&&void 0!==e&&e.find(e=>"view-dashboard-task"===e)?"":"none"}},i.createElement("div",{className:m.headerContainer,style:{display:""}},i.createElement("div",{style:{paddingRight:"30px"}},i.createElement(s.Z,{titleStyle:{fontWeight:"normal"},className:Qe.length>1?m.newTaskButton:m.default,style:{width:"130px"},clicked:it,title:"New Task"})),i.createElement(s.Z,{clear:!0,icon:i.createElement("img",{src:d.Fd}),style:{width:"50px"},clicked:()=>{il(!0),(0,p.km)(Ve.id,_.RI).pipe((0,y.q)(1)).subscribe({complete:()=>il(!1)})}})),i.createElement(Y.mQ,{style:{width:"100%",fontFamily:"var(--app-text-main-font)",fontSize:"16px"},selectedIndex:gl,onSelect:e=>{yl(e),ul(1)}},i.createElement(Y.td,null,i.createElement(Y.OK,null,"Today",(null===cl||void 0===cl?void 0:cl.todayTasks.length)>0&&" (".concat(null===cl||void 0===cl?void 0:cl.todayTasks.length,")")),i.createElement(Y.OK,null,"Overdue",(null===cl||void 0===cl?void 0:cl.overdueTasks.length)>0&&" (".concat(null===cl||void 0===cl?void 0:cl.overdueTasks.length,")")),i.createElement(Y.OK,null,"Upcoming",(null===cl||void 0===cl?void 0:cl.laterTasks.length)>0&&" (".concat(null===cl||void 0===cl?void 0:cl.laterTasks.length,")")),i.createElement(Y.OK,null,"Completed")),i.createElement(Y.x4,null,i.createElement("div",{style:{minWidth:B.tq?"100%":"600px",marginTop:"20px",width:"100%"}},i.createElement(r.Z,{cardTitle:"Tasks for Today"},dt(cl.todayTasks)))),i.createElement(Y.x4,null,i.createElement("div",{style:{minWidth:B.tq?"100%":"600px",marginTop:"20px",width:"100%"}},i.createElement(r.Z,{cardTitle:"Overdue Tasks"},dt(cl.overdueTasks)))),i.createElement(Y.x4,null,i.createElement("div",{style:{minWidth:B.tq?"100%":"600px",marginTop:"20px",width:"100%"}},i.createElement(r.Z,{cardTitle:"Upcoming Tasks"},dt(cl.laterTasks)))),i.createElement(Y.x4,null,i.createElement("div",{style:{minWidth:B.tq?"100%":"600px",marginTop:"20px",width:"100%"}},i.createElement(r.Z,{cardTitle:"Completed Tasks"},(e=>{let l=Math.ceil(e.length/_.M4);B.tq&&l>8?l=7:!B.tq&&l>23&&(l=23);const t=e.length>0?e.length<_.M4-1||123456==rl?ne.sortWith([ne.descend(ne.prop("completed_at"))])(e):ne.sortWith([ne.descend(ne.prop("completed_at"))])(e).slice(rl*_.M4-_.M4,rl*_.M4):[];return i.createElement("div",null,i.createElement("div",{style:{fontSize:"12px",textAlign:"right"}},(null===e||void 0===e?void 0:e.length)>0?"Completed Date":""),e.length>0?t.map((e,l)=>{var t,o;return i.createElement("div",{key:l},i.createElement(u.Z,{false:!0,task:e,clicked:()=>{},taskId:e.id,setTaskToEdit:()=>_l(e),openModal:()=>nt(),priority:null!==(null===e||void 0===e||null===(t=e.add_info)||void 0===t?void 0:t.priority)?null===(o=_._l.find(l=>{var t;return l.value===(null===e||void 0===e||null===(t=e.add_info)||void 0===t?void 0:t.priority)}))||void 0===o?void 0:o.icon:""}))}):"No tasks found",e.length>0&&i.createElement("div",{style:{display:l>1?"flex":"none",margin:"20px 0 0 0"}},i.createElement("p",{style:{padding:"0 10px 0 0",fontSize:"14px"}},"Page:"),l>0&&[...Array(l)].map((e,l)=>i.createElement(s.Z,{title:l+1,titleContainer:m.pageContainer,disabled:l==rl-1,clear:!0,key:l,style:{fontSize:"10px",maxWidth:"34px",minWidth:"20px",padding:"0",display:l<18?"":"none"},clicked:()=>ul(l+1)})),i.createElement(s.Z,{title:"All",disabled:123456==rl,clicked:()=>ul(123456),clear:!0})))})(cl.completedTasks)))),i.createElement("br",null)))}),ct=(0,i.memo)(()=>i.createElement("div",{style:{marginTop:"20px",width:B.tq?"120%":"50%",display:"superadmin"===Ve.user_type?"":"none"}},i.createElement("div",{className:m.headerContainer,style:{display:""}},i.createElement("div",{style:{paddingRight:"30px"}})),""!==(null===Tl||void 0===Tl?void 0:Tl.message)&&i.createElement(j.Z,{message:null===Tl||void 0===Tl?void 0:Tl.message,onClick:()=>Dl((0,o.Z)((0,o.Z)({},Tl),{},{message:""}))}),i.createElement(r.Z,{cardTitle:"Create Company"},i.createElement("div",null,i.createElement(x.Ev,{fieldLabel:"Company Name",style:{border:"0"},visible:!0},i.createElement("div",{className:m.fieldRowContainer},i.createElement("input",{onChange:e=>{Dl((0,o.Z)((0,o.Z)({},Tl),{},{companyName:e.target.value}))},autoComplete:"none",className:m.fieldTypeInput,name:"Company Name"}))),i.createElement(x.Ev,{fieldLabel:"Display Name",style:{border:"0"},visible:!0},i.createElement("div",{className:m.fieldRowContainer},i.createElement("input",{onChange:e=>{Dl((0,o.Z)((0,o.Z)({},Tl),{},{displayName:e.target.value}))},autoComplete:"none",className:m.fieldTypeInput,name:"Company Name"}))),i.createElement(x.Ev,{fieldLabel:"Slug",style:{border:"0"},visible:!0},i.createElement("div",{className:m.fieldRowContainer},i.createElement("input",{onChange:e=>{Dl((0,o.Z)((0,o.Z)({},Tl),{},{slug:e.target.value}))},autoComplete:"none",className:m.fieldTypeInput,name:"Slug"}))),i.createElement(x.Ev,{fieldLabel:"Email",style:{border:"0"},visible:!0},i.createElement("div",{className:m.fieldRowContainer},i.createElement("input",{onChange:e=>{Dl((0,o.Z)((0,o.Z)({},Tl),{},{email:e.target.value}))},autoComplete:"none",className:m.fieldTypeInput,name:"Email"}))),i.createElement(x.Ev,{fieldLabel:"First Name",style:{border:"0"},visible:!0},i.createElement("div",{className:m.fieldRowContainer},i.createElement("input",{onChange:e=>{Dl((0,o.Z)((0,o.Z)({},Tl),{},{firstName:e.target.value}))},autoComplete:"none",className:m.fieldTypeInput,name:"First Name"}))),i.createElement(x.Ev,{fieldLabel:"Last Name",style:{border:"0"},visible:!0},i.createElement("div",{className:m.fieldRowContainer},i.createElement("input",{onChange:e=>{Dl((0,o.Z)((0,o.Z)({},Tl),{},{lastName:e.target.value}))},autoComplete:"none",className:m.fieldTypeInput,name:"Last Name"})))))));return i.createElement(i.Fragment,null,i.createElement("div",{className:m.host,style:{display:"inactive"===Ge.status?"none":""}},!ll&&!B.tq&&i.createElement(ie.Z,{full:!0}),i.createElement("div",{className:m.dashboardPanel,style:{display:"flex",padding:B.tq?"":"0 2% 0 2%"}},!B.tq&&((null===Ve||void 0===Ve||null===(ge=Ve.pinned_modules)||void 0===ge?void 0:ge.length)>0||(null===Qe||void 0===Qe?void 0:Qe.length)>1)&&i.createElement("div",{style:{margin:"50px 0 0 0"}}),!B.tq&&i.createElement(r.Z,{style:{display:(null===Wl||void 0===Wl||null===(ye=Wl.candidates)||void 0===ye?void 0:ye.length)>0?"":"none",marginTop:"20px",width:"100%"},cardTitle:"Search Results:"},lt,i.createElement(s.Z,{lighter:!0,style:{width:"120px"},title:"Clear",clicked:()=>{Al({candidates:[]}),Il("")}})),i.createElement("div",{style:{width:"100%",alignItems:"center",marginTop:(Yl.length,"100px")}},i.createElement("div",{style:{width:"100%",minWidth:B.tq?"100%":"600px",overflow:"auto"}},(null===Ve||void 0===Ve||null===(be=Ve.pinned_modules)||void 0===be?void 0:be.length)>0||(null===Yl||void 0===Yl?void 0:Yl.length)>0?!B.tq&&i.createElement("div",{style:{display:"none",verticalAlign:"center"}},i.createElement("div",{className:m.searchContainer,style:{width:"100%"}},i.createElement("input",{placeholder:"How can we help you today?",className:m.searchInput,onChange:e=>{Il(e.target.value)},value:Nl}),i.createElement(x.rk,{items:Qe.map(e=>({label:e.name,value:e.id,module:e})),defaultSelected:"Orders",className:m.dropdownSelectComponent,tmiClassName:m.dropdownInput,molclassname:m.dropdownSelectMenuOverlayList,moliclassname:m.dropdownSelectMenuOverlayListItem,onChange:e=>{Ol(e)}}),i.createElement(s.Z,{clear:!0,clicked:()=>et(Nl,Pl),loading:ol,loaderRadius:"30"},!ol&&i.createElement(d.O,null)))):i.createElement("div",{style:{fontFamily:"var(--app-text-main-font)",fontSize:"18px",marginBottom:"100px"}},i.createElement("img",{alt:"",src:null!==(Ee=null===Ge||void 0===Ge||null===(we=Ge.company_standards)||void 0===we?void 0:we.banner)&&void 0!==Ee?Ee:a,style:{width:"100%",height:B.tq?"auto":"500px",margin:"auto",objectFit:"scale-down"}}),i.createElement("div",{className:m.modalTitle},i.createElement("p",null,null!==(xe=null===Ge||void 0===Ge||null===(Ce=Ge.company_standards)||void 0===Ce?void 0:Ce.welcome)&&void 0!==xe?xe:"Welcome to ".concat(Ge.display_name))),i.createElement("p",null,null!==(ke=null===Ge||void 0===Ge||null===(Me=Ge.company_standards)||void 0===Me?void 0:Me.message)&&void 0!==ke?ke:"This application is being run in FlowHero. This is our cloud solution designed to automate the various workflows of your company."),i.createElement("p",null,null!==(Se=null===Ge||void 0===Ge||null===(Te=Ge.company_standards)||void 0===Te?void 0:Te.subMessage)&&void 0!==Se?Se:"Workflows are the steps undertaken to complete a task and give a result. Modules are subsets of workflows. Think of modules as forms that uses workflows as the underlying steps to make it run, provide the inputs, outputs and create the transaction the workflow is meant to do. Multiple modules can be created from one workflow, all with distinguishing document IDs but having the same input and outputs.")),i.createElement(ee.tq,{slidesPerView:1,centeredSlides:!0,spaceBetween:10,initialSlide:1,pagination:{clickable:!0,dynamicBullets:!0},modules:[$.pt,$.tl],className:"mySwiper",autoplay:{delay:1e4,disableOnInteraction:!1},style:{zIndex:"-1"}},ne.sortWith([ne.descend(ne.prop("name"))])(null!==(De=null===Ve||void 0===Ve?void 0:Ve.pinned_modules)&&void 0!==De?De:[]).filter(e=>{var l;return null===(l=e.options)||void 0===l?void 0:l.asGraphical}).map(e=>je.find(l=>{var t;return l.id===(null===e||void 0===e||null===(t=e.procedure)||void 0===t?void 0:t.id)})&&Je.filter(l=>l.module_id===e.id&&"Closed"!==(null===l||void 0===l?void 0:l.status)).map((l,t)=>i.createElement(ee.o5,{key:t},i.createElement("div",{style:{width:"100%",height:"auto"},className:m.center},i.createElement(R,{isEditable:!1,options:null===e||void 0===e?void 0:e.options,component:l,clicked:()=>{},setComponentToEdit:()=>{},openModal:()=>{}})))))),i.createElement("div",{className:m.center,style:{justifyContent:(Yl.length,"center"),width:"auto",minWidth:B.tq?"100%":"340px",height:Yl.length>0?"":"auto",display:Yl.length>0?"":"none"}},(()=>{if(Yl.length>0)return i.createElement("div",{style:{width:"100%",flexDirection:"column",margin:B.tq?"10px 0 0 0":"30px 0 0 0"}},i.createElement("div",{style:{display:"flex",alignContent:"center",alignItems:(B.tq,""),flexDirection:"column",width:"100%"}},i.createElement("div",{style:{justifyContent:"left",display:"flex",flexDirection:B.tq?"column":"row",margin:"0px 20px 10px 0"}},Yl.filter(e=>"Formula"===e.data_type_name).map((e,l)=>{var t;let n=null!==(t=e.value)&&void 0!==t?t:0;return"Formula"===e.data_type_name&&(n=(0,_.LV)(e.options,Je,[],[],[])),Je.filter(l=>l.module_id===e.module_id).length>0?i.createElement("div",{key:l,className:m.dashboardCard,style:{margin:"10px",width:"100%",height:"auto",maxWidth:B.tq?"100%":"260px",borderRadius:"8px",border:"none",boxShadow:"0 5px 20px 0 rgba(0, 0, 0, 0.1)"},onClick:()=>{var l,t,i;(g.h.dispatch((0,c.IW)(!1)),g.h.dispatch((0,c.q4)((0,o.Z)((0,o.Z)({},e.procedure),{},{stepIndex:0,module_id:e.module_id,module:e.module}))),"countdateocc"===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.operator))?Vl("/modules/".concat(e.module_id,"?key=").concat(e.options.list.length>0?e.options.list[0]:"Status","&value=").concat(Z()((0,_.Ob)(null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.searchtext)).format("DD MMM YYYY"))):Vl("/modules/".concat(e.module_id,"?key=").concat(e.options.list.length>0?e.options.list[0]:"Status","&value=").concat(null!==(i=e.options.searchtext)&&void 0!==i?i:""))}},i.createElement("p",{style:{fontWeight:"bold",fontSize:B.tq?"10px":"16px"}},e.field_name),n):0==l&&i.createElement("div",{key:l})})),i.createElement("div",{style:{justifyContent:"left",display:"flex",margin:"10px 20px 10px 0",flexDirection:B.tq?"column":"row",width:"100%",mmaxHeight:"60vh"}},Yl.filter(e=>"Chart"===e.data_type_name).map((e,l)=>{var t,n,d,a,s,r,u,v,p,c;let m=[],h=[];if(Je.filter(l=>l.module_id===e.module_id).filter(l=>{var t;const o=(null!==(t=null===l||void 0===l?void 0:l.component_fields)&&void 0!==t?t:[]).find(l=>l.field_name===e.options.key);o&&(h=[...h,o.value])}),"Donut"===(null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.orientation)||"Custom"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.orientation)){var f,g,y,b,E,w;const t=null!==(f=null===e||void 0===e||null===(g=e.options)||void 0===g?void 0:g.config)&&void 0!==f?f:_.HR;var x,C,k,M,S;if(m=[...new Set(h)].map(l=>{var t,o,i,n,d,a;return"occurences"===(null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.operation)?h.filter(e=>e===l).length:"quantity"===(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.operation)?null!==e&&void 0!==e&&null!==(i=e.options)&&void 0!==i&&i.items?null===(d=ne.pipe(ne.pluck("component_items"),ne.flatten)(Je.filter(t=>t.module_id===e.module_id&&t.component_fields.find(t=>t.field_name===e.options.key&&t.value===l))).map(l=>{var t;return+l[null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.items[0]]}))||void 0===d?void 0:d.reduce((e,l)=>e+l,0):null!==e&&void 0!==e&&null!==(n=e.options)&&void 0!==n&&n.list?null===(a=ne.pipe(ne.pluck("component_fields"),ne.flatten)(Je.filter(t=>t.module_id===e.module_id&&t.component_fields.find(t=>t.field_name===e.options.key&&t.value===l))).map(l=>l.find(l=>{var t;return l.field_name===(null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.list[0])}).value))||void 0===a?void 0:a.reduce((e,l)=>e+ +l,0):0:void 0}),"Custom"===(null===e||void 0===e||null===(y=e.options)||void 0===y?void 0:y.orientation)&&"donut"===(null===t||void 0===t||null===(b=t.chart)||void 0===b?void 0:b.type))t.labels=[...new Set(h)],null!==t&&void 0!==t&&null!==(x=t.plotOptions)&&void 0!==x&&null!==(C=x.pie)&&void 0!==C&&null!==(k=C.donut)&&void 0!==k&&null!==(M=k.labels)&&void 0!==M&&null!==(S=M.total)&&void 0!==S&&S.label||(t.plotOptions.pie.donut.labels.total.label=e.field_name);return i.createElement("div",{key:l,style:{alignItems:"center",justifyContent:"center",margin:"10px",display:m.length>0?"flex":"none",width:"100%",maxWidth:"50vw",flexDirection:"column",borderRadius:"8px",border:"none",boxShadow:"0 5px 20px 0 rgba(0, 0, 0, 0.1)"}},i.createElement(oe.Z,{config:t,type:null===t||void 0===t||null===(E=t.chart)||void 0===E?void 0:E.type,orientation:null===e||void 0===e||null===(w=e.options)||void 0===w?void 0:w.orientation,series:m,title:B.tq?"":e.field_name,labels:B.tq?[]:[...new Set(h)]}))}if("Line"===(null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.orientation))m=[{name:"Product One",data:[23,11]},{name:"Product Two",data:[30,25]}];else if("Column"===(null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.orientation)){var T;m=[...new Set(null===e||void 0===e||null===(T=e.options)||void 0===T?void 0:T.labels)].map(l=>{var t,o,i,n;if("quantity"===(null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.operation))return null!==e&&void 0!==e&&null!==(o=e.options)&&void 0!==o&&o.items?{name:l,data:[44,55,41,67,22,43,65]}:null!==e&&void 0!==e&&null!==(i=e.options)&&void 0!==i&&i.list?null===(n=ne.pipe(ne.pluck("component_fields"),ne.flatten)(Je.filter(t=>t.module_id===e.module_id&&t.component_fields.find(t=>t.field_name===e.options.key&&t.value===l))).map(l=>l.find(l=>{var t;return l.field_name===(null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.list[0])}).value))||void 0===n?void 0:n.reduce((e,l)=>e+ +l,0):0})}else if("Bar"===(null===e||void 0===e||null===(s=e.options)||void 0===s?void 0:s.orientation)&&"latest"===(null===e||void 0===e||null===(r=e.options)||void 0===r?void 0:r.operation)){var D,q,Z,N,I,P,O,W,A,R,L,U;const t=null!==(D=null===e||void 0===e||null===(q=e.options)||void 0===q?void 0:q.config)&&void 0!==D?D:_.AM,n=ne.sortWith([ne.descend(ne.prop("created_date"))])(Je).find(l=>l.module_id===e.module_id&&"Closed"!==(null===l||void 0===l?void 0:l.status));return h=null===n||void 0===n||null===(Z=n.component_items)||void 0===Z?void 0:Z.map(l=>{var t;return l[null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.labels[0]]}),m=[{data:null===n||void 0===n||null===(N=n.component_items)||void 0===N?void 0:N.map(l=>{var t;return l[null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.items[0]]}),name:""}],i.createElement("div",{key:l,style:{alignItems:"center",justifyContent:"center",margin:"10px",display:(null===(I=m)||void 0===I?void 0:I.length)>0&&(null===(P=m[0].data)||void 0===P?void 0:P.length)>0?"flex":"none",width:"100%",flexDirection:"column",borderRadius:"8px",border:"none",boxShadow:"0 5px 20px 0 rgba(0, 0, 0, 0.1)"}},i.createElement("p",{style:{fontSize:"18px",fontFamily:"var(--app-text-font-mobile)"}},null!==(O=null===(W=e.options)||void 0===W?void 0:W.notes)&&void 0!==O?O:e.field_name),i.createElement(oe.Z,{config:(0,o.Z)((0,o.Z)({},t),{},{xaxis:{categories:h}}),type:null===t||void 0===t||null===(A=t.chart)||void 0===A?void 0:A.type,orientation:null===e||void 0===e||null===(R=e.options)||void 0===R?void 0:R.orientation,series:m,title:B.tq?"":e.field_name,labels:B.tq?[]:[...new Set(h)],width:(null===(L=m)||void 0===L?void 0:L.length)>0?(null===(U=m[0].data)||void 0===U?void 0:U.length)<4?800:1e3:800,height:400}))}return i.createElement("div",{key:l,style:{alignItems:"center",justifyContent:"center",margin:"10px",width:"100%",maxWidth:"50vw",display:"flex",flexDirection:"row",borderRadius:"8px",border:"none",boxShadow:"0 5px 20px 0 rgba(0, 0, 0, 0.1)"}},i.createElement("p",{style:{fontSize:"18px",fontFamily:"var(--app-text-font-mobile)"}},null!==(u=null===(v=e.options)||void 0===v?void 0:v.notes)&&void 0!==u?u:e.field_name),"Line"===(null===e||void 0===e||null===(p=e.options)||void 0===p?void 0:p.orientation)&&i.createElement(le.Z,{series:m,categories:[]}),"Column"===(null===e||void 0===e||null===(c=e.options)||void 0===c?void 0:c.orientation)&&i.createElement(te.Z,{series:m,categories:h}))}))))})()))),i.createElement("br",null),i.createElement(vt,null),Qe.filter(e=>{var l,t;return(null===(l=e.options)||void 0===l||null===(t=l.home)||void 0===t?void 0:t.length)>0}).length>0&&!B.tq&&i.createElement(r.Z,{cardTitle:"My Account",style:{width:"100%",marginTop:"20px"}},i.createElement("div",{style:{display:"flex",fontFamily:"var(--app-text-main-font)",width:"100%",padding:B.tq?"":"50px",backgroundColor:"white",borderRadius:"8px"}},i.createElement("div",{style:{width:"50%"}},i.createElement("div",{onClick:()=>{Vl("/my-profile")}},i.createElement("div",{className:m.actionsContainer,style:{cursor:"pointer",fontSize:"16px",fontWeight:"bold"}},i.createElement("div",null,"View Account Information"),i.createElement("div",null,"")),i.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}})),i.createElement("br",null),i.createElement("div",{onClick:()=>{Vl("/change-password")}},i.createElement("div",{className:m.actionsContainer,style:{cursor:"pointer",fontSize:"16px",fontWeight:"bold"}},i.createElement("div",null,"Change my account password"),i.createElement("div",null,"")),i.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}))),i.createElement("div",{style:{width:"50%"}},i.createElement(ie.Z,{home:!0})))),i.createElement("br",null),i.createElement(pt,null),i.createElement(ct,null))),Bl&&!(null!==el&&void 0!==el&&el.firstModalVisible||null!==el&&void 0!==el&&el.lastModalVisible)&&i.createElement(x.U7,{hasCloseIcon:0==Qe.length&&0==je.length||Ll,onClose:()=>Rl(!1),hasCloseButton:!!B.tq,blured:!0,scrollable:!0,isOpen:!B.tq&&Bl,backdropColor:!0,shadowedContainerStyle:{width:"90%",minWidth:"600px"}},i.createElement("div",{style:{display:"flex",flexDirection:"column",margin:"auto",fontFamily:"var(--app-text-main-font)",padding:"20px",fontSize:"18px"}},i.createElement("img",{alt:"",src:null!==(qe=null===Ge||void 0===Ge||null===(Ze=Ge.company_standards)||void 0===Ze?void 0:Ze.banner)&&void 0!==qe?qe:a,style:{width:"100%",height:"500px",margin:"auto",objectFit:"scale-down"}}),i.createElement("div",{className:m.modalTitle},i.createElement("p",null,null!==(Ne=null===Ge||void 0===Ge||null===(Ie=Ge.company_standards)||void 0===Ie?void 0:Ie.welcome)&&void 0!==Ne?Ne:"Welcome to ".concat(Ge.display_name))),i.createElement("p",null,null!==(Pe=null===Ge||void 0===Ge||null===(Oe=Ge.company_standards)||void 0===Oe?void 0:Oe.message)&&void 0!==Pe?Pe:"This application is being run in FlowHero. This is our cloud solution designed to automate the various workflows of your company."),i.createElement("p",null,null!==(We=null===Ge||void 0===Ge||null===(Ae=Ge.company_standards)||void 0===Ae?void 0:Ae.subMessage)&&void 0!==We?We:"Workflows are the steps undertaken to complete a task and give a result. Modules are subsets of workflows. Think of modules as forms that uses workflows as the underlying steps to make it run, provide the inputs, outputs and create the transaction the workflow is meant to do. Multiple modules can be created from one workflow, all with distinguishing document IDs but having the same input and outputs."),i.createElement(s.Z,{disabled:(0!=Qe.length||0!=je.length)&&!((null===Qe||void 0===Qe?void 0:Qe.length)>0),title:"trial_ended"===(null===Ge||void 0===Ge?void 0:Ge.status)?"Unfortunately, your trial has already expired. Please check the billing menu":"inactive"===(null===Ge||void 0===Ge?void 0:Ge.status)?"Your account is inactive and services are temporarily not available. Please check with your administrator":"Let's start",clicked:()=>Rl(!1)}),i.createElement("div",{style:{float:"right",swidth:"400px",marginTop:"50px"}},i.createElement(x.pd,{title:"Do not show this screen next time?",style:{margin:"20px 0px 20px 0px",width:"auto"},value:!Bl,toggleSelected:e=>{localStorage.setItem("showInfo",!e),setTimeout(()=>Rl(!1),1e4)}})))),nl&&i.createElement(v.Z,{modalVisible:nl,heading:al?null!==fl&&void 0!==fl&&null!==(Be=fl.add_info)&&void 0!==Be&&Be.module_id?"Edit Task for ".concat(null===Qe||void 0===Qe||null===(Re=Qe.find(e=>{var l;return e.id===(null===fl||void 0===fl||null===(l=fl.add_info)||void 0===l?void 0:l.module_id)}))||void 0===Re?void 0:Re.name):"Edit Task":"New Task",task:al?fl:{},isProcess:!!al&&!(null===fl||void 0===fl||null===(Le=fl.add_info)||void 0===Le||!Le.module_id),blured:!0,shadowedContainerStyle:{width:"40%",minWidth:"400px"},onClose:()=>(dl(!1),void sl(!1)),isEdit:al}),i.createElement(Q.Z,{openedTask:fl,taskName:fl.name,modalVisible:ql,modalClosed:()=>Zl(!1),hasTutorial:!1,blured:!0,childrenWrapperStyle:{alignItems:"center"},onCancel:()=>Zl(!1)}))})}}]);
//# sourceMappingURL=3104.214276d2.chunk.js.map