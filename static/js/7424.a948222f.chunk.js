"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[7424],{87424:function(e,t,a){a.r(t),a.d(t,{default:function(){return K}});var n=a(74165),l=a(93433),c=a(15861),r=a(29439),i=a(67861),o=(a(60940),"CheckoutPage_checkoutPageHost__O6Y0r"),s="CheckoutPage_checkoutTop__a8Ke9",u="CheckoutPage_checkoutContent__jV+8M",m="CheckoutPage_checkoutLeftContainer__uCaxb",p="CheckoutPage_pageTitle__qI+QM",d="CheckoutPage_sectionTitle__5+HAr",v="CheckoutPage_inputRow__zQJ2Y",y="CheckoutPage_inputContainer__B0SjF",h="CheckoutPage_cardContainer__NY+g4",g="CheckoutPage_inputField__Wz1Ve",E="CheckoutPage_checkoutRightContainer__sSAwU",f="CheckoutPage_productsContainer__2SOt1",_="CheckoutPage_products__DuYZP",b="CheckoutPage_planContainer__fk9gT",C="CheckoutPage_planTitle__ymDCz",N="CheckoutPage_price__YeVwJ",x="CheckoutPage_planDetails__PYyTM",P="CheckoutPage_priceDetails__9FXhe",w="CheckoutPage_payButton__xJ0+0",k="CheckoutPage_planTitleBlue__wP0eR",S="CheckoutPage_endingMessage__qtIa5",Z="CheckoutPage_phoneIInput__sSySJ",L="CheckoutPage_phoneContainer__pnf9K",D=a(40694),T=a(23280),Y=a(27658),I=a(34710),q=a(11577),A=a(10904),R=a(89293),B=a(66180),M=a.n(B),H=(a(33500),a(50981)),j=a.n(H),F=a(30994),V=a(88374),z=a(39518),J=a(73500),W=a(88827),K=function(e){var t,a,B,K,U,Q,X=(0,T.s0)(),G=e.onSuccess,$=e.onClose,ee=void 0===$?function(){return X("/billing-info")}:$,te=e.subscriptionInfo,ae=void 0===te?{}:te,ne=e.companyData,le=void 0===ne?{email:""}:ne,ce=e.paymentPath,re=void 0===ce?"payments":ce,ie=e.withBack,oe=void 0===ie||ie,se=e.label,ue=void 0===se?"Plan":se,me=e.onError,pe=void 0===me?function(){}:me,de=(0,z.v9)((function(e){return e.flowReducer})),ve=de.payable,ye=(0,i.useRef)(),he=(0,z.I0)(),ge=(0,i.useState)(""),Ee=(0,r.Z)(ge,2),fe=Ee[0],_e=Ee[1],be=(0,i.useState)(""),Ce=(0,r.Z)(be,2),Ne=Ce[0],xe=Ce[1],Pe=(0,i.useState)(""),we=(0,r.Z)(Pe,2),ke=we[0],Se=we[1],Ze=(0,i.useState)(""),Le=(0,r.Z)(Ze,2),De=Le[0],Te=Le[1],Ye=(0,i.useState)(""),Ie=(0,r.Z)(Ye,2),qe=Ie[0],Ae=Ie[1],Re=(0,i.useState)(""),Be=(0,r.Z)(Re,2),Me=Be[0],He=Be[1],je=(0,i.useState)(""),Fe=(0,r.Z)(je,2),Ve=Fe[0],ze=Fe[1],Je=(0,i.useState)(""),We=(0,r.Z)(Je,2),Ke=We[0],Oe=We[1],Ue=(0,i.useState)(""),Qe=(0,r.Z)(Ue,2),Xe=Qe[0],Ge=Qe[1],$e=(0,i.useState)(""),et=(0,r.Z)($e,2),tt=et[0],at=et[1],nt=(0,i.useState)("4343434343434345"),lt=(0,r.Z)(nt,2),ct=lt[0],rt=lt[1],it=(0,i.useState)(""),ot=(0,r.Z)(it,2),st=ot[0],ut=ot[1],mt=(0,i.useState)(""),pt=(0,r.Z)(mt,2),dt=pt[0],vt=pt[1],yt=(0,i.useState)(""),ht=(0,r.Z)(yt,2),gt=ht[0],Et=ht[1],ft=(0,i.useState)(!1),_t=(0,r.Z)(ft,2),bt=_t[0],Ct=_t[1],Nt=(0,i.useState)(""),xt=(0,r.Z)(Nt,2),Pt=xt[0],wt=xt[1],kt=(0,i.useState)(!1),St=(0,r.Z)(kt,2),Zt=St[0],Lt=St[1],Dt=(0,i.useState)(""),Tt=(0,r.Z)(Dt,2),Yt=Tt[0],It=Tt[1],qt=(0,i.useState)(!1),At=(0,r.Z)(qt,1)[0],Rt=(0,T.TH)(),Bt=(0,i.useState)(null!==(t=null===Rt||void 0===Rt||null===(a=Rt.state)||void 0===a?void 0:a.subscriptionInfo)&&void 0!==t?t:ae),Mt=(0,r.Z)(Bt,1)[0],Ht=(0,i.useState)(null!==(B=null===Rt||void 0===Rt||null===(K=Rt.state)||void 0===K?void 0:K.companyData)&&void 0!==B?B:le),jt=((0,r.Z)(Ht,1)[0],function(){var e=(0,c.Z)((0,n.Z)().mark((function e(t){var a,c,r,o,s,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wt(""),""!==F.lw||""!==tt){e.next=4;break}return wt("Please enter card owner name."),e.abrupt("return");case 4:if(t.preventDefault(),Ct(!0),wt(""),a=[],""===fe&&a.push("first name"),""===Ne&&a.push("last name"),""===gt&&a.push("email"),""===ke&&a.push("full address"),""===De&&a.push("city"),""===qe&&a.push("postal Code"),""===Xe&&""===F.lw&&a.push("phone Number"),!(a.length>0)){e.next=21;break}return a=a.map((function(e,t){return i.createElement("li",{key:t},e)})),c=function(){return i.createElement(i.Fragment,null,i.createElement("span",null,"Please fill in all input fields:"),i.createElement("ul",null,a))},Ct(!1),wt(c),e.abrupt("return");case 21:""!==F.lw&&(u=null!==(r=null===ae||void 0===ae?void 0:ae.ref)&&void 0!==r?r:(0,R.mR)(),he((0,V.zt)({id:u,subscriptionInfo:Mt})),(0,Y.JE)('[{"amount":'.concat(100*(null===Mt||void 0===Mt?void 0:Mt.total),',"currency":"PHP","description":"').concat(null!==(o=null===Mt||void 0===Mt?void 0:Mt.plan)&&void 0!==o?o:"Subscription",'","name":"').concat(null!==(s=null===Mt||void 0===Mt?void 0:Mt.plan)&&void 0!==s?s:"Subscription",'","quantity":1}]'),'{"address":{"line1":"'.concat(ke,'","city":"').concat(De,'","state":"').concat(Ve,'","postal_code":"').concat(qe,'","country": "PH"},"name":"').concat(fe," ").concat(Ne,'","email":"').concat(gt,'"}'),'"'.concat(F.Hf,"#/").concat(re,"/").concat(u,'"'),'"'.concat(u,'"')).pipe((0,q.P)()).subscribe({next:function(e){var t;null!==(t=e.data)&&void 0!==t&&t.attributes&&(W.h.dispatch((0,V.Wy)([].concat((0,l.Z)(ve),[{user_id:Mt.user_id,amount:null===Mt||void 0===Mt?void 0:Mt.total,currency:"PHP",paymentID:u,id:null===Mt||void 0===Mt?void 0:Mt.id,product:null===Mt||void 0===Mt?void 0:Mt.plan,description:null===Mt||void 0===Mt?void 0:Mt.description}]))),window.location.replace(e.data.attributes.checkout_url))},complete:function(){},error:function(e){Ct(!1),wt("Payment error.Please contact your administrator"),pe("Payment error.Please contact your administrator")}}));case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return i.createElement("div",{className:o},oe&&i.createElement("div",{className:s},i.createElement(D.Z,{clicked:ee,title:"Back"})),i.createElement("div",{className:u,style:{padding:J.tq?"15px":""}},i.createElement("div",{className:m,style:{width:J.tq?"100%":"",display:Mt?"":"none"}},i.createElement("p",{className:p},"Complete your Purchase"),i.createElement("div",{style:{display:""===F.lw?"":"none"}},i.createElement("p",{className:d,style:{marginTop:"0px"}},"Payment Information"),i.createElement("div",{className:v},i.createElement("div",{className:y},i.createElement(A.Lb,{title:"Name on Card *"}),i.createElement("input",{value:tt,onChange:function(e){return at(e.target.value)},type:"text",name:"state",className:g}))),i.createElement("div",{className:v},F.lw&&i.createElement("div",{className:y,style:{display:"flex"}},i.createElement("div",{className:h},i.createElement(A.Lb,{title:"Card Number"}),i.createElement("input",{value:ct,required:!0,minLength:16,maxLength:16,onChange:function(e){return rt(e.target.value)},type:"text",name:"state",className:g})),i.createElement("div",{className:h,style:{width:"30%"}},i.createElement(A.Lb,{title:"Expiry"}),i.createElement("input",{value:st,required:!0,placeholder:"MM / YY",onChange:function(e){return ut(e.target.value)},type:"month",name:"state",className:g})),i.createElement("div",{className:h,style:{width:"10%",marginRight:"0px"}},i.createElement(A.Lb,{title:"CVC"}),i.createElement("input",{value:dt,required:!0,minLength:3,maxLength:3,placeholder:"CVC",onChange:function(e){return vt(e.target.value)},type:"integer",name:"state",className:g}))))),i.createElement("p",{className:d,style:{marginTop:"0px"}},"Payment Information"),i.createElement("form",{ref:ye,style:{display:!0===At?"none":""}},i.createElement("div",{className:v,style:{flexDirection:J.tq?"column":"row"}},i.createElement("div",{className:y},i.createElement(A.Lb,{title:"First Name"}),i.createElement("input",{value:fe,onChange:function(e){return _e(e.target.value)},style:{marginRight:"30px"},type:"text",name:"first-name",className:g})),i.createElement("div",{className:y},i.createElement(A.Lb,{title:"Last Name"}),i.createElement("input",{value:Ne,onChange:function(e){return xe(e.target.value)},type:"text",name:"last-name",className:g}))),i.createElement("div",{className:v,style:{flexDirection:J.tq?"column":"row"}},i.createElement("div",{className:y},i.createElement(A.Lb,{title:"Email"}),i.createElement("input",{value:gt,onChange:function(e){return Et(e.target.value)},style:{marginRight:"30px"},type:"text",name:"email",className:g}))),i.createElement("div",{className:v,style:{flexDirection:J.tq?"column":"row"}},i.createElement("div",{className:y},i.createElement(A.Lb,{title:"Full Address"}),i.createElement("input",{value:ke,onChange:function(e){return Se(e.target.value)},style:{marginRight:"30px"},type:"text",name:"full-address",className:g}))),i.createElement("div",{className:v,style:{flexDirection:J.tq?"column":"row"}},i.createElement("div",{className:y},i.createElement(A.Lb,{title:"City"}),i.createElement("input",{value:De,onChange:function(e){return Te(e.target.value)},style:{marginRight:"30px"},type:"text",name:"city",className:g})),i.createElement("div",{className:y},i.createElement(A.Lb,{title:"Postal Code"}),i.createElement("input",{value:qe,onChange:function(e){return Ae(e.target.value)},type:"text",name:"postal-code",className:g}))),i.createElement("div",{className:v,style:{flexDirection:J.tq?"column":"row"}},i.createElement("div",{className:y},i.createElement(A.Lb,{title:"Country"}),i.createElement("input",{value:Me,onChange:function(e){return He(e.target.value)},type:"text",name:"country",className:g})),i.createElement("div",{className:y},i.createElement(A.Lb,{title:"State"}),i.createElement("input",{value:Ve,onChange:function(e){return ze(e.target.value)},type:"text",name:"state",className:g}))),i.createElement("div",{className:v,style:{display:""===F.lw?"":"none"}},i.createElement("div",{className:y},i.createElement(A.Lb,{title:"VAT/TAX ID"}),i.createElement("input",{value:Ke,onChange:function(e){return Oe(e.target.value)},style:{marginRight:"30px"},type:"text",name:"vat",className:g})),i.createElement("div",{className:y},i.createElement(A.Lb,{title:"Phone"}),i.createElement("div",{className:L},i.createElement(M(),{country:"ph",value:Xe,onChange:function(e){return Ge(e)},inputClass:Z,specialLabel:"",placeholder:"Enter number here...",inputStyle:{border:"none",width:"100%"}})))))),i.createElement("div",{className:E},i.createElement("div",{className:f},i.createElement("p",{className:_},"Products"),i.createElement("div",{className:b},i.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"10px"}},Mt?i.createElement("p",{className:C},null===Mt||void 0===Mt?void 0:Mt.plan):i.createElement("p",{className:C},Rt.state.price.description),Mt?i.createElement("p",{className:N},null===Mt||void 0===Mt?void 0:Mt.currency," ",null===Mt||void 0===Mt?void 0:Mt.plan_price):i.createElement("p",{className:N},Rt.state.price.currency," ",Rt.state.price.price)),i.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"5px",marginBottom:"5px"}},Mt&&i.createElement("p",{className:x},ue),Mt&&i.createElement("p",{className:P},null===Mt||void 0===Mt?void 0:Mt.dlabel))),i.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",margin:"5%"}}),i.createElement("div",{style:{display:void 0===(null===Mt||void 0===Mt||null===(U=Mt.billable_users)||void 0===U?void 0:U.length)?"none":"flex",justifyContent:"space-between",margin:"5%",marginBottom:"0px"}},i.createElement("p",{className:C},"Number of users to bill"),i.createElement("p",{className:N},null===Mt||void 0===Mt?void 0:Mt.billable_users.length)),i.createElement("div",{style:{display:"flex",justifyContent:"space-between",margin:"5%",marginBottom:"20px"}},i.createElement("p",{className:k},"Total (due today)"),Mt?i.createElement("p",{className:k},null===Mt||void 0===Mt?void 0:Mt.currency," ",null===Mt||void 0===Mt?void 0:Mt.total):i.createElement("p",{className:k},Rt.state.price.currency," ",Rt.state.price.price)),"localhost"===window.location.hostname&&i.createElement(D.Z,{className:w,disabled:bt,title:"Pay Now",clicked:Mt?jt:function(){var e;wt(""),Ct(!0),(0,Y.Ul)(Rt.state.service_name,Rt.state.price.price_code,null!==(e=Rt.state.price.duration)&&void 0!==e?e:null).pipe((0,q.P)()).subscribe({next:function(e){It(e.data.stripe_id),Lt(!0),(0,I.aK)().pipe((0,q.P)()).subscribe({}),Ct(!1)},error:function(e){void 0!=e.data?wt(e.data.message.message):wt("Payment error. Please check your card."),Ct(!1)}})},loading:bt,style:{backgroundColor:""!==fe&&""!==Ne&&""!==ke&&""!==De&&""!==qe&&""!==Me&&""!==Ve?"":"black"}}),i.createElement("div",{className:S,style:{display:void 0===(null===Mt||void 0===Mt||null===(Q=Mt.billable_users)||void 0===Q?void 0:Q.length)?"none":"flex"}},i.createElement("p",null,""!==F.lw?"Payments by":"You can cancel your plan anytime. Your yearly recurrent payment starts on ".concat(j()(new Date((0,H.now)())).add(1,"years").format("MMMM Do, YYYY"),". You will be billed monthly for the number of Employees in your account.")),i.createElement("img",{src:"https://files.readme.io/7586db8-small-paymongo_api_white.png",style:{height:"40px",width:"160px"}})),i.createElement("div",{style:{display:"flex",justifyContent:"space-between",margin:"5%",marginBottom:"0px",color:"red"}},Pt&&i.createElement("div",null,Pt))))),Zt&&i.createElement(O,{message:Yt,onSuccess:G}))},O=function(e){var t=e.setCompletedModal,a=e.message,n=e.onSuccess;return i.createElement(A.U7,{isOpen:!0,shadowedContainerStyle:{width:"35%",minWidth:"500px",minHeight:"400px"},onClose:function(){return t(!1)},scrollable:!0,blured:!0},i.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},i.createElement("p",{style:{marginTop:"50px",fontSize:"32px",color:"#4A4A4A",marginBottom:"5px",textAlign:"center"}},"Your subscription to ".concat(R.iC," was successful!")),i.createElement("p",{style:{width:"300px",fontFamily:"var(--app-text-main-font)",fontSize:"16px",color:"#4A4A4A",textAlign:"center",marginBottom:"20px"}},"Your payment reference is ".concat(a),i.createElement("br",null),i.createElement("br",null),"You can look for this in your invoices list in the billing page ",i.createElement("br",null),i.createElement("br",null),i.createElement("span",{style:{fontWeight:"700"}},"Thank you for your purchase!")),i.createElement(D.Z,{style:{width:"200px"},clicked:function(){n(a)},title:"View Invoices"})))}}}]);
//# sourceMappingURL=7424.a948222f.chunk.js.map