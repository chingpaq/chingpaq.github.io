"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[609],{91609:function(e,t,o){o.r(t),o.d(t,{default:function(){return se}});var n=o(1413),l=o(93433),i=o(29439),a=o(67861),s=o(39518),d=o(11577),r=o(13845),c=o(95242),u=o(29937),p=o(88374),m=o(93389),v=o(89293),f=o(96189),h=o(85718),_=o(88207),y="WorkflowTemplatesModal_host__Q3zbH",C="WorkflowTemplatesModal_header__N8ZLt",g="WorkflowTemplatesModal_title__23bdy",w="WorkflowTemplatesModal_subtitle__oBjjB",b="WorkflowTemplatesModal_controls__ajc+K",E="WorkflowTemplatesModal_trialTitle__dTNg9",S="WorkflowTemplatesModal_subTitle__Bzxqf",x="WorkflowTemplatesModal_trialText__c0htd",Z="WorkflowTemplatesModal_currentInvoicesContainer__-k6ew",k=o(88827),I=o(23280),P=o(99554),B=o(80963),M=o(67861),T=(0,s.$j)((function(e){var t=e.flowReducer;return{companyProcesses:t.companyProcesses,companyPositionsArray:t.companyPositionsArray,allModules:t.allModules,components:t.components,onBoardingCompleted:t.onBoardingCompleted,workflowTemplates:t.workflowTemplates}}))((function(e){var t=e.isOpen,o=e.shadowedContainerStyle,n=e.onCreateBlank,l=e.gotoProcess,r=e.workflowTemplates,c=e.gotoComponents,h=(0,a.useState)(!1),_=(0,i.Z)(h,2),T=_[0],N=_[1],L=(0,a.useState)({name:"",steps:[]}),V=(0,i.Z)(L,2),W=V[0],D=V[1],z=(0,s.v9)((function(e){return e.modalsReducer})),O=z.onBoardingModalsVisibility,Y=(z.isOnboarding,O.firstModalVisible,O.secondModalVisible,O.thirdModalVisible,O.fourthModalVisible,O.fifthModalVisible,O.sixthModalVisible),F=O.seventhModalVisible,j=O.eightModalVisible,q=(O.ninthModalVisible,O.tenthModalVisible,O.eleventhModalVisible,O.twelvthModalVisible,O.lastModalVisible,O.positionModalVisible,O.thirteenthModalVisible,(0,s.I0)());document.title="New Workflow | ".concat(v.iC);var A=(0,I.s0)();return M.createElement(u.FZ,null,M.createElement(f.U7,{isOpen:t,blured:!1,scrollable:!0,shadowedContainerStyle:o},M.createElement("div",{className:y},M.createElement("div",{style:{display:"flex",alignItems:"center"}},M.createElement("p",{className:g},"New Workflow"),M.createElement(f.zx,{clear:!0,loading:T})),M.createElement("p",{className:w},"Start a new workflow or select from any of our predefined templates"),M.createElement("div",{style:{display:""===(null===W||void 0===W?void 0:W.name)||T?"none":"",width:"100%"}},M.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"0 30px 0 30px"}},M.createElement(f.zx,{title:"Hide",light:!0,clicked:function(){D({name:""}),N(!1),q((0,p.Xu)({name:"",steps:[]}))}}),M.createElement(f.zx,{title:"Create",light:!0,style:{color:"white",backgroundColor:"green"},clicked:function(){N(!0),(0,m.yx)(W).pipe((0,d.P)()).subscribe({next:function(e){N(!1),l(e)},error:function(e){N(!1)}})}})),M.createElement(P.Z,null)),M.createElement("div",{className:Z,style:{maxWidth:"40%",minWidth:"360px",width:"20%",backgroundColor:Y||F?"lightblue":""}},M.createElement("p",{className:E},"Components"),M.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",marginBottom:"20px"}}),M.createElement("div",{className:C},M.createElement("p",{className:x},"Create Components"),M.createElement(f.zx,{disabled:T,title:"Open",style:{width:"80px",minWidth:"80px"},clicked:function(){c()}})),M.createElement("br",null),M.createElement("br",null),M.createElement("p",{className:S},"Components are objects that workflows use to input or output informations. In forms they are usally called fields.")),M.createElement("div",{className:Z,style:{maxWidth:"40%",minWidth:"360px",width:"20%",backgroundColor:j?"lightblue":""}},M.createElement("p",{className:E},"New Workflow"),M.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",marginBottom:"20px"}}),M.createElement("div",{className:C},M.createElement("p",{className:x},"Blank Workflow"),M.createElement(f.zx,{disabled:T,title:"Open",style:{width:"80px",minWidth:"80px"},clicked:function(){n()}})),M.createElement("br",null),M.createElement("br",null),M.createElement("p",{className:S},"Create your workflow using a blank canvass")),null===r||void 0===r?void 0:r.map((function(e,t){return M.createElement("div",{className:Z,style:{maxWidth:"40%",minWidth:"360px",width:"20%"},key:t},M.createElement("p",{className:E},"Workflow Template"),M.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",marginBottom:"20px"}}),M.createElement("div",{className:C},M.createElement("p",{className:x},"".concat(e.name)),!T&&M.createElement(f.zx,{disabled:T,title:(null===W||void 0===W?void 0:W.name)===e.name?"Create":"View",style:{display:(null===W||void 0===W?void 0:W.name)===e.name?"none":"",backgroundColor:(null===W||void 0===W?void 0:W.name)===e.name?"green":"rgb(83, 159, 234)",width:"80px",minWidth:"80px"},clicked:function(){(null===W||void 0===W?void 0:W.name)!==e.name?(window.scrollTo({top:0,behavior:"smooth"}),D(e),q((0,p.Xu)(e))):(N(!0),(0,m.yx)(W).pipe((0,d.P)()).subscribe({next:function(e){N(!1),l(e)},error:function(e){N(!1)}}))}})),M.createElement("br",null),M.createElement("br",null),M.createElement("p",{className:S},"".concat(e.description)))})),Y&&M.createElement(B.E,{style:{top:"10%",right:"5%",width:"50%"},title:"Step 6: Create Your First Component",message:"But first, let's create a component. A component is a way for your users to input or view information. In forms these are fields that can hold a value and is the most important part of the workflow. Press Open to start creating one."}),F&&M.createElement(B.E,{style:{top:"10%",right:"5%",width:"50%"},title:"Step 8: Create Your Second Component",message:"In your workflow, while you can put all the input and output objects in one component, it will be better to group them. Specially if your workflow has several steps. Click Open again."}),j&&M.createElement(B.E,{style:{top:"20vh",left:"85%",width:"300px"},title:"Step 10: Create A Blank Workflow",message:"We can now proceed in creating your first workflow. Click Open in the Blank Workflow. Name the workflow Customer Master, put a Description and press Save"})),M.createElement("div",{className:b},M.createElement(f.zx,{disabled:T,loading:T,title:"Close",clicked:function(){q((0,p.Xu)(void 0)),k.h.dispatch((0,p.Xc)({show:!1,message:""})),A("/")}}))))})),N=o(87546),L=o(35606),V=o(13397),W=o(98032),D=(o(66596),o(6073)),z=o(4358),O=o(16613),Y=o(30426),F=o(73500),j=o(27436),q=o(12075),A=o(52902),X=o(71982),R=o(67861),H=(0,a.memo)((function(e){var t,o,s,d,c,u,m,h,_,y,C,g,w,b,E,S,x,Z,I=e.visible,P=e.onUpdate,M=e.onClose,T=(e.hasTutorial,e.allModules),H=e.blueprints,K=e.componentTypes,J=e.components,Q=e.products,$=e.companyData,ee=e.companyProcesses,te=e.selectedComponent,oe=(0,r.aL)(),ne=(0,i.Z)(oe,2),le=ne[0],ie=ne[1],ae=(0,a.useState)(!1),se=(0,i.Z)(ae,2),de=se[0],re=se[1],ce=(0,a.useState)(!1),ue=(0,i.Z)(ce,2),pe=ue[0],me=ue[1],ve=(0,a.useState)(!1),fe=(0,i.Z)(ve,2),he=fe[0],_e=fe[1],ye=(0,a.useState)(!1),Ce=(0,i.Z)(ye,2),ge=Ce[0],we=Ce[1],be=(0,a.useState)(!1),Ee=(0,i.Z)(be,2),Se=Ee[0],xe=Ee[1],Ze=(0,a.useState)(!1),ke=(0,i.Z)(Ze,2),Ie=ke[0],Pe=ke[1],Be=(0,a.useState)({name:"",fields:"",components:""}),Me=(0,i.Z)(Be,2)[1],Te=(0,a.useState)(!1),Ne=(0,i.Z)(Te,2),Le=Ne[0],Ve=Ne[1],We=(0,a.useState)(""),De=(0,i.Z)(We,2),ze=De[0],Oe=De[1],Ye=(0,a.useState)(!0),Fe=(0,i.Z)(Ye,2),je=Fe[0],qe=Fe[1],Ae=(0,a.useState)(!1),Xe=(0,i.Z)(Ae,2),Re=Xe[0],He=Xe[1],Ge=(0,a.useState)(""),Ue=(0,i.Z)(Ge,2),Ke=Ue[0],Je=Ue[1],Qe=e.onBoardingModalsVisibility,$e=(e.isOnboarding,Qe.firstModalVisible,Qe.secondModalVisible,Qe.thirdModalVisible,Qe.fourthModalVisible,Qe.fifthModalVisible,Qe.sixthModalVisible),et=Qe.seventhModalVisible;Qe.eightModalVisible,Qe.ninthModalVisible,Qe.tenthModalVisible,Qe.eleventhModalVisible,Qe.twelvthModalVisible,Qe.lastModalVisible,Qe.positionModalVisible,Qe.thirteenthModalVisible;(0,a.useEffect)((function(){Oe(""),ie({type:r.qY.setAllBlueprintsComponents,value:H})}),[le.selectedBlueprintComponent.fields]),(0,a.useEffect)((function(){void 0!==te&&(ie({type:r.qY.setSelectedBlueprintComponent,value:H.find((function(e){return e.id===te}))}),qe(!1))}),[]);var tt=function(){Me({name:"",components:""}),Oe("")},ot=(0,a.useCallback)((function(e){_e(!0),(0,D._u)(e.id,e).subscribe({next:function(){_e(!1),k.h.dispatch((0,p.Xc)({show:!0,message:"You have successfully updated ".concat(e.name)})),null===P||void 0===P||P(!0),null===M||void 0===M||M(!0)},error:function(e){var t,o,n,l,i,a,s,d,r;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.errors&&Me({name:null===e||void 0===e||null===(o=e.data)||void 0===o||null===(n=o.errors)||void 0===n||null===(l=n.name)||void 0===l?void 0:l.join("; "),components:null===e||void 0===e||null===(i=e.data)||void 0===i||null===(a=i.errors)||void 0===a||null===(s=a.components)||void 0===s?void 0:s.join("; ")});null!==e&&void 0!==e&&e.data&&Oe(null!==(d=null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)&&void 0!==d?d:null===e||void 0===e?void 0:e.data);_e(!1)}})}),[M]),nt=(0,a.useCallback)((function(e){_e(!0),(0,D.Bp)(e).subscribe({next:function(){null!==Qe&&void 0!==Qe&&Qe.sixthModalVisible?k.h.dispatch((0,X.$6)({seventhModalVisible:!0})):null!==Qe&&void 0!==Qe&&Qe.seventhModalVisible&&k.h.dispatch((0,X.$6)({eightModalVisible:!0})),k.h.dispatch((0,p.Xc)({show:!0,message:"You have successfully created ".concat(e.name)})),_e(!1),null===P||void 0===P||P(!0),null===M||void 0===M||M(!0)},error:function(e){var t,o,n,l,i,a,s,d,r;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.errors&&Me({name:null===e||void 0===e||null===(o=e.data)||void 0===o||null===(n=o.errors)||void 0===n||null===(l=n.name)||void 0===l?void 0:l.join("; "),components:null===e||void 0===e||null===(i=e.data)||void 0===i||null===(a=i.errors)||void 0===a||null===(s=a.components)||void 0===s?void 0:s.join("; ")});null!==e&&void 0!==e&&e.data&&Oe(null!==(d=null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)&&void 0!==d?d:null===e||void 0===e?void 0:e.data);_e(!1)}})}),[M]),lt=(0,a.useCallback)((function(e){_e(!0),(0,D.zs)(e.id,e.name).subscribe({next:function(){_e(!1),k.h.dispatch((0,p.Xc)({show:!0,message:"You have successfully duplicated component"})),null===P||void 0===P||P(!0),null===M||void 0===M||M(!0)},error:function(e){var t,o,n,l,i,a,s,d,r;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.errors&&Me({name:null===e||void 0===e||null===(o=e.data)||void 0===o||null===(n=o.errors)||void 0===n||null===(l=n.name)||void 0===l?void 0:l.join("; "),components:null===e||void 0===e||null===(i=e.data)||void 0===i||null===(a=i.errors)||void 0===a||null===(s=a.components)||void 0===s?void 0:s.join("; ")});null!==e&&void 0!==e&&e.data&&Oe(null!==(d=null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)&&void 0!==d?d:null===e||void 0===e?void 0:e.data);_e(!1)}})}),[M]),it=(0,a.useCallback)((function(){var e,t,o=le.validation,i=o.name,a=o.fields;if(i||(null===a||void 0===a?void 0:a.length)>0||(null===(e=le.selectedBlueprintComponent.fields)||void 0===e?void 0:e.length)<1){var s,d,r,c,u,p,m,v,f="";if((null===(s=le.selectedBlueprintComponent.fields)||void 0===s?void 0:s.length)<1&&(f="Component must have at least one field"),(null===a||void 0===a?void 0:a.length)>0&&(f="Check options of red fields"),null!==le&&void 0!==le&&null!==(d=le.selectedBlueprintComponent)&&void 0!==d&&null!==(r=d.fields)&&void 0!==r&&r.some((function(e){var t,o;return 0==(null===e||void 0===e||null===(t=e.options)||void 0===t||null===(o=t.list)||void 0===o?void 0:o.length)}))&&(f="Element's option list must have at least one entry"),null!==le&&void 0!==le&&null!==(c=le.selectedBlueprintComponent)&&void 0!==c&&null!==(u=c.fields)&&void 0!==u&&u.some((function(e){var t,o;return 0==(null===e||void 0===e||null===(t=e.options)||void 0===t||null===(o=t.type)||void 0===o?void 0:o.length)}))&&(f="Element's option type is mandatory"),null!==le&&void 0!==le&&null!==(p=le.selectedBlueprintComponent)&&void 0!==p&&null!==(m=p.fields)&&void 0!==m&&m.some((function(e){var t;return 0==(null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.length)}))&&(f="Name is mandatory for each element"),Me({name:i?"Add a component name":"",fields:f}),(null===(v=f)||void 0===v?void 0:v.length)>0){var h,_,y=document.querySelectorAll('[app-field-row-has-error="error"]');if(y)if((null===y||void 0===y?void 0:y.length)>0)null===(h=(0,l.Z)(y))||void 0===h||null===(_=h.reverse()[(null===y||void 0===y?void 0:y.length)-1])||void 0===_||_.scrollIntoView({block:"start",behavior:"smooth"})}(null===a||void 0===a?void 0:a.length)>0&&Ve(!0)}else{_e(!0),tt();var C={components:le.selectedBlueprintComponent.components,fields:le.selectedBlueprintComponent.fields.map((function(e){var t;return(null===(t=e.id)||void 0===t?void 0:t.length)>12?(0,n.Z)({},e):N.Z("id")(e)})),name:le.selectedBlueprintComponent.name};(null===(t=le.selectedBlueprintComponent.id)||void 0===t?void 0:t.length)>0?ot((0,n.Z)((0,n.Z)({},C),{},{id:le.selectedBlueprintComponent.id})):nt(C)}}),[le.selectedBlueprintComponent.components,le.selectedBlueprintComponent.fields,le.selectedBlueprintComponent.id,le.selectedBlueprintComponent.name,le.validation,nt,ot]),at=(0,a.useCallback)((function(){var e;(null===(e=le.selectedBlueprintComponent.id)||void 0===e?void 0:e.length)>0&&lt({name:le.selectedBlueprintComponent.name,id:le.selectedBlueprintComponent.id})}),[le.selectedBlueprintComponent.components,le.selectedBlueprintComponent.fields,le.selectedBlueprintComponent.id,le.selectedBlueprintComponent.name,le.validation,nt,ot]),st=function(e){ie({type:r.qY.setSelectedBlueprintComponentName,value:e})};return R.createElement(R.Fragment,null,R.createElement(f.U7,{id:"edit-component-modal",blured:!0,scrollable:!1,isOpen:I,shadowedContainerStyle:{minWidth:"500px",width:F.tq?"100%":"38%"}},R.createElement("div",{className:O.Z.host},R.createElement("div",{className:O.Z.title},R.createElement("p",null,1==(null===le||void 0===le||null===(t=le.selectedBlueprintComponent)||void 0===t?void 0:t.readonly)?"Template Component":je?"New Component":"Edit Component")),R.createElement("p",{className:O.Z.fieldType},"Note: You can only use a component one step at a time in a workflow"),R.createElement(Y.Pz,null,je&&R.createElement("div",null,R.createElement(f.Lb,{title:"Name"}),R.createElement("input",{type:"text",name:"element-name",value:null===(o=le.selectedBlueprintComponent)||void 0===o?void 0:o.name,onChange:function(e){st(e.target.value)},onClick:function(){},className:O.Z.elementTextInput})),Re&&R.createElement("div",null,R.createElement(f.Lb,{title:"Name"}),R.createElement("input",{type:"text",name:"element-name",value:null===(s=le.selectedBlueprintComponent)||void 0===s?void 0:s.name,onChange:function(e){st(e.target.value)},onClick:function(){},className:O.Z.elementTextInput})),!Re&&R.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",maxHeight:"100%",border:"0px solid var(--app-color-gray-lighter)"}},R.createElement(f.Lb,{title:te?"Name":"Select Component to Edit"}),R.createElement("div",{className:O.Z.fieldRow},R.createElement(z.yV,{placeholder:null!==(d=le.selectedBlueprintComponent)&&void 0!==d&&d.name&&!je?null===(c=le.selectedBlueprintComponent)||void 0===c?void 0:c.name:"Or selelct a Component to EDIT...",items:te?[]:K?(0,l.Z)(L.Z([V.Z(W.Z("name"))])(H).map((function(e){return{label:"".concat(null===e||void 0===e?void 0:e.name),value:null===e||void 0===e?void 0:e.id,type:"".concat(!0===e.readonly?"Templates":(0,v.m)(null===e||void 0===e?void 0:e.name))}}))):[],initialSelectedValues:[],groupedBy:"type",groupname:"type",inputStyle:{blank:!0,cursor:"pointer"},className:O.Z.peoplePositionsSelect,inputClassName:O.Z.peoplePositionsSelectInput,molclassname:O.Z.peoplePositionsSelectMenuOverlay,moliclassname:O.Z.peoplePositionsSelectMenuOverlayItem,onChange:function(e){1==e.length&&(ie({type:r.qY.setSelectedBlueprintComponent,value:H.find((function(t){return t.id===e[0].value}))}),qe(!1))}},!te&&R.createElement(q.G,{className:"fa-icon",icon:A.ptq,style:{marginRight:"20px",color:"gray"}})))),R.createElement("br",null),!Re&&R.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",maxHeight:"100%",border:"0px solid var(--app-color-gray-lighter)"}},R.createElement(f.Lb,{title:"Fields Selection"}),R.createElement("div",{className:O.Z.fieldRow},R.createElement(z.yV,{placeholder:"Click and select field to add ...",items:K?[].concat((0,l.Z)(L.Z([V.Z(W.Z("name"))])(K.filter((function(e){var t,o;return!(null!==$&&void 0!==$&&null!==(t=$.misc_info)&&void 0!==t&&null!==(o=t.blueprints)&&void 0!==o&&o.includes(null===e||void 0===e?void 0:e.name))&&(0==e.io_type||1==e.io_type)}))).map((function(e){return{label:e.name,value:e.id,type:0==e.io_type?"Output":"Input"}}))),(0,l.Z)(null!==$&&void 0!==$&&null!==(u=$.misc_info)&&void 0!==u&&u.templates?$.misc_info.templates.map((function(e){return{label:e,value:e,type:"Templates"}})):[])):[],initialSelectedValues:[],groupedBy:"type",groupname:"type",inputStyle:{blank:!0,cursor:"pointer"},className:O.Z.peoplePositionsSelect,inputClassName:O.Z.peoplePositionsSelectInput,molclassname:O.Z.peoplePositionsSelectMenuOverlay,moliclassname:O.Z.peoplePositionsSelectMenuOverlayItem,onChange:function(e){if(e.length>0){var t=[e[0]];t=function(e,t,o){var n,l,i,a,s,d;return"Battery Order Template"===e[0].value?null===t||void 0===t||null===(n=t.misc_info)||void 0===n?void 0:n.templatesData.find((function(e){return"Battery Order Template"===e.name})).config.map((function(e){return{value:o.find((function(t){return t.name===e.value})).id,label:e.label,mapToItem:null===e||void 0===e?void 0:e.mapToItem}})):"Battery Template"===e[0].value?null===t||void 0===t||null===(l=t.misc_info)||void 0===l?void 0:l.templatesData.find((function(e){return"Battery Template"===e.name})).config.map((function(e){return{value:o.find((function(t){return t.name===e.value})).id,label:e.label,mapToItem:null===e||void 0===e?void 0:e.mapToItem}})):null!==(i=null===t||void 0===t||null===(a=t.misc_info)||void 0===a||null===(s=a.templatesData.find((function(t){return t.name===e[0].value})))||void 0===s||null===(d=s.config)||void 0===d?void 0:d.map((function(e){return{value:o.find((function(t){return t.name===e.value})).id,label:e.label,mapToItem:null===e||void 0===e?void 0:e.mapToItem}})))&&void 0!==i?i:[]}(e,$,K),0==t.length&&(Je(""),t=[e[0]]),t.map((function(e){var t,o,l,i,a,s,d,c,u,p,m,f,h,_,y,C,g,w,b,E,S,x,Z,k,I,P,B,M,T,N,L,V,W,D,z,O,Y,F,j=K.find((function(t){return t.id===e.value})),q={field_type:(0,n.Z)({},j)};("number"===(null===j||void 0===j||null===(t=j.name)||void 0===t?void 0:t.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{type:"numeric",display:"text"}}),"phone"===(null===j||void 0===j||null===(o=j.name)||void 0===o?void 0:o.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{country_prefix:"+44",country_code:"gb",country_name:"United Kingdom"}}),"currency"===(null===j||void 0===j||null===(l=j.name)||void 0===l?void 0:l.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{currency_type:"British Pound Sterling",currency_value:"GBP",symbol:"\xa3"}}),"action button"===(null===j||void 0===j||null===(i=j.name)||void 0===i?void 0:i.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{action:"creator"}}),"profile"===(null===j||void 0===j||null===(a=j.name)||void 0===a?void 0:a.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{type:"user"}}),"upload"===(null===j||void 0===j||null===(s=j.name)||void 0===s?void 0:s.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{accepted_mimes:v.cH.map((function(e){var t;return null===(t=e.value)||void 0===t?void 0:t.replaceAll(".","")})).join(","),max_file_size:51200}}),"people"===(null===j||void 0===j||null===(d=j.name)||void 0===d?void 0:d.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{position_id:[],type:"single"}}),"date"===(null===j||void 0===j||null===(c=j.name)||void 0===c?void 0:c.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{type:"single"}}),"dropdown"===(null===j||void 0===j||null===(u=j.name)||void 0===u?void 0:u.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{list:[],type:"single"}}),"payments"===(null===j||void 0===j||null===(p=j.name)||void 0===p?void 0:p.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{list:["Credit Card","GCash","Cash"]}}),"pin"===(null===j||void 0===j||null===(m=j.name)||void 0===m?void 0:m.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{pintype:"single",realtime:!0,destination:!1,source:!0}}),"record"===(null===j||void 0===j||null===(f=j.name)||void 0===f?void 0:f.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{component_id:[],type:"single",selection:"",filters:[]}}),"status"===(null===j||void 0===j||null===(h=j.name)||void 0===h?void 0:h.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{list:[]}}),"list filter"===(null===j||void 0===j||null===(_=j.name)||void 0===_?void 0:_.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{field:"",value:""}}),"id"===(null===j||void 0===j||null===(y=j.name)||void 0===y?void 0:y.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{id:"",value:0}}),"list"===(null===j||void 0===j||null===(C=j.name)||void 0===C?void 0:C.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{module_id:"",list:[]}}),"module list"===(null===j||void 0===j||null===(g=j.name)||void 0===g?void 0:g.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{module_id:"",list:[]}}),"step list"===(null===j||void 0===j||null===(w=j.name)||void 0===w?void 0:w.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{component_id:"",list:[]}}),"component list"===(null===j||void 0===j||null===(b=j.name)||void 0===b?void 0:b.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{component_id:"",list:[]}}),"transaction list"===(null===j||void 0===j||null===(E=j.name)||void 0===E?void 0:E.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{map:{}}}),"lookup"===(null===j||void 0===j||null===(S=j.name)||void 0===S?void 0:S.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{source_id:"",target_id:"",common_field:"",list:[],selection:""}}),"rewards"===(null===j||void 0===j||null===(x=j.name)||void 0===x?void 0:x.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{status:"Closed",points:1,equiv:1,creator:!0}}),"calendar"===(null===j||void 0===j||null===(Z=j.name)||void 0===Z?void 0:Z.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{limit:!0,creator:!0,priority:!0,span:!1}}),"connectors"===(null===j||void 0===j||null===(k=j.name)||void 0===k?void 0:k.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{component1_id:"",component2_id:"",common_field_12:"",component3_id:"",common_field_23:"",outputs:""}}),"map"===(null===j||void 0===j||null===(I=j.name)||void 0===I?void 0:I.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{maptype:"region"}}),"formula"===(null===j||void 0===j||null===(P=j.name)||void 0===P?void 0:P.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{operator:"",list:[],display:"text"}}),"emails"===(null===j||void 0===j||null===(B=j.name)||void 0===B?void 0:B.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{subject:"",message:""}}),"product"===(null===j||void 0===j||null===(M=j.name)||void 0===M?void 0:M.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{list:[]}}),"product lookup"===(null===j||void 0===j||null===(T=j.name)||void 0===T?void 0:T.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{selection:"",component_id:"",list:[]}}),"filters"===(null===j||void 0===j||null===(N=j.name)||void 0===N?void 0:N.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{component_id:"",list:[],filters:[]}}),"info"===(null===j||void 0===j||null===(L=j.name)||void 0===L?void 0:L.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{component_id:"",list:[]}}),"chart"===(null===j||void 0===j||null===(V=j.name)||void 0===V?void 0:V.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{component_id:"",list:[]}}),"value"===(null===j||void 0===j||null===(W=j.name)||void 0===W?void 0:W.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{module_id:"",component_id:"",value:""}}),"notes"===(null===j||void 0===j||null===(D=j.name)||void 0===D?void 0:D.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{value:""}}),"url"===(null===j||void 0===j||null===(z=j.name)||void 0===z?void 0:z.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{type:"image"}}),"googleai assistant"===(null===j||void 0===j||null===(O=j.name)||void 0===O?void 0:O.toLowerCase())&&(q={field_type:(0,n.Z)({},j),options:{description:"",fixed:!0,current:!1}}),null!==e&&void 0!==e&&e.mapToItem&&(console.log(e.mapToItem),q.options=(0,n.Z)((0,n.Z)({},q.options),{},{mapToItem:e.mapToItem})),(null===le||void 0===le||null===(Y=le.selectedBlueprintComponent)||void 0===Y?void 0:Y.fields.length)<12)?(tt(),ie({type:r.qY.setSelectedBlueprintComponentNewField,value:(0,n.Z)((0,n.Z)({},q),{},{label:null!==(F=e.label)&&void 0!==F?F:""})})):Oe("You can only add a maximum of 12 fields per component. ")}))}}},R.createElement(q.G,{className:"fa-icon",icon:A.ptq,style:{marginRight:"20px",color:"gray"}}))),R.createElement("br",null),R.createElement("div",{className:O.Z.selectedFieldsContainer},je?"Selected Fields:":"Available Fields:"),R.createElement("div",{style:{display:"flex",flexDirection:"column"}},null===le||void 0===le||null===(m=le.selectedBlueprintComponent)||void 0===m||null===(h=m.fields)||void 0===h?void 0:h.map((function(e,t){var o,l,i,a,s,d,c,u;return R.createElement(U,{key:t,id:e.id,name:1===(null===e||void 0===e||null===(o=e.field_type)||void 0===o?void 0:o.io_type)?null!==e&&void 0!==e&&null!==(l=e.options)&&void 0!==l&&l.mapToItem?"".concat(null===e||void 0===e||null===(i=e.field_type)||void 0===i?void 0:i.name," (").concat(null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.mapToItem,")"):null===e||void 0===e||null===(s=e.field_type)||void 0===s?void 0:s.name:"Template"===(null===e||void 0===e||null===(d=e.field_type)||void 0===d?void 0:d.name)?null===e||void 0===e||null===(c=e.field_type)||void 0===c?void 0:c.name:"".concat(null===e||void 0===e||null===(u=e.field_type)||void 0===u?void 0:u.name," (Out)"),settingsClicked:function(){var t;ie({type:r.qY.setSelectedFieldFromSelectedBlueprintComponent,value:(0,n.Z)((0,n.Z)({},e),{},{index:null===e||void 0===e||null===(t=e.field_type)||void 0===t?void 0:t.index})}),me(!0)},renderError:Le,hasSettingsBtn:!0},R.createElement(G,e))}))),R.createElement("p",{className:O.Z.selectedFieldsContainer},0==(null===le||void 0===le||null===(_=le.selectedBlueprintComponent)||void 0===_||null===(y=_.fields)||void 0===y?void 0:y.length)?"No fields available. Select and add by clicking above":"You can add a maximum of 12 fields per component."),R.createElement("br",null)),(null===ze||void 0===ze?void 0:ze.length)>0&&R.createElement(j.Z,{message:ze,onClick:function(){return Oe("")}}),(null===Ke||void 0===Ke?void 0:Ke.length)>0&&R.createElement(j.Z,{withError:!1,extraClassName:O.Z.warningContainer,message:Ke,onClick:function(){return Je("")}})),R.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingTop:"10px",width:"100%",overflow:"auto"}},R.createElement(f.zx,{loading:he,title:"Close",clicked:function(){return M()},titleStyle:{fontSize:"14px"},style:{width:"16%",display:Re?"none":""}}),R.createElement(f.zx,{disabled:!((null===le||void 0===le||null===(C=le.selectedBlueprintComponent)||void 0===C?void 0:C.fields.length)>0&&null!==(g=le.selectedBlueprintComponent)&&void 0!==g&&g.name),light:!0,title:je?"Save":"Update",loading:he,clicked:it,titleStyle:{fontSize:"14px"},style:{width:"20%",display:1==(null===le||void 0===le||null===(w=le.selectedBlueprintComponent)||void 0===w?void 0:w.readonly)&&"superadmin"!==$.status?"none":(null===le||void 0===le||null===(b=le.selectedBlueprintComponent)||void 0===b?void 0:b.fields.length)>0&&null!==(E=le.selectedBlueprintComponent)&&void 0!==E&&E.name?"":"none"}}),!je&&R.createElement(f.j3,{permissions:[f.po.blueprints.components.delete]},R.createElement(f.zx,{light:!0,title:Re?"Back":"Rename",clicked:function(){return He(!Re)},titleStyle:{fontSize:"14px"},style:{width:"20%",display:1==(null===le||void 0===le||null===(S=le.selectedBlueprintComponent)||void 0===S?void 0:S.readonly)&&"superadmin"!==$.status?"none":""}})),!je&&!Re&&R.createElement(f.j3,{permissions:[f.po.blueprints.components.delete]},R.createElement(f.zx,{light:!0,title:"Duplicate",clicked:at,titleStyle:{fontSize:"14px"},style:{width:"22%"}})),!je&&!Re&&0==(null===le||void 0===le||null===(x=le.selectedBlueprintComponent)||void 0===x?void 0:x.readonly)&&R.createElement(R.Fragment,null,R.createElement(f.j3,{permissions:[f.po.blueprints.components.delete]},R.createElement(f.zx,{light:!0,title:"New",clicked:function(){qe(!0),ie({type:r.qY.resetSelectedBlueprintComponent})},titleStyle:{fontSize:"14px"},style:{width:"16%"}}),0===J.filter((function(e){return e.component_fields.filter((function(e){var t;return e.component_blueprint_id===(null===(t=le.selectedBlueprintComponent)||void 0===t?void 0:t.id)})).length>0})).length&&R.createElement(f.zx,{light:!0,title:"Delete",loading:ge,clicked:function(){we(!0),(0,D.bp)(le.selectedBlueprintComponent.id).subscribe({next:function(){k.h.dispatch((0,p.Xc)({show:!0,message:"You have successfully deleted ".concat(le.selectedBlueprintComponent.name),color:"red"})),null===P||void 0===P||P(!0)},complete:function(){we(!1),null===M||void 0===M||M(!0)}})},titleStyle:{fontSize:"14px"},style:{width:"20%"}})))))),$e&&R.createElement(B.E,{style:{top:"5%",right:"5%",width:"300px"},title:"Step 7: Create Customer Listing Component",message:"Start by typing Customer Listing in the Name input box. After typing the name let's create several fields.\n In the Fields Selection, click the box, a drop down list should appear, look for and click Text in Input. Text should appear in Selected Fields. Click the settings icon and \n\t\t\t\t\t\t\t\t\t\tchange the Input name for Text to Customer Name then Save. Create another Text field, name it Customer ID."}),et&&R.createElement(B.E,{style:{top:"5%",right:"5%",width:"300px"},title:"Step 9: Create the Customer Details Component",message:"Start by typing Customer Detail in the Name input box. After typing the name, create several fields.\n In the Fields Selection, look for and click Text in Input. Change the input name for Text to Customer Name then Save. Create two more Text fields, with the labels Address and Email. Select a fourth field, Date, name it Date Founded. Finally add a Customer ID field, click settings and add prefix ID of CUST-. Now click Save to finalize this component."}),pe&&R.createElement(Y.js,{onClose:function(){ie({type:r.qY.setSelectedFieldFromSelectedBlueprintComponent,value:null}),xe(!1),Pe(!1),me(!1)},isOpen:pe,modalStyle:{maxWidth:"500px",minWidth:"422px"},leftControlAction:function(e){return function(e){Pe(!0),ie({type:r.qY.removeSelectedFieldFromSelectedBlueprintComponent,value:{id:e}}),Pe(!1),me(!1)}(e)},leftControlLoading:Ie,centralControlAction:function(e){xe(!0),ie({type:r.qY.setSelectedBlueprintComponentSpecificField,value:e}),xe(!1),me(!1)},centralControlLoading:Se,allModules:T,blueprints:H,components:J,companyProcesses:ee,products:Q,selectedFields:le.selectedBlueprintComponent.fields,readOnly:(null===le||void 0===le||null===(Z=le.selectedBlueprintComponent)||void 0===Z?void 0:Z.readonly)&&"superadmin"!==$.status}),de&&R.createElement(f.Ts,{onClick:function(){return re(!1)},url:"https://www.youtube.com/watch?v=xV-bOHvfbPQ"}))})),G=function(e){var t,o,n=e.id,l=e.value,a=e.field_type,s=k.h.getState().flowReducer.companyData,d=(0,r.aL)(),c=(0,i.Z)(d,2)[1];switch(null===a||void 0===a?void 0:a.data_type){case"file":case"date":return R.createElement("input",{type:"input",placeholder:null===a||void 0===a?void 0:a.name,className:O.Z.fieldTypeInput,value:l,name:null===a||void 0===a?void 0:a.name,onChange:function(e){c({type:r.qY.setSelectedBlueprintComponentSpecificField,value:{id:n,value:e.target.value}})}});case"text":return R.createElement("input",{type:null===a||void 0===a?void 0:a.data_type,placeholder:"Input name for "+(null===a||void 0===a?void 0:a.name),className:O.Z.fieldTypeInput,value:l,name:null===a||void 0===a?void 0:a.name,onChange:function(e){var t=e.target.value;c({type:r.qY.setSelectedBlueprintComponentSpecificField,value:{id:n,value:t}})}});case"output":return R.createElement("input",{type:null===a||void 0===a?void 0:a.data_type,placeholder:"Insert value for "+(null===a||void 0===a||null===(t=a.name)||void 0===t?void 0:t.toLowerCase())+" element...",className:O.Z.fieldTypeInput,value:l,name:null===a||void 0===a?void 0:a.name,readOnly:"-"!==(null===s||void 0===s?void 0:s.id)&&"Template"===(null===a||void 0===a?void 0:a.name),onChange:function(e){var t=e.target.value;c({type:r.qY.setSelectedBlueprintComponentSpecificField,value:{id:n,value:t}})}});default:return R.createElement("input",{type:null===a||void 0===a?void 0:a.data_type,placeholder:"Insert value for "+(null===a||void 0===a||null===(o=a.name)||void 0===o?void 0:o.toLowerCase())+" element...",className:O.Z.fieldTypeInput,value:l,name:null===a||void 0===a?void 0:a.name,onChange:function(e){var t=e.target.value;c({type:r.qY.setSelectedBlueprintComponentSpecificField,value:{id:n,value:t}})}})}},U=function(e){var t=e.id,o=e.renderError,n=(e.fieldIcon,e.children),l=e.hasSettingsBtn,s=e.settingsClicked,d=e.name,c=(0,r.aL)(),u=(0,i.Z)(c,1)[0],p=(0,a.useState)(!1),m=(0,i.Z)(p,2),v=m[0],f=m[1],h=(0,a.useCallback)((function(){var e;return f(o&&(null===(e=u.validation.fields)||void 0===e?void 0:e.some((function(e){return(null===e||void 0===e?void 0:e.toString())===(null===t||void 0===t?void 0:t.toString())}))))}),[o,u.validation.fields,t]);return(0,a.useEffect)((function(){h()}),[o,t,u.validation.fields,h]),R.createElement("div",{className:O.Z.fieldRow,"app-field-row-has-error":v?"error":""},R.createElement("div",{className:O.Z.fieldRowContent},n),R.createElement("p",{className:O.Z.typeText},d),l&&R.createElement("button",{className:O.Z.fieldRowControls,onClick:function(){return s()}},R.createElement(q.G,{icon:A.gr5,style:{width:"20px",height:"20px",color:"gray"}})))},K=(0,s.$j)((function(e){var t=e.flowReducer,o=t.blueprints,n=t.allStatutes,l=t.selectedBlueprintComponent,i=t.allModules,a=t.componentTypes,s=t.components,d=t.products,r=t.companyData,c=t.companyProcesses,u=e.modalsReducer;return{blueprints:o,allStatutes:n,selectedBlueprintComponent:l,allModules:i,componentTypes:a,components:s,products:d,companyData:r,companyProcesses:c,onBoardingModalsVisibility:u.onBoardingModalsVisibility,isOnboarding:u.isOnboarding}}),(function(e){return{onSetSelectedProStep:function(t){return e((0,p.Sc)(t))}}}))(H),J=o(22590),Q=o(55415),$=o(31510),ee=o(9204),te=o(51791),oe=o(67861),ne=function(e){var t,o=(0,I.s0)(),s=(e.onClose,e.selectedProcess),c=e.onResetSelectedProStep,y=e.blueprints,C=e.allModules,g=e.companyProcesses,w=e.workflowTemplates,b=e.onBoardingModalsVisibility,E=(0,a.useState)(!1),S=((0,i.Z)(E,2)[1],(0,a.useState)(!1)),x=(0,i.Z)(S,2),Z=x[0],M=x[1],N=(0,a.useState)(!1),L=(0,i.Z)(N,2),V=L[0],W=L[1],z=(0,a.useState)(!1),O=(0,i.Z)(z,2),Y=O[0],j=O[1],q=(0,a.useState)(!1),A=(0,i.Z)(q,2),X=A[0],R=A[1],H=(0,a.useState)(!1),G=(0,i.Z)(H,2),U=G[0],ne=G[1],se=(0,a.useState)(!1),de=(0,i.Z)(se,2),re=de[0],ce=de[1],ue=(0,a.useState)(!1),pe=(0,i.Z)(ue,2),me=pe[0],ve=pe[1],fe=(0,a.useState)(!1),he=(0,i.Z)(fe,2),_e=he[0],ye=he[1],Ce=(0,r.aL)(),ge=(0,i.Z)(Ce,2),we=(ge[0],ge[1]),be=(0,u._M)(),Ee=(0,i.Z)(be,2),Se=Ee[0],xe=Ee[1],Ze=(0,a.useState)(!1),ke=(0,i.Z)(Ze,2),Ie=ke[0],Pe=ke[1],Be=(0,a.useState)(!1),Me=(0,i.Z)(Be,2),Te=Me[0],Ne=Me[1],Le=(0,a.useState)(),Ve=(0,i.Z)(Le,2),We=Ve[0],De=Ve[1];document.title="".concat(s.name," | ").concat(v.iC);var ze=function(){1==_e&&((0,m.zJ)(s.id).pipe((0,d.P)()).subscribe({}),(0,D.d7)(v.KI,v.RI).pipe((0,d.P)()).subscribe({})),k.h.dispatch((0,p.IW)(!0)),k.h.dispatch((0,p.Xc)({show:!1,message:""})),o("/dashboard")};return(0,a.useEffect)((function(){var e,t,o,n,l;""!==(null===s||void 0===s?void 0:s.name)&&((null===s||void 0===s||null===(e=s.steps)||void 0===e?void 0:e.length)>0||(null===s||void 0===s?void 0:s.steps)>0||(null===Se||void 0===Se||null===(t=Se.steps)||void 0===t?void 0:t.length)>0)?0===(null===(o=C.filter((function(e){return e.procedure.id===(null===s||void 0===s?void 0:s.id)})))||void 0===o?void 0:o.length)?k.h.dispatch((0,p.Xc)({show:!0,message:"You can now create modules. Modules are pages where your users can interact with the workflows and components you created. This is where transactions are created."})):(null===(n=C.filter((function(e){return e.procedure.id===(null===s||void 0===s?void 0:s.id)})))||void 0===n?void 0:n.length)>0&&1==(null===s||void 0===s||null===(l=s.steps)||void 0===l?void 0:l.length)&&k.h.dispatch((0,p.Xc)({show:!0,message:"To edit your step, click the box of your target step. The edit step modal will appear. There you can edit and update your step."})):""!==(null===s||void 0===s?void 0:s.name)&&(null===y||void 0===y?void 0:y.length)>0?1==s.created?k.h.dispatch((0,p.Xc)({show:!0,message:"You have just created ".concat(null===s||void 0===s?void 0:s.name," workflow and modules. Kindly configure Modules. After doing this you can now use your workflow module.")})):k.h.dispatch((0,p.Xc)({show:!0,message:"Add steps to define workflow. In these steps, you can attach components that will serve as input and output for workflow. Click the Step button above.",action:function(){xe({type:u.Cb.addNewStep,value:s.id}),M(!0)}})):""===(null===s||void 0===s?void 0:s.name)&&0==w.length&&(null===y||void 0===y?void 0:y.length)>0?(k.h.dispatch((0,p.Xc)({show:!0,message:"To begin building your Workflow, click the Edit button, enter name, description and save. You can also build components before creating your workflow."})),W(!0)):""===(null===s||void 0===s?void 0:s.name)&&w.length>0&&(null===y||void 0===y?void 0:y.length)>0?Ne(!0):0===(null===y||void 0===y?void 0:y.length)&&""===(null===s||void 0===s?void 0:s.name)&&k.h.dispatch((0,p.Xc)({show:!0,message:"To begin buiding your Workflow, start by creating blueprint components. Components are field data that you can use to gather information on your steps",action:function(){R(!0)}}))}),[C,s,y]),oe.createElement(oe.Fragment,null,oe.createElement("div",{className:J.Z.host},oe.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},oe.createElement("div",{style:F.tq?{padding:"0 0 0 10px",position:"fixed",bottom:"0"}:{padding:"0 0 0 10px"}},oe.createElement(f.zx,{title:"Close",clicked:function(){return ze()}})),oe.createElement("div",{style:F.tq?{display:"flex"}:{xposition:"flex",right:"0",top:"0",display:"flex",flexDirection:"row",padding:"0 10px 0 0px"}},oe.createElement(ie,{onAddNewProcess:function(){W(!0)}}),""!==(null===s||void 0===s?void 0:s.name)&&(null===Se||void 0===Se||null===(t=Se.steps)||void 0===t?void 0:t.length)>0&&""!==(null===s||void 0===s?void 0:s.name)&&oe.createElement(ae,{onAddNewModule:function(){ve(!0)}}),oe.createElement(le,{onAddNewComponent:function(){De(void 0),we({type:r.qY.resetSelectedBlueprintComponent}),R(!0)}}),0===C.filter((function(e){return e.procedure.id===(null===s||void 0===s?void 0:s.id)})).length&&""!==(null===s||void 0===s?void 0:s.name)&&oe.createElement(f.j3,{permissions:[f.po.blueprints.process.delete]},oe.createElement(f.zx,{light:!0,title:"Delete",clicked:function(){return j(!0)}}),oe.createElement("span",{className:J.Z.control})))),(null===y||void 0===y?void 0:y.length)>0&&oe.createElement("div",{className:J.Z.processNameContainer}),oe.createElement(P.Z,{edit:!1,onEditStep:function(){return M(!0)},onEditStepEnded:Z,updateParent:function(e,t,o){!function(e,t,o){var n=null===Se||void 0===Se?void 0:Se.steps.find((function(t){return t.id===e}));if(n){Pe(!0);var i={name:n.name,parent_steps:1==o?$.Z([].concat((0,l.Z)($.Z((0,l.Z)(ee.Z(te.Z(["id"]))(null===n||void 0===n?void 0:n.parent_steps)))),[t])):$.Z((0,l.Z)(ee.Z(te.Z(["id"]))(null===n||void 0===n?void 0:n.parent_steps.filter((function(e){return e.id!==t})))))};(0,m.T5)(i,n.id,!0).pipe((0,d.P)()).subscribe({next:function(e){(0,m.zJ)(s.id).pipe((0,d.P)()).subscribe({next:function(e){return k.h.dispatch((0,p.Xu)(e))}}),Pe(!1)},error:function(e){Pe(!1)}})}}(e,t,o)},updateStep:function(e){!function(e){var t=e;if(t){Pe(!0);var o={options:null===t||void 0===t?void 0:t.options};(0,m.T5)(o,t.id,!0).pipe((0,d.P)()).subscribe({next:function(e){k.h.dispatch((0,p.an)([].concat((0,l.Z)(g.filter((function(e){return e.id!==t.procedure_id}))),[(0,n.Z)((0,n.Z)({},s),{},{steps:e})]),1))}})}}(e)}})),Z&&oe.createElement(Q.Z,{visible:Z,onClose:function(e){ye(e),c(),M(!1),W(!1),ce(!1)},onEditChange:function(e,t){R(!0),De(e)}}),Y&&oe.createElement(f.U7,{isOpen:Y,onClose:function(){return j(!1)},backdropColor:!0,blured:!0,shadowedContainerStyle:{minWidth:"600px",width:F.tq?"100%":"40%",height:"160px"}},oe.createElement("div",{className:J.Z.deleteModalContainer},oe.createElement("div",{className:J.Z.deleteModalTextContainer},oe.createElement("p",{className:J.Z.deteteModalText},"Are you sure you want to delete this workflow?")),oe.createElement("div",{className:J.Z.deleteModalButtonContainer},oe.createElement(f.zx,{title:"Delete",clicked:function(){return function(){var e;!(null!==s&&void 0!==s&&null!==(e=s.id)&&void 0!==e&&e.length)>0||(Pe(!0),(0,m.vo)(null===s||void 0===s?void 0:s.id).pipe((0,d.P)()).subscribe({next:function(e){j(!1),Pe(!1),ye(!0),ze()},error:function(e){Pe(!1),j(!1)}}))}()},loading:Ie}),oe.createElement(f.zx,{light:!0,title:"No, Go back",clicked:function(){return j(!1)}})))),X&&oe.createElement(K,{selectedComponent:We,visible:X,onClose:function(e){ye(e),R(!1)},onUpdate:function(e){k.h.dispatch((0,p.an)(g.filter((function(e){return e.id!==s.id})),1))}}),U&&oe.createElement(K,{visible:U,onClose:function(){W(!1),Ne(!0),ne(!1)},onUpdate:function(){k.h.dispatch((0,p.an)(g.filter((function(e){return e.id!==s.id})),1))}}),me&&oe.createElement(h.ZP,{onClose:function(){return ve(!1)},isOpen:me,modalStyle:{maxWidth:"500px"},selectedProcessId:null===s||void 0===s?void 0:s.id}),V&&oe.createElement(_.Z,{onCreate:function(){W(!1),M(!0)},onClose:function(){return W(!1)},isOpen:V,modalStyle:{maxWidth:"500px"},selectedProcessId:null===s||void 0===s?void 0:s.id,selectedProcess:s,shadowedContainerStyle:{width:F.tq?"100%":"30%"}}),re&&oe.createElement(_.Z,{onCreate:function(){W(!1),M(!0)},onClose:function(){return o("/")},isOpen:re,modalStyle:{maxWidth:"500px"},selectedProcessId:null===s||void 0===s?void 0:s.id,selectedProcess:s,shadowedContainerStyle:{width:F.tq?"100%":"30%"}}),Te&&oe.createElement(T,{isOpen:Te,onCreateBlank:function(){ce(!0),Ne(!1)},onClose:function(){Ne(!1)},gotoProcess:function(e){W(!1),Ne(!1),k.h.dispatch((0,p.Xu)({name:null===e||void 0===e?void 0:e.name,description:null===e||void 0===e?void 0:e.description,id:e.id,is_pinned:null===e||void 0===e?void 0:e.is_pinned,user_id:null===e||void 0===e?void 0:e.user_id,registered:!0,type:null===e||void 0===e?void 0:e.type,steps:null===e||void 0===e?void 0:e.steps,shared_positions:null===e||void 0===e?void 0:e.shared_positions,created:!0}))},gotoComponents:function(){W(!1),Ne(!1),ne(!0),we({type:r.qY.resetSelectedBlueprintComponent})},modalStyle:{maxWidth:"500px"},selectedProcessId:null===s||void 0===s?void 0:s.id,selectedProcess:s,shadowedContainerStyle:{width:"65%",minWidth:"400px"}}),(null===b||void 0===b?void 0:b.tenthModalVisible)&&!Z&&oe.createElement(B.E,{style:{top:"60vh",right:"0%",width:"300px"},title:"Step 12: Create the last step",message:"The workflow is almost complete. We need a last step. Click the Builder Button above and double click New Step in the chart in the middle. You can also drag the New Step box into the chart. The new steps modal should appear"}),(null===b||void 0===b?void 0:b.eleventhModalVisible)&&oe.createElement(B.E,{style:{top:"10%",right:"0",width:"300px"},title:"Step 14: Connect a Workflow to a Module",message:"The workflow is now complete. It is complete when you have a start and end step. You can check each step by clicking the step. To connect the workflow to a module, click the blue Module button above. In the Select Module to Edit, select New Module. \n\t\t\t\t\t\t\tIn the Name of the Module, type Customers. For Output Title Name, look for Customer Name and Customer ID. Finally click Save. A module is where your users can view or save the information you linked with your workflows via the components."}))},le=function(e){var t=e.onAddNewComponent;return oe.createElement(f.zx,{light:!0,title:"Component",clicked:t})},ie=function(e){var t=e.onAddNewProcess;return oe.createElement(f.zx,{light:!0,title:"Edit",clicked:t})},ae=function(e){var t=e.onAddNewModule;return oe.createElement(f.zx,{title:"Module",clicked:t,style:{backgroundColor:"darkblue"}})},se=(0,s.$j)((function(e){var t=e.flowReducer;return{selectedProcess:t.selectedProcess,blueprints:t.blueprints,allModules:t.allModules,companyProcesses:t.companyProcesses,workflowTemplates:t.workflowTemplates,onBoardingModalsVisibility:e.modalsReducer.onBoardingModalsVisibility}}),(function(e){return{onSetSelectedProStep:function(t){return e((0,p.Sc)(t))},onResetSelectedProStep:function(){return e((0,p.wv)())}}}))((function(e){return oe.createElement(c.jm,null,oe.createElement(u.FZ,null,oe.createElement(u.s_,null,oe.createElement(r.ij,null,oe.createElement(r.Xr,null,oe.createElement(ne,e))))))}))},22590:function(e,t){t.Z={host:"ProcessInfo_host__+oaqg",processControls:"ProcessInfo_processControls__2tdBF",sharePosition:"ProcessInfo_sharePosition__FqHsX",addStep:"ProcessInfo_addStep__uYhIL",addComponent:"ProcessInfo_addComponent__ZNJnb",buttonWrapper:"ProcessInfo_buttonWrapper__TYYT4",addStepTooltip:"ProcessInfo_addStepTooltip__rWSLm",addComponentTooltip:"ProcessInfo_addComponentTooltip__x6Vlz",messageContainer:"ProcessInfo_messageContainer__Ymk+d",title:"ProcessInfo_title__6a6i3",message:"ProcessInfo_message__kMz1c",customCheckbox:"ProcessInfo_customCheckbox__OHBxP",checkmark:"ProcessInfo_checkmark__jqo8a",closeButton:"ProcessInfo_closeButton__Xqtn-",control:"ProcessInfo_control__tSGLd",processNameContainer:"ProcessInfo_processNameContainer__EsIer",tutorialWrapper:"ProcessInfo_tutorialWrapper__Ijpgx",tutorialContainer:"ProcessInfo_tutorialContainer__6VGmK",processChartWrapper:"ProcessInfo_processChartWrapper__Q4jCW","react-tabs__tab--selected":"ProcessInfo_react-tabs__tab--selected__kT6jO","css-1hwfws3":"ProcessInfo_css-1hwfws3__oWVI5","css-1okebmr-indicatorSeparator":"ProcessInfo_css-1okebmr-indicatorSeparator__-YC+I","css-1gsw4b3":"ProcessInfo_css-1gsw4b3__9qcid","process-name":"ProcessInfo_process-name__nJ2CH","process-description":"ProcessInfo_process-description__C24Ws",container:"ProcessInfo_container__0EX6d",arrow_type2:"ProcessInfo_arrow_type2__VA3Ze","combined-shape":"ProcessInfo_combined-shape__WjWTZ","saved-description":"ProcessInfo_saved-description__Z5PuF",helper:"ProcessInfo_helper__7xoR9","rectangle-copy-4":"ProcessInfo_rectangle-copy-4__yjPo2",rectangle:"ProcessInfo_rectangle__kG0GD","rectangle-2":"ProcessInfo_rectangle-2__g+vZ8","rectangle-copy-3":"ProcessInfo_rectangle-copy-3__27bVn","new-step-modal":"ProcessInfo_new-step-modal__ur8v3","process-name-container":"ProcessInfo_process-name-container__noEII","input-search":"ProcessInfo_input-search__WA0Hv","editable-rectangle":"ProcessInfo_editable-rectangle__GgZ++",shareProcessHost:"ProcessInfo_shareProcessHost__k6ClQ",shareModalCloseButtonContainer:"ProcessInfo_shareModalCloseButtonContainer__4RcY9",shareModalCloseButton:"ProcessInfo_shareModalCloseButton__d19L0",shareModalClosebuttonImage:"ProcessInfo_shareModalClosebuttonImage__ctaAE",shareImage:"ProcessInfo_shareImage__MMQSA",shareProcessTitle:"ProcessInfo_shareProcessTitle__NcNb-",selectComponentContainer:"ProcessInfo_selectComponentContainer__ZGHp7",selectComponentTite:"ProcessInfo_selectComponentTite__HIPH3",selectComponent:"ProcessInfo_selectComponent__AqNdw",selectClearControlsClassName:"ProcessInfo_selectClearControlsClassName__2JBX7",selectListContainer:"ProcessInfo_selectListContainer__P13gF",shareButtonContainer:"ProcessInfo_shareButtonContainer__EmjbT",multiSelectContainer:"ProcessInfo_multiSelectContainer__cJOx5",multiselectComponent:"ProcessInfo_multiselectComponent__gZpac",multiSelectSearchInput:"ProcessInfo_multiSelectSearchInput__YmtV7",multiSelectMenuOverlayList:"ProcessInfo_multiSelectMenuOverlayList__MgB5l",multiSelectMenuOverlayListItem:"ProcessInfo_multiSelectMenuOverlayListItem__gW5lT",showTutorialContainer:"ProcessInfo_showTutorialContainer__pHXUK",deleteModalContainer:"ProcessInfo_deleteModalContainer__zJS6K",deleteModalTextContainer:"ProcessInfo_deleteModalTextContainer__23irp",deleteModalImage:"ProcessInfo_deleteModalImage__blHCS",deteteModalText:"ProcessInfo_deteteModalText__fp5WW",deleteModalButtonContainer:"ProcessInfo_deleteModalButtonContainer__dBunM",deleteModalCancelButton:"ProcessInfo_deleteModalCancelButton__9lDvo",errorContainer:"ProcessInfo_errorContainer__50zTL",paragraphNameContainer:"ProcessInfo_paragraphNameContainer__qBr8V",paragraphDescriptionContainer:"ProcessInfo_paragraphDescriptionContainer__1YFKM",rightSideContainer:"ProcessInfo_rightSideContainer__NWma5",usersHost:"ProcessInfo_usersHost__kRtg+"}}}]);
//# sourceMappingURL=609.546aeb73.chunk.js.map