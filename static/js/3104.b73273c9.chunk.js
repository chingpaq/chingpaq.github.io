"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[3104],{51765:function(e,n,t){t.r(n),t.d(n,{default:function(){return ue}});var i=t(4942),l=t(1413),o=t(93433),d=t(29439),a=t(67861),u=t(23280),r=t(41771),s=t.p+"static/media/businessman.f7a1c3f4d653b011e089.jpg",c=t(40694),v=t(2288),p=t(72864),m=t(52950),f=t(51481),h=t(88374),_={host:"Dashboard_host__5V1Px",dashboardPanel:"Dashboard_dashboardPanel__KsIe5",headerContainer:"Dashboard_headerContainer__Bb76Q",title:"Dashboard_title__0Sg0v",modalTitle:"Dashboard_modalTitle__5VQoX",singleButton:"Dashboard_singleButton__RaYRv",fieldRowContainer:"Dashboard_fieldRowContainer__qZamr",fieldTypeInput:"Dashboard_fieldTypeInput__IuVWl",dashboardCard:"Dashboard_dashboardCard__BFQfi",searchContainer:"Dashboard_searchContainer__YkGT6",searchInput:"Dashboard_searchInput__-xy78",dropdownSelectComponent:"Dashboard_dropdownSelectComponent__aNur+",dropdownSelectMenuOverlayList:"Dashboard_dropdownSelectMenuOverlayList__5-CsM",dropdownSelectMenuOverlayListItem:"Dashboard_dropdownSelectMenuOverlayListItem__vWbrQ",dropdownInput:"Dashboard_dropdownInput__Lt5I3",dropdownClearControlsClassName:"Dashboard_dropdownClearControlsClassName__6FyOs",dropdownListContainer:"Dashboard_dropdownListContainer__5-0Dc",dropDownButtonContainer:"Dashboard_dropDownButtonContainer__4Rgmf",searchResults:"Dashboard_searchResults__8E1SR",pageContainer:"Dashboard_pageContainer__+zSEJ",emulatedFlexGap:"Dashboard_emulatedFlexGap__4o4oR",center:"Dashboard_center__lmmP0",logoUrlImg:"Dashboard_logoUrlImg__8lVL5",logoUrlImgMobile:"Dashboard_logoUrlImgMobile__DvDb1",dashboardImg:"Dashboard_dashboardImg__p2fky",menuBar:"Dashboard_menuBar__4L6Mg"},g=t(93389),y=t(6073),b=t(89293),E=t(88827),w=t(10103),x=t(11577),C=t(1542),k=t(34710),M=t(10904),Z="ModulePanel_moduleBoardPanelHost__oSpYm",S="ModulePanel_container__GIAqY",T="ModulePanel_titleContainer__3nUmv",D="ModulePanel_cardTitle__93SOc",q=t(67861),N=function(e){var n=e.iconSrc,t=e.cardTitle,i=e.children,l=e.style,o=e.endLabel,d=void 0===o?"":o,a=e.loading,u=void 0!==a&&a,r=e.onAddItem,s=void 0===r?function(){}:r,c=e.withAddButton,v=void 0===c||c;return q.createElement("div",{className:Z,style:l},q.createElement("div",{className:S},q.createElement("div",{className:T},n&&q.createElement("img",{alt:"",src:n}),t&&q.createElement("p",{className:D},t),u&&q.createElement(M.$j,{type:"BallTriangle",color:"var(--app-color-gray-dark)",height:30,width:"".concat(30,"px"),style:{padding:"0 0 0 10px"}})),v&&q.createElement(M.zx,{clear:!0,style:{width:"120px",backgroundColor:"rgb(83, 159, 234)",color:"white"},clicked:s,title:"Add Item"}),q.createElement("div",{style:{fontSize:"12px",textAlign:"right"}},d),i))},I=t(50981),P=t.n(I),O="ComponentModuleCard_component-card__2-rIM",A="ComponentModuleCard_component-card-container__QM+Tm",W="ComponentModuleCard_clickLabel1__y6p7N",B="ComponentModuleCard_clickLabel2__rVtV0",R="ComponentModuleCard_clickLabel3__Rb8mM",U="ComponentModuleCard_clickLabel4__DErj1",F=t(73500);var L=function(e){var n,t,i,l,o,d,u,s=e.component,c=e.options,v=e.openModal,p=void 0===v?function(){}:v,m=e.setComponentToEdit,f=void 0===m?function(){}:m,h=e.clicked,_=void 0===h?function(){}:h,g=e.isEditable,y=void 0===g||g,b=e.children,E=s.title,w=null!==(n=null!==(t=null===s||void 0===s?void 0:s.status)&&void 0!==t?t:null===(i=s.component_fields)||void 0===i||null===(l=i.find((function(e){return"Status"===e.data_type_name})))||void 0===l?void 0:l.value)&&void 0!==n?n:"",x=null!==(o=null===(d=s.component_fields)||void 0===d||null===(u=d.find((function(e){var n,t,i,l;return(null===e||void 0===e||null===(n=e.value)||void 0===n?void 0:n.includes("jpg"))||(null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.includes("jpeg"))||(null===e||void 0===e||null===(i=e.value)||void 0===i?void 0:i.includes("png"))||(null===e||void 0===e||null===(l=e.value)||void 0===l?void 0:l.includes("pdf"))})))||void 0===u?void 0:u.value)&&void 0!==o?o:"";return 1==(null===c||void 0===c?void 0:c.asGraphical)?a.createElement("div",{className:O,style:{display:"Hide"===w||"Closed"===w||"Done"===w?"none":"",border:"0px dashed var(--app-color-gray-dark)"}},a.createElement("div",{onClick:_,className:A},""!==x?x.includes("pdf")?a.createElement("embed",{src:"".concat(x,"#toolbar=0&navpanes=0&scrollbar=0&zoom=100%"),width:"100%",height:"1000px"}):a.createElement("img",{alt:"lg",src:x,onError:function(e){return e.target.src="https://i.quotev.com/b2gtjqawaaaa.jpg"},style:{margin:"0 0 0 0",padding:"3px 3px 3px 0",width:"100%",height:"100%"},onClick:_}):a.createElement("div",null,"Image Not available"))):a.createElement("div",{className:O,onClick:_},a.createElement("div",{className:A},""!==x?a.createElement("div",{style:{width:"50%",display:"flex"}},a.createElement("img",{alt:"lg",src:x,style:{margin:"0 0 0 0",padding:"3px 13px 3px 0",width:"50px",height:"50px"}}),a.createElement("p",{className:W,onClick:_},"".concat(null!==E&&void 0!==E?E:s.id))):F.tq?a.createElement("p",{className:W,onClick:_},"".concat(null!==E&&void 0!==E?E:s.id)):a.createElement("div",{style:{width:"50%",display:"flex"}},E.split("  ").length>0&&E.split("  ").map((function(e,n){return a.createElement("p",{key:n,className:E.split("  ").length>1?W:U,onClick:_},"".concat(e))}))),!F.tq&&a.createElement("p",{className:B,onClick:_},w),!F.tq&&a.createElement("p",{className:R,onClick:_},P()(s.created_date).format("DD MMM YYYY")),b,y&&a.createElement("img",{alt:"",style:{cursor:"pointer"},src:r.ePH,onClick:function(){p(),f()}})))},Y=t(32422),z=t(88550),V=t(46415),j=(t(60940),t(39518)),Q=t(81330),G=t.n(Q),J=t(27436),X=t(62589),H=t(43984),K=t(94667),$=t(27658),ee=t(75105),ne=t(63864),te=t(44408),ie=t(23910),le=(t(56120),t(37704),t(72666),t(68623),t(3863),t(95361),t(143),t(31266)),oe=t(84952),de=(t(30519),t(61058),t(20089)),ae=t(66918),ue=(0,j.$j)((function(e){var n=e.flowReducer,t=n.begunModule,i=n.allTasks,l=n.allCompletedTasks,o=n.allCompletedTasksPaginated,d=n.companyProcesses,a=n.allModules,u=n.components,r=n.companyData,s=n.companyUsersArray,c=n.blueprints,v=n.payable,p=n.lastUpdates,m=n.workflowTemplates,f=n.showMenu,h=n.companyPositionsArray;return{begunModule:t,allTasks:i,allCompletedTasks:l,allCompletedTasksPaginated:o,companyProcesses:d,allModules:a,components:u,companyData:r,companyUsersArray:s,user:e.sessionReducer.user,blueprints:c,payable:v,lastUpdates:p,workflowTemplates:m,showMenu:f,companyPositionsArray:h,onBoardingModalsVisibility:e.modalsReducer.onBoardingModalsVisibility}}),(function(e){return{onSetSelectedProcess:function(n){return e((0,h.Xu)(n))}}}))((function(e){var n,t,Z,S,T,D,q,O,A,W,B,R,U,Q,ue,re,se,ce,ve,pe,me,fe,he,_e,ge,ye,be,Ee,we,xe,Ce,ke,Me,Ze,Se,Te,De,qe,Ne,Ie,Pe,Oe,Ae,We,Be,Re,Ue,Fe,Le=(0,u.TH)(),Ye=e.allTasks,ze=e.allCompletedTasks,Ve=e.allCompletedTasksPaginated,je=e.onSetSelectedProcess,Qe=e.user,Ge=e.companyProcesses,Je=e.allModules,Xe=e.components,He=e.companyData,Ke=e.companyUsersArray,$e=e.begunModule,en=e.payable,nn=e.lastUpdates,tn=e.onBoardingModalsVisibility,ln=(0,a.useState)(!1),on=(0,d.Z)(ln,2),dn=on[0],an=on[1],un=(0,a.useState)(!1),rn=(0,d.Z)(un,2),sn=rn[0],cn=rn[1],vn=(0,a.useState)(!1),pn=(0,d.Z)(vn,2),mn=pn[0],fn=pn[1],hn=(0,a.useState)(1),_n=(0,d.Z)(hn,2),gn=_n[0],yn=_n[1],bn=(0,a.useState)(1),En=(0,d.Z)(bn,2),wn=En[0],xn=En[1],Cn=(0,a.useState)({laterTasks:[],todayTasks:[],overdueTasks:[],completedTasks:[]}),kn=(0,d.Z)(Cn,2),Mn=kn[0],Zn=kn[1],Sn=(0,a.useState)([]),Tn=(0,d.Z)(Sn,2)[1],Dn=(0,a.useState)(""),qn=(0,d.Z)(Dn,2),Nn=qn[0],In=qn[1],Pn=(0,a.useState)(0),On=(0,d.Z)(Pn,2),An=On[0],Wn=On[1],Bn=(0,a.useState)(!1),Rn=(0,d.Z)(Bn,2),Un=Rn[0],Fn=Rn[1],Ln=(0,a.useState)({}),Yn=(0,d.Z)(Ln,2),zn=Yn[0],Vn=Yn[1],jn=(0,z.pQ)(),Qn=(0,d.Z)(jn,2),Gn=Qn[0],Jn=Qn[1],Xn=(0,a.useState)(!1),Hn=(0,d.Z)(Xn,2),Kn=Hn[0],$n=Hn[1],et=(0,a.useState)({message:""}),nt=(0,d.Z)(et,2),tt=nt[0],it=nt[1],lt=(0,a.useState)(!1),ot=(0,d.Z)(lt,2),dt=ot[0],at=ot[1],ut=(0,a.useState)(""),rt=(0,d.Z)(ut,2),st=rt[0],ct=rt[1],vt=(0,a.useState)(),pt=(0,d.Z)(vt,2),mt=pt[0],ft=pt[1],ht=(0,a.useState)({candidates:[]}),_t=(0,d.Z)(ht,2),gt=_t[0],yt=_t[1],bt=(0,a.useState)("superadmin"!==Qe.user_type&&(!((null===Xe||void 0===Xe?void 0:Xe.length)>0)&&(!((null===Je||void 0===Je?void 0:Je.length)>0&&Ke.length>0&&(null===Ge||void 0===Ge?void 0:Ge.length)>0)&&"false"!==localStorage.getItem("showInfo")))),Et=(0,d.Z)(bt,2),wt=Et[0],xt=Et[1],Ct=(0,a.useState)(!1),kt=(0,d.Z)(Ct,2),Mt=kt[0],Zt=kt[1],St=(0,a.useState)([]),Tt=(0,d.Z)(St,2),Dt=Tt[0],qt=Tt[1],Nt=(0,j.I0)(),It=(0,u.s0)(),Pt=(0,u.UO)(),Ot=Pt.hash,At=Pt.transactionID,Wt=Pt.newStatus,Bt=Pt.walletID,Rt=Pt.paymentID,Ut=(0,a.useRef)(),Ft=0,Lt=(0,j.v9)((function(e){return e.sessionReducer})),Yt=Lt.authenticated;document.title="Dashboard | ".concat(b.iC),(0,a.useEffect)((function(){!F.tq&&Nt((0,h.tR)(!0)),Nt((0,h.IW)(!0)),setTimeout((function(){return Zt(!0)}),12e3),Nt((0,h.aV)())}),[]),(0,a.useEffect)((function(){if(Yt){var e;if("trial_ended"!==(null===He||void 0===He?void 0:He.status)&&"inactive"!==(null===He||void 0===He?void 0:He.status))if(history.pushState(null,null,Le.href),window.onpopstate=function(e){history.go(1)},Qe.isSingleApp&&F.tq)It("/mobile");else if(null===Qe||void 0===Qe||null===(e=Qe.pinned_modules)||void 0===e||e.map((function(e){return 0==Xe.filter((function(n){return n.module_id===e.id})).length&&(0,C.vC)(e,b.Qc,b.M4,1,b._N).pipe((0,w.q)(1)).subscribe({next:function(n){var t;e.lastUpdate=0,e.count=null!==(t=null===n||void 0===n?void 0:n.total)&&void 0!==t?t:0}})})),(0,y.EE)().pipe((0,w.q)(1)).subscribe({}),(null===Ot||void 0===Ot?void 0:Ot.length)>0)(0,f.yW)(Ot).pipe((0,w.q)(1)).subscribe({next:function(e){In(e),at(!0)}});else if((null===At||void 0===At?void 0:At.length)>0){var n;Vn(null===Xe||void 0===Xe?void 0:Xe.find((function(e){return e.id===At})));var t=null===Ge||void 0===Ge?void 0:Ge.find((function(e){var n,t;return e.id===(null===(n=Je.find((function(e){return e.id===Xe.find((function(e){return e.id===At})).module_id})))||void 0===n||null===(t=n.procedure)||void 0===t?void 0:t.id)}));(null===t||void 0===t||null===(n=t.steps)||void 0===n?void 0:n.length)>0?(E.h.dispatch((0,h.q4)(t)),an(!1),(null===Wt||void 0===Wt?void 0:Wt.length)>0?Gt(t,Xe.find((function(e){return e.id===At})),Wt):Fn(!0)):(an(!0),(0,g.zJ)(t.id).pipe((0,x.P)()).subscribe({next:function(e){E.h.dispatch((0,h.q4)(e)),an(!1),(null===Wt||void 0===Wt?void 0:Wt.length)>0?Gt(e,Xe.find((function(e){return e.id===At}))):Fn(!0)},error:function(e){}}))}""===(null===Qe||void 0===Qe?void 0:Qe.id)&&(Nt((0,H.ci)()),Nt((0,h.mb)()))}}),[Yt]),(0,a.useEffect)((function(){Je.length>0&&Je.filter((function(e){var n;return void 0===Ge.find((function(n){var t;return n.id===(null===e||void 0===e||null===(t=e.procedure)||void 0===t?void 0:t.id)}))&&(0,g.zJ)(null===e||void 0===e||null===(n=e.procedure)||void 0===n?void 0:n.id).pipe((0,x.P)()).subscribe({})})),Je.length>0&&Je.filter((function(e){var n;nn.componentsByModule[e.name]&&P()((0,I.now)()).diff(P()(null!==(n=nn.componentsByModule[e.name])&&void 0!==n?n:(0,I.now)()),"minutes")>10&&(0,C.vC)(e,b.Qc,b.Zp,1).pipe((0,w.q)(1)).subscribe({next:function(n){(Ft+=1)==Je.length&&E.h.dispatch((0,h.Xc)({show:!1,message:""})),nn.componentsByModule[e.name]=(0,I.now)()}})}))}),[Je]),(0,a.useEffect)((function(){if(Yt){var e=[];Je.filter((function(n){return Ge.filter((function(e){var t;return n.procedure.id===e.id&&e.steps.length>0&&(null===e||void 0===e||null===(t=e.steps)||void 0===t?void 0:t.filter((function(e){return e.component_blueprints.filter((function(e){var n;return 1==(null===(n=e.options)||void 0===n?void 0:n.asDashboard)}))})))})).filter((function(t){return t.steps.filter((function(e){return e.component_blueprints.filter((function(e){var n;return 1==(null===(n=e.options)||void 0===n?void 0:n.asDashboard)}))})).filter((function(i){return i.component_blueprints.filter((function(e){var n;return 1==(null===(n=e.options)||void 0===n?void 0:n.asDashboard)})).filter((function(i){return i.selected_fields.filter((function(e){return 1==e.visible&&("Formula"===e.data_type_name||"Chart"===e.data_type_name)})).map((function(d){var a,u,r,s;e=(null===Qe||void 0===Qe||null===(a=Qe.positions)||void 0===a?void 0:a.filter((function(e){var n,t;return null===(n=i.options)||void 0===n||null===(t=n.showOnly)||void 0===t?void 0:t.includes(e.id)})).length)>0||0==(null===(u=i.options)||void 0===u||null===(r=u.showOnly)||void 0===r?void 0:r.length)||void 0===(null===(s=i.options)||void 0===s?void 0:s.showOnly)?[].concat((0,o.Z)(e),[(0,l.Z)((0,l.Z)({},d),{},{module_id:n.id,procedure:t,module:n})]):(0,o.Z)(e)}))}))}))}))})),qt(e)}}),[Yt,Je,Ge,Xe]),(0,a.useEffect)((function(){var e=null===Ye||void 0===Ye?void 0:Ye.find((function(e){return e.id==new URLSearchParams(null===Le||void 0===Le?void 0:Le.search).get("taskId")}));e&&(In(e),cn(!0))}),[Ye,Le]),(0,a.useEffect)((function(){Yt&&(null===en||void 0===en?void 0:en.length)>0&&void 0!==Bt&&void 0===Rt&&en.filter((function(e){return e.user_id===(null===Qe||void 0===Qe?void 0:Qe.id)})).map((function(e,n){var t,i;an(!0),(0,$.e_)({user_id:Qe.id,id:null===e||void 0===e?void 0:e.id,total:-+(null!==(t=null===e||void 0===e?void 0:e.amount)&&void 0!==t?t:0),product:null!==(i=null===e||void 0===e?void 0:e.description)&&void 0!==i?i:null===e||void 0===e?void 0:e.product,notes:null===e||void 0===e?void 0:e.product,quantity:1}).pipe((0,x.P)()).subscribe({next:function(){if(an(!1),e.paymentID===Bt){var t,i,l=(null!==(t=null===Qe||void 0===Qe?void 0:Qe.wallet)&&void 0!==t?t:0)+Math.abs(null!==(i=+(null===e||void 0===e?void 0:e.amount))&&void 0!==i?i:0);Qe.wallet=+l}n+1==en.length&&(an(!1),E.h.dispatch((0,h.Wy)([])),It("/dashboard"))}})}))}),[Bt,Yt]);var zt=(0,a.useCallback)((function(e,n){if(0!=e.length){var t={role:"user",parts:[{text:e}]};n&&(t.parts=[].concat((0,o.Z)(t.parts),[{text:JSON.stringify({table:n.module.name,data:Xe.filter((function(e){return e.module_id===n.value})).map((function(e){var n={};return e.component_fields.filter((function(e){return n=(0,l.Z)((0,l.Z)({},n),{},(0,i.Z)({},e.field_name,e.value))})),(0,l.Z)((0,l.Z)({},n),{},{created_date:e.created_date,created_by:e.created_by.id,items:null===e||void 0===e?void 0:e.component_items.map((function(e){return{item:e.item_code,quantity:+e.quantity,value:e.value}}))})}))})}])),an(!0),(0,K.hd)(JSON.stringify(t)).pipe((0,x.P)()).subscribe({next:function(e){an(!1),yt(e)},error:function(e){yt({candidates:[{content:{parts:[{text:JSON.stringify(e)}]}}]}),an(!1)}})}else yt({candidates:[{content:{parts:[{text:"Enter a question that I could answer"}]}}]})}),[]),Vt=(null===gt||void 0===gt||null===(n=gt.candidates)||void 0===n?void 0:n.length)>0&&(null===gt||void 0===gt?void 0:gt.candidates.map((function(e){var n,t;return null===(n=e.content)||void 0===n||null===(t=n.parts)||void 0===t?void 0:t.map((function(e,n){return a.createElement("textarea",{className:_.searchResults,disabled:!0,key:100+n,value:e.text})}))}))),jt=(0,a.useCallback)((function(){var e=[];0!==(null===Ve||void 0===Ve?void 0:Ve.length)&&(Ve.map((function(n){var t;return e.push({taskName:n.name,process:null===n||void 0===n||null===(t=n.process)||void 0===t?void 0:t.name,completedOn:P()(n.completed_at).format("DD MMMM YYYY hh:mm"),duration:n.duration})})),Tn(e),Zn((0,l.Z)((0,l.Z)({},Mn),{},{completedTasks:Ve})))}),[ze,Ye]);(0,a.useEffect)((function(){return jt()}),[ze,Ye]),(0,a.useEffect)((function(){return Qt()}),[Ye]),(0,a.useEffect)((function(){return je({description:"",id:"",is_pinned:"",name:"",user_id:"",registered:!1,type:!1})}),[]);var Qt=(0,a.useCallback)((function(){var e=[],n=[],t=[];0!==(null===Ye||void 0===Ye?void 0:Ye.length)&&(Ye.map((function(i){var l=P()(new Date).format("YYYY-MM-DD");return"Done"===i.status?void 0:P()(i.due_date,"YYYY-MM-DD").isSame(l)?n.push(i):"Moved"===i.status||"Postponed"===i.status||"Cancelled"===i.status||P()(i.due_date,"YYYY-MM-DD").isAfter(l)?t.push(i):e.push(i)})),Zn({laterTasks:t,todayTasks:n,overdueTasks:e,completedTasks:Ve}))}),[Ye]),Gt=function(e,n){var t,i,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=[],u=1;(null===e||void 0===e||null===(t=e.steps)||void 0===t?void 0:t.length)>0&&(null===e||void 0===e||null===(i=e.steps)||void 0===i||i.filter((function(e){var n;return null===e||void 0===e||null===(n=e.component_blueprints)||void 0===n?void 0:n.filter((function(e){return e.selected_fields.filter((function(e){return e.value=void 0}))}))}))),ae.uniqWith(ae.eqProps("group"))(n.component_fields).map((function(e){a=[].concat((0,o.Z)(a),[{id:e.component_blueprint_id,temp_id:e.id,selected_fields:ae.filter(ae.propEq("group",e.group))(n.component_fields)}])})),e.steps.filter((function(e){e.component_blueprints.filter((function(t){t.selected_fields.filter((function(t){var i=n.component_fields.find((function(e){return e.field_name===t.field_name}));if("Status"===t.data_type_name&&void 0!==d&&(u=+e.rank-1),void 0!=i)t.value=i.value;else if("Record"===t.data_type_name){var l=n.component_fields.find((function(e){return e.field_name===t.options.name}));void 0!=l&&(t.value=l.value)}}))}))})),Jn({action:z._U.setComponents,value:a}),Jn({action:z._U.setModuleItems,value:n.component_items}),E.h.dispatch((0,h.q4)((0,l.Z)((0,l.Z)({},e),{},{steps:e.steps,stepIndex:u,module_id:n.module_id,module:Je.find((function(e){return e.id===n.module_id})),isUpdating:!0,selectedComponent:n}))),E.h.dispatch((0,h.IW)(!1)),It("/begin-module")},Jt=function(){cn(!sn)},Xt=function(){cn(!0),fn(!0)},Ht=function(e){var n=Math.ceil(e.length/b.ZP);F.tq&&n>8?n=7:!F.tq&&n>23&&(n=23);var t=e.length>0?e.length<b.ZP+1||123456==gn?ae.sortWith([ae.ascend(ae.prop("due_date"))])(e):ae.sortWith([ae.ascend(ae.prop("due_date"))])(e).slice(gn*b.ZP-b.ZP,gn*b.ZP):[];return a.createElement("div",null,a.createElement(c.Z,{style:{width:"120px",display:"none"},clicked:Jt,title:"New Task"}),e.length>0?t.map((function(e,n){var t,i;return a.createElement("div",{key:n},a.createElement(p.Z,{isEditable:!0,task:e,clicked:function(){!function(e){(0,f.xJ)({status:"Done"},null===e||void 0===e?void 0:e.id).subscribe({next:function(e){Ve.push(e)},complete:function(){return Wn(3)}})}(e)},taskId:e.id,setTaskToEdit:function(){return In(e)},openModal:function(){return Xt()},priority:null!==(null===e||void 0===e||null===(t=e.add_info)||void 0===t?void 0:t.priority)?null===(i=b._l.find((function(n){var t;return n.value===(null===e||void 0===e||null===(t=e.add_info)||void 0===t?void 0:t.priority)})))||void 0===i?void 0:i.icon:""}))})):"No tasks found",e.length>0&&a.createElement("div",{style:{display:n>1?"flex":"none",margin:"20px 0 0 0"}},a.createElement("p",{style:{padding:"0 10px 0 0",fontSize:"14px"}},"Page:"),n>0&&(0,o.Z)(Array(n)).map((function(e,n){return a.createElement(c.Z,{title:n+1,titleContainer:_.pageContainer,disabled:n==gn-1,clear:!0,key:n,style:{fontSize:"10px",maxWidth:"34px",minWidth:"20px",padding:"0",display:n<18?"":"none"},clicked:function(){return yn(n+1)}})})),a.createElement(c.Z,{title:"All",disabled:123456==gn,clicked:function(){return yn(123456)},clear:!0})))},Kt=null===zn||void 0===zn||null===(t=zn.component_fields)||void 0===t||null===(Z=t.find((function(e){return"Status"===e.data_type_name})))||void 0===Z?void 0:Z.value,$t=(null===$e||void 0===$e||null===(S=$e.processModule)||void 0===S||null===(T=S.steps)||void 0===T?void 0:T.length)>0?null===$e||void 0===$e||null===(D=$e.processModule)||void 0===D||null===(q=D.steps)||void 0===q||null===(O=q.find((function(e){return(null===e||void 0===e?void 0:e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Status"===e.data_type_name})).length>0})).length)>0})))||void 0===O||null===(A=O.component_blueprints)||void 0===A||null===(W=A.find((function(e){return e.selected_fields.filter((function(e){return"Status"===e.data_type_name})).length>0})))||void 0===W||null===(B=W.options)||void 0===B?void 0:B.showOnly:void 0,ei=(null===$e||void 0===$e||null===(R=$e.processModule)||void 0===R||null===(U=R.steps)||void 0===U?void 0:U.length)>0?null===$e||void 0===$e||null===(Q=$e.processModule)||void 0===Q||null===(ue=Q.steps)||void 0===ue||null===(re=ue.find((function(e){return(null===e||void 0===e?void 0:e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Freehand"===e.data_type_name})).length>0})).length)>0})))||void 0===re||null===(se=re.component_blueprints.find((function(e){var n;return(null===(n=e.selected_fields.filter((function(e){return"Freehand"===e.data_type_name})))||void 0===n?void 0:n.length)>0})))||void 0===se||null===(ce=se.options)||void 0===ce?void 0:ce.showOnly:void 0,ni=(null===$e||void 0===$e||null===(ve=$e.processModule)||void 0===ve||null===(pe=ve.steps)||void 0===pe?void 0:pe.length)>0?null===$e||void 0===$e||null===(me=$e.processModule)||void 0===me||null===(fe=me.steps)||void 0===fe||null===(he=fe.find((function(e){return(null===e||void 0===e?void 0:e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Action Button"===e.data_type_name})).length>0})).length)>0})))||void 0===he||null===(_e=he.component_blueprints)||void 0===_e||null===(ge=_e.find((function(e){return e.selected_fields.filter((function(e){return"Action Button"===e.data_type_name})).length>0})))||void 0===ge||null===(ye=ge.options)||void 0===ye?void 0:ye.showOnly:void 0;return a.createElement(a.Fragment,null,a.createElement("div",{className:_.host,style:{display:"inactive"===He.status?"none":""}},a.createElement("div",{className:_.dashboardPanel,style:{display:"flex",padding:F.tq?"":"0 2% 0 2%"}},!F.tq&&((null===Qe||void 0===Qe||null===(be=Qe.pinned_modules)||void 0===be?void 0:be.length)>0||(null===Je||void 0===Je?void 0:Je.length)>1)&&a.createElement("div",{style:{margin:"50px 0 0 0"}}),a.createElement("div",{style:{display:(F.tq,""),width:"100%",alignItems:"center",marginTop:(Dt.length,"100px")}},a.createElement("div",{style:{width:(F.tq||Dt.length,"100%"),minWidth:F.tq?"100%":"600px",overflow:"auto"}},a.createElement(ie.tq,{slidesPerView:1,centeredSlides:!0,spaceBetween:10,initialSlide:1,pagination:{clickable:!0,dynamicBullets:!0},modules:[te.pt,te.tl],className:"mySwiper",autoplay:{delay:1e4,disableOnInteraction:!1},style:{zIndex:"-1"}},ae.sortWith([ae.descend(ae.prop("name"))])(null!==(Ee=null===Qe||void 0===Qe?void 0:Qe.pinned_modules)&&void 0!==Ee?Ee:[]).filter((function(e){var n;return null===(n=e.options)||void 0===n?void 0:n.asGraphical})).map((function(e){return Ge.find((function(n){var t;return n.id===(null===e||void 0===e||null===(t=e.procedure)||void 0===t?void 0:t.id)}))&&Xe.filter((function(n){return n.module_id===e.id&&"Closed"!==(null===n||void 0===n?void 0:n.status)})).map((function(n,t){return a.createElement(ie.o5,{key:t},a.createElement("div",{style:{width:"100%",height:"auto"},className:_.center},a.createElement(L,{isEditable:!1,options:null===e||void 0===e?void 0:e.options,component:n,clicked:function(){},setComponentToEdit:function(){},openModal:function(){}})))}))}))),a.createElement("div",{className:_.center,style:{justifyContent:(Dt.length,"center"),width:"auto",minWidth:F.tq?"100%":"340px",height:Dt.length>0?"":"auto",display:Dt.length>0?"":"none"}},function(){if(Dt.length>0)return a.createElement("div",{style:{width:"100%",flexDirection:"column",margin:F.tq?"10px 0 0 0":"40px 0 0 0"}},F.tq&&a.createElement("div",{style:{fontSize:"26px",padding:"20px"}},"Dashboard"),a.createElement("div",{style:{display:"flex",alignContent:F.tq?"left":"center",alignItems:F.tq?"":"flex-end",flexDirection:F.tq?"column":"row"}},a.createElement("div",{style:{display:"flex",margin:"20px 20px 30px 0"}},Dt.filter((function(e){return"Formula"===e.data_type_name})).map((function(e,n){var t,i=null!==(t=e.value)&&void 0!==t?t:0;return"Formula"===e.data_type_name&&(i=(0,b.LV)(e.options,Xe,[],[],[])),Xe.filter((function(n){return n.module_id===e.module_id})).length>0?a.createElement("div",{key:n,className:_.dashboardCard,style:{width:F.tq?"100%":"",minWidth:F.tq?"0":""},onClick:function(){var n,t,i;(E.h.dispatch((0,h.IW)(!1)),E.h.dispatch((0,h.q4)((0,l.Z)((0,l.Z)({},e.procedure),{},{stepIndex:0,module_id:e.module_id,module:e.module}))),"countdateocc"===(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.operator))?It("/modules/".concat(e.module_id,"?key=").concat(e.options.list.length>0?e.options.list[0]:"Status","&value=").concat(P()((0,b.Ob)(null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.searchtext)).format("DD MMM YYYY"))):It("/modules/".concat(e.module_id,"?key=").concat(e.options.list.length>0?e.options.list[0]:"Status","&value=").concat(null!==(i=e.options.searchtext)&&void 0!==i?i:""))}},a.createElement("p",{style:{fontWeight:"bold",fontSize:"16px"}},e.field_name),i):0==n&&a.createElement("div",{key:n})}))),a.createElement("div",{style:{display:"flex",margin:"20px 20px 30px 0",flexDirection:F.tq?"column":"row"}},Dt.filter((function(e){return"Chart"===e.data_type_name})).map((function(e,n){var t,i,l,d,u=[];if("Donut"===(null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.orientation)||"Custom"===(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.orientation)){var r,s,c,v,p,m,f,h,_,g,y,E,w=null!==(r=null===e||void 0===e||null===(s=e.options)||void 0===s?void 0:s.config)&&void 0!==r?r:b.mj,x=[];if(Xe.filter((function(n){return n.module_id===e.module_id})).filter((function(n){var t,i=(null!==(t=null===n||void 0===n?void 0:n.component_fields)&&void 0!==t?t:[]).find((function(n){return n.field_name===e.options.key}));i&&(x=[].concat((0,o.Z)(x),[i.value]))})),u=(0,o.Z)(new Set(x)).map((function(n){var t,i,l,o,d;return"occurences"===(null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.operation)?x.filter((function(e){return e===n})).length:null!==e&&void 0!==e&&null!==(i=e.options)&&void 0!==i&&i.items?null===(o=ae.pipe(ae.pluck("component_items"),ae.flatten)(Xe.filter((function(t){return t.module_id===e.module_id&&t.component_fields.find((function(t){return t.field_name===e.options.key&&t.value===n}))}))).map((function(n){var t;return+n[null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.items[0]]})))||void 0===o?void 0:o.reduce((function(e,n){return e+n}),0):null!==e&&void 0!==e&&null!==(l=e.options)&&void 0!==l&&l.list?null===(d=ae.pipe(ae.pluck("component_fields"),ae.flatten)(Xe.filter((function(t){return t.module_id===e.module_id&&t.component_fields.find((function(t){return t.field_name===e.options.key&&t.value===n}))}))).map((function(n){return n.find((function(n){var t;return n.field_name===(null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.list[0])})).value})))||void 0===d?void 0:d.reduce((function(e,n){return e+ +n}),0):0})),"Custom"===(null===e||void 0===e||null===(c=e.options)||void 0===c?void 0:c.orientation)&&"donut"===(null===w||void 0===w||null===(v=w.chart)||void 0===v?void 0:v.type))w.labels=null!==e&&void 0!==e&&null!==(g=e.options)&&void 0!==g&&g.notes?null===e||void 0===e||null===(y=e.options)||void 0===y||null===(E=y.notes)||void 0===E?void 0:E.split(","):(0,o.Z)(new Set(x)),w.plotOptions.pie.donut.labels.total.label=e.field_name;return a.createElement("div",{key:n,style:{justifyContent:"center",border:"1px dashed gray",margin:"10px",padding:"20px 0",display:u.length>0?"flex":"none"}},a.createElement(de.Z,{config:w,type:null===w||void 0===w||null===(p=w.chart)||void 0===p?void 0:p.type,orientation:null===e||void 0===e||null===(m=e.options)||void 0===m?void 0:m.orientation,series:u,title:e.field_name,labels:null!==e&&void 0!==e&&null!==(f=e.options)&&void 0!==f&&f.notes?null===e||void 0===e||null===(h=e.options)||void 0===h||null===(_=h.notes)||void 0===_?void 0:_.split(","):(0,o.Z)(new Set(x))}))}return a.createElement("div",{key:n,style:{justifyContent:"center",border:"1px dashed gray",margin:"10px",padding:"20px"}},"Line"===(null===e||void 0===e||null===(l=e.options)||void 0===l?void 0:l.orientation)&&a.createElement(le.Z,{series:[{name:"Product One",data:[23,11,22,27,13,22,37,21,44,22,30,45]},{name:"Product Two",data:[30,25,36,30,45,35,64,52,59,36,39,51]}],categories:[]}),"Column"===(null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.orientation)&&a.createElement(oe.Z,{series:[{name:"Sales",data:[44,55,41,67,22,43,65]},{name:"Revenue",data:[13,23,20,8,13,27,15]}],categories:[]}))})))))}()),(null===Qe||void 0===Qe||null===(we=Qe.pinned_modules)||void 0===we?void 0:we.length)>0?!F.tq&&a.createElement("div",{style:{display:"flex",verticalAlign:"center"}},a.createElement("div",{className:_.searchContainer,style:{width:"100%"}},a.createElement("input",{placeholder:"How can we help you today?",className:_.searchInput,onChange:function(e){ct(e.target.value)},value:st}),a.createElement(M.rk,{items:Je.map((function(e){return{label:e.name,value:e.id,module:e}})),defaultSelected:"Orders",className:_.dropdownSelectComponent,tmiClassName:_.dropdownInput,molclassname:_.dropdownSelectMenuOverlayList,moliclassname:_.dropdownSelectMenuOverlayListItem,onChange:function(e){ft(e)}}),a.createElement(c.Z,{clear:!0,clicked:function(){return zt(st,mt)},loading:dn,loaderRadius:"30"},!dn&&a.createElement(r.Oaj,null)))):a.createElement("div",{style:{fontFamily:"var(--app-text-main-font)",fontSize:"16px"}},a.createElement("img",{alt:"",src:null!==(xe=null===He||void 0===He||null===(Ce=He.company_standards)||void 0===Ce?void 0:Ce.banner)&&void 0!==xe?xe:s,style:{width:"100%",height:F.tq?"auto":"500px",margin:"auto",objectFit:"scale-down"}}),a.createElement("div",{className:_.modalTitle},a.createElement("p",null,null!==(ke=null===He||void 0===He||null===(Me=He.company_standards)||void 0===Me?void 0:Me.welcome)&&void 0!==ke?ke:"Welcome to ".concat(He.display_name))),a.createElement("p",null,null!==(Ze=null===He||void 0===He||null===(Se=He.company_standards)||void 0===Se?void 0:Se.message)&&void 0!==Ze?Ze:"This application is being run in FlowHero. This is our cloud solution designed to automate the various workflows of your company."),a.createElement("p",null,null!==(Te=null===He||void 0===He||null===(De=He.company_standards)||void 0===De?void 0:De.subMessage)&&void 0!==Te?Te:"Workflows are the steps undertaken to complete a task and give a result. Modules are subsets of workflows. Think of modules as forms that uses workflows as the underlying steps to make it run, provide the inputs, outputs and create the transaction the workflow is meant to do. Multiple modules can be created from one workflow, all with distinguishing document IDs but having the same input and outputs.")),Je.filter((function(e){var n,t;return(null===(n=e.options)||void 0===n||null===(t=n.home)||void 0===t?void 0:t.length)>0})).length>0&&!F.tq&&a.createElement(v.Z,{cardTitle:"My Account",style:{width:"100%",marginTop:"20px"}},a.createElement("div",{style:{display:"flex",fontFamily:"var(--app-text-main-font)",width:"100%",padding:F.tq?"":"30px"}},a.createElement("div",{style:{width:"50%"}},a.createElement("div",{onClick:function(){It("/my-profile")}},a.createElement("div",{className:_.actionsContainer,style:{cursor:"pointer",fontSize:"16px",fontWeight:"bold"}},a.createElement("div",null,"View Account Information"),a.createElement("div",null,"")),a.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}})),a.createElement("br",null),a.createElement("div",{onClick:function(){It("/change-password")}},a.createElement("div",{className:_.actionsContainer,style:{cursor:"pointer",fontSize:"16px",fontWeight:"bold"}},a.createElement("div",null,"Change my account password"),a.createElement("div",null,"")),a.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}))),a.createElement("div",{style:{width:"50%"}},Je.filter((function(e){var n,t;return(null===(n=e.options)||void 0===n||null===(t=n.home)||void 0===t?void 0:t.length)>0})).map((function(e,n){var t;return a.createElement("div",{key:n,onClick:function(){document.title="".concat(e.name," | ").concat(b.iC),E.h.dispatch((0,h.IW)(!1)),E.h.dispatch((0,h.q4)((0,l.Z)((0,l.Z)({},e.procedure),{},{stepIndex:0,module_id:e.id,module:e}))),It("/begin-module")}},a.createElement("div",{className:_.actionsContainer,style:{cursor:"pointer",fontSize:"16px",fontWeight:"bold"}},a.createElement("div",null,null===(t=e.options)||void 0===t?void 0:t.home),a.createElement("div",null,"")),a.createElement("hr",{style:{borderTop:"0.5px solid #D2D2D2"}}),a.createElement("br",null))}))))))),!F.tq&&a.createElement(v.Z,{style:{display:(null===gt||void 0===gt||null===(qe=gt.candidates)||void 0===qe?void 0:qe.length)>0?"":"none",marginTop:"20px",width:"100%"},cardTitle:"Search Results:"},Vt,a.createElement(c.Z,{lighter:!0,style:{width:"120px"},title:"Clear",clicked:function(){yt({candidates:[]}),ct("")}})),a.createElement("br",null),(null===Qe||void 0===Qe||null===(Ne=Qe.pinned_modules)||void 0===Ne?void 0:Ne.length)>0&&ae.sortWith([ae.descend(ae.prop("name"))])(null!==(Ie=null===Qe||void 0===Qe?void 0:Qe.pinned_modules)&&void 0!==Ie?Ie:[]).filter((function(e){var n;return!(null!==(n=e.options)&&void 0!==n&&n.asGraphical)})).map((function(e,n){var t,i,d,u,r,s,v,p,m,f,g,Z,S,T,D,q,P,O,A,W,B,R,U,V,j,Q,J,X,H,K=Ge.find((function(n){var t;return n.id===(null===e||void 0===e||null===(t=e.procedure)||void 0===t?void 0:t.id)}));return K&&a.createElement("div",{key:n},a.createElement("div",{style:{minWidth:F.tq?"100%":"600px",marginBottom:"20px",width:(F.tq,"100%")}},a.createElement(N,{cardTitle:e.name,withAddButton:(1!=(null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.readOnly)||"manager"===Qe.user_type||"admin"===Qe.user_type)&&(!!(null!==(i=!(null!==(d=e.options)&&void 0!==d&&d.asGraphical))&&void 0!==i?i:K)&&((null===K||void 0===K?void 0:K.steps.length)>0&&("trial_ended"!==He.status&&"inactive"!==He.status))),onAddItem:function(){var n,t;(0,y.OQ)(!0,!0).pipe((0,w.q)(1)).subscribe({}),He.start=!1,(0,k.aK)().pipe((0,x.P)()).subscribe({}),E.h.dispatch((0,h.IW)(!1)),E.h.dispatch((0,h.q4)((0,l.Z)((0,l.Z)({},e.procedure),{},{completeSteps:$e.processModule.steps,steps:$e.processModule.steps,stepIndex:1,module_id:e.id,module:e}))),Jn({action:z._U.setModuleItems,value:[]}),Jn({action:z._U.setModuleNewStepComponents,value:[]}),Jn({action:z._U.setComponents,value:[]}),(null===K||void 0===K||null===(n=K.steps)||void 0===n?void 0:n.length)>0&&(null===(t=K.steps)||void 0===t||t.filter((function(e){var n;return null===e||void 0===e||null===(n=e.component_blueprints)||void 0===n?void 0:n.filter((function(e){return e.selected_fields.filter((function(e){return e.value=void 0}))}))}))),It("/begin-module")},loading:dn,endLabel:F.tq||!0===(null===(u=e.options)||void 0===u?void 0:u.asGraphical)?"":"Created Date"},function(e){var n=Xe.filter((function(n){return n.module_id===e.id&&"Closed"!==(null===n||void 0===n?void 0:n.status)})),t=Math.ceil((null!==e&&void 0!==e&&e.count?+(null===e||void 0===e?void 0:e.count):n.length)/b.M4);F.tq&&t>7?t=7:!F.tq&&t>23&&(t=23);var i=n.length>0?n.length<b.M4+1||123456==wn?ae.sortWith([ae.descend(ae.prop("created_date"))])(n):ae.sortWith([ae.descend(ae.prop("created_date"))])(n).slice(wn*b.M4-b.M4,wn*b.M4):[],d=function(n){var t,i,d,a,u,r,s,c,v,p,m,f,_,g,y,w,C,k,M,Z,S,T,D,q,N,I,P=Ge.find((function(n){return n.id===e.procedure.id}));Vn(n),He.start=!0;var O=[];(null===P||void 0===P||null===(t=P.steps)||void 0===t?void 0:t.length)>0&&(null===P||void 0===P||null===(i=P.steps)||void 0===i||i.filter((function(e){var n;return null===e||void 0===e||null===(n=e.component_blueprints)||void 0===n?void 0:n.filter((function(e){return e.selected_fields.filter((function(e){return e.value=void 0}))}))}))),ae.uniqWith(ae.eqProps("group"))(n.component_fields).map((function(e){O=[].concat((0,o.Z)(O),[{id:e.component_blueprint_id,temp_id:e.id,selected_fields:ae.filter(ae.propEq("group",e.group))(n.component_fields)}])})),P.steps.filter((function(e){e.component_blueprints.filter((function(e){e.selected_fields.filter((function(e){var t,i=null===(t=n.component_fields)||void 0===t?void 0:t.find((function(n){return n.field_name===e.field_name}));if(void 0!=i)e.value=i.value,e.group=i.group;else if("Record"===e.data_type_name){var l,o=null===(l=n.component_fields)||void 0===l?void 0:l.find((function(n){return n.field_name===e.options.name}));void 0!=o&&(e.value=o.value,e.group=o.group)}}))}))})),Jn({action:z._U.setComponents,value:O}),Jn({action:z._U.setModuleItems,value:JSON.parse(JSON.stringify(n.component_items))});var A,W,B,R=P.steps.filter((function(e){var n,t,i,l,o,d;return void 0==(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.showStepAll)||1==(null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.showStepAll)||0==(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.showStepAll)&&((null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.showOnly)||void 0===o?void 0:o.filter((function(e){return Qe.positions.map((function(e){return e.id})).indexOf(e)>-1})).length)>0||(null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.showStepAuthor)&&(null===Qe||void 0===Qe?void 0:Qe.id)===(null===P||void 0===P?void 0:P.user_id))})).map((function(e,n){return(0,l.Z)((0,l.Z)({},e),{},{rank:n+1})})),U=(null===$e||void 0===$e||null===(d=$e.processModule)||void 0===d||null===(a=d.steps)||void 0===a?void 0:a.length)>0?null===$e||void 0===$e||null===(u=$e.processModule)||void 0===u||null===(r=u.steps)||void 0===r||null===(s=r.find((function(e){return(null===e||void 0===e?void 0:e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Status"===e.data_type_name})).length>0})).length)>0})))||void 0===s||null===(c=s.component_blueprints)||void 0===c||null===(v=c.find((function(e){return e.selected_fields.filter((function(e){return"Status"===e.data_type_name})).length>0})))||void 0===v||null===(p=v.options)||void 0===p?void 0:p.showOnly:[],F=(null===$e||void 0===$e||null===(m=$e.processModule)||void 0===m||null===(f=m.steps)||void 0===f?void 0:f.length)>0?null===$e||void 0===$e||null===(_=$e.processModule)||void 0===_||null===(g=_.steps)||void 0===g||null===(y=g.find((function(e){return(null===e||void 0===e?void 0:e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Action Button"===e.data_type_name})).length>0})).length)>0})))||void 0===y||null===(w=y.component_blueprints.find((function(e){var n;return(null===(n=e.selected_fields.filter((function(e){return"Action Button"===e.data_type_name})))||void 0===n?void 0:n.length)>0})))||void 0===w||null===(C=w.options)||void 0===C?void 0:C.showOnly:[],L=void 0===Kt&&((null===Qe||void 0===Qe?void 0:Qe.id)===(null===P||void 0===P?void 0:P.user_id)||(null===U||void 0===U?void 0:U.filter((function(e){return Qe.positions.map((function(e){return e.id})).indexOf(e)>-1})).length)>0)||(void 0===Kt||"New"===Kt)&&(null===n||void 0===n||null===(k=n.created_by)||void 0===k?void 0:k.id)===(null===Qe||void 0===Qe?void 0:Qe.id)||void 0!==Kt&&!("Closed"===Kt||Kt===(null===He||void 0===He||null===(M=He.misc_info)||void 0===M?void 0:M.lock))&&(null===U||void 0===U?void 0:U.filter((function(e){return Qe.positions.map((function(e){return e.id})).indexOf(e)>-1})).length)>0&&(1!=(null===Je||void 0===Je||null===(Z=Je.find((function(e){return e.id===n.module_id})))||void 0===Z||null===(S=Z.options)||void 0===S?void 0:S.strict)||(null===n||void 0===n||null===(T=n.created_by)||void 0===T?void 0:T.id)!==(null===Qe||void 0===Qe?void 0:Qe.id))||!1===(null===n||void 0===n?void 0:n.is_complete)&&(null===n||void 0===n||null===(D=n.created_by)||void 0===D?void 0:D.id)===(null===Qe||void 0===Qe?void 0:Qe.id),Y=(0,b.cQ)(Kt,F,n,Qe,$e,He),V=null!==(q=null===(N=n.component_fields.find((function(e){return"Action Button"===e.data_type_name})))||void 0===N?void 0:N.value)&&void 0!==q?q:"";E.h.dispatch((0,h.q4)((0,l.Z)((0,l.Z)({},P),{},{completeSteps:P.steps,steps:R,stepIndex:1==L&&n.created_by.id===Qe.id&&V||(!L||n.created_by.id!==Qe.id&&P.user_id!==Qe.id)&&(!Y||V!==Qe.id&&P.user_id!==Qe.id)?0:1,canEdit:!(1==L&&n.created_by.id===Qe.id&&V||(!L||n.created_by.id!==Qe.id&&P.user_id!==Qe.id)&&(!Y||V!==Qe.id&&P.user_id!==Qe.id)),back_array:R.length>0?[R[0].id]:[],module_id:n.module_id,module:null===Je||void 0===Je?void 0:Je.find((function(e){return e.id===n.module_id})),isUpdating:!0,selectedComponent:n,showDetail:!0}))),null!==n&&void 0!==n&&null!==(I=n.assigned_to)&&void 0!==I&&I.id&&!Ke.find((function(e){var t;return e.id===(null===n||void 0===n||null===(t=n.assigned_to)||void 0===t?void 0:t.id)}))?(an(!0),(0,ee.VG)(Ke.find((function(e){var t;return e.id===(null===(t=n.created_by)||void 0===t?void 0:t.id)}))?[null===n||void 0===n||null===(A=n.assigned_to)||void 0===A?void 0:A.id]:[null===n||void 0===n||null===(W=n.assigned_to)||void 0===W?void 0:W.id,null===n||void 0===n||null===(B=n.created_by)||void 0===B?void 0:B.id]).pipe((0,x.P)()).subscribe({next:function(e){E.h.dispatch((0,h.NY)(Ke.concat(e))),an(!1),Fn(!0)},error:function(){}})):Fn(!0)};return a.createElement("div",null,n.length>0?i.map((function(n,t){return a.createElement("div",{key:t},a.createElement(L,{isEditable:!1,options:null===e||void 0===e?void 0:e.options,component:n,clicked:function(){var e;if(0===(null===(e=n.component_fields)||void 0===e?void 0:e.length))return an(!0),void(0,y.r6)(n.id).pipe((0,x.P)()).subscribe({next:function(e){d(e),an(!1)},error:function(){}});d(n)},setComponentToEdit:function(){},openModal:function(){}}))})):"No items found",a.createElement("div",{style:{display:t>1?"flex":"none",margin:"20px 0 0 0"}},n.length>0&&a.createElement(a.Fragment,null,a.createElement("p",{style:{padding:"0 10px 0 0",fontSize:"14px"}},"Page:"),t>0&&(0,o.Z)(Array(t)).map((function(t,i){return a.createElement(c.Z,{title:i+1,disabled:i==wn-1,clear:!0,key:i,style:{maxWidth:"34px",minWidth:"20px",display:i<16?"":"none",padding:"0"},titleContainer:_.pageContainer,clicked:function(){var t=Math.ceil(n.length/b.M4),l=i+1;l>t?(an(!0),nn.componentsByModule[e.name]=0,(0,C.vC)(e,b.Qc,l-t<=1?b.M4:b.M4*l,l-t<=1?l:1).pipe((0,w.q)(1)).subscribe({next:function(n){var t;an(!1),nn.componentsByModule[e.name]=(0,I.now)(),e.lastUpdate=0,e.count=null!==(t=null===n||void 0===n?void 0:n.total)&&void 0!==t?t:0,xn(l)}}),l==t&&xn(l)):xn(l)}})}))),a.createElement(c.Z,{title:"All",disabled:123456==wn,clicked:function(){(0,C.vC)(e,b.Qc,999999,1).pipe((0,w.q)(1)).subscribe({next:function(n){var t;an(!1),e.lastUpdate=0,e.count=null!==(t=null===n||void 0===n?void 0:n.total)&&void 0!==t?t:0}}),xn(123456)},clear:!0})))}(e))),Un&&a.createElement(M.U7,{onClose:function(){return Fn(!1)},hasCloseButton:!!F.tq||0==(null===zn||void 0===zn||null===(r=zn.component_fields)||void 0===r?void 0:r.length),blured:!0,scrollable:!0,isOpen:Un,backdropColor:!0,shadowedContainerStyle:{width:F.tq||Kn?"100%":"50%",minWidth:F.tq?"100%":"1000px"}},a.createElement(Y.rr,{print:Kn,ref:Ut,begunModule:$e,allModules:Je,companyData:He,components:Xe,selectedComponent:zn,companyUsersArray:Ke}),(null===zn||void 0===zn||null===(s=zn.component_fields)||void 0===s?void 0:s.length)>0&&a.createElement("div",{className:_.emulatedFlexGap,style:{width:F.tq?"100%":""}},!Kn&&a.createElement(c.Z,{title:"Close",style:{width:F.tq?"90%":"120px"},clicked:function(){Vn({}),Fn(!1),$n(!1),E.h.dispatch((0,h.q4)(""))}}),(0,b.cQ)(Kt,ni,zn,Qe,$e,He)&&(null===$e||void 0===$e||null===(v=$e.processModule)||void 0===v||null===(p=v.steps)||void 0===p||null===(m=p.find((function(e){return e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Action Button"===e.data_type_name})).length>0})).length>0})))||void 0===m||null===(f=m.component_blueprints.find((function(e){return e.selected_fields.filter((function(e){return"Action Button"===e.data_type_name})).length>0})))||void 0===f?void 0:f.selected_fields.filter((function(e){return"Action Button"===e.data_type_name})).map((function(e,n){var t,i;if("status"===e.options.action){var o,d,u,r,s,v,p,m,f,g=(null===He||void 0===He||null===(o=He.misc_info)||void 0===o||null===(d=o.status)||void 0===d?void 0:d.length)>0?null===He||void 0===He||null===(u=He.misc_info)||void 0===u?void 0:u.status:[{label:"Ongoing",value:"Ongoing"},{label:"Pending",value:"Pending"},{label:"Awaiting Payment",value:"Awaiting Payment"},{label:"Awaiting Fulfillment",value:"Awaiting Fulfillment"},{label:"Awaiting Shipment",value:"Awaiting Shipment"},{label:"Awaiting Pickup",value:"Awaiting Pickup"},{label:"Partially Shipped",value:"Partially Shipped"},{label:"Completed",value:"Completed"},{label:"Shipped",value:"Shipped"},{label:"Cancelled",value:"Cancelled"},{label:"Declined",value:"Declined"},{label:"Refunded",value:"Refunded"},{label:"Disputed",value:"Disputed"},{label:"Done",value:"Done"},{label:"Closed (Will lock Edit)",value:"Closed"}];if((null===He||void 0===He||null===(r=He.misc_info)||void 0===r||null===(s=r.rules)||void 0===s?void 0:s.length)>0)null===He||void 0===He||null===(f=He.misc_info)||void 0===f||f.rules.filter((function(e){return"status"===e.type})).filter((function(n){n.valueCondition===e.value&&(g="0"===n.allow?g.filter((function(e){return n.values.includes(e.value)})):g.filter((function(e){return!n.values.includes(e.value)})))}));return a.createElement("div",{key:n,style:{width:"100%",display:"user"===e.options.action&&null!==(v=zn.component_fields)&&void 0!==v&&null!==(p=v.find((function(n){return n.procedure_step_blueprint_field_id===e.procedure_step_blueprint_field_id})))&&void 0!==p&&p.value?"none":""}},a.createElement(ne.Z,{titleProps:{fontSize:"16px",color:"var(--app-color-gray-light)"},className:_.multiselectComponent,key:n,visible:e.visible,mandatory:e.mandatory,value:null!==(m=e.value)&&void 0!==m?m:"",items:g,error:e.errors,onChange:function(n){var t,i,o,d;if(null!==(t=$e.processModule)&&void 0!==t&&null!==(i=t.module)&&void 0!==i&&null!==(o=i.options)&&void 0!==o&&o.credits&&(n===(null===(d=He.options)||void 0===d?void 0:d.lock)||"Closed"===n)){var a,u,r,s,c,v,p,m,f,_,g=null===$e||void 0===$e||null===(a=$e.processModule)||void 0===a||null===(u=a.steps)||void 0===u||null===(r=u.find((function(e){return e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Payments"===e.data_type_name})).length>0})).length>0})))||void 0===r||null===(s=r.component_blueprints.find((function(e){return e.selected_fields.filter((function(e){return"Payments"===e.data_type_name})).length>0})))||void 0===s?void 0:s.selected_fields.find((function(e){return"Payments"===e.data_type_name})),w=null===(c=Gn.newStepComponents.concat(Gn.components).find((function(e){return e.selected_fields.filter((function(e){var n;return e.field_name===(null===g||void 0===g||null===(n=g.options)||void 0===n?void 0:n.paymentField)})).length>0})))||void 0===c||null===(v=c.selected_fields)||void 0===v?void 0:v.find((function(e){var n;return e.field_name===(null===g||void 0===g||null===(n=g.options)||void 0===n?void 0:n.paymentField)})),C=0;if(null===(p=$e.processModule)||void 0===p||null===(m=p.selectedComponent.payments)||void 0===m||!m.stripe_id)return Fn(!1),$e.processModule.showDetail=!1,void E.h.dispatch((0,h.Xc)({show:!0,message:"Check support payment docs",color:"red",spinner:!1,bottom:!0}));if(!(+(null!==(f=null===w||void 0===w?void 0:w.value)&&void 0!==f?f:0)>0))return void E.h.dispatch((0,h.Xc)({show:!0,message:"No amount found",color:"red",spinner:!1,bottom:!0}));C=+(null!==(_=null===w||void 0===w?void 0:w.value)&&void 0!==_?_:0),"Cash"!==(null===g||void 0===g?void 0:g.value)&&(0,$.e_)({user_id:Qe.id,id:(0,b.mR)(),total:C,product:"CR-".concat(null===zn||void 0===zn?void 0:zn.title),notes:"Wallet",quantity:1}).pipe((0,x.P)()).subscribe({next:function(){var e;Qe.wallet=+(+(null!==(e=null===Qe||void 0===Qe?void 0:Qe.wallet)&&void 0!==e?e:0)+C)}})}He.start=!0,an(!0),(0,y.C0)({component_id:zn.id,index:0,group:99,value:n,procedure_step_blueprint_field_id:e.procedure_step_blueprint_field_id}).subscribe({next:function(){an(!1),Fn(!1),E.h.dispatch((0,h.q4)((0,l.Z)((0,l.Z)({},$e.processModule),{},{showDetail:!1})))}})},fieldIcon:e.icon,fieldLabel:e.field_name,placeholder:"Select status..."}))}return a.createElement(c.Z,{key:n,light:!0,title:e.field_name,loading:dn,clicked:function(){if("user"===e.options.action||"creator"===e.options.action){var n,t,i,o="user"===e.options.action?Qe:Ke.find((function(e){var n;return e.id===(null===(n=zn.created_by)||void 0===n?void 0:n.id)}));if(null!==(n=$e.processModule)&&void 0!==n&&null!==(t=n.module)&&void 0!==t&&null!==(i=t.options)&&void 0!==i&&i.credits&&"user"===e.options.action){var d,a,u,r,s,c,v,p,m,f,_=null===$e||void 0===$e||null===(d=$e.processModule)||void 0===d||null===(a=d.steps)||void 0===a||null===(u=a.find((function(e){return e.component_blueprints.filter((function(e){return e.selected_fields.filter((function(e){return"Payments"===e.data_type_name})).length>0})).length>0})))||void 0===u||null===(r=u.component_blueprints.find((function(e){return e.selected_fields.filter((function(e){return"Payments"===e.data_type_name})).length>0})))||void 0===r?void 0:r.selected_fields.find((function(e){return"Payments"===e.data_type_name})),g=null===(s=Gn.newStepComponents.concat(Gn.components).find((function(e){return e.selected_fields.filter((function(e){var n;return e.field_name===(null===_||void 0===_||null===(n=_.options)||void 0===n?void 0:n.paymentField)})).length>0})))||void 0===s||null===(c=s.selected_fields)||void 0===c?void 0:c.find((function(e){var n;return e.field_name===(null===_||void 0===_||null===(n=_.options)||void 0===n?void 0:n.paymentField)})),w=0;if(void 0===(null===o||void 0===o?void 0:o.wallet)||0===(null===o||void 0===o?void 0:o.wallet))return E.h.dispatch((0,h.Xc)({show:!0,message:"You need to setup funds for your wallet",color:"red",spinner:!1,bottom:!0})),$e.processModule.showDetail=!1,void Fn(!1);if(+(null!==(v=null===g||void 0===g?void 0:g.value)&&void 0!==v?v:0)>0&&"Cash"===(null===_||void 0===_?void 0:_.value)){var C,k;if((null!==(C=+(null===o||void 0===o?void 0:o.wallet))&&void 0!==C?C:0)<+(null===g||void 0===g?void 0:g.value))return E.h.dispatch((0,h.Xc)({show:!0,message:"Insufficient funds in wallet",color:"red",spinner:!1,bottom:!0})),$e.processModule.showDetail=!1,void Fn(!1);w=+(null!==(k=null===g||void 0===g?void 0:g.value)&&void 0!==k?k:0)}else if(null===(p=$e.processModule)||void 0===p||null===(m=p.selectedComponent)||void 0===m||null===(f=m.payments)||void 0===f||!f.stripe_id)return Fn(!1),$e.processModule.showDetail=!1,void E.h.dispatch((0,h.Xc)({show:!0,message:"Check support payment docs",color:"red",spinner:!1,bottom:!0}));"Cash"===(null===_||void 0===_?void 0:_.value)&&(0,$.e_)({user_id:Qe.id,id:(0,b.mR)(),total:-w,product:"DB-".concat(null===zn||void 0===zn?void 0:zn.title),notes:"Wallet",quantity:1}).pipe((0,x.P)()).subscribe({next:function(){var e;return o.wallet=+(+(null!==(e=null===o||void 0===o?void 0:o.wallet)&&void 0!==e?e:0)-w)},error:function(){return E.h.dispatch((0,h.Xc)({show:!0,message:"Purchase error encountered",color:"red",spinner:!1,bottom:!0}))}})}an(!0),(0,y.C0)({component_id:zn.id,index:0,group:99,value:o.id,procedure_step_blueprint_field_id:e.procedure_step_blueprint_field_id}).subscribe({next:function(e){(0,y.dn)(zn.id,o.id).subscribe({next:function(e){an(!1),Fn(!1),E.h.dispatch((0,h.q4)((0,l.Z)((0,l.Z)({},$e.processModule),{},{showDetail:!1})))}})},error:function(){},complete:function(){}})}else"status"===e.options.action||"date"===e.options.action||e.options.action,an(!1)},style:{backgroundColor:"green",color:"white",width:F.tq?"90%":"100px",display:"user"===e.options.action&&null!==(t=zn.component_fields)&&void 0!==t&&null!==(i=t.find((function(n){return n.procedure_step_blueprint_field_id===e.procedure_step_blueprint_field_id})))&&void 0!==i&&i.value?"none":""}})}))),(void 0===Kt&&(null===ni||void 0===ni?void 0:ni.filter((function(e){return Qe.positions.map((function(e){return e.id})).indexOf(e)>-1})).length)>0||void 0!==Kt&&!("Hide"===Kt||"Closed"===Kt||Kt===(null===He||void 0===He||null===(g=He.misc_info)||void 0===g?void 0:g.lock))&&(null===ni||void 0===ni?void 0:ni.filter((function(e){return Qe.positions.map((function(e){return e.id})).indexOf(e)>-1})).length)>0&&(1!=(null===$e||void 0===$e||null===(Z=$e.processModule)||void 0===Z||null===(S=Z.module)||void 0===S||null===(T=S.options)||void 0===T?void 0:T.strict)||(null===zn||void 0===zn||null===(D=zn.created_by)||void 0===D?void 0:D.id)!==(null===Qe||void 0===Qe?void 0:Qe.id)))&&zn.created_by!==(null===Qe||void 0===Qe?void 0:Qe.id)&&(null===$e||void 0===$e||null===(q=$e.processModule)||void 0===q||null===(P=q.steps[0].component_blueprints.find((function(e){return e.selected_fields.filter((function(e){return"Action Button"===e.data_type_name})).length>0})))||void 0===P?void 0:P.selected_fields.filter((function(e){return"Action Button"===e.data_type_name})).map((function(e,n){var t,i;return a.createElement(c.Z,{key:n,title:e.field_name,loading:dn,clicked:function(){"user"===e.options.action?(an(!0),(0,y.C0)({component_id:zn.id,index:e.index,group:99,value:Qe.id,procedure_step_blueprint_field_id:e.procedure_step_blueprint_field_id}).subscribe({next:function(e){an(!1),Fn(!1)},error:function(){},complete:function(){}})):"status"===e.options.action||"date"===e.options.action||e.options.action},style:{backgroundColor:"green",color:"white",width:F.tq?"90%":"120px",display:"user"===e.options.action&&null!==(t=zn.component_fields)&&void 0!==t&&null!==(i=t.find((function(n){return n.procedure_step_blueprint_field_id===e.procedure_step_blueprint_field_id})))&&void 0!==i&&i.value?"none":""}})}))),Kn&&a.createElement(c.Z,{light:!0,title:"Close",style:{width:F.tq?"90%":"120px"},clicked:function(){$n(!1)}}),(void 0===Kt&&((null===Qe||void 0===Qe?void 0:Qe.id)===(null===$e||void 0===$e||null===(O=$e.processModule)||void 0===O?void 0:O.user_id)||(null===$t||void 0===$t?void 0:$t.filter((function(e){return Qe.positions.map((function(e){return e.id})).indexOf(e)>-1})).length)>0||(null===ei||void 0===ei?void 0:ei.filter((function(e){return Qe.positions.map((function(e){return e.id})).indexOf(e)>-1})).length)>0)||(void 0===Kt||"New"===Kt)&&((null===zn||void 0===zn||null===(A=zn.created_by)||void 0===A?void 0:A.id)===(null===Qe||void 0===Qe?void 0:Qe.id)||(null===zn||void 0===zn||null===(W=zn.assigned_to)||void 0===W?void 0:W.id)===(null===Qe||void 0===Qe?void 0:Qe.id))||void 0!==Kt&&!("Closed"===Kt||Kt===(null===He||void 0===He||null===(B=He.misc_info)||void 0===B?void 0:B.lock))&&((null===$t||void 0===$t?void 0:$t.filter((function(e){return Qe.positions.map((function(e){return e.id})).indexOf(e)>-1})).length)>0||(null===ei||void 0===ei?void 0:ei.filter((function(e){return Qe.positions.map((function(e){return e.id})).indexOf(e)>-1})).length)>0)&&(1!=(null===Qe||void 0===Qe||null===(R=Qe.pinned_modules)||void 0===R||null===(U=R.find((function(e){return e.id===zn.module_id})))||void 0===U||null===(V=U.options)||void 0===V?void 0:V.strict)||(null===zn||void 0===zn||null===(j=zn.created_by)||void 0===j?void 0:j.id)!==(null===Qe||void 0===Qe?void 0:Qe.id))||!1===(null===zn||void 0===zn?void 0:zn.is_complete)&&(null===zn||void 0===zn||null===(Q=zn.created_by)||void 0===Q?void 0:Q.id)===(null===Qe||void 0===Qe?void 0:Qe.id))&&a.createElement(c.Z,{light:!0,title:"Edit",style:{backgroundColor:F.tq?"var(--app-color-blue)":"",color:F.tq?"white":"",width:F.tq?"90%":"120px",display:0===(null===(J=zn.component_fields)||void 0===J?void 0:J.filter((function(e){return"Action Button"===e.data_type_name&&"user"===e.options.action})).length)||0===(null===(X=zn.component_fields)||void 0===X?void 0:X.filter((function(e){return"Action Button"===e.data_type_name&&"user"===e.options.action&&void 0===e.value})).length)&&(null===(H=zn.component_fields)||void 0===H?void 0:H.filter((function(e){return"Action Button"===e.data_type_name&&"user"===e.options.action&&e.value===(null===Qe||void 0===Qe?void 0:Qe.id)})).length)>0?"":"none"},clicked:function(){var e,n,t,i,d=[];(null===$e||void 0===$e||null===(e=$e.processModule)||void 0===e||null===(n=e.steps)||void 0===n?void 0:n.length)>0&&(null===$e||void 0===$e||null===(t=$e.processModule)||void 0===t||null===(i=t.steps)||void 0===i||i.filter((function(e){var n;return null===e||void 0===e||null===(n=e.component_blueprints)||void 0===n?void 0:n.filter((function(e){return e.selected_fields.filter((function(e){return e.value=void 0}))}))}))),ae.uniqWith(ae.eqProps("group"))(zn.component_fields).map((function(e){d=[].concat((0,o.Z)(d),[{id:e.component_blueprint_id,temp_id:e.id,selected_fields:ae.filter(ae.propEq("group",e.group))(zn.component_fields)}])})),$e.processModule.steps.filter((function(e){e.component_blueprints.filter((function(e){e.selected_fields.filter((function(e){var n,t=null===(n=zn.component_fields)||void 0===n?void 0:n.find((function(n){return n.field_name===e.field_name}));if(void 0!=t)e.value=t.value;else if("Record"===e.data_type_name){var i,l=null===(i=zn.component_fields)||void 0===i?void 0:i.find((function(n){return n.field_name===e.options.name}));void 0!=l&&(e.value=l.value)}}))}))})),Jn({action:z._U.setComponents,value:d}),Jn({action:z._U.setModuleItems,value:JSON.parse(JSON.stringify(zn.component_items))}),E.h.dispatch((0,h.IW)(!1));var a=$e.processModule.steps.filter((function(e){var n,t,i,l,o,d,a;return void 0==(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.showStepAll)||1==(null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.showStepAll)||0==(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.showStepAll)&&(null===e||void 0===e||null===(l=e.options)||void 0===l||null===(o=l.showOnly)||void 0===o?void 0:o.filter((function(e){return Qe.positions.map((function(e){return e.id})).indexOf(e)>-1})).length)>0||(null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.showStepAuthor)&&(null===Qe||void 0===Qe?void 0:Qe.id)===(null===(a=$e.processModule)||void 0===a?void 0:a.user_id)})).map((function(e,n){return(0,l.Z)((0,l.Z)({},e),{},{rank:n+1})}));E.h.dispatch((0,h.q4)((0,l.Z)((0,l.Z)({},$e.processModule),{},{completeSteps:$e.processModule.steps,steps:a,stepIndex:1,back_array:a.length>0?[a[0].id]:[],module_id:zn.module_id,module:null===Je||void 0===Je?void 0:Je.find((function(e){return e.id===zn.module_id})),isUpdating:!0,selectedComponent:zn}))),It("/begin-module")}}),!Kn&&!F.tq&&a.createElement(c.Z,{light:!0,title:"Print",clicked:function(){return $n(!0)},style:{width:"120px"}}),Kn&&a.createElement(G(),{trigger:function(){return a.createElement("button",{className:_.singleButton},"Send to Printer")},content:function(){return Ut.current}}))))})),a.createElement("div",{style:{display:null!==Qe&&void 0!==Qe&&null!==(Pe=Qe.ui_permissions)&&void 0!==Pe&&Pe.find((function(e){return"view-dashboard-task"===e}))?"":"none"}},a.createElement("div",{className:_.headerContainer,style:{display:""}},a.createElement("div",{style:{paddingRight:"30px"}},a.createElement(c.Z,{className:Je.length>1?_.newTaskButton:_.default,style:{width:"130px"},clicked:Jt,title:"New Task"})),a.createElement(c.Z,{clear:!0,icon:a.createElement("img",{src:r.Fdh}),style:{width:"50px"},clicked:function(){an(!0),(0,f.km)(Qe.id,b.RI).pipe((0,w.q)(1)).subscribe({complete:function(){return an(!1)}})}})),a.createElement(V.mQ,{style:{width:"100%",fontFamily:"var(--app-text-main-font)",fontSize:"16px"},selectedIndex:An,onSelect:function(e){Wn(e),yn(1)}},a.createElement(V.td,null,a.createElement(V.OK,null,"Today",(null===Mn||void 0===Mn?void 0:Mn.todayTasks.length)>0&&" (".concat(null===Mn||void 0===Mn?void 0:Mn.todayTasks.length,")")),a.createElement(V.OK,null,"Overdue",(null===Mn||void 0===Mn?void 0:Mn.overdueTasks.length)>0&&" (".concat(null===Mn||void 0===Mn?void 0:Mn.overdueTasks.length,")")),a.createElement(V.OK,null,"Upcoming",(null===Mn||void 0===Mn?void 0:Mn.laterTasks.length)>0&&" (".concat(null===Mn||void 0===Mn?void 0:Mn.laterTasks.length,")")),a.createElement(V.OK,null,"Completed")),a.createElement(V.x4,null,a.createElement("div",{style:{minWidth:F.tq?"100%":"600px",marginTop:"20px",width:"100%"}},a.createElement(v.Z,{cardTitle:"Tasks for Today"},Ht(Mn.todayTasks)))),a.createElement(V.x4,null,a.createElement("div",{style:{minWidth:F.tq?"100%":"600px",marginTop:"20px",width:"100%"}},a.createElement(v.Z,{cardTitle:"Overdue Tasks"},Ht(Mn.overdueTasks)))),a.createElement(V.x4,null,a.createElement("div",{style:{minWidth:F.tq?"100%":"600px",marginTop:"20px",width:"100%"}},a.createElement(v.Z,{cardTitle:"Upcoming Tasks"},Ht(Mn.laterTasks)))),a.createElement(V.x4,null,a.createElement("div",{style:{minWidth:F.tq?"100%":"600px",marginTop:"20px",width:"100%"}},a.createElement(v.Z,{cardTitle:"Completed Tasks"},function(e){var n=Math.ceil(e.length/b.M4);F.tq&&n>8?n=7:!F.tq&&n>23&&(n=23);var t=e.length>0?e.length<b.M4-1||123456==gn?ae.sortWith([ae.descend(ae.prop("completed_at"))])(e):ae.sortWith([ae.descend(ae.prop("completed_at"))])(e).slice(gn*b.M4-b.M4,gn*b.M4):[];return a.createElement("div",null,a.createElement(c.Z,{style:{width:"120px",display:"none"},clicked:Jt,title:"New Task"}),a.createElement("div",{style:{fontSize:"12px",textAlign:"right"}},(null===e||void 0===e?void 0:e.length)>0?"Completed Date":""),e.length>0?t.map((function(e,n){var t,i;return a.createElement("div",{key:n},a.createElement(p.Z,{false:!0,task:e,clicked:function(){},taskId:e.id,setTaskToEdit:function(){return In(e)},openModal:function(){return Xt()},priority:null!==(null===e||void 0===e||null===(t=e.add_info)||void 0===t?void 0:t.priority)?null===(i=b._l.find((function(n){var t;return n.value===(null===e||void 0===e||null===(t=e.add_info)||void 0===t?void 0:t.priority)})))||void 0===i?void 0:i.icon:""}))})):"No tasks found",e.length>0&&a.createElement("div",{style:{display:n>1?"flex":"none",margin:"20px 0 0 0"}},a.createElement("p",{style:{padding:"0 10px 0 0",fontSize:"14px"}},"Page:"),n>0&&(0,o.Z)(Array(n)).map((function(e,n){return a.createElement(c.Z,{title:n+1,titleContainer:_.pageContainer,disabled:n==gn-1,clear:!0,key:n,style:{fontSize:"10px",maxWidth:"34px",minWidth:"20px",padding:"0",display:n<18?"":"none"},clicked:function(){return yn(n+1)}})})),a.createElement(c.Z,{title:"All",disabled:123456==gn,clicked:function(){return yn(123456)},clear:!0})))}(Mn.completedTasks)))),a.createElement("br",null))),a.createElement("div",{style:{marginTop:"20px",width:F.tq?"120%":"50%",display:"superadmin"===Qe.user_type?"":"none"}},a.createElement("div",{className:_.headerContainer,style:{display:""}},a.createElement("div",{style:{paddingRight:"30px"}},a.createElement(c.Z,{clicked:function(){tt.companyName&&tt.displayName&&tt.email&&tt.firstName&&tt.lastName&&tt.slug&&(an(!0),(0,k.F2)(tt).pipe((0,w.q)(1)).subscribe({next:function(){return E.h.dispatch((0,h.Xc)({show:!0,message:"Success! ".concat(tt.companyName," was created. Email notification sent to ").concat(tt.email)}))},complete:function(){return an(!1)}}))},title:"New Company",loading:dn,icon:a.createElement("img",{alt:"",src:r.ytc,style:{width:"24px",height:"24px",display:"none"}})}))),""!==(null===tt||void 0===tt?void 0:tt.message)&&a.createElement(J.Z,{message:null===tt||void 0===tt?void 0:tt.message,onClick:function(){return it((0,l.Z)((0,l.Z)({},tt),{},{message:""}))}}),a.createElement(v.Z,{cardTitle:"Create Company"},a.createElement("div",null,a.createElement(M.Ev,{fieldLabel:"Company Name",style:{border:"0"},visible:!0},a.createElement("div",{className:_.fieldRowContainer},a.createElement("input",{onChange:function(e){it((0,l.Z)((0,l.Z)({},tt),{},{companyName:e.target.value}))},autoComplete:"none",className:_.fieldTypeInput,name:"Company Name"}))),a.createElement(M.Ev,{fieldLabel:"Display Name",style:{border:"0"},visible:!0},a.createElement("div",{className:_.fieldRowContainer},a.createElement("input",{onChange:function(e){it((0,l.Z)((0,l.Z)({},tt),{},{displayName:e.target.value}))},autoComplete:"none",className:_.fieldTypeInput,name:"Company Name"}))),a.createElement(M.Ev,{fieldLabel:"Slug",style:{border:"0"},visible:!0},a.createElement("div",{className:_.fieldRowContainer},a.createElement("input",{onChange:function(e){it((0,l.Z)((0,l.Z)({},tt),{},{slug:e.target.value}))},autoComplete:"none",className:_.fieldTypeInput,name:"Slug"}))),a.createElement(M.Ev,{fieldLabel:"Email",style:{border:"0"},visible:!0},a.createElement("div",{className:_.fieldRowContainer},a.createElement("input",{onChange:function(e){it((0,l.Z)((0,l.Z)({},tt),{},{email:e.target.value}))},autoComplete:"none",className:_.fieldTypeInput,name:"Email"}))),a.createElement(M.Ev,{fieldLabel:"First Name",style:{border:"0"},visible:!0},a.createElement("div",{className:_.fieldRowContainer},a.createElement("input",{onChange:function(e){it((0,l.Z)((0,l.Z)({},tt),{},{firstName:e.target.value}))},autoComplete:"none",className:_.fieldTypeInput,name:"First Name"}))),a.createElement(M.Ev,{fieldLabel:"Last Name",style:{border:"0"},visible:!0},a.createElement("div",{className:_.fieldRowContainer},a.createElement("input",{onChange:function(e){it((0,l.Z)((0,l.Z)({},tt),{},{lastName:e.target.value}))},autoComplete:"none",className:_.fieldTypeInput,name:"Last Name"})))))))),wt&&!(null!==tn&&void 0!==tn&&tn.firstModalVisible||null!==tn&&void 0!==tn&&tn.lastModalVisible)&&a.createElement(M.U7,{hasCloseIcon:0==Je.length&&0==Ge.length||Mt,onClose:function(){return xt(!1)},hasCloseButton:!!F.tq,blured:!0,scrollable:!0,isOpen:!F.tq&&wt,backdropColor:!0,shadowedContainerStyle:{width:"90%",minWidth:"600px"}},a.createElement("div",{style:{display:"flex",flexDirection:"column",margin:"auto",fontFamily:"var(--app-text-main-font)",padding:"20px"}},a.createElement("img",{alt:"",src:null===He||void 0===He||null===(Oe=He.company_standards)||void 0===Oe?void 0:Oe.banner,style:{width:"100%",height:"500px",margin:"auto",objectFit:"scale-down"}}),a.createElement("div",{className:_.modalTitle},a.createElement("p",null,null!==(Ae=null===He||void 0===He||null===(We=He.company_standards)||void 0===We?void 0:We.welcome)&&void 0!==Ae?Ae:"Welcome to ".concat(He.display_name))),a.createElement("p",null,null!==(Be=null===He||void 0===He||null===(Re=He.company_standards)||void 0===Re?void 0:Re.message)&&void 0!==Be?Be:"This application is being run in FlowHero. This is our cloud solution designed to automate the various workflows of your company."),a.createElement("p",null,null!==(Ue=null===He||void 0===He||null===(Fe=He.company_standards)||void 0===Fe?void 0:Fe.subMessage)&&void 0!==Ue?Ue:"Workflows are the steps undertaken to complete a task and give a result. Modules are subsets of workflows. Think of modules as forms that uses workflows as the underlying steps to make it run, provide the inputs, outputs and create the transaction the workflow is meant to do. Multiple modules can be created from one workflow, all with distinguishing document IDs but having the same input and outputs."),a.createElement(c.Z,{disabled:(0!=Je.length||0!=Ge.length)&&!((null===Je||void 0===Je?void 0:Je.length)>0),title:"trial_ended"===(null===He||void 0===He?void 0:He.status)?"Unfortunately, your trial has already expired. Please check the billing menu":"Let's start",clicked:function(){return xt(!1)}}),a.createElement("div",{style:{float:"right",swidth:"400px",marginTop:"50px"}},a.createElement(M.pd,{title:"Do not show this screen next time?",style:{margin:"20px 0px 20px 0px",width:"auto"},value:!wt,toggleSelected:function(e){localStorage.setItem("showInfo",!e),setTimeout((function(){return xt(!1)}),1e4)}})))),sn&&a.createElement(m.Z,{modalVisible:sn,heading:mn?"Edit Task":"New Task",task:mn?Nn:{},isProcess:!1,blured:!0,shadowedContainerStyle:{width:"40%",minWidth:"400px"},onClose:function(){return cn(!1),void fn(!1)},isEdit:mn}),a.createElement(X.Z,{openedTask:Nn,taskName:Nn.name,modalVisible:dt,modalClosed:function(){return at(!1)},hasTutorial:!1,blured:!0,childrenWrapperStyle:{alignItems:"center"},onCancel:function(){return at(!1)}}))}))}}]);
//# sourceMappingURL=3104.b73273c9.chunk.js.map