"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[854],{2854:function(e,a,t){t.r(a),t.d(a,{default:function(){return ae}});var r=t(67861),n=t(39518),o=t(23280),s=t(88374),l="Login_host__HJ5T9",i="Login_firstContainer__kfGLU",c="Login_headerTopBarContainer__QWz8Y",d="Login_firstContainerContent__wbbdK",m=t(87462),u=t(70885),h=t(12265),p=t(47144),f=t.n(p),v=t(15049),b=t(11577),_=t(98500),g=t(23075),w=t.n(g),E=t(31787);w()(_);var N=t(71982),y=t(57417),C=t(20086),x=t(48630),k=t(45987),L="TextField_inputContainer__-Li1l",Z="TextField_ornament__1DMyr",I="TextField_rightButton__miccv",M="TextField_textInput__TQ2mO",B="TextField_inputLabel__IAwPE",S="TextField_errorContainer__D-YWL",F=["isDisabled","readOnly","label","hasMandatoryIndicator","placeholder","charactersNo","icon","rightButtonLabel","rightButtonAction","rightButtonClass","errorMessage","defaultValue","onChange","name","type","autoComplete"],P=["className","hasError"],q=["className"],R=["children"],T=["hasMandatoryIndicator","children","className"],D=(0,r.forwardRef)((function(e,a){var t=e.isDisabled,n=void 0!==t&&t,o=e.readOnly,s=e.label,l=void 0===s?"":s,i=e.hasMandatoryIndicator,c=e.placeholder,d=void 0===c?"Insert email":c,m=e.charactersNo,h=e.icon,p=e.rightButtonLabel,v=e.rightButtonAction,b=e.rightButtonClass,_=e.errorMessage,g=e.defaultValue,w=e.onChange,E=e.name,N=e.type,y=void 0===N?"text":N,C=e.autoComplete,x=(0,k.Z)(e,F),B=(0,r.useState)(null!==g&&void 0!==g?g:""),S=(0,u.Z)(B,2),P=S[0],q=S[1],R=Boolean(_);return r.createElement("div",x,r.createElement(A,{hasMandatoryIndicator:i},l),r.createElement(V,{hasError:R,className:L},r.createElement(O,{"app-readonly":o?"readonly":"",readOnly:o,autoComplete:C,disabled:n,name:E,type:y,placeholder:d,value:P,maxLength:m,onChange:function(e){q(e.target.value),null===w||void 0===w||w(e)},ref:a,className:M}),h&&r.createElement("div",{className:Z},h),p&&r.createElement("button",{type:"button",onClick:v,className:f()(I,b)},p)),_&&r.createElement(z,null,_))})),V=(0,r.forwardRef)((function(e,a){var t=e.className,n=e.hasError,o=(0,k.Z)(e,P);return r.createElement("div",(0,m.Z)({"app-error":n?"error":"",ref:a},o,{className:f()(L,t)}))})),O=(0,r.forwardRef)((function(e,a){var t=e.className,n=(0,k.Z)(e,q);return r.createElement("input",(0,m.Z)({ref:a},n,{className:f()(M,t)}))}));function z(e){var a=e.children,t=(0,k.Z)(e,R);return r.createElement("p",(0,m.Z)({className:S},t),a)}function A(e){var a=e.hasMandatoryIndicator,t=e.children,n=e.className,o=(0,k.Z)(e,T);return r.createElement("label",(0,m.Z)({className:f()(B,n)},o),t,a&&r.createElement("span",{className:"text-danger"},"*"))}var H=D,W=t(67861),J=(0,r.forwardRef)((function(e,a){var t=(0,r.useState)(!1),n=(0,u.Z)(t,2),o=n[0],s=n[1];return W.createElement(H,(0,m.Z)({},e,{ref:a,type:o?"text":"password",rightButtonLabel:o?"Hide":"Show",rightButtonAction:function(){return s((function(e){return!e}))},rightButtonClass:""}))})),U="LoginForm_host__UvJwq",X="LoginForm_row__9D3he",j="LoginForm_signInButton__VPwbB",K="LoginForm_recoverPasswordButton__fDOss",Q=t(73500),Y=(0,r.memo)((function(e){var a,t,o,l,i,c,d,p,g=e.onLoginSuccess,w=e.className,k=e.onResetPassword,L=(0,n.I0)(),Z=(0,n.v9)((function(e){return e.authReducer.sessionSettings})).rememberMe,I=(0,r.useState)(!1),M=(0,u.Z)(I,2),B=M[0],S=M[1],F=(0,r.useState)(""),P=(0,u.Z)(F,2),q=P[0],R=P[1],T=(0,r.useMemo)((function(){return{yup:_,schemas:{email:_.string().min(6,"Username must have at least 8 characters"),password:_.string().min(8,"Password must have at least 8 characters"),passwordRepeat:_.string().oneOf([_.ref("password"),null],"Passwords does not match").required("Password repeat is required"),website:_.string().url(),phoneNumber:_.string().test({name:"phone-pattern",message:"Not a valid phone number",test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""==e||(0,E.yf)(e)}}),mobilePhoneNumber:_.string().test({name:"mobile-phone-pattern",message:"Not a valid mobile phone number",test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""==e||(0,E.yf)(e)}}),employerName:_.string().required("Employer name is required")}}}),[]),D=T.schemas,V=T.yup,O=(0,v.cI)({mode:"onSubmit",criteriaMode:"firstError",resolver:(0,h.X)(V.object().shape({email:D.email,password:D.password}))}),A=O.register,W=O.handleSubmit,Y=O.formState.errors,$=O.getValues;return r.createElement("form",{onSubmit:W((function(e){R(""),S(!0);var a=$(),t=a.email,r=a.password,n=a.rememberMe;(0,y.n$)({email:t,password:r,rememberMe:n}).pipe((0,b.P)()).subscribe({next:function(e){var a=e.is_admin;!1===e.onboarding_status?!0===a?(L((0,N.DJ)(!0)),L((0,N.q9)(!0)),L((0,N.$6)({firstModalVisible:!0})),L((0,s.IW)(!1)),S(!1)):(R("This company do not have onboard required data yet!\nPlease contact comapny admin.\nBasic company information must be enroled\nBefore you will be granted access to FlowHero"),S(!1)):(L((0,N.DJ)(!1)),L((0,N.q9)(!1)),L((0,s.fj)(!0)),S(!1),null===g||void 0===g||g()),L((0,s.IW)(!0))},error:function(e){var a,t="string"==typeof e.data?e.data:null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message;R(422===e.status?"Invalid user name or password, please try again.":t),S(!1),console.log(e)}})})),className:f()(U,w),onClick:function(){return R("")}},r.createElement("div",{className:X,"app-variant":"first-row"},r.createElement(H,(0,m.Z)({autoComplete:Z?"username":"new-password",type:"text",placeholder:"Email or Username",defaultValue:null!==(a=localStorage.getItem("username"))&&void 0!==a?a:""},A("email")))),r.createElement("div",{className:X,"app-variant":"second-row"},r.createElement(J,(0,m.Z)({autoComplete:Z?"on":"off",placeholder:"Password",defaultValue:null!==(t=localStorage.getItem("password"))&&void 0!==t?t:""},A("password")))),(q||(null===(o=Y.password)||void 0===o?void 0:o.message)||(null===(l=Y.email)||void 0===l?void 0:l.message))&&r.createElement(z,null,"".concat(null!==q&&void 0!==q?q:""," ").concat(null!==(i=null===(c=Y.password)||void 0===c?void 0:c.message)&&void 0!==i?i:""," ").concat(null!==(d=null===(p=Y.email)||void 0===p?void 0:p.message)&&void 0!==d?d:""," ")),r.createElement(C.zx,{disabled:B,loading:B,type:"submit",title:"Sign in",className:j}),r.createElement("div",{className:X,"app-variant":"third-row"},r.createElement(x.X,(0,m.Z)({defaultChecked:Z,checkboxLabel:"Remember me"},A("rememberMe"))),r.createElement(C.zx,{clear:!0,type:"button",title:Q.tq?"Forgot Password":"Need to find your password?",className:K,clicked:k})))})),$=t(38502),G=(t(89293),t(88827)),ee=t(67861),ae=(0,r.memo)((function(){var e=(0,o.s0)(),a=(0,n.I0)();return(0,r.useEffect)((function(){a((0,s.fj)(!1)),(0,y.iC)()}),[]),ee.createElement("div",{className:l,"app-custom-media-show":"hide"},ee.createElement("div",{className:i},ee.createElement("div",{className:c},"FlowHero\u2122"),ee.createElement("div",{className:d,style:{width:Q.tq?"70%":"25%"}},ee.createElement(Y,{onLoginSuccess:function(){var a=G.h.getState().flowReducer.companyData;"trial_ended"!==(null===a||void 0===a?void 0:a.status)&&"inactive"!==(null===a||void 0===a?void 0:a.status)&&(0,$.e)(),e("/")},onResetPassword:function(){return e("/reset-password")}}))))}))},48630:function(e,a,t){t.d(a,{X:function(){return g}});var r=t(4942),n=t(87462),o=t(45987),s=t(67861),l=t(64468),i="Checkbox_host__MtZZg",c="Checkbox_checkmarkContainer__7m7hu",d="Checkbox_input__fK+n4",m="Checkbox_checkboxControl__TezWV",u="Checkbox_checkboxControlIcon__5qzo9",h="Checkbox_checkboxLabel__lacXH",p="Checkbox_checkboxDisabled__Qo2Ag",f=t(41771),v=t(47144),b=t.n(v),_=["checkboxLabel","hasMandatoryIndicator","disabled","errormessage"];var g=(0,s.forwardRef)((function(e,a){var t=e.checkboxLabel,v=e.hasMandatoryIndicator,g=e.disabled,w=e.errormessage,E=(0,o.Z)(e,_);return s.createElement(l.__,{hasMandatoryIndicator:v,className:b()(i,(0,r.Z)({},p,g)),"app-checkbox-error":w&&(null===w||void 0===w?void 0:w.length)>0?"error":"false"},s.createElement("span",{className:b()(c)},s.createElement("input",(0,n.Z)({ref:a,className:b()(d),type:"checkbox",disabled:g},E)),s.createElement("span",{className:b()(m)},s.createElement(f.MKd,{className:b()(u)}))),s.createElement("span",{className:b()(h)},t))}))}}]);
//# sourceMappingURL=854.650025d3.chunk.js.map