"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[7997],{60534:function(e,t,n){n.d(t,{Z:function(){return v}});var l=n(87462),o=n(1413),a=n(29439),i="CustomTemplateModuleList_tableHostSimple__DKMyh",r="CustomTemplateModuleList_tableHost__R91MZ",d="CustomTemplateModuleList_tableReport__a-GX7",u="CustomTemplateModuleList_footer__+fQpw",s=n(90369),c=n(73500),m=n(67861),p=n(67861),v=function(e){var t=e.columns,n=void 0===t?[]:t,v=e.layeredColumns,f=void 0===v?[]:v,y=e.isReport,g=e.title,h=e.list,C=void 0===h?[]:h,S=e.footer,b=void 0===S?[]:S,E=e.onListItemClick,_=void 0===E?function(){}:E,Z=e.onCellClick,w=void 0===Z?function(){}:Z,N=e.className,x=e.children,L=e.tableStyle,I=e.tableHostSimple,M=e.hideHeaders,O=void 0!==M&&M,k=(0,m.useState)(void 0),T=(0,a.Z)(k,2),P=(T[0],T[1]),B=c.tq?n.slice(0,5):n;function D(e){var t=e.columns,n=e.data,a=(0,s.useTable)({columns:t,data:n}),m=a.getTableProps,v=a.getTableBodyProps,f=a.headerGroups,h=a.rows,S=a.prepareRow;return p.createElement("div",{className:g?y?d:I||r:I||i,style:(0,o.Z)((0,o.Z)({},L),{},{fontSize:c.tq?"12px":"16px"})},p.createElement("table",(0,l.Z)({},m(),{size:"sm"}),p.createElement("thead",{style:{display:O?"none":""}},f.map((function(e,t){return p.createElement("tr",(0,l.Z)({key:t},e.getHeaderGroupProps()),e.headers.map((function(e,t){return p.createElement("th",(0,l.Z)({key:t},e.getHeaderProps()),p.createElement("div",{style:{border:"0"}},e.render("Header")))})))}))),p.createElement("tbody",v(),h.map((function(e,t){var n,o;return S(e)||p.createElement("tr",(0,l.Z)({key:t},e.getRowProps(),{onClick:function(){P(t),_(C[e.index])},style:{pointerEvents:null!==(n=C[t])&&void 0!==n&&n.enabled?"":0==(null===(o=C[t])||void 0===o?void 0:o.enabled)?"none":""}}),e.cells.map((function(n,o){return p.createElement("td",(0,l.Z)({key:o},n.getCellProps(),{onClick:function(l){w({cell:n.render("Cell"),column:o,row:t,data:C[e.index],top:l.clientX,left:l.clientY})}}),p.createElement("div",{style:{border:"0"}},n.render("Cell")))})))})),b.length>0&&p.createElement("tr",null,(c.tq?b.slice(0,3):b).map((function(e,t){return p.createElement("td",{key:t},p.createElement("div",{className:u},e))}))))))}return p.createElement("div",{className:null!==N&&void 0!==N?N:"","app-variant-is-mobile":c.tq?"true":"false",style:(0,o.Z)((0,o.Z)({},e.style),{},{display:"flex",flexDirection:"column",margin:"auto"})},p.createElement("div",{style:{marginBottom:"10px",width:"100%"}},x,!g&&B.length>0&&p.createElement(D,{columns:B.map((function(e){return{Header:function(){return p.createElement("span",null,e)},accessor:e}})),data:C}),g&&B.length>0&&p.createElement(D,{columns:[{Header:g,columns:B.map((function(e){return{Header:e,accessor:e}}))}],data:C}),f.length>0&&p.createElement(D,{columns:f.map((function(e){return null!==e&&void 0!==e&&e.subColumns?{Header:e.label,columns:e.subColumns.map((function(e){return{Header:e.label,accessor:e.label}}))}:{Header:function(){return p.createElement("span",null,e.label)},accessor:e.label}})),data:C})))}},36957:function(e,t,n){n.r(t),n.d(t,{default:function(){return Sl}});var l=n(1413),o=n(93433),a=n(29439),i=n(67861),r=n(39518),d=n(11577),u=n(13845),s=n(95242),c=n(29937),m=n(88374),p=n(93389),v=n(89293),f=n(10904),y=n(85718),g="ProcessOptionsModal_host__4xb31",h="ProcessOptionsModal_target__Cmhw-",C="ProcessOptionsModal_title__JOTDc",S="ProcessOptionsModal_elementTextInput__8yK8r",b="ProcessOptionsModal_optionSection__Vj7zH",E="ProcessOptionsModal_controls__aDMTt",_="ProcessOptionsModal_controls2__fRbTq",Z="ProcessOptionsModal_errorContainer__YQXXM",w="ProcessOptionsModal_messageContainer__ca1I4",N="ProcessOptionsModal_selectComponentContainer__aYCuu",x="ProcessOptionsModal_multiSelectContainer__ee4zs",L="ProcessOptionsModal_multiSelectSearchInput__xCVpC",I="ProcessOptionsModal_multiSelectMenuOverlayList__bP915",M="ProcessOptionsModal_multiSelectMenuOverlayListItem__Gaoic",O=n(63077),k=n(88827),T=n(73500),P=n(27436),B=n(7162),D=n(46034),F=n(27197),A=n(90252);var W=n(34710),V=n(12075),z=n(52902),R=n(71982),j=n(67861),q=(n(66918),function(e){var t=e.children;return j.createElement("div",{className:b},t)}),U=(0,r.$j)((function(e){var t=e.flowReducer;return{companyProcesses:t.companyProcesses,companyPositionsArray:t.companyPositionsArray,allModules:t.allModules,components:t.components,onBoardingCompleted:t.onBoardingCompleted,companyData:t.companyData,onBoardingModalsVisibility:e.modalsReducer.onBoardingModalsVisibility}}))((function(e){var t,n,r,u=e.onClose,s=void 0===u?function(){}:u,y=e.onCreate,b=void 0===y?function(){}:y,T=e.isOpen,U=e.companyProcesses,H=e.selectedProcess,K=e.selectedProcessId,X=void 0===K?"":K,Y=e.shadowedContainerStyle,G=e.onBoardingCompleted,J=e.companyData,Q=e.onSkip,$=e.companyPositionsArray,ee=e.onBoardingModalsVisibility,te=(0,i.useState)(""!==(null===H||void 0===H?void 0:H.id)),ne=(0,a.Z)(te,2),le=ne[0],oe=ne[1],ae=(0,i.useState)(""),ie=(0,a.Z)(ae,2),re=ie[0],de=ie[1],ue=(0,i.useState)(H||void 0),se=(0,a.Z)(ue,2),ce=se[0],me=se[1],pe=(0,i.useState)(H?H.name:""),ve=(0,a.Z)(pe,2),fe=ve[0],ye=ve[1],ge=(0,i.useState)(H?H.description:""),he=(0,a.Z)(ge,2),Ce=he[0],Se=he[1],be=(0,i.useState)(""),Ee=(0,a.Z)(be,2),_e=Ee[0],Ze=Ee[1],we=(0,c._M)(),Ne=(0,a.Z)(we,2)[1],xe=(0,i.useState)(!1),Le=(0,a.Z)(xe,2),Ie=Le[0],Me=Le[1],Oe=(0,i.useState)(!1),ke=(0,a.Z)(Oe,2),Te=ke[0],Pe=ke[1],Be=(0,i.useState)(!1),De=(0,a.Z)(Be,2),Fe=(De[0],De[1]),Ae=(0,i.useState)(null!==$&&void 0!==$?$:[]),We=(0,a.Z)(Ae,2),Ve=We[0],ze=We[1],Re=(0,i.useState)(null!==(t=null===H||void 0===H||null===(n=H.shared_positions)||void 0===n?void 0:n.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:e.id}})))&&void 0!==t?t:[]),je=(0,a.Z)(Re,2),qe=je[0],Ue=je[1],He=(0,i.useState)(!0),Ke=(0,a.Z)(He,2),Xe=(Ke[0],Ke[1]),Ye=(0,i.useState)([]),Ge=(0,a.Z)(Ye,2),Je=Ge[0],Qe=Ge[1],$e=(0,i.useState)(""),et=(0,a.Z)($e,2),tt=et[0],nt=et[1];(0,i.useEffect)((function(){1==le&&((0,p.zJ)(X).pipe((0,d.P)()).subscribe({next:function(e){var t,n,l=null!==(t=null===e||void 0===e||null===(n=e.shared_positions)||void 0===n?void 0:n.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:e.id}})))&&void 0!==t?t:[];Ue((0,o.Z)(l)),Xe(!1)},error:function(e){Xe(!1)}}),0==(null===$||void 0===$?void 0:$.length)&&(Fe(!0),Xe(!0),(0,W.OW)().pipe((0,d.P)()).subscribe({next:function(e){ze(null===e||void 0===e?void 0:e.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:e.id}}))),Fe(!1)},error:function(e){Fe(!1)}})))}),[le,X]);var lt=(0,i.useCallback)((function(){if(0==(null===Je||void 0===Je?void 0:Je.length)&&"superadmin"!==(null===J||void 0===J?void 0:J.status))return nt("Select at least a position to share with");Me(!0),nt(""),"superadmin"!==(null===J||void 0===J?void 0:J.status)?(0,p.QK)(X,null===Je||void 0===Je?void 0:Je.map((function(e){return null===e||void 0===e?void 0:e.value}))).pipe((0,d.P)(),function(e,t,n){var l=(0,B.m)(e)||t||n?{next:e,error:t,complete:n}:e;return l?(0,D.e)((function(e,t){var n;null===(n=l.subscribe)||void 0===n||n.call(l);var o=!0;e.subscribe((0,F.x)(t,(function(e){var n;null===(n=l.next)||void 0===n||n.call(l,e),t.next(e)}),(function(){var e;o=!1,null===(e=l.complete)||void 0===e||e.call(l),t.complete()}),(function(e){var n;o=!1,null===(n=l.error)||void 0===n||n.call(l,e),t.error(e)}),(function(){var e,t;o&&(null===(e=l.unsubscribe)||void 0===e||e.call(l)),null===(t=l.finalize)||void 0===t||t.call(l)})))})):A.y}({next:function(){},complete:function(){}})).subscribe({next:function(e){rt()},error:function(e){nt(ot(e))}}):rt()}),[X,Je,fe,Ce]),ot=(0,i.useCallback)((function(e){var t,n,l,o;if(!(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.errors||null===(n=e.data)||void 0===n)&&n.message)return null===(l=e.data)||void 0===l?void 0:l.message;if(null!==e&&void 0!==e&&null!==(o=e.data)&&void 0!==o&&o.errors){var a,i,r,d,u=/^(?:\D*\d)/g;return(null===(a=Object.values(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.errors))||void 0===a||null===(i=a.map((function(e){var t=null===e||void 0===e?void 0:e.map((function(e){var t,n=e.match(/\d/g)[0];return(null===e||void 0===e?void 0:e.replace(u,null===(t=Je[n])||void 0===t?void 0:t.label))+"\n"}));return null===t||void 0===t?void 0:t.join("")})))||void 0===i?void 0:i.join(""))+(null===(d=e.data)||void 0===d?void 0:d.message)}return""}),[Je]),at=(null===U||void 0===U?void 0:U.length)>0?U.map((function(e){return{label:e.name,value:e,process:e}})):[],it=function(){Ne({type:c.Cb.setAllSteps,value:[]}),Me(!0),(0,p.QN)(fe,Ce,null===ce||void 0===ce?void 0:ce.type).pipe((0,d.P)()).subscribe({next:function(e){Me(!1),k.h.dispatch((0,m.Xu)(e)),ee.seventhModalVisible&&k.h.dispatch((0,R.$6)({eightModalVisible:!0})),Ne({type:c.Cb.addNewStep,value:e.id}),b()},error:function(e){},complete:function(){}})},rt=(0,i.useCallback)((function(){Me(!0),(0,p.gQ)(null===ce||void 0===ce?void 0:ce.id,fe,Ce,null===ce||void 0===ce?void 0:ce.type).pipe((0,d.P)()).subscribe({next:function(e){Me(!1),k.h.dispatch((0,m.Xu)(e)),G?null===s||void 0===s||s():b()}})}),[ce,fe,Ce]),dt={control:function(e,t){return(0,l.Z)((0,l.Z)({},e),{},{boxShadow:"none","&:hover":{border:"1px solid var(--app-color-gray-lighter)"},position:"relative",height:"60px",width:"101%",border:"var(--app-color-gray-lighter) solid 1px",borderRadius:"8px",padding:"3px",fontFamily:"var(--app-text-main-font)",fontSize:"1.4em",color:"#4A4A4A",textAlign:"left",flex:"1 1 auto",justifyContent:"center",alignItems:"center",alignContent:"center",alignSelf:"center",margin:"0px 0 0 0 ",marginBottom:"20px"})},input:function(e,t){return(0,l.Z)((0,l.Z)({},e),{},{fontFamily:"var(--app-text-main-font)",color:"#4A4A4A",width:"100%",textAlign:"left",fontSize:"0.8em",alignSelf:"center",padding:"0",marginLeft:0,textIndent:"0"})},menu:function(e,t){return(0,l.Z)((0,l.Z)({},e),{},{justifyContent:"center",alignItems:"center",verticalTextAlign:"center",alignContent:"center",fontFamily:"var(--app-text-main-font)"})},menulist:function(e,t){return(0,l.Z)((0,l.Z)({},e),{},{justifyContent:"center",alignItems:"center",verticalTextAlign:"center",alignContent:"center",fontFamily:"var(--app-text-main-font)"})},option:function(e,t){return(0,l.Z)((0,l.Z)({},e),{},{minHeight:15,paddingTop:0,fontSize:"1.1em",verticalTextAlign:"center",justifyContent:"center",alignItems:"center",alignContent:"center",fontFamily:"var(--app-text-main-font)"})},placeholder:function(e,t){return(0,l.Z)((0,l.Z)({},e),{},{fontSize:"0.75em",lineHeight:"20px",color:"#4A4A4A",fontWeight:400,overflow:"hidden",fontFamily:"var(--app-text-main-font)"})},singleValue:function(e,t){var n=t.isDisabled?.5:1;return(0,l.Z)((0,l.Z)({},e),{},{opacity:n,transition:"opacity 300ms",marginLeft:"0px",fontSize:"0.75em",lineHeight:"20px",color:"#4A4A4A",fontFamily:"var(--app-text-main-font)"})},indicatorsContainer:function(e,t){t._data;return(0,l.Z)((0,l.Z)({},e),{},{marginTop:"auto",marginBottom:"auto",color:"#4A4A4A",size:7,":hover":{color:"gray"},width:"65px",height:"45px",fontFamily:"var(--app-text-main-font)"})}};return j.createElement(f.U7,{isOpen:T,blured:!0,scrollable:!0,shadowedContainerStyle:Y},j.createElement("div",{className:g},j.createElement("div",{className:h},j.createElement("p",{className:C,style:{display:G?"":"none"}},(null===H||void 0===H||null===(r=H.id)||void 0===r?void 0:r.length)>0?"edit":"create new"," ","workflow"),j.createElement(q,null,e.children,j.createElement(f.Lb,{title:"Name of workflow"}),j.createElement("input",{type:"text",name:"element-name",value:fe,onChange:function(e){return ye(e.target.value)},className:S,style:{marginBottom:"10px"}}),j.createElement(f.Lb,{title:"Description of workflow"}),j.createElement("textarea",{type:"text",name:"element-name",value:Ce,onChange:function(e){return Se(e.target.value)},className:S,style:{marginBottom:"10px",height:"100px"}}),le&&j.createElement(f.Lb,{title:"Show workflow to positions"}),le&&j.createElement("div",{className:N},j.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"X",tagEmplacement:"inlined",items:Ve,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:qe,className:x,inputClassName:L,molclassname:I,moliclassname:M,placeholder:"Select...",onChange:function(e){Qe(e)}},j.createElement(V.G,{icon:z.ptq,style:{marginRight:"10px"}})),(null===tt||void 0===tt?void 0:tt.length)>0&&j.createElement("span",{className:Z},tt)),j.createElement("br",null),j.createElement("br",null),at.length>0&&j.createElement(f.Lb,{title:"Select Another Workflow to Edit"}),at.length>0&&j.createElement(O.ZP,{onFocus:function(){return de("")},isSearchable:!1,key:"Workflow",styles:dt,placeholder:"Select workflow to edit...",components:{DropdownIndicator:v.ms},options:at,onChange:function(e){"New Workflow"!==e.label?(me(e.process),ye(e.process.name),Se(e.process.description),k.h.dispatch((0,m.Xu)(e.process)),oe(!0)):(k.h.dispatch((0,m.Xu)({description:"",id:"",is_pinned:!1,name:"",user_id:"",registered:!1,type:!1,steps:[]})),me({description:"",id:"",is_pinned:!1,name:"",user_id:"",registered:!1,type:!1,steps:[]}),ye(""),Se(""),oe(!1))}})),(null===_e||void 0===_e?void 0:_e.length)>0&&j.createElement(P.Z,{message:_e,onClick:function(){return Ze("")}}),(null===re||void 0===re?void 0:re.length)>0&&j.createElement("span",{className:w,onClick:function(){return de("")}},re)),j.createElement("div",{className:G?E:_},G&&j.createElement(f.zx,{title:"Close",clicked:s}),!G&&j.createElement(f.zx,{light:!0,title:"Back",clicked:s}),!le&&G&&j.createElement(f.zx,{light:!0,title:"Save",loading:Ie,clicked:it}),j.createElement("div",{style:{display:"flex"}},!le&&!G&&j.createElement(f.zx,{title:"Skip",loading:Te,clicked:function(){Pe(!0),Q()}}),!le&&!G&&j.createElement(f.zx,{title:"Create",loading:Ie,clicked:it})),le&&j.createElement(f.zx,{light:!0,title:"Update",loading:Ie,clicked:lt}))))})),H="WorkflowTemplatesModal_host__Q3zbH",K="WorkflowTemplatesModal_header__N8ZLt",X="WorkflowTemplatesModal_title__23bdy",Y="WorkflowTemplatesModal_subtitle__oBjjB",G="WorkflowTemplatesModal_controls__ajc+K",J="WorkflowTemplatesModal_trialTitle__dTNg9",Q="WorkflowTemplatesModal_subTitle__Bzxqf",$="WorkflowTemplatesModal_trialText__c0htd",ee="WorkflowTemplatesModal_currentInvoicesContainer__-k6ew",te=n(23280),ne=n(60761),le=n(67861),oe=(0,r.$j)((function(e){var t=e.flowReducer;return{companyProcesses:t.companyProcesses,companyPositionsArray:t.companyPositionsArray,allModules:t.allModules,components:t.components,onBoardingCompleted:t.onBoardingCompleted,workflowTemplates:t.workflowTemplates}}))((function(e){var t=e.isOpen,n=e.shadowedContainerStyle,l=e.onCreateBlank,o=e.gotoProcess,u=e.workflowTemplates,s=e.gotoComponents,y=(0,i.useState)(!1),g=(0,a.Z)(y,2),h=g[0],C=g[1],S=(0,i.useState)({name:"",steps:[]}),b=(0,a.Z)(S,2),E=b[0],_=b[1],Z=(0,r.v9)((function(e){return e.modalsReducer})),w=Z.onBoardingModalsVisibility,N=(Z.isOnboarding,w.secondModalVisible),x=w.fourthModalVisible,L=w.sixthModalVisible,I=w.templatesFirst,M=(0,r.I0)();document.title="New Workflow | ".concat(v.iC);var O=(0,te.s0)();return le.createElement(c.FZ,null,le.createElement(f.U7,{isOpen:t,blured:!1,scrollable:!0,shadowedContainerStyle:n},le.createElement("div",{className:H},le.createElement("div",{style:{display:"flex",alignItems:"center"}},le.createElement("p",{className:X},"New Workflow"),le.createElement(f.zx,{clear:!0,loading:h})),le.createElement("p",{className:Y},"Start a new workflow or select from any of our predefined templates"),le.createElement("div",{style:{display:""===(null===E||void 0===E?void 0:E.name)||h?"none":"",width:"100%"}},le.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"0 30px 0 30px"}},le.createElement(f.zx,{title:"Hide",light:!0,clicked:function(){_({name:""}),C(!1),M((0,m.Xu)({name:"",steps:[]}))}}),le.createElement(f.zx,{title:"Create",light:!0,style:{color:"white",backgroundColor:"green"},clicked:function(){C(!0),(0,p.yx)(E).pipe((0,d.P)()).subscribe({next:function(e){C(!1),o(e)},error:function(e){C(!1)}})}})),le.createElement(ne.Z,null)),le.createElement("div",{className:ee,style:{maxWidth:"40%",minWidth:"360px",width:"20%",backgroundColor:N||x?"lightblue":""}},le.createElement("p",{className:J},"Components"),le.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",marginBottom:"20px"}}),le.createElement("div",{className:K},le.createElement("p",{className:$},"Create Components"),le.createElement(f.zx,{disabled:h,title:"Open",style:{width:"80px",minWidth:"80px"},clicked:function(){N&&M((0,R.$6)({thirdModalVisible:!0})),x&&M((0,R.$6)({fifthModalVisible:!0})),s()}})),le.createElement("br",null),le.createElement("br",null),le.createElement("p",{className:Q},"Components are objects that workflows use to input or output informations. In forms they are usally called fields.")),le.createElement("div",{className:ee,style:{maxWidth:"40%",minWidth:"360px",width:"20%",backgroundColor:L?"lightblue":""}},le.createElement("p",{className:J},"New Workflow"),le.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",marginBottom:"20px"}}),le.createElement("div",{className:K},le.createElement("p",{className:$},"Blank Workflow"),le.createElement(f.zx,{disabled:h,title:"Open",style:{width:"80px",minWidth:"80px"},clicked:function(){L&&M((0,R.$6)({seventhModalVisible:!0})),l()}})),le.createElement("br",null),le.createElement("br",null),le.createElement("p",{className:Q},"Create your workflow using a blank canvass")),null===u||void 0===u?void 0:u.map((function(e,t){return le.createElement("div",{className:ee,style:{maxWidth:"40%",minWidth:"360px",width:"20%",backgroundColor:I&&"Customer Creation"===e.name?"lightblue":""},key:t},le.createElement("p",{className:J},"Workflow Template"),le.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",marginBottom:"20px"}}),le.createElement("div",{className:K},le.createElement("p",{className:$},"".concat(e.name)),!h&&le.createElement(f.zx,{disabled:h,title:(null===E||void 0===E?void 0:E.name)===e.name?"Create":"View",style:{display:(null===E||void 0===E?void 0:E.name)===e.name?"none":"",backgroundColor:(null===E||void 0===E?void 0:E.name)===e.name?"green":"rgb(83, 159, 234)",width:"80px",minWidth:"80px"},clicked:function(){(null===E||void 0===E?void 0:E.name)!==e.name?(window.scrollTo({top:0,behavior:"smooth"}),_(e),M((0,m.Xu)(e)),I&&M((0,R.$6)({templatesSecond:!0}))):(C(!0),(0,p.yx)(E).pipe((0,d.P)()).subscribe({next:function(e){C(!1),o(e)},error:function(e){C(!1)}}))}})),le.createElement("br",null),le.createElement("br",null),le.createElement("p",{className:Q},"".concat(e.description)))}))),le.createElement("div",{className:G},le.createElement(f.zx,{disabled:h,loading:h,title:"Close",clicked:function(){M((0,m.Xu)(void 0)),k.h.dispatch((0,m.Xc)({show:!1,message:""})),O("/")}}))))})),ae=n(87546),ie=n(35606),re=n(13397),de=n(98032),ue=(n(66596),n(6073)),se=n(4358),ce="ComponentsModal_host__d5q2n",me="ComponentsModal_title__1eiWg",pe="ComponentsModal_fieldRow__gg9Nz",ve="ComponentsModal_fieldRowContent__Ylhmb",fe="ComponentsModal_fieldRowControls__F17z0",ye="ComponentsModal_typeText__58xUE",ge="ComponentsModal_fieldTypeInput__Pyosc",he="ComponentsModal_warningContainer__V1j68",Ce="ComponentsModal_peoplePositionsSelect__6lG4K",Se="ComponentsModal_peoplePositionsSelectInput__O5Mfe",be="ComponentsModal_peoplePositionsSelectMenuOverlay__oF43q",Ee="ComponentsModal_peoplePositionsSelectMenuOverlayItem__efdLS",_e="ComponentsModal_selectedFieldsContainer__SaWzh",Ze="ComponentsModal_elementTextInput__JbVsI",we="ComponentsModal_fieldType__ifgEs",Ne=n(71002),xe=n(47144),Le=n.n(xe),Ie=n(66180),Me=n.n(Ie),Oe=n(41771),ke=n(66284),Te={host:"FieldOptionsModal_host__+NDEc",closeContainer:"FieldOptionsModal_closeContainer__VBxuW",closeElement:"FieldOptionsModal_closeElement__xlo+y",closeIcon:"FieldOptionsModal_closeIcon__ga2TN",target:"FieldOptionsModal_target__ruE2b",optionSection:"FieldOptionsModal_optionSection__aAlGM",optionSettings:"FieldOptionsModal_optionSettings__py99w",title:"FieldOptionsModal_title__jqNO1",subtitle:"FieldOptionsModal_subtitle__26Gfa",elementInputTitle:"FieldOptionsModal_elementInputTitle__AAoAr",readOnlyTextInput:"FieldOptionsModal_readOnlyTextInput__Gff1d",elementTextArea:"FieldOptionsModal_elementTextArea__MCisO",elementTextInput:"FieldOptionsModal_elementTextInput__ywFdu",unfocusableWrapper:"FieldOptionsModal_unfocusableWrapper__sul2H",numberOptionsContainer:"FieldOptionsModal_numberOptionsContainer__9Adnt",renderBooleansOptions:"FieldOptionsModal_renderBooleansOptions__R4F-q",phonePrefixContainer:"FieldOptionsModal_phonePrefixContainer__X-k-T",phonePrefixSelectContainer:"FieldOptionsModal_phonePrefixSelectContainer__XK7PK",phoneIDropdown:"FieldOptionsModal_phoneIDropdown__f5MvN",phoneISearch:"FieldOptionsModal_phoneISearch__d42v9",phonePrefixText:"FieldOptionsModal_phonePrefixText__yi1yt",phoneIContainer:"FieldOptionsModal_phoneIContainer__YguKy",phoneIInput:"FieldOptionsModal_phoneIInput__xTFtX",phoneIButton:"FieldOptionsModal_phoneIButton__d4ccV","react-tel-input":"FieldOptionsModal_react-tel-input__Vdvqo","country-list":"FieldOptionsModal_country-list__bWUIZ","selected-flag":"FieldOptionsModal_selected-flag__RSASJ",open:"FieldOptionsModal_open__tDETU",currencySelectContainer:"FieldOptionsModal_currencySelectContainer__Vd4e9",currencySymbol:"FieldOptionsModal_currencySymbol__6RUaW",currencySelectComponent:"FieldOptionsModal_currencySelectComponent__BofG5",currencySelectMenuOverlayList:"FieldOptionsModal_currencySelectMenuOverlayList__xNU7C",currencySelectMenuOverlayListItem:"FieldOptionsModal_currencySelectMenuOverlayListItem__Z+vtS",currencySearchInput:"FieldOptionsModal_currencySearchInput__SKNfN",currencyClearControlsClassName:"FieldOptionsModal_currencyClearControlsClassName__Tsou1",uploadSelectComponent:"FieldOptionsModal_uploadSelectComponent__aIDW9",multiselectContainer:"FieldOptionsModal_multiselectContainer__VfjNY",uploadSearchInput:"FieldOptionsModal_uploadSearchInput__SM79r",maxFileSizeInput:"FieldOptionsModal_maxFileSizeInput__f2cLT",uploadFileSizeMeasureUnit:"FieldOptionsModal_uploadFileSizeMeasureUnit__FzVcE",uploadSelectMenuOverlayList:"FieldOptionsModal_uploadSelectMenuOverlayList__BCrMO",uploadSelectMenuOverlayListItem:"FieldOptionsModal_uploadSelectMenuOverlayListItem__Qkdru",dateTimePickerContainer:"FieldOptionsModal_dateTimePickerContainer__qjVxA",dateTimePickerTrigger:"FieldOptionsModal_dateTimePickerTrigger__judgV",dateAutosizeInput:"FieldOptionsModal_dateAutosizeInput__CsxLi",dateOptionsContainer:"FieldOptionsModal_dateOptionsContainer__Haxqc",dropdownElementHost:"FieldOptionsModal_dropdownElementHost__E7zgm",dropdownSymbol:"FieldOptionsModal_dropdownSymbol__5ABYM",dropdownSelectComponent:"FieldOptionsModal_dropdownSelectComponent__nArXq",dropdownSelectMenuOverlayList:"FieldOptionsModal_dropdownSelectMenuOverlayList__5n+3u",dropdownSelectMenuOverlayListItem:"FieldOptionsModal_dropdownSelectMenuOverlayListItem__QEn6G",dropdownInput:"FieldOptionsModal_dropdownInput__U3JY1",dropdownClearControlsClassName:"FieldOptionsModal_dropdownClearControlsClassName__FjsP5",dropdownListContainer:"FieldOptionsModal_dropdownListContainer__I6Y7K",dropDownButtonContainer:"FieldOptionsModal_dropDownButtonContainer__9K7oX",addDropdownOptionButton:"FieldOptionsModal_addDropdownOptionButton__EAca1",addDropdownOptionIcon:"FieldOptionsModal_addDropdownOptionIcon__XYMOa",dropDownNewListItemInputContainer:"FieldOptionsModal_dropDownNewListItemInputContainer__QgqO+",dropDownNewListItemInput:"FieldOptionsModal_dropDownNewListItemInput__u4m7R",dropdownInputButtonSaveNewItem:"FieldOptionsModal_dropdownInputButtonSaveNewItem__Wj4Cc",dropdownListItemsContainer:"FieldOptionsModal_dropdownListItemsContainer__yUWal",renderEditableListContainer:"FieldOptionsModal_renderEditableListContainer__H4aqe",renderEditableListItemInput:"FieldOptionsModal_renderEditableListItemInput__KLSTJ",renderEditableListItemDeleteButton:"FieldOptionsModal_renderEditableListItemDeleteButton__+u21c",peopleContainer:"FieldOptionsModal_peopleContainer__pfgvy",peopleBooleansOptions:"FieldOptionsModal_peopleBooleansOptions__OJGc9",peoplePositionSelectContainer:"FieldOptionsModal_peoplePositionSelectContainer__WVMlT",peoplePositionsSelect:"FieldOptionsModal_peoplePositionsSelect__WvnuB",peoplePositionsSelectMenuOverlay:"FieldOptionsModal_peoplePositionsSelectMenuOverlay__MhaEf",peoplePositionsSelectMenuOverlayItem:"FieldOptionsModal_peoplePositionsSelectMenuOverlayItem__n-2C5",controls:"FieldOptionsModal_controls__bDTZg",deleteButton:"FieldOptionsModal_deleteButton__YT1QH",errorContainer:"FieldOptionsModal_errorContainer__Pvvt9",componentsSelectContainer:"FieldOptionsModal_componentsSelectContainer__y8BMn",componentsSymbol:"FieldOptionsModal_componentsSymbol__sqPYL",componentsSelectComponent:"FieldOptionsModal_componentsSelectComponent__WhkRj",componentsSelectMenuOverlayList:"FieldOptionsModal_componentsSelectMenuOverlayList__tR9cX",componentsSelectMenuOverlayListItem:"FieldOptionsModal_componentsSelectMenuOverlayListItem__ptRPc",componentsSearchInput:"FieldOptionsModal_componentsSearchInput__MTz6p",ccomponentsClearControlsClassName:"FieldOptionsModal_ccomponentsClearControlsClassName__WMR5x"},Pe=n(66918),Be=[{label:"Display as text",value:"text"},{label:"Display as Horizontal Bar",value:"bar"}],De=function(e){var t,n,d,s,c,m,p,y,g,h,C,S,b,E,_,Z,w,N,x,L,I,M,O,k,T,P,B,D,F,A,W,V,z,R,j,q,U,H,K,X,Y,G,J,Q,$,ee,te,ne,le,oe,ae,ie,re,de,ue,se,ce,me,pe,ve,fe,ye,ge,he,Ce,Se,be,Ee,_e,Ze,we,xe,Ie,Me,Oe,ke,De,dt,gt,ht,Ct,St,bt,Et,_t,Zt,wt,Nt,xt,Lt,It,Mt,Ot,kt,Tt,Pt,Bt,Dt,Ft,At,Wt,Vt,zt,Rt,jt,qt,Ut,Ht,Kt,Xt,Yt,Gt,Jt,Qt,$t,en,tn,nn,ln,on,an,rn,dn,un,sn,cn,mn,pn,vn,fn,yn,gn,hn,Cn,Sn,bn,En,_n,Zn,wn,Nn=e.onClose,xn=e.isOpen,Ln=e.leftControlLoading,In=e.leftControlAction,Mn=e.centralControlAction,On=e.centralControlLoading,kn=e.modalStyle,Tn=e.allModules,Pn=e.blueprints,Bn=e.selectedFields,Dn=e.components,Fn=e.products,An=e.companyProcesses,Wn=e.readOnly,Vn=void 0!==Wn&&Wn,zn=(0,u.aL)(),Rn=(0,a.Z)(zn,1)[0],jn=(null===Rn||void 0===Rn?void 0:Rn.selectedFieldFromSelectedBlueprintComponent)||{},qn=jn.field_type,Un=void 0===qn?{}:qn,Hn=jn.id,Kn=jn.value,Xn=jn.options,Yn=(0,i.useState)(Kn),Gn=(0,a.Z)(Yn,2),Jn=Gn[0],Qn=Gn[1],$n=(0,i.useState)(!1),el=(0,a.Z)($n,2),tl=el[0],nl=el[1],ll=(0,i.useState)((0,l.Z)({},Xn)),ol=(0,a.Z)(ll,2),al=ol[0],il=ol[1],rl=(0,i.useState)({}),dl=(0,a.Z)(rl,2),ul=dl[0],sl=dl[1],cl=(0,r.v9)((function(e){return e.flowReducer})),ml=cl.companyPositionsArray,pl=cl.companyDepartments,vl=(0,i.useState)(Pe.sortWith([Pe.ascend(Pe.prop("department_name"))])(null===ml||void 0===ml?void 0:ml.map((function(e){var t;return{label:e.label,value:e.value,department_name:e.department,department_id:null===(t=pl.find((function(t){return t.label==e.department})))||void 0===t?void 0:t.value}})))),fl=(0,a.Z)(vl,1)[0],yl=(0,i.useState)(null===Xn||void 0===Xn?void 0:Xn.interval),gl=(0,a.Z)(yl,2),hl=gl[0],Cl=gl[1],Sl=(0,i.useState)(null===Xn||void 0===Xn?void 0:Xn.field),bl=(0,a.Z)(Sl,2),El=bl[0],_l=bl[1],Zl=(0,i.useState)([{label:"Firstname",value:"first_name"},{label:"Lastname",value:"last_name"},{label:"Username",value:"username"},{label:"Email",value:"email"},{label:"Address",value:"address"},{label:"City",value:"city"},{label:"Postal",value:"postal"},{label:"Phone",value:"phone"},{label:"Timezone",value:"timezone"}]),wl=(0,a.Z)(Zl,1)[0],Nl=(0,i.useCallback)((function(){var e,t,n={general:"",name:"",list:"",type:""};((null===Jn||void 0===Jn||null===(e=Jn.trim())||void 0===e?void 0:e.length)<1&&(n.name="Element name must have at least one letter character"),Un&&Pe.has("options")(Un))&&(null===Un||void 0===Un||null===(t=Un.options)||void 0===t||t.forEach((function(e){var t;"object"!==(0,Ne.Z)(e)&&(Pe.has(null===e||void 0===e?void 0:e.toString())(al)||(n.general="Mandatory fields are not completed,"),(!al[e]||null!==al&&void 0!==al&&al[e]&&(null===(t=al[e])||void 0===t?void 0:t.length)<1)&&(n[e]=" ".concat(e," was not provided")))})));return sl(n),!!Object.values(n).every((function(e){return""===e}))}),[al,Jn,Un,Xn]),xl=(0,i.useCallback)((function(){tl&&Nl()}),[tl,Nl]);(0,i.useEffect)((function(){xl()}),[xl]);var Ll=(0,i.useCallback)((function(){nl(!0),Nl()&&(null===Mn||void 0===Mn||Mn({id:Hn,value:Jn,options:al}))}),[Mn,al,Jn,Hn,Nl]);return i.createElement(f.U7,{isOpen:xn,blured:!0,scrollable:!0,shadowedContainerStyle:kn},i.createElement("div",{className:Te.host},i.createElement("div",{className:Te.target},i.createElement("p",{className:Te.title},"edit ".concat(null===Un||void 0===Un?void 0:Un.name)),i.createElement(We,{errorMessage:Object.values(ul).length>0?Object.values(ul).filter((function(e){return""!==e})):""}),i.createElement(We,null,i.createElement(f.Lb,{title:"Field Name"}),i.createElement("input",{type:"text",name:"element-name",value:Jn,onChange:function(e){return t=e.target.value,void Qn(t);var t},className:Te.elementTextInput,readOnly:"Template"===Un.name})),"number"===(null===Un||void 0===Un||null===(t=Un.name)||void 0===t?void 0:t.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(Ve,{validationErrors:ul,defaultValue:"numeric"==(null===Xn||void 0===Xn?void 0:Xn.type),onChangeType:function(e){il({type:e})}}),i.createElement(We,{errorMessage:null===ul||void 0===ul?void 0:ul.type},i.createElement(f.Lb,{title:"Output display"}),i.createElement(f.sm,{"apps-variant":null!==ul&&void 0!==ul&&ul.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:Be,defaultSelectedItem:Be.find((function(e){return e.value===(null===al||void 0===al?void 0:al.display)})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){"bar"===(null===e||void 0===e?void 0:e.value)?il((0,l.Z)((0,l.Z)({},al),{},{display:null===e||void 0===e?void 0:e.value,chart:!1})):(null===al||void 0===al||delete al.barC,null===al||void 0===al||delete al.maxC,null===al||void 0===al||delete al.max,il((0,l.Z)((0,l.Z)({},al),{},{display:null===e||void 0===e?void 0:e.value})))}}))),"bar"===(null===al||void 0===al?void 0:al.display)&&i.createElement(We,{errorMessage:null===ul||void 0===ul?void 0:ul.name},i.createElement(f.Lb,{title:"Maximum Value"}),i.createElement("input",{type:"text",name:"element-name",value:al.max,onBlur:function(e){il((0,l.Z)((0,l.Z)({},al),{},{max:e.target.value}))},className:Te.elementTextInput}),i.createElement(f.Lb,{title:"Color - Formula Value"}),i.createElement("input",{type:"text",className:Te.elementTextInput,style:{borderRight:"white"===(null===al||void 0===al?void 0:al.barC)?"white":"50px solid ".concat(null!==(n=null===al||void 0===al?void 0:al.barC)&&void 0!==n?n:"#F6F4EC")},defaultValue:null!==(d=null===al||void 0===al?void 0:al.barC)&&void 0!==d?d:"#F6F4EC",onBlur:function(e){return il((0,l.Z)((0,l.Z)({},al),{},{barC:e.target.value}))}}),i.createElement(f.Lb,{title:"Color - Formula Max Value"}),i.createElement("input",{type:"text",className:Te.elementTextInput,style:{borderRight:"white"===(null===al||void 0===al?void 0:al.maxC)?"white":"50px solid ".concat(null!==(s=null===al||void 0===al?void 0:al.maxC)&&void 0!==s?s:"yellow")},defaultValue:null!==(c=null===al||void 0===al?void 0:al.maxC)&&void 0!==c?c:"yellow",onBlur:function(e){return il((0,l.Z)((0,l.Z)({},al),{},{maxC:e.target.value}))}})),"percentage"===(null===al||void 0===al?void 0:al.type)&&"bar"!==(null===al||void 0===al?void 0:al.display)&&i.createElement(f.pd,{id:"Show chart for percentage value",title:"Show chart for percentage value",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===al||void 0===al?void 0:al.chart,toggleSelected:function(e){il(e?(0,l.Z)((0,l.Z)({},al),{},{chart:!0}):(0,l.Z)((0,l.Z)({},al),{},{chart:!1}))}})),"url"===(null===Un||void 0===Un||null===(m=Un.name)||void 0===m?void 0:m.toLowerCase())&&i.createElement(Re,{validationErrors:ul,defaultType:"image"==(null===Xn||void 0===Xn?void 0:Xn.type),defaultValue:null!==(p=null===Xn||void 0===Xn?void 0:Xn.value)&&void 0!==p?p:"",onChangeType:function(e){il((0,l.Z)((0,l.Z)({},al),{},{type:e}))},onChangeValue:function(e){il((0,l.Z)((0,l.Z)({},al),{},{value:e}))}}),"checkbox"===(null===Un||void 0===Un||null===(y=Un.name)||void 0===y?void 0:y.toLowerCase())&&i.createElement(je,{validationErrors:ul,defaultValue:null!==(g=null===Xn||void 0===Xn?void 0:Xn.value)&&void 0!==g?g:"",onChangeValue:function(e){il((0,l.Z)((0,l.Z)({},al),{},{value:e}))}}),"phone"===(null===Un||void 0===Un||null===(h=Un.name)||void 0===h?void 0:h.toLowerCase())&&i.createElement(qe,{validationErrors:ul,countryCode:null===Xn||void 0===Xn?void 0:Xn.country_code,defaultValue:(null===Xn||void 0===Xn?void 0:Xn.country_prefix)+" "+(null===Xn||void 0===Xn?void 0:Xn.country_name),onChange:function(e){return il(e)}}),"currency"===(null===Un||void 0===Un||null===(C=Un.name)||void 0===C?void 0:C.toLowerCase())&&i.createElement(Ue,{validationErrors:ul,defaultValue:Pe.find(Pe.propEq("value",null===Xn||void 0===Xn?void 0:Xn.currency_value))(v.s3),onCurrencySelected:function(e){il({currency_type:null===e||void 0===e?void 0:e.label,currency_value:null===e||void 0===e?void 0:e.value,symbol:null===e||void 0===e?void 0:e.symbol})}}),"action button"===(null===Un||void 0===Un||null===(S=Un.name)||void 0===S?void 0:S.toLowerCase())&&i.createElement(He,{validationErrors:ul,defaultValue:null===Xn||void 0===Xn?void 0:Xn.action,onActionSelected:function(e){il({action:null===e||void 0===e?void 0:e.value})}}),"value button"===(null===Un||void 0===Un||null===(b=Un.name)||void 0===b?void 0:b.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(We,null,i.createElement(f.Lb,{title:"Button label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null===al||void 0===al?void 0:al.label,onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{label:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Button Image (Optional)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null===al||void 0===al?void 0:al.image,onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{image:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Value to set"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null===al||void 0===al?void 0:al.value,onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{value:e.target.value}))}}))),i.createElement(f.pd,{id:"Use selection as decision for step",title:"Use selection as decision for step?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===al||void 0===al?void 0:al.decision,toggleSelected:function(e){il(e?(0,l.Z)((0,l.Z)({},al),{},{decision:!0}):(0,l.Z)((0,l.Z)({},al),{},{decision:!1,jump1:void 0}))}}),(null===al||void 0===al?void 0:al.decision)&&i.createElement(We,{errorMessage:null===ul||void 0===ul?void 0:ul.position_id},i.createElement(f.Lb,{title:"Process where to look for step"}),i.createElement(f.sm,{"app-variant":null!==ul&&void 0!==ul&&ul.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},i.createElement(f.rk,{items:An.map((function(e){return{label:e.name,value:e.id,process:e}})),defaultSelected:{label:null===(E=An.find((function(e){return e.id===(null===al||void 0===al?void 0:al.process)})))||void 0===E?void 0:E.name},className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{process:e.value}))}}))),(null===al||void 0===al?void 0:al.decision)&&al.process&&i.createElement(We,{errorMessage:null===ul||void 0===ul?void 0:ul.position_id},i.createElement(f.Lb,{title:"Selection jumps to step"}),i.createElement(f.sm,{"app-variant":null!==ul&&void 0!==ul&&ul.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},i.createElement(f.rk,{items:null===(_=An.find((function(e){return e.id===(null===al||void 0===al?void 0:al.process)})))||void 0===_||null===(Z=_.steps)||void 0===Z?void 0:Z.map((function(e){return{label:e.name,value:e.id,step:e}})),defaultSelected:{label:null===(w=An.find((function(e){return e.id===(null===al||void 0===al?void 0:al.process)})))||void 0===w||null===(N=w.steps)||void 0===N||null===(x=N.find((function(e){return e.id===al.jump1})))||void 0===x?void 0:x.name},className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{jump1:e.value}))}})))),"profile"===(null===Un||void 0===Un||null===(L=Un.name)||void 0===L?void 0:L.toLowerCase())&&i.createElement(Ke,{validationErrors:ul,defaultValue:null===Xn||void 0===Xn?void 0:Xn.type,defaultOption:al,onProfileSelected:function(e){il({type:null===e||void 0===e?void 0:e.value})}}),"upload"===(null===Un||void 0===Un||null===(I=Un.name)||void 0===I?void 0:I.toLowerCase())&&i.createElement(rt,{validationErrors:ul,defaultMaxSize:null!==(M=+(null===Xn||void 0===Xn?void 0:Xn.max_file_size)/1024)&&void 0!==M?M:51200,onMaxFileSizeChanged:function(e){il((0,l.Z)((0,l.Z)({},al),{},{max_file_size:1024*+e}))},defaultList:Xn.accepted_mimes,onListSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{accepted_mimes:e}))}}),"date"===(null===Un||void 0===Un||null===(O=Un.name)||void 0===O?void 0:O.toLowerCase())&&i.createElement(ze,{validationErrors:ul,defaultValue:"single"==(null===al||void 0===al?void 0:al.type),defaultAuto:null===al||void 0===al?void 0:al.auto,defaultTime:null===al||void 0===al?void 0:al.time,onChangeType:function(e){il((0,l.Z)((0,l.Z)({},al),{},{type:e}))},onExceeded:function(e){il((0,l.Z)((0,l.Z)({},al),{},{auto:e}))},withTime:function(e){il((0,l.Z)((0,l.Z)({},al),{},{time:e}))}}),"people"===(null===Un||void 0===Un||null===(k=Un.name)||void 0===k?void 0:k.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(ct,{validationErrors:ul,allModules:Tn,defaultType:null===al||void 0===al?void 0:al.type,defaultAssign:null===al||void 0===al?void 0:al.assign,defaultEmail:null===al||void 0===al?void 0:al.email,defaultCalendar:null===al||void 0===al?void 0:al.calendar,defaultSlider:null===al||void 0===al?void 0:al.slider,onChangeSlider:function(e){il(1==e?(0,l.Z)((0,l.Z)({},al),{},{slider:!0,calendar:!1}):(0,l.Z)((0,l.Z)({},al),{},{slider:!1,info:!1,other:!1}))},onCalendar:function(e){il(1==e?(0,l.Z)((0,l.Z)({},al),{},{calendar:!0,slider:!1,assign:!1,info:!1,other:!1}):(0,l.Z)((0,l.Z)({},al),{},{calendar:!1}))},defaultModule:Tn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===al||void 0===al?void 0:al.module_id)&&void 0!==t?t:"")})),defaultPositions:null!==(T=null===al||void 0===al?void 0:al.position_id)&&void 0!==T?T:[],onChangeType:function(e){il((0,l.Z)((0,l.Z)({},al),{},{type:e}))},onChangeEmail:function(e){il((0,l.Z)((0,l.Z)({},al),{},{email:e}))},onChangeAssign:function(e){il((0,l.Z)((0,l.Z)({},al),{},{assign:e}))},onChangeList:function(e){e.length>0?il((0,l.Z)((0,l.Z)({},al),{},{position_id:(0,o.Z)(e)})):delete al.position_id},onModuleSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{module_id:e.value}))},options:Xn,onOptionsSelected:function(e){il(e)},fieldOption:al}),(null===al||void 0===al?void 0:al.slider)&&i.createElement(f.pd,{id:"Display info",title:"Display user info?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:!(null===al||void 0===al||!al.info),toggleSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{info:!!e}))}}),(null===al||void 0===al?void 0:al.slider)&&i.createElement(f.pd,{id:"Display misc info",title:"Display other user info?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:!(null===al||void 0===al||!al.other),toggleSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{other:!!e}))}}),(null===al||void 0===al?void 0:al.position_id)&&i.createElement(We,null,i.createElement(f.Lb,{title:"Field in users to use as filter"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement(f.rk,{items:wl,defaultSelected:wl.find((function(e){return e.value===al.filter})),className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{filter:e.value}))}}))),(null===al||void 0===al?void 0:al.position_id)&&i.createElement(Ye,{title:"Filter Selections",validationErrors:ul,defaultList:(null===al||void 0===al||null===(P=al.dropdown)||void 0===P?void 0:P.length)>0?null===al||void 0===al?void 0:al.dropdown:void 0,onListSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{dropdown:e}))}}),i.createElement("div",{style:{display:null!==al&&void 0!==al&&al.calendar?"":"none"}},i.createElement(We,null,i.createElement(f.Lb,{title:"Header label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null===al||void 0===al?void 0:al.header,onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{header:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Title label to use in tasks"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(B=null===al||void 0===al?void 0:al.title)&&void 0!==B?B:"Event Name",onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{title:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Description label to use in tasks"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(D=null===al||void 0===al?void 0:al.description)&&void 0!==D?D:"Description",onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{description:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Assignee label to use in tasks"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(F=null===al||void 0===al?void 0:al.assignee)&&void 0!==F?F:"Assigned to",onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{assignee:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Start date label to use in tasks"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(A=null===al||void 0===al?void 0:al.start)&&void 0!==A?A:"Start Date",onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{start:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"End date label to use in tasks"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(W=null===al||void 0===al?void 0:al.end)&&void 0!==W?W:"End Date",onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{end:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Value label to use  in tasks (Optional)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null===al||void 0===al?void 0:al.valueL,onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{valueL:e.target.value}))}})),i.createElement("p",{className:Te.optionSettings},"Note: If set, ensure label is set in calendar")),i.createElement(We,null,i.createElement(f.Lb,{title:"Display users in assigned to from these positions (Optional)"}),i.createElement("div",{style:{border:"1px solid var(--app-color-gray-lighter)"}},i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:fl,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:(null===al||void 0===al?void 0:al.aList)&&(null===fl||void 0===fl?void 0:fl.filter((function(e){return(null===al||void 0===al?void 0:al.aList.indexOf(e.value))>-1}))),className:Te.uploadSelectComponent,inputClassName:Te.uploadSearchInput,molclassname:Te.uploadSelectMenuOverlayList,moliclassname:Te.uploadSelectMenuOverlayListItem,onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{aList:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))}))}}))),i.createElement(Ye,{validationErrors:ul,defaultList:(null===Xn||void 0===Xn||null===(V=Xn.list)||void 0===V?void 0:V.length)>0?null===Xn||void 0===Xn?void 0:Xn.list:void 0,onListSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{list:e}))}}))),"positions"===(null===Un||void 0===Un||null===(z=Un.name)||void 0===z?void 0:z.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(mt,{validationErrors:ul,allModules:Tn,defaultType:null===Xn||void 0===Xn?void 0:Xn.type,defaultAssign:null===Xn||void 0===Xn?void 0:Xn.assign,defaultEmail:null===Xn||void 0===Xn?void 0:Xn.email,defaultCalendar:null===Xn||void 0===Xn?void 0:Xn.calendar,defaultSlider:null===Xn||void 0===Xn?void 0:Xn.slider,onChangeSlider:function(e){il((0,l.Z)((0,l.Z)({},al),{},{slider:e}))},onCalendar:function(e){il((0,l.Z)((0,l.Z)({},al),{},{calendar:e}))},defaultModule:Tn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===Xn||void 0===Xn?void 0:Xn.module_id)&&void 0!==t?t:"")})),defaultPositions:null!==(R=null===Xn||void 0===Xn?void 0:Xn.position_id)&&void 0!==R?R:[],onChangeType:function(e){il((0,l.Z)((0,l.Z)({},al),{},{type:e}))},onChangeEmail:function(e){il((0,l.Z)((0,l.Z)({},al),{},{email:e}))},onChangeAssign:function(e){il((0,l.Z)((0,l.Z)({},al),{},{assign:e}))},onChangeList:function(e){e.length>0?il((0,l.Z)((0,l.Z)({},al),{},{position_id:(0,o.Z)(e)})):delete al.position_id},onModuleSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{module_id:e.value}))},options:Xn,onOptionsSelected:function(e){il(e)},fieldOption:al}),i.createElement("div",null,i.createElement(f.pd,{id:"Fetch users when item is selected",title:"Fetch users when item is selected?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===al||void 0===al?void 0:al.fetch,toggleSelected:function(e){il(e?(0,l.Z)((0,l.Z)({},al),{},{fetch:!0}):(0,l.Z)((0,l.Z)({},al),{},{fetch:!1}))}})),i.createElement("div",null,i.createElement(f.pd,{id:"Share transaction to position when item is selected",title:"Share transaction to position when item is selected?",ungrouped:!0,withAckButton:!1,style:{margin:"40px 0px 20px 0px",width:"auto"},value:null===al||void 0===al?void 0:al.share,toggleSelected:function(e){il(e?(0,l.Z)((0,l.Z)({},al),{},{share:!0}):(0,l.Z)((0,l.Z)({},al),{},{share:!1}))}})),i.createElement("div",null,i.createElement(f.pd,{id:"AddUserPosition",title:"Add user to selected position?",ungrouped:!0,withAckButton:!1,style:{margin:"40px 0px 20px 0px",width:"auto"},value:null!==(j=null===al||void 0===al?void 0:al.addToPos)&&void 0!==j&&j,toggleSelected:function(e){il(e?(0,l.Z)((0,l.Z)({},al),{},{addToPos:!0,share:!1,calendar:!1,fetch:!1}):(0,l.Z)((0,l.Z)({},al),{},{addToPos:!1}))}})),i.createElement("div",{style:{display:null!==al&&void 0!==al&&al.calendar?"":"none"}},i.createElement(We,null,i.createElement(f.Lb,{title:"Header label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null===al||void 0===al?void 0:al.header,onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{header:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Title label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(q=null===al||void 0===al?void 0:al.title)&&void 0!==q?q:"Event Name",onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{title:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Description label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(U=null===al||void 0===al?void 0:al.description)&&void 0!==U?U:"Description",onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{description:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Assignee label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(H=null===al||void 0===al?void 0:al.assignee)&&void 0!==H?H:"Assigned to",onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{assignee:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Start date label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(K=null===al||void 0===al?void 0:al.start)&&void 0!==K?K:"Start Date",onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{start:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"End date label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(X=null===al||void 0===al?void 0:al.end)&&void 0!==X?X:"End Date",onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{end:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Value label to use (Optional)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null===al||void 0===al?void 0:al.valueL,onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{valueL:e.target.value}))}})),i.createElement("p",{className:Te.optionSettings},"Note: If set, ensure label is set in calendar")),i.createElement(Ye,{validationErrors:ul,defaultList:(null===Xn||void 0===Xn||null===(Y=Xn.list)||void 0===Y?void 0:Y.length)>0?null===Xn||void 0===Xn?void 0:Xn.list:void 0,onListSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{list:e}))}}))),"dropdown"===(null===Un||void 0===Un||null===(G=Un.name)||void 0===G?void 0:G.toLowerCase())&&i.createElement(Xe,{validationErrors:ul,defaultType:v.YX.find((function(e){var t;return(null===e||void 0===e?void 0:e.value)==(null!==(t=null===Xn||void 0===Xn?void 0:Xn.type)&&void 0!==t?t:"single")})),defaultList:(null===Xn||void 0===Xn||null===(J=Xn.list)||void 0===J?void 0:J.length)>0?null===Xn||void 0===Xn?void 0:Xn.list:void 0,defaultPr:null!==(Q=null===Xn||void 0===Xn?void 0:Xn.process)&&void 0!==Q?Q:"",defaultJ1:null!==($=null===Xn||void 0===Xn?void 0:Xn.jump1)&&void 0!==$?$:"",defaultJ2:null!==(ee=null===Xn||void 0===Xn?void 0:Xn.jump2)&&void 0!==ee?ee:"",onTypeSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{type:e.value}))},onListSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{list:e}))},onJump1Selected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{jump1:e}))},onJump2Selected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{jump2:e}))},onProcSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{process:e}))},companyProcesses:An}),"status"===(null===Un||void 0===Un||null===(te=Un.name)||void 0===te?void 0:te.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(Ye,{validationErrors:ul,defaultList:(null===Xn||void 0===Xn||null===(ne=Xn.list)||void 0===ne?void 0:ne.length)>0?null===Xn||void 0===Xn?void 0:Xn.list:void 0,onListSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{list:e}))}}),i.createElement(f.pd,{id:"Control transaction with status",title:"Control transaction with this field",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===al||void 0===al?void 0:al.control,toggleSelected:function(e){il(e?(0,l.Z)((0,l.Z)({},al),{},{control:!0}):(0,l.Z)((0,l.Z)({},al),{},{control:!1}))}})),("list"===(null===Un||void 0===Un||null===(le=Un.name)||void 0===le?void 0:le.toLowerCase())||"module list"===(null===Un||void 0===Un||null===(oe=Un.name)||void 0===oe?void 0:oe.toLowerCase()))&&i.createElement(Je,{allModules:Tn,validationErrors:ul,defaultType:{label:null!==(ae=null===Xn||void 0===Xn?void 0:Xn.type)&&void 0!==ae?ae:"Table",value:null!==(ie=null===Xn||void 0===Xn?void 0:Xn.type)&&void 0!==ie?ie:"Table"},defaultTypeX:Xn,defaultModule:Tn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===Xn||void 0===Xn?void 0:Xn.module_id)&&void 0!==t?t:"")})),defaultList:(null===Xn||void 0===Xn||null===(re=Xn.list)||void 0===re?void 0:re.length)>0?null===Xn||void 0===Xn?void 0:Xn.list:void 0,onTypeSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{type:e.value}))},onModuleSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{module_id:e.module.id}))},onChangeList:function(e){il((0,l.Z)((0,l.Z)({},al),{},{list:(0,o.Z)(e)}))},multiSelectLabel:""===(null===Xn||void 0===Xn?void 0:Xn.module_id)?"":null===(de=Tn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===Xn||void 0===Xn?void 0:Xn.module_id)&&void 0!==t?t:"")})))||void 0===de?void 0:de.label}),"transaction list"===(null===Un||void 0===Un||null===(ue=Un.name)||void 0===ue?void 0:ue.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(We,null,i.createElement(f.Lb,{title:"List ID"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null===Xn||void 0===Xn?void 0:Xn.id,onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{id:e.target.value}))}}))),i.createElement(Fe,{blueprints:Pn,allModules:Tn,companyProcesses:An,validationErrors:ul,defaultType:{label:null!==(se=null===Xn||void 0===Xn?void 0:Xn.type)&&void 0!==se?se:"Table",value:null!==(ce=null===Xn||void 0===Xn?void 0:Xn.type)&&void 0!==ce?ce:"Table"},options:al,defaultMap:null!==(me=null===al||void 0===al?void 0:al.map)&&void 0!==me?me:{},defaultModule:Tn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===al||void 0===al?void 0:al.module_id)&&void 0!==t?t:"")})),defaultList:(null===al||void 0===al||null===(pe=al.list)||void 0===pe?void 0:pe.length)>0?null===al||void 0===al?void 0:al.list:void 0,onTypeSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{type:e.value}))},onModuleSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{module_id:e.module.id}))},onChangeMapping:function(e){il((0,l.Z)((0,l.Z)({},al),{},{map:e}))},multiSelectLabel:""===(null===al||void 0===al?void 0:al.module_id)?"":null===(ve=Tn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===al||void 0===al?void 0:al.module_id)&&void 0!==t?t:"")})))||void 0===ve?void 0:ve.label,setFieldOption:il})),("step list"===(null===Un||void 0===Un||null===(fe=Un.name)||void 0===fe?void 0:fe.toLowerCase())||"component list"===(null===Un||void 0===Un||null===(ye=Un.name)||void 0===ye?void 0:ye.toLowerCase()))&&i.createElement(Qe,{blueprints:Pn.filter((function(e){var t;return(null===e||void 0===e?void 0:e.id)!==(null!==(t=null===Xn||void 0===Xn?void 0:Xn.component_id)&&void 0!==t?t:"")})),validationErrors:ul,defaultList:(null===Xn||void 0===Xn||null===(ge=Xn.list)||void 0===ge?void 0:ge.length)>0?null===Xn||void 0===Xn?void 0:Xn.list:void 0,defaultType:Pn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===Xn||void 0===Xn?void 0:Xn.component_id)&&void 0!==t?t:"")})),onTypeSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{component_id:e.component.id}))},defaultKey:null!==(he=null===Xn||void 0===Xn?void 0:Xn.key)&&void 0!==he?he:"Key",onKeySelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{key:e}))},onChangeList:function(e){il((0,l.Z)((0,l.Z)({},al),{},{list:(0,o.Z)(e)}))},multiSelectLabel:""===(null===Xn||void 0===Xn?void 0:Xn.component_id)?"":null===(Ce=Pn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===Xn||void 0===Xn?void 0:Xn.component_id)&&void 0!==t?t:"")})))||void 0===Ce?void 0:Ce.label}),"product"===(null===Un||void 0===Un||null===(Se=Un.name)||void 0===Se?void 0:Se.toLowerCase())&&i.createElement(Ge,{products:Fn,validationErrors:ul,defaultList:(null===Xn||void 0===Xn||null===(be=Xn.list)||void 0===be?void 0:be.length)>0?null===Xn||void 0===Xn?void 0:Xn.list:void 0,onChangeList:function(e){il((0,l.Z)((0,l.Z)({},al),{},{list:(0,o.Z)(e)}))}}),"record"===(null===Un||void 0===Un||null===(Ee=Un.name)||void 0===Ee?void 0:Ee.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(ut,{defaultFilters:null===Xn||void 0===Xn?void 0:Xn.filters,validationErrors:ul,field_type:Un,blueprints:Pn,nameValues:(null===Xn||void 0===Xn||null===(_e=Xn.names)||void 0===_e?void 0:_e.length)>0?null===Xn||void 0===Xn?void 0:Xn.names:[],defaultType:(null===Xn||void 0===Xn||null===(Ze=Xn.selection)||void 0===Ze?void 0:Ze.length)>0?{label:null===Xn||void 0===Xn?void 0:Xn.selection}:void 0,defaultList:(null===Xn||void 0===Xn||null===(we=Xn.list)||void 0===we?void 0:we.length)>0?null===Xn||void 0===Xn?void 0:Xn.list:[],defaultValue:{label:void 0===Rn.allBlueprintComponents.find((function(e){var t;return e.id===(null===(t=Rn.selectedFieldFromSelectedBlueprintComponent.options)||void 0===t?void 0:t.component_id)}))?"":Rn.allBlueprintComponents.find((function(e){var t;return e.id===(null===(t=Rn.selectedFieldFromSelectedBlueprintComponent.options)||void 0===t?void 0:t.component_id)})).name},defaultOutputField:(null===Xn||void 0===Xn||null===(xe=Xn.output)||void 0===xe?void 0:xe.length)>0?{label:null===Xn||void 0===Xn?void 0:Xn.output}:void 0,defaultGlobal:null===Xn||void 0===Xn?void 0:Xn.global,onGlobalSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{global:e}))},onListSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{list:e}))},onComponentSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{component_id:e.blueprint.id}))},onTypeSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{selection:e}))},onNamesSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{names:e}))},onOutputFieldSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{output:e}))},onFilterList:function(e){il((0,l.Z)((0,l.Z)({},al),{},{filters:e}))}}),i.createElement(We,{errorMessage:null===ul||void 0===ul?void 0:ul.type},i.createElement(f.Lb,{title:"Optional: Conduct lookup from these transactions:"}),i.createElement(f.sm,{"app-variant":null!==ul&&void 0!==ul&&ul.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.rk,{items:Tn.map((function(e){return{label:e.name,value:e.id}})),defaultSelected:Tn.map((function(e){return{label:e.name,value:e.id}})).find((function(e){return e.value===(null===Xn||void 0===Xn?void 0:Xn.module_id)})),className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{module_id:null===e||void 0===e?void 0:e.value}))}})))),"googleai assistant"===(null===Un||void 0===Un||null===(Ie=Un.name)||void 0===Ie?void 0:Ie.toLowerCase())&&i.createElement(pt,{defaultCurrent:null===Xn||void 0===Xn?void 0:Xn.current,defaultDescription:null===Xn||void 0===Xn?void 0:Xn.description,defaultValue:null===Xn||void 0===Xn?void 0:Xn.analyze,defaultFixed:null===Xn||void 0===Xn?void 0:Xn.fixed,defaultModule:{label:void 0===Tn.find((function(e){return e.id===(null===Xn||void 0===Xn?void 0:Xn.module_id)}))?"":Tn.find((function(e){return e.id===(null===Xn||void 0===Xn?void 0:Xn.module_id)})).name},defaultModule2:{label:void 0===Tn.find((function(e){return e.id===(null===Xn||void 0===Xn?void 0:Xn.module2_id)}))?"":Tn.find((function(e){return e.id===(null===Xn||void 0===Xn?void 0:Xn.module2_id)})).name},defaultModule3:{label:void 0===Tn.find((function(e){return e.id===(null===Xn||void 0===Xn?void 0:Xn.module3_id)}))?"":Tn.find((function(e){return e.id===(null===Xn||void 0===Xn?void 0:Xn.module3_id)})).name},setFieldValue:function(e){il((0,l.Z)((0,l.Z)({},al),{},{analyze:e}))},setDefaultCurrent:function(e){il((0,l.Z)((0,l.Z)({},al),{},{current:e}))},setDefaultDescription:function(e){il((0,l.Z)((0,l.Z)({},al),{},{description:e}))},onModule1Select:function(e){il((0,l.Z)((0,l.Z)({},al),{},{module_id:null===e||void 0===e?void 0:e.value}))},onModule2Select:function(e){il((0,l.Z)((0,l.Z)({},al),{},{module2_id:null===e||void 0===e?void 0:e.value}))},onModule3Select:function(e){il((0,l.Z)((0,l.Z)({},al),{},{module3_id:null===e||void 0===e?void 0:e.value}))},setDefaultFixed:function(e){il((0,l.Z)((0,l.Z)({},al),{},{fixed:e}))},validationErrors:ul,allModules:Tn}),"value"===(null===Un||void 0===Un||null===(Me=Un.name)||void 0===Me?void 0:Me.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(st,{field_type:Un,allModules:Tn,components:Dn,defaultModule:(null===Xn||void 0===Xn||null===(Oe=Xn.module_id)||void 0===Oe?void 0:Oe.length)>0?{label:Tn.find((function(e){return e.id===(null===Xn||void 0===Xn?void 0:Xn.module_id)})).name,value:null===Xn||void 0===Xn?void 0:Xn.module_id}:void 0,defaultOutput:null===Dn||void 0===Dn?void 0:Dn.filter((function(e){return e.module_id===(null===Xn||void 0===Xn?void 0:Xn.module_id)})).map((function(e){return{label:"".concat(e.title),value:e.id}})),defaultValue:{label:null===Xn||void 0===Xn?void 0:Xn.value,slabel:void 0===Rn.allBlueprintComponents.find((function(e){var t,n;return e.id===(null===(t=Rn.selectedFieldFromSelectedBlueprintComponent)||void 0===t||null===(n=t.options)||void 0===n?void 0:n.component_id)}))?"":Rn.allBlueprintComponents.find((function(e){return e.id===Rn.selectedFieldFromSelectedBlueprintComponent.options.component_id})).name},onModuleSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{module_id:e.value}))},onOutputSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{component_id:e.value}))},onFieldValueSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{value:e.value}))}}),i.createElement(f.pd,{id:"Show chart for selected value",title:"Show chart for selected value",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===al||void 0===al?void 0:al.chart,toggleSelected:function(e){il(e?(0,l.Z)((0,l.Z)({},al),{},{chart:!0}):(0,l.Z)((0,l.Z)({},al),{},{chart:!1}))}})),"formula"===(null===Un||void 0===Un||null===(ke=Un.name)||void 0===ke?void 0:ke.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(et,{setFieldOption:il,fieldOption:al,selectedFields:Bn,validationErrors:ul,defaultValue:(null===Xn||void 0===Xn||null===(De=Xn.operator)||void 0===De?void 0:De.length)>0?null===Xn||void 0===Xn?void 0:Xn.operator:void 0,defaultList:(null===Xn||void 0===Xn||null===(dt=Xn.list)||void 0===dt?void 0:dt.length)>0?null===Xn||void 0===Xn?void 0:Xn.list:void 0,defaultSearchText:(null===Xn||void 0===Xn||null===(gt=Xn.searchtext)||void 0===gt?void 0:gt.length)>0?null===Xn||void 0===Xn?void 0:Xn.searchtext:void 0,onOperatorSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{operator:e}))},onChangeList:function(e){il((0,l.Z)((0,l.Z)({},al),{},{list:(0,o.Z)(e)}))},onChangeSearchText:function(e){il((0,l.Z)((0,l.Z)({},al),{},{searchtext:e}))},blueprints:Pn}),"freesum"===(null===al||void 0===al?void 0:al.operator)&&i.createElement(Ye,{title:"Add fields to compute",validationErrors:ul,defaultList:(null===Xn||void 0===Xn||null===(ht=Xn.list)||void 0===ht?void 0:ht.length)>0?null===Xn||void 0===Xn?void 0:Xn.list:void 0,onListSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{list:e}))}})),"list filter"===(null===Un||void 0===Un||null===(Ct=Un.name)||void 0===Ct?void 0:Ct.toLowerCase())&&i.createElement(nt,{selectedFields:Bn,validationErrors:ul,defaultField:(null===Xn||void 0===Xn||null===(St=Xn.field)||void 0===St?void 0:St.length)>0?null===Xn||void 0===Xn?void 0:Xn.field:void 0,defaultValue:(null===Xn||void 0===Xn||null===(bt=Xn.value)||void 0===bt?void 0:bt.length)>0?null===Xn||void 0===Xn?void 0:Xn.value:void 0,onChangeField:function(e){il((0,l.Z)((0,l.Z)({},al),{},{field:e}))},onChangeValue:function(e){il((0,l.Z)((0,l.Z)({},al),{},{value:e}))},blueprints:Pn}),"connector"===(null===Un||void 0===Un||null===(Et=Un.name)||void 0===Et?void 0:Et.toLowerCase())&&i.createElement(it,{selectedFields:Bn,validationErrors:ul,defaultComponent1:(null===Xn||void 0===Xn||null===(_t=Xn.component1_id)||void 0===_t?void 0:_t.length)>0?{label:Rn.allBlueprintComponents.find((function(e){return e.id===(null===Xn||void 0===Xn?void 0:Xn.component1_id)})).name}:void 0,defaultComponent2:(null===Xn||void 0===Xn||null===(Zt=Xn.component2_id)||void 0===Zt?void 0:Zt.length)>0?{label:Rn.allBlueprintComponents.find((function(e){return e.id===(null===Xn||void 0===Xn?void 0:Xn.component2_id)})).name}:void 0,defaultComponent3:(null===Xn||void 0===Xn||null===(wt=Xn.component3_id)||void 0===wt?void 0:wt.length)>0?{label:Rn.allBlueprintComponents.find((function(e){return e.id===(null===Xn||void 0===Xn?void 0:Xn.component3_id)})).name}:void 0,defaultCommon12:(null===Xn||void 0===Xn||null===(Nt=Xn.common_field_12)||void 0===Nt?void 0:Nt.length)>0?{label:null===Xn||void 0===Xn?void 0:Xn.common_field_12}:void 0,defaultInputComponent1:(null===Xn||void 0===Xn||null===(xt=Xn.component1_input)||void 0===xt?void 0:xt.length)>0?{label:null===Xn||void 0===Xn?void 0:Xn.component1_input}:void 0,defaultCommon23:(null===Xn||void 0===Xn||null===(Lt=Xn.common_field_23)||void 0===Lt?void 0:Lt.length)>0?{label:null===Xn||void 0===Xn?void 0:Xn.common_field_23}:void 0,defaultOutputs:(null===Xn||void 0===Xn||null===(It=Xn.outputs)||void 0===It?void 0:It.length)>0?null===Xn||void 0===Xn?void 0:Xn.outputs:[],onComponent1InputSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{component1_input:e}))},onComponent1Selected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{component1_id:e}))},onComponent2Selected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{component2_id:e}))},onCommon12Selected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{common_field_12:e}))},onComponent3Selected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{component3_id:e}))},onCommon23Selected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{common_field_23:e}))},onOutputsSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{outputs:(0,o.Z)(e)}))},bpContext:Rn}),"payments"===(null===Un||void 0===Un||null===(Mt=Un.name)||void 0===Mt?void 0:Mt.toLowerCase())&&i.createElement(yt,{validationErrors:ul,defaultValue:(null===Xn||void 0===Xn||null===(Ot=Xn.type)||void 0===Ot?void 0:Ot.length)>0?{label:Rn.allBlueprintComponents.find((function(e){return e.id===(null===Xn||void 0===Xn?void 0:Xn.type)})).name}:void 0,defaultSrcName:(null===Xn||void 0===Xn||null===(kt=Xn.paymentField)||void 0===kt?void 0:kt.length)>0?{label:null===Xn||void 0===Xn?void 0:Xn.paymentField}:void 0,onSourceSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{type:e}))},onSourceLabel:function(e){il((0,l.Z)((0,l.Z)({},al),{},{paymentField:e}))},bpContext:Rn,defaultList:(null===Xn||void 0===Xn||null===(Tt=Xn.list)||void 0===Tt?void 0:Tt.length)>0?null===Xn||void 0===Xn?void 0:Xn.list:void 0,onListSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{list:e}))}}),"lookup"===(null===Un||void 0===Un||null===(Pt=Un.name)||void 0===Pt?void 0:Pt.toLowerCase())&&i.createElement(at,{selectedFields:Bn,validationErrors:ul,defaultGlobal:(null===Xn||void 0===Xn||null===(Bt=Xn.global)||void 0===Bt?void 0:Bt.length)>0?null===Xn||void 0===Xn?void 0:Xn.global:void 0,defaultValue:(null===Xn||void 0===Xn||null===(Dt=Xn.source_id)||void 0===Dt?void 0:Dt.length)>0?{label:Rn.allBlueprintComponents.find((function(e){return e.id===(null===Xn||void 0===Xn?void 0:Xn.source_id)})).name}:void 0,defaultTarget:(null===Xn||void 0===Xn||null===(Ft=Xn.target_id)||void 0===Ft?void 0:Ft.length)>0?{label:Rn.allBlueprintComponents.find((function(e){return e.id===(null===Xn||void 0===Xn?void 0:Xn.target_id)})).name}:void 0,defaultType:(null===Xn||void 0===Xn||null===(At=Xn.selection)||void 0===At?void 0:At.length)>0?{label:null===Xn||void 0===Xn?void 0:Xn.selection}:void 0,defaultCommon:(null===Xn||void 0===Xn||null===(Wt=Xn.common_field)||void 0===Wt?void 0:Wt.length)>0?{label:null===Xn||void 0===Xn?void 0:Xn.common_field}:void 0,defaultList:(null===Xn||void 0===Xn||null===(Vt=Xn.list)||void 0===Vt?void 0:Vt.length)>0?null===Xn||void 0===Xn?void 0:Xn.list:void 0,defaultRefList:(null===Xn||void 0===Xn||null===(zt=Xn.rlist)||void 0===zt?void 0:zt.length)>0?null===Xn||void 0===Xn?void 0:Xn.rlist:void 0,defaultRefName:(null===Xn||void 0===Xn||null===(Rt=Xn.referenceLabel)||void 0===Rt?void 0:Rt.length)>0?{label:null===Xn||void 0===Xn?void 0:Xn.referenceLabel}:void 0,defaultSrcName:(null===Xn||void 0===Xn||null===(jt=Xn.sourceLabel)||void 0===jt?void 0:jt.length)>0?null===Xn||void 0===Xn?void 0:Xn.sourceLabel:void 0,onSourceSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{source_id:e}))},onTargetSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{target_id:e}))},onFieldSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{common_field:e}))},onChangeList:function(e){il((0,l.Z)((0,l.Z)({},al),{},{list:(0,o.Z)(e)}))},onChangeRList:function(e){il((0,l.Z)((0,l.Z)({},al),{},{rlist:(0,o.Z)(e)}))},onTypeSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{selection:e}))},onSourceLabel:function(e){il((0,l.Z)((0,l.Z)({},al),{},{sourceLabel:(0,o.Z)(e)}))},onReferenceLabel:function(e){il((0,l.Z)((0,l.Z)({},al),{},{referenceLabel:e}))},onGlobalSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{global:e}))},onSetShowAll:function(e){il((0,l.Z)((0,l.Z)({},al),{},{showAll:e}))},showAllDefault:null===Xn||void 0===Xn?void 0:Xn.showAll,bpContext:Rn}),"emails"===(null===Un||void 0===Un||null===(qt=Un.name)||void 0===qt?void 0:qt.toLowerCase())&&i.createElement(tt,{validationErrors:ul,options:Xn,setFieldOption:il,fieldOption:al,blueprints:Pn}),"product lookup"===(null===Un||void 0===Un||null===(Ut=Un.name)||void 0===Ut?void 0:Ut.toLowerCase())&&i.createElement(lt,{validationErrors:ul,defaultTarget:Rn.allBlueprintComponents.find((function(e){return e.id===(null===Xn||void 0===Xn?void 0:Xn.component_id)})),defaultRefName:null===Xn||void 0===Xn?void 0:Xn.referenceLabel,defaultList:null===Xn||void 0===Xn?void 0:Xn.list,defaultType:(null===Xn||void 0===Xn||null===(Ht=Xn.selection)||void 0===Ht?void 0:Ht.length)>0?{label:null===Xn||void 0===Xn?void 0:Xn.selection}:void 0,onTargetSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{component_id:e}))},onChangeList:function(e){il((0,l.Z)((0,l.Z)({},al),{},{list:(0,o.Z)(e)}))},onTypeSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{selection:e}))},onReferenceLabel:function(e){il((0,l.Z)((0,l.Z)({},al),{},{referenceLabel:e}))},bpContext:Rn}),"id"===(null===Un||void 0===Un||null===(Kt=Un.name)||void 0===Kt?void 0:Kt.toLowerCase())&&i.createElement(We,null,i.createElement(f.Lb,{title:"ID series to automatically generate"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement(vt,{defaultValue:Xn.id.length>0?{label:Xn.id}:{label:""},onSetIdGenerator:function(e){il((0,l.Z)((0,l.Z)({},al),{},{id:e,value:e}))}}))),"notes"===(null===Un||void 0===Un||null===(Xt=Un.name)||void 0===Xt?void 0:Xt.toLowerCase())&&i.createElement(We,null,i.createElement(f.Lb,{title:"Notes automatically generate"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement(ft,{defaultValue:Xn.value.length>0?{label:Xn.value}:{label:""},onNotesGenerator:function(e){il((0,l.Z)((0,l.Z)({},al),{},{value:e}))}}))),"filters"===(null===Un||void 0===Un||null===(Yt=Un.name)||void 0===Yt?void 0:Yt.toLowerCase())&&i.createElement(ot,{validationErrors:ul,defaultTarget:Rn.allBlueprintComponents.find((function(e){return e.id===(null===Xn||void 0===Xn?void 0:Xn.component_id)})),defaultFilters:null===Xn||void 0===Xn?void 0:Xn.filters,defaultOutput:null===Xn||void 0===Xn?void 0:Xn.output,defaultGlobal:null===Xn||void 0===Xn?void 0:Xn.global,onGlobalSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{global:e}))},onTargetSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{component_id:e}))},onFilterList:function(e){il((0,l.Z)((0,l.Z)({},al),{},{filters:e}))},onOutputSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{output:e}))},bpContext:Rn}),"pin"===(null===Un||void 0===Un||null===(Gt=Un.name)||void 0===Gt?void 0:Gt.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(f.pd,{id:"Pin with destination info?",title:"Pin a second location",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===Xn||void 0===Xn?void 0:Xn.destination,toggleSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{destination:e}))}}),i.createElement(f.pd,{id:"Compute distance between two pins?",title:"Compute distance ".concat(1==(null===al||void 0===al?void 0:al.destination)?"between two pins":"with current location"),ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===Xn||void 0===Xn?void 0:Xn.compute,toggleSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{compute:e}))}}),i.createElement(f.pd,{id:"Show real-time location of target?",title:"Show real-time location",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===Xn||void 0===Xn?void 0:Xn.realtime,toggleSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{realtime:e}))}}),1==(null===al||void 0===al?void 0:al.realtime)&&i.createElement(We,null,i.createElement(f.Lb,{title:"Interval"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"number",className:Te.dropDownNewListItemInput,value:hl,name:"Interval",onChange:function(e){Cl(e.target.value),il((0,l.Z)((0,l.Z)({},al),{},{interval:+e.target.value}))}})))),"ratings"===(null===Un||void 0===Un||null===(Jt=Un.name)||void 0===Jt?void 0:Jt.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(We,null,i.createElement(f.Lb,{title:"Field to lookup user ID"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:El,name:"Field to lookup user ID",onChange:function(e){_l(e.target.value),il((0,l.Z)((0,l.Z)({},al),{},{field:e.target.value}))}}))),i.createElement(f.pd,{id:"Add comments field?",title:"Add comments field?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===Xn||void 0===Xn?void 0:Xn.comments,toggleSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{comments:e}))}}),i.createElement(f.pd,{id:"Allow users to view rating?",title:"Allow users to view rating?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===Xn||void 0===Xn?void 0:Xn.view,toggleSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{view:e}))}})),"rewards"===(null===Un||void 0===Un||null===(Qt=Un.name)||void 0===Qt?void 0:Qt.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(We,null,i.createElement(f.Lb,{title:"Apply rewards when status matches"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==($t=null===al||void 0===al?void 0:al.status)&&void 0!==$t?$t:"Closed",name:"Status to compare",onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{status:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Reward points to apply"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"number",className:Te.dropDownNewListItemInput,value:null!==(en=null===al||void 0===al?void 0:al.points)&&void 0!==en?en:1,name:"Reward points to apply",onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{points:+e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Equivalent wallet value to apply"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"number",className:Te.dropDownNewListItemInput,value:null!==(tn=null===al||void 0===al?void 0:al.equiv)&&void 0!==tn?tn:1,name:"Equivalent wallet value to apply",onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{equiv:+e.target.value}))}}))),i.createElement(f.pd,{id:"Apply rewards to transaction creator",title:"Apply rewards to transaction creator?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===(nn=null===al||void 0===al?void 0:al.creator)||void 0===nn||nn,toggleSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{creator:e}))}})),"link"===(null===Un||void 0===Un||null===(ln=Un.name)||void 0===ln?void 0:ln.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(f.pd,{id:"Display as image",title:"Show link as an image?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null!==(on=null===al||void 0===al?void 0:al.image)&&void 0!==on&&on,toggleSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{image:e}))}})),"video"===(null===Un||void 0===Un||null===(an=Un.name)||void 0===an?void 0:an.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(We,null,i.createElement(f.Lb,{title:"Status to match"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null===al||void 0===al?void 0:al.status,onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{status:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Time that join button is available (mins)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"number",className:Te.dropDownNewListItemInput,value:null!==(rn=null===al||void 0===al?void 0:al.expiry)&&void 0!==rn?rn:10,onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{expiry:+e.target.value}))}})))),"calendar"===(null===Un||void 0===Un||null===(dn=Un.name)||void 0===dn?void 0:dn.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(We,null,i.createElement(f.Lb,{title:"Header label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null===al||void 0===al?void 0:al.header,onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{header:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Title label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(un=null===al||void 0===al?void 0:al.title)&&void 0!==un?un:"Event Name",onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{title:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Description label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(sn=null===al||void 0===al?void 0:al.description)&&void 0!==sn?sn:"Description",onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{description:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Assignee label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(cn=null===al||void 0===al?void 0:al.assignee)&&void 0!==cn?cn:"Assigned to",onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{assignee:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Start date label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(mn=null===al||void 0===al?void 0:al.start)&&void 0!==mn?mn:"Start Date",onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{start:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"End date label to use"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null!==(pn=null===al||void 0===al?void 0:al.end)&&void 0!==pn?pn:"End Date",onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{end:e.target.value}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Value label to use (Optional)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:null===al||void 0===al?void 0:al.valueL,onChange:function(e){il((0,l.Z)((0,l.Z)({},al),{},{valueL:e.target.value}))}}))),i.createElement(Ye,{validationErrors:ul,defaultList:(null===Xn||void 0===Xn||null===(vn=Xn.list)||void 0===vn?void 0:vn.length)>0?null===Xn||void 0===Xn?void 0:Xn.list:void 0,onListSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{list:e}))}}),i.createElement(f.pd,{id:"Retrieve calendar of transaction creator",title:"Retrieve calendar of transaction creator only?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===Xn||void 0===Xn?void 0:Xn.creator,toggleSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{creator:e}))}}),i.createElement(f.pd,{id:"Limit calendar to module component attached",title:"Limit calendar to module it is attached to?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===Xn||void 0===Xn?void 0:Xn.limited,toggleSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{limited:e}))}}),i.createElement(f.pd,{id:"Allow event to span multiple dates",title:"Allow event to span multiple dates?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===Xn||void 0===Xn?void 0:Xn.span,toggleSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{span:e}))}}),i.createElement(f.pd,{id:"Show calendar priority",title:"Show calendar priority?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===Xn||void 0===Xn?void 0:Xn.priority,toggleSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{priority:e}))}})),"info"===(null===Un||void 0===Un||null===(fn=Un.name)||void 0===fn?void 0:fn.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement(Qe,{defaultOrientation:null!==(yn=null===Xn||void 0===Xn?void 0:Xn.orientation)&&void 0!==yn?yn:"Rows",defaultKey:null!==(gn=null===Xn||void 0===Xn?void 0:Xn.key)&&void 0!==gn?gn:"Product ID",onKeySelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{key:e}))},blueprints:Pn,validationErrors:ul,defaultList:(null===Xn||void 0===Xn||null===(hn=Xn.list)||void 0===hn?void 0:hn.length)>0?null===Xn||void 0===Xn?void 0:Xn.list:void 0,defaultType:Pn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===Xn||void 0===Xn?void 0:Xn.component_id)&&void 0!==t?t:"")})),onTypeSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{component_id:e.component.id}))},onChangeList:function(e){il((0,l.Z)((0,l.Z)({},al),{},{list:(0,o.Z)(e)}))},onChangeOrientation:function(e){il((0,l.Z)((0,l.Z)({},al),{},{orientation:e}))},multiSelectLabel:""===(null===Xn||void 0===Xn?void 0:Xn.component_id)?"":Pn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===Xn||void 0===Xn?void 0:Xn.component_id)&&void 0!==t?t:"")})).label}),i.createElement(f.pd,{id:"Email Info",title:"Show this info in emails",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===Xn||void 0===Xn?void 0:Xn.email,toggleSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{email:e}))}})),"chart"===(null===Un||void 0===Un||null===(Cn=Un.name)||void 0===Cn?void 0:Cn.toLowerCase())&&i.createElement(i.Fragment,null,i.createElement($e,{setFieldOption:il,fieldOption:al,defaultOrientation:null!==(Sn=null===Xn||void 0===Xn?void 0:Xn.orientation)&&void 0!==Sn?Sn:"Rows",defaultKey:null!==(bn=null===Xn||void 0===Xn?void 0:Xn.key)&&void 0!==bn?bn:"",defaultConfig:null!==(En=null===Xn||void 0===Xn?void 0:Xn.config)&&void 0!==En?En:v.mj,onConfigSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{config:e}))},onKeySelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{key:e}))},blueprints:Pn,validationErrors:ul,defaultList:(null===Xn||void 0===Xn||null===(_n=Xn.list)||void 0===_n?void 0:_n.length)>0?null===Xn||void 0===Xn?void 0:Xn.list:void 0,defaultItemList:(null===Xn||void 0===Xn||null===(Zn=Xn.items)||void 0===Zn?void 0:Zn.length)>0?null===Xn||void 0===Xn?void 0:Xn.items:void 0,defaultType:Pn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===Xn||void 0===Xn?void 0:Xn.component_id)&&void 0!==t?t:"")})),onTypeSelected:function(e){il((0,l.Z)((0,l.Z)({},al),{},{component_id:e.component.id}))},onChangeList:function(e){il((0,l.Z)((0,l.Z)({},al),{},{list:(0,o.Z)(e)}))},onChangeListItems:function(e){il((0,l.Z)((0,l.Z)({},al),{},{items:(0,o.Z)(e)}))},onChangeOrientation:function(e){il((0,l.Z)((0,l.Z)({},al),{},{orientation:e}))},multiSelectLabel:""===(null===Xn||void 0===Xn?void 0:Xn.component_id)?"":Pn.map((function(e){return{label:e.name,value:e.id,module:e}})).find((function(e){var t;return(null===e||void 0===e?void 0:e.value)===(null!==(t=null===Xn||void 0===Xn?void 0:Xn.component_id)&&void 0!==t?t:"")})).label}))),"emails"!==(null===Un||void 0===Un||null===(wn=Un.name)||void 0===wn?void 0:wn.toLowerCase())&&i.createElement(Ae,{isOutput:0===(null===Un||void 0===Un?void 0:Un.io_type),selectedFields:Bn,options:Xn,fieldType:null===Un||void 0===Un?void 0:Un.name,onOptionsSelected:function(e){il(e)},fieldOption:al}),i.createElement("div",{className:Te.controls},i.createElement(f.zx,{title:"Close",clicked:Nn}),!Vn&&i.createElement(f.zx,{light:!0,title:"Save",loading:On,clicked:Ll}),!Vn&&In&&i.createElement(f.zx,{title:"Delete",light:!0,loading:Ln,clicked:function(){return In(Hn)}}))))},Fe=function(e){var t=e.setFieldOption,n=e.options,r=e.defaultType,d=e.defaultModule,u=e.defaultMap,s=e.onModuleSelected,c=e.onTypeSelected,m=e.defaultList,p=e.validationErrors,v=e.allModules,y=(e.onChangeMapping,e.multiSelectLabel,e.companyProcesses),g=e.blueprints,h=(0,i.useState)(void 0),C=(0,a.Z)(h,2),S=(C[0],C[1]),b=(0,i.useState)(null!==u&&void 0!==u?u:{}),E=(0,a.Z)(b,1)[0],_=(0,i.useState)(!1),Z=(0,a.Z)(_,2),w=(Z[0],Z[1]),N=(0,i.useState)(void 0===m||0===m.length?[]:m.map((function(e){var t;return{label:e,value:e,blueprint_name:null!==(t=null===d||void 0===d?void 0:d.label)&&void 0!==t?t:"Others"}}))),x=(0,a.Z)(N,2),L=x[0],I=x[1];(0,i.useEffect)((function(){M()}),[]);var M=function(){if(g.length>0){var e=[];g.filter((function(t){t.fields.filter((function(t){e=[].concat((0,o.Z)(e),[t.value])}))})),e=(0,o.Z)(new Set(e)).map((function(e){return{label:e,value:e,blueprint_name:e}})),I((0,o.Z)(Pe.sortWith([Pe.ascend(Pe.prop("label"))])(e)))}},O=v.map((function(e){return{label:e.name,value:e.id,module:e}})),k=[{label:"Item Code",value:"item_code"},{label:"Quantity",value:"quantity"},{label:"Value",value:"value"},{label:"Alt Value",value:"alt_value"},{label:"Type",value:"type"}];return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===p||void 0===p?void 0:p.type},i.createElement(f.Lb,{title:"Module to list"}),i.createElement(f.sm,{"app-variant":null!==p&&void 0!==p&&p.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.rk,{items:O,defaultSelected:d,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){!function(e){if(y.length>0&&void 0!==e){var t,n,l=[];null===(t=y.find((function(t){return t.id===e})))||void 0===t||null===(n=t.steps)||void 0===n||n.filter((function(e){e.component_blueprints.filter((function(e){e.selected_fields.filter((function(e){return 1==e.visible})).filter((function(e){l=[].concat((0,o.Z)(l),[e.field_name])}))}))})),l=(0,o.Z)(new Set(l)).map((function(e){var t;return{label:e,value:e,blueprint_name:null!==(t=null===d||void 0===d?void 0:d.label)&&void 0!==t?t:"Others"}})),I([].concat((0,o.Z)(Pe.sortWith([Pe.ascend(Pe.prop("label"))])(l)),[{label:"None",value:"none"}]))}}(e.module.procedure.id),S(e),null===s||void 0===s||s(e),null!==e&&void 0!==e&&e.symbol?w(!1):w(!0)}}))),i.createElement(We,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Item Code"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:L,defaultSelectedItem:null!==u&&void 0!==u&&u.item_code?{label:u.item_code,value:u.item_code}:null,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.item_code:E.item_code=e.value,t((0,l.Z)((0,l.Z)({},n),{},{map:E}))}}))),i.createElement(We,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Quantity"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:L,defaultSelectedItem:null!==u&&void 0!==u&&u.quantity?{label:u.quantity,value:u.quantity}:null,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.quantity:E.quantity=e.value,t((0,l.Z)((0,l.Z)({},n),{},{map:E}))}}))),i.createElement(We,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Value"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:L,defaultSelectedItem:null!==u&&void 0!==u&&u.value?{label:u.value,value:u.value}:null,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.value:E.value=e.value,t((0,l.Z)((0,l.Z)({},n),{},{map:E}))}}))),i.createElement(We,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Alt Value"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:L,defaultSelectedItem:null!==u&&void 0!==u&&u.alt_value?{label:u.alt_value,value:u.alt_value}:null,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.alt_value:E.alt_value=e.value,t((0,l.Z)((0,l.Z)({},n),{},{map:E}))}}))),i.createElement(We,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Total"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:L,defaultSelectedItem:null!==u&&void 0!==u&&u.total?{label:u.total,value:u.total}:null,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.total:E.total=e.value,t((0,l.Z)((0,l.Z)({},n),{},{map:E}))}}))),i.createElement(We,{errorMessage:null===p||void 0===p?void 0:p.accepted_mimes},i.createElement(f.Lb,{title:"Field to map with Type"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:L,defaultSelectedItem:null!==u&&void 0!==u&&u.type?{label:u.type,value:u.type}:null,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){"none"===e.value?null===E||void 0===E||delete E.type:E.type=e.value,t((0,l.Z)((0,l.Z)({},n),{},{map:E}))}}))),(null===n||void 0===n?void 0:n.group)&&i.createElement(We,{errorMessage:null===p||void 0===p?void 0:p.type},i.createElement(f.Lb,{title:"Group By"}),i.createElement(f.sm,{"app-variant":null!==p&&void 0!==p&&p.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.rk,{items:k,defaultSelected:null===k||void 0===k?void 0:k.find((function(e){return e.value===(null===n||void 0===n?void 0:n.groupL)})),className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){t((0,l.Z)((0,l.Z)({},n),{},{groupL:null===e||void 0===e?void 0:e.value}))}}))),i.createElement(f.pd,{id:"Group Type",title:"Group items?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===n||void 0===n?void 0:n.group,toggleSelected:function(e){t((0,l.Z)((0,l.Z)({},n),{},{group:e}))}}),i.createElement(We,{errorMessage:null===p||void 0===p?void 0:p.type},i.createElement(f.Lb,{title:"List type"}),i.createElement(f.sm,{"app-variant":null!==p&&void 0!==p&&p.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.rk,{items:[{label:"Table",value:"Table"},{label:"List (max 4 fields displayed)",value:"List"}],defaultSelected:r,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){null===c||void 0===c||c(e),null!==e&&void 0!==e&&e.symbol?w(!1):w(!0)}}))),i.createElement(f.pd,{id:"Show Footer",title:"Show footer?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===n||void 0===n?void 0:n.footer,toggleSelected:function(e){t((0,l.Z)((0,l.Z)({},n),{},{footer:e}))}}))},Ae=function(e){var t,n,o,r=e.fieldType,d=e.selectedFields,u=e.fieldOption,s=e.errorMessage,c=e.noBorder,m=e.options,p=e.onOptionsSelected,v=e.isOutput,y=(0,i.useState)(((null===m||void 0===m?void 0:m.valueToMatch)||(null===m||void 0===m?void 0:m.valueToMatch2))&&(null===m||void 0===m?void 0:m.fieldToMatch)||(null===m||void 0===m?void 0:m.mapToItem)||(null===m||void 0===m?void 0:m.notes)||(null===m||void 0===m?void 0:m.width)),g=(0,a.Z)(y,2),h=g[0],C=g[1],S=(0,i.useState)(null===m||void 0===m?void 0:m.valueToMatch),b=(0,a.Z)(S,2),E=b[0],_=b[1],Z=(0,i.useState)(null===m||void 0===m?void 0:m.valueToMatch2),w=(0,a.Z)(Z,2),N=w[0],x=w[1],L=(0,i.useState)(null===m||void 0===m?void 0:m.fieldToMatch),I=(0,a.Z)(L,2),M=I[0],O=I[1],k=(0,i.useState)(null===m||void 0===m?void 0:m.notes),T=(0,a.Z)(k,2),P=T[0],B=T[1],D=[{label:"Make field visible and mandatory",value:"visman"},{label:"Make field visible",value:"visible"},{label:"Make field hidden",value:"hidden"},{label:"Make field mandatory",value:"mandatory"},{label:"Make field optional",value:"optional"},{label:"Disable the field",value:"disable"},{label:"Enable the field",value:"enable"}],F=[{label:"Make field visible and mandatory",value:"visman"},{label:"Show the field",value:"visible"},{label:"Hide the field",value:"hide"},{label:"Make field mandatory",value:"mandatory"},{label:"Make field optional",value:"optional"},{label:"Disable the field",value:"disable"},{label:"Enable the field",value:"enable"},{label:"Trigger an email during save",value:"email"}],A=[{label:"Set date today",value:"today",type:"Date"},{label:"Set date tomorrow",value:"tomorrow",type:"Date"},{label:"Set date one month from today",value:"month",type:"Date"},{label:"Set date one week from today",value:"week",type:"Date"},{label:"None",value:"none",type:"Date"}];d.map((function(e){return{label:e.value,value:e.value,field:e}}));return i.createElement("div",{className:Te.optionSettings,"app-container-variant":c?"noBorder":"border","app-variant":(null===s||void 0===s?void 0:s.length)>0?"error":"normal"},!("GoogleAI Assistant"===r||"OpenAI Assistant"===r)&&i.createElement(f.pd,{id:"Show additional options?",title:"Show additional options?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:!!h,toggleSelected:function(e){C(e)}}),h&&i.createElement("div",null,i.createElement(We,null,i.createElement(f.Lb,{title:"Add Notes"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("textarea",{type:"text",className:Te.dropDownNewListItemInput,value:P,name:"matched to field",onChange:function(e){B(e.target.value),p((0,l.Z)((0,l.Z)({},u),{},{notes:e.target.value}))}})))),h&&i.createElement(We,null,i.createElement(f.Lb,{title:"Field name to match values"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:M,name:"matched to field",onChange:function(e){O(e.target.value),p((0,l.Z)((0,l.Z)({},u),{},{fieldToMatch:e.target.value}))}}))),h&&(null===M||void 0===M?void 0:M.length)>2&&i.createElement(We,null,i.createElement(f.Lb,{title:"Values (A) to be matched to field. (Note: Use ' , ' to seperate)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:E,name:"matched to field",onChange:function(e){_(e.target.value),p((0,l.Z)((0,l.Z)({},u),{},{valueToMatch:e.target.value}))}}))),h&&(null===E||void 0===E?void 0:E.length)>2&&i.createElement(We,null,i.createElement(f.Lb,{title:"Perform this action when matched with (A)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:F.filter((function(e){return"email"!==e.value})),defaultSelectedItem:F.find((function(e){return e.value===(null===m||void 0===m?void 0:m.actionToPerform)})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){p((0,l.Z)((0,l.Z)({},u),{},{actionToPerform:e.value}))}}))),h&&(null===E||void 0===E?void 0:E.length)>2&&i.createElement(We,null,i.createElement(f.Lb,{title:"Perform this action when not matched with (A)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:D,defaultSelectedItem:D.find((function(e){return e.value===(null===m||void 0===m?void 0:m.initialState)})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){p((0,l.Z)((0,l.Z)({},u),{},{initialState:e.value}))}}))),h&&(null===M||void 0===M?void 0:M.length)>2&&i.createElement(We,null,i.createElement(f.Lb,{title:"Values (B) to be matched to field. (Note: Use ' , ' to seperate)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:N,name:"matched to field",onChange:function(e){x(e.target.value),p((0,l.Z)((0,l.Z)({},u),{},{valueToMatch2:e.target.value}))}}))),h&&(null===N||void 0===N?void 0:N.length)>2&&"Date"===r&&i.createElement(We,null,i.createElement(f.Lb,{title:"Change to this value when matched with (B)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:A,defaultSelectedItem:A.filter((function(e){return e.type===r})).find((function(e){return e.value===(null===m||void 0===m?void 0:m.value)})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){p((0,l.Z)((0,l.Z)({},u),{},{value:e.value}))}}))),h&&(null===N||void 0===N?void 0:N.length)>2&&("Text"===r||"Status"===r)&&i.createElement(We,null,i.createElement(f.Lb,{title:"Change to this value when matched"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:r.toLowerCase(),className:Te.dropDownNewListItemInput,placeholder:null===m||void 0===m?void 0:m.value,name:"matched to field",onChange:function(e){p((0,l.Z)((0,l.Z)({},u),{},{value:e.target.value}))}}))),h&&(null===N||void 0===N?void 0:N.length)>2&&i.createElement(We,null,i.createElement(f.Lb,{title:"Perform action to field when matched with (B)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:null!==m&&void 0!==m&&m.actionToPerform?F.filter((function(e){return!(e.value===(null===m||void 0===m?void 0:m.actionToPerform)||e.value===(null===m||void 0===m?void 0:m.initialState))})):F,defaultSelectedItem:F.find((function(e){return e.value===(null===m||void 0===m?void 0:m.actionToPerform2)})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){p((0,l.Z)((0,l.Z)({},u),{},{actionToPerform2:e.value}))}}))),h&&!v&&i.createElement(We,null,i.createElement(f.Lb,{title:"Map this field to item field"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:[{label:"Item Code",value:"item_code"},{label:"Quantity",value:"quantity"},{label:"Value",value:"value"},{label:"Other Value",value:"alt_value"},{label:"Total",value:"total"},{label:"Type",value:"type"},{label:"Distance",value:"distance"}],defaultSelectedItem:[{label:"Item Code",value:"item_code"},{label:"Quantity",value:"quantity"},{label:"Value",value:"value"},{label:"Other Value",value:"alt_value"},{label:"Total",value:"total"},{label:"Type",value:"type"},{label:"Distance",value:"distance"}].find((function(e){return e.value===(null===m||void 0===m?void 0:m.mapToItem)})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){p((0,l.Z)((0,l.Z)({},u),{},{mapToItem:e.value}))}}))),h&&!v&&i.createElement(We,null,i.createElement(f.Lb,{title:"Apply color for values"}),i.createElement("input",{type:"text",className:Te.elementTextInput,style:{borderRight:"white"===(null===u||void 0===u?void 0:u.valueC)?"white":"".concat(null!==u&&void 0!==u&&u.valueC?"50px":"1px"," solid ").concat(null!==(t=null===u||void 0===u?void 0:u.valueC)&&void 0!==t?t:"var(--app-color-gray-lighter)")},defaultValue:null===u||void 0===u?void 0:u.valueC,onBlur:function(e){return p((0,l.Z)((0,l.Z)({},u),{},{valueC:e.target.value}))}})),h&&i.createElement(We,null,i.createElement("br",null),i.createElement(f.Lb,{title:"Field width (min 15%, will fit 4 fields in row)"}),i.createElement("div",{style:{display:"flex",width:"100%"}},i.createElement("input",{type:"range",min:"15",max:"100",step:"5",style:{width:"90%"},defaultValue:null!==(n=null===m||void 0===m?void 0:m.width)&&void 0!==n?n:"0",onChange:function(e){p((0,l.Z)((0,l.Z)({},u),{},{width:e.target.value}))}}),i.createElement("label",{style:{width:"10%"}},null!==(o=null===u||void 0===u?void 0:u.width)&&void 0!==o?o:null===m||void 0===m?void 0:m.width,"%")),i.createElement("br",null)),h&&!v&&i.createElement(f.pd,{id:"Do not save this value?",title:"Do not save this value?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===m||void 0===m?void 0:m.skip,toggleSelected:function(e){p((0,l.Z)((0,l.Z)({},u),{},{skip:e}))}}),h&&!v&&i.createElement(f.pd,{id:"Read only?",title:"Read only?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===m||void 0===m?void 0:m.read,toggleSelected:function(e){p((0,l.Z)((0,l.Z)({},u),{},{read:e}))}}))},We=function(e){var t=e.children,n=e.errorMessage,l=e.noBorder;return i.createElement("div",{className:Te.optionSection,"app-container-variant":l?"noBorder":"border","app-variant":(null===n||void 0===n?void 0:n.length)>0?"error":"normal"},t,(null===n||void 0===n?void 0:n.length)>0&&i.createElement("span",{className:Te.errorContainer},n))},Ve=function(e){var t=e.defaultValue,n=e.onChangeType,l=e.validationErrors,o=(0,i.useState)(null!==t&&void 0!==t&&t),r=(0,a.Z)(o,2),d=r[0],u=r[1];return i.createElement(We,{errorMessage:null===l||void 0===l?void 0:l.type},i.createElement(f.Lb,{title:"Type of Number"}),i.createElement(f.sm,{"app-variant":null!==l&&void 0!==l&&l.type?"error":"normal","app-container-variant":"noBorder",className:Te.numberOptionsContainer},i.createElement(f.nd,{selected:d,setSelected:function(e){u(e),n(e?"numeric":"percentage")},first:"123 Value",second:"% Percentage",extraClassName:Te.renderBooleansOptions})))},ze=function(e){var t=e.defaultValue,n=e.defaultAuto,l=(e.defaultTime,e.onChangeType),o=e.onExceeded,r=e.withTime,d=e.validationErrors,u=(0,i.useState)(null!==t&&void 0!==t&&t),s=(0,a.Z)(u,2),c=s[0],m=s[1];return i.createElement(We,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Type of Element"}),i.createElement(f.sm,{"app-variant":null!==d&&void 0!==d&&d.type?"error":"normal","app-container-variant":"noBorder",className:Te.dateOptionsContainer},i.createElement(f.nd,{selected:c,setSelected:function(e){m(e),l(e?"single":"range")},first:"Single date",second:"Date Range",extraClassName:Te.renderBooleansOptions})),i.createElement(f.pd,{id:"Add Time",title:"With Time?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:n,toggleSelected:function(e){r(e)}}),i.createElement(f.pd,{id:"Auto-close when date is exceeded",title:"Auto-close when date is exceeded?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:n,toggleSelected:function(e){o(e)}}))},Re=function(e){var t=e.defaultValue,n=e.defaultType,l=e.onChangeType,o=e.onChangeValue,r=e.validationErrors,d=(0,i.useState)(null!==n&&void 0!==n&&n),u=(0,a.Z)(d,2),s=u[0],c=u[1],m=(0,i.useState)(t),p=(0,a.Z)(m,2),v=p[0],y=p[1];return i.createElement(We,{errorMessage:null===r||void 0===r?void 0:r.type},i.createElement(f.Lb,{title:"URL Link"}),i.createElement("input",{type:"text",name:"element-name",value:v,onChange:function(e){o(e.target.value),y(e.target.value)},className:Te.elementTextInput}),i.createElement(f.Lb,{title:"Type of Element"}),i.createElement(f.sm,{"app-variant":null!==r&&void 0!==r&&r.type?"error":"normal","app-container-variant":"noBorder",className:Te.numberOptionsContainer},i.createElement(f.nd,{selected:s,setSelected:function(e){c(e),l(e?"image":"link")},first:"Image",second:"Link",extraClassName:Te.renderBooleansOptions})))},je=function(e){var t=e.defaultValue,n=e.onChangeValue,l=e.validationErrors,o=(0,i.useState)(t),r=(0,a.Z)(o,2),d=r[0],u=r[1];return i.createElement(We,{errorMessage:null===l||void 0===l?void 0:l.type},i.createElement(f.Lb,{title:"Label"}),i.createElement("input",{type:"text",name:"element-name",value:d,onChange:function(e){n(e.target.value),u(e.target.value)},className:Te.elementTextInput}))},qe=function(e){var t=e.onChange,n=e.countryCode,l=e.defaultValue,o=e.validationErrors,r=(0,i.useState)(l),d=(0,a.Z)(r,2),u=d[0],s=d[1];return i.createElement(We,{errorMessage:null===o||void 0===o?void 0:o.country_prefix},i.createElement(f.Lb,{title:"Phone Number Prefix"}),i.createElement(f.sm,{"app-variant":null!==o&&void 0!==o&&o.country_prefix?"error":"normal",className:Te.unfocusableWrapper,onClickOutside:function(){},onClick:function(){var e,t=document.getElementsByClassName("selected-flag");t[0]&&(null===(e=t[0])||void 0===e||e.click())}},i.createElement(Me(),{specialLabel:"",enableSearch:!0,country:null!==n&&void 0!==n?n:"ph",onChange:function(e,n,l){var o="+"+n.dialCode+" "+n.name;s(o),null===t||void 0===t||t({country_prefix:"+".concat(null===n||void 0===n?void 0:n.dialCode),country_code:null===n||void 0===n?void 0:n.countryCode,country_name:null===n||void 0===n?void 0:n.name})},value:u,inputProps:{name:"phone",required:!1,autoFocus:!1},countryCodeEditable:!1,containerClass:Le()(Te.phoneIContainer,Te.borderClass),inputClass:Te.phoneIInput,buttonClass:Te.phoneIButton,dropdownClass:Te.phoneIDropdown,searchClass:Te.phoneISearch}),i.createElement("p",{className:Te.phonePrefixText},null!==u&&void 0!==u?u:"+44 United Kingdom")))},Ue=function(e){var t=e.defaultValue,n=e.onCurrencySelected,l=e.validationErrors,o=(0,i.useState)(void 0),r=(0,a.Z)(o,2),d=r[0],u=r[1],s=(0,i.useState)(!1),c=(0,a.Z)(s,2),m=c[0],p=c[1];return i.createElement(We,{errorMessage:null===l||void 0===l?void 0:l.currency_type},i.createElement(f.Lb,{title:"Currency Type"}),i.createElement(f.sm,{"app-variant":null!==l&&void 0!==l&&l.currency_type?"error":"normal",className:Te.unfocusableWrapper},i.createElement("pre",{className:Te.currencySymbol},null!==d&&void 0!==d&&d.symbol?null===d||void 0===d?void 0:d.symbol:m?"":null===t||void 0===t?void 0:t.symbol," "),i.createElement(f.Ld,{items:v.s3,defaultSelectedItem:t,triggerType:"chevron",className:Te.currencySelectComponent,inputClassName:Te.currencySearchInput,clearControlsClassName:Te.currencyClearControlsClassName,molclassname:Te.currencySelectMenuOverlayList,moliclassname:Te.currencySelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){u(e),n(e),null!==e&&void 0!==e&&e.symbol?p(!1):p(!0)}})))},He=function(e){var t=e.defaultValue,n=e.onActionSelected,l=e.validationErrors,o=(0,i.useState)(void 0),r=(0,a.Z)(o,2),d=(r[0],r[1]),u=(0,i.useState)(!1),s=(0,a.Z)(u,2),c=(s[0],s[1]);return i.createElement(We,{errorMessage:null===l||void 0===l?void 0:l.currency_type},i.createElement(f.Lb,{title:"Action Type"}),i.createElement(f.sm,{"app-variant":null!==l&&void 0!==l&&l.currency_type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.Ld,{items:v.D0,defaultSelectedItem:v.D0.find((function(e){return e.value===t})),triggerType:"chevron",className:Te.currencySelectComponent,inputClassName:Te.currencySearchInput,clearControlsClassName:Te.currencyClearControlsClassName,molclassname:Te.currencySelectMenuOverlayList,moliclassname:Te.currencySelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){d(e),n(e),null!==e&&void 0!==e&&e.symbol?c(!1):c(!0)}})),i.createElement("br",null),i.createElement(f.Lb,{title:"Notes: The Action Button is only shown in the detail popup screen"}))},Ke=function(e){var t=e.defaultValue,n=e.defaultOption,l=e.onProfileSelected,o=e.validationErrors,r=(0,i.useState)(void 0),d=(0,a.Z)(r,2),u=(d[0],d[1]),s=(0,i.useState)(!1),c=(0,a.Z)(s,2),m=(c[0],c[1]),p=[{label:"User that made the transaction",value:"creator"},{label:"Wallet of user that made the transaction",value:"wallet"},{label:"User that accepted the transaction",value:"owner"},{label:"Custom",value:"custom"}];return i.createElement(We,{errorMessage:null===o||void 0===o?void 0:o.currency_type},i.createElement(f.Lb,{title:"Show profile of user"}),i.createElement(f.sm,{"app-variant":null!==o&&void 0!==o&&o.currency_type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.Ld,{items:p,defaultSelectedItem:p.find((function(e){return e.value===t})),triggerType:"chevron",className:Te.currencySelectComponent,inputClassName:Te.currencySearchInput,clearControlsClassName:Te.currencyClearControlsClassName,molclassname:Te.currencySelectMenuOverlayList,moliclassname:Te.currencySelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){u(e),l(e),null!==e&&void 0!==e&&e.symbol?m(!1):m(!0)}})),i.createElement(f.pd,{id:"Show profile picture",title:"Show profile picture?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:null===n||void 0===n?void 0:n.show,toggleSelected:function(e){n.show=e}}))},Xe=function(e){var t,n,l,r,d,u,s,c,m,p,y=e.defaultPr,g=e.defaultJ1,h=e.defaultJ2,C=e.defaultType,S=e.onTypeSelected,b=e.defaultList,E=e.onListSelected,_=e.validationErrors,Z=e.onJump1Selected,w=void 0===Z?function(){}:Z,N=e.onJump2Selected,x=void 0===N?function(){}:N,L=e.companyProcesses,I=e.onProcSelected,M=void 0===I?function(){}:I,O=(0,i.useState)(void 0),k=(0,a.Z)(O,2),T=k[0],P=k[1],B=(0,i.useState)(!1),D=(0,a.Z)(B,2),F=D[0],A=D[1],W=(0,i.useState)(null!==b&&void 0!==b?b:[]),R=(0,a.Z)(W,2),j=R[0],q=R[1],U=(0,i.useState)(!0),H=(0,a.Z)(U,2),K=H[0],X=H[1],Y=(0,i.useState)(""),G=(0,a.Z)(Y,2),J=G[0],Q=G[1],$=(0,i.useState)(g),ee=(0,a.Z)($,2),te=ee[0],ne=ee[1],le=(0,i.useState)(h),oe=(0,a.Z)(le,2),ae=oe[0],ie=oe[1],re=(0,i.useState)(y),de=(0,a.Z)(re,2),ue=de[0],se=de[1],ce=(0,i.useCallback)((function(){X(!0),q((function(e){return[].concat((0,o.Z)(e),[J])})),Q(""),null===E||void 0===E||E([].concat((0,o.Z)(j),[J]))}),[j,J,E]),me=(0,i.useCallback)((function(e){q((function(t){return(0,o.Z)(Pe.reject(Pe.equals(e),t))})),null===E||void 0===E||E((0,o.Z)(Pe.reject(Pe.equals(e),j)))}),[j,E]);return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===_||void 0===_?void 0:_.type},i.createElement(f.Lb,{title:"Dropdown Type"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement("pre",{className:Te.dropdownSymbol},null!==T&&void 0!==T&&T.icon?null===T||void 0===T?void 0:T.icon:F?"":null===C||void 0===C?void 0:C.icon," "),i.createElement(f.rk,{items:v.YX,defaultSelected:C,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){P(e),null===S||void 0===S||S(null!==e&&void 0!==e?e:"single"),null!==e&&void 0!==e&&e.symbol?A(!1):A(!0)}}))),i.createElement(We,{errorMessage:null===_||void 0===_?void 0:_.list},i.createElement(f.Lb,{title:"Dropdown Options"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.list?"error":"normal",className:Te.dropdownListContainer,onClickOutside:(0,i.useCallback)((function(){null===E||void 0===E||E(j)}),[j,E])},K?i.createElement("div",{className:Te.dropDownButtonContainer},i.createElement(f.zx,{light:!0,title:"Add Dropdown Option",clicked:function(){return X(!1)}})):i.createElement("div",{className:Te.dropDownNewListItemInputContainer},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:J,name:"newItem",placeholder:"Type name",onChange:function(e){Q(e.target.value)}}),(null===J||void 0===J?void 0:J.length)>0&&i.createElement("button",{type:"button",onClick:ce,className:Te.dropdownInputButtonSaveNewItem},i.createElement(V.G,{icon:z.g6h}))),i.createElement("div",{className:Te.dropdownListItemsContainer},j&&(null===j||void 0===j?void 0:j.map((function(e,t){return i.createElement(dt,{key:e+t,item:e,isOverflow:(null===j||void 0===j?void 0:j.length)>3,onItemChanged:function(e){q((function(n){return(0,o.Z)(Pe.update(t)(e)(n))}))},onItemRemoved:function(){return me(e)}})})))))),(te||"decision"===(null===T||void 0===T?void 0:T.value))&&i.createElement(We,{errorMessage:null===_||void 0===_?void 0:_.position_id},i.createElement(f.Lb,{title:"Process where to look for step"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},i.createElement(f.rk,{items:L.map((function(e){return{label:e.name,value:e.id,process:e}})),defaultSelected:{label:null===(t=L.find((function(e){return e.id===ue})))||void 0===t?void 0:t.name},className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){se(e.value),null===M||void 0===M||M(e.value)}}))),(te||"decision"===(null===T||void 0===T?void 0:T.value))&&ue&&i.createElement(We,{errorMessage:null===_||void 0===_?void 0:_.position_id},i.createElement(f.Lb,{title:"Dropdown option 1 jumps to step"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},i.createElement(f.rk,{items:null===(n=L.find((function(e){return e.id===ue})))||void 0===n||null===(l=n.steps)||void 0===l?void 0:l.map((function(e){return{label:e.name,value:e.id,step:e}})),defaultSelected:{label:null===(r=L.find((function(e){return e.id===ue})))||void 0===r||null===(d=r.steps)||void 0===d||null===(u=d.find((function(e){return e.id===te})))||void 0===u?void 0:u.name},className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){ne(e.value),null===w||void 0===w||w(e.value)}}))),(ae||"decision"===(null===T||void 0===T?void 0:T.value))&&ue&&i.createElement(We,{errorMessage:null===_||void 0===_?void 0:_.position_id},i.createElement(f.Lb,{title:"Dropdown option 2 jumps to step"}),i.createElement(f.sm,{"app-variant":null!==_&&void 0!==_&&_.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},i.createElement(f.rk,{items:null===(s=L.find((function(e){return e.id===ue})))||void 0===s?void 0:s.steps.map((function(e){return{label:e.name,value:e.id,step:e}})),defaultSelected:{label:null===(c=L.find((function(e){return e.id===ue})))||void 0===c||null===(m=c.steps)||void 0===m||null===(p=m.find((function(e){return e.id===ae})))||void 0===p?void 0:p.name},className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){ie(e.value),null===x||void 0===x||x(e.value)}}))))},Ye=function(e){var t=e.defaultList,n=e.onListSelected,l=e.validationErrors,r=e.title,d=void 0===r?"Dropdown Options":r,u=(0,i.useState)(null!==t&&void 0!==t?t:[]),s=(0,a.Z)(u,2),c=s[0],m=s[1],p=(0,i.useState)(!0),v=(0,a.Z)(p,2),y=v[0],g=v[1],h=(0,i.useState)(""),C=(0,a.Z)(h,2),S=C[0],b=C[1],E=(0,i.useCallback)((function(){g(!0),m((function(e){return[].concat((0,o.Z)(e),[S])})),b(""),null===n||void 0===n||n([].concat((0,o.Z)(c),[S]))}),[c,S,n]),_=(0,i.useCallback)((function(e){m((function(t){return(0,o.Z)(Pe.reject(Pe.equals(e),t))})),null===n||void 0===n||n((0,o.Z)(Pe.reject(Pe.equals(e),c)))}),[c,n]);return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===l||void 0===l?void 0:l.list},i.createElement(f.Lb,{title:d}),i.createElement(f.sm,{"app-variant":null!==l&&void 0!==l&&l.list?"error":"normal",className:Te.dropdownListContainer,onClickOutside:(0,i.useCallback)((function(){null===n||void 0===n||n(c)}),[c,n])},y?i.createElement("div",{className:Te.dropDownButtonContainer},i.createElement(f.zx,{light:!0,title:"Add Options",clicked:function(){return g(!1)}})):i.createElement("div",{className:Te.dropDownNewListItemInputContainer},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:S,name:"newItem",placeholder:"Type name",onChange:function(e){b(e.target.value)}}),(null===S||void 0===S?void 0:S.length)>0&&i.createElement("button",{type:"button",onClick:E,className:Te.dropdownInputButtonSaveNewItem},i.createElement(V.G,{icon:z.g6h}))),i.createElement("div",{className:Te.dropdownListItemsContainer},c&&(null===c||void 0===c?void 0:c.map((function(e,t){return i.createElement(dt,{key:e+t,item:e,isOverflow:(null===c||void 0===c?void 0:c.length)>3,onItemChanged:function(e){m((function(n){return(0,o.Z)(Pe.update(t)(e)(n))}))},onItemRemoved:function(){return _(e)}})})))))))},Ge=function(e){var t=e.defaultList,n=e.validationErrors,l=e.onChangeList,o=e.products;return(0,i.useEffect)((function(){(0,ke.Xp)(1).pipe((0,d.P)()).subscribe({})}),[]),i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===n||void 0===n?void 0:n.position_id},i.createElement(f.Lb,{title:"What products to display?"}),i.createElement(f.sm,{"app-variant":null!==n&&void 0!==n&&n.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:o.map((function(e){return{label:e.name,value:e.product_code}})),itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:void 0===t||0===t.length?[]:t.map((function(e){var t=o.find((function(t){return t.product_code===e}));return{label:null===t||void 0===t?void 0:t.name,value:null===t||void 0===t?void 0:t.product_code}})),className:Te.uploadSelectComponent,inputClassName:Te.uploadSearchInput,molclassname:Te.uploadSelectMenuOverlayList,moliclassname:Te.uploadSelectMenuOverlayListItem,onChange:function(e){null===l||void 0===l||l(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))))},Je=function(e){var t=e.defaultType,n=e.defaultModule,l=e.onModuleSelected,r=e.onTypeSelected,u=e.defaultList,s=e.validationErrors,c=e.allModules,m=e.onChangeList,v=e.multiSelectLabel,y=void 0===v?"Default":v,g=(0,i.useState)(void 0),h=(0,a.Z)(g,2),C=h[0],S=h[1],b=(0,i.useState)(!1),E=(0,a.Z)(b,2),_=E[0],Z=E[1],w=(0,i.useState)(!1),N=(0,a.Z)(w,2)[1],x=(0,i.useState)(void 0===u||0===u.length?[]:u.map((function(e){return{label:e,value:e,blueprint_name:y}}))),L=(0,a.Z)(x,2),I=L[0],M=L[1],O=c.map((function(e){return{label:e.name,value:e.id,module:e}}));return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===s||void 0===s?void 0:s.type},i.createElement(f.Lb,{title:"Module to list"}),i.createElement(f.sm,{"app-variant":null!==s&&void 0!==s&&s.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement("pre",{className:Te.dropdownSymbol},null!==C&&void 0!==C&&C.icon?null===C||void 0===C?void 0:C.icon:_?"":null===n||void 0===n?void 0:n.icon," "),i.createElement(f.rk,{items:O,defaultSelected:n,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){var t;t=e.module.procedure.id,(0,p.zJ)(t).pipe((0,d.P)()).subscribe({next:function(e){var t,n=[];null===(t=e.steps)||void 0===t||t.filter((function(e){e.component_blueprints.filter((function(e){e.selected_fields.filter((function(t){n=[].concat((0,o.Z)(n),[{label:t.field_name,value:t.field_name,blueprint_name:e.name,blueprint_id:e.id}])}))}))})),M([].concat((0,o.Z)(Pe.sortWith([Pe.ascend(Pe.prop("blueprint_name"))])(n)),[{label:"Created Date",value:"Created Date",blueprint_name:"Others"},{label:"Total Qty",value:"Total Qty",blueprint_name:"Others"}])),N(!1)},error:function(e){}}),S(e),null===l||void 0===l||l(e),null!==e&&void 0!==e&&e.symbol?Z(!1):Z(!0)}}))),i.createElement(We,{errorMessage:null===s||void 0===s?void 0:s.position_id},i.createElement(f.Lb,{title:"What fields to display?"}),i.createElement(f.sm,{"app-variant":null!==s&&void 0!==s&&s.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},i.createElement(se.Cm,{items:I,groupedBy:"blueprint_name",groupname:"blueprint_name",triggerType:"chevron",initialSelectedValues:void 0===u||0===u.length?[]:u.map((function(e){return{label:e,value:e,blueprint_name:y}})),className:Te.peoplePositionsSelect,inputClassName:Te.peoplePositionsSelectInput,molclassname:Te.peoplePositionsSelectMenuOverlay,moliclassname:Te.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===m||void 0===m||m(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(We,{errorMessage:null===s||void 0===s?void 0:s.type},i.createElement(f.Lb,{title:"List type"}),i.createElement(f.sm,{"app-variant":null!==s&&void 0!==s&&s.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.rk,{items:[{label:"Table",value:"Table"},{label:"List (max 4 fields displayed)",value:"List"}],defaultSelected:t,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){null===r||void 0===r||r(e),null!==e&&void 0!==e&&e.symbol?Z(!1):Z(!0)}}))))},Qe=function(e){var t=e.defaultOrientation,n=e.defaultKey,l=e.defaultType,d=e.defaultList,u=e.onKeySelected,s=e.onTypeSelected,c=e.validationErrors,m=e.blueprints,p=e.onChangeList,v=e.multiSelectLabel,y=void 0===v?"Default":v,g=e.onChangeOrientation,h=(0,r.v9)((function(e){return e.modalsReducer})),C=h.isOnboarding,S=(0,i.useState)(void 0),b=(0,a.Z)(S,2),E=(b[0],b[1]),_=(0,i.useState)(!1),Z=(0,a.Z)(_,2),w=(Z[0],Z[1]),N=(0,i.useState)(!0),x=(0,a.Z)(N,2)[1],L=(0,i.useState)(void 0===d||0===d.length?[]:d.map((function(e){return{label:e,value:e,blueprint_name:y}}))),I=(0,a.Z)(L,2),M=I[0],O=I[1],k=C?m.map((function(e){return{label:e.name,value:e.id,component:e}})):m.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,component:e}})),T=[{label:"Rows",value:"rows"},{label:"Columns",value:"Columns"}];return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===c||void 0===c?void 0:c.type},i.createElement(f.Lb,{title:"Component where to conduct lookup"}),i.createElement(f.sm,{"app-variant":null!==c&&void 0!==c&&c.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.rk,{items:k,defaultSelected:l,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){!function(e){var t=[];e.fields.filter((function(n){t=[].concat((0,o.Z)(t),[{label:n.value,value:n.value,blueprint_name:e.name,blueprint_id:e.id}])})),O([].concat((0,o.Z)(Pe.sortWith([Pe.ascend(Pe.prop("blueprint_name"))])(t)),[{label:"Created Date",value:"created_date",blueprint_name:"Others"}])),x(!1)}(e.component),E(e),null===s||void 0===s||s(null!==e&&void 0!==e?e:"single"),null!==e&&void 0!==e&&e.symbol?w(!1):w(!0)}}))),i.createElement(We,{errorMessage:null===c||void 0===c?void 0:c.position_id},i.createElement(f.Lb,{title:"What key to use?"}),i.createElement(f.sm,{"app-variant":null!==c&&void 0!==c&&c.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},i.createElement(f.rk,{items:M,defaultSelected:{label:n},className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){var t;null===u||void 0===u||u(null!==(t=e.value)&&void 0!==t?t:"Key")}}))),i.createElement(We,{errorMessage:null===c||void 0===c?void 0:c.position_id},i.createElement(f.Lb,{title:"What fields to display?"}),i.createElement(f.sm,{"app-variant":null!==c&&void 0!==c&&c.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},i.createElement(se.Cm,{items:M,groupedBy:"blueprint_name",groupname:"blueprint_name",triggerType:"chevron",initialSelectedValues:void 0===d||0===d.length?[]:d.map((function(e){return{label:e,value:e,blueprint_name:y}})),className:Te.peoplePositionsSelect,inputClassName:Te.peoplePositionsSelectInput,molclassname:Te.peoplePositionsSelectMenuOverlay,moliclassname:Te.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===p||void 0===p||p(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(We,{errorMessage:null===c||void 0===c?void 0:c.type},i.createElement(f.Lb,{title:"Interface Orientation"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:T,defaultSelectedItem:T.find((function(e){return e.value===t})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){g(e.value),null!==e&&void 0!==e&&e.symbol?w(!1):w(!0)}}))))},$e=function(e){var t,n,d=e.defaultOrientation,u=e.defaultKey,s=e.defaultType,c=e.defaultList,m=e.defaultItemList,p=e.defaultConfig,v=e.onConfigSelected,y=e.onKeySelected,g=e.onTypeSelected,h=e.validationErrors,C=e.blueprints,S=(e.onChangeList,e.onChangeListItems,e.multiSelectLabel,e.onChangeOrientation,e.setFieldOption),b=e.fieldOption,E=(0,r.v9)((function(e){return e.modalsReducer})),_=E.isOnboarding,Z=(0,i.useState)(void 0),w=(0,a.Z)(Z,2),N=(w[0],w[1]),x=(0,i.useState)(!1),L=(0,a.Z)(x,2),I=(L[0],L[1]),M=(0,i.useState)(!0),O=(0,a.Z)(M,2)[1],k=(0,i.useState)(null!==d&&void 0!==d?d:"Donut"),T=(0,a.Z)(k,2),P=T[0],B=T[1],D=(0,i.useState)(s?Pe.sortWith([Pe.ascend(Pe.prop("blueprint_name"))])(C.find((function(e){return e.id===(null===s||void 0===s?void 0:s.value)})).fields.map((function(e){var t=C.find((function(e){return e.id===(null===s||void 0===s?void 0:s.value)}));return{label:e.value,value:e.value,blueprint_name:t.name,blueprint_id:t.id}}))):[]),F=(0,a.Z)(D,2),A=F[0],W=F[1],V=_?Pe.sortWith([Pe.ascend(Pe.prop("name"))])(C).map((function(e){return{label:e.name,value:e.id,component:e}})):Pe.sortWith([Pe.ascend(Pe.prop("name"))])(C).filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,component:e}})),z=[{label:"Donut",value:"Donut"},{label:"Custom",value:"Custom"}],R=[{label:"Count Occurences",value:"occurences"},{label:"Total Quantity",value:"quantity"}];return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===h||void 0===h?void 0:h.type},i.createElement(f.Lb,{title:"Chart Type"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:z,defaultSelectedItem:z.find((function(e){return e.value===d})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){S((0,l.Z)((0,l.Z)({},b),{},{orientation:e.value,list:[],items:[]})),B(e.value),null!==e&&void 0!==e&&e.symbol?I(!1):I(!0)}}))),i.createElement(We,{errorMessage:null===h||void 0===h?void 0:h.type},i.createElement(f.Lb,{title:"Component where to get fields"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.rk,{items:V,defaultSelected:s,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){var t;t=e.component,W([].concat((0,o.Z)(Pe.sortWith([Pe.ascend(Pe.prop("blueprint_name"))])(t.fields.map((function(e){return{label:e.value,value:e.value,blueprint_name:t.name,blueprint_id:t.id}})))),[{label:"Created Date",value:"created_date",blueprint_name:"Others"}])),O(!1),N(e),null===g||void 0===g||g(null!==e&&void 0!==e?e:"single"),null!==e&&void 0!==e&&e.symbol?I(!1):I(!0)}}))),i.createElement(We,{errorMessage:null===h||void 0===h?void 0:h.position_id},i.createElement(f.Lb,{title:"What key to use?"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},i.createElement(f.rk,{items:A,defaultSelected:{label:u},className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){var t;null===y||void 0===y||y(null!==(t=e.value)&&void 0!==t?t:"Key")}}))),"Custom"===P&&i.createElement(We,null,i.createElement(f.Lb,{title:"Chart Config"}),i.createElement("textarea",{id:"chart config",type:"text",name:"element-name",defaultValue:JSON.stringify(p),onChange:function(e){},onBlur:function(){var e,t,n;(function(e){try{JSON.parse(e)}catch(t){return!1}return!0})(null===(e=document.getElementById("chart config"))||void 0===e?void 0:e.value)?(v(JSON.parse(null===(t=document.getElementById("chart config"))||void 0===t?void 0:t.value)),document.getElementById("chart config").style.borderColor="var(--app-color-gray-lighter)"):0===(null===(n=document.getElementById("chart config"))||void 0===n?void 0:n.value.length)?(document.getElementById("chart config").value=JSON.stringify({}),document.getElementById("chart config").style.borderColor="pink"):document.getElementById("chart config").style.borderColor="red"},className:Te.elementTextInput,style:{minHeight:"200px"}})),("Donut"!==P||"Donut"===P&&"quantity"===(null===b||void 0===b?void 0:b.operation))&&0===(null===b||void 0===b||null===(t=b.items)||void 0===t?void 0:t.length)&&i.createElement(We,{errorMessage:null===h||void 0===h?void 0:h.position_id},i.createElement(f.Lb,{title:"What field to use to compute?"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},i.createElement(f.rk,{items:A,defaultSelected:1===(null===c||void 0===c?void 0:c.length)?{label:c[0]}:void 0,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){S((0,l.Z)((0,l.Z)({},b),{},{list:[e.value],items:[]}))}}))),("Donut"!==P||"Donut"===P&&"quantity"===(null===b||void 0===b?void 0:b.operation))&&0===(null===b||void 0===b||null===(n=b.list)||void 0===n?void 0:n.length)&&i.createElement(We,{errorMessage:null===h||void 0===h?void 0:h.position_id},i.createElement(f.Lb,{title:"What item field to use to compute?"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},i.createElement(f.rk,{items:[{label:"Item Code",value:"item_code",blueprint_name:"Items"},{label:"Quantity",value:"quantity",blueprint_name:"Items"},{label:"Value",value:"value",blueprint_name:"Items"},{label:"Value 2",value:"alt_value",blueprint_name:"Items"},{label:"Total",value:"total",blueprint_name:"Items"},{label:"Type",value:"type",blueprint_name:"Items"}],defaultSelected:1===(null===m||void 0===m?void 0:m.length)?{label:m[0]}:void 0,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){S((0,l.Z)((0,l.Z)({},b),{},{items:[e.value],list:[]}))}}))),i.createElement(We,{errorMessage:null===h||void 0===h?void 0:h.type},i.createElement(f.Lb,{title:"Operation to be used"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:R,defaultSelectedItem:R.find((function(e){return e.value===(null===b||void 0===b?void 0:b.operation)})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){S((0,l.Z)((0,l.Z)({},b),{},{operation:null===e||void 0===e?void 0:e.value}))}}))))},et=function(e){var t,n,r,d,u,s=e.defaultValue,c=e.defaultList,m=e.defaultSearchText,p=e.onChangeSearchText,v=e.onChangeList,y=e.onOperatorSelected,g=e.validationErrors,h=e.selectedFields,C=e.blueprints,S=(e.selectLabel,e.setFieldOption),b=e.fieldOption,E=(0,i.useState)(void 0===s?"":s),_=(0,a.Z)(E,2),Z=_[0],w=_[1],N=(0,i.useState)(void 0===c?[]:c),x=(0,a.Z)(N,1)[0],L=(0,i.useState)(void 0===m?"":m),I=(0,a.Z)(L,2),M=I[0],O=I[1],k=[{label:"Sum of the fields (A+B)",id:0,value:"sum",type:"fields"},{label:"Sum of custom fields (F1+..Fn)",id:15,value:"freesum",type:"fields"},{label:"Difference between fields (A-B)",id:1,value:"difference",type:"fields"},{label:"Multiply the fields (A*B)",id:2,value:"multiply",type:"fields"},{label:"Divide the fields (A/B)",id:3,value:"divide",type:"fields"},{label:"Total Difference per field (A1-A2-An)",id:4,value:"tdiff",type:"fields"},{label:"Total Sum per field (A1+A2+An)",id:5,value:"tsum",type:"fields"},{label:"Total Sum per item variable (A1+A2+An)",id:6,value:"itemsum",type:"items"},{label:"Total Difference per item variable (A1-A2-An)",id:7,value:"itemdiff",type:"items"},{label:"Difference between dates (D1-D2-Dn, in days)",id:10,value:"datesdiff",type:"date"},{label:"Difference between today and date (Today-Dn, in days)",id:11,value:"datenowdiff",type:"date"},{label:"Count occurrences of string in field selected",id:12,value:"countocc",type:"fields"},{label:"Count occurrences of date in field selected",id:13,value:"countdateocc",type:"date"},{label:"Compute the distance between two pins",id:14,value:"cmpdistance",type:"pin"}],T=[{label:"Quantity",id:6,value:"qty",type:"items"},{label:"Total",id:8,value:"total",type:"items"},{label:"Value",id:8,value:"value",type:"items"},{label:"Alt Value",id:9,value:"altvalue",type:"items"}],P=[{label:"Set date today",value:"today",type:"Date"},{label:"Set date tomorrow",value:"tomorrow",type:"Date"},{label:"Set date one month from today",value:"month",type:"Date"},{label:"Set date one week from today",value:"week",type:"Date"},{label:"None",value:"none",type:"Date"}],B=h.filter((function(e){return""!=e.value&&("Value Button"===e.field_type.name||"Number"===e.field_type.name||"Formula"===e.field_type.name)})).map((function(e){return{label:e.value,value:e.id,field_name:e.field_type.name}})),D=h.filter((function(e){return""!=e.value&&"Date"===e.field_type.name})).map((function(e){return{label:e.value,value:e.id,field_name:"Dates"}})),F=[].concat.apply([],C.map((function(e){return[].concat.apply([],e.fields)}))).map((function(e){return{label:e.value,value:e.id,type:e.name}}));return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===g||void 0===g?void 0:g.type},i.createElement(f.Lb,{title:"Operation to perform"}),i.createElement(f.sm,{"apps-variant":null!==g&&void 0!==g&&g.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:k,defaultSelectedItem:k.find((function(e){return e.value===Z})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){w(e.value),y(e.value)}}))),"freesum"!==Z&&i.createElement(We,{errorMessage:null===g||void 0===g?void 0:g.accepted_mimes},i.createElement(f.Lb,{title:"sum"===Z||"difference"===Z||"multiply"===Z||"divide"===Z?"Fields to perform selected operation":"Field to perform selected operation"}),i.createElement(f.sm,{"app-variant":null!==g&&void 0!==g&&g.accepted_mimes?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},"datesdiff"===Z||"datenowdiff"===Z||"sum"===Z||"difference"===Z||"multiply"===Z||"divide"===Z?i.createElement(se.Cm,{items:"datesdiff"===Z||"datenowdiff"===Z?D:B,groupedBy:"field_name",groupname:"field_name",triggerType:"chevron",initialSelectedValues:"datesdiff"===Z||"datenowdiff"===Z?D.filter((function(e){return(null===x||void 0===x?void 0:x.indexOf(null===e||void 0===e?void 0:e.label))>-1})):B.filter((function(e){return(null===x||void 0===x?void 0:x.indexOf(null===e||void 0===e?void 0:e.label))>-1})),className:Te.peoplePositionsSelect,inputClassName:Te.peoplePositionsSelectInput,molclassname:Te.peoplePositionsSelectMenuOverlay,moliclassname:Te.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===v||void 0===v||v(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.label})))}}):"itemdiff"===Z||"itemsum"===Z?i.createElement(f.Ld,{triggerType:"chevron",items:T,defaultSelectedItem:x.length>0&&null!==(t=T.find((function(e){return e.value===x[0]})))&&void 0!==t?t:{},className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){null===v||void 0===v||v([null===e||void 0===e?void 0:e.value])}}):"cmpdistance"===Z?i.createElement(se.Cm,{items:F.filter((function(e){return"Pin"===e.type})),groupedBy:"type",groupname:"type",triggerType:"chevron",initialSelectedValues:F.filter((function(e){return"Pin"===e.type})).filter((function(e){return(null===x||void 0===x?void 0:x.indexOf(null===e||void 0===e?void 0:e.label))>-1})),className:Te.peoplePositionsSelect,inputClassName:Te.peoplePositionsSelectInput,molclassname:Te.peoplePositionsSelectMenuOverlay,moliclassname:Te.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===v||void 0===v||v(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.label})))}}):i.createElement(f.Ld,{triggerType:"chevron",items:Pe.sortWith([Pe.ascend(Pe.prop("label"))])((0,o.Z)(new Set(F.filter((function(e){return"countdateocc"===Z?"Date"===e.type:"Text"===e.type&&"countocc"===Z||"Number"===e.type||"Status"===e.type||"Formula"===e.type||"Currency"===e.type})).map((function(e){return e.label})))).map((function(e){return{label:e,value:e}}))),defaultSelectedItem:x.length>0?{label:x[0]}:{},className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){null===v||void 0===v||v([null===e||void 0===e?void 0:e.label])}}))),"countocc"===Z&&i.createElement(We,{errorMessage:null===g||void 0===g?void 0:g.name},i.createElement(f.Lb,{title:"Input text to search"}),i.createElement("input",{type:"text",name:"element-name",value:M,onChange:function(e){O(e.target.value),p(e.target.value)},className:Te.elementTextInput})),"countdateocc"===Z&&i.createElement(We,{errorMessage:null===g||void 0===g?void 0:g.name},i.createElement(f.Lb,{title:"Select date to match with"}),i.createElement(f.sm,{"app-variant":null!==g&&void 0!==g&&g.accepted_mimes?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},i.createElement(f.Ld,{triggerType:"chevron",items:P,defaultSelectedItem:m&&P.find((function(e){return e.value===m})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){p(null===e||void 0===e?void 0:e.value)}}))),i.createElement(We,{errorMessage:null===g||void 0===g?void 0:g.type},i.createElement(f.Lb,{title:"Output display"}),i.createElement(f.sm,{"apps-variant":null!==g&&void 0!==g&&g.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.Ld,{triggerType:"chevron",items:Be,defaultSelectedItem:Be.find((function(e){return e.value===(null===b||void 0===b?void 0:b.display)})),className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},onChange:function(e){S((0,l.Z)((0,l.Z)({},b),{},{display:null===e||void 0===e?void 0:e.value}))}}))),"bar"===(null===b||void 0===b?void 0:b.display)&&i.createElement(We,{errorMessage:null===g||void 0===g?void 0:g.name},i.createElement(f.Lb,{title:"Maximum Value"}),i.createElement("input",{type:"text",name:"element-name",value:b.max,onBlur:function(e){S((0,l.Z)((0,l.Z)({},b),{},{max:e.target.value}))},className:Te.elementTextInput}),i.createElement(f.Lb,{title:"Color - Formula Value"}),i.createElement("input",{type:"text",className:Te.elementTextInput,style:{borderRight:"white"===(null===b||void 0===b?void 0:b.barC)?"white":"50px solid ".concat(null!==(n=null===b||void 0===b?void 0:b.barC)&&void 0!==n?n:"#F6F4EC")},defaultValue:null!==(r=null===b||void 0===b?void 0:b.barC)&&void 0!==r?r:"#F6F4EC",onBlur:function(e){return S((0,l.Z)((0,l.Z)({},b),{},{barC:e.target.value}))}}),i.createElement(f.Lb,{title:"Color - Formula Max Value"}),i.createElement("input",{type:"text",className:Te.elementTextInput,style:{borderRight:"white"===(null===b||void 0===b?void 0:b.maxC)?"white":"50px solid ".concat(null!==(d=null===b||void 0===b?void 0:b.maxC)&&void 0!==d?d:"yellow")},defaultValue:null!==(u=null===b||void 0===b?void 0:b.maxC)&&void 0!==u?u:"yellow",onBlur:function(e){return S((0,l.Z)((0,l.Z)({},b),{},{maxC:e.target.value}))}})),i.createElement("br",null),i.createElement("p",{className:Te.elementInputTitle},"Ensure fields are set to the appropriate type (number, dates, currency, etc)"))},tt=function(e){var t,n,o,r,d,u,s=e.options,c=e.setFieldOption,m=e.fieldOption,p=e.validationErrors,v=(0,i.useState)(null!==(t=s.subject)&&void 0!==t?t:""),y=(0,a.Z)(v,2),g=y[0],h=y[1],C=(0,i.useState)(null!==(n=s.message)&&void 0!==n?n:""),S=(0,a.Z)(C,2),b=S[0],E=S[1],_=(0,i.useState)(null!==(o=s.message2)&&void 0!==o?o:""),Z=(0,a.Z)(_,2),w=Z[0],N=Z[1],x=(0,i.useState)(null!==(r=s.valueToMatch)&&void 0!==r?r:""),L=(0,a.Z)(x,2),I=L[0],M=L[1],O=(0,i.useState)(null!==(d=s.copyEmailRecip)&&void 0!==d?d:""),k=(0,a.Z)(O,2),T=k[0],P=k[1],B=(0,i.useState)(null!==(u=s.fieldToMatch)&&void 0!==u?u:""),D=(0,a.Z)(B,2),F=D[0],A=D[1];return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===p||void 0===p?void 0:p.name},i.createElement(f.Lb,{title:"Email subject"}),i.createElement("input",{type:"text",name:"element-name",value:null!==g&&void 0!==g?g:"",onChange:function(e){c((0,l.Z)((0,l.Z)({},m),{},{message2:w,message:b,subject:e.target.value,copyEmailRecip:T})),h(e.target.value)},className:Te.elementTextInput})),i.createElement(We,{errorMessage:null===p||void 0===p?void 0:p.name},i.createElement(f.Lb,{title:"Custom email message to selected recipients"}),i.createElement("textarea",{type:"text",name:"element-name",value:null!==b&&void 0!==b?b:"",onChange:function(e){c((0,l.Z)((0,l.Z)({},m),{},{subject:g,message:e.target.value,message2:w,copyEmailRecip:T})),E(e.target.value)},className:Te.elementTextInput,style:{height:"100px"}})),i.createElement(We,{errorMessage:null===p||void 0===p?void 0:p.name},i.createElement(f.Lb,{title:"Custom email message to creator"}),i.createElement("textarea",{type:"text",name:"element-name",value:null!==w&&void 0!==w?w:"",onChange:function(e){c((0,l.Z)((0,l.Z)({},m),{},{subject:g,message:b,message2:e.target.value,copyEmailRecip:T})),N(e.target.value)},className:Te.elementTextInput,style:{height:"100px"}})),i.createElement(We,null,i.createElement(f.Lb,{title:"Field to check to trigger email"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:F,name:"matched to field",onChange:function(e){A(e.target.value),c((0,l.Z)((0,l.Z)({},m),{},{subject:g,message:b,message2:w,fieldToMatch:e.target.value,valueToMatch:I,copyEmailRecip:T}))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Values of field to trigger the email (Note: Use ' , ' to seperate)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:I,name:"matched to field",onChange:function(e){M(e.target.value),c((0,l.Z)((0,l.Z)({},m),{},{subject:g,message:b,message2:w,fieldToMatch:F,valueToMatch:e.target.value,copyEmailRecip:T}))}}))),i.createElement(f.pd,{id:"Copy default email recipients",title:"Copy default email recipients?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:T,toggleSelected:function(e){P(e),c((0,l.Z)((0,l.Z)({},m),{},{subject:g,message:b,message2:w,fieldToMatch:F,valueToMatch:I,copyEmailRecip:e}))}}))},nt=function(e){var t=e.defaultValue,n=e.defaultField,l=e.onChangeField,o=e.onChangeValue,r=e.validationErrors,d=e.blueprints,u=(0,i.useState)(void 0===t?"":t),s=(0,a.Z)(u,2),c=s[0],m=s[1],p=(0,i.useState)(void 0===n?"":n),v=(0,a.Z)(p,1)[0],y=[].concat.apply([],d.map((function(e){return[].concat.apply([],e.fields)}))).map((function(e){return{label:e.value,value:e.id,type:e.name}}));return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===r||void 0===r?void 0:r.accepted_mimes},i.createElement(f.Lb,{title:"Field to perform filter"}),i.createElement(f.sm,{"app-variant":null!==r&&void 0!==r&&r.accepted_mimes?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},i.createElement(f.Ld,{triggerType:"chevron",items:y,defaultSelectedItem:v.length>0?{label:v}:{},className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){null===l||void 0===l||l(null===e||void 0===e?void 0:e.label)}}))),i.createElement(We,{errorMessage:null===r||void 0===r?void 0:r.name},i.createElement(f.Lb,{title:"Input text to search"}),i.createElement("input",{type:"text",name:"element-name",value:c,onChange:function(e){o(e.target.value),m(e.target.value)},className:Te.elementTextInput})),i.createElement("br",null))},lt=function(e){var t,n=e.defaultRefName,l=e.onReferenceLabel,o=e.validationErrors,r=e.onTargetSelected,d=e.onChangeList,u=e.onTypeSelected,s=e.defaultTarget,c=e.defaultType,m=e.bpContext,p=e.defaultList,v=(0,i.useState)(!1),y=(0,a.Z)(v,2)[1],g=(0,i.useState)({}),h=(0,a.Z)(g,2)[1],C=(0,i.useState)(void 0==s?[]:null===s||void 0===s||null===(t=s.fields)||void 0===t?void 0:t.map((function(e){return{label:e.value,value:e.value}}))),S=(0,a.Z)(C,2),b=S[0],E=S[1],_=(0,i.useState)(void 0==p?[]:(null===p||void 0===p?void 0:p.length)>0?p.map((function(e){return{label:e,value:e,component_name:"Fields"}})):[]),Z=(0,a.Z)(_,2),w=Z[0],N=Z[1],x=(0,i.useState)(m.allBlueprintComponents.filter((function(e){return!1===e.readonly})).filter((function(e){return e.fields.filter((function(e){return"Product ID"===e.value})).length>0})).map((function(e){return{label:e.name,value:e.id,blueprint:e}}))),L=(0,a.Z)(x,1)[0];return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===o||void 0===o?void 0:o.type},i.createElement(f.Lb,{title:"Component where to conduct lookup of Product"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:L,defaultSelectedItem:{label:null===s||void 0===s?void 0:s.name,value:null===s||void 0===s?void 0:s.id},className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){E(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),N(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),h(e),r(e.value),null!==e&&void 0!==e&&e.symbol?y(!1):y(!0)}}))),i.createElement(We,{errorMessage:null===o||void 0===o?void 0:o.type},i.createElement(f.Lb,{title:"Display label for Components found"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:b,defaultSelectedItem:{label:n,value:n},className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){l(e.value)}}))),i.createElement(We,{errorMessage:null===o||void 0===o?void 0:o.accepted_mimes},i.createElement(f.Lb,{title:"Fields to output"}),i.createElement(f.sm,{"app-variant":null!==o&&void 0!==o&&o.accepted_mimes?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:w,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:0===(null===p||void 0===p?void 0:p.length)?[]:p.map((function(e){return{label:e,value:e}})),className:Te.uploadSelectComponent,inputClassName:Te.uploadSearchInput,molclassname:Te.uploadSelectMenuOverlayList,moliclassname:Te.uploadSelectMenuOverlayListItem,onChange:function(e){null===d||void 0===d||d(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(We,{errorMessage:null===o||void 0===o?void 0:o.type},i.createElement(f.Lb,{title:"Interface Type"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:[{label:"Dropdown",value:"Dropdown"},{label:"Tiles",value:"Tiles"},{label:"Columns",value:"Columns"}],defaultSelectedItem:c,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){u(e.value),null!==e&&void 0!==e&&e.symbol?y(!1):y(!0)}}))))},ot=function(e){var t=e.validationErrors,n=e.onTargetSelected,l=e.onOutputSelected,o=e.onGlobalSelected,d=e.defaultTarget,u=e.defaultGlobal,s=e.bpContext,c=e.onFilterList,m=e.defaultFilters,p=e.defaultOutput,v=(0,r.v9)((function(e){return e.modalsReducer})),y=v.isOnboarding,g=(0,i.useState)(!1),h=(0,a.Z)(g,2)[1],C=(0,i.useState)({}),S=(0,a.Z)(C,2)[1],b=(0,i.useState)(void 0==m?[]:(null===m||void 0===m?void 0:m.length)>0?m.map((function(e){return{label:e,value:e,component_name:"Fields"}})):[]),E=(0,a.Z)(b,2),_=E[0],Z=E[1],w=(0,i.useState)(y?s.allBlueprintComponents.map((function(e){return{label:e.name,value:e.id,blueprint:e}})):s.allBlueprintComponents.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}}))),N=(0,a.Z)(w,1)[0],x=(0,i.useState)(void 0==d?[]:d.fields.map((function(e){return{label:e.value,value:e.value}}))),L=(0,a.Z)(x,2),I=L[0],M=L[1];return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===t||void 0===t?void 0:t.type},i.createElement(f.Lb,{title:"Component where to conduct lookup"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:N,defaultSelectedItem:{label:null===d||void 0===d?void 0:d.name,value:null===d||void 0===d?void 0:d.id},className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){Z(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),M(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),S(e),n(e.value),null!==e&&void 0!==e&&e.symbol?h(!1):h(!0)}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Fields to filter (enter in order of filter, max 3)"}),i.createElement(f.sm,{"app-variant":null!==t&&void 0!==t&&t.accepted_mimes?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:_,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:0===(null===m||void 0===m?void 0:m.length)?[]:null===m||void 0===m?void 0:m.map((function(e){return{label:e,value:e}})),className:Te.uploadSelectComponent,inputClassName:Te.uploadSearchInput,molclassname:Te.uploadSelectMenuOverlayList,moliclassname:Te.uploadSelectMenuOverlayListItem,onChange:function(e){null===c||void 0===c||c(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(We,{errorMessage:null===t||void 0===t?void 0:t.accepted_mimes},i.createElement(f.Lb,{title:"Use a global field to filter components (Optional)"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:{label:u,value:u},className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){o(e.value)}}))),i.createElement(We,{errorMessage:null===t||void 0===t?void 0:t.accepted_mimes},i.createElement(f.Lb,{title:"Field value to save as output"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:I,defaultSelectedItem:{label:p,value:p},className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){l(e.value)}}))))},at=function(e){var t=e.defaultGlobal,n=(e.defaultRefName,e.defaultSrcName),l=e.onSourceLabel,o=(e.onReferenceLabel,e.defaultValue),d=e.validationErrors,u=e.onSourceSelected,s=e.onTargetSelected,c=e.onFieldSelected,m=e.onChangeList,p=e.onTypeSelected,v=e.defaultCommon,y=e.defaultTarget,g=e.defaultType,h=e.bpContext,C=e.defaultList,S=e.defaultRefList,b=e.onChangeRList,E=e.onGlobalSelected,_=e.onSetShowAll,Z=e.showAllDefault,w=(0,i.useState)("none"),N=(0,a.Z)(w,2),x=N[0],L=N[1],I=(0,r.v9)((function(e){return e.modalsReducer})),M=I.isOnboarding,O=(0,i.useState)(!1),k=(0,a.Z)(O,2)[1],T=(0,i.useState)({}),P=(0,a.Z)(T,2),B=P[0],D=P[1],F=(0,i.useState)({}),A=(0,a.Z)(F,2)[1],W=(0,i.useState)({}),V=(0,a.Z)(W,2)[1],z=(0,i.useState)([]),R=(0,a.Z)(z,2),j=R[0],q=R[1],U=(0,i.useState)([]),H=(0,a.Z)(U,2),K=H[0],X=H[1],Y=(0,i.useState)([]),G=(0,a.Z)(Y,2),J=G[0],Q=G[1],$=(0,i.useState)(void 0===S||0===S.length?[]:S.map((function(e){return{label:e,value:e,component_name:"Fields"}}))),ee=(0,a.Z)($,2),te=(ee[0],ee[1],(0,i.useState)(void 0===C||0===C.length?[]:C.map((function(e){return{label:e,value:e,component_name:"Fields"}})))),ne=(0,a.Z)(te,2),le=ne[0],oe=ne[1],ae=(0,i.useState)([]),ie=(0,a.Z)(ae,2),re=ie[0],de=ie[1];(0,i.useEffect)((function(){ue()}),[]);var ue=(0,i.useCallback)((function(){var e=M?h.allBlueprintComponents.map((function(e){return{label:e.name,value:e.id,blueprint:e}})):h.allBlueprintComponents.filter((function(e){return 0==e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}}));if(de(e),o&&e){var t,n=null===(t=e.find((function(e){return e.label===o.label})))||void 0===t?void 0:t.blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e}})),l=e.find((function(e){return e.label===o.label}));if(q(l.blueprint.fields.map((function(e){var t;return{label:e.value,value:e.id,field:e,component_name:null===(t=l.blueprint)||void 0===t?void 0:t.name}}))),v&&(null===n||void 0===n?void 0:n.length)>0){var a=null===e||void 0===e?void 0:e.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.blueprint.fields)||void 0===t?void 0:t.filter((function(e){return e.value===v.label})).length)>0})).filter((function(e){return e.label!==o.label})).map((function(e){return{label:e.label,value:e.value,component:e.blueprint}}));if(X(a),y&&(null===a||void 0===a?void 0:a.length)>0){var i,r,d,u,s,c,m;Q(null!==(i=null===a||void 0===a||null===(r=a.find((function(e){return e.label===y.label})))||void 0===r||null===(d=r.component)||void 0===d||null===(u=d.fields)||void 0===u?void 0:u.map((function(e){return{label:e.value,value:e.value,component_name:y.label}})))&&void 0!==i?i:[]);var p=e.find((function(e){return e.label===o.label}));oe(null!==(s=null===a||void 0===a||null===(c=a.find((function(e){return e.label===y.label})))||void 0===c||null===(m=c.component.fields)||void 0===m?void 0:m.map((function(e){return{label:e.value,value:e.value,component_name:y.label}})).concat(null===p||void 0===p?void 0:p.blueprint.fields.map((function(e){return{label:e.value,value:e.value,component_name:p.label}}))))&&void 0!==s?s:[])}}}setTimeout((function(){return L("")}))}));return""===x&&i.createElement("div",{className:Te.dropdownElementHost,style:{display:x}},i.createElement(We,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Category Component"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:re,defaultSelectedItem:o,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){var t=re.find((function(t){return t.value===e.value}));q(t.blueprint.fields.map((function(e){var n;return{label:e.value,value:e.id,field:e,component_name:null===(n=t.blueprint)||void 0===n?void 0:n.name}}))),D(e),u(e.value)}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Display label for Category Component"}),i.createElement(f.sm,{"app-variant":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},i.createElement(se.Cm,{tagEmplacement:"inlined",items:null!==j&&void 0!==j?j:[],groupedBy:"component_name",groupname:"component_name",triggerType:"chevron",initialSelectedValues:void 0===n||0===n.length?[]:n.map((function(e){return null===j||void 0===j?void 0:j.find((function(t){return t.label===e}))})),className:Te.peoplePositionsSelect,inputClassName:Te.peoplePositionsSelectInput,molclassname:Te.peoplePositionsSelectMenuOverlay,moliclassname:Te.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===l||void 0===l||l(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.label})))}}))),i.createElement(We,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Common field for lookup"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:j,defaultSelectedItem:v,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){if(e){var t=M?re.filter((function(t){var n,l;return(null===t||void 0===t||null===(n=t.blueprint)||void 0===n||null===(l=n.fields)||void 0===l?void 0:l.filter((function(t){return t.value===e.label})).length)>0})):re.filter((function(e){return!1===e.blueprint.readonly})).filter((function(t){var n,l;return(null===t||void 0===t||null===(n=t.blueprint)||void 0===n||null===(l=n.fields)||void 0===l?void 0:l.filter((function(t){return t.value===e.label})).length)>0}));X(t.filter((function(e){return e.label!==B.label})).map((function(e){return{label:e.label,value:e.value,component:e.blueprint}}))),V(e),c(e.label),null!==e&&void 0!==e&&e.symbol?k(!1):k(!0)}}}))),i.createElement(We,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Component where to conduct lookup"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:K,defaultSelectedItem:y,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){var t;Q(null!==(t=e.component.fields.map((function(t){return{label:t.value,value:t.value,component_name:e.label}})))&&void 0!==t?t:[]),oe(e.component.fields.map((function(t){return{label:t.value,value:t.value,component_name:e.label}})).concat(B.blueprint.fields.map((function(e){return{label:e.value,value:e.value,component_name:B.label}})))),A(e),s(e.value),null!==e&&void 0!==e&&e.symbol?k(!1):k(!0)}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Use a global field to filter components (Optional)"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:le,defaultSelectedItem:{label:t,value:t},className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){E(e.value)}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Fields to display for Components found"}),i.createElement(f.sm,{"app-variant":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},i.createElement(se.Cm,{tagEmplacement:"inlined",items:null!==J&&void 0!==J?J:[],groupedBy:"component_name",groupname:"component_name",triggerType:"chevron",initialSelectedValues:void 0===S||0===S.length?[]:S.map((function(e){return{label:e,value:e,component_name:"Fields"}})),className:Te.peoplePositionsSelect,inputClassName:Te.peoplePositionsSelectInput,molclassname:Te.peoplePositionsSelectMenuOverlay,moliclassname:Te.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===b||void 0===b||b(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(We,{errorMessage:null===d||void 0===d?void 0:d.accepted_mimes},i.createElement(f.Lb,{title:"Fields to output"}),i.createElement(f.sm,{"app-variant":null!==d&&void 0!==d&&d.accepted_mimes?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},i.createElement(se.Cm,{tagEmplacement:"inlined",items:le,groupedBy:"component_name",groupname:"component_name",triggerType:"chevron",initialSelectedValues:null===le||void 0===le?void 0:le.filter((function(e){return-1!==(null===C||void 0===C?void 0:C.indexOf(e.label))})),className:Te.peoplePositionsSelect,inputClassName:Te.peoplePositionsSelectInput,molclassname:Te.peoplePositionsSelectMenuOverlay,moliclassname:Te.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===m||void 0===m||m(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(We,{errorMessage:null===d||void 0===d?void 0:d.type},i.createElement(f.Lb,{title:"Interface Type"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:[{label:"Dropdown",value:"Dropdown"},{label:"Tiles",value:"Tiles"}],defaultSelectedItem:g,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){p(e.value),null!==e&&void 0!==e&&e.symbol?k(!1):k(!0)}}))),i.createElement(f.pd,{id:"Show all choices immediately",title:"Show all choices immediately?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:Z,toggleSelected:function(e){_(e)}}))},it=function(e){var t=e.defaultInputComponent1,n=e.defaultComponent1,l=e.defaultComponent2,o=e.defaultComponent3,d=e.defaultCommon12,u=e.defaultCommon23,s=e.defaultOutputs,c=void 0===s?[]:s,m=e.onComponent1Selected,p=e.onComponent1InputSelected,v=e.onComponent2Selected,y=e.onComponent3Selected,g=e.onCommon12Selected,h=e.onCommon23Selected,C=e.onOutputsSelected,S=e.validationErrors,b=e.bpContext,E=(0,r.v9)((function(e){return e.modalsReducer})),_=E.isOnboarding,Z=(0,i.useState)(_?b.allBlueprintComponents.map((function(e){return{label:e.name,value:e.id,blueprint:e}})):b.allBlueprintComponents.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}}))),w=(0,a.Z)(Z,1)[0],N=(0,i.useState)(!1),x=(0,a.Z)(N,2)[1],L=(0,i.useState)({}),I=(0,a.Z)(L,2),M=I[0],O=I[1],k=(0,i.useState)(n?w.find((function(e){return e.label===n.label})).blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e,component_name:n.label}})):[]),T=(0,a.Z)(k,2),P=T[0],B=T[1],D=(0,i.useState)(l?w.find((function(e){return e.label===l.label})).blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e,component_name:l.label}})):[]),F=(0,a.Z)(D,2),A=F[0],W=F[1],V=(0,i.useState)([]),z=(0,a.Z)(V,2),R=z[0],j=z[1],q=(0,i.useState)([]),U=(0,a.Z)(q,2),H=U[0],K=U[1];return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===S||void 0===S?void 0:S.type},i.createElement(f.Lb,{title:"Input Component (A)"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:w,defaultSelectedItem:n,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){var t=w.find((function(t){return t.value===e.value}));B(t.blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e}}))),O(e),m(e.value)}}))),i.createElement(We,{errorMessage:null===S||void 0===S?void 0:S.type},i.createElement(f.Lb,{title:"Input field to use with component (A)"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:P,defaultSelectedItem:t,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){p(e.label),null!==e&&void 0!==e&&e.symbol?x(!1):x(!0)}}))),i.createElement(We,{errorMessage:null===S||void 0===S?void 0:S.type},i.createElement(f.Lb,{title:"Common field for first lookup, A + B"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:P,defaultSelectedItem:d,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){var t=w.filter((function(t){return t.blueprint.fields.filter((function(t){return t.value===e.label})).length>0}));j(t.filter((function(e){return e.label!==M.label})).map((function(e){return{label:e.label,value:e.value,component:e.blueprint}}))),g(e.label),null!==e&&void 0!==e&&e.symbol?x(!1):x(!0)}}))),i.createElement(We,{errorMessage:null===S||void 0===S?void 0:S.type},i.createElement(f.Lb,{title:"Target component (B) where value will come from"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:R,defaultSelectedItem:l,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){var t=w.find((function(t){return t.value===e.value}));W(t.blueprint.fields.map((function(e){return{label:e.value,value:e.id,field:e,component_name:t.blueprint.name}}))),v(e.value),null!==e&&void 0!==e&&e.symbol?x(!1):x(!0)}}))),i.createElement(We,{errorMessage:null===S||void 0===S?void 0:S.type},i.createElement(f.Lb,{title:"Common field for second lookup, B + C"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:A,defaultSelectedItem:u,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){var t=w.filter((function(t){return t.blueprint.fields.filter((function(t){return t.value===e.label})).length>0}));K(t.filter((function(e){return e.label!==M.label})).map((function(e){return{label:e.label,value:e.value,component:e.blueprint}}))),h(e.label),null!==e&&void 0!==e&&e.symbol?x(!1):x(!0)}}))),i.createElement(We,{errorMessage:null===S||void 0===S?void 0:S.type},i.createElement(f.Lb,{title:"Component (C) where to conduct second lookup"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:H,defaultSelectedItem:o,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){y(e.value),null!==e&&void 0!==e&&e.symbol?x(!1):x(!0)}}))),i.createElement(We,{errorMessage:null===S||void 0===S?void 0:S.accepted_mimes},i.createElement(f.Lb,{title:"Fields to display from target component (B)"}),i.createElement(f.sm,{"app-variant":null!==S&&void 0!==S&&S.accepted_mimes?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},i.createElement(se.Cm,{tagEmplacement:"inlined",items:A,groupedBy:"component_name",groupname:"component_name",triggerType:"chevron",initialSelectedValues:void 0===c||0===c.length?[]:c.map((function(e){var t;return{label:e,value:null===(t=A.find((function(t){return t.label===e})))||void 0===t?void 0:t.value,component_name:l.label}})),className:Te.peoplePositionsSelect,inputClassName:Te.peoplePositionsSelectInput,molclassname:Te.peoplePositionsSelectMenuOverlay,moliclassname:Te.peoplePositionsSelectMenuOverlayItem,onChange:function(e){null===C||void 0===C||C(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.label})))}}))))},rt=function(e){var t,n=e.defaultMaxSize,l=e.onMaxFileSizeChanged,o=e.defaultList,r=e.onListSelected,d=e.validationErrors,u=(0,i.useState)(null===(t=null!==n&&void 0!==n?n:0)||void 0===t?void 0:t.toString()),s=(0,a.Z)(u,2),c=s[0],m=s[1];return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===d||void 0===d?void 0:d.max_file_size},i.createElement(f.Lb,{title:"Maximum file size"}),i.createElement(f.sm,{"app-variant":null!==d&&void 0!==d&&d.max_file_size?"error":"normal",className:Te.unfocusableWrapper},i.createElement("input",{type:"text",placeholder:"Insert max size in MB",className:Te.maxFileSizeInput,value:c,name:"file max size",onChange:function(e){var t=e.target.value;Number(+t)?(m(t),null===l||void 0===l||l(t)):""===t&&(m(""),null===l||void 0===l||l("0"))}}),i.createElement("pre",{className:Te.uploadFileSizeMeasureUnit},"MB"))),i.createElement(We,{errorMessage:null===d||void 0===d?void 0:d.accepted_mimes},i.createElement(f.Lb,{title:"Type of Files"}),i.createElement(f.sm,{"app-variant":null!==d&&void 0!==d&&d.accepted_mimes?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"top",items:v.cH,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:null===v.cH||void 0===v.cH?void 0:v.cH.filter((function(e){var t;return(null===o||void 0===o?void 0:o.indexOf(null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.replaceAll(".","")))>-1})),className:Te.uploadSelectComponent,inputClassName:Te.uploadSearchInput,molclassname:Te.uploadSelectMenuOverlayList,moliclassname:Te.uploadSelectMenuOverlayListItem,onChange:function(e){null===r||void 0===r||r(e.map((function(e){var t;return null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.replaceAll(".","")})).join(","))}}))))},dt=function(e){var t=e.item,n=e.onItemChanged,l=e.onItemRemoved,o=e.isOverflow,r=(0,i.useState)(t),d=(0,a.Z)(r,2),u=d[0],s=d[1],c=(0,i.useState)(!1),m=(0,a.Z)(c,2),p=m[0],v=m[1];return i.createElement(f.sm,{className:Te.renderEditableListContainer,"app-variant":o?"overflow":"",onClickOutside:function(){v(!1),s(t)}},i.createElement("input",{onFocus:function(){v(!0)},type:"text",className:Te.renderEditableListItemInput,value:u,name:"editItem",onChange:function(e){v(!0),s(e.target.value)}}),p&&i.createElement("button",{type:"button",onClick:function(e){null===n||void 0===n||n(u)},className:Te.renderEditableListItemDeleteButton},i.createElement(Oe.nQX,null)),p&&i.createElement("button",{type:"button",onClick:function(e){null===l||void 0===l||l(t)},className:Te.renderEditableListItemDeleteButton},i.createElement(Oe.EUP,null)))},ut=function(e){var t,n,l,o,d,u,s=e.defaultFilters,c=e.defaultValue,m=e.nameValues,p=e.defaultList,v=e.onListSelected,y=e.onComponentSelected,g=e.onGlobalSelected,h=e.blueprints,C=e.onTypeSelected,S=e.defaultType,b=e.defaultOutputField,E=e.defaultGlobal,_=e.onNamesSelected,Z=e.onOutputFieldSelected,w=e.onFilterList,N=(0,r.v9)((function(e){return e.modalsReducer})),x=N.isOnboarding,L=(0,i.useState)(void 0),I=(0,a.Z)(L,2),M=I[0],O=I[1],k=(0,i.useState)(!1),T=(0,a.Z)(k,2),P=T[0],B=T[1],D=(0,i.useState)(x?null!==(t=null===h||void 0===h?void 0:h.map((function(e){return{label:e.name,value:e.id,blueprint:e}})))&&void 0!==t?t:[]:h.filter((function(e){return!1===e.readonly})).length>0?h.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}})):null!==(n=null===h||void 0===h?void 0:h.map((function(e){return{label:e.name,value:e.id,blueprint:e}})))&&void 0!==n?n:[]),F=(0,a.Z)(D,1)[0],A=(0,i.useState)(void 0==s?[]:(null===s||void 0===s?void 0:s.length)>0?s.map((function(e){return{label:e,value:e,component_name:"Fields"}})):[]),W=(0,a.Z)(A,2),R=W[0],j=W[1],q=(0,i.useState)(null!==c&&void 0!==c&&c.label?0==h.length?[]:x?null===(l=h.find((function(e){return e.name===c.label})))||void 0===l||null===(o=l.fields)||void 0===o?void 0:o.map((function(e){return{label:e.value,value:e.value}})):null===(d=h.filter((function(e){return!1===e.readonly})).find((function(e){return e.name===c.label})))||void 0===d||null===(u=d.fields)||void 0===u?void 0:u.map((function(e){return{label:e.value,value:e.value}})):[]),U=(0,a.Z)(q,2),H=U[0],K=U[1];return i.createElement(i.Fragment,null,i.createElement(We,null,i.createElement(f.Lb,{title:"Interface Type"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:[{label:"Dropdown",value:"Dropdown"},{label:"Tiles",value:"Tiles"}],defaultSelectedItem:S,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){C(e.value),null!==e&&void 0!==e&&e.symbol?B(!1):B(!0)}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Component where to conduct lookup"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Te.currencySelectContainer},i.createElement("pre",{className:Te.currencySymbol,style:{display:"none"}},null!==M&&void 0!==M&&M.symbol?null===M||void 0===M?void 0:M.symbol:P?"":null===c||void 0===c?void 0:c.symbol," "),i.createElement(f.Ld,{triggerType:"chevron",items:F,defaultSelectedItem:c,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){O(e),y(e),null!==e&&void 0!==e&&e.symbol?B(!1):B(!0),K(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}}))),j(e.blueprint.fields.map((function(e){return{label:e.value,value:e.value}})))}})))),i.createElement(We,null,i.createElement(f.Lb,{title:"Values to display"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:H,itemType:"checkboxes",checkboxEmplacement:"left",inputStyle:{cursor:"pointer"},initialSelectedItems:null===H||void 0===H?void 0:H.filter((function(e){return(null===m||void 0===m?void 0:m.indexOf(e.label))>-1})),className:Te.uploadSelectComponent,inputClassName:Te.uploadSearchInput,molclassname:Te.uploadSelectMenuOverlayList,moliclassname:Te.uploadSelectMenuOverlayListItem,onChange:function(e){null===_||void 0===_||_(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))),i.createElement(We,null,i.createElement(f.Lb,{title:"Fields to filter, enter in order of filter, max 3 (Optional)"}),i.createElement(f.sm,{"app-variant":"normal",className:Le()(Te.unfocusableWrapper,Te.multiselectContainer)},i.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:R,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:0===(null===s||void 0===s?void 0:s.length)?[]:null===s||void 0===s?void 0:s.map((function(e){return{label:e,value:e}})),className:Te.uploadSelectComponent,inputClassName:Te.uploadSearchInput,inputStyle:{cursor:"pointer"},molclassname:Te.uploadSelectMenuOverlayList,moliclassname:Te.uploadSelectMenuOverlayListItem,onChange:function(e){null===w||void 0===w||w(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}},i.createElement(V.G,{className:"fa-icon",icon:z.ptq,style:{marginRight:"20px",color:"gray"}})))),i.createElement(We,null,i.createElement(f.Lb,{title:"Use a global field to filter components (Optional)"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:H,defaultSelectedItem:{label:E,value:E},className:Te.componentsSelectComponent,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},inputClassName:Te.componentsSearchInput,clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){g(e.value)}})))),i.createElement(We,null,i.createElement(f.Lb,{title:"Field value to save"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Te.currencySelectContainer},i.createElement("pre",{className:Te.currencySymbol,style:{display:"none"}},null!==M&&void 0!==M&&M.symbol?null===M||void 0===M?void 0:M.symbol:P?"":null===c||void 0===c?void 0:c.symbol," "),i.createElement(f.Ld,{triggerType:"chevron",items:H,defaultSelectedItem:b,className:Te.componentsSelectComponent,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem",cursor:"pointer"},inputClassName:Te.componentsSearchInput,clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){Z(e.value)}})))),i.createElement(We,null,i.createElement(f.Lb,{title:"Field values to share"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:H,itemType:"checkboxes",checkboxEmplacement:"left",inputStyle:{cursor:"pointer"},initialSelectedItems:null===H||void 0===H?void 0:H.filter((function(e){return(null===p||void 0===p?void 0:p.indexOf(e.label))>-1})),className:Te.uploadSelectComponent,inputClassName:Te.uploadSearchInput,molclassname:Te.uploadSelectMenuOverlayList,moliclassname:Te.uploadSelectMenuOverlayListItem,onChange:function(e){null===v||void 0===v||v(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}))))},st=function(e){var t,n,l,o=e.defaultValue,r=e.onModuleSelected,d=(e.field_type,e.onOutputSelected),u=e.onFieldValueSelected,s=e.defaultOutput,c=e.defaultModule,m=e.components,p=void 0===m?[]:m,v=e.allModules,y=(0,i.useState)(void 0),g=(0,a.Z)(y,2),h=g[0],C=g[1],S=(0,i.useState)(c?{value:""}:void 0),b=(0,a.Z)(S,2),E=b[0],_=b[1],Z=(0,i.useState)(v.map((function(e){return{label:e.name,value:e.id,module:e}}))),w=(0,a.Z)(Z,1)[0];return i.createElement(i.Fragment,null,i.createElement(We,null,i.createElement(f.Lb,{title:"Select Module:"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:w,defaultSelectedItem:c,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){C(e),r(e)}})))),h&&i.createElement(We,null,i.createElement(f.Lb,{title:"Select Output:"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:null===p||void 0===p?void 0:p.filter((function(e){return e.module_id===h.value})).map((function(e){return{label:"".concat(e.title),value:e.id}})),defaultSelectedItem:s,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){_(e),d(e)}})))),E&&i.createElement(We,null,i.createElement(f.Lb,{title:"Select Field Value:"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:null!==(t=null===p||void 0===p||null===(n=p.find((function(e){return e.id===E.value})))||void 0===n||null===(l=n.component_fields)||void 0===l?void 0:l.map((function(e){return{label:"".concat(e.field_name," = ").concat(e.value),value:e.value}})))&&void 0!==t?t:[],defaultSelectedItem:o,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){u(e)}})))))},ct=(0,i.memo)((function(e){var t=e.defaultCalendar,n=e.defaultSlider,o=e.defaultAssign,d=e.defaultEmail,u=e.defaultType,s=e.defaultPositions,c=e.onChangeSlider,m=e.onChangeList,p=e.onChangeType,y=e.onChangeEmail,g=e.onChangeAssign,h=e.validationErrors,C=e.allModules,S=e.onModuleSelected,b=e.defaultModule,E=e.options,_=e.onOptionsSelected,Z=e.fieldOption,w=e.onCalendar,N=(0,i.useState)("single"==u),x=(0,a.Z)(N,2),L=x[0],I=x[1],M=(0,i.useState)(!1),O=(0,a.Z)(M,2),k=O[0],T=O[1],P=(0,i.useState)(null===E||void 0===E?void 0:E.componentF),B=(0,a.Z)(P,2),D=B[0],F=B[1],A=(0,i.useState)(null===E||void 0===E?void 0:E.componentO),V=(0,a.Z)(A,2),z=V[0],R=V[1],j=(0,i.useState)(null===E||void 0===E?void 0:E.componentUO),q=(0,a.Z)(j,2),U=q[0],H=q[1],K=(0,i.useState)(s),X=(0,a.Z)(K,2),Y=X[0],G=X[1],J=(0,i.useState)(null===E||void 0===E?void 0:E.module_id),Q=(0,a.Z)(J,2),$=Q[0],ee=Q[1],te=C.map((function(e){return{label:e.name,value:e.id,module:e}})),ne=(0,r.v9)((function(e){return e.flowReducer})),le=ne.companyPositionsArray,oe=ne.companyDepartments,ae=(0,i.useState)(Pe.sortWith([Pe.ascend(Pe.prop("department_name"))])(null===le||void 0===le?void 0:le.map((function(e){var t;return{label:e.label,value:e.value,department_name:e.department,department_id:null===(t=oe.find((function(t){return t.label==e.department})))||void 0===t?void 0:t.value}})))),ie=(0,a.Z)(ae,2),re=ie[0],de=ie[1];return(0,i.useEffect)((function(){var e=(0,W.OW)().subscribe({next:function(e){(0,W.xt)().subscribe({next:function(t){var n=null===e||void 0===e?void 0:e.map((function(e){var n;return{label:e.name,value:e.id,department_name:null===(n=t.find((function(t){return t.id==e.department_id})))||void 0===n?void 0:n.name,department_id:e.department_id}}));de(Pe.sortWith([Pe.ascend(Pe.prop("department_name"))])(n)),T(!1)},error:function(e){T(!1)}})},error:function(e){T(!1)}});return function(){(0,v.zK)(e)}}),[]),i.createElement("div",{className:Te.peopleContainer},i.createElement(We,{errorMessage:null===h||void 0===h?void 0:h.type},i.createElement(f.Lb,{title:"How many People can be placed in this position?"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.type?"error":"normal","app-container-variant":"noBorder",className:Le()(Te.unfocusableWrapper)},i.createElement(f.nd,{selected:L,setSelected:function(e){I(e),null===p||void 0===p||p(e?"single":"multiple")},first:"One Person",second:"Multiple People",extraClassName:Te.renderBooleansOptions}))),(void 0!==D||0!==(null===D||void 0===D?void 0:D.length))&&i.createElement(We,{errorMessage:null===h||void 0===h?void 0:h.position_id},i.createElement(f.Lb,{title:"Option 1: Display users from these positions:"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},k?i.createElement(f.$j,{size:30,type:"ThreeDots"}):(null===re||void 0===re?void 0:re.length)>0?i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:re,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:null===re||void 0===re?void 0:re.filter((function(e){return(null===s||void 0===s?void 0:s.indexOf(e.value))>-1})),className:Te.uploadSelectComponent,inputClassName:Te.uploadSearchInput,molclassname:Te.uploadSelectMenuOverlayList,moliclassname:Te.uploadSelectMenuOverlayListItem,onChange:function(e){G(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))),null===m||void 0===m||m(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}):null)),0==Y.length&&i.createElement(We,{errorMessage:null===h||void 0===h?void 0:h.type},i.createElement(f.Lb,{title:"Option 2: Display users based from a lookup in:"}),i.createElement(f.sm,{"app-variant":null!==h&&void 0!==h&&h.type?"error":"normal",className:Te.unfocusableWrapper},i.createElement(f.rk,{items:te,defaultSelected:b,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){ee(e.module.id),null===S||void 0===S||S(e)}}))),0==Y.length&&i.createElement(We,null,i.createElement(f.Lb,{title:"Field set in the steps where to lookup"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:D,name:"matched to field",onChange:function(e){F(e.target.value),_((0,l.Z)((0,l.Z)({},Z),{},{componentF:e.target.value,module_id:$}))}}))),0==Y.length&&i.createElement(We,null,i.createElement(f.Lb,{title:"Field from lookup where to get positions and users"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:z,name:"matched to field",onChange:function(e){R(e.target.value),_((0,l.Z)((0,l.Z)({},Z),{},{componentO:e.target.value,module_id:$}))}}))),0==Y.length&&i.createElement(We,null,i.createElement(f.Lb,{title:"Field from lookup where to get users (direct user list)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:U,name:"matched to field",onChange:function(e){H(e.target.value),_((0,l.Z)((0,l.Z)({},Z),{},{componentUO:e.target.value}))}}))),!t&&i.createElement(f.pd,{id:"Display as slider",title:"Display as slider?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:!!n,toggleSelected:function(e){c(e)}}),i.createElement(f.pd,{id:"Trigger an email when user is selected",title:"Trigger an email when user is selected?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:!!d,toggleSelected:function(e){y(e)}}),!t&&i.createElement(f.pd,{id:"Assign the user selected to transaction",title:"Assign the user selected to transaction?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:!!o,toggleSelected:function(e){g(e)}}),!n&&i.createElement(f.pd,{id:"Display as calendar",title:"Display as calendar?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:!!t,toggleSelected:function(e){w(e)}}))})),mt=(0,i.memo)((function(e){var t=e.defaultCalendar,n=e.defaultSlider,l=(e.defaultAssign,e.defaultEmail,e.defaultType),o=e.defaultPositions,d=(e.onChangeSlider,e.onChangeList),u=e.onChangeType,s=(e.onChangeEmail,e.onChangeAssign,e.validationErrors),c=e.allModules,m=(e.onModuleSelected,e.defaultModule,e.options),p=(e.onOptionsSelected,e.fieldOption,e.onCalendar),y=(0,i.useState)("single"==l),g=(0,a.Z)(y,2),h=g[0],C=g[1],S=(0,i.useState)(!1),b=(0,a.Z)(S,2),E=b[0],_=b[1],Z=(0,i.useState)(null===m||void 0===m?void 0:m.componentF),w=(0,a.Z)(Z,2),N=w[0],x=(w[1],(0,i.useState)(null===m||void 0===m?void 0:m.componentO)),L=(0,a.Z)(x,2),I=(L[0],L[1],(0,i.useState)(null===m||void 0===m?void 0:m.componentUO)),M=(0,a.Z)(I,2),O=(M[0],M[1],(0,i.useState)(o)),k=(0,a.Z)(O,2),T=(k[0],k[1]),P=(0,i.useState)(null===m||void 0===m?void 0:m.module_id),B=(0,a.Z)(P,2),D=(B[0],B[1],c.map((function(e){return{label:e.name,value:e.id,module:e}})),(0,r.v9)((function(e){return e.flowReducer}))),F=D.companyPositionsArray,A=D.companyDepartments,V=(0,i.useState)(Pe.sortWith([Pe.ascend(Pe.prop("department_name"))])(null===F||void 0===F?void 0:F.map((function(e){var t;return{label:e.label,value:e.value,department_name:e.department,department_id:null===(t=A.find((function(t){return t.label==e.department})))||void 0===t?void 0:t.value}})))),z=(0,a.Z)(V,2),R=z[0],j=z[1];return(0,i.useEffect)((function(){var e=(0,W.OW)().subscribe({next:function(e){(0,W.xt)().subscribe({next:function(t){var n=null===e||void 0===e?void 0:e.map((function(e){var n;return{label:e.name,value:e.id,department_name:null===(n=t.find((function(t){return t.id==e.department_id})))||void 0===n?void 0:n.name,department_id:e.department_id}}));j(Pe.sortWith([Pe.ascend(Pe.prop("department_name"))])(n)),_(!1)},error:function(e){_(!1)}})},error:function(e){_(!1)}});return function(){(0,v.zK)(e)}}),[]),i.createElement("div",{className:Te.peopleContainer},i.createElement(We,{errorMessage:null===s||void 0===s?void 0:s.type},i.createElement(f.Lb,{title:"How many Positions can be selected?"}),i.createElement(f.sm,{"app-variant":null!==s&&void 0!==s&&s.type?"error":"normal","app-container-variant":"noBorder",className:Le()(Te.unfocusableWrapper)},i.createElement(f.nd,{selected:h,setSelected:function(e){C(e),null===u||void 0===u||u(e?"single":"multiple")},first:"Single",second:"Multiple",extraClassName:Te.renderBooleansOptions}))),(void 0!==N||0!==(null===N||void 0===N?void 0:N.length))&&i.createElement(We,{errorMessage:null===s||void 0===s?void 0:s.position_id},i.createElement(f.Lb,{title:"Display these positions:"}),i.createElement(f.sm,{"app-variant":null!==s&&void 0!==s&&s.position_id?"error":"normal",className:Le()(Te.unfocusableWrapper,Te.peoplePositionSelectContainer)},E?i.createElement(f.$j,{size:30,type:"ThreeDots"}):(null===R||void 0===R?void 0:R.length)>0?i.createElement(f.gK,{triggerType:"chevron",labelsTag:!0,tagCloseButtonType:"circleX",tagType:"shadowed",tagEmplacement:"inlined",items:R,itemType:"checkboxes",checkboxEmplacement:"left",initialSelectedItems:null===R||void 0===R?void 0:R.filter((function(e){return(null===o||void 0===o?void 0:o.indexOf(e.value))>-1})),className:Te.uploadSelectComponent,inputClassName:Te.uploadSearchInput,molclassname:Te.uploadSelectMenuOverlayList,moliclassname:Te.uploadSelectMenuOverlayListItem,onChange:function(e){T(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))),null===d||void 0===d||d(null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value})))}}):null)),!n&&i.createElement(f.pd,{id:"Display as calendar",title:"Display as calendar?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:!!t,toggleSelected:function(e){p(e)}}))})),pt=function(e){var t=e.defaultCurrent,n=e.defaultFixed,l=e.defaultDescription,o=e.defaultValue,r=e.defaultModule,d=e.defaultModule2,u=e.defaultModule3,s=e.allModules,c=e.onModule1Select,m=e.onModule2Select,p=e.onModule3Select,v=e.setFieldValue,y=e.setDefaultDescription,g=e.setDefaultFixed,h=e.setDefaultCurrent,C=(0,i.useState)(null!==n&&void 0!==n&&n),S=(0,a.Z)(C,2),b=S[0],E=S[1],_=(0,i.useState)(o),Z=(0,a.Z)(_,2),w=Z[0],N=Z[1],x=(0,i.useState)(l),L=(0,a.Z)(x,2),I=L[0],M=L[1],O=(0,i.useState)(1!=t&&""!==(null===r||void 0===r?void 0:r.label)),k=(0,a.Z)(O,2),T=k[0],P=k[1],B=(0,i.useState)(t),D=(0,a.Z)(B,2),F=D[0],A=D[1],W=s.map((function(e){return{label:e.name,value:e.id,module:e}}));return i.createElement(i.Fragment,null,i.createElement(We,null,i.createElement(f.Lb,{title:"Description"}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("textarea",{type:"text",className:Te.elementTextArea,value:I,name:"element-desc",onChange:function(e){y(e.target.value),M(e.target.value)}}))),i.createElement(f.pd,{id:"Use records for the AI to analyze",title:"Use records for the AI to analyze?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:!!T,toggleSelected:function(e){P(e),1==e&&(A(!1),h(!1))}}),!T&&i.createElement(f.pd,{id:"Use current transaction for the AI to analyze",title:"Use current transaction for the AI to analyze",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 20px 0px",width:"auto"},value:!!F,toggleSelected:function(e){A(e),h(e)}}),T&&i.createElement(We,null,i.createElement(f.Lb,{title:"Records to use as source A"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement(f.rk,{items:W,defaultSelected:r,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){null===c||void 0===c||c(e)}}))),T&&i.createElement(We,null,i.createElement(f.Lb,{title:"Records to use as source B (Optional)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement(f.rk,{items:W,defaultSelected:d,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){null===m||void 0===m||m(e)}}))),T&&i.createElement(We,null,i.createElement(f.Lb,{title:"Records to use as source C (Optional)"}),i.createElement(f.sm,{className:Te.unfocusableWrapper},i.createElement(f.rk,{items:W,defaultSelected:u,className:Te.dropdownSelectComponent,tmiClassName:Te.dropdownInput,molclassname:Te.dropdownSelectMenuOverlayList,moliclassname:Te.dropdownSelectMenuOverlayListItem,onChange:function(e){null===p||void 0===p||p(e)}}))),1==b&&i.createElement(We,null,i.createElement(f.Lb,{title:"Fixed query to use ".concat(T?"with the records selected":"")}),i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("textarea",{type:"text",className:Te.elementTextArea,value:w,name:"element-query",onChange:function(e){v(e.target.value),N(e.target.value)}}))),i.createElement(f.pd,{id:"Use a fixed query?",title:"Use a fixed query",ungrouped:!0,withAckButton:!1,style:{margin:"20px 0px 0px 0px",width:"auto"},value:b,toggleSelected:function(e){E(e),g(e)}}))},vt=function(e){var t=e.onSetIdGenerator,n=e.defaultValue,l=(0,i.useState)(n.label),o=(0,a.Z)(l,2),r=o[0],d=o[1];return i.createElement("div",{className:Te.currencySelectContainer},i.createElement("input",{type:"text",placeholder:"Enter prefix of ID",className:Te.elementTextInput,value:r,name:"element-name",onChange:function(e){d(e.target.value),function(e){t(e)}(e.target.value)}}))},ft=function(e){var t=e.onNotesGenerator,n=e.defaultValue,l=(0,i.useState)(n.label),o=(0,a.Z)(l,2),r=o[0],d=o[1];return i.createElement("div",{className:Te.currencySelectContainer},i.createElement("textarea",{type:"text",placeholder:"Enter Notes to display",className:Te.elementTextArea,value:r,name:"element-name",onChange:function(e){d(e.target.value),function(e){t(e)}(e.target.value)}}))},yt=function(e){var t=e.defaultList,n=e.defaultSrcName,l=e.onSourceLabel,d=e.defaultValue,u=e.validationErrors,s=e.onSourceSelected,c=e.bpContext,m=e.onListSelected,p=void 0===m?function(){}:m,v=(0,r.v9)((function(e){return e.modalsReducer})),y=v.isOnboarding,g=(0,i.useState)(null!==t&&void 0!==t?t:[]),h=(0,a.Z)(g,2),C=h[0],S=h[1],b=(0,i.useState)(""),E=(0,a.Z)(b,2),_=E[0],Z=E[1],w=(0,i.useState)([]),N=(0,a.Z)(w,2),x=N[0],L=N[1],I=(0,i.useState)(!0),M=(0,a.Z)(I,2),O=M[0],k=M[1],T=(0,i.useState)([]),P=(0,a.Z)(T,2),B=P[0],D=P[1];(0,i.useEffect)((function(){F()}),[]);var F=(0,i.useCallback)((function(){D(y?c.allBlueprintComponents.map((function(e){return{label:e.name,value:e.id,blueprint:e}})):c.allBlueprintComponents.filter((function(e){return!1===e.readonly})).map((function(e){return{label:e.name,value:e.id,blueprint:e}})))})),A=(0,i.useCallback)((function(){k(!0),S((function(e){return[].concat((0,o.Z)(e),[_])})),Z(""),null===p||void 0===p||p([].concat((0,o.Z)(C),[_]))}),[C,_,p]),W=(0,i.useCallback)((function(e){S((function(t){return(0,o.Z)(Pe.reject(Pe.equals(e),t))})),null===p||void 0===p||p((0,o.Z)(Pe.reject(Pe.equals(e),C)))}),[C,p]);return i.createElement("div",{className:Te.dropdownElementHost},i.createElement(We,{errorMessage:null===u||void 0===u?void 0:u.type},i.createElement(f.Lb,{title:"Select Component where field to use as payment amount is found"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:B,defaultSelectedItem:d,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){var t=B.find((function(t){return t.value===e.value}));L(t.blueprint.fields.filter((function(e){return"Number"===e.name||"Formula"===e.name})).map((function(e){return{label:e.value,value:e.id,field:e}}))),s(e.value)}}))),i.createElement(We,{errorMessage:null===u||void 0===u?void 0:u.type},i.createElement(f.Lb,{title:"Field to use for payment amount"}),i.createElement("div",{className:Te.currencySelectContainer},i.createElement(f.Ld,{triggerType:"chevron",items:x,defaultSelectedItem:n,className:Te.componentsSelectComponent,inputClassName:Te.componentsSearchInput,inputStyle:{color:"var(--app-color-gray-dark)",fontSize:"1rem"},clearControlsClassName:Te.componentsClearControlsClassName,molclassname:Te.componentsSelectMenuOverlayList,moliclassname:Te.componentsSelectMenuOverlayListItem,onChange:function(e){l(e.label)}}))),i.createElement(We,{errorMessage:null===u||void 0===u?void 0:u.list},i.createElement(f.Lb,{title:"Payment Options"}),i.createElement(f.sm,{"app-variant":null!==u&&void 0!==u&&u.list?"error":"normal",className:Te.dropdownListContainer,onClickOutside:(0,i.useCallback)((function(){null===p||void 0===p||p(C)}),[C,p])},O?i.createElement("div",{className:Te.dropDownButtonContainer},i.createElement(f.zx,{light:!0,title:"Add Payment Option",clicked:function(){return k(!1)}})):i.createElement("div",{className:Te.dropDownNewListItemInputContainer},i.createElement("input",{type:"text",className:Te.dropDownNewListItemInput,value:_,name:"newItem",placeholder:"Type name",onChange:function(e){Z(e.target.value)}}),(null===_||void 0===_?void 0:_.length)>0&&i.createElement("button",{type:"button",onClick:A,className:Te.dropdownInputButtonSaveNewItem},i.createElement(V.G,{icon:z.g6h}))),i.createElement("div",{className:Te.dropdownListItemsContainer},C&&(null===C||void 0===C?void 0:C.map((function(e,t){return i.createElement(dt,{key:e+t,item:e,isOverflow:(null===C||void 0===C?void 0:C.length)>3,onItemChanged:function(e){S((function(n){return(0,o.Z)(Pe.update(t)(e)(n))}))},onItemRemoved:function(){return W(e)}})})))))))},gt=n(67861),ht=(0,i.memo)((function(e){var t,n,r,d,s,c,p,y,g,h,C,S,b,E,_,Z,w,N,x=e.visible,L=e.onUpdate,I=e.onClose,M=(e.hasTutorial,e.allModules),O=e.blueprints,B=e.componentTypes,D=e.components,F=e.products,A=e.companyData,W=e.companyProcesses,j=e.selectedComponent,q=(0,u.aL)(),U=(0,a.Z)(q,2),H=U[0],K=U[1],X=(0,i.useState)(!1),Y=(0,a.Z)(X,2),G=Y[0],J=Y[1],Q=(0,i.useState)(!1),$=(0,a.Z)(Q,2),ee=$[0],te=$[1],ne=(0,i.useState)(!1),le=(0,a.Z)(ne,2),oe=le[0],ve=le[1],fe=(0,i.useState)(!1),ye=(0,a.Z)(fe,2),ge=ye[0],Ne=ye[1],xe=(0,i.useState)(!1),Le=(0,a.Z)(xe,2),Ie=Le[0],Me=Le[1],Oe=(0,i.useState)(!1),ke=(0,a.Z)(Oe,2),Te=ke[0],Pe=ke[1],Be=(0,i.useState)({name:"",fields:"",components:""}),Fe=(0,a.Z)(Be,2)[1],Ae=(0,i.useState)(!1),Ve=(0,a.Z)(Ae,2),ze=Ve[0],Re=Ve[1],je=(0,i.useState)(""),qe=(0,a.Z)(je,2),Ue=qe[0],He=qe[1],Ke=(0,i.useState)(!0),Xe=(0,a.Z)(Ke,2),Ye=Xe[0],Ge=Xe[1],Je=(0,i.useState)(!1),Qe=(0,a.Z)(Je,2),$e=Qe[0],et=Qe[1],tt=(0,i.useState)(""),nt=(0,a.Z)(tt,2),lt=nt[0],ot=nt[1],at=e.onBoardingModalsVisibility;(0,i.useEffect)((function(){He(""),K({type:u.qY.setAllBlueprintsComponents,value:O})}),[H.selectedBlueprintComponent.fields]),(0,i.useEffect)((function(){void 0!==j&&(K({type:u.qY.setSelectedBlueprintComponent,value:O.find((function(e){return e.id===j}))}),Ge(!1))}),[]);var it=function(){Fe({name:"",components:""}),He("")},rt=(0,i.useCallback)((function(e){ve(!0),(0,ue._u)(e.id,e).subscribe({next:function(){ve(!1),k.h.dispatch((0,m.Xc)({show:!0,message:"You have successfully updated ".concat(e.name)})),null===L||void 0===L||L(!0),null===I||void 0===I||I(!0)},error:function(e){var t,n,l,o,a,i,r,d,u;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.errors&&Fe({name:null===e||void 0===e||null===(n=e.data)||void 0===n||null===(l=n.errors)||void 0===l||null===(o=l.name)||void 0===o?void 0:o.join("; "),components:null===e||void 0===e||null===(a=e.data)||void 0===a||null===(i=a.errors)||void 0===i||null===(r=i.components)||void 0===r?void 0:r.join("; ")});null!==e&&void 0!==e&&e.data&&He(null!==(d=null===e||void 0===e||null===(u=e.data)||void 0===u?void 0:u.message)&&void 0!==d?d:null===e||void 0===e?void 0:e.data);ve(!1)}})}),[I]),dt=(0,i.useCallback)((function(e){ve(!0),(0,ue.Bp)(e).subscribe({next:function(){null!==at&&void 0!==at&&at.thirdModalVisible?k.h.dispatch((0,R.$6)({fourthModalVisible:!0})):null!==at&&void 0!==at&&at.fifthModalVisible?k.h.dispatch((0,R.$6)({sixthModalVisible:!0})):k.h.dispatch((0,m.Xc)({show:!0,message:"You have successfully created ".concat(e.name)})),ve(!1),null===L||void 0===L||L(!0),null===I||void 0===I||I(!0)},error:function(e){var t,n,l,o,a,i,r,d,u;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.errors&&Fe({name:null===e||void 0===e||null===(n=e.data)||void 0===n||null===(l=n.errors)||void 0===l||null===(o=l.name)||void 0===o?void 0:o.join("; "),components:null===e||void 0===e||null===(a=e.data)||void 0===a||null===(i=a.errors)||void 0===i||null===(r=i.components)||void 0===r?void 0:r.join("; ")});null!==e&&void 0!==e&&e.data&&He(null!==(d=null===e||void 0===e||null===(u=e.data)||void 0===u?void 0:u.message)&&void 0!==d?d:null===e||void 0===e?void 0:e.data);ve(!1)}})}),[I]),ut=(0,i.useCallback)((function(e){ve(!0),(0,ue.zs)(e.id,e.name).subscribe({next:function(){ve(!1),k.h.dispatch((0,m.Xc)({show:!0,message:"You have successfully duplicated component"})),null===L||void 0===L||L(!0),null===I||void 0===I||I(!0)},error:function(e){var t,n,l,o,a,i,r,d,u;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.errors&&Fe({name:null===e||void 0===e||null===(n=e.data)||void 0===n||null===(l=n.errors)||void 0===l||null===(o=l.name)||void 0===o?void 0:o.join("; "),components:null===e||void 0===e||null===(a=e.data)||void 0===a||null===(i=a.errors)||void 0===i||null===(r=i.components)||void 0===r?void 0:r.join("; ")});null!==e&&void 0!==e&&e.data&&He(null!==(d=null===e||void 0===e||null===(u=e.data)||void 0===u?void 0:u.message)&&void 0!==d?d:null===e||void 0===e?void 0:e.data);ve(!1)}})}),[I]),st=(0,i.useCallback)((function(){var e,t,n=H.validation,a=n.name,i=n.fields;if(a||(null===i||void 0===i?void 0:i.length)>0||(null===(e=H.selectedBlueprintComponent.fields)||void 0===e?void 0:e.length)<1){var r,d,u,s,c,m,p,v,f="";if((null===(r=H.selectedBlueprintComponent.fields)||void 0===r?void 0:r.length)<1&&(f="Component must have at least one field"),(null===i||void 0===i?void 0:i.length)>0&&(f="Check options of red fields"),null!==H&&void 0!==H&&null!==(d=H.selectedBlueprintComponent)&&void 0!==d&&null!==(u=d.fields)&&void 0!==u&&u.some((function(e){var t,n;return 0==(null===e||void 0===e||null===(t=e.options)||void 0===t||null===(n=t.list)||void 0===n?void 0:n.length)}))&&(f="Element's option list must have at least one entry"),null!==H&&void 0!==H&&null!==(s=H.selectedBlueprintComponent)&&void 0!==s&&null!==(c=s.fields)&&void 0!==c&&c.some((function(e){var t,n;return 0==(null===e||void 0===e||null===(t=e.options)||void 0===t||null===(n=t.type)||void 0===n?void 0:n.length)}))&&(f="Element's option type is mandatory"),null!==H&&void 0!==H&&null!==(m=H.selectedBlueprintComponent)&&void 0!==m&&null!==(p=m.fields)&&void 0!==p&&p.some((function(e){var t;return 0==(null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.length)}))&&(f="Name is mandatory for each element"),Fe({name:a?"Add a component name":"",fields:f}),(null===(v=f)||void 0===v?void 0:v.length)>0){var y,g,h=document.querySelectorAll('[app-field-row-has-error="error"]');if(h)if((null===h||void 0===h?void 0:h.length)>0)null===(y=(0,o.Z)(h))||void 0===y||null===(g=y.reverse()[(null===h||void 0===h?void 0:h.length)-1])||void 0===g||g.scrollIntoView({block:"start",behavior:"smooth"})}(null===i||void 0===i?void 0:i.length)>0&&Re(!0)}else{ve(!0),it();var C={components:H.selectedBlueprintComponent.components,fields:H.selectedBlueprintComponent.fields.map((function(e){var t;return(null===(t=e.id)||void 0===t?void 0:t.length)>12?(0,l.Z)({},e):ae.Z("id")(e)})),name:H.selectedBlueprintComponent.name};(null===(t=H.selectedBlueprintComponent.id)||void 0===t?void 0:t.length)>0?rt((0,l.Z)((0,l.Z)({},C),{},{id:H.selectedBlueprintComponent.id})):dt(C)}}),[H.selectedBlueprintComponent.components,H.selectedBlueprintComponent.fields,H.selectedBlueprintComponent.id,H.selectedBlueprintComponent.name,H.validation,dt,rt]),ct=(0,i.useCallback)((function(){var e;(null===(e=H.selectedBlueprintComponent.id)||void 0===e?void 0:e.length)>0&&ut({name:H.selectedBlueprintComponent.name,id:H.selectedBlueprintComponent.id})}),[H.selectedBlueprintComponent.components,H.selectedBlueprintComponent.fields,H.selectedBlueprintComponent.id,H.selectedBlueprintComponent.name,H.validation,dt,rt]),mt=function(e){K({type:u.qY.setSelectedBlueprintComponentName,value:e})};return gt.createElement(gt.Fragment,null,gt.createElement(f.U7,{id:"edit-component-modal",blured:!0,scrollable:!1,isOpen:x,shadowedContainerStyle:{minWidth:"500px",width:T.tq?"100%":"38%"}},gt.createElement("div",{className:ce},gt.createElement("div",{className:me},gt.createElement("p",null,1==(null===H||void 0===H||null===(t=H.selectedBlueprintComponent)||void 0===t?void 0:t.readonly)?"Template Component":Ye?"New Component":"Edit Component")),gt.createElement("p",{className:we},"Note: You can only use a component one step at a time in a workflow"),gt.createElement(We,null,Ye&&gt.createElement("div",null,gt.createElement(f.Lb,{title:"Name"}),gt.createElement("input",{type:"text",name:"element-name",value:null===(n=H.selectedBlueprintComponent)||void 0===n?void 0:n.name,onChange:function(e){mt(e.target.value)},onClick:function(){},className:Ze})),$e&&gt.createElement("div",null,gt.createElement(f.Lb,{title:"Name"}),gt.createElement("input",{type:"text",name:"element-name",value:null===(r=H.selectedBlueprintComponent)||void 0===r?void 0:r.name,onChange:function(e){mt(e.target.value)},onClick:function(){},className:Ze})),!$e&&gt.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",maxHeight:"100%",border:"0px solid var(--app-color-gray-lighter)"}},gt.createElement(f.Lb,{title:j?"Name":"Select Component to Edit"}),gt.createElement("div",{className:pe},gt.createElement(se.yV,{placeholder:null!==(d=H.selectedBlueprintComponent)&&void 0!==d&&d.name&&!Ye?null===(s=H.selectedBlueprintComponent)||void 0===s?void 0:s.name:"Or selelct a Component to edit...",items:j?[]:B?(0,o.Z)(ie.Z([re.Z(de.Z("name"))])(O).map((function(e){return{label:"".concat(null===e||void 0===e?void 0:e.name),value:null===e||void 0===e?void 0:e.id,type:"".concat(!0===e.readonly?"Templates":(0,v.m)(null===e||void 0===e?void 0:e.name))}}))):[],initialSelectedValues:[],groupedBy:"type",groupname:"type",inputStyle:{blank:!0,cursor:"pointer"},className:Ce,inputClassName:Se,molclassname:be,moliclassname:Ee,onChange:function(e){1==e.length&&(K({type:u.qY.setSelectedBlueprintComponent,value:O.find((function(t){return t.id===e[0].value}))}),Ge(!1))}},!j&&gt.createElement(V.G,{className:"fa-icon",icon:z.ptq,style:{marginRight:"20px",color:"gray"}})))),gt.createElement("br",null),!$e&&gt.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",maxHeight:"100%",border:"0px solid var(--app-color-gray-lighter)"}},gt.createElement(f.Lb,{title:"Fields Selection"}),gt.createElement("div",{className:pe},gt.createElement(se.yV,{placeholder:"Click and select field to add ...",items:B?[].concat((0,o.Z)(ie.Z([re.Z(de.Z("name"))])(B.filter((function(e){var t,n;return!(null!==A&&void 0!==A&&null!==(t=A.misc_info)&&void 0!==t&&null!==(n=t.blueprints)&&void 0!==n&&n.includes(null===e||void 0===e?void 0:e.name))&&(0==e.io_type||1==e.io_type)}))).map((function(e){return{label:e.name,value:e.id,type:0==e.io_type?"Output":"Input"}}))),(0,o.Z)(null!==A&&void 0!==A&&null!==(c=A.misc_info)&&void 0!==c&&c.templates?A.misc_info.templates.map((function(e){return{label:e,value:e,type:"Templates"}})):[])):[],initialSelectedValues:[],groupedBy:"type",groupname:"type",inputStyle:{blank:!0,cursor:"pointer"},className:Ce,inputClassName:Se,molclassname:be,moliclassname:Ee,onChange:function(e){if(e.length>0){var t=[e[0]];t=function(e,t,n){var l,o,a,i,r,d;return"Battery Order Template"===e[0].value?null===t||void 0===t||null===(l=t.misc_info)||void 0===l?void 0:l.templatesData.find((function(e){return"Battery Order Template"===e.name})).config.map((function(e){return{value:n.find((function(t){return t.name===e.value})).id,label:e.label,mapToItem:null===e||void 0===e?void 0:e.mapToItem}})):"Battery Template"===e[0].value?null===t||void 0===t||null===(o=t.misc_info)||void 0===o?void 0:o.templatesData.find((function(e){return"Battery Template"===e.name})).config.map((function(e){return{value:n.find((function(t){return t.name===e.value})).id,label:e.label,mapToItem:null===e||void 0===e?void 0:e.mapToItem}})):null!==(a=null===t||void 0===t||null===(i=t.misc_info)||void 0===i||null===(r=i.templatesData.find((function(t){return t.name===e[0].value})))||void 0===r||null===(d=r.config)||void 0===d?void 0:d.map((function(e){return{value:n.find((function(t){return t.name===e.value})).id,label:e.label,mapToItem:null===e||void 0===e?void 0:e.mapToItem}})))&&void 0!==a?a:[]}(e,A,B),0==t.length&&(ot(""),t=[e[0]]),t.map((function(e){var t,n,o,a,i,r,d,s,c,m,p,f,y,g,h,C,S,b,E,_,Z,w,N,x,L,I,M,O,k,T,P,D,F,A,W,V,z,R,j=B.find((function(t){return t.id===e.value})),q={field_type:(0,l.Z)({},j)};("number"===(null===j||void 0===j||null===(t=j.name)||void 0===t?void 0:t.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{type:"numeric",display:"text"}}),"phone"===(null===j||void 0===j||null===(n=j.name)||void 0===n?void 0:n.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{country_prefix:"+44",country_code:"gb",country_name:"United Kingdom"}}),"currency"===(null===j||void 0===j||null===(o=j.name)||void 0===o?void 0:o.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{currency_type:"British Pound Sterling",currency_value:"GBP",symbol:"\xa3"}}),"action button"===(null===j||void 0===j||null===(a=j.name)||void 0===a?void 0:a.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{action:"creator"}}),"profile"===(null===j||void 0===j||null===(i=j.name)||void 0===i?void 0:i.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{type:"user"}}),"upload"===(null===j||void 0===j||null===(r=j.name)||void 0===r?void 0:r.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{accepted_mimes:v.cH.map((function(e){var t;return null===(t=e.value)||void 0===t?void 0:t.replaceAll(".","")})).join(","),max_file_size:51200}}),"people"===(null===j||void 0===j||null===(d=j.name)||void 0===d?void 0:d.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{position_id:[],type:"single"}}),"date"===(null===j||void 0===j||null===(s=j.name)||void 0===s?void 0:s.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{type:"single"}}),"dropdown"===(null===j||void 0===j||null===(c=j.name)||void 0===c?void 0:c.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{list:[],type:"single"}}),"payments"===(null===j||void 0===j||null===(m=j.name)||void 0===m?void 0:m.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{list:["Credit Card","GCash","Cash"]}}),"pin"===(null===j||void 0===j||null===(p=j.name)||void 0===p?void 0:p.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{pintype:"single",realtime:!0,destination:!1,source:!0}}),"record"===(null===j||void 0===j||null===(f=j.name)||void 0===f?void 0:f.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{component_id:[],type:"single",selection:"",filters:[]}}),"status"===(null===j||void 0===j||null===(y=j.name)||void 0===y?void 0:y.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{list:[]}}),"list filter"===(null===j||void 0===j||null===(g=j.name)||void 0===g?void 0:g.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{field:"",value:""}}),"id"===(null===j||void 0===j||null===(h=j.name)||void 0===h?void 0:h.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{id:"",value:0}}),"list"===(null===j||void 0===j||null===(C=j.name)||void 0===C?void 0:C.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{module_id:"",list:[]}}),"module list"===(null===j||void 0===j||null===(S=j.name)||void 0===S?void 0:S.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{module_id:"",list:[]}}),"step list"===(null===j||void 0===j||null===(b=j.name)||void 0===b?void 0:b.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{component_id:"",list:[]}}),"component list"===(null===j||void 0===j||null===(E=j.name)||void 0===E?void 0:E.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{component_id:"",list:[]}}),"transaction list"===(null===j||void 0===j||null===(_=j.name)||void 0===_?void 0:_.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{map:{}}}),"lookup"===(null===j||void 0===j||null===(Z=j.name)||void 0===Z?void 0:Z.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{source_id:"",target_id:"",common_field:"",list:[],selection:""}}),"rewards"===(null===j||void 0===j||null===(w=j.name)||void 0===w?void 0:w.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{status:"Closed",points:1,equiv:1,creator:!0}}),"calendar"===(null===j||void 0===j||null===(N=j.name)||void 0===N?void 0:N.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{limit:!0,creator:!0,priority:!0,span:!1}}),"connectors"===(null===j||void 0===j||null===(x=j.name)||void 0===x?void 0:x.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{component1_id:"",component2_id:"",common_field_12:"",component3_id:"",common_field_23:"",outputs:""}}),"map"===(null===j||void 0===j||null===(L=j.name)||void 0===L?void 0:L.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{maptype:"region"}}),"formula"===(null===j||void 0===j||null===(I=j.name)||void 0===I?void 0:I.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{operator:"",list:[],display:"text"}}),"emails"===(null===j||void 0===j||null===(M=j.name)||void 0===M?void 0:M.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{subject:"",message:""}}),"product"===(null===j||void 0===j||null===(O=j.name)||void 0===O?void 0:O.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{list:[]}}),"product lookup"===(null===j||void 0===j||null===(k=j.name)||void 0===k?void 0:k.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{selection:"",component_id:"",list:[]}}),"filters"===(null===j||void 0===j||null===(T=j.name)||void 0===T?void 0:T.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{component_id:"",list:[],filters:[]}}),"info"===(null===j||void 0===j||null===(P=j.name)||void 0===P?void 0:P.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{component_id:"",list:[]}}),"chart"===(null===j||void 0===j||null===(D=j.name)||void 0===D?void 0:D.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{component_id:"",list:[]}}),"value"===(null===j||void 0===j||null===(F=j.name)||void 0===F?void 0:F.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{module_id:"",component_id:"",value:""}}),"notes"===(null===j||void 0===j||null===(A=j.name)||void 0===A?void 0:A.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{value:""}}),"url"===(null===j||void 0===j||null===(W=j.name)||void 0===W?void 0:W.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{type:"image"}}),"googleai assistant"===(null===j||void 0===j||null===(V=j.name)||void 0===V?void 0:V.toLowerCase())&&(q={field_type:(0,l.Z)({},j),options:{description:"",fixed:!0,current:!1}}),null!==e&&void 0!==e&&e.mapToItem&&(console.log(e.mapToItem),q.options=(0,l.Z)((0,l.Z)({},q.options),{},{mapToItem:e.mapToItem})),(null===H||void 0===H||null===(z=H.selectedBlueprintComponent)||void 0===z?void 0:z.fields.length)<12)?(it(),K({type:u.qY.setSelectedBlueprintComponentNewField,value:(0,l.Z)((0,l.Z)({},q),{},{label:null!==(R=e.label)&&void 0!==R?R:""})})):He("You can only add a maximum of 12 fields per component. ")}))}}},gt.createElement(V.G,{className:"fa-icon",icon:z.ptq,style:{marginRight:"20px",color:"gray"}}))),gt.createElement("br",null),gt.createElement("div",{className:_e},Ye?"Selected Fields:":"Available Fields:"),gt.createElement("div",{style:{display:"flex",flexDirection:"column"}},null===H||void 0===H||null===(p=H.selectedBlueprintComponent)||void 0===p||null===(y=p.fields)||void 0===y?void 0:y.map((function(e,t){var n,o,a,i,r,d,s,c;return gt.createElement(St,{key:t,id:e.id,name:1===(null===e||void 0===e||null===(n=e.field_type)||void 0===n?void 0:n.io_type)?null!==e&&void 0!==e&&null!==(o=e.options)&&void 0!==o&&o.mapToItem?"".concat(null===e||void 0===e||null===(a=e.field_type)||void 0===a?void 0:a.name," (").concat(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.mapToItem,")"):null===e||void 0===e||null===(r=e.field_type)||void 0===r?void 0:r.name:"Template"===(null===e||void 0===e||null===(d=e.field_type)||void 0===d?void 0:d.name)?null===e||void 0===e||null===(s=e.field_type)||void 0===s?void 0:s.name:"".concat(null===e||void 0===e||null===(c=e.field_type)||void 0===c?void 0:c.name," (Out)"),settingsClicked:function(){var t;K({type:u.qY.setSelectedFieldFromSelectedBlueprintComponent,value:(0,l.Z)((0,l.Z)({},e),{},{index:null===e||void 0===e||null===(t=e.field_type)||void 0===t?void 0:t.index})}),te(!0)},renderError:ze,hasSettingsBtn:!0},gt.createElement(Ct,e))}))),gt.createElement("p",{className:_e},0==(null===H||void 0===H||null===(g=H.selectedBlueprintComponent)||void 0===g||null===(h=g.fields)||void 0===h?void 0:h.length)?"No fields available. Select and add by clicking above":"You can add a maximum of 12 fields per component."),gt.createElement("br",null)),(null===Ue||void 0===Ue?void 0:Ue.length)>0&&gt.createElement(P.Z,{message:Ue,onClick:function(){return He("")}}),(null===lt||void 0===lt?void 0:lt.length)>0&&gt.createElement(P.Z,{withError:!1,extraClassName:he,message:lt,onClick:function(){return ot("")}})),gt.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingTop:"10px",width:"100%",overflow:"auto"}},gt.createElement(f.zx,{loading:oe,title:"Close",clicked:function(){return I()},titleStyle:{fontSize:"14px"},style:{width:"16%",display:$e?"none":""}}),gt.createElement(f.zx,{disabled:!((null===H||void 0===H||null===(C=H.selectedBlueprintComponent)||void 0===C?void 0:C.fields.length)>0&&null!==(S=H.selectedBlueprintComponent)&&void 0!==S&&S.name),light:!0,title:Ye?"Save":"Update",loading:oe,clicked:st,titleStyle:{fontSize:"14px"},style:{width:"20%",display:1==(null===H||void 0===H||null===(b=H.selectedBlueprintComponent)||void 0===b?void 0:b.readonly)&&"superadmin"!==A.status?"none":(null===H||void 0===H||null===(E=H.selectedBlueprintComponent)||void 0===E?void 0:E.fields.length)>0&&null!==(_=H.selectedBlueprintComponent)&&void 0!==_&&_.name?"":"none"}}),!Ye&&gt.createElement(f.j3,{permissions:[f.po.blueprints.components.delete]},gt.createElement(f.zx,{light:!0,title:$e?"Back":"Rename",clicked:function(){return et(!$e)},titleStyle:{fontSize:"14px"},style:{width:"20%",display:1==(null===H||void 0===H||null===(Z=H.selectedBlueprintComponent)||void 0===Z?void 0:Z.readonly)&&"superadmin"!==A.status?"none":""}})),!Ye&&!$e&&gt.createElement(f.j3,{permissions:[f.po.blueprints.components.delete]},gt.createElement(f.zx,{light:!0,title:"Copy",clicked:ct,titleStyle:{fontSize:"14px"},style:{width:"22%"}})),!Ye&&!$e&&0==(null===H||void 0===H||null===(w=H.selectedBlueprintComponent)||void 0===w?void 0:w.readonly)&&gt.createElement(gt.Fragment,null,gt.createElement(f.j3,{permissions:[f.po.blueprints.components.delete]},gt.createElement(f.zx,{light:!0,title:"New",clicked:function(){Ge(!0),K({type:u.qY.resetSelectedBlueprintComponent})},titleStyle:{fontSize:"14px"},style:{width:"16%"}}),0===D.filter((function(e){return e.component_fields.filter((function(e){var t;return e.component_blueprint_id===(null===(t=H.selectedBlueprintComponent)||void 0===t?void 0:t.id)})).length>0})).length&&gt.createElement(f.zx,{light:!0,title:"Delete",loading:ge,clicked:function(){Ne(!0),(0,ue.bp)(H.selectedBlueprintComponent.id).subscribe({next:function(){k.h.dispatch((0,m.Xc)({show:!0,message:"You have successfully deleted ".concat(H.selectedBlueprintComponent.name),color:"red"})),null===L||void 0===L||L(!0)},complete:function(){Ne(!1),null===I||void 0===I||I(!0)}})},titleStyle:{fontSize:"14px"},style:{width:"20%"}})))))),ee&&gt.createElement(De,{onClose:function(){K({type:u.qY.setSelectedFieldFromSelectedBlueprintComponent,value:null}),Me(!1),Pe(!1),te(!1)},isOpen:ee,modalStyle:{maxWidth:"500px",minWidth:"422px"},leftControlAction:function(e){return function(e){Pe(!0),K({type:u.qY.removeSelectedFieldFromSelectedBlueprintComponent,value:{id:e}}),Pe(!1),te(!1)}(e)},leftControlLoading:Te,centralControlAction:function(e){Me(!0),K({type:u.qY.setSelectedBlueprintComponentSpecificField,value:e}),Me(!1),te(!1)},centralControlLoading:Ie,allModules:M,blueprints:O,components:D,companyProcesses:W,products:F,selectedFields:H.selectedBlueprintComponent.fields,readOnly:(null===H||void 0===H||null===(N=H.selectedBlueprintComponent)||void 0===N?void 0:N.readonly)&&"superadmin"!==A.status}),G&&gt.createElement(f.Ts,{onClick:function(){return J(!1)},url:"https://www.youtube.com/watch?v=xV-bOHvfbPQ"}))})),Ct=function(e){var t,n,l=e.id,o=e.value,i=e.field_type,r=k.h.getState().flowReducer.companyData,d=(0,u.aL)(),s=(0,a.Z)(d,2)[1];switch(null===i||void 0===i?void 0:i.data_type){case"file":case"date":return gt.createElement("input",{type:"input",placeholder:null===i||void 0===i?void 0:i.name,className:ge,value:o,name:null===i||void 0===i?void 0:i.name,onChange:function(e){s({type:u.qY.setSelectedBlueprintComponentSpecificField,value:{id:l,value:e.target.value}})}});case"text":return gt.createElement("input",{type:null===i||void 0===i?void 0:i.data_type,placeholder:"Input name for "+(null===i||void 0===i?void 0:i.name),className:ge,value:o,name:null===i||void 0===i?void 0:i.name,onChange:function(e){var t=e.target.value;s({type:u.qY.setSelectedBlueprintComponentSpecificField,value:{id:l,value:t}})}});case"output":return gt.createElement("input",{type:null===i||void 0===i?void 0:i.data_type,placeholder:"Insert value for "+(null===i||void 0===i||null===(t=i.name)||void 0===t?void 0:t.toLowerCase())+" element...",className:ge,value:o,name:null===i||void 0===i?void 0:i.name,readOnly:"-"!==(null===r||void 0===r?void 0:r.id)&&"Template"===(null===i||void 0===i?void 0:i.name),onChange:function(e){var t=e.target.value;s({type:u.qY.setSelectedBlueprintComponentSpecificField,value:{id:l,value:t}})}});default:return gt.createElement("input",{type:null===i||void 0===i?void 0:i.data_type,placeholder:"Insert value for "+(null===i||void 0===i||null===(n=i.name)||void 0===n?void 0:n.toLowerCase())+" element...",className:ge,value:o,name:null===i||void 0===i?void 0:i.name,onChange:function(e){var t=e.target.value;s({type:u.qY.setSelectedBlueprintComponentSpecificField,value:{id:l,value:t}})}})}},St=function(e){var t=e.id,n=e.renderError,l=(e.fieldIcon,e.children),o=e.hasSettingsBtn,r=e.settingsClicked,d=e.name,s=(0,u.aL)(),c=(0,a.Z)(s,1)[0],m=(0,i.useState)(!1),p=(0,a.Z)(m,2),v=p[0],f=p[1],y=(0,i.useCallback)((function(){var e;return f(n&&(null===(e=c.validation.fields)||void 0===e?void 0:e.some((function(e){return(null===e||void 0===e?void 0:e.toString())===(null===t||void 0===t?void 0:t.toString())}))))}),[n,c.validation.fields,t]);return(0,i.useEffect)((function(){y()}),[n,t,c.validation.fields,y]),gt.createElement("div",{className:pe,"app-field-row-has-error":v?"error":""},gt.createElement("div",{className:ve},l),gt.createElement("p",{className:ye},d),o&&gt.createElement("button",{className:fe,onClick:function(){return r()}},gt.createElement(V.G,{icon:z.gr5,style:{width:"20px",height:"20px",color:"gray"}})))},bt=(0,r.$j)((function(e){var t=e.flowReducer,n=t.blueprints,l=t.allStatutes,o=t.selectedBlueprintComponent,a=t.allModules,i=t.componentTypes,r=t.components,d=t.products,u=t.companyData,s=t.companyProcesses,c=e.modalsReducer;return{blueprints:n,allStatutes:l,selectedBlueprintComponent:o,allModules:a,componentTypes:i,components:r,products:d,companyData:u,companyProcesses:s,onBoardingModalsVisibility:c.onBoardingModalsVisibility,isOnboarding:c.isOnboarding}}),(function(e){return{onSetSelectedProStep:function(t){return e((0,m.Sc)(t))}}}))(ht),Et=n(22590),_t=n(74165),Zt=n(15861),wt=n(4942),Nt=n(28550),xt=n(88846),Lt=n(62169),It=n(84634),Mt=n(9204),Ot=n(30401),kt=n(62498),Tt=n(51791),Pt=n(97606),Bt=n(8284),Dt=n(12653),Ft=n(80121),At=n(31510),Wt=n(97293),Vt=n(45987),zt=n(87462),Rt=!1,jt="data-dev-focus",qt='a[href], button, input:not([type="hidden"]), [tabindex="0"], select, textarea',Ut=!1;if("undefined"!==typeof window&&"undefined"!==typeof document)try{var Ht=document.createElement("div");Ht.addEventListener("focus",(function(e){e.preventDefault(),e.stopPropagation()}),!0),Ht.focus(Object.defineProperty({},"preventScroll",{get:function(){Ut=!0}}))}catch(bl){}var Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.activeElement;try{return e.matches(":focus-visible")}catch(t){}return!1},Xt=function(e){var t=e.target&&"getAttribute"in e.target&&e.target;t&&null!=t.getAttribute(jt)&&requestAnimationFrame((function(){t.removeAttribute(jt)}))},Yt=function(){Rt||(Rt=!0,document.addEventListener("blur",Xt,!0))},Gt="StepComponents_renderComponent__+z3XW",Jt="StepComponents_wrapper__3JMC9",Qt="StepComponents_mainContainer__zd1cq",$t="StepComponents_firstRow__XX+Ep",en="StepComponents_pLabel__NLkqd",tn="StepComponents_icoContainer__RDLt2",nn="StepComponents_renderFieldOfComponent__YckNH",ln="StepComponents_inheritedFieldNameContainer__OP5us",on="StepComponents_inheritedFieldName__Z3BI3",an="StepComponents_inheritedFieldMandatoryMark__3Oe+t",rn="StepComponents_optionsContainer__yY3PK",dn="StepComponents_mandatoryContainer__CFmJm",un="StepComponents_mandatoryIconContainer__CHSuP",sn="StepComponents_mandatorySVG__SrpT7",cn="StepComponents_notMandatory__fegWP",mn="StepComponents_mandatoryText__iZ04J",pn="StepComponents_typeText__+A6OQ",vn="StepComponents_visibilityContainer__er+Sk",fn="StepComponents_renderComponents__PxNBA",yn="StepComponents_noContentWrapperNewComponents__dQHs8",gn="StepComponents_noContentWrapperContainerNewComponents__C+epL",hn="StepComponents_noContentParagraphNewComponents__9soSj",Cn="StepComponents_firstRowControls__QK4Eb",Sn="StepComponents_renderSearchComponentsHost__LM0BX",bn="StepComponents_showSearchComponentContainer__O7l8b",En="StepComponents_showSearchComponentSelectWithSearchContainer__S0y1p",_n="StepComponents_showSearchComponentSelectWithSearchAddComponentButton__5gcm8",Zn="StepComponents_errorContainer__gR5Ss",wn="StepComponents_peoplePositionsSelectBorderless__iOTkZ",Nn="StepComponents_peoplePositionsSelect__kisVR",xn="StepComponents_peoplePositionsSelectInput__PuuvP",Ln="StepComponents_peoplePositionsSelectMenuOverlay__mivFp",In="StepComponents_peoplePositionsSelectMenuOverlayItem__mpsra",Mn="StepComponents_listContainer__bnutj",On="StepComponents_accordionContainer__h-Kjc",kn=n(60179),Tn=n(71302),Pn=n(30490),Bn=n(67861),Dn=n(66918),Fn=(0,i.memo)((function(e){e.selectedProcess;var t=e.blueprints,n=e.companyPositionsArray,l=e.showAddButton,r=void 0===l||l,u=e.onEditChange,s=void 0===u?function(){}:u,m=(0,c._M)(),p=(0,a.Z)(m,2),y=p[0],g=p[1],h=(0,i.useState)([]),C=(0,a.Z)(h,2),S=C[0],b=C[1],E=(0,i.useState)(!1),_=(0,a.Z)(E,2),Z=_[0],w=_[1],N=(0,i.useCallback)((function(){var e,t,n,l;if(!(null!==y&&void 0!==y&&null!==(e=y.selectedStep)&&void 0!==e&&null!==(t=e.component_blueprints)&&void 0!==t&&t.length)>0)return b([]);var a=Dn.compose(Dn.map(Dn.assoc("hasStatus",(null===(n=Dn.pathOr("",["status","id"]))||void 0===n?void 0:n.length)>0)),Dn.map(Dn.assoc("hasTitle",(null===(l=Dn.flip(Dn.prop("title")))||void 0===l?void 0:l.length)>0)))(y.selectedStep.component_blueprints);b((0,o.Z)(a.map((function(e){return{value:e.id,uuid:e._uuid,title:e.title,component:e}}))))}),[y.selectedStep.component_blueprints]);(0,i.useEffect)((function(){N()}),[y.selectedStep.component_blueprints,N]);var x=(0,i.useCallback)((function(e){(0,ue.vG)(e.value).pipe((0,d.P)()).subscribe({next:function(e){var t={id:e.id,is_active:!0,is_inherited:!1,name:e.name,selected_fields:e.fields.map((function(e){var t,n,l,o,a;return{data_type:null===e||void 0===e||null===(t=e.field_type)||void 0===t?void 0:t.data_type,data_type_name:null===e||void 0===e||null===(n=e.field_type)||void 0===n?void 0:n.name,field_name:null!==(l=null===e||void 0===e?void 0:e.value)&&void 0!==l?l:null===e||void 0===e||null===(o=e.field_type)||void 0===o?void 0:o.name,id:e.id,index:e.index,mandatory:!1,options:null!==(a=null===e||void 0===e?void 0:e.options)&&void 0!==a?a:[],process_step_blueprint_field_id:e.id}})),status:{id:"",name:""},title:"",hasStatus:!1,hasTitle:!1,_uuid:(0,v.mR)(),new:!0};g({type:c.Cb.addNewComponentAtStep,value:t}),w((function(e){return!e}))},error:function(e){}})}),[g]);return Bn.createElement("div",{className:fn},(null===S||void 0===S?void 0:S.length)>0&&(null===S||void 0===S?void 0:S.map((function(e,t){var l;return Bn.createElement(An,{onEditChange:function(t){s(t,e.component.id)},key:t+e.uuid,value:e.value,compUUID:e.uuid,title:(null===(l=e.title)||void 0===l?void 0:l.length)>0?e.title:"Select title...",companyPositionsArray:n})}))),Z?Bn.createElement(Vn,{onComponentSelect:x,blueprint_components:Dn.sortWith([Dn.ascend(Dn.prop("name"))])(t.filter((function(e){return Dn.not(Dn.includes(e.id,Dn.pipe(Dn.pluck("component_blueprints"),Dn.flatten,Dn.pipe(Dn.pluck("id")))(y.steps)))})).filter((function(e){return Dn.not(Dn.includes(e.id,Dn.pipe(Dn.pluck("value"))(S)))})))}):Bn.createElement("div",{className:yn,style:{display:0==r?"none":""}},Bn.createElement("div",{className:gn},t.length>0?Bn.createElement(f.zx,{style:{height:"30px"},title:"Attach Component",clicked:function(){return w((function(e){return!e}))}}):Bn.createElement("p",{className:hn},"There are no available components. Create one first!"))))})),An=(0,i.memo)((function(e){var t,n,o,r,u,s,m,p,v,y,g,h,C,S,b,E,_,Z,w,N,x,L,I,M,O,k,T,P,B,D,F,A,W,R,j,q,U,H,K,X,Y,G,J,Q,$,ee,te,ne,le=e.value,oe=e.title,ae=e.compUUID,ie=e.companyPositionsArray,re=e.show,de=void 0!==re&&re,ce=e.onEditChange,me=void 0===ce?function(){}:ce,pe=(0,i.useRef)(null),ve=(0,c._M)(),fe=(0,a.Z)(ve,2),ye=fe[0],ge=fe[1],he=(0,i.useState)(Dn.find(Dn.allPass([Dn.propEq("_uuid",ae)]))(null!==(t=null===ye||void 0===ye||null===(n=ye.selectedStep)||void 0===n?void 0:n.component_blueprints)&&void 0!==t?t:[])),Ce=(0,a.Z)(he,2),Se=Ce[0],be=Ce[1],Ee=(0,i.useState)(""),_e=(0,a.Z)(Ee,2),Ze=_e[0],we=_e[1],Ne=(0,i.useState)(!1),xe=(0,a.Z)(Ne,2)[1],Le=(0,i.useState)(null!==(o=(null===Se||void 0===Se||null===(r=Se.options)||void 0===r||null===(u=r.showOnly)||void 0===u?void 0:u.length)>0)&&void 0!==o&&o),Ie=(0,a.Z)(Le,2),Me=Ie[0],ke=Ie[1],Te=(0,i.useState)(!1),Pe=(0,a.Z)(Te,2),Be=Pe[0],De=Pe[1],Fe=(0,i.useState)(!1),Ae=(0,a.Z)(Fe,2),We=Ae[0],Ve=Ae[1],ze=(0,i.useState)(null!==(s=null===Se||void 0===Se?void 0:Se.new)&&void 0!==s?s:de),Re=(0,a.Z)(ze,2),je=Re[0],qe=Re[1],Ue=(0,i.useState)((function(){var e;return 0===(null===Se||void 0===Se||null===(e=Se.selected_fields)||void 0===e?void 0:e.length)?[]:Dn.sortWith([Dn.ascend(Dn.prop("index"))])(Se.selected_fields).map((function(e,t){var n;return(0,l.Z)({},{id:"row-".concat(e.id),component:Bn.createElement(Wn,{key:"field-".concat(null===e||void 0===e?void 0:e.id).concat(t),fieldId:null===e||void 0===e?void 0:e.id,compId:le,compUUID:ae,componentTitle:null===Se||void 0===Se?void 0:Se.title,isKeyClicked:function(){be((0,l.Z)((0,l.Z)({},Se),{},{options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{key:e.field_name})})),ge({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ae,compBluePrintId:Se.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{key:e.field_name})}})},isKey:(null===Se||void 0===Se||null===(n=Se.options)||void 0===n?void 0:n.key)===e.field_name,component:Se})})}))})),He=(0,a.Z)(Ue,2),Ke=He[0],Xe=He[1];(0,i.useEffect)((function(){var e,t,n=Dn.find(Dn.allPass([Dn.propEq("_uuid",ae)]))(null!==(e=null===ye||void 0===ye||null===(t=ye.selectedStep)||void 0===t?void 0:t.component_blueprints)&&void 0!==e?e:[]);be(n)}),[null===ye||void 0===ye||null===(m=ye.selectedStep)||void 0===m?void 0:m.component_blueprints,le]);var Ye=(0,i.useCallback)((function(){De(!0),(0,ue.vG)(Se.id).pipe((0,d.P)()).subscribe({next:function(e){De(!1);var t=e.fields.map((function(e){var t,n,l,o,a,i=Se.selected_fields.find((function(t){return t.id===e.id}));return i?(i.options=null===e||void 0===e?void 0:e.options,i):(we({title:"Change in fields found, please save this step"}),qe(!0),{data_type:null===e||void 0===e||null===(t=e.field_type)||void 0===t?void 0:t.data_type,data_type_name:null===e||void 0===e||null===(n=e.field_type)||void 0===n?void 0:n.name,field_name:null!==(l=null===e||void 0===e?void 0:e.value)&&void 0!==l?l:null===e||void 0===e||null===(o=e.field_type)||void 0===o?void 0:o.name,id:e.id,index:e.index,mandatory:!1,options:null!==(a=null===e||void 0===e?void 0:e.options)&&void 0!==a?a:[],process_step_blueprint_field_id:e.id})}));t.length<Se.selected_fields.length&&(we({title:"A field was removed, please save this step"}),qe(!0)),Se.selected_fields=t,ge({type:c.Cb.updateComponentAtStep,value:Se}),Xe((function(){var e;return 0===(null===Se||void 0===Se||null===(e=Se.selected_fields)||void 0===e?void 0:e.length)?[]:Dn.sortWith([Dn.ascend(Dn.prop("index"))])(Se.selected_fields).map((function(e,t){var n;return(0,l.Z)({},{id:"row-".concat(e.id),component:Bn.createElement(Wn,{key:"field-".concat(null===e||void 0===e?void 0:e.id).concat(t),fieldId:null===e||void 0===e?void 0:e.id,compId:le,compUUID:ae,componentTitle:null===Se||void 0===Se?void 0:Se.title,isKeyClicked:function(){be((0,l.Z)((0,l.Z)({},Se),{},{options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{key:e.field_name})})),ge({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ae,compBluePrintId:Se.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{key:e.field_name})}})},isKey:(null===Se||void 0===Se||null===(n=Se.options)||void 0===n?void 0:n.key)===e.field_name,component:Se})})}))})),be((0,l.Z)((0,l.Z)({},Se),{},{selected_fields:t}))},error:function(e){De(!1)}})}),[ge]),Ge=(0,i.useCallback)((function(){ge({type:c.Cb.removeComponentFromStep,value:{uuid:ae}})}),[ae]);(0,i.useEffect)((function(){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e||n&&!Ut||(t&&(!0===t&&(t=qt),e=e.querySelector(t)),null!=e&&requestAnimationFrame((function(){e&&(-1==e.tabIndex&&null==e.getAttribute("tabindex")&&(e.tabIndex=-1),Kt()||(e.setAttribute(jt,""),Rt||Yt()),e.focus({preventScroll:!0}))})))}(null===pe||void 0===pe?void 0:pe.current,!0)}),[null===Se||void 0===Se?void 0:Se.title]);var Je=(0,i.useMemo)((function(){return[{Header:"Component",columns:[{Header:"Component",accessor:"component"}]}]}),[]);return Bn.createElement(f.sm,{key:le+oe,className:Gt,"comp-in-edit-mode":je?"true":null,"app-variant":(null===(p=Ze.title)||void 0===p?void 0:p.length)>0||(null===(v=Ze.status)||void 0===v?void 0:v.length)>0?"error":"normal",onClickOutside:function(){xe(!0)}},Bn.createElement(f.gc,{title:"".concat(1==(null===Se||void 0===Se||null===(y=Se.options)||void 0===y?void 0:y.allowMultipleInputs)?"Transaction":!0===(null===Se||void 0===Se||null===(g=Se.options)||void 0===g?void 0:g.asReport)?"Report":!0===(null===Se||void 0===Se||null===(h=Se.options)||void 0===h?void 0:h.asDashboard)?"Dashboard":!0===(null===Se||void 0===Se||null===(C=Se.options)||void 0===C?void 0:C.asModuleList)?"Main List":"Component",":")}),Bn.createElement("div",{className:Jt},Bn.createElement("div",{className:Qt},Bn.createElement("div",{className:$t},Bn.createElement("p",{className:en,onClick:function(){return me(Se.id)}},null===Se||void 0===Se?void 0:Se.name),Bn.createElement("div",{className:Cn},je&&Bn.createElement(f.zx,{light:!0,icon:Bn.createElement(V.G,{icon:z.Mdf,style:{width:"20px",height:"30px"}}),style:{height:"30px"},clicked:function(){return Ve(!0)}}),je&&Bn.createElement(f.zx,{loadingIn:Be,light:!0,icon:Bn.createElement("img",{src:Oe.Fdh}),style:{height:"30px"},clicked:function(){return Ye()}}),je&&Bn.createElement(f.zx,{light:!0,style:{height:"30px"},title:"Remove",clicked:function(){return Ge()}}),Bn.createElement("div",{className:tn,onClick:function(){qe((function(e){return!e}))}},Bn.createElement(Oe.Kn6,{style:{transform:je?"rotate(180deg)":"rotate(0deg)"}})))),(null===(S=Ze.title)||void 0===S?void 0:S.length)>0&&Bn.createElement("span",{className:Zn},Ze.title))),We&&Bn.createElement(f.U7,{hasCloseIcon:!0,onClose:function(){return Ve(!1)},scrollable:!0,shadowedContainerStyle:{minWidth:"500px",width:"100%"},isOpen:We,blured:!0},Bn.createElement("div",{style:{backgroundColor:"rgb(246, 244, 236)",width:"inherit"}},Bn.createElement("div",{className:Mn,style:{display:"flex",margin:"150px 50px 50px 50px"}},Bn.createElement("div",{className:On,style:{margin:"30px 0 0 0"}},Bn.createElement(Pn.g,{component:Se,selectedComponent:{id:"",name:""},isDraft:!0,setTaskProcessContext:function(){},processTaskContext:{components:[],newStepComponents:[]}}))))),je&&Bn.createElement("div",{style:{flex:1,width:"100%"}},Bn.createElement(f.jL,{ref:pe,ungrouped:!0,title:"Drag to arrange Component Fields:",columned:!0,withAckButton:!1},Bn.createElement("br",null),Bn.createElement(kn.z0,null,Bn.createElement(kn.iA,{columns:Je,data:Ke,onhandleDragEnd:function(e){e.map((function(e,t){ge({type:c.Cb.updateComponentFieldIndexKeyValue,value:{compBluePrintUUID:e.component.props.compUUID,compBluePrintId:e.component.props.compId,fieldId:e.component.props.fieldId,index:t}})})),Xe(e)}}))),Bn.createElement(f.pd,{id:"moduleList",title:"Use as Transactions List",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ye&&void 0!==ye&&null!==(b=ye.selectedStep)&&void 0!==b&&null!==(E=b.options)&&void 0!==E&&E.templateName||1!=(null===ye||void 0===ye||null===(_=ye.selectedStep)||void 0===_?void 0:_.rank)||1==(null===Se||void 0===Se||null===(Z=Se.options)||void 0===Z?void 0:Z.asDashboard)||1==(null===Se||void 0===Se||null===(w=Se.options)||void 0===w?void 0:w.asReport)?"none":""},value:null!==(N=null===Se||void 0===Se||null===(x=Se.options)||void 0===x?void 0:x.asModuleList)&&void 0!==N&&N,toggleSelected:function(e){be((0,l.Z)((0,l.Z)({},Se),{},{options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{asReport:!1,asDashboard:!1,asModuleList:e})})),ge({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ae,compBluePrintId:Se.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{asReport:!1,asDashboard:!1,asModuleList:e})}})}}),Bn.createElement(f.pd,{id:"asReport",title:"Use as a report?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ye&&void 0!==ye&&null!==(L=ye.selectedStep)&&void 0!==L&&null!==(I=L.options)&&void 0!==I&&I.templateName||1!=(null===ye||void 0===ye||null===(M=ye.selectedStep)||void 0===M?void 0:M.rank)||1==(null===Se||void 0===Se||null===(O=Se.options)||void 0===O?void 0:O.asModuleList)||1==(null===Se||void 0===Se||null===(k=Se.options)||void 0===k?void 0:k.asDashboard)?"none":""},value:null!==(T=null===Se||void 0===Se||null===(P=Se.options)||void 0===P?void 0:P.asReport)&&void 0!==T&&T,toggleSelected:function(e){be((0,l.Z)((0,l.Z)({},Se),{},{options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{asModuleList:!1,asDashboard:!1,asReport:e})})),ge({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ae,compBluePrintId:Se.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{asModuleList:!1,asDashboard:!1,asReport:e})}})}}),Bn.createElement(f.pd,{id:"asDashboard",title:"View as dashboard?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ye&&void 0!==ye&&null!==(B=ye.selectedStep)&&void 0!==B&&null!==(D=B.options)&&void 0!==D&&D.templateName||1!=(null===ye||void 0===ye||null===(F=ye.selectedStep)||void 0===F?void 0:F.rank)||1==(null===Se||void 0===Se||null===(A=Se.options)||void 0===A?void 0:A.asModuleList)||1==(null===Se||void 0===Se||null===(W=Se.options)||void 0===W?void 0:W.asReport)?"none":""},value:null!==(R=null===Se||void 0===Se||null===(j=Se.options)||void 0===j?void 0:j.asDashboard)&&void 0!==R&&R,toggleSelected:function(e){be((0,l.Z)((0,l.Z)({},Se),{},{options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{asReport:!1,asModuleList:!1,asDashboard:e})})),ge({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ae,compBluePrintId:Se.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{asReport:!1,asModuleList:!1,asDashboard:e})}})}}),Bn.createElement(f.pd,{id:"multipleInputs",title:"Allow multiple inputs?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ye&&void 0!==ye&&null!==(q=ye.selectedStep)&&void 0!==q&&null!==(U=q.options)&&void 0!==U&&U.templateName||1==(null===Se||void 0===Se||null===(H=Se.options)||void 0===H?void 0:H.asModuleList)||1==(null===Se||void 0===Se||null===(K=Se.options)||void 0===K?void 0:K.asReport)||1==(null===Se||void 0===Se||null===(X=Se.options)||void 0===X?void 0:X.asDashboard)?"none":Se.selected_fields.filter((function(e){var t;return null===(t=e.options)||void 0===t?void 0:t.mapToItem})).length>0&&Se.selected_fields.find((function(e){return"Transaction List"===e.data_type_name}))?"":"none"},value:null!==(Y=null===Se||void 0===Se||null===(G=Se.options)||void 0===G?void 0:G.allowMultipleInputs)&&void 0!==Y&&Y,toggleSelected:function(e){be((0,l.Z)((0,l.Z)({},Se),{},{options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{allowMultipleInputs:e})})),ge({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ae,compBluePrintId:Se.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{allowMultipleInputs:e})}})}}),Bn.createElement(f.pd,{id:"showAll",title:"Show component to all?",ungrouped:!0,withAckButton:!1,style:{margin:"20px 2.5% 10px 5px",width:"auto",display:null!==ye&&void 0!==ye&&null!==(J=ye.selectedStep)&&void 0!==J&&null!==(Q=J.options)&&void 0!==Q&&Q.templateName?"none":""},value:!Me,toggleSelected:function(e){ke(!e)}}),Bn.createElement(f.jL,{style:{display:null!==ye&&void 0!==ye&&null!==($=ye.selectedStep)&&void 0!==$&&null!==(ee=$.options)&&void 0!==ee&&ee.templateName?"none":Me?"":"none"},ref:pe,ungrouped:!0,title:"Only show this component to:",columned:!0,withAckButton:!1},Bn.createElement("br",null),Bn.createElement(se.Cm,{tagEmplacement:"inlined",searchable:!1,items:ie,groupedBy:"department",groupname:"department",triggerType:"chevron",initialSelectedValues:null===Se||void 0===Se||null===(te=Se.options)||void 0===te||null===(ne=te.showOnly)||void 0===ne?void 0:ne.map((function(e){return ie.find((function(t){return t.value===e}))})),className:Nn,inputClassName:xn,molclassname:Ln,moliclassname:In,onChange:function(e){be((0,l.Z)((0,l.Z)({},Se),{},{options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{showOnly:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))})})),ge({type:c.Cb.updateComponentKeyValue,value:{compBluePrintUUID:ae,compBluePrintId:Se.id,isInherited:!1,options:(0,l.Z)((0,l.Z)({},null===Se||void 0===Se?void 0:Se.options),{},{showOnly:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))})}})}}))))}),(function(e,t){return t.props===e.props})),Wn=(0,i.memo)((function(e){var t,n,l,o,r,d,u=e.fieldId,s=e.compId,m=e.compUUID,p=e.componentTitle,v=e.isKeyClicked,f=(e.isKey,e.component,(0,c._M)()),y=(0,a.Z)(f,2),g=y[0],h=y[1],C=(0,i.useState)(!1),S=(0,a.Z)(C,2),b=S[0],E=S[1],_=(0,i.useCallback)((function(){var e,t,n,l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Dn.find(Dn.propEq("_uuid",e))(t)}(m,null!==(e=null===g||void 0===g||null===(t=g.selectedStep)||void 0===t?void 0:t.component_blueprints)&&void 0!==e?e:[]);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Dn.find(Dn.propEq("id",e))(t)}(u,null!==(n=null===l||void 0===l?void 0:l.selected_fields)&&void 0!==n?n:[])}),[s,u,null===g||void 0===g||null===(t=g.selectedStep)||void 0===t?void 0:t.component_blueprints]),Z=function(e){return E(e)},w=(0,i.useState)(_()),N=(0,a.Z)(w,2),x=N[0],L=N[1];(0,i.useEffect)((function(){L(_())}),[_,g.selectedStep.component_blueprints]);var I=(0,i.useCallback)((function(){var e,t;Z(!1),(null===(e=null!==(t=null===p||void 0===p?void 0:p.split(", "))&&void 0!==t?t:[])||void 0===e?void 0:e.some((function(e){return(null===e||void 0===e?void 0:e.toLowerCase())==(null===x||void 0===x?void 0:x.field_name.toLowerCase())})))&&Z(!0)}),[p,null===x||void 0===x?void 0:x.field_name]);(0,i.useEffect)((function(){I()}),[]),(0,i.useEffect)((function(){var e,t;Z(!1),(null===(e=null!==(t=null===p||void 0===p?void 0:p.split(", "))&&void 0!==t?t:[])||void 0===e?void 0:e.some((function(e){return(null===e||void 0===e?void 0:e.toLowerCase())==(null===x||void 0===x?void 0:x.field_name.toLowerCase())})))&&Z(!0)}),[s,p,I,null===x||void 0===x?void 0:x.field_name,null===g||void 0===g||null===(n=g.selectedStep)||void 0===n?void 0:n.component_blueprints]);var M=(0,i.useCallback)((function(e){!b&&(null===s||void 0===s?void 0:s.length)>0&&h({type:c.Cb.updateComponentFieldKeyValue,value:{compBluePrintUUID:m,compBluePrintId:s,isInherited:!1,fieldId:u,visible:e,index:null===x||void 0===x?void 0:x.index,mandatory:0!=e&&("output"!==x.data_type&&(null===x||void 0===x?void 0:x.mandatory))}})}),[s,m,null===x||void 0===x?void 0:x.mandatory,u,b,h,null===x||void 0===x?void 0:x.index]),O=(0,i.useCallback)((function(e){!b&&(null===s||void 0===s?void 0:s.length)>0&&h({type:c.Cb.updateComponentFieldKeyValue,value:{compBluePrintUUID:m,compBluePrintId:s,isInherited:!1,fieldId:u,mandatory:"output"!==x.data_type&&e,index:null===x||void 0===x?void 0:x.index,visible:1==e||(null===x||void 0===x?void 0:x.visible)}})}),[s,m,null===x||void 0===x?void 0:x.visible,u,b,h,null===x||void 0===x?void 0:x.index]);return Bn.createElement("div",{className:nn,"app-variant":b?"read-only":"editable","app-color":null!==x&&void 0!==x&&x.visible?"active":"inactive",tabIndex:"0"},Bn.createElement("div",{className:ln},Bn.createElement("p",{className:on},null===x||void 0===x?void 0:x.field_name),Bn.createElement("p",{className:an},(null===x||void 0===x?void 0:x.mandatory)&&"*")),Bn.createElement("p",{className:pn},x.data_type_name),Bn.createElement("span",{className:rn},Bn.createElement("div",{className:dn,onClick:function(){O(!(null!==x&&void 0!==x&&x.mandatory))}},"output"!==x.data_type&&"ID"!==x.data_type_name&&Bn.createElement("span",{className:un},null!==x&&void 0!==x&&x.mandatory?Bn.createElement(Oe.H_U,{className:sn}):Bn.createElement("div",{className:cn})),"output"!==x.data_type&&"ID"!==x.data_type_name&&Bn.createElement("p",{className:mn},b?"":"Required")),"output"!==x.data_type&&"ID"!==x.data_type_name&&Bn.createElement("img",{src:(null===g||void 0===g||null===(l=g.selectedStep)||void 0===l||null===(o=l.component_blueprints)||void 0===o||null===(r=o.find((function(e){return e.id===s})))||void 0===r||null===(d=r.options)||void 0===d?void 0:d.key)===(null===x||void 0===x?void 0:x.field_name)?Tn.fU5:Tn.pyc,style:{height:"20px",width:"20px",cursor:"pointer"},onClick:v}),Bn.createElement("div",{className:vn,onClick:function(){M(!(null!==x&&void 0!==x&&x.visible))}},void 0==(null===x||void 0===x?void 0:x.visible)||null!==x&&void 0!==x&&x.visible?Bn.createElement(Oe.Ch$,null):Bn.createElement(Oe.vV8,null))))})),Vn=function(e){var t,n=e.onComponentSelect,l=e.blueprint_components,o=(0,i.useState)(l),r=(0,a.Z)(o,1)[0],d=(0,i.useState)(!0),u=(0,a.Z)(d,2),s=u[0],c=u[1],m=(0,i.useState)({}),p=(0,a.Z)(m,2),f=p[0],y=p[1];return Bn.createElement("div",{className:Sn},s?Bn.createElement("div",{className:bn,"app-display-variant":s?"table-row":"none"},Bn.createElement("div",{className:En},Bn.createElement(se.yV,{placeholder:"Select component to attach ...",items:r.map((function(e){return{value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.name,type:!0===(null===e||void 0===e?void 0:e.readonly)?"Template":(0,v.m)(null===e||void 0===e?void 0:e.name)}})),id:"select-step-new-blueprint-component",initialSelectedValues:[],groupedBy:"type",groupname:"type",inputStyle:{cursor:"pointer"},className:wn,inputClassName:xn,molclassname:Ln,moliclassname:In,onChange:function(e){(null===e||void 0===e?void 0:e.length)>0?y(e[0]):y({value:"",label:""})}},Bn.createElement(V.G,{className:"fa-icon",icon:z.ptq,style:{marginRight:"20px",color:"gray"}})),(null===f||void 0===f||null===(t=f.value)||void 0===t?void 0:t.length)>0&&Bn.createElement("button",{type:"button",className:_n},Bn.createElement(Oe.H_U,{onClick:function(){n(f),c((function(e){return!e}))}})))):Bn.createElement("p",{style:{textAlign:"center",marginBottom:"auto",color:"var(--app-color-gray-light)",fontFamily:"var(--app-text-main-font)",fontSize:"16px",marginTop:"20px",lineHeight:"32px"}},"Finish adding your previous component to add another."))},zn=n(64468),Rn="StepData_multiselectWithSearch__FVnWX",jn="StepData_smoMultiselectParent__kAn4t",qn="StepData_selectMenuItem__i040a",Un="StepData_smoMultiselectPathway__FDzOg",Hn="StepData_inputClassName__U3j-5",Kn="StepData_smoMultiselectInputContainerPathways__kK9V4",Xn="StepData_leftIconItemContainerClassName__cytl0",Yn="StepData_peoplePositionsSelect__FZEAk",Gn="StepData_peoplePositionsSelectInput__4N5AT",Jn="StepData_peoplePositionsSelectMenuOverlay__VU2s4",Qn="StepData_peoplePositionsSelectMenuOverlayItem__xI2Zj",$n=(0,i.createRef)(null),el={parentSteps:{id:"parentStep",title:"Parent Step",placeholder:"Select steps here...",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},stepName:{id:"stepName",title:"Step Name",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},guidance:{id:"guidance",title:"Description",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},rank:{id:"rank",title:"Rank",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},newComponents:{id:"newComponents",title:"Components to be used in this step",defaultHighlighted:!0,readOnly:!0,otherContent:!0,withAckButton:!1,useContext:c.QJ},pathwayOptions:{id:"pathwayOptions",title:"Branch to the following steps",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},isFinalStep:{id:"isFinalStep",title:"Is this the final step of this workflow?",ungrouped:!0,withAckButton:!1,useContext:c.QJ},stepTemplate:{id:"stepTemplate",title:"Custom Template",defaultHighlighted:!0,withAckButton:!1,useContext:c.QJ},showStepAll:{id:"showStep",title:"Show step to all?",ungrouped:!0,withAckButton:!1,useContext:c.QJ},showStepAuthor:{id:"showStepAuthor",title:"Only show step to author?",ungrouped:!0,withAckButton:!1,useContext:c.QJ},showAsPopup:{id:"showAsPopup",title:"Show step as popup?",ungrouped:!0,withAckButton:!1,useContext:c.QJ},deleteOnBack:{id:"deleteOnBack",title:"Delete step inputs made on back?",ungrouped:!0,withAckButton:!1,useContext:c.QJ}},tl=n(74369),nl=n(32086),ll=n(67861),ol=["percentualWidth","children","style"],al=function(e){var t=e.percentualWidth,n=e.children,o=e.style,a=(0,Vt.Z)(e,ol);return ll.createElement("div",(0,zt.Z)({style:(0,l.Z)({width:t},o)},a),n)},il=(0,r.$j)((function(e){var t=e.flowReducer;return{blueprints:t.blueprints,allStatutes:t.allStatutes,selectedProcess:t.selectedProcess,selectedProStep:t.selectedProStep,companyData:t.companyData,companyPositionsArray:t.companyPositionsArray}}),(function(e){return{onSetSelectedProStep:function(t){return e((0,m.Sc)(t))},onSetSelectedProStepOptions:function(t){return e((0,m.Jk)(t))}}}))((function(e){var t,n,r,u,s,m,y,g,h,C,S,b,E,_,Z,w,N,x,L,I,M,O,k,T,P,B,D,F,A,W,V,z,R,j,q,U,H,K,X,Y,G,J,Q,$,ee,te,ne,le,oe=e.onSetSelectedProStep,ae=e.selectedProcess,ie=e.companyPositionsArray,re=e.blueprints,de=(e.companyData,e.onEditChange),ue=void 0===de?function(){}:de,ce=(0,c._M)(),me=(0,a.Z)(ce,2),pe=me[0],ve=me[1],fe=(0,i.useState)([]),ye=(0,a.Z)(fe,2),ge=ye[0],he=ye[1],Ce=(0,i.useState)(!1),Se=(0,a.Z)(Ce,2),be=Se[0],Ee=Se[1],_e=(0,i.useState)([]),Ze=(0,a.Z)(_e,2),we=Ze[0],Ne=Ze[1],xe=(0,i.useState)(!1),Le=(0,a.Z)(xe,2),Ie=Le[0],Me=Le[1],ke=(0,i.useState)([]),Te=(0,a.Z)(ke,2),Pe=Te[0],Be=Te[1],De=(0,i.useState)(null!==(t=null===(n=pe.selectedStep)||void 0===n||null===(r=n.options)||void 0===r?void 0:r.useCustomTemplate)&&void 0!==t&&t),Fe=(0,a.Z)(De,2),Ae=Fe[0],We=(Fe[1],(0,i.useState)({parentSteps:"",stepName:"",estimatedTime:"",guidance:"",inheritedComponents:"",newComponents:"",pathwayOptions:""})),Ve=(0,a.Z)(We,2),ze=Ve[0],Re=Ve[1],je=(0,v.DJ)();(0,i.useEffect)((function(){var e,t;0==(null===(e=pe.selectedStep)||void 0===e||null===(t=e.options)||void 0===t?void 0:t.is_start_next_process)&&ve({type:c.Cb.updateSelectedStepPathways,value:(0,o.Z)(pe.selectedStep.pathway_steps)})}),[null===(u=pe.selectedStep)||void 0===u||null===(s=u.options)||void 0===s?void 0:s.is_start_next_process]),(0,i.useEffect)((function(){Ue()}),[pe.selectedStep]),(0,i.useEffect)((function(){Ee(!0),(0,p.hI)({processId:ae.id,parentsOnly:1}).pipe((0,d.P)()).subscribe({next:function(e){var t,n;(null===e||void 0===e?void 0:e.length)>0?je()&&he((0,o.Z)(xt.Z(tl.Z((function(e,t){return e.concat({rank:t.rank,label:t.name,value:t.id})}),[]),nl.Z(Bt.Z("id",null===(n=pe.selectedStep)||void 0===n?void 0:n.id)))(e))):null!==(t=pe.selectedStep)&&void 0!==t&&t.isNewStep&&!Pt.Z(Bt.Z("is_start",!0))(null===pe||void 0===pe?void 0:pe.steps)&&je()&&he([]);je()&&Ee(!1),je()&&qe()},error:function(e){je()&&Ee(!1)}})}),[]);var qe=function(){var e,t,n;"newDefaultStep"!==(null===(e=pe.selectedStep)||void 0===e?void 0:e.id)&&""!==(null===pe||void 0===pe||null===(t=pe.selectedStep)||void 0===t?void 0:t.id)&&(Me(!0),(0,p.hI)({processId:ae.id,pathways:1,forStepId:null===(n=pe.selectedStep)||void 0===n?void 0:n.id}).pipe((0,d.P)()).subscribe({next:function(e){if(e)try{var t,n,l,a,i,r,d=nl.Z(Bt.Z("id",null===pe||void 0===pe||null===(t=pe.selectedStep)||void 0===t?void 0:t.id),null!==(n=null===e||void 0===e?void 0:e.steps)&&void 0!==n?n:[]),u=null!==(l=nl.Z(Bt.Z("id",ae.id),null!==(a=e.processes)&&void 0!==a?a:[]))&&void 0!==l?l:[],s=[].concat((0,o.Z)(null!==(i=null===d||void 0===d?void 0:d.map((function(e){return{value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.name,rank:null===e||void 0===e?void 0:e.rank,icon:Oe.CHZ,type:"step"}})))&&void 0!==i?i:[]),(0,o.Z)(null!==(r=null===u||void 0===u?void 0:u.map((function(e){return{value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.name,icon:Oe.IR8,type:"process"}})))&&void 0!==r?r:[]));s&&(Me(!1),Ne(s),Me(!1)),Be([].concat((0,o.Z)(d),(0,o.Z)(u)))}catch(c){Me(!1)}else he([]),Me(!1)},error:function(e){Me(!1)}}))},Ue=(0,i.useCallback)((function(){}),[pe.steps,pe.selectedStep]),He=(0,o.Z)(tl.Z((function(e,t){return e.concat({value:t.id,label:t.name})}),[])(null!==(m=null===pe||void 0===pe||null===(y=pe.selectedStep)||void 0===y?void 0:y.parent_steps)&&void 0!==m?m:[])),Ke=null===pe||void 0===pe||null===(g=pe.selectedStep)||void 0===g||null===(h=g.pathway_processes)||void 0===h?void 0:h.concat(null===pe||void 0===pe||null===(C=pe.selectedStep)||void 0===C?void 0:C.pathway_steps),Xe=(null===Ke||void 0===Ke?void 0:Ke.length)>0?null===(S=At.Z(Ke))||void 0===S?void 0:S.map((function(e){return null===e||void 0===e?void 0:e.name})).join(", "):"",Ye=(0,i.useCallback)((function(){var e,t,n,o,a,i,r,d,u,s,c,m,p,v,f,y,g,h,C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",S={parentSteps:"Step must be connected to at least one other step",stepName:"Step name is mandatory",guidance:"Short description of step is mandatory",inheritedComponents:"Some inherited component have missing required information",newComponents:"Some new component have missing required informations",pathwayOptions:"Error inside Pathway Options"},b=(0,l.Z)({},ze);if(C)switch(C){case"stepName":b.stepName="string"==typeof(null===pe||void 0===pe||null===(e=pe.selectedStep)||void 0===e?void 0:e.name)&&(null===pe||void 0===pe||null===(t=pe.selectedStep)||void 0===t||null===(n=t.name)||void 0===n?void 0:n.length)>0?"":S.stepName;break;case"guidance":b.guidance="string"==typeof(null===pe||void 0===pe||null===(o=pe.selectedStep)||void 0===o?void 0:o.guidance)&&(null===pe||void 0===pe||null===(a=pe.selectedStep)||void 0===a||null===(i=a.guidance)||void 0===i?void 0:i.length)>0?"":S.guidance;break;case"newComponents":var E,_,Z,w,N;b.newComponents=Array.isArray(null===pe||void 0===pe||null===(E=pe.selectedStep)||void 0===E?void 0:E.component_blueprints)?S.newComponents:"";var x=null===pe||void 0===pe||null===(_=pe.selectedStep)||void 0===_||null===(Z=_.component_blueprints)||void 0===Z?void 0:Z.find((function(e){var t;return!(null!==e&&void 0!==e&&e.status)||""==(null===e||void 0===e?void 0:e.status)||""==(null===e||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id)}));x&&(b.newComponents="Invalid status in new blueprints components");var L=null===pe||void 0===pe||null===(w=pe.selectedStep)||void 0===w||null===(N=w.component_blueprints)||void 0===N?void 0:N.find((function(e){return!(null!==e&&void 0!==e&&e.title)||""==(null===e||void 0===e?void 0:e.title)}));L&&(b.newComponents+="\nInvalid title in new blueprints components");break;case"pathwayOptions":b.pathwayOptions=Array.isArray(null===pe||void 0===pe||null===(r=pe.selectedStep)||void 0===r?void 0:r.pathway_steps)&&Array.isArray(null===pe||void 0===pe||null===(d=pe.selectedStep)||void 0===d?void 0:d.pathway_processes)?"":S.pathwayOptions;break;default:b.stepName="string"==typeof(null===pe||void 0===pe||null===(u=pe.selectedStep)||void 0===u?void 0:u.name)&&(null===pe||void 0===pe||null===(s=pe.selectedStep)||void 0===s||null===(c=s.name)||void 0===c?void 0:c.length)>0?"":S.stepName,b.guidance="string"==typeof(null===pe||void 0===pe||null===(m=pe.selectedStep)||void 0===m?void 0:m.guidance)&&(null===pe||void 0===pe||null===(p=pe.selectedStep)||void 0===p||null===(v=p.guidance)||void 0===v?void 0:v.length)>0?"":S.guidance,b.inheritedComponents=Array.isArray(null===pe||void 0===pe||null===(f=pe.selectedStep)||void 0===f?void 0:f.component_blueprints)?"":S.inheritedComponents,b.newComponents=Array.isArray(null===pe||void 0===pe||null===(y=pe.selectedStep)||void 0===y?void 0:y.component_blueprints)?"":S.newComponents,b.pathwayOptions=Array.isArray(null===pe||void 0===pe||null===(g=pe.selectedStep)||void 0===g?void 0:g.pathway_steps)&&Array.isArray(null===pe||void 0===pe||null===(h=pe.selectedStep)||void 0===h?void 0:h.pathway_processes)?"":S.pathwayOptions}return Re(b),b}),[null===pe||void 0===pe?void 0:pe.selectedStep,ze]),Ge=!Pt.Z(Bt.Z("is_start",!0))(nl.Z(Bt.Z("id",pe.selectedStep.id),null===pe||void 0===pe?void 0:pe.steps))||1==(null===pe||void 0===pe||null===(b=pe.selectedStep)||void 0===b?void 0:b.is_start);return ll.createElement("div",null,ll.createElement(al,{percentualWidth:"100%",style:{marginBottom:"10px"}},ll.createElement(f.Lb,{title:"Step Name"}),ll.createElement(f.n2,(0,zt.Z)({},el.stepName,{title:"",value:null===(E=pe.selectedStep)||void 0===E?void 0:E.name,sectionError:ze.stepName,onOpenChanged:function(e){!e&&Ye("stepName")}}),ll.createElement(f.WH,{onControlTouched:function(){},placeholder:"Insert step name...",text:null===(_=pe.selectedStep)||void 0===_?void 0:_.name,onTextChanged:function(e){ve({type:c.Cb.updateSelectedStepKeyValue,value:{name:e}}),oe({name:e})}}))),ll.createElement(al,{percentualWidth:"100%"},ll.createElement(f.Lb,{title:"Description"}),ll.createElement(f.n2,(0,zt.Z)({},el.guidance,{title:"",value:null===(Z=pe.selectedStep)||void 0===Z?void 0:Z.guidance,sectionError:ze.guidance}),ll.createElement(f.WH,{plcHoffset:"0px",text:null===(w=pe.selectedStep)||void 0===w?void 0:w.guidance,placeholder:"Add description for step here...",onTextChanged:function(e){ve({type:c.Cb.updateSelectedStepKeyValue,value:{guidance:e}}),oe({guidance:e})}}))),ll.createElement(al,{percentualWidth:"100%",style:{display:1==Ge?"none":""}},ll.createElement(f.Lb,{title:"Connect Step To"}),ll.createElement(f.n2,(0,zt.Z)({},el.parentSteps,{title:"",readOnly:Ge,value:(null===(N=pe.selectedStep)||void 0===N||null===(x=N.parent_steps)||void 0===x?void 0:x.length)>0?tl.Z((function(e,t){return e.concat(t.name)}),[])(At.Z(null===(L=pe.selectedStep)||void 0===L?void 0:L.parent_steps)).map((function(e,t){return ll.createElement(zn.Vp,{key:"tag"+t},e)})):Ge?ll.createElement(zn.Vp,null,"Start of Workflow"):null,sectionError:ze.parentSteps,onOpenChanged:function(e){!e&&!Ge&&Ye("parentSteps")}}),be&&ll.createElement("span",{style:{display:"flex",width:"100%",justifyContent:"center",alignItems:"center"}},ll.createElement(f.$j,{size:30,type:"ThreeDots"})),(null===ge||void 0===ge?void 0:ge.length)>0&&!Ge&&ll.createElement(f.gK,{labelsTag:!0,tagCloseButtonType:"X",tagType:"step-plated",tagEmplacement:"inlined",triggerType:"eyeglass",initialSelectedItems:He,placeholder:"Search steps here...",className:Rn,inputClassName:Hn,molclassname:jn,moliclassname:qn,menuOverlayListItemStyle:{padding:"10px",maxWidth:"100%"},onChange:function(e){ve({type:c.Cb.updateSelectedStepParentSteps,value:(0,o.Z)(tl.Z((function(e,t){return e.concat({rank:t.rank,name:t.label,id:t.value})}),[])(e))}),setTimeout(Ue(),0)},items:ge}),0!=(null===ge||void 0===ge?void 0:ge.length)||be||1!=(null===pe||void 0===pe?void 0:pe.selectedStep.isNewStep)?null:ll.createElement(zn.Vp,{tagType:"step-plated"},"Start of Workflow"))),ll.createElement(al,{percentualWidth:"100%",style:{marginBottom:"10px",display:"none"}},ll.createElement(f.Lb,{title:"Step Number"}),ll.createElement(f.n2,(0,zt.Z)({},el.rank,{title:"",value:null===(I=pe.selectedStep)||void 0===I?void 0:I.rank,sectionError:ze.rank,onOpenChanged:function(e){!e&&Ye("stepRank")}}),ll.createElement(f.WH,{onControlTouched:function(){},placeholder:"Insert step rank...",text:null===(M=pe.selectedStep)||void 0===M?void 0:M.rank,onTextChanged:function(e){ve({type:c.Cb.updateSelectedStepKeyValue,value:{rank:+e}}),oe({rank:+e})}}))),ll.createElement(al,{percentualWidth:"100%",style:{marginTop:"20px"}},ll.createElement(f.Lb,{title:el.newComponents.title}),ll.createElement(Fn,{onEditChange:function(e,t){return ue(e,t)},showAddButton:!Ae,selectedProcess:ae,blueprints:re,companyPositionsArray:ie})),ll.createElement(al,{percentualWidth:"100%",style:{display:"none"}},ll.createElement(f.n2,(0,zt.Z)({},el.pathwayOptions,{loading:Ie,readOnly:0===(null===we||void 0===we?void 0:we.length),placeholder:0===(null===we||void 0===we?void 0:we.length)?"No branch steps available!":"Select steps or processes to jump to...",value:Xe,sectionError:ze.pathwayOptions,onOpenChanged:function(e){!e&&Ye("pathwayOptions")}}),Ie?ll.createElement("span",{style:{display:"flex",width:"100%",justifyContent:"center",alignItems:"center"}},ll.createElement(f.$j,{size:30,type:"ThreeDots"})):ll.createElement(f.gK,{labelsTag:!0,placeholder:"Search for steps or processes here...",tagCloseButtonType:"circleX",tagType:"plated",tagEmplacement:"inlined",triggerType:"eyeglass",initialSelectedItems:we.filter((function(e){var t,n,l,o,a;return(null===pe||void 0===pe||null===(t=pe.selectedStep)||void 0===t||null===(n=t.pathway_processes)||void 0===n||null===(l=n.concat(null===pe||void 0===pe||null===(a=pe.selectedStep)||void 0===a?void 0:a.pathway_steps))||void 0===l||null===(o=l.filter((function(t){return t.id==e.value})))||void 0===o?void 0:o.length)>0})),className:Rn,leftIconItemContainerClassName:Xn,inputContainerClassname:Kn,inputClassName:Hn,molclassname:Un,moliclassname:qn,onChange:function(e){var t=(0,o.Z)(e.map((function(e){return e.value}))),n=Pe.filter((function(e){return(null===t||void 0===t?void 0:t.indexOf(e.id))>-1}));ve({type:c.Cb.updateSelectedStepPathways,value:(0,o.Z)(At.Z(n))})},items:0==(null===(O=pe.selectedStep)||void 0===O||null===(k=O.options)||void 0===k?void 0:k.is_start_next_process)?nl.Z(Bt.Z("type","process"),null!==we&&void 0!==we?we:[]):we}))),ll.createElement(al,{percentualWidth:"100%",style:{marginTop:"20px",display:1==(null===(T=pe.selectedStep)||void 0===T?void 0:T.is_end)||1==(null===(P=pe.selectedStep)||void 0===P?void 0:P.is_start)?"none":""}},ll.createElement(f.pd,(0,zt.Z)({},el.showAsPopup,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null!==(B=null===(D=pe.selectedStep)||void 0===D||null===(F=D.options)||void 0===F?void 0:F.popup)&&void 0!==B&&B,toggleSelected:function(e){var t,n;ve({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,l.Z)((0,l.Z)({},null===(t=pe.selectedStep)||void 0===t?void 0:t.options),{},{popup:e})}}),oe({options:(0,l.Z)((0,l.Z)({},null===(n=pe.selectedStep)||void 0===n?void 0:n.options),{},{popup:e})})}}))),ll.createElement(al,{percentualWidth:"100%",style:{marginTop:"20px",display:1==(null===(A=pe.selectedStep)||void 0===A?void 0:A.is_end)||1==(null===(W=pe.selectedStep)||void 0===W?void 0:W.is_start)?"none":""}},ll.createElement(f.pd,(0,zt.Z)({},el.deleteOnBack,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null!==(V=null===(z=pe.selectedStep)||void 0===z||null===(R=z.options)||void 0===R?void 0:R.deleteOnBack)&&void 0!==V&&V,toggleSelected:function(e){var t,n;ve({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,l.Z)((0,l.Z)({},null===(t=pe.selectedStep)||void 0===t?void 0:t.options),{},{deleteOnBack:e})}}),oe({options:(0,l.Z)((0,l.Z)({},null===(n=pe.selectedStep)||void 0===n?void 0:n.options),{},{deleteOnBack:e})})}}))),ll.createElement(al,{percentualWidth:"100%",style:{marginTop:"20px",display:1==(null===(j=pe.selectedStep)||void 0===j?void 0:j.is_end)?"none":""}},ll.createElement(f.pd,(0,zt.Z)({},el.showStepAll,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null===(q=null===(U=pe.selectedStep)||void 0===U||null===(H=U.options)||void 0===H?void 0:H.showStepAll)||void 0===q||q,toggleSelected:function(e){var t,n;ve({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,l.Z)((0,l.Z)({},null===(t=pe.selectedStep)||void 0===t?void 0:t.options),{},{showOnly:[],showStepAll:e})}}),oe({options:(0,l.Z)((0,l.Z)({},null===(n=pe.selectedStep)||void 0===n?void 0:n.options),{},{showOnly:[],showStepAll:e})})}}))),ll.createElement(al,{percentualWidth:"100%",style:{marginTop:"20px",display:0==(null===(K=pe.selectedStep)||void 0===K||null===(X=K.options)||void 0===X?void 0:X.showStepAll)?"":"none"}},ll.createElement(f.pd,(0,zt.Z)({},el.showStepAuthor,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null!==(Y=null===(G=pe.selectedStep)||void 0===G||null===(J=G.options)||void 0===J?void 0:J.showStepAuthor)&&void 0!==Y&&Y,toggleSelected:function(e){var t,n;ve({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,l.Z)((0,l.Z)({},null===(t=pe.selectedStep)||void 0===t?void 0:t.options),{},{showOnly:[],showStepAuthor:e})}}),oe({options:(0,l.Z)((0,l.Z)({},null===(n=pe.selectedStep)||void 0===n?void 0:n.options),{},{showOnly:[],showStepAuthor:e})})}}))),ll.createElement(f.jL,{style:{display:0==(null===(Q=pe.selectedStep)||void 0===Q||null===($=Q.options)||void 0===$?void 0:$.showStepAll)?"":"none",paddingLeft:"10px"},ungrouped:!0,title:"Only show this step to:",columned:!0,withAckButton:!1},ll.createElement("br",null),ll.createElement(se.Cm,{tagEmplacement:"inlined",searchable:!1,items:ie,groupedBy:"department",groupname:"department",triggerType:"chevron",initialSelectedValues:null===(ee=pe.selectedStep)||void 0===ee||null===(te=ee.options)||void 0===te||null===(ne=te.showOnly)||void 0===ne?void 0:ne.map((function(e){return ie.find((function(t){return t.value===e}))})),className:Yn,inputClassName:Gn,molclassname:Jn,moliclassname:Qn,onChange:function(e){var t,n;ve({type:c.Cb.updateSelectedStepKeyValue,value:{options:(0,l.Z)((0,l.Z)({},null===(t=pe.selectedStep)||void 0===t?void 0:t.options),{},{showStepAuthor:!1,showOnly:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))})}}),oe({options:(0,l.Z)((0,l.Z)({},null===(n=pe.selectedStep)||void 0===n?void 0:n.options),{},{showStepAuthor:!1,showOnly:null===e||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.value}))})})}})),ll.createElement(f.pd,(0,zt.Z)({},el.isFinalStep,{style:{margin:"20px 2.5% 0 5px",width:"auto"},value:null===(le=pe.selectedStep)||void 0===le?void 0:le.is_end,toggleSelected:function(e){var t,n;1==e?(oe({child_steps:[]}),ve({type:c.Cb.updateSelectedStepKeyValue,value:{is_end:e,options:(0,l.Z)((0,l.Z)({},null===(t=pe.selectedStep)||void 0===t?void 0:t.options),{},{showOnly:[],showStepAll:!0})}}),oe({is_end:e,options:(0,l.Z)((0,l.Z)({},null===(n=pe.selectedStep)||void 0===n?void 0:n.options),{},{showOnly:[],showStepAll:!0})})):(ve({type:c.Cb.updateSelectedStepKeyValue,value:{is_end:e}}),oe({is_end:e}))}})))})),rl="StepModal_host__e9qAE",dl="StepModal_titleContainer__rQtrC",ul="StepModal_contentContainer__ySA3D",sl="StepModal_saveButtonContainer__ysY+S",cl="StepModal_controls2__7XszY",ml=(n(55859),n(67861)),pl=(0,i.memo)((function(e){var t,n,r,u,s,y,g,h,C,S,b,E,_,Z,w,N,x,L,I,M=(0,i.useState)(""),O=(0,a.Z)(M,2),T=O[0],B=(O[1],e.visible),D=e.onClose,F=e.onSave,A=e.selectedProcess,W=e.companyProcesses,V=e.shadowedContainerStyle,z=void 0===V?{minWidth:"500px",width:""===T?"30%":"90%"}:V,j=e.onBoardingCompleted,q=e.onEditChange,U=void 0===q?function(){}:q,H=(0,c._M)(),K=(0,a.Z)(H,2),X=K[0],Y=K[1],G=(0,i.useState)(X.selectedStep),J=(0,a.Z)(G,1)[0],Q=(0,c.QJ)(),$=(0,a.Z)(Q,2)[1],ee=(0,i.useState)(!1),te=(0,a.Z)(ee,2),ne=te[0],le=te[1],oe=(0,i.useState)(!1),ae=(0,a.Z)(oe,2),ie=ae[0],re=ae[1],ue=(0,i.useState)(""),se=(0,a.Z)(ue,2),ce=se[0],me=se[1],pe=e.onBoardingModalsVisibility,ve=(e.isOnboarding,pe.eightModalVisible),fe=pe.tenthModalVisible,ye=(0,i.useCallback)((function(e){Y({type:c.Cb.unsetSelectedStep}),D&&D(e)}),[D,Y]),ge=(0,i.useCallback)((function(e,t){return $({open:!0,activeElement:e,errors:(0,wt.Z)({},e,t)})}),[$]),he=(0,i.useCallback)((function(e){var t,n,l,o,a,i=!0,r=[];0==e.is_start&&0==(null===e||void 0===e||null===(t=e.parent_steps)||void 0===t?void 0:t.length)&&(i=!1,r.push((0,wt.Z)({},null===el||void 0===el||null===(o=el.parent_steps)||void 0===o?void 0:o.id,"Invalid parent(s)")),ge(null===el||void 0===el||null===(a=el.parentSteps)||void 0===a?void 0:a.id,"Invalid parent(s)"));return 1==e.is_start&&(null===(n=e.parent_steps)||void 0===n?void 0:n.length)>0&&(i=!1,r.push((0,wt.Z)({},el.parentSteps.id,"Invalid parent(s)")),ge(el.parentSteps.id,"Invalid parent(s)")),(null===(l=e.name)||void 0===l?void 0:l.length)<1&&(i=!1,r.push((0,wt.Z)({},el.stepName.id,"Invalid name")),ge(el.stepName.id)),i}),[null===X||void 0===X||null===(t=X.selectedStep)||void 0===t?void 0:t.component_blueprints,ge]),Ce=(0,i.useCallback)((function(){re(!0),(0,p.hI)({processId:null===A||void 0===A?void 0:A.id}).pipe((0,d.P)()).subscribe({next:function(e){if(e.length>0){Y({type:c.Cb.setAllSteps,value:xt.Z(Lt.Z(It.Z("rank")),Mt.Z(Ot.Z(kt.Z("component_blueprints"),Mt.Z((function(e){return Nt.Z("_uuid",(0,v.mR)(),e)})))))(e)})}},error:function(e){re(!1)}})}),[A.id,Y]),Se=(0,i.useCallback)((function(){var e=X.selectedStep;if(he(e)){var t,n,a,i,r,u,s,c;re(!0);var m=xt.Z(Tt.Z(["id"]),Pt.Z(Bt.Z("is_start",!0)))(X.steps),v=(null===m||void 0===m?void 0:m.length)>0&&m==(null===e||void 0===e?void 0:e.id)&&0===(null===e||void 0===e||null===(t=e.parent_steps)||void 0===t?void 0:t.length),f={name:null===e||void 0===e?void 0:e.name,guidance:null===e||void 0===e?void 0:e.guidance,procedure_id:null===e||void 0===e?void 0:e.procedure_id,duration:null===e||void 0===e?void 0:e.duration,is_start:v||(null===e||void 0===e?void 0:e.is_start),is_end:e.is_end,options:(0,l.Z)((0,l.Z)({},e.options),{},{layout:null!==(n=null===e||void 0===e?void 0:e.layout)&&void 0!==n?n:{}}),parent_steps:(0,o.Z)(Mt.Z(Tt.Z(["id"]))(null===e||void 0===e?void 0:e.parent_steps)),pathway_steps:null!==(a=null===e||void 0===e||null===(i=e.pathway_processes)||void 0===i?void 0:i.map((function(e){return e.id})))&&void 0!==a?a:[],pathway_processes:null!==(r=null===e||void 0===e||null===(u=e.pathway_processes)||void 0===u?void 0:u.map((function(e){return e.id})))&&void 0!==r?r:[],component_blueprints:(0,o.Z)(e.component_blueprints.map((function(e){return(0,l.Z)((0,l.Z)({},Dt.Z(["_uuid"])(e)),{},{selected_fields:(0,o.Z)(Mt.Z(Ft.Z(["id","index","mandatory","visible","procedure_step_blueprint_field_id"]))(e.selected_fields))})}))),rank:+(null!==(s=null===e||void 0===e||null===(c=e.parent_steps)||void 0===c?void 0:c.reduce((function(e,t){return e<=+t.rank?e=+(null===t||void 0===t?void 0:t.rank):null}),0))&&void 0!==s?s:0)+1};(0,p.Ac)(f).pipe((0,d.P)()).subscribe({next:function(e){ve?k.h.dispatch((0,R.$6)({ninthModalVisible:!0})):fe&&k.h.dispatch((0,R.$6)({eleventhModalVisible:!0})),Ce(),re(!1),j?ye(!0):F()},error:function(e){re(!1)}})}}),[X,he,Ce,ye]),be=(0,i.useCallback)((function(){var e=X.selectedStep;if(he(e)){var t,n,a,i,r,u,s,f;re(!0);var y=xt.Z(Tt.Z(["id"]),Pt.Z(Bt.Z("is_start",!0)))(X.steps),g=(null===y||void 0===y?void 0:y.length)>0&&y==(null===e||void 0===e?void 0:e.id)&&0===(null===e||void 0===e||null===(t=e.parent_steps)||void 0===t?void 0:t.length),h=(0,l.Z)({name:null===e||void 0===e||null===(n=e.name)||void 0===n?void 0:n.trim(),guidance:null===e||void 0===e?void 0:e.guidance,procedure_id:null===e||void 0===e?void 0:e.procedure_id,duration:null===e||void 0===e?void 0:e.duration,is_start:g||(null===e||void 0===e?void 0:e.is_start),is_end:e.is_end,options:(0,l.Z)((0,l.Z)({},e.options),{},{layout:null!==(a=null===e||void 0===e?void 0:e.layout)&&void 0!==a?a:{}}),parent_steps:At.Z((0,o.Z)(Mt.Z(Tt.Z(["id"]))(null===e||void 0===e?void 0:e.parent_steps))),pathway_steps:null!==(i=null===e||void 0===e||null===(r=e.pathway_steps)||void 0===r?void 0:r.map((function(e){return e.id})))&&void 0!==i?i:[],pathway_processes:null!==(u=null===e||void 0===e||null===(s=e.pathway_processes)||void 0===s?void 0:s.map((function(e){return e.id})))&&void 0!==u?u:[],component_blueprints:(0,o.Z)(e.component_blueprints.map((function(e){return(0,l.Z)((0,l.Z)({},Dt.Z(["_uuid"])(e)),{},{status:null,selected_fields:(0,o.Z)(Mt.Z(Ft.Z(["id","index","mandatory","visible","procedure_step_blueprint_field_id"]))(e.selected_fields))})}))),rank:+e.rank},Wt.Z({ranking_steps:null===(f=Mt.Z(Wt.Z({id:Tt.Z(["id"]),rank:de.Z("rank")})).ranking_steps)||void 0===f?void 0:f.map((function(e){var t;return{id:e.id,rank:null!==(t=e.rank)&&void 0!==t?t:1e3}}))})(X.steps));(0,p.T5)(h,e.id,!0).pipe((0,d.P)()).subscribe({next:function(t){if(t.length>0){Y({type:c.Cb.setAllSteps,value:xt.Z(Lt.Z(It.Z("rank")),Mt.Z(Ot.Z(kt.Z("component_blueprints"),Mt.Z((function(e){return Nt.Z("_uuid",(0,v.mR)(),e)})))))(t)})}k.h.dispatch((0,m.an)([].concat((0,o.Z)(W.filter((function(t){return t.id!==e.procedure_id}))),[(0,l.Z)((0,l.Z)({},A),{},{steps:t})]),1)),re(!1),ye(!0)},error:function(e){me(e.data),re(!1)}})}}),[ye,X.selectedStep,X.steps,Ce,Y,he]),Ee=(0,i.useCallback)((function(){var e,t,n,l,o,a,i={},r="Please connect to a step",d="Step name is mandatory";(null===X||void 0===X?void 0:X.steps.length)>0&&(i.parentSteps=Pt.Z(Bt.Z("is_start",!0))(null===X||void 0===X?void 0:X.steps)&&(null===X||void 0===X||null===(l=X.selectedStep)||void 0===l||null===(o=l.parent_steps)||void 0===o?void 0:o.length)>0||1==(null===X||void 0===X||null===(a=X.selectedStep)||void 0===a?void 0:a.is_start)?"":r);i.stepName="string"==typeof(null===X||void 0===X||null===(e=X.selectedStep)||void 0===e?void 0:e.name)&&(null===X||void 0===X||null===(t=X.selectedStep)||void 0===t||null===(n=t.name)||void 0===n?void 0:n.length)>0?"":d;var u,s=Object.values(i).every((function(e){return""===e}));((null===X||void 0===X?void 0:X.steps.length)>0&&ge(el.parentSteps.id,i.parentSteps),ge(el.parentSteps.id,i.parentSteps),ge(el.stepName.id,i.stepName),ge(el.newComponents.id,i.newComponents),s)||me("".concat(null!==(u=i.stepName)&&void 0!==u?u:""," ").concat(i.parentSteps));return s}),[ne,null===X||void 0===X||null===(n=X.selectedStep)||void 0===n?void 0:n.pathway_processes,null===X||void 0===X||null===(r=X.selectedStep)||void 0===r?void 0:r.pathway_steps,null===X||void 0===X||null===(u=X.selectedStep)||void 0===u?void 0:u.component_blueprints,null===X||void 0===X||null===(s=X.selectedStep)||void 0===s?void 0:s.name,null===X||void 0===X||null===(y=X.selectedStep)||void 0===y||null===(g=y.parent_steps)||void 0===g?void 0:g.length,null===X||void 0===X?void 0:X.steps]),_e=(0,i.useCallback)((0,Zt.Z)((0,_t.Z)().mark((function e(){var t;return(0,_t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(le(!0),Ee()){e.next=4;break}return e.abrupt("return");case 4:null!==X&&void 0!==X&&null!==(t=X.selectedStep)&&void 0!==t&&t.isNewStep?Se():be();case 5:case"end":return e.stop()}}),e)}))),[Ee,J,Se,be]),Ze=(0,i.useCallback)((function(){var e;(null===J||void 0===J||null===(e=J.id)||void 0===e?void 0:e.length)>0&&("newDefaultStep"===(null===J||void 0===J?void 0:J.id)&&ye(),1!=J.is_start?(0,p.HP)(null===J||void 0===J?void 0:J.id).pipe((0,d.P)()).subscribe({next:function(e){var t;Ce(),Y({type:c.Cb.removeStepById,value:null===(t=X.selectedStep)||void 0===t?void 0:t.id}),ye(!0)},error:function(){}}):me("First step cannot be deleted. Delete the procedure instead"))}),[ye,null===(h=X.selectedStep)||void 0===h?void 0:h.id,Ce,null===J||void 0===J?void 0:J.id,J.is_start,Y]);return ml.createElement(f.U7,{scrollable:!0,shadowedContainerStyle:z,isOpen:B,blured:!0},ml.createElement("div",{style:{display:"flex"}},ml.createElement("div",{style:{width:""===T?"100%":"30%"}},ml.createElement("div",{className:rl},e.children,ml.createElement("div",{id:"scrollableDiv",ref:$n,className:ul},j&&ml.createElement("div",{className:dl},ml.createElement("p",null,"newDefaultStep"!==(null===X||void 0===X||null===(C=X.selectedStep)||void 0===C?void 0:C.id)&&""!==(null===X||void 0===X||null===(S=X.selectedStep)||void 0===S?void 0:S.id)?"Edit Step #".concat(null===X||void 0===X||null===(b=X.selectedStep)||void 0===b?void 0:b.rank):"New Step")),ml.createElement("div",{style:{flex:1}},ml.createElement(il,{onEditChange:function(e,t){return U(e,t)},selectedProcess:A})),ce&&ml.createElement(P.Z,{message:ce,onClick:function(){return me("")}}),ml.createElement("div",{className:j?sl:cl},!j&&ml.createElement(f.zx,{clear:!0,title:"",clicked:function(){}}),D&&!j&&ml.createElement(f.zx,{light:!0,title:"Back",clicked:ye}),D&&j&&ml.createElement(f.zx,{title:"Close",clicked:ye}),(null===X||void 0===X||null===(E=X.selectedStep)||void 0===E||null===(_=E.name)||void 0===_?void 0:_.length)>3&&!j&&ml.createElement(f.zx,{title:null!==X&&void 0!==X&&null!==(Z=X.selectedStep)&&void 0!==Z&&Z.isNewStep?"Save":"Update",loading:ie,clicked:_e}),(null===X||void 0===X||null===(w=X.selectedStep)||void 0===w||null===(N=w.name)||void 0===N?void 0:N.length)>3&&j&&ml.createElement(f.zx,{light:!0,title:null!==X&&void 0!==X&&null!==(x=X.selectedStep)&&void 0!==x&&x.isNewStep?"Save":"Update",loading:ie,clicked:_e}),"newDefaultStep"!==(null===X||void 0===X||null===(L=X.selectedStep)||void 0===L?void 0:L.id)&&""!==(null===X||void 0===X||null===(I=X.selectedStep)||void 0===I?void 0:I.id)&&ml.createElement(f.zx,{light:!0,title:"Delete",clicked:Ze})))))))})),vl=(0,r.$j)((function(e){var t=e.flowReducer;return{allStatutes:t.allStatutes,selectedProcess:t.selectedProcess,companyProcesses:t.companyProcesses,onBoardingCompleted:t.onBoardingCompleted,onBoardingModalsVisibility:e.modalsReducer.onBoardingModalsVisibility}}),(function(e){return{onSetSelectedProStep:function(t){return e((0,m.Sc)(t))}}}))(pl),fl=n(67861),yl=function(e){var t,n=(0,te.s0)(),r=(e.onClose,e.selectedProcess),s=e.onResetSelectedProStep,g=e.blueprints,h=e.allModules,C=e.companyProcesses,S=e.workflowTemplates,b=e.onBoardingModalsVisibility,E=(0,i.useState)(!1),_=((0,a.Z)(E,2)[1],(0,i.useState)(!1)),Z=(0,a.Z)(_,2),w=Z[0],N=Z[1],x=(0,i.useState)(!1),L=(0,a.Z)(x,2),I=L[0],M=L[1],O=(0,i.useState)(!1),P=(0,a.Z)(O,2),B=P[0],D=P[1],F=(0,i.useState)(!1),A=(0,a.Z)(F,2),W=A[0],V=A[1],z=(0,i.useState)(!1),j=(0,a.Z)(z,2),q=j[0],H=j[1],K=(0,i.useState)(!1),X=(0,a.Z)(K,2),Y=X[0],G=X[1],J=(0,i.useState)(!1),Q=(0,a.Z)(J,2),$=Q[0],ee=Q[1],le=(0,i.useState)(!1),ae=(0,a.Z)(le,2),ie=ae[0],re=ae[1],de=(0,u.aL)(),se=(0,a.Z)(de,2),ce=(se[0],se[1]),me=(0,c._M)(),pe=(0,a.Z)(me,2),ve=pe[0],fe=(pe[1],(0,i.useState)(!1)),ye=(0,a.Z)(fe,2),ge=ye[0],he=ye[1],Ce=(0,i.useState)(!1),Se=(0,a.Z)(Ce,2),be=Se[0],Ee=Se[1],_e=(0,i.useState)(),Ze=(0,a.Z)(_e,2),we=Ze[0],Ne=Ze[1];document.title="".concat(r.name," | ").concat(v.iC);var xe=function(){1==ie&&((0,p.zJ)(r.id).pipe((0,d.P)()).subscribe({}),(0,ue.d7)(v.KI,v.RI).pipe((0,d.P)()).subscribe({})),k.h.dispatch((0,m.IW)(!0)),k.h.dispatch((0,m.Xc)({show:!1,message:""})),n("/dashboard")};return(0,i.useEffect)((function(){var e,t,n,l,o;""!==(null===r||void 0===r?void 0:r.name)&&((null===r||void 0===r||null===(e=r.steps)||void 0===e?void 0:e.length)>0||(null===r||void 0===r?void 0:r.steps)>0||(null===ve||void 0===ve||null===(t=ve.steps)||void 0===t?void 0:t.length)>0)?0===(null===(n=h.filter((function(e){return e.procedure.id===(null===r||void 0===r?void 0:r.id)})))||void 0===n?void 0:n.length)?k.h.dispatch((0,m.Xc)({show:!0,message:"You can now create modules. Modules are pages where your users can interact with the workflows and components you created. This is where transactions are created."})):(null===(l=h.filter((function(e){return e.procedure.id===(null===r||void 0===r?void 0:r.id)})))||void 0===l?void 0:l.length)>0&&1==(null===r||void 0===r||null===(o=r.steps)||void 0===o?void 0:o.length)&&k.h.dispatch((0,m.Xc)({show:!0,message:"To edit your step, click the box of your target step. The edit step modal will appear. There you can edit and update your step."})):""!==(null===r||void 0===r?void 0:r.name)&&(null===g||void 0===g?void 0:g.length)>0?1==r.created&&k.h.dispatch((0,m.Xc)({show:!0,message:"You have just created ".concat(null===r||void 0===r?void 0:r.name," workflow and modules. Kindly configure Modules. After doing this you can now use your workflow module.")})):""===(null===r||void 0===r?void 0:r.name)&&0==S.length&&(null===g||void 0===g?void 0:g.length)>0?(k.h.dispatch((0,m.Xc)({show:!0,message:"To begin building your Workflow, click the Edit button, enter name, description and save. You can also build components before creating your workflow."})),M(!0)):""===(null===r||void 0===r?void 0:r.name)&&S.length>0&&(null===g||void 0===g?void 0:g.length)>0?Ee(!0):0===(null===g||void 0===g?void 0:g.length)&&""===(null===r||void 0===r?void 0:r.name)&&k.h.dispatch((0,m.Xc)({show:!0,message:"To begin buiding your Workflow, start by creating blueprint components. Components are field data that you can use to gather information on your steps",action:function(){V(!0)}}))}),[h,r,g]),fl.createElement(fl.Fragment,null,fl.createElement("div",{className:Et.Z.host},fl.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},fl.createElement("div",{style:T.tq?{padding:"0 0 0 10px",position:"fixed",bottom:"0"}:{padding:"0 0 0 10px"}},fl.createElement(f.zx,{title:"Close",clicked:function(){return xe()}})),fl.createElement("div",{style:T.tq?{display:"flex"}:{xposition:"flex",right:"0",top:"0",display:"flex",flexDirection:"row",padding:"0 10px 0 0px"}},fl.createElement(hl,{onAddNewProcess:function(){M(!0)}}),""!==(null===r||void 0===r?void 0:r.name)&&(null===ve||void 0===ve||null===(t=ve.steps)||void 0===t?void 0:t.length)>0&&""!==(null===r||void 0===r?void 0:r.name)&&fl.createElement(Cl,{onAddNewModule:function(){(null===b||void 0===b?void 0:b.eleventhModalVisible)&&k.h.dispatch((0,R.$6)({twelvthModalVisible:!0})),ee(!0)}}),fl.createElement(gl,{onAddNewComponent:function(){Ne(void 0),ce({type:u.qY.resetSelectedBlueprintComponent}),V(!0)}}),0===h.filter((function(e){return e.procedure.id===(null===r||void 0===r?void 0:r.id)})).length&&""!==(null===r||void 0===r?void 0:r.name)&&fl.createElement(f.j3,{permissions:[f.po.blueprints.process.delete]},fl.createElement(f.zx,{light:!0,title:"Delete",clicked:function(){return D(!0)}}),fl.createElement("span",{className:Et.Z.control})))),(null===g||void 0===g?void 0:g.length)>0&&fl.createElement("div",{className:Et.Z.processNameContainer}),fl.createElement(ne.Z,{edit:!1,onEditStep:function(){(null===b||void 0===b?void 0:b.ninthModalVisible)&&k.h.dispatch((0,R.$6)({tenthModalVisible:!0})),N(!0)},onEditStepEnded:w,updateParent:function(e,t,n){!function(e,t,n){var l=null===ve||void 0===ve?void 0:ve.steps.find((function(t){return t.id===e}));if(l){he(!0);var a={name:l.name,parent_steps:1==n?At.Z([].concat((0,o.Z)(At.Z((0,o.Z)(Mt.Z(Tt.Z(["id"]))(null===l||void 0===l?void 0:l.parent_steps)))),[t])):At.Z((0,o.Z)(Mt.Z(Tt.Z(["id"]))(null===l||void 0===l?void 0:l.parent_steps.filter((function(e){return e.id!==t})))))};(0,p.T5)(a,l.id,!0).pipe((0,d.P)()).subscribe({next:function(e){(0,p.zJ)(r.id).pipe((0,d.P)()).subscribe({next:function(e){return k.h.dispatch((0,m.Xu)(e))}}),he(!1)},error:function(e){he(!1)}})}}(e,t,n)},updateStep:function(e){!function(e){var t=e;if(t){he(!0);var n={options:null===t||void 0===t?void 0:t.options};(0,p.T5)(n,t.id,!0).pipe((0,d.P)()).subscribe({next:function(e){k.h.dispatch((0,m.an)([].concat((0,o.Z)(C.filter((function(e){return e.id!==t.procedure_id}))),[(0,l.Z)((0,l.Z)({},r),{},{steps:e})]),1))}})}}(e)}})),w&&fl.createElement(vl,{visible:w,onClose:function(e){re(e),s(),N(!1),M(!1),G(!1)},onEditChange:function(e,t){V(!0),Ne(e)}}),B&&fl.createElement(f.U7,{isOpen:B,onClose:function(){return D(!1)},backdropColor:!0,blured:!0,shadowedContainerStyle:{minWidth:"600px",width:T.tq?"100%":"40%",height:"160px"}},fl.createElement("div",{className:Et.Z.deleteModalContainer},fl.createElement("div",{className:Et.Z.deleteModalTextContainer},fl.createElement("p",{className:Et.Z.deteteModalText},"Are you sure you want to delete this workflow?")),fl.createElement("div",{className:Et.Z.deleteModalButtonContainer},fl.createElement(f.zx,{title:"Delete",clicked:function(){return function(){var e;!(null!==r&&void 0!==r&&null!==(e=r.id)&&void 0!==e&&e.length)>0||(he(!0),(0,p.vo)(null===r||void 0===r?void 0:r.id).pipe((0,d.P)()).subscribe({next:function(e){D(!1),he(!1),re(!0),xe()},error:function(e){he(!1),D(!1)}}))}()},loading:ge}),fl.createElement(f.zx,{light:!0,title:"No, Go back",clicked:function(){return D(!1)}})))),W&&fl.createElement(bt,{selectedComponent:we,visible:W,onClose:function(e){re(e),V(!1)},onUpdate:function(e){k.h.dispatch((0,m.an)(C.filter((function(e){return e.id!==r.id})),1))}}),q&&fl.createElement(bt,{visible:q,onClose:function(){M(!1),Ee(!0),H(!1)},onUpdate:function(){k.h.dispatch((0,m.an)(C.filter((function(e){return e.id!==r.id})),1))}}),$&&fl.createElement(y.ZP,{onClose:function(){return ee(!1)},isOpen:$,modalStyle:{maxWidth:"500px"},selectedProcessId:null===r||void 0===r?void 0:r.id}),I&&fl.createElement(U,{onCreate:function(){M(!1),N(!0)},onClose:function(){return M(!1)},isOpen:I,modalStyle:{maxWidth:"500px"},selectedProcessId:null===r||void 0===r?void 0:r.id,selectedProcess:r,shadowedContainerStyle:{width:T.tq?"100%":"30%"}}),Y&&fl.createElement(U,{onCreate:function(){M(!1),N(!0)},onClose:function(){n("/")},isOpen:Y,modalStyle:{maxWidth:"500px"},selectedProcessId:null===r||void 0===r?void 0:r.id,selectedProcess:r,shadowedContainerStyle:{width:T.tq?"100%":"30%"}}),be&&fl.createElement(oe,{isOpen:be,onCreateBlank:function(){G(!0),Ee(!1)},onClose:function(){Ee(!1)},gotoProcess:function(e){M(!1),Ee(!1),k.h.dispatch((0,m.Xu)({name:null===e||void 0===e?void 0:e.name,description:null===e||void 0===e?void 0:e.description,id:e.id,is_pinned:null===e||void 0===e?void 0:e.is_pinned,user_id:null===e||void 0===e?void 0:e.user_id,registered:!0,type:null===e||void 0===e?void 0:e.type,steps:null===e||void 0===e?void 0:e.steps,shared_positions:null===e||void 0===e?void 0:e.shared_positions,created:!0}))},gotoComponents:function(){M(!1),Ee(!1),H(!0),ce({type:u.qY.resetSelectedBlueprintComponent})},modalStyle:{maxWidth:"500px"},selectedProcessId:null===r||void 0===r?void 0:r.id,selectedProcess:r,shadowedContainerStyle:{width:"65%",minWidth:"400px"}}))},gl=function(e){var t=e.onAddNewComponent;return fl.createElement(f.zx,{light:!0,title:"Component",clicked:t})},hl=function(e){var t=e.onAddNewProcess;return fl.createElement(f.zx,{light:!0,title:"Edit",clicked:t})},Cl=function(e){var t=e.onAddNewModule;return fl.createElement(f.zx,{titleStyle:{fontWeight:"bold"},title:"Module",clicked:t,style:{backgroundColor:"var(--app-color-blue)"}})},Sl=(0,r.$j)((function(e){var t=e.flowReducer;return{selectedProcess:t.selectedProcess,blueprints:t.blueprints,allModules:t.allModules,companyProcesses:t.companyProcesses,workflowTemplates:t.workflowTemplates,onBoardingModalsVisibility:e.modalsReducer.onBoardingModalsVisibility}}),(function(e){return{onSetSelectedProStep:function(t){return e((0,m.Sc)(t))},onResetSelectedProStep:function(){return e((0,m.wv)())}}}))((function(e){return fl.createElement(s.jm,null,fl.createElement(c.FZ,null,fl.createElement(c.s_,null,fl.createElement(u.ij,null,fl.createElement(u.Xr,null,fl.createElement(yl,e))))))}))},51481:function(e,t,n){n.d(t,{Mk:function(){return m},_5:function(){return f},km:function(){return p},qp:function(){return v},vr:function(){return y},xJ:function(){return g},yW:function(){return c}});var l=n(1413),o=n(50981),a=n.n(o),i=n(95256),r=n(88374),d=n(88827),u=n(30994),s=n(96332),c=function(e){var t=d.h.getState().authReducer.sessionSettings.last_access_token,n=(0,l.Z)((0,l.Z)({},u.ns.tasks.getTaskById(t,e)),{},{handlerEnabled:!0});return new i.y((function(e){(0,s.b)(n).then((function(t){var n,l;200===(null===t||void 0===t?void 0:t.status)&&null!==t&&void 0!==t&&t.data&&null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.data&&(e.next(null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.data),e.complete())})).catch((function(t){e.error(t)}))}))},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=d.h.getState().authReducer.sessionSettings.last_access_token,c=d.h.getState().flowReducer,m=c.lastUpdates,p=c.allTasks,v=c.axiosAbort,f=(0,l.Z)((0,l.Z)({},u.ns.tasks.getAllTasksCreatedByUser(n,e)),{},{handlerEnabled:!0,signal:v.signal});return new i.y((function(e){t||a()((0,o.now)()).diff(a()(m.tasks),"minutes")>10||0===p.length?(0,s.b)(f).then((function(t){var n;if(200===(null===t||void 0===t?void 0:t.status)&&null!==t&&void 0!==t&&t.data&&null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.data){var l,o=null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.data;d.h.dispatch((0,r.rh)(o)),e.next(o),e.complete()}})).catch((function(t){e.error(t)})):e.complete()}))},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=d.h.getState().authReducer.sessionSettings.last_access_token,c=d.h.getState().flowReducer,m=c.lastUpdates,p=c.allTasks,v=c.axiosAbort,f=(0,l.Z)((0,l.Z)({},u.ns.tasks.getAllTasks(n,e)),{},{handlerEnabled:!0,signal:v.signal});return new i.y((function(e){t||a()((0,o.now)()).diff(a()(m.tasks),"minutes")>10||0===p.length?(0,s.b)(f).then((function(t){var n;if(200===(null===t||void 0===t?void 0:t.status)&&null!==t&&void 0!==t&&t.data&&null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.data){var a,i=null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.data;d.h.dispatch((0,r.rh)(i)),d.h.dispatch((0,r.C2)((0,l.Z)((0,l.Z)({},m),{},{tasks:(0,o.now)()}))),e.next(i),e.complete()}})).catch((function(t){e.error(t)})):e.complete()}))},v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=d.h.getState().authReducer.sessionSettings.last_access_token,m=(0,l.Z)((0,l.Z)({},u.ns.tasks.getAllCompletedTasks(c,e,t)),{},{handlerEnabled:!0}),p=d.h.getState().flowReducer,v=p.lastUpdates,f=p.allCompletedTasks;return new i.y((function(t){n||a()((0,o.now)()).diff(a()(v.allCompletedTasks),"minutes")>10||0===f.data.length?(0,s.b)(m).then((function(n){var l;if(200===(null===n||void 0===n?void 0:n.status)&&null!==n&&void 0!==n&&n.data&&null!==n&&void 0!==n&&null!==(l=n.data)&&void 0!==l&&l.data){var o=null===n||void 0===n?void 0:n.data;d.h.dispatch((0,r.cL)(o,e)),t.next(o),t.complete()}})).catch((function(e){t.error(e)})):t.complete()}))},f=function(e){var t=d.h.getState().authReducer.sessionSettings.last_access_token,n=new FormData,o=(0,l.Z)({},u.ns.tasks.deleteTask(t,e)),a=(0,l.Z)((0,l.Z)({},o),{},{headers:(0,l.Z)({},o.headers),data:n,handlerEnabled:!0});return new i.y((function(t){return(0,s.b)(a).then((function(n){200===(null===n||void 0===n?void 0:n.status)&&null!==n&&void 0!==n&&n.data&&(d.h.dispatch((0,r.Xc)({show:!0,message:"You have successfully deleted the task",color:"red"})),d.h.dispatch((0,r.OQ)(e)),t.next(n.data),t.complete())})).catch((function(e){t.error(e)}))}))},y=function(e){var t,n,o=d.h.getState().authReducer.sessionSettings.last_access_token,a=new FormData;a.append("name",e.taskName),a.append("description",e.taskDescription),a.append("due_date",e.dueDate),null!==e&&void 0!==e&&null!==(t=e.newAssignee)&&void 0!==t&&t.assignee_id&&a.append("assignee_id",e.newAssignee.assignee_id),e.taskProcess&&a.append("procedure_id",null===(n=e.taskProcess)||void 0===n?void 0:n.id),e.add_info&&a.append("add_info",JSON.stringify(e.add_info));var c=(0,l.Z)((0,l.Z)({},u.ns.tasks.createTask(o)),{},{data:a,handlerEnabled:!0});return new i.y((function(e){return(0,s.b)(c).then((function(t){var n;if(null!==t&&void 0!==t&&t.data&&null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.data){var l,o=null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.data;d.h.dispatch((0,r.Pb)(o)),d.h.dispatch((0,r.Xc)({show:!0,message:"You have successfully created a new task"})),e.next(o),e.complete()}})).catch((function(t){e.error(t)}))}))},g=function(e,t){var n,o=d.h.getState().authReducer.sessionSettings.last_access_token,a={name:e.name,description:e.description,due_date:e.due_date,assignee_id:e.assignee_id,status:null!==(n=null===e||void 0===e?void 0:e.status)&&void 0!==n?n:""};e.add_info&&(a.add_info=JSON.stringify(e.add_info));var c=(0,l.Z)((0,l.Z)({},u.ns.tasks.editTask(o,t)),{},{data:a,forwardAllErrors:!0});return new i.y((function(e){return(0,s.b)(c).then((function(t){var n;if(null!==t&&void 0!==t&&t.data&&null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.data){var l,o=null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.data;d.h.dispatch((0,r.eT)(o)),e.next(o),e.complete()}})).catch((function(t){e.error(t)}))}))}},22590:function(e,t){t.Z={host:"ProcessInfo_host__+oaqg",processControls:"ProcessInfo_processControls__2tdBF",sharePosition:"ProcessInfo_sharePosition__FqHsX",addStep:"ProcessInfo_addStep__uYhIL",addComponent:"ProcessInfo_addComponent__ZNJnb",buttonWrapper:"ProcessInfo_buttonWrapper__TYYT4",addStepTooltip:"ProcessInfo_addStepTooltip__rWSLm",addComponentTooltip:"ProcessInfo_addComponentTooltip__x6Vlz",messageContainer:"ProcessInfo_messageContainer__Ymk+d",title:"ProcessInfo_title__6a6i3",message:"ProcessInfo_message__kMz1c",customCheckbox:"ProcessInfo_customCheckbox__OHBxP",checkmark:"ProcessInfo_checkmark__jqo8a",closeButton:"ProcessInfo_closeButton__Xqtn-",control:"ProcessInfo_control__tSGLd",processNameContainer:"ProcessInfo_processNameContainer__EsIer",tutorialWrapper:"ProcessInfo_tutorialWrapper__Ijpgx",tutorialContainer:"ProcessInfo_tutorialContainer__6VGmK",processChartWrapper:"ProcessInfo_processChartWrapper__Q4jCW","react-tabs__tab--selected":"ProcessInfo_react-tabs__tab--selected__kT6jO","css-1hwfws3":"ProcessInfo_css-1hwfws3__oWVI5","css-1okebmr-indicatorSeparator":"ProcessInfo_css-1okebmr-indicatorSeparator__-YC+I","css-1gsw4b3":"ProcessInfo_css-1gsw4b3__9qcid","process-name":"ProcessInfo_process-name__nJ2CH","process-description":"ProcessInfo_process-description__C24Ws",container:"ProcessInfo_container__0EX6d",arrow_type2:"ProcessInfo_arrow_type2__VA3Ze","combined-shape":"ProcessInfo_combined-shape__WjWTZ","saved-description":"ProcessInfo_saved-description__Z5PuF",helper:"ProcessInfo_helper__7xoR9","rectangle-copy-4":"ProcessInfo_rectangle-copy-4__yjPo2",rectangle:"ProcessInfo_rectangle__kG0GD","rectangle-2":"ProcessInfo_rectangle-2__g+vZ8","rectangle-copy-3":"ProcessInfo_rectangle-copy-3__27bVn","new-step-modal":"ProcessInfo_new-step-modal__ur8v3","process-name-container":"ProcessInfo_process-name-container__noEII","input-search":"ProcessInfo_input-search__WA0Hv","editable-rectangle":"ProcessInfo_editable-rectangle__GgZ++",shareProcessHost:"ProcessInfo_shareProcessHost__k6ClQ",shareModalCloseButtonContainer:"ProcessInfo_shareModalCloseButtonContainer__4RcY9",shareModalCloseButton:"ProcessInfo_shareModalCloseButton__d19L0",shareModalClosebuttonImage:"ProcessInfo_shareModalClosebuttonImage__ctaAE",shareImage:"ProcessInfo_shareImage__MMQSA",shareProcessTitle:"ProcessInfo_shareProcessTitle__NcNb-",selectComponentContainer:"ProcessInfo_selectComponentContainer__ZGHp7",selectComponentTite:"ProcessInfo_selectComponentTite__HIPH3",selectComponent:"ProcessInfo_selectComponent__AqNdw",selectClearControlsClassName:"ProcessInfo_selectClearControlsClassName__2JBX7",selectListContainer:"ProcessInfo_selectListContainer__P13gF",shareButtonContainer:"ProcessInfo_shareButtonContainer__EmjbT",multiSelectContainer:"ProcessInfo_multiSelectContainer__cJOx5",multiselectComponent:"ProcessInfo_multiselectComponent__gZpac",multiSelectSearchInput:"ProcessInfo_multiSelectSearchInput__YmtV7",multiSelectMenuOverlayList:"ProcessInfo_multiSelectMenuOverlayList__MgB5l",multiSelectMenuOverlayListItem:"ProcessInfo_multiSelectMenuOverlayListItem__gW5lT",showTutorialContainer:"ProcessInfo_showTutorialContainer__pHXUK",deleteModalContainer:"ProcessInfo_deleteModalContainer__zJS6K",deleteModalTextContainer:"ProcessInfo_deleteModalTextContainer__23irp",deleteModalImage:"ProcessInfo_deleteModalImage__blHCS",deteteModalText:"ProcessInfo_deteteModalText__fp5WW",deleteModalButtonContainer:"ProcessInfo_deleteModalButtonContainer__dBunM",deleteModalCancelButton:"ProcessInfo_deleteModalCancelButton__9lDvo",errorContainer:"ProcessInfo_errorContainer__50zTL",paragraphNameContainer:"ProcessInfo_paragraphNameContainer__qBr8V",paragraphDescriptionContainer:"ProcessInfo_paragraphDescriptionContainer__1YFKM",rightSideContainer:"ProcessInfo_rightSideContainer__NWma5",usersHost:"ProcessInfo_usersHost__kRtg+"}}}]);
//# sourceMappingURL=7997.a4da4854.chunk.js.map