{"version":3,"file":"static/js/825.d4c79e29.chunk.js","mappings":"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","sources":["webpack://flowhero/./src/appFiles/components/OnboardingEntries/CompanyOrganizationalChart/EditComOrgChart.module.scss?538b","appFiles/components/OnboardingEntries/CompanyOrganizationalChart/EditComOrgChart.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"mainContainer\":\"EditComOrgChart_mainContainer__ZAIhg\",\"backButtonContainer\":\"EditComOrgChart_backButtonContainer__HDWrv\",\"backButton\":\"EditComOrgChart_backButton__JSdP5\",\"backButtonIcon\":\"EditComOrgChart_backButtonIcon__oqptF\",\"inviteColleguesContainer\":\"EditComOrgChart_inviteColleguesContainer__s2Vbk\",\"inviteColleguesButton\":\"EditComOrgChart_inviteColleguesButton__XKKsk\",\"inviteColleguesButtonIcon\":\"EditComOrgChart_inviteColleguesButtonIcon__9zw1B\",\"controlsContainer\":\"EditComOrgChart_controlsContainer__K0uG6\",\"addPositionButton\":\"EditComOrgChart_addPositionButton__1vh3b\",\"addPositionButtonIcon\":\"EditComOrgChart_addPositionButtonIcon__bQyMP\",\"defineDepartmentsButton\":\"EditComOrgChart_defineDepartmentsButton__9vYgm\",\"defineDepartmentsButtonIcon\":\"EditComOrgChart_defineDepartmentsButtonIcon__3I+qp\",\"chartContainer\":\"EditComOrgChart_chartContainer__VeHYX\",\"paragraphNameContainer\":\"EditComOrgChart_paragraphNameContainer__PC4SG\"};","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\n\nimport { setServerFeatureNotReadyYet, setPositionInfo, setShowMenu } from '../../../reduxStore/actions/flowActions';\nimport { setOnBoardingModalsVisibility, setOnBoardingVisible } from '../../../reduxStore/actions/modalsActions';\nimport CompanyOrganizationalChart from './CompanyOrganizationalChart';\nimport cls from './EditComOrgChart.module.scss';\nimport { Button, PermissionWrapper, Spinner, po } from '../../common';\nimport { getPositionById } from '../../../services/company.service';\nimport { store } from '../../../reduxStore/store';\nimport CreateDepartments from '../OnboardingModals/CreateDepartments';\nconst EditComOrgChart = props => {\n\tconst navigate = useNavigate();\n\tconst { onToggleModalVisibility, onSetOnBoardingVisible, companyOrgChart } = props;\n\tconst [departments] = useState({});\n\tconst [aContainerDim, setAContainerDim] = useState({ width: 0, height: 0 });\n\tconst aContainerRef = useRef();\n\tconst [showDepartments, setShowDepartments] = useState(false);\n\tconst [loading, setLoading] = useState(false);\n\n\tuseEffect(() => {\n\t\tsetAContainerDimensions();\n\t}, [aContainerRef, departments]);\n\tconst setAContainerDimensions = useCallback(() => {\n\t\tconst { width, height } = aContainerRef?.current?.getBoundingClientRect() || {};\n\t\tsetAContainerDim({ width: width, height: height });\n\t}, [aContainerRef]);\n\n\tconst onPositionPressed = positionId => {\n\t\tsetLoading(true);\n\t\tgetPositionById(positionId).subscribe({\n\t\t\tnext: () => {\n\t\t\t\tsetLoading(false);\n\t\t\t\tonToggleModalVisibility({ positionModalVisible: true });\n\t\t\t\tonSetOnBoardingVisible(true);\n\t\t\t},\n\t\t\terror: () => {\n\t\t\t\tsetLoading(false);\n\t\t\t},\n\t\t\tcomplete: () => {},\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className={cls.mainContainer}>\n\t\t\t<div className={cls.backButtonContainer} style={{ display: '' }}>\n\t\t\t\t<Button\n\t\t\t\t\ttitle={'Back'}\n\t\t\t\t\tclicked={() => {\n\t\t\t\t\t\tstore.dispatch(setShowMenu(true));\n\t\t\t\t\t\tnavigate('/company');\n\t\t\t\t\t}}\n\t\t\t\t></Button>\n\t\t\t\t<PermissionWrapper permissions={[po.company.orgChart.update]}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tlight\n\t\t\t\t\t\ttitle={'Departments'}\n\t\t\t\t\t\tclicked={() => {\n\t\t\t\t\t\t\tsetShowDepartments(true);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tlight\n\t\t\t\t\t\ttitle={'Positions'}\n\t\t\t\t\t\tclicked={() => {\n\t\t\t\t\t\t\tstore.dispatch(\n\t\t\t\t\t\t\t\tsetPositionInfo({\n\t\t\t\t\t\t\t\t\tname: '',\n\t\t\t\t\t\t\t\t\tid: '',\n\t\t\t\t\t\t\t\t\tparent: undefined,\n\t\t\t\t\t\t\t\t\tparent_position: undefined,\n\t\t\t\t\t\t\t\t\tdepartment_id: '',\n\t\t\t\t\t\t\t\t\tis_managerial: false,\n\t\t\t\t\t\t\t\t\tchildren: [],\n\t\t\t\t\t\t\t\t\tusers: [],\n\t\t\t\t\t\t\t\t\tshared_users: [],\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tonToggleModalVisibility({ positionModalVisible: true });\n\t\t\t\t\t\t\tonSetOnBoardingVisible(true);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</PermissionWrapper>\n\t\t\t</div>\n\t\t\t<div className={cls.paragraphNameContainer}>\n\t\t\t\t<p>{'Company Chart'}</p>\n\t\t\t</div>\n\n\t\t\t<div ref={aContainerRef} className={cls.chartContainer}>\n\t\t\t\t<CompanyOrganizationalChart dimmensions={aContainerDim} onPositionPressed={onPositionPressed}>\n\t\t\t\t\t{loading && <Spinner size={80} type={'ThreeDots'} />}\n\t\t\t\t</CompanyOrganizationalChart>\n\t\t\t</div>\n\t\t\t{showDepartments && (\n\t\t\t\t<CreateDepartments\n\t\t\t\t\tmodalVisible={showDepartments}\n\t\t\t\t\thasCloseButton={true}\n\t\t\t\t\tmodalWrapperStyle={{}}\n\t\t\t\t\tshadowedContainerStyle={{ minWidth: '523px', width: '70%', height: 'auto' }}\n\t\t\t\t\tchildrenWrapperStyle={{}}\n\t\t\t\t\tonCancel={() => {\n\t\t\t\t\t\tsetShowDepartments(false);\n\t\t\t\t\t}}\n\t\t\t\t\tonPreviousButtonAction={() => {\n\t\t\t\t\t\tsetShowDepartments(false);\n\t\t\t\t\t}}\n\t\t\t\t\tonNextButtonAction={() => {\n\t\t\t\t\t\tsetShowDepartments(false);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = store => {\n\tconst { inviteColleguesList, companyOrgChart } = store.flowReducer;\n\treturn { inviteColleguesList, companyOrgChart };\n};\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tonSetOnBoardingVisible: visible => dispatch(setOnBoardingVisible(visible)),\n\t\tonToggleModalVisibility: modalVisible => dispatch(setOnBoardingModalsVisibility(modalVisible)),\n\t\tonSetServerFeatureNotReadyYet: unlock => dispatch(setServerFeatureNotReadyYet(unlock)),\n\t};\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(EditComOrgChart);\n"],"names":["connect","store","flowReducer","inviteColleguesList","companyOrgChart","dispatch","onSetOnBoardingVisible","visible","setOnBoardingVisible","onToggleModalVisibility","modalVisible","setOnBoardingModalsVisibility","onSetServerFeatureNotReadyYet","unlock","setServerFeatureNotReadyYet","props","navigate","useNavigate","useState","departments","width","height","aContainerDim","setAContainerDim","aContainerRef","useRef","showDepartments","setShowDepartments","loading","setLoading","useEffect","setAContainerDimensions","useCallback","current","getBoundingClientRect","className","cls","style","display","title","clicked","setShowMenu","permissions","po","light","setPositionInfo","name","id","parent","undefined","parent_position","department_id","is_managerial","children","users","shared_users","positionModalVisible","ref","CompanyOrganizationalChart","dimmensions","onPositionPressed","positionId","getPositionById","subscribe","next","error","complete","size","type","CreateDepartments","hasCloseButton","modalWrapperStyle","shadowedContainerStyle","minWidth","childrenWrapperStyle","onCancel","onPreviousButtonAction","onNextButtonAction"],"sourceRoot":""}