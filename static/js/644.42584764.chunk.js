"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[644],{40317:function(e,t,n){n.r(t),n.d(t,{default:function(){return P},randomisedColor:function(){return A}});var a=n(93433),i=n(29439),l=n(67861),o=n(39518),r=n(23280),s=n(11577),c=n(10103),m=n(41771),u=n(71982),d=n(75105),p=n(96189),v=n(32588),f=n(40694),g=n(71871),y=n(63789),h=n(1413),_=(n(83381),n(73500)),E=n(79492),x=n.n(E),C=n(70847),Z=n(88374),S=n(34710),b=n(89293),k=n(67861),T=n(66918),N=(0,o.$j)((function(e){var t=e.flowReducer;return{inviteColleguesList:t.inviteColleguesList,companyPositionsArray:t.companyPositionsArray,companyData:t.companyData,companyUsersArray:t.companyUsersArray}}),(function(e){return{onSetInviteColleguesList:function(t){return e((0,Z.vj)(t))},onTutorialModalOpen:function(t){return e((0,u.ay)(t))}}}))((function(e){var t,n,a,r,s,m,u=e.closeButtonAction,v=e.onContinueButtonAction,f=e.onCancel,g=e.inviteColleguesList,y=e.companyPositionsArray,E=e.companyUsersArray,N=(0,l.useState)({companyEmail:"",firstName:"",lastName:"",position:"",position_id:""}),w=(0,i.Z)(N,2),I=w[0],D=w[1],M=(0,l.useState)({companyEmail:"",firstName:"",lastName:"",position:""}),A=(0,i.Z)(M,2),P=A[0],U=A[1],Y=(0,l.useState)("Hongkong"),j=(0,i.Z)(Y,2),B=j[0],F=j[1],H=(0,l.useState)(""),O=(0,i.Z)(H,2),z=O[0],L=O[1],W=(0,l.useState)(!1),R=(0,i.Z)(W,2),V=R[0],q=R[1],X=(0,l.useState)(!1),$=(0,i.Z)(X,2),J=$[0],G=$[1],Q=(0,o.I0)();(0,l.useEffect)((function(){}),[g]),(0,l.useEffect)((function(){(0,S.hj)().subscribe({})}),[]);var K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e&&(U((0,h.Z)((0,h.Z)({},z),{},{companyEmail:""})),G(!0),(0,d.fu)({email:e}).pipe((0,c.q)(1)).subscribe({next:function(e){U((0,h.Z)((0,h.Z)({},z),{},{companyEmail:"Email already exists and being used. Please choose another email"})),G(!1)},error:function(e){G(!1),t()}}))},ee=(0,l.useCallback)((function(){var e,t,n;if(E.filter((function(e){return e.email===I.companyEmail})).length>0)U((function(e){return(0,h.Z)((0,h.Z)({},e),{},{companyEmail:"Email already exists and being used."})}));else{U({companyEmail:"",firstName:"",lastName:"",position:""}),L("");var a=!0;if((0,C.isEmail)(I.companyEmail)||(a=!1,U((function(e){return(0,h.Z)((0,h.Z)({},e),{},{companyEmail:"Invalid Company email"})}))),(null===(e=I.firstName)||void 0===e?void 0:e.length)<2&&(a=!1,U((function(e){return(0,h.Z)((0,h.Z)({},e),{},{firstName:"Invalid First name"})}))),(null===(t=I.lastName)||void 0===t?void 0:t.length)<2&&(a=!1,U((function(e){return(0,h.Z)((0,h.Z)({},e),{},{lastName:"Invalid Last name"})}))),(null===(n=I.position)||void 0===n?void 0:n.length)<2&&(a=!1,U((function(e){return(0,h.Z)((0,h.Z)({},e),{},{position:"Position id is not considered valid"})}))),a){var i={email:I.companyEmail,first_name:I.firstName,last_name:I.lastName,position_id:I.position_id};G(!0),(0,S.x7)(i).subscribe({next:function(e){Q((0,Z.Xc)({show:!0,message:"You have successfully created an invitation to ".concat(I.firstName," "),top:"0"})),v()},error:function(e){var t,n,a,i,l,o,r,s,c;e&&U({companyEmail:(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(a=n.errors)||void 0===a?void 0:a.email)||"",firstName:(null===e||void 0===e||null===(i=e.data)||void 0===i||null===(l=i.errors)||void 0===l?void 0:l.first_name)||"",lastName:(null===e||void 0===e||null===(o=e.data)||void 0===o||null===(r=o.errors)||void 0===r?void 0:r.last_name)||"",position:(null===e||void 0===e||null===(s=e.data)||void 0===s||null===(c=s.errors)||void 0===c?void 0:c.position_id)||""});L("status ".concat(null===e||void 0===e?void 0:e.status,": ").concat(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)),G(!1)},complete:function(){return G(!1)}})}}}),[I]),te=function(){E.filter((function(e){return e.email===I.companyEmail})).length>0?U((function(e){return(0,h.Z)((0,h.Z)({},e),{},{companyEmail:"Email already exists"})})):E.filter((function(e){return e.username===I.username})).length>0?U((function(e){return(0,h.Z)((0,h.Z)({},e),{},{username:"Username already exists"})})):(q(!0),(0,d.r4)({email:I.companyEmail,username:I.username,first_name:I.firstName,last_name:I.lastName,timezone:B,position_id:[I.position_id]}).subscribe({next:function(e){Q((0,Z.Xc)({show:!0,message:"You have successfully created ".concat(I.firstName,'. Default password is "P@ssw0rd"'),top:"0"})),v()},error:function(e){var t,n,a,i,l,o,r,s,c,m;e&&U({companyEmail:(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(a=n.errors)||void 0===a?void 0:a.email)||"",firstName:(null===e||void 0===e||null===(i=e.data)||void 0===i||null===(l=i.errors)||void 0===l?void 0:l.first_name)||"",lastName:(null===e||void 0===e||null===(o=e.data)||void 0===o||null===(r=o.errors)||void 0===r?void 0:r.last_name)||"",position:(null===e||void 0===e||null===(s=e.data)||void 0===s||null===(c=s.errors)||void 0===c?void 0:c.position_id)||"",username:(null===e||void 0===e||null===(m=e.data)||void 0===m?void 0:m.errors.username)||""});L("status ".concat(null===e||void 0===e?void 0:e.status,": ").concat(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)),q(!1)},complete:function(){return q(!1)}}))};return k.createElement("div",{style:{width:"inherit",minWidth:"300px"}},k.createElement(p.U7,{scrollable:!0,shadowedContainerStyle:{width:_.tq?"100%":"30%",minWidth:"450px"},isOpen:e.modalVisible,modalClosed:f,blured:e.blured},k.createElement("div",{style:{position:"relative",display:"flex",height:"96%",flexDirection:"column",justifyContent:"flex-start",alignItems:"stretch",margin:"2% 10% 2% 10%"}},k.createElement("div",{style:{margin:"0px 0 0px 0",alignSelf:"stretch",display:"flex",flexDirection:"row",width:"100%",justifyContent:e.headingCentered?"center":"flex-start",alignItems:e.headingCentered?"center":"stretch"}},e.headingImage&&k.createElement("img",{alt:"",src:e.headingImage,style:{alignSelf:"center",height:"30px",width:"32px"}}),k.createElement("h1",{style:{color:"#4A4A4A",fontFamily:"var(--app-text-main-font)",fontSize:"2em",lineHeight:"2em",margin:"0",padding:"0 0 0 10px",textAlign:"center",width:"100%"}},"Add Users")),k.createElement("div",{className:"subheadingContainer_IX"},k.createElement("p",{className:"subheading_IX"},"Fill the email, name and position of the user you\u2019d like to add. For invites, user will need to accept via email sent")),k.createElement("div",{style:{minHeight:"500px",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"stretch"}},k.createElement(x(),null,k.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center"}},k.createElement("div",{style:{marginRight:"10px",width:"100%",height:"100%",flex:1,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",boxSizing:"border-box",minHeight:"480px",minWidth:"351px",backgroundColor:"#FFFFFF"}},k.createElement("div",{style:{margin:"10px 0px 0 0",dispay:"flex",width:"100%",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center"}},k.createElement("input",{type:"text",name:"comapny-name",className:"inputStyle_IX",placeholder:"Email",value:I.companyEmail,onChange:function(e){D((function(t){return(0,h.Z)((0,h.Z)({},t),{},{companyEmail:e.target.value})}))},onFocus:function(){U((function(e){return(0,h.Z)((0,h.Z)({},e),{},{companyEmail:""})}))}}),(null===P||void 0===P||null===(t=P.companyEmail)||void 0===t?void 0:t.length)>0&&k.createElement("p",{style:{margin:"1px 0 1px 2px ",fontFamily:"var(--app-text-main-font)",fontSize:"14px",color:"var(--app-color-error)"}},null===P||void 0===P?void 0:P.companyEmail)),(null===P||void 0===P||null===(n=P.username)||void 0===n?void 0:n.length)>0&&k.createElement("div",{style:{margin:"10px 0px 0 0",dispay:"flex",width:"100%",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center"}},k.createElement("input",{type:"text",name:"user-name",className:"inputStyle_IX",placeholder:"Username",value:I.username,onChange:function(e){D((function(t){return(0,h.Z)((0,h.Z)({},t),{},{username:e.target.value})}))}}),(null===P||void 0===P||null===(a=P.username)||void 0===a?void 0:a.length)>0&&k.createElement("p",{style:{margin:"1px 0 1px 2px ",fontFamily:"var(--app-text-main-font)",fontSize:"14px",color:"var(--app-color-error)"}},null===P||void 0===P?void 0:P.username)),k.createElement("div",{style:{margin:"10px 0px 0 0",dispay:"flex",width:"100%",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center"}},k.createElement(p.Ld,{triggerType:"chevron",molclassname:"menuOverlayList_IX",moliclassname:"menuOverlayListItem_IX",title:"",placeholder:"Position",onChange:function(e){e&&D((function(t){return(0,h.Z)((0,h.Z)({},t),{},{position:e.label,position_id:e.value})}))},items:y}),(null===P||void 0===P||null===(r=P.position)||void 0===r?void 0:r.length)>0&&k.createElement("p",{style:{margin:"1px 0 1px 2px ",fontFamily:"var(--app-text-main-font)",fontSize:"14px",color:"var(--app-color-error)"}},null===P||void 0===P?void 0:P.position)),k.createElement("div",{style:{margin:"10px 0px 0 0",dispay:"flex",width:"100%",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center"}},k.createElement("input",{type:"text",name:"first-name",className:"inputStyle_IX",placeholder:"First Name",value:I.firstName,onChange:function(e){D((function(t){return(0,h.Z)((0,h.Z)({},t),{},{firstName:e.target.value})}))},onFocus:function(){U((function(e){return(0,h.Z)((0,h.Z)({},e),{},{firstName:""})}))}}),(null===P||void 0===P||null===(s=P.firstName)||void 0===s?void 0:s.length)>0&&k.createElement("p",{style:{margin:"1px 0 1px 2px ",fontFamily:"var(--app-text-main-font)",fontSize:"14px",color:"var(--app-color-error)"}},null===P||void 0===P?void 0:P.firstName)),k.createElement("div",{style:{margin:"10px 0px 0 0",dispay:"flex",width:"100%",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center"}},k.createElement("input",{type:"text",name:"last-name",className:"inputStyle_IX",placeholder:"Last Name",value:I.lastName,onChange:function(e){D((function(t){return(0,h.Z)((0,h.Z)({},t),{},{lastName:e.target.value})}))},onFocus:function(){U((function(e){return(0,h.Z)((0,h.Z)({},e),{},{lastName:""})}))}}),(null===P||void 0===P||null===(m=P.lastName)||void 0===m?void 0:m.length)>0&&k.createElement("p",{style:{margin:"1px 0 1px 2px ",fontFamily:"var(--app-text-main-font)",fontSize:"14px",color:"var(--app-color-error)"}},null===P||void 0===P?void 0:P.lastName)),k.createElement("div",{style:{margin:"10px 0px 0 0",dispay:"flex",width:"100%",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center"}},k.createElement(p.Ld,{inputStyle:{pointerEvents:"none"},items:b.LY,defaultSelectedItem:T.find(T.propEq("value",B))(b.LY),triggerType:"chevron",placeholder:"Select timezone",onChange:function(e){F(null===e||void 0===e?void 0:e.value)}}))))),k.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",alignSelf:"center"}},k.createElement(p.zx,{title:"Close",clicked:u,style:{width:"100px"}}),k.createElement(p.zx,{title:"Invite User",light:!0,disabled:!1,loading:J,clicked:function(){K(I.companyEmail,ee)},style:{width:"140px"}}),k.createElement(p.zx,{title:"Create User",light:!0,disabled:!1,loading:V,clicked:function(){return K(I.companyEmail,te)},style:{width:"140px"}}))))),k.createElement(p.I5,null))})),w=n(61616);document.title="Users | ".concat(b.iC);n(66918),n(84813);var I,D,M=String((I=10,D=245,I=Math.ceil(I),D=Math.floor(D),Math.floor(Math.random()*(D-I))+I)),A={color:"rgb(".concat(M,",").concat(M,",").concat(M,")")||0},P=(0,o.$j)((function(e){var t=e.authReducer.authenticatedUser.position,n=e.sessionReducer.user,a=e.flowReducer;return{companyData:a.companyData,companyPositionsArray:a.companyPositionsArray,position:t,allTasks:a.allTasks,allCompletedTasks:a.allCompletedTasks,allCompletedTasksPaginated:a.allCompletedTasksPaginated,user:n,companyUsersArray:a.companyUsersArray}}),(function(e){return{onSetOnBoardingVisible:function(t){return e((0,u.DJ)(t))},onToggleModalVisibility:function(t){return e((0,u.$6)(t))}}}))((function(e){var t=(0,r.TH)(),n=e.user,u=e.onToggleModalVisibility,h=e.onSetOnBoardingVisible,_=e.companyUsersArray,E=e.profile,x=void 0!==E&&E,C=e.companyData,S=(0,l.useState)(!1),b=(0,i.Z)(S,2),k=b[0],T=b[1],I=(0,l.useState)(_),D=(0,i.Z)(I,2),M=D[0],A=D[1],P=(0,l.useState)([]),U=(0,i.Z)(P,2),Y=(U[0],U[1]),j=(0,l.useState)(!1),B=(0,i.Z)(j,2),F=B[0],H=B[1],O=(0,l.useState)(!1),z=(0,i.Z)(O,2),L=z[0],W=z[1],R=(0,l.useState)(!1),V=(0,i.Z)(R,2),q=V[0],X=V[1],$=(0,l.useState)(""),J=(0,i.Z)($,2),G=J[0],Q=(J[1],(0,l.useState)([])),K=(0,i.Z)(Q,2),ee=(K[0],K[1]),te=(0,l.useState)({filterActive:!1,departments_filteredIds:[],positions_filteredIds:[]}),ne=(0,i.Z)(te,2),ae=ne[0],ie=(ne[1],(0,l.useState)(!1)),le=(0,i.Z)(ie,2),oe=(le[0],le[1],(0,l.useState)(!1)),re=(0,i.Z)(oe,2),se=re[0],ce=re[1],me=(0,o.I0)(),ue=(0,r.s0)();(0,l.useEffect)((function(){T(!0),(0,d.pH)().pipe((0,s.P)()).subscribe({next:function(e){Y(e)}}),me((0,Z.IW)(!x)),0==_.length&&(ce(!0),(0,d.AW)().pipe((0,c.q)(1)).subscribe({next:function(e){0===e.length?(H(!0),ce(!1)):(A((0,a.Z)(e)),ce(!1))},error:function(e){ce(!1)},complete:function(){ce(!1)}}))}),[]),(0,l.useEffect)((function(){var e=null===M||void 0===M?void 0:M.find((function(e){return e.id==new URLSearchParams(null===t||void 0===t?void 0:t.search).get("userId")}));e&&de(e)}),[null===t||void 0===t?void 0:t.search,M]),(0,l.useEffect)((function(){if(ae.filterActive){var e=[].concat((0,a.Z)(ae.departments_filteredIds),(0,a.Z)(ae.positions_filteredIds));(null===e||void 0===e?void 0:e.length)>0&&ee((0,a.Z)(e))}}),[ae]);var de=function(e){ue("/user-profile",{state:{user:e}})},pe=function(){X(!0)};return l.createElement("div",{className:g.Z.usersHost},l.createElement("div",{style:{margin:"100px 0 0 0"}},l.createElement(w.Z,{headerTitle:x?"My Profile":"Users",targetProcessing:!1})),k&&l.createElement("span",{className:g.Z.loadingIndicator},l.createElement(p.$j,{type:"BallTriangle",color:"var(--app-color-gray-dark)",height:30,width:"".concat(30,"px")})),l.createElement("br",null),l.createElement("div",{style:{display:x?"none":"flex"}},"free"===(null===C||void 0===C?void 0:C.status)&&(null===_||void 0===_?void 0:_.length)<3&&l.createElement(f.Z,{title:"Add Users",clicked:pe,style:{width:"150px"}}),"on_trial"===(null===C||void 0===C?void 0:C.status)&&(null===_||void 0===_?void 0:_.length)<5&&l.createElement(f.Z,{title:"Add Users",clicked:pe,style:{width:"150px"}}),"active"===(null===C||void 0===C?void 0:C.status)&&l.createElement(f.Z,{title:"Add Users",clicked:pe,style:{width:"150px"}}),l.createElement(f.Z,{light:!0,clicked:function(){ce(!0),(0,d.AW)(!0).pipe((0,c.q)(1)).subscribe({next:function(e){0===e.length?(H(!0),ce(!1)):(A((0,a.Z)(e)),ce(!1))},error:function(e){ce(!1)},complete:function(){ce(!1)}})},icon:l.createElement("img",{src:m.Fdh}),loading:se})),l.createElement("br",null),F?l.createElement("div",{className:g.Z.noTeamMembers},l.createElement("img",{src:m.tfg,alt:""}),l.createElement("p",null,"There are currently no team members."),l.createElement(f.Z,{title:"Add Users",clicked:function(){u({eightModalVisible:!0,hideSkipBtn:!0}),h(!0),window.scrollTo(0,0)}})):l.createElement("div",{className:g.Z.colleaguesSection},l.createElement("div",{className:g.Z.rightSideContainer},x?l.createElement("div",{style:{padding:"10px"}},l.createElement(v.Z,{photo:n.photo,firstName:null===n||void 0===n?void 0:n.first_name,lastName:null===n||void 0===n?void 0:n.last_name,position:null===n||void 0===n?void 0:n.phone,email:null===n||void 0===n?void 0:n.email,cardClicked:function(){}})):(null===M||void 0===M?void 0:M.length)>0&&(null===M||void 0===M?void 0:M.map((function(e,t){var n,a;return l.createElement("div",{key:t,style:{padding:"10px"}},l.createElement(v.Z,{photo:e.photo,firstName:null===e||void 0===e?void 0:e.first_name,lastName:null===e||void 0===e?void 0:e.last_name,position:null===e||void 0===e||null===(n=e.positions)||void 0===n||null===(a=n.slice(0,1))||void 0===a?void 0:a.map((function(e){return e.name})),email:null===e||void 0===e?void 0:e.email,cardClicked:function(){return de(e)}}))}))))),L&&l.createElement(y.Z,{isVisible:L,activeItem:G,handleClose:function(){W(!1)},isAdmin:n.is_admin}),q&&l.createElement(N,{hasTutorial:!0,modalVisible:q,closeButtonAction:function(){return X(!1)},backButtonAction:function(){return X(!1)},shadowedContainerStyle:{minWidth:"1110px",minHeight:"725px"},modalWrapperStyle:{minWidth:"1110px",minHeight:"725px"},onContinueButtonAction:function(){X(!1)},onCancel:function(){return X(!1)}}))}))},63789:function(e,t,n){n.d(t,{Z:function(){return w}});var a=n(29439),i=n(96189),l=n(89293),o="UserOverviewModal_topContainer__SfY2a",r="UserOverviewModal_avatarContainer__qWrM5",s="UserOverviewModal_name__i+epl",c="UserOverviewModal_position__8Heb9",m=n(1413),u=n(67861),d="PageSubtitle_host__1jvVf",p="PageSubtitle_pageSubtitleHost__vDvTj",v="PageSubtitle_pageSubtitleChild__s3-5p",f=function(e){var t=e.subtitleImage,n=e.subtitleText,a=e.style,i=e.smallerSubtitle;return u.createElement("div",{className:d},u.createElement("div",{className:p,style:(0,m.Z)({},a)},t&&u.createElement("img",{src:t,className:"grey-svg-image-filter",alt:""}),u.createElement("p",null,n)),i&&u.createElement("div",{className:v},u.createElement("p",null,i)))},g=n(50981),y=n.n(g),h=n(51481),_=n(10103),E=n(11577),x=n(72864),C=n(87462),Z=n(90369),S=n(62589),b="TasksTable_tasksTableHost__msAp6";var k=function(e){var t=e.historyData,n=e.currentPage,l=e.lastPage,o=e.setPage,r=e.loading,s=e.setLoading,c=e.columns,m=e.data,d=(0,u.useState)(!1),p=(0,a.Z)(d,2),v=p[0],f=p[1],g=(0,u.useState)(""),y=(0,a.Z)(g,2),h=y[0],_=y[1],E=(0,u.useState)(""),x=(0,a.Z)(E,2),k=x[0],T=x[1],N=(0,u.useState)(""),w=(0,a.Z)(N,2),I=w[0],D=w[1],M=(0,u.useState)(""),A=(0,a.Z)(M,2),P=A[0],U=A[1],Y=(0,u.useState)(""),j=(0,a.Z)(Y,2),B=j[0],F=j[1],H=(0,u.useState)(""),O=(0,a.Z)(H,2),z=O[0],L=O[1],W=(0,u.useState)(""),R=(0,a.Z)(W,2),V=R[0],q=R[1],X=(0,u.useState)(""),$=(0,a.Z)(X,2),J=$[0],G=$[1],Q=(0,Z.useTable)({columns:c,data:m}),K=Q.getTableProps,ee=Q.getTableBodyProps,te=Q.headerGroups,ne=Q.rows,ae=Q.prepareRow;return u.createElement("div",{className:b},u.createElement("table",K(),u.createElement("thead",null,te.map((function(e,t){return u.createElement("tr",(0,C.Z)({key:t},e.getHeaderGroupProps(),{className:"header-row"}),e.headers.map((function(e,t){return u.createElement("th",(0,C.Z)({key:t},e.getHeaderProps()),e.render("Header"))})))}))),u.createElement("tbody",ee(),ne.map((function(e,n){return ae(e),u.createElement("tr",(0,C.Z)({key:n},e.getRowProps(),{onClick:function(){return e=t[n],G(e),f(!v),_(e.taskName),T(e.createdAt),D(e.completedOn),U(e.duration),F(e.taskCreator),L(e.taskAssignee),void q(null===e||void 0===e?void 0:e.process);var e},style:{cursor:"pointer"}}),e.cells.map((function(e,t){return u.createElement("td",(0,C.Z)({key:t},e.getCellProps()),e.render("Cell"))})))})))),0==m.length&&u.createElement("p",null,"No Tasks Found"),u.createElement("div",{style:{textAlign:"center",marginTop:"20px",paddingBottom:"50px"}},n!==l&&m.length>0&&u.createElement(i.nw,{loadMorePressed:function(){s(!r),o(n+1)},apiRequest:r})),u.createElement(S.Z,{openedTask:J,createdAt:k,taskName:h,completedOn:I,duration:P,taskCreator:B,taskAssignee:z,process:V,modalVisible:v,modalClosed:function(){return f(!v)},hasTutorial:!0,blured:!0,childrenWrapperStyle:{alignItems:"center"},onCancel:function(){return f(!v)}}))},T=n(23280),N=n(73500),w=function(e){var t,n,m,d,p=e.isVisible,v=e.activeItem,g=e.handleClose,C=(e.isAdmin,v.first_name),Z=v.last_name,S=v.id,b=(0,u.useState)([]),w=(0,a.Z)(b,2),I=w[0],D=w[1],M=(0,u.useState)([]),A=(0,a.Z)(M,2),P=A[0],U=A[1],Y=(0,u.useState)([]),j=(0,a.Z)(Y,2),B=j[0],F=j[1],H=(0,u.useState)(!1),O=(0,a.Z)(H,2),z=O[0],L=O[1],W=(0,u.useState)(!1),R=(0,a.Z)(W,2),V=R[0],q=R[1],X=(0,u.useState)({laterTasks:[],todayTasks:[],overdueTasks:[]}),$=(0,a.Z)(X,2),J=$[0],G=$[1],Q=(0,u.useState)(1),K=(0,a.Z)(Q,2),ee=K[0],te=K[1],ne=(null===P||void 0===P?void 0:P.meta)||{},ae=ne.current_page,ie=ne.from,le=P.data&&(null===P||void 0===P||null===(t=P.data)||void 0===t?void 0:t.map((function(e){return e}))),oe=function(e){return L(e)},re=function(e){return q(e)};(0,T.s0)();(0,u.useEffect)((function(){return ue()}),[P.data]),(0,u.useEffect)((function(){return se()}),[I]),(0,u.useEffect)((function(){oe(!0),(0,h.km)(S,!0).pipe((0,_.q)(1)).subscribe({next:function(e){D(e),oe(!1)},error:function(){oe(!1)},complete:function(){oe(!1)}})}),[]),(0,u.useEffect)((function(){re(!0),(0,h.qp)(ee,S,!0).pipe((0,E.P)()).subscribe({next:function(e){U(e),re(!1)}})}),[ee]);var se=(0,u.useCallback)((function(){var e=[],t=[],n=[];0!==(null===I||void 0===I?void 0:I.length)&&(I.map((function(a){var i=y()(new Date).format("YYYY-MM-DD");return y()(a.due_date,"YYYY-MM-DD").isSame(i)?t.push(a):y()(a.due_date,"YYYY-MM-DD").isAfter(i)?n.push(a):e.push(a)})),G({laterTasks:n,todayTasks:t,overdueTasks:e}))}),[I]),ce=function(e){return e.length>0&&e.map((function(e,t){return u.createElement("div",{key:t},u.createElement(x.Z,{task:e,taskId:e.id}))}))},me=u.useMemo((function(){return[{Header:function(){return u.createElement("span",null,"Task Name")},accessor:"taskName"},{Header:function(){return u.createElement("span",null,"Completed On")},accessor:"completedOn"}]}),[]),ue=(0,u.useCallback)((function(){var e,t,n=[];0!==(null===P||void 0===P||null===(e=P.data)||void 0===e?void 0:e.length)&&(null===P||void 0===P||null===(t=P.data)||void 0===t||t.map((function(e){var t;return n.push({taskName:e.name,process:null===e||void 0===e||null===(t=e.process)||void 0===t?void 0:t.name,completedOn:y()(e.completed_at).format("DD of MMMM YYYY hh:mm"),duration:e.duration})})),F(n))}),[P]);return u.createElement(i.U7,{isOpen:p,modalWrapperStyle:{margin:0},shadowedContainerStyle:{width:N.tq?"100%":"50%"},onClose:function(){return g()},scrollable:!0,blured:!0},u.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},u.createElement(i.zx,{title:"Close",clicked:g,style:{width:"100px"}})),u.createElement("div",{style:{padding:"20px"}},u.createElement("div",{style:{display:"flex",flexDirection:"column"}},u.createElement("div",{className:o},u.createElement("div",{className:r},(null===v||void 0===v||null===(n=v.photo)||void 0===n?void 0:n.length)>0&&u.createElement("img",{alt:"lg",src:(0,l.oY)(v.photo)}))),u.createElement("div",{style:{padding:"30px"}},u.createElement("p",{className:s},C+" "+Z),(null===v||void 0===v||null===(m=v.positions)||void 0===m?void 0:m.length)>0&&(null===v||void 0===v||null===(d=v.positions)||void 0===d?void 0:d.map((function(e,t){return u.createElement("div",{key:t},u.createElement("p",{className:c},null===e||void 0===e?void 0:e.name))}))))),u.createElement("div",{style:{display:"none",flexDirection:"row",justifyContent:"initial"}},u.createElement("div",{style:{marginRight:"20px",width:"33%"}},u.createElement(i.SO,{cardTitle:"Overdue"},z?u.createElement(i.$j,{type:"BallTriangle",color:"var(--app-color-gray-light)",height:30,width:"".concat(30,"px")}):ce(J.overdueTasks))),u.createElement("div",{style:{marginRight:"20px",width:"33%"}},u.createElement(i.SO,{cardTitle:"Today"},z?u.createElement(i.$j,{type:"BallTriangle",color:"var(--app-color-gray-light)",height:30,width:"".concat(30,"px")}):ce(J.todayTasks))),u.createElement("div",{style:{width:"33%"}},u.createElement(i.SO,{cardTitle:"Upcoming"},z?u.createElement(i.$j,{type:"BallTriangle",color:"var(--app-color-gray-light)",height:30,width:"".concat(30,"px")}):ce(J.laterTasks)))),u.createElement("div",{style:{display:"flex",flexDirection:"column"}},u.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",padding:"5px",paddingLeft:"5px"}},u.createElement(f,{subtitleText:"Tasks History"})),V?u.createElement(i.$j,{type:"BallTriangle",color:"var(--app-color-gray-light)",height:30,width:"".concat(30,"px")}):u.createElement(k,{loading:V,currentPage:ae,lastPage:ie,setLoading:q,historyData:le,page:ee,setPage:te,columns:me,data:B}))))}},62589:function(e,t,n){n.d(t,{Z:function(){return h}});var a=n(1413),i=n(67861),l=(n(83381),n(39518)),o=n(88374),r=n(96189),s="InfoTaskModal_savedDescription__4uzvj",c="InfoTaskModal_contentWrapper__gt+iR",m="InfoTaskModal_contentContainer__DoP5Z",u="InfoTaskModal_content__42cL+",d="InfoTaskModal_backIconContainer__eM6Vt",p="InfoTaskModal_fieldHistoryTitle__z8Foi",v=n(50981),f=n.n(v),g=n(73500);var y=function(e){var t=e.title,n=e.content;return i.createElement("div",null,i.createElement("p",{className:p},t),i.createElement("p",{className:s},n),e.children)},h=(0,l.$j)((function(e){var t=e.flowReducer;return{inviteColleguesList:t.inviteColleguesList,companyData:t.companyData}}),(function(e){return{onSetCompanyDataField:function(t){return e((0,o.QK)(t))}}}))((function(e){var t=e.modalVisible,n=e.childrenWrapperStyle,l=e.modalClosed,o=e.openedTask,s=o.name,p=o.created_at,v=o.completed_on,h=o.duration,_=(o.process,o.creator),E=o.assignee;return o.components,t?i.createElement("div",null,i.createElement(r.U7,{backdropStyle:{height:"900px"},marginTop:"500px",onClose:l,shadowedContainerStyle:{width:g.tq?"100%":"40%"},position:"fixed",scrollable:!0,backdropColor:!0,blured:!0,width:"90%",isOpen:t},i.createElement("div",{className:d},i.createElement(r.zx,{title:"Close",clicked:l})),i.createElement("div",{className:c,style:(0,a.Z)({},n)},i.createElement("div",{className:m},i.createElement("div",{className:u},i.createElement(y,{title:"Task Name",content:s}),i.createElement(y,{title:"Task Created On",content:f()(p).format("DD of MMMM YYYY hh:mm")}),i.createElement(y,{title:"Completed On",content:f()(v).format("DD of MMMM YYYY hh:mm")}),i.createElement(y,{title:"Time on this Task",content:h}),i.createElement(y,{title:"Task Creator",content:_.first_name+" "+_.last_name}),i.createElement(y,{title:"Assignee",content:E.first_name+" "+E.last_name})))))):null}))},61616:function(e,t,n){n.d(t,{Z:function(){return s}});var a="HeaderTopBar_headerTopBar__D+HJ9",i="HeaderTopBar_headerTopBarContainer__1jgza",l="HeaderTopBar_loadingContainer__UcfwW",o=n(93572),r=n(67861),s=function(e){var t=e.hasHeaderImg,n=e.headerTitle,s=e.headerImgSrc,c=e.targetProcessing;return r.createElement("div",{className:a},r.createElement("div",{className:i},t&&r.createElement("img",{alt:"",src:s}),r.createElement("p",null,n),c&&r.createElement("span",{className:l},r.createElement(o.Z,{type:"Watch",color:"var(--app-color-gray-light)",height:15,width:"".concat(30,"px")}))))}},71871:function(e,t){t.Z={companyHost:"Company_companyHost__1GYT8",usersHost:"Company_usersHost__p8GWh",bottomText:"Company_bottomText__zDv3N",topText:"Company_topText__vAlwF",textSection:"Company_textSection__DAJA1",noColleaguesBackground:"Company_noColleaguesBackground__g-5lD",noColleaguesContainer:"Company_noColleaguesContainer__J7xsh",noColleaguesInnerContainer:"Company_noColleaguesInnerContainer__Yk6up",noColleaguesSection:"Company_noColleaguesSection__M4I8S",bottomOrgTextContainer:"Company_bottomOrgTextContainer__qI5VQ",orgChartContainer:"Company_orgChartContainer__PyWaw",orgChartSection:"Company_orgChartSection__6rgj1",noTeamMembers:"Company_noTeamMembers__gl1Rb",colleaguesSection:"Company_colleaguesSection__FXaYO",leftSideContainer:"Company_leftSideContainer__opyjV",rightSideContainer:"Company_rightSideContainer__5J8j0",loadingIndicator:"Company_loadingIndicator__PkUK1",filterButton:"Company_filterButton__Q2REB",filterButtonIcon:"Company_filterButtonIcon__wBrgi",resetFilterButton:"Company_resetFilterButton__-4+z3",resetFilterButtonIcon:"Company_resetFilterButtonIcon__7RFA1",navbarSection:"Company_navbarSection__81sPj",logoUrlImg:"Company_logoUrlImg__GrM4O",logoUrlImgM:"Company_logoUrlImgM__PwIpA",banner:"Company_banner__+lHF-",banner2:"Company_banner2__joTvv",companyHome:"Company_companyHome__-zveT",centerDiv:"Company_centerDiv__tWVJO"}}}]);
//# sourceMappingURL=644.42584764.chunk.js.map