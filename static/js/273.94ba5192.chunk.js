"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[273],{57273:function(e,t,n){n.r(t),n.d(t,{default:function(){return J}});var i=n(87462),a=n(74165),l=n(15861),r=n(1413),o=n(93433),c=n(29439),s=n(67861),u=n(39518),m=(n(60940),n(79492),n(43984)),p=n(88374),d=n(71982),f={companyHost:"BillingInfo_companyHost__SHdHY",billingInfoHost:"BillingInfo_billingInfoHost__v7cHk",selectControl:"BillingInfo_selectControl__Vt3TJ",menuOverlayList:"BillingInfo_menuOverlayList__gNvLt","react-datepicker-wrapper":"BillingInfo_react-datepicker-wrapper__DvFS1",tasksTableHost:"BillingInfo_tasksTableHost__WPCKQ",tableHost:"BillingInfo_tableHost__ZHzUb",sectionTitle:"BillingInfo_sectionTitle__IzrGv",formWrapper:"BillingInfo_formWrapper__h8oSs",toggleDayPicker:"BillingInfo_toggleDayPicker__3ynTT",form:"BillingInfo_form__NWku+",inputField:"BillingInfo_inputField__BqFYx",noPaymentInfo:"BillingInfo_noPaymentInfo__ShCOz",containerWrapper:"BillingInfo_containerWrapper__XSz4R",inputWrapper:"BillingInfo_inputWrapper__s51O+",errorParagraph:"BillingInfo_errorParagraph__HhNov",trialContainer:"BillingInfo_trialContainer__bYiBP",trialTitle:"BillingInfo_trialTitle__COL72",dashboardTitle:"BillingInfo_dashboardTitle__5kHjX",subTitle:"BillingInfo_subTitle__wV9n1",trialText:"BillingInfo_trialText__f9goq",trialButton:"BillingInfo_trialButton__yZUgc",updateButton:"BillingInfo_updateButton__fppRx",plansContainer:"BillingInfo_plansContainer__Ohk+7",additionalPlanContainer:"BillingInfo_additionalPlanContainer__PJpPY",planTitle:"BillingInfo_planTitle__bpnTr",planDescriptionContainer:"BillingInfo_planDescriptionContainer__VVA0e",planPrice:"BillingInfo_planPrice__IjtDU",planDescription:"BillingInfo_planDescription__hQKXm",planButton:"BillingInfo_planButton__Us8Kv",month:"BillingInfo_month__EQy1u",currentInvoicesContainer:"BillingInfo_currentInvoicesContainer__ryD63",logoutButton:"BillingInfo_logoutButton__RwI2T",boxesHost:"BillingInfo_boxesHost__myZ4y",products:"BillingInfo_products__9Ucy2",checkoutRightContainer:"BillingInfo_checkoutRightContainer__uzOpS",productsContainer:"BillingInfo_productsContainer__qQwdu",servicesContainer:"BillingInfo_servicesContainer__Gm22k",hr:"BillingInfo_hr__jyJEL",endingMessage:"BillingInfo_endingMessage__3hlqh",userPanelHost:"BillingInfo_userPanelHost__vNdI4",userPanelRows:"BillingInfo_userPanelRows__BE5Q9",plansHost:"BillingInfo_plansHost__IPD8J",wallet:"BillingInfo_wallet__EO6K9"},g=n(96189),h=n(11577),_=n(10103),v=n(34710),y=n(50981),b=n.n(y),E=n(27658),x=n(90369),w=n(23280),C=n(61616),I=n(71302),B="CancelMembership_membershipHost__fCag6",k="CancelMembership_cancelDescription__gv+nz",N="CancelMembership_benefitContainer__vZJ9H",P="CancelMembership_benefitTitle__RVht7",S="CancelMembership_benefitDescription__jo63S",T="CancelMembership_buttonsContainer__0qOe-",H="CancelMembership_unsubscribeButton__CExEY",Z="CancelMembership_continueUnsubscribeButton__sJVdv",D="CancelMembership_dontContinueButton__ofaCy",M="CancelMembership_questionaireContainer__PPjA4",W=n(89293),z=n(67861);var A=function(e){var t,n=e.onCancelMembership,i=e.onClose,a=(0,s.useState)(!1),l=(0,c.Z)(a,2),o=l[0],u=l[1],m=(0,s.useState)([]),p=(0,c.Z)(m,2),d=p[0],f=p[1],h=(0,s.useState)(0),_=(0,c.Z)(h,2),v=_[0],y=_[1],b=(0,s.useState)([]),E=(0,c.Z)(b,2),x=E[0],w=E[1],C=(0,s.useState)(!1),I=(0,c.Z)(C,2),A=I[0],U=I[1];return(0,s.useEffect)((function(){f([{id:0,question:"Why are you cancelling your subscription?",answer:""},{id:1,question:"What would have made you keep using ".concat(W.iC,"?"),answer:""},{id:2,question:"Would you ever reconsider using ".concat(W.iC," in the future?"),answer:""}]),w([{title:"Real-Time Company-Wide Workflow Updates:",description:"The moment you change a workflow in ".concat(W.iC,", it immediately and automatically updates for everyone. No more need for extra notifications, training, etc. The next time someone follows that workflow, the latest version is always there.")},{title:"An Org Chart That's Actually Useful:",description:"No more static drawings. ".concat(W.iC," is helping teams around the world understand exactly where they are in the org, who they're reporting to, and how the company operates. It's also helping managers share specific workflows and information only with specific roles.")},{title:"Full Transparency Of Every Moving Piece:",description:"".concat(W.iC,"'s Components system is empowering thousands of professionals to spend way less time updating spreadsheets and way more time doing the actual work they want to do! Everything everyone does in the company is automatically saved and timestamped.")},{title:"And A Dozen Other Benefits",description:"Such as automatic issue/delay escalations up the management chain, the ability to create Procedure Flows to see how specific people or deliverables are flowing through your workflows, and so much more."}])}),[]),z.createElement(s.Fragment,null,o?z.createElement("div",null,z.createElement("div",{className:B},"A Few Questions Before You Go",z.createElement("p",{className:k},d[v].question)),z.createElement("div",{className:M},z.createElement("textarea",{type:"text",name:"textarea",rows:3,className:"textAreaStyle_T",value:null!==(t=d[v].answer)&&void 0!==t?t:"",onChange:function(e){f(d.map((function(t){return t.id===v?(0,r.Z)((0,r.Z)({},d[v]),{},{answer:e.target.value}):t})))}})),z.createElement("br",null),z.createElement("div",{className:B},z.createElement("div",{className:T},z.createElement(g.zx,{className:Z,clicked:function(){v+1===d.length?U(!0):y(v+1)},title:"Continue"})),z.createElement("span",{className:k},"Question ".concat(v+1," of ").concat(d.length)))):z.createElement("div",{className:B},"Cancel Your Subscription",z.createElement("p",{className:k},"Are you sure you want to cancel your subscription?",z.createElement("br",null),"You will lose the following benefits:"),x.map((function(e,t){return z.createElement("div",{key:t,className:N},z.createElement("p",{className:P},e.title),z.createElement("p",{className:S},e.description))})),z.createElement("div",{className:T},z.createElement(g.zx,{className:H,clicked:function(){u(!0)},title:"Cancel Subscription"})),z.createElement("div",{className:T},z.createElement(g.zx,{className:D,clicked:function(){i()},title:"Don't Cancel Subscription"}))),z.createElement(O,{giveThanks:A,onClose:function(){return i()},onCancelMembership:function(){return n({reasons:d})}}))},O=function(e){var t=e.giveThanks,n=e.onClose,i=e.onCancelMembership;return z.createElement(g.U7,{isOpen:t,shadowedContainerStyle:{width:"30%",minWidth:"400px",paddingTop:"40px",paddingBottom:"40px"},onClose:function(){return n()},scrollable:!0,blured:!0},z.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},z.createElement("img",{alt:"",src:I.f_G}),z.createElement("p",{style:{marginTop:"10px",fontFamily:"var(--app-text-main-font)",fontSize:"24px",fontWeight:"600",color:"blue",marginBottom:"5px",textAlign:"center"}},"Thank You For Answering",z.createElement("br",null),"The Questionaire!"),z.createElement(g.zx,{className:D,style:{width:"100px"},clicked:function(){return i()},title:"Close"})))},U=n(27436),R=n(30994),q=n(46415),F=n(73500),Y=n(72864),j=n(75105),Q=n(32588);function K(e){var t=e.columns,n=e.data,a=e.cl,l=void 0===a?f.tasksTableHost:a,r=(0,x.useTable)({columns:t,data:n}),o=r.getTableProps,c=r.getTableBodyProps,u=r.headerGroups,m=r.rows,p=r.prepareRow;return s.createElement("div",{className:l},s.createElement("table",o(),s.createElement("thead",null,u.map((function(e){return s.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return s.createElement("th",e.getHeaderProps(),e.render("Header"))})))}))),s.createElement("tbody",c(),m.map((function(e,t){return p(e)||s.createElement("tr",(0,i.Z)({key:t},e.getRowProps()),e.cells.map((function(e){return s.createElement("td",e.getCellProps(),e.render("Cell"))})))})))))}var J=(0,u.$j)((function(e){var t=e.authReducer,n=t.authenticatedUser.position,i=t.authenticatedUser,a=e.flowReducer;return{companyData:a.companyData,companyPositionsArray:a.companyPositionsArray,position:n,companyUsersArray:a.companyUsersArray,billable:a.billable,billProducts:a.billProducts,authenticatedUser:i}}),(function(e){return{onSetCompanyDataField:function(t){return e((0,p.QK)(t))},onSetAuthenticatedUserPosition:function(t){return e((0,m.IF)(t))},onTutorialModalOpen:function(t){return e((0,d.ay)(t))}}}))((function(e){var t,n,i,m,d=(0,s.useState)(null),x=(0,c.Z)(d,2),I=x[0],B=x[1],k=e.companyData,N=e.onSetCompanyDataField,P=e.companyUsersArray,S=e.billable,T=e.billProducts,H=e.authenticatedUser,Z=((0,s.useRef)(),(0,u.I0)()),D=(0,s.useState)(""),M=(0,c.Z)(D,2),z=M[0],O=(M[1],(0,s.useState)([])),J=(0,c.Z)(O,2),G=J[0],L=J[1],X=(0,s.useState)([]),$=(0,c.Z)(X,2),ee=$[0],te=$[1],ne=(0,s.useState)(!1),ie=(0,c.Z)(ne,2),ae=ie[0],le=ie[1],re=(0,s.useState)([]),oe=(0,c.Z)(re,2),ce=oe[0],se=oe[1],ue=(0,s.useState)(0),me=(0,c.Z)(ue,2),pe=me[0],de=me[1],fe=(0,s.useState)(!1),ge=(0,c.Z)(fe,2),he=ge[0],_e=ge[1],ve=(0,s.useState)(-1),ye=(0,c.Z)(ve,2),be=ye[0],Ee=ye[1],xe=(0,s.useState)({end_date:""}),we=(0,c.Z)(xe,2),Ce=we[0],Ie=we[1],Be=(0,s.useState)([]),ke=(0,c.Z)(Be,2),Ne=ke[0],Pe=ke[1],Se=(0,s.useState)(null),Te=(0,c.Z)(Se,2),He=(Te[0],Te[1]),Ze=(0,s.useState)(!1),De=(0,c.Z)(Ze,2),Me=De[0],We=De[1],ze=(0,s.useState)(P.filter((function(e){return new Date(e.validity)<(0,y.now)()}))),Ae=(0,c.Z)(ze,2),Oe=Ae[0],Ue=Ae[1],Re=(0,s.useState)([]),qe=(0,c.Z)(Re,2),Fe=qe[0],Ye=qe[1],je=(k.name,(0,s.useState)(!1)),Qe=(0,c.Z)(je,2),Ke=Qe[0],Je=Qe[1],Ve=(0,w.UO)().hash,Ge=(0,s.useState)({name:"",founding_date:"",employees_no:"",industry:"",description:"",position:"",misc_info:""}),Le=((0,c.Z)(Ge,1)[0],(0,s.useState)({name:!1,founding_date:!1,employees_no:!1,industry:!1,description:!1,position:!1}));(0,c.Z)(Le,2)[1],document.title="Billing | ".concat(W.iC),(0,s.useEffect)((function(){(null===Ve||void 0===Ve?void 0:Ve.length)>0&&(null===S||void 0===S?void 0:S.id.length)>0&&(null===S||void 0===S?void 0:S.id)===Ve&&S.subscriptionInfo.billable_users.filter((function(e,t){var n,i;(0,j.TP)(e.id,e.first_name,e.last_name,e.phone,null,"".concat(b()().add(null!==(n=null===(i=S.subscriptionInfo)||void 0===i?void 0:i.duration)&&void 0!==n?n:30,"days").format("YYYY-MM-DD HH:mm:ss"))).pipe((0,h.P)()).subscribe({next:function(){var e,n;t===S.subscriptionInfo.billable_users.length-1&&(0,E.Iv)({id:null===S||void 0===S?void 0:S.id,total:S.subscriptionInfo.total,product:S.subscriptionInfo.plan,quantity:1,ends_at:"".concat(b()().add(null!==(e=null===(n=S.subscriptionInfo)||void 0===n?void 0:n.duration)&&void 0!==e?e:30,"days").format("YYYY-MM-DD HH:mm:ss"))}).pipe((0,h.P)()).subscribe({next:function(){return Je(!0)}})}})})),0==P.length&&H.is_admin&&(0,j.AW)().pipe((0,_.q)(1)).subscribe({})}),[]);var Xe=(0,s.useCallback)((function(e){var t=[];0!==(null===e||void 0===e?void 0:e.length)&&(e.map((function(e){return t.push({description:e.description,total:null===e||void 0===e?void 0:e.invoice_total,status:e.status,date:b()(e.invoice_date).format("MMMM Do, YYYY"),url:s.createElement("a",{href:e.invoice_url,target:"_blank",rel:"noreferrer"},"View Invoice")})})),se(t))}),[]),$e=(0,s.useCallback)((function(e){var t=[];0!==(null===e||void 0===e?void 0:e.length)&&(e.map((function(e){return t.push({description:e.stripe_product,total:(+(null===e||void 0===e?void 0:e.stripe_price)).toFixed(2),status:e.stripe_status,date:b()(e.starts_at).format("MMMM Do, YYYY"),url:"",id:"".concat(e.stripe_id).substring(0,13),user:null===e||void 0===e?void 0:e.user_id})})),se(t))}),[]);(0,s.useEffect)((function(){""===R.lw&&(0,E.hZ)().pipe((0,h.P)()).subscribe({next:function(e){var t;L(e.product),te(e.prices);var n=null===e||void 0===e||null===(t=e.product)||void 0===t?void 0:t.find((function(e){return"User Subscription"===e.name}));if(n){var i=[];Object.entries(n.metadata).map((function(e){e[1]=JSON.parse(e[1]),i.push(e)})),i=Object.fromEntries(i),(0,E.Ik)().pipe((0,h.P)()).subscribe({next:function(e){if(Pe(e.services),void 0!=e.services&&e.services.length>0){var t=new Date(Math.max.apply(Math,(0,o.Z)(e.services.map((function(e){return new Date(e.ends_at)})))));t>(0,y.now)()&&He(t)}if(void 0!==e.subscription){var a,l=new Date(e.subscription.start_date),c=new Date(l.setMonth(l.getMonth()+1)),s=null!==(a=k.billable_users)&&void 0!==a?a:0;Object.entries(i).map((function(t){if(s<=t[1].max&&s>=t[1].min){var i=new Intl.NumberFormat("en-US",{style:"currency",currency:t[1].currency});Ie((0,r.Z)((0,r.Z)({},e.subscription),{},{end_date:c.toDateString(),plan:t[0],plan_price:"".concat(t[1].currency," ").concat(i.format(t[1].price)),price_code:n.default_price,total:"".concat(t[1].currency," ").concat(i.format(t[1].price*s))})),N({billing_info:e.billing_info})}}))}else if("Company still on trial"===e.message){var u,m=null!==(u=k.billable_users)&&void 0!==u?u:0;Object.entries(i).map((function(e){if(m<=e[1].max&&m>=e[1].min){var t=new Intl.NumberFormat("en-US",{style:"currency",currency:e[1].currency});Ie({plan:e[0],plan_price:"".concat(e[1].currency," ").concat(t.format(e[1].price)),price_code:n.default_price,total:"".concat(e[1].currency," ").concat(t.format(e[1].price*m))})}}))}},error:function(){}})}},error:function(){}}),""===R.lw?(0,E.sA)().pipe((0,h.P)()).subscribe({next:function(e){e.invoices&&Xe(e.invoices)},error:function(){}}):(0,E.GP)().pipe((0,h.P)()).subscribe({next:function(e){e.data&&$e(e.data)},error:function(){}}),Z((0,p.IW)(!0)),Z((0,p.tR)(!1))}),[]);var et=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.price,{lineItems:[{price:n,quantity:1}],mode:"payment",billingAddressCollection:"required",customerEmail:k.billing_info.email,clientReferenceId:k.billing_info.id,successUrl:"".concat(window.location.origin,"/success"),cancelUrl:"".concat(window.location.origin,"/cancel")},le(!0),le(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tt=function(e,t){return Object.keys(e).length>0&&Object.keys(e).map((function(n,i){var a=JSON.parse(e[n]),l=0!=Ne.length&&Ne.filter((function(e){return new Date(e.ends_at).getTime()>(0,y.now)()&&e.stripe_price===a.price_code&&e.stripe_product===t})).length>0;return s.createElement(g.zx,{disabled:l,key:i,className:f.planButton,lighter:!0,style:{marginBottom:"4px"},loading:ae,title:"Basic"===n?"Purchase Now":"Subscribe for "+n,clicked:function(){at("/checkout",{state:{service_name:t,price:a}})}})}))},nt=s.useMemo((function(){return[{Header:function(){return s.createElement("span",null,s.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px",color:"white"},alt:""}),"Payment ID")},accessor:"id"},{Header:function(){return s.createElement("span",null,s.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px",color:"white"},alt:""}),"Invoice Date")},accessor:"date"},{Header:function(){return s.createElement("span",null,s.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px"},alt:""}),"Description")},accessor:"description"},{Header:function(){return s.createElement("span",null,s.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px"},alt:""}),"Notes")},accessor:"status"},{Header:function(){return s.createElement("span",null,s.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px"},alt:""}),"Invoice Total")},accessor:"total"}]}),[]),it=s.useMemo((function(){return[{Header:function(){return s.createElement("span",null,s.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px"},alt:""}),"Username")},accessor:"username"},{Header:function(){return s.createElement("span",null,s.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px",color:"white"},alt:""}),"First Name")},accessor:"first_name"},{Header:function(){return s.createElement("span",null,s.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px"},alt:""}),"Last Name")},accessor:"last_name"},{Header:function(){return s.createElement("span",null,s.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px"},alt:""}),"Email")},accessor:"email"},{Header:function(){return s.createElement("span",null,s.createElement("img",{style:{marginRight:"6px",marginBottom:"-2px"},alt:""}),"Validity")},accessor:"validity"}]}),[]),at=(0,w.s0)();return s.createElement("div",{className:f.billingInfoHost,style:{margin:"200px 0 0 0",padding:"0 0 0 10%"}},s.createElement(C.Z,{headerTitle:"Billing",targetProcessing:!1}),s.createElement(g.j3,{permissions:[g.po.billing.view]},s.createElement("div",{style:{display:"flex"}},s.createElement("div",{className:f.currentInvoicesContainer,style:{minWidth:"200px",display:"on_trial"===k.status||"trial_ended"===k.status||"free"===k.status||"inactive"===k.status?"":"none"}},s.createElement("p",{className:f.dashboardTitle},"Active Plan"),s.createElement("p",{className:f.trialText,style:{fontWeight:"100",fontSize:"inactive"===k.status?"16px":"20px",textAlign:"center"}},"on_trial"===k.status?"Trial (".concat(parseInt((new Date(k.trial_ends_at).getTime()-(0,y.now)())/864e5)," days left)"):"inactive"===k.status?"Expired. Subscription required":"free"===k.status?"Free Plan":"Trial Ended")),s.createElement("div",{className:f.currentInvoicesContainer,style:{minWidth:"200px"}},s.createElement("p",{className:f.dashboardTitle},"Total Users"),s.createElement("p",{className:f.trialText,style:{fontWeight:"100",textAlign:"center"}},null!==(t=null===P||void 0===P?void 0:P.length)&&void 0!==t?t:"")),s.createElement("div",{className:f.currentInvoicesContainer,style:{minWidth:"200px",display:"on_trial"===k.status||"trial_ended"===k.status||"free"===k.status?"none":""}},s.createElement("p",{className:f.dashboardTitle},"Subscribed Users"),s.createElement("p",{className:f.trialText,style:{fontWeight:"100",textAlign:"center"}},(null!==(n=null===P||void 0===P?void 0:P.length)&&void 0!==n?n:0)-Oe.length)),s.createElement("div",{className:f.currentInvoicesContainer,style:{minWidth:"200px"}},s.createElement("p",{className:f.dashboardTitle},"For Subscription"),s.createElement("p",{className:f.trialText,style:{fontWeight:"100",textAlign:"center"}},(null===Fe||void 0===Fe?void 0:Fe.length)>0?Fe.length:Oe.length))),s.createElement(q.mQ,{style:{fontFamily:"var(--app-text-main-font)",fontSize:F.tq?"12px":"20px"},selectedIndex:pe,onSelect:function(e){de(e)}},s.createElement(q.td,null,s.createElement(q.OK,null,"Products"),s.createElement(q.OK,null,"Subscriptions")),s.createElement(q.x4,null,s.createElement("div",{style:{minWidth:F.tq?"110%":"600px",marginTop:"20px",width:F.tq?"100%":"80%"}},"Click one plan to subscribe:",s.createElement("div",{style:{display:"flex"}},(T.length>0||G.length)>0&&""===R.lw?G.slice(0,2).map((function(e,t){var n,i=null!==(n=ee.find((function(t){return t.id===e.default_price})))&&void 0!==n?n:{cost:"0.00",currency:""};return s.createElement("div",{key:t,className:f.additionalPlanContainer,style:{marginRight:"20px"}},s.createElement("p",{className:f.planTitle},"".concat(e.name," ").concat(e.options.currency).concat(e.options.price,".00")),s.createElement("p",{className:f.planPrice},i.currency.toUpperCase()," ",i.cost," ",s.createElement("span",{className:f.month},"/month")),s.createElement("div",{className:f.planDescriptionContainer},s.createElement("p",{className:f.planDescription,style:{fontSize:"16px"}},e.description)),Object.keys(e.metadata).length>0?"active"===k.status&&tt(e.metadata,e.id):"active"===k.status&&s.createElement(g.zx,{loading:ae,lighter:!0,className:f.planButton,clicked:function(){return et({price:e.default_price})},title:"Purchase Now"}),s.createElement("br",null))})):s.createElement("div",{className:f.plansHost},null===T||void 0===T?void 0:T.map((function(e,t){return s.createElement("div",{key:t,style:{padding:"10px"}},s.createElement(Q.Z,{height:"340px",firstName:"".concat(e.stripe_ref),position:"".concat(e.options.currency," ").concat(e.options.price," ").concat(e.options.dlabel),email:e.options.description,cardClicked:function(){var t,n,i;Oe.length>0&&(Ie({plan_price:e.options.price,currency:e.options.currency,plan:null!==(t=e.name)&&void 0!==t?t:e.stripe_ref,total:e.options.price*(0==Fe.length?Oe.length:Fe.length),billable_users:0==Fe.length?Oe:Fe,duration:e.options.duration,dlabel:e.options.dlabel}),Z((0,p.IW)(!1)),at("/checkout",{state:{companyData:k,subscriptionInfo:{plan_price:e.options.price,currency:e.options.currency,description:null!==(n=null===e||void 0===e?void 0:e.description)&&void 0!==n?n:null===e||void 0===e?void 0:e.name,plan:null!==(i=null===e||void 0===e?void 0:e.name)&&void 0!==i?i:null===e||void 0===e?void 0:e.stripe_ref,total:e.options.price*(0==Fe.length?Oe.length:Fe.length),billable_users:0==Fe.length?Oe:Fe,duration:e.options.duration,dlabel:e.options.dlabel,user_id:H.id},type:"Subscription"}}))}}))})),s.createElement("div",{style:{padding:"10px"}},s.createElement(Q.Z,{height:"340px",firstName:"Enterprise",position:"Custom",email:"Feel free to contact us to discuss your large scale needs, self-hosted requirements or application customization. Click this button to send an email to support. We will immediately get back to you.",cardClicked:function(){window.location="mailto:manuel.parungao@adpgxsoftware.com"}})))),"Optional: Select users for individual subscription.",s.createElement("div",{className:f.userPanelHost},Oe.map((function(e,t){var n;return s.createElement("div",{className:f.userPanelRows,key:t},s.createElement(Y.Z,{task:{name:he?"".concat(e.first_name," ").concat(e.last_name," (").concat(null!==(n=e.validity)&&void 0!==n?n:"New",")"):"".concat(e.first_name," ").concat(e.last_name),status:null},clicked:function(){Fe.filter((function(t){return t.id===e.id})).length>0?Ye(Fe.filter((function(t){return t.id!==e.id}))):Ye([].concat((0,o.Z)(Fe),[e]))},setTaskToEdit:function(){},openModal:function(){}}))})),Oe.length!=P.length&&s.createElement("div",{className:f.userPanelRows},s.createElement(Y.Z,{task:{name:"Show all instead",status:null},clicked:function(){1==he?Ue(P):(Ye([]),Ue(P.filter((function(e){return new Date(e.validity)<(0,y.now)()})))),_e(!he)},setTaskToEdit:function(){},openModal:function(){}}))))),s.createElement(q.x4,null,s.createElement("div",{style:{minWidth:F.tq?"110%":"600px",marginTop:"20px",width:F.tq?"100%":"70%"}},s.createElement("div",{style:{display:""===R.lw?"none":"flex"}},s.createElement(K,{columns:it,data:P})))),s.createElement("br",null))),s.createElement("div",{className:f.wallet},s.createElement("div",{style:{color:"black",fontSize:"14px"}},"Payments Wallet:"),s.createElement("div",{style:{color:"black",fontSize:"20px",fontWeight:"bold",margin:"5px 0 80px"}},"Php ",null!==(i=null===H||void 0===H||null===(m=H.wallet)||void 0===m?void 0:m.toFixed(2))&&void 0!==i?i:"0.00"),s.createElement("div",{className:f.actionsContainer},s.createElement(g.zx,{clear:!0,title:"Top Up",clicked:function(){return Ee(0)},style:{backgroundColor:"var(--app-color-blue)",color:"white",width:"140px",display:be>-1?"none":""}})),s.createElement("div",{style:{width:"inherit",display:-1===be?"none":""}},s.createElement("div",{style:{color:"black"},onClick:function(){return Ee(-1)}},"Select your denomination:"),s.createElement(g.zx,{light:500!==be,title:"Php 500.00",clicked:function(){return Ee(500)},style:{width:"100%"}}),s.createElement(g.zx,{light:1e3!==be,title:"Php 1000.00",clicked:function(){return Ee(1e3)},style:{width:"100%"}}),s.createElement(g.zx,{light:2e3!==be,title:"Php 2000.00",clicked:function(){return Ee(2e3)},style:{width:"100%"}}),s.createElement(g.zx,{light:3e3!==be,title:"Php 3000.00",clicked:function(){return Ee(3e3)},style:{width:"100%"}}),be>0&&s.createElement(g.zx,{light:!0,title:"Proceed to Checkout",clicked:function(){Z((0,p.IW)(!1)),at("/checkout",{state:{companyData:k,subscriptionInfo:{user_id:H.id,ref:H.id,plan_price:be,currency:"PHP",plan:"Wallet",description:"Credits",total:be,billable_users:[H],duration:0,dlabel:"Flowhero",id:(0,W.mR)()},type:"Credits"}})},style:{backgroundColor:"var(--app-color-blue)",color:"white",width:"100%"}}))),s.createElement(q.mQ,{style:{fontFamily:"var(--app-text-main-font)",fontSize:F.tq?"12px":"20px"},selectedIndex:pe,onSelect:function(e){de(e)}},s.createElement(q.td,null,s.createElement(g.j3,{permissions:[g.po.billing.view]},s.createElement(q.OK,null,"Payment History")),s.createElement(q.OK,null,"My Payments")),s.createElement(g.j3,{permissions:[g.po.billing.view]},s.createElement(q.x4,null,s.createElement("div",{style:{fontSize:"18px",minWidth:F.tq?"110%":"600px",marginTop:"20px",width:F.tq?"100%":"80%"}},s.createElement(s.Fragment,null,s.createElement(K,{columns:nt,data:ce}),0===ce.length&&s.createElement("p",{className:f.noPaymentInfo},"No available invoices."))))),s.createElement(q.x4,null,s.createElement("div",{style:{fontSize:"18px",minWidth:F.tq?"110%":"600px",marginTop:"20px",width:F.tq?"100%":"80%"}},s.createElement(s.Fragment,null,s.createElement(K,{columns:nt,data:ce.filter((function(e){return e.user===H.id}))}),0===ce.length&&s.createElement("p",{className:f.noPaymentInfo},"No available invoices."))))),(null===z||void 0===z?void 0:z.length)>0&&s.createElement("p",{className:f.errorParagraph},z),I&&s.createElement(U.Z,{message:I}),Ke&&s.createElement(V,{message:"",handler:function(e){Z((0,p.zt)({})),Ye([]),Ue(e.filter((function(e){return new Date(e.validity)<(0,y.now)()}))),at("/billing-info"),Je(!1)}}),"active"===k.status&&void 0!==Ce.price_code&&s.createElement(g.zx,{className:f.logoutButton,title:"Cancel Subscription",clicked:function(){We(!0)}}),s.createElement(g.U7,{blured:!0,scrollable:!0,isOpen:Me,onClose:function(){We(!1)},backdropColor:!0,shadowedContainerStyle:{width:"680px"}},s.createElement(A,{onCancelMembership:function(e){We(!1),(0,E.r1)(e).pipe((0,h.P)()).subscribe({next:function(){(0,v.aK)().pipe((0,h.P)()).subscribe({})},error:function(e){B(e.data.message.message)}})},onClose:function(){We(!1)}})))})),V=function(e){var t=e.setCompletedModal,n=(e.message,e.handler),i=void 0===n?function(){}:n,a=(0,s.useState)(!1),l=(0,c.Z)(a,2),r=l[0],o=l[1];return s.createElement(g.U7,{isOpen:!0,shadowedContainerStyle:{width:"35%",minWidth:"500px",minHeight:"400px"},onClose:function(){return t(!1)},scrollable:!0,blured:!0},s.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},s.createElement("p",{style:{marginTop:"50px",fontSize:"26px",color:"#4A4A4A",marginBottom:"5px",textAlign:"center"}},"Your subscription to ".concat(W.iC," was successful")),s.createElement("p",{style:{width:"300px",fontFamily:"var(--app-text-main-font)",fontSize:"16px",color:"#4A4A4A",textAlign:"center",marginBottom:"20px"}},s.createElement("br",null),"Newly subcribed user may need to login again to refresh their page.",s.createElement("br",null)),s.createElement(g.zx,{style:{width:"200px"},loading:r,clicked:function(){o(!0),(0,j.AW)(!0).pipe((0,_.q)(1)).subscribe({next:function(e){return i(e)}})},title:"Continue"})))}},61616:function(e,t,n){n.d(t,{Z:function(){return c}});var i="HeaderTopBar_headerTopBar__D+HJ9",a="HeaderTopBar_headerTopBarContainer__1jgza",l="HeaderTopBar_loadingContainer__UcfwW",r=n(93572),o=n(67861),c=function(e){var t=e.hasHeaderImg,n=e.headerTitle,c=e.headerImgSrc,s=e.targetProcessing;return o.createElement("div",{className:i},o.createElement("div",{className:a},t&&o.createElement("img",{alt:"",src:c}),o.createElement("p",null,n),s&&o.createElement("span",{className:l},o.createElement(r.Z,{type:"Watch",color:"var(--app-color-gray-light)",height:15,width:"".concat(30,"px")}))))}},60940:function(){}}]);
//# sourceMappingURL=273.94ba5192.chunk.js.map