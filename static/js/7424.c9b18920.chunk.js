"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[7424],{87424:function(e,t,a){a.r(t),a.d(t,{default:function(){return z}});var n=a(74165),l=a(93433),i=a(15861),c=a(29439),r=a(67861),o=(a(60940),"CheckoutPage_checkoutPageHost__O6Y0r"),s="CheckoutPage_checkoutTop__a8Ke9",u="CheckoutPage_checkoutContent__jV+8M",m="CheckoutPage_checkoutLeftContainer__uCaxb",d="CheckoutPage_pageTitle__qI+QM",p="CheckoutPage_sectionTitle__5+HAr",v="CheckoutPage_inputRow__zQJ2Y",y="CheckoutPage_inputContainer__B0SjF",g="CheckoutPage_cardContainer__NY+g4",f="CheckoutPage_inputField__Wz1Ve",h="CheckoutPage_checkoutRightContainer__sSAwU",E="CheckoutPage_productsContainer__2SOt1",_="CheckoutPage_products__DuYZP",b="CheckoutPage_planContainer__fk9gT",x="CheckoutPage_planTitle__ymDCz",C="CheckoutPage_price__YeVwJ",N="CheckoutPage_planDetails__PYyTM",P="CheckoutPage_priceDetails__9FXhe",k="CheckoutPage_payButton__xJ0+0",w="CheckoutPage_planTitleBlue__wP0eR",S="CheckoutPage_endingMessage__qtIa5",Z=a(40694),Y=a(23280),D=a(27658),T=a(34710),L=a(11577),q=a(14170),A=a(89293),B=(a(66180),a(33500),a(50981)),M=a.n(B),R=a(30994),H=a(88374),I=a(39518),j=a(73500),F=a(88827),z=(a(59565),(0,a(87381).J)("pk_test_"),function(e){var t,a,z,W,J,O,U,K,Q,X,G=(0,Y.s0)(),$=e.onSuccess,ee=e.onClose,te=void 0===ee?function(){return G("/billing-info")}:ee,ae=e.subscriptionInfo,ne=void 0===ae?{}:ae,le=e.companyData,ie=void 0===le?{email:""}:le,ce=e.paymentPath,re=void 0===ce?"payments":ce,oe=e.withBack,se=void 0===oe||oe,ue=e.label,me=void 0===ue?"Plan":ue,de=e.onError,pe=void 0===de?function(){}:de,ve=(0,I.v9)((function(e){return e.flowReducer})),ye=ve.payable,ge=(ve.billable,(0,I.v9)((function(e){return e.authReducer}))),fe=ge.authenticatedUser,he=(0,r.useRef)(),Ee=(0,I.I0)(),_e=(0,r.useState)(fe.first_name),be=(0,c.Z)(_e,2),xe=be[0],Ce=be[1],Ne=(0,r.useState)(fe.last_name),Pe=(0,c.Z)(Ne,2),ke=Pe[0],we=Pe[1],Se=(0,r.useState)("".concat(null!==(t=null===fe||void 0===fe?void 0:fe.address)&&void 0!==t?t:""," ").concat(null!==(a=null===fe||void 0===fe?void 0:fe.city)&&void 0!==a?a:""," ").concat(null!==(z=null===fe||void 0===fe?void 0:fe.postal)&&void 0!==z?z:"")),Ze=(0,c.Z)(Se,2),Ye=Ze[0],De=Ze[1],Te=(0,r.useState)(""),Le=(0,c.Z)(Te,2),qe=Le[0],Ae=(Le[1],(0,r.useState)("")),Be=(0,c.Z)(Ae,2),Me=Be[0],Re=(Be[1],(0,r.useState)("")),He=(0,c.Z)(Re,2),Ie=He[0],je=(He[1],(0,r.useState)("")),Fe=(0,c.Z)(je,2),ze=Fe[0],Ve=(Fe[1],(0,r.useState)("")),We=(0,c.Z)(Ve,2),Je=(We[0],We[1],(0,r.useState)("")),Oe=(0,c.Z)(Je,2),Ue=(Oe[0],Oe[1],(0,r.useState)("")),Ke=(0,c.Z)(Ue,2),Qe=Ke[0],Xe=Ke[1],Ge=(0,r.useState)("4343434343434345"),$e=(0,c.Z)(Ge,2),et=$e[0],tt=$e[1],at=(0,r.useState)(""),nt=(0,c.Z)(at,2),lt=nt[0],it=nt[1],ct=(0,r.useState)(""),rt=(0,c.Z)(ct,2),ot=rt[0],st=rt[1],ut=(0,r.useState)(fe.email),mt=(0,c.Z)(ut,2),dt=mt[0],pt=mt[1],vt=(0,r.useState)(!1),yt=(0,c.Z)(vt,2),gt=yt[0],ft=yt[1],ht=(0,r.useState)(""),Et=(0,c.Z)(ht,2),_t=Et[0],bt=Et[1],xt=(0,r.useState)(!1),Ct=(0,c.Z)(xt,2),Nt=Ct[0],Pt=Ct[1],kt=(0,r.useState)(""),wt=(0,c.Z)(kt,2),St=wt[0],Zt=wt[1],Yt=(0,r.useState)(!1),Dt=(0,c.Z)(Yt,1)[0],Tt=(0,Y.TH)(),Lt=(0,r.useState)(null!==(W=null===Tt||void 0===Tt||null===(J=Tt.state)||void 0===J?void 0:J.subscriptionInfo)&&void 0!==W?W:ne),qt=(0,c.Z)(Lt,1)[0],At=(0,r.useState)(null!==(O=null===Tt||void 0===Tt||null===(U=Tt.state)||void 0===U?void 0:U.companyData)&&void 0!==O?O:ie),Bt=((0,c.Z)(At,1)[0],function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var a,i,c,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(bt(""),""!==R.lw||""!==Qe){e.next=4;break}return bt("Please enter card owner name."),e.abrupt("return");case 4:if(t.preventDefault(),bt(""),a=[],""===xe&&a.push("first name"),""===ke&&a.push("last name"),""===dt&&a.push("email"),!(a.length>0)){e.next=16;break}return a=a.map((function(e,t){return r.createElement("li",{key:t},e)})),i=function(){return r.createElement(r.Fragment,null,r.createElement("span",null,"Please fill in all input fields:"),r.createElement("ul",null,a))},ft(!1),bt(i),e.abrupt("return");case 16:""!==R.lw&&(o=null!==(c=null===ne||void 0===ne?void 0:ne.ref)&&void 0!==c?c:(0,A.mR)(),Ee((0,H.zt)({id:o,subscriptionInfo:qt})),ft(!0),(0,D.JE)("begin-module"===re||"begin-mobile"===re?'[{"amount":'.concat(100*(null===qt||void 0===qt?void 0:qt.plan_price),',"currency":"PHP","description":"').concat(null===qt||void 0===qt?void 0:qt.ref,'","name":"Payment-').concat(null===qt||void 0===qt?void 0:qt.ref,'","quantity":1}]'):"wallet"===re?'[{"amount":'.concat(100*(null===qt||void 0===qt?void 0:qt.plan_price),',"currency":"PHP","description":"').concat(null===qt||void 0===qt?void 0:qt.user_id,'","name":"Wallet","quantity":1}]'):"[".concat(qt.billable_users.map((function(e){return'{"amount":'.concat(100*(null===qt||void 0===qt?void 0:qt.plan_price),',"currency":"PHP","description":"').concat(e.id,'","name":"Subscription-').concat(e.first_name," ").concat(e.last_name,'","quantity":1}')})).toString(),"]"),'{"address":{"line1":"'.concat(Ye,'","city":"').concat(qe,'","state":"').concat(ze,'","postal_code":"').concat(Me,'","country": "PH"},"name":"').concat(xe," ").concat(ke,'","email":"').concat(dt,'"}'),'"'.concat(R.Hf,"#/").concat(re,"/").concat(o,'"'),'"'.concat(o,'"'),"begin-module"===re||"begin-mobile"===re?"Payment":"wallet"===re?"Wallet":"Subscription").pipe((0,L.P)()).subscribe({next:function(e){var t;if(null!==(t=e.data)&&void 0!==t&&t.attributes){var a,n=[].concat((0,l.Z)(ye),[{user_id:qt.user_id,amount:null===qt||void 0===qt?void 0:qt.total,currency:"PHP",paymentID:o,id:null===qt||void 0===qt?void 0:qt.id,product:null===qt||void 0===qt?void 0:qt.plan,description:null===qt||void 0===qt?void 0:qt.description,session:null===(a=e.data)||void 0===a?void 0:a.id}]);F.h.dispatch((0,H.Wy)(n)),window.location.replace(e.data.attributes.checkout_url)}},complete:function(){},error:function(e){ft(!1),bt("Payment error.Please contact your administrator"),pe("Payment error.Please contact your administrator")}}));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return r.createElement("div",{className:o},se&&r.createElement("div",{className:s},r.createElement(Z.Z,{clicked:te,title:"Back"})),r.createElement("div",{className:u,style:{padding:j.tq?"15px":""}},r.createElement("div",{className:m,style:{width:j.tq?"100%":"",display:qt?"":"none"}},r.createElement("p",{className:d},"Complete your Purchase"),r.createElement("p",{className:p,style:{marginTop:"50px"}},"Payment Information"),r.createElement("div",{style:{display:""===R.lw?"":"none",margin:"20px 0"}},r.createElement("div",{className:v},r.createElement("div",{className:y},r.createElement(q.Lb,{title:"Name on Card *"}),r.createElement("input",{value:Qe,onChange:function(e){return Xe(e.target.value)},type:"text",name:"state",className:f}))),r.createElement("div",{className:v},R.lw&&r.createElement("div",{className:y,style:{display:"flex"}},r.createElement("div",{className:g},r.createElement(q.Lb,{title:"Card Number"}),r.createElement("input",{value:et,required:!0,minLength:16,maxLength:16,onChange:function(e){return tt(e.target.value)},type:"text",name:"state",className:f})),r.createElement("div",{className:g,style:{width:"30%"}},r.createElement(q.Lb,{title:"Expiry"}),r.createElement("input",{value:lt,required:!0,placeholder:"MM / YY",onChange:function(e){return it(e.target.value)},type:"month",name:"state",className:f})),r.createElement("div",{className:g,style:{width:"10%",marginRight:"0px"}},r.createElement(q.Lb,{title:"CVC"}),r.createElement("input",{value:ot,required:!0,minLength:3,maxLength:3,placeholder:"CVC",onChange:function(e){return st(e.target.value)},type:"integer",name:"state",className:f}))))),r.createElement("form",{ref:he,style:{display:!0===Dt?"none":""}},r.createElement("div",{className:v,style:{flexDirection:j.tq?"column":"row"}},r.createElement("div",{className:y},r.createElement(q.Lb,{title:"First Name"}),r.createElement("input",{value:xe,onChange:function(e){return Ce(e.target.value)},style:{marginRight:"30px"},type:"text",name:"first-name",className:f})),r.createElement("div",{className:y},r.createElement(q.Lb,{title:"Last Name"}),r.createElement("input",{value:ke,onChange:function(e){return we(e.target.value)},type:"text",name:"last-name",className:f}))),r.createElement("div",{className:v,style:{flexDirection:j.tq?"column":"row"}},r.createElement("div",{className:y},r.createElement(q.Lb,{title:"Email"}),r.createElement("input",{value:dt,onChange:function(e){return pt(e.target.value)},style:{marginRight:"30px"},type:"text",name:"email",className:f}))),r.createElement("div",{className:v,style:{flexDirection:j.tq?"column":"row"}},r.createElement("div",{className:y},r.createElement(q.Lb,{title:"Full Address"}),r.createElement("input",{value:Ye,onChange:function(e){return De(e.target.value)},style:{marginRight:"30px"},type:"text",name:"full-address",className:f}))))),r.createElement("div",{className:h},r.createElement("div",{className:E},r.createElement("p",{className:_},"Products"),r.createElement("div",{className:b},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"10px"}},qt?r.createElement("p",{className:x},null===qt||void 0===qt?void 0:qt.plan):r.createElement("p",{className:x},Tt.state.price.description),qt?r.createElement("p",{className:C},null===qt||void 0===qt?void 0:qt.currency," ",null===qt||void 0===qt?void 0:qt.plan_price):r.createElement("p",{className:C},Tt.state.price.currency," ",Tt.state.price.price)),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"5px",marginBottom:"5px"}},qt&&r.createElement("p",{className:N},me),qt&&r.createElement("p",{className:P},null===qt||void 0===qt?void 0:qt.dlabel))),(null===qt||void 0===qt?void 0:qt.onetime)&&r.createElement("div",{className:b},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"10px"}},r.createElement("p",{className:x},"Admin Fee"),r.createElement("p",{className:C},null===qt||void 0===qt?void 0:qt.currency," ",null!==(K=null===qt||void 0===qt?void 0:qt.onetime)&&void 0!==K?K:0)),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"5px",marginBottom:"5px"}},qt&&r.createElement("p",{className:N},"Others"),qt&&r.createElement("p",{className:P},"/month"))),r.createElement("hr",{style:{borderTop:"1px solid #D2D2D2",margin:"5%"}}),r.createElement("div",{style:{display:void 0===(null===qt||void 0===qt||null===(Q=qt.billable_users)||void 0===Q?void 0:Q.length)?"none":"flex",justifyContent:"space-between",margin:"5%",marginBottom:"0px"}},r.createElement("p",{className:x},"Number of users to bill"),r.createElement("p",{className:C},null===qt||void 0===qt?void 0:qt.billable_users.length)),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",margin:"5%",marginBottom:"20px"}},r.createElement("p",{className:w},"Total (due today)"),qt?r.createElement("p",{className:w},null===qt||void 0===qt?void 0:qt.currency," ",null===qt||void 0===qt?void 0:qt.total):r.createElement("p",{className:w},Tt.state.price.currency," ",Tt.state.price.price)),r.createElement(Z.Z,{className:k,disabled:gt,title:"Pay Now",clicked:qt?Bt:function(){var e;bt(""),ft(!0),(0,D.Ul)(Tt.state.service_name,Tt.state.price.price_code,null!==(e=Tt.state.price.duration)&&void 0!==e?e:null).pipe((0,L.P)()).subscribe({next:function(e){Zt(e.data.stripe_id),Pt(!0),(0,T.aK)().pipe((0,L.P)()).subscribe({}),ft(!1)},error:function(e){void 0!=e.data?bt(e.data.message.message):bt("Payment error. Please check your card."),ft(!1)}})},loading:gt,style:{backgroundColor:""!==xe&&""!==ke&&""!==Ye&&""!==qe&&""!==Me&&""!==Ie&&""!==ze?"":"black"}}),r.createElement("div",{className:S,style:{display:void 0===(null===qt||void 0===qt||null===(X=qt.billable_users)||void 0===X?void 0:X.length)?"none":"flex"}},r.createElement("p",null,""!==R.lw?"Payments by":"You can cancel your plan anytime. Your yearly recurrent payment starts on ".concat(M()(new Date((0,B.now)())).add(1,"years").format("MMMM Do, YYYY"),". You will be billed monthly for the number of Employees in your account.")),r.createElement("img",{src:"https://files.readme.io/7586db8-small-paymongo_api_white.png",style:{height:"40px",width:"160px"}})),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",margin:"5%",marginBottom:"0px",color:"red"}},_t&&r.createElement("div",null,_t))))),Nt&&r.createElement(V,{message:St,onSuccess:$}))}),V=function(e){var t=e.setCompletedModal,a=e.message,n=e.onSuccess;return r.createElement(q.U7,{isOpen:!0,shadowedContainerStyle:{width:"35%",minWidth:"500px",minHeight:"400px"},onClose:function(){return t(!1)},scrollable:!0,blured:!0},r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.createElement("p",{style:{marginTop:"50px",fontSize:"32px",color:"#4A4A4A",marginBottom:"5px",textAlign:"center"}},"Your subscription to ".concat(A.iC," was successful!")),r.createElement("p",{style:{width:"300px",fontFamily:"var(--app-text-main-font)",fontSize:"16px",color:"#4A4A4A",textAlign:"center",marginBottom:"20px"}},"Your payment reference is ".concat(a),r.createElement("br",null),r.createElement("br",null),"You can look for this in your invoices list in the billing page ",r.createElement("br",null),r.createElement("br",null),r.createElement("span",{style:{fontWeight:"700"}},"Thank you for your purchase!")),r.createElement(Z.Z,{style:{width:"200px"},clicked:function(){n(a)},title:"View Invoices"})))}}}]);
//# sourceMappingURL=7424.c9b18920.chunk.js.map