"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[270],{63789:function(e,t,a){a.d(t,{Z:function(){return N}});var n=a(29439),l=a(96189),r=a(89293),o="UserOverviewModal_topContainer__SfY2a",i="UserOverviewModal_avatarContainer__qWrM5",c="UserOverviewModal_name__i+epl",s="UserOverviewModal_position__8Heb9",d=a(1413),u=a(67861),m="PageSubtitle_host__1jvVf",p="PageSubtitle_pageSubtitleHost__vDvTj",v="PageSubtitle_pageSubtitleChild__s3-5p",f=function(e){var t=e.subtitleImage,a=e.subtitleText,n=e.style,l=e.smallerSubtitle;return u.createElement("div",{className:m},u.createElement("div",{className:p,style:(0,d.Z)({},n)},t&&u.createElement("img",{src:t,className:"grey-svg-image-filter",alt:""}),u.createElement("p",null,a)),l&&u.createElement("div",{className:v},u.createElement("p",null,l)))},g=a(50981),E=a.n(g),h=a(51481),_=a(10103),k=a(11577),y=a(72864),T=a(87462),C=a(90369),b=a(62589),M="TasksTable_tasksTableHost__msAp6";var S=function(e){var t=e.historyData,a=e.currentPage,r=e.lastPage,o=e.setPage,i=e.loading,c=e.setLoading,s=e.columns,d=e.data,m=(0,u.useState)(!1),p=(0,n.Z)(m,2),v=p[0],f=p[1],g=(0,u.useState)(""),E=(0,n.Z)(g,2),h=E[0],_=E[1],k=(0,u.useState)(""),y=(0,n.Z)(k,2),S=y[0],w=y[1],x=(0,u.useState)(""),N=(0,n.Z)(x,2),Z=N[0],Y=N[1],D=(0,u.useState)(""),P=(0,n.Z)(D,2),H=P[0],O=P[1],I=(0,u.useState)(""),j=(0,n.Z)(I,2),A=j[0],B=j[1],R=(0,u.useState)(""),U=(0,n.Z)(R,2),W=U[0],L=U[1],q=(0,u.useState)(""),z=(0,n.Z)(q,2),V=z[0],$=z[1],F=(0,u.useState)(""),G=(0,n.Z)(F,2),J=G[0],K=G[1],Q=(0,C.useTable)({columns:s,data:d}),X=Q.getTableProps,ee=Q.getTableBodyProps,te=Q.headerGroups,ae=Q.rows,ne=Q.prepareRow;return u.createElement("div",{className:M},u.createElement("table",X(),u.createElement("thead",null,te.map((function(e,t){return u.createElement("tr",(0,T.Z)({key:t},e.getHeaderGroupProps(),{className:"header-row"}),e.headers.map((function(e,t){return u.createElement("th",(0,T.Z)({key:t},e.getHeaderProps()),e.render("Header"))})))}))),u.createElement("tbody",ee(),ae.map((function(e,a){return ne(e),u.createElement("tr",(0,T.Z)({key:a},e.getRowProps(),{onClick:function(){return e=t[a],K(e),f(!v),_(e.taskName),w(e.createdAt),Y(e.completedOn),O(e.duration),B(e.taskCreator),L(e.taskAssignee),void $(null===e||void 0===e?void 0:e.process);var e},style:{cursor:"pointer"}}),e.cells.map((function(e,t){return u.createElement("td",(0,T.Z)({key:t},e.getCellProps()),e.render("Cell"))})))})))),0==d.length&&u.createElement("p",null,"No Tasks Found"),u.createElement("div",{style:{textAlign:"center",marginTop:"20px",paddingBottom:"50px"}},a!==r&&d.length>0&&u.createElement(l.nw,{loadMorePressed:function(){c(!i),o(a+1)},apiRequest:i})),u.createElement(b.Z,{openedTask:J,createdAt:S,taskName:h,completedOn:Z,duration:H,taskCreator:A,taskAssignee:W,process:V,modalVisible:v,modalClosed:function(){return f(!v)},hasTutorial:!0,blured:!0,childrenWrapperStyle:{alignItems:"center"},onCancel:function(){return f(!v)}}))},w=a(23280),x=a(73500),N=function(e){var t,a,d,m,p=e.isVisible,v=e.activeItem,g=e.handleClose,T=(e.isAdmin,v.first_name),C=v.last_name,b=v.id,M=(0,u.useState)([]),N=(0,n.Z)(M,2),Z=N[0],Y=N[1],D=(0,u.useState)([]),P=(0,n.Z)(D,2),H=P[0],O=P[1],I=(0,u.useState)([]),j=(0,n.Z)(I,2),A=j[0],B=j[1],R=(0,u.useState)(!1),U=(0,n.Z)(R,2),W=U[0],L=U[1],q=(0,u.useState)(!1),z=(0,n.Z)(q,2),V=z[0],$=z[1],F=(0,u.useState)({laterTasks:[],todayTasks:[],overdueTasks:[]}),G=(0,n.Z)(F,2),J=G[0],K=G[1],Q=(0,u.useState)(1),X=(0,n.Z)(Q,2),ee=X[0],te=X[1],ae=(null===H||void 0===H?void 0:H.meta)||{},ne=ae.current_page,le=ae.from,re=H.data&&(null===H||void 0===H||null===(t=H.data)||void 0===t?void 0:t.map((function(e){return e}))),oe=function(e){return L(e)},ie=function(e){return $(e)};(0,w.s0)();(0,u.useEffect)((function(){return ue()}),[H.data]),(0,u.useEffect)((function(){return ce()}),[Z]),(0,u.useEffect)((function(){oe(!0),(0,h.km)(b,!0).pipe((0,_.q)(1)).subscribe({next:function(e){Y(e),oe(!1)},error:function(){oe(!1)},complete:function(){oe(!1)}})}),[]),(0,u.useEffect)((function(){ie(!0),(0,h.qp)(ee,b,!0).pipe((0,k.P)()).subscribe({next:function(e){O(e),ie(!1)}})}),[ee]);var ce=(0,u.useCallback)((function(){var e=[],t=[],a=[];0!==(null===Z||void 0===Z?void 0:Z.length)&&(Z.map((function(n){var l=E()(new Date).format("YYYY-MM-DD");return E()(n.due_date,"YYYY-MM-DD").isSame(l)?t.push(n):E()(n.due_date,"YYYY-MM-DD").isAfter(l)?a.push(n):e.push(n)})),K({laterTasks:a,todayTasks:t,overdueTasks:e}))}),[Z]),se=function(e){return e.length>0&&e.map((function(e,t){return u.createElement("div",{key:t},u.createElement(y.Z,{task:e,taskId:e.id}))}))},de=u.useMemo((function(){return[{Header:function(){return u.createElement("span",null,"Task Name")},accessor:"taskName"},{Header:function(){return u.createElement("span",null,"Completed On")},accessor:"completedOn"}]}),[]),ue=(0,u.useCallback)((function(){var e,t,a=[];0!==(null===H||void 0===H||null===(e=H.data)||void 0===e?void 0:e.length)&&(null===H||void 0===H||null===(t=H.data)||void 0===t||t.map((function(e){var t;return a.push({taskName:e.name,process:null===e||void 0===e||null===(t=e.process)||void 0===t?void 0:t.name,completedOn:E()(e.completed_at).format("DD of MMMM YYYY hh:mm"),duration:e.duration})})),B(a))}),[H]);return u.createElement(l.U7,{isOpen:p,modalWrapperStyle:{margin:0},shadowedContainerStyle:{width:x.tq?"100%":"50%"},onClose:function(){return g()},scrollable:!0,blured:!0},u.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},u.createElement(l.zx,{title:"Close",clicked:g,style:{width:"100px"}})),u.createElement("div",{style:{padding:"20px"}},u.createElement("div",{style:{display:"flex",flexDirection:"column"}},u.createElement("div",{className:o},u.createElement("div",{className:i},(null===v||void 0===v||null===(a=v.photo)||void 0===a?void 0:a.length)>0&&u.createElement("img",{alt:"lg",src:(0,r.oY)(v.photo)}))),u.createElement("div",{style:{padding:"30px"}},u.createElement("p",{className:c},T+" "+C),(null===v||void 0===v||null===(d=v.positions)||void 0===d?void 0:d.length)>0&&(null===v||void 0===v||null===(m=v.positions)||void 0===m?void 0:m.map((function(e,t){return u.createElement("div",{key:t},u.createElement("p",{className:s},null===e||void 0===e?void 0:e.name))}))))),u.createElement("div",{style:{display:"none",flexDirection:"row",justifyContent:"initial"}},u.createElement("div",{style:{marginRight:"20px",width:"33%"}},u.createElement(l.SO,{cardTitle:"Overdue"},W?u.createElement(l.$j,{type:"BallTriangle",color:"var(--app-color-gray-light)",height:30,width:"".concat(30,"px")}):se(J.overdueTasks))),u.createElement("div",{style:{marginRight:"20px",width:"33%"}},u.createElement(l.SO,{cardTitle:"Today"},W?u.createElement(l.$j,{type:"BallTriangle",color:"var(--app-color-gray-light)",height:30,width:"".concat(30,"px")}):se(J.todayTasks))),u.createElement("div",{style:{width:"33%"}},u.createElement(l.SO,{cardTitle:"Upcoming"},W?u.createElement(l.$j,{type:"BallTriangle",color:"var(--app-color-gray-light)",height:30,width:"".concat(30,"px")}):se(J.laterTasks)))),u.createElement("div",{style:{display:"flex",flexDirection:"column"}},u.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",padding:"5px",paddingLeft:"5px"}},u.createElement(f,{subtitleText:"Tasks History"})),V?u.createElement(l.$j,{type:"BallTriangle",color:"var(--app-color-gray-light)",height:30,width:"".concat(30,"px")}):u.createElement(S,{loading:V,currentPage:ne,lastPage:le,setLoading:$,historyData:re,page:ee,setPage:te,columns:de,data:A}))))}},62589:function(e,t,a){a.d(t,{Z:function(){return h}});var n=a(1413),l=a(67861),r=(a(83381),a(39518)),o=a(88374),i=a(96189),c="InfoTaskModal_savedDescription__4uzvj",s="InfoTaskModal_contentWrapper__gt+iR",d="InfoTaskModal_contentContainer__DoP5Z",u="InfoTaskModal_content__42cL+",m="InfoTaskModal_backIconContainer__eM6Vt",p="InfoTaskModal_fieldHistoryTitle__z8Foi",v=a(50981),f=a.n(v),g=a(73500);var E=function(e){var t=e.title,a=e.content;return l.createElement("div",null,l.createElement("p",{className:p},t),l.createElement("p",{className:c},a),e.children)},h=(0,r.$j)((function(e){var t=e.flowReducer;return{inviteColleguesList:t.inviteColleguesList,companyData:t.companyData}}),(function(e){return{onSetCompanyDataField:function(t){return e((0,o.QK)(t))}}}))((function(e){var t=e.modalVisible,a=e.childrenWrapperStyle,r=e.modalClosed,o=e.openedTask,c=o.name,p=o.created_at,v=o.completed_on,h=o.duration,_=(o.process,o.creator),k=o.assignee;return o.components,t?l.createElement("div",null,l.createElement(i.U7,{backdropStyle:{height:"900px"},marginTop:"500px",onClose:r,shadowedContainerStyle:{width:g.tq?"100%":"40%"},position:"fixed",scrollable:!0,backdropColor:!0,blured:!0,width:"90%",isOpen:t},l.createElement("div",{className:m},l.createElement(i.zx,{title:"Close",clicked:r})),l.createElement("div",{className:s,style:(0,n.Z)({},a)},l.createElement("div",{className:d},l.createElement("div",{className:u},l.createElement(E,{title:"Task Name",content:c}),l.createElement(E,{title:"Task Created On",content:f()(p).format("DD of MMMM YYYY hh:mm")}),l.createElement(E,{title:"Completed On",content:f()(v).format("DD of MMMM YYYY hh:mm")}),l.createElement(E,{title:"Time on this Task",content:h}),l.createElement(E,{title:"Task Creator",content:_.first_name+" "+_.last_name}),l.createElement(E,{title:"Assignee",content:k.first_name+" "+k.last_name})))))):null}))},72864:function(e,t,a){a.d(t,{Z:function(){return u}});var n=a(50981),l=a.n(n),r=a(67861),o=a(41771),i=a(96189),c="TaskCard_task-card__8sPmS",s="TaskCard_task-card-container__rHG31",d="TaskCard_clickLabel__A3ARk";var u=function(e){var t=e.task,a=e.openModal,n=void 0===a?function(){}:a,u=e.setTaskToEdit,m=void 0===u?function(){}:u,p=e.clicked,v=void 0===p?function(){}:p,f=e.isEditable,g=e.priority,E=t.name,h=(t.process,t.status);return t.add_info,r.createElement("div",{className:c},t.completed_at?r.createElement("div",{className:s,style:{flex:1},onClick:function(){n(),m()}},r.createElement("p",{className:d,style:{fontWeight:void 0!==g?"bold":"normal"}},"".concat(E)),r.createElement("p",{className:d},l()(t.completed_at).format("DD of MMMM YYYY"))):r.createElement("div",{className:s},r.createElement(i.XZ,{label:"".concat(void 0!==g?"".concat(g):""," ").concat(E," ").concat(null!==h?"  (".concat(h,")"):""),onChange:v}),f&&r.createElement("img",{alt:"",style:{cursor:"pointer"},src:o.ePH,onClick:function(){n(),m()}})))}},61616:function(e,t,a){a.d(t,{Z:function(){return c}});var n="HeaderTopBar_headerTopBar__D+HJ9",l="HeaderTopBar_headerTopBarContainer__1jgza",r="HeaderTopBar_loadingContainer__UcfwW",o=a(93572),i=a(67861),c=function(e){var t=e.hasHeaderImg,a=e.headerTitle,c=e.headerImgSrc,s=e.targetProcessing;return i.createElement("div",{className:n},i.createElement("div",{className:l},t&&i.createElement("img",{alt:"",src:c}),i.createElement("p",null,a),s&&i.createElement("span",{className:r},i.createElement(o.Z,{type:"Watch",color:"var(--app-color-gray-light)",height:15,width:"".concat(30,"px")}))))}}}]);
//# sourceMappingURL=270.2c0e8bd2.chunk.js.map