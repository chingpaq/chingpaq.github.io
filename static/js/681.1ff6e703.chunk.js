"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[681],{96681:function(e,t,l){l.r(t),l.d(t,{default:function(){return _}});var n=l(74165),i=l(1413),o=l(15861),a=l(70885),r=l(50981),s=l.n(r),d=l(34665),c=l(38826),u=l(84658),p=l(82010),v=l(7438),m=l(67861),f=l(39518),g=l(23280),y=l(18316),x=l.n(y),h=l(79492),E=l.n(h),b=(l(82162),l(41771)),w=l(88827),C=l(88374),S=l(43984),k=l(71982),F=l(57417),I=l(89293),Z=l(20086),D=l(40694),j=l(67861),A=l(38893),_=(0,f.$j)((function(e){var t=e.authReducer.sessionSettings;return{onBoardingCompleted:e.flowReducer.onBoardingCompleted,sessionSettings:t}}),(function(e){return{onSetOnBoardingVisible:function(t){return e((0,k.DJ)(t))},onSetOnBoardingComplete:function(t){return e((0,C.fj)(t))},onToggleModalVisibility:function(t){return e((0,k.$6)(t))}}}))((function(e){var t=(0,g.s0)(),l=(0,f.I0)(),r=(0,g.UO)().hash,y=(0,m.useRef)(),h=(0,m.useRef)(),_=(0,m.useState)(""),N=(0,a.Z)(_,2),z=N[0],H=N[1],T=(0,m.useState)(""),B=(0,a.Z)(T,2),P=B[0],Y=B[1],R=(0,m.useState)(""),q=(0,a.Z)(R,2),M=q[0],O=q[1],L=(0,m.useState)(""),V=(0,a.Z)(L,2),U=V[0],J=V[1],$=(0,m.useState)("America/New_York"),W=(0,a.Z)($,2),K=W[0],G=W[1],Q=(0,m.useState)(""),X=(0,a.Z)(Q,2),ee=X[0],te=X[1],le=(0,m.useState)(!1),ne=(0,a.Z)(le,2),ie=ne[0],oe=ne[1],ae=(0,m.useState)(!1),re=(0,a.Z)(ae,2),se=re[0],de=re[1],ce=(0,m.useState)(""),ue=(0,a.Z)(ce,2),pe=ue[0],ve=ue[1],me=(0,m.useState)(!1),fe=(0,a.Z)(me,2),ge=fe[0],ye=fe[1],xe=(0,m.useState)(!0),he=(0,a.Z)(xe,2),Ee=he[0],be=he[1],we=e.onToggleModalVisibility,Ce=e.onSetOnBoardingComplete,Se=e.authenticated;(0,m.useEffect)((function(){if(Ce(!1),we({}),(null===r||void 0===r?void 0:r.length)>0){if(Se)return be(!1),void ve("You are currently logged in as another user. Please logout this user and accept the invitation again");var e=(0,F.s7)(r).subscribe({next:function(e){var t,l,n,i,o;de(!1),J(null!==(t=null!==(l=null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.first_name)&&void 0!==l?l:"  "+(null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i.last_name))&&void 0!==t?t:" "),H(null===e||void 0===e?void 0:e.email),O(null!==(o=null===e||void 0===e?void 0:e.id)&&void 0!==o?o:"")},error:function(e){J("Error"),be(!1),ve("Not a valid invitation, could have expired or incorrect. Please contact your admin")}});return function(){(0,I.zK)(e)}}}),[r]);var ke=(0,m.useCallback)((function(e){var a,r,c;if(e.preventDefault(),e.stopPropagation(),de(!0),y.current.validateAll(),0===(null===h||void 0===h||null===(a=h.current)||void 0===a||null===(r=a.context)||void 0===r||null===(c=r._errors)||void 0===c?void 0:c.length)){var u={email:z,password:ee,username:P,invitation_id:M,timezone:K};(0,F.f0)(u).subscribe({next:function(){var e=(0,o.Z)((0,n.Z)().mark((function e(o){var a,r,c,u,p,v,m,f,g,y,x,h,E,b;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return de(!1),m=o.is_admin,f=o.onboarding_status,g=o.access_token,y=o.expires_in,x=o.refresh_token,h={expirationDate:s()().add(1e3*+y,"seconds").format("YYYY-MM-DD hh:mm:ss:ssss"),last_access_token:g,last_expires_in:y,last_refresh_token:x},l((0,S.w8)(h)),E=null!==(a=null===w.h||void 0===w.h||null===(r=w.h.getState())||void 0===r?void 0:r.sessionReducer)&&void 0!==a?a:{},e.next=7,null===d.Fc||void 0===d.Fc||null===(c=d.Fc.saveSession)||void 0===c?void 0:c.call(d.Fc,(0,i.Z)((0,i.Z)({},E),h));case 7:return b=null===w.h||void 0===w.h||null===(u=w.h.getState())||void 0===u||null===(p=u.authReducer)||void 0===p?void 0:p.authenticatedUser,e.next=10,null===d.Fc||void 0===d.Fc||null===(v=d.Fc.saveUser)||void 0===v?void 0:v.call(d.Fc,b);case 10:!1===f?!0===m?(l((0,k.DJ)(!0)),l((0,k.q9)(!0)),l((0,k.$6)({firstModalVisible:!0})),de(!1)):t("/"):(l((0,k.DJ)(!1)),l((0,k.q9)(!1)),l((0,C.fj)(!0)),de(!1),t("/"));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),error:function(e){var t,l,n,i,o,a,r,s,d,c,u,p,v,m,f,g,y;if((null===e||void 0===e||null===(t=e.data)||void 0===t||null===(l=t.errors)||void 0===l||null===(n=l.email)||void 0===n?void 0:n.length)>0)ve(null===e||void 0===e||null===(g=e.data)||void 0===g||null===(y=g.errors)||void 0===y?void 0:y.email[0]);else if((null===e||void 0===e||null===(i=e.data)||void 0===i||null===(o=i.errors)||void 0===o||null===(a=o.username)||void 0===a?void 0:a.length)>0){var x,h;ve(null===e||void 0===e||null===(x=e.data)||void 0===x||null===(h=x.errors)||void 0===h?void 0:h.username[0])}else if((null===e||void 0===e||null===(r=e.data)||void 0===r||null===(s=r.errors)||void 0===s||null===(d=s.password)||void 0===d?void 0:d.length)>0){var E,b;ve(null===e||void 0===e||null===(E=e.data)||void 0===E||null===(b=E.errors)||void 0===b?void 0:b.password[0])}else if((null===e||void 0===e||null===(c=e.data)||void 0===c||null===(u=c.errors)||void 0===u||null===(p=u.timezone)||void 0===p?void 0:p.length)>0){var w,C;ve(null===e||void 0===e||null===(w=e.data)||void 0===w||null===(C=w.errors)||void 0===C?void 0:C.timezone[0])}else if((null===e||void 0===e||null===(v=e.data)||void 0===v||null===(m=v.errors)||void 0===m||null===(f=m.invitation_id)||void 0===f?void 0:f.length)>0){var S,k;ve(null===e||void 0===e||null===(S=e.data)||void 0===S||null===(k=S.errors)||void 0===k?void 0:k.invitation_id[0])}else ve("InvitationAccepted");de(!1)},complete:function(){}})}else de(!1)}),[z,ee,M,K]),Fe=function(){e.onSetOnBoardingVisible(!1),e.onSetOnBoardingComplete(!0),t("/help-center")},Ie=(0,p.Z)({"@global":{".MuiOutlinedInput-root":{"& fieldset":{borderColor:"var(--app-color-gray-lighter)"},"&:hover fieldset":{borderColor:"var(--app-color-gray-lighter)!important"},"&.Mui-focused fieldset":{borderColor:"var(--app-color-gray-lighter)!important"}}}})((function(){return null}));return j.createElement("div",{className:"main-container",style:{position:"relative",backgroundColor:"white",display:""===U?"none":"flex",flex:1,width:"100%",height:"100vh",justifyContent:"space-evenly",alignItems:"stretch",overflowY:"auto"}},j.createElement("div",{className:"first-container"},j.createElement("div",{style:{display:"flex",width:"100%",flexDirection:"column",justifyContent:"flex-start",alignItems:"center"}},j.createElement("div",{style:{alignSelf:"flex-start",marginTop:"15px",marginBottom:"10%",display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center"}}),Ee?j.createElement("div",{style:{alignSelf:"flex-start",display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center"}},j.createElement("div",{style:{alignSelf:"flex-start",display:"flex",flex:0,flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",width:"400px"}},j.createElement("h1",{style:{padding:0,color:"#4A4A4A",fontFamily:"var(--app-font-gt-walsheim-pro)",fontSize:"32px",fontWeight:500,letterSpacing:0,lineHeight:"40px"}},"Super"===U?"The request to create your company has been approved by FlowHero":"You've been invited by ","Super"!==U&&j.createElement("span",null,j.createElement("i",null,U)," to FlowHero"))),"Super"===U&&j.createElement("div",{style:{display:"flex",width:"100%",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",margin:"30px 0 0 0 "}},j.createElement("p",{style:{fontFamily:"var(--app-font-quicksand-medium)",fontSize:"1em",lineHeight:"1.5em",color:"var(--app-color-gray-light)"}},"Please provide the details below to finalize the company")),j.createElement("div",{style:{paddingTop:"30px",alignSelf:"flex-start"}},j.createElement(E(),{ref:y},j.createElement("p",{className:"labelTextStyle"},"Account Email:"),j.createElement(v.Z,{id:"my-input",type:"text",variant:"outlined",name:"name",className:"input-style",placeholder:"Company Email",value:z,onChange:function(e){var t=e.target.value;H(t)}}),null!==pe&&void 0!==pe&&pe.email?j.createElement("div",{className:"form-group"},j.createElement("div",{style:{color:"#721c24",backgroundColor:"#f8d7da",borderColor:"#f5c6cb"}},null===pe||void 0===pe?void 0:pe.email)):null,j.createElement("br",null),j.createElement("br",null),j.createElement(v.Z,{id:"my-input",type:"text",variant:"outlined",name:"username",className:"input-style",placeholder:"Desired Username",value:P,onChange:function(e){var t=e.target.value;Y(t)}}),null!==pe&&void 0!==pe&&pe.username?j.createElement("div",{className:"form-group"},j.createElement("div",{style:{color:"#721c24",backgroundColor:"#f8d7da",borderColor:"#f5c6cb"}},null===pe||void 0===pe?void 0:pe.username)):null,j.createElement("br",null),j.createElement("br",null),j.createElement("p",{className:"labelTextStyle"},"Account Password:"),j.createElement("label",{style:{display:"inline-flex",alignItems:"center"}},j.createElement(Ie,null),j.createElement(c.Z,{id:"my-input",className:"input-style",type:ie?"text":"password",name:"password",placeholder:"Password",value:ee,onChange:function(e){var t=e.target.value;te(t)},endAdornment:j.createElement(u.Z,{className:"showHideButton",onClick:function(){return oe(!ie)},position:"end"},ie?"Hide":"Show")})),null!==pe&&void 0!==pe&&pe.password?j.createElement("div",{className:"form-group"},j.createElement("div",{className:"alert alert-danger",role:"alert"},null===pe||void 0===pe?void 0:pe.password)):null,j.createElement("br",null),j.createElement("br",null),j.createElement("p",{className:"labelTextStyle"},"Timezone:"),j.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"stretch",width:"100%"}},j.createElement(Z.Ld,{items:I.LY,defaultSelectedItem:A.find(A.propEq("value",K))(I.LY),triggerType:"chevron",placeholder:"Select timezone...",onChange:function(e){G(null===e||void 0===e?void 0:e.value)}})),j.createElement("br",null),j.createElement("br",null),j.createElement("div",{style:{display:"flex",width:"100%",flex:0,justifyContent:"flex-start",alignItems:"center",maxHeight:"30px"}},j.createElement(D.Z,{disabled:se,loading:se,clicked:ke,title:"Super"===U?"Create Company":"Accept Invitation",style:{margin:"0"}})),pe&&j.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",fontSize:"1em",width:"90%",marginTop:"30px",borderRadius:"3px",color:"#721c24",backgroundColor:"#f8d7da",borderColor:"#f5c6cb",padding:"2px"},role:"alert"},"InvitationAccepted"===pe?j.createElement("div",null,"Already accepted the invitation, click ",j.createElement("a",{href:"/"},"here")," to login."):pe),j.createElement(x(),{style:{display:"none"},ref:h}))),j.createElement("div",{style:{display:"flex",width:"100%",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",margin:"30px 0 0 0 "}},j.createElement("p",null,"FlowHero\u2122, you agree with FlowHero ",j.createElement("a",{href:"https://processmaker.com/terms-conditions"},"Terms and Conditions")," and ",j.createElement("a",{href:"https://processmaker.com/privacy-policy"},"Privacy Policy")))):j.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",fontSize:"1em",width:"90%",marginTop:"30px",borderRadius:"3px",color:"#721c24",backgroundColor:"#f8d7da",borderColor:"#f5c6cb",padding:"2px"},role:"alert"},pe))),j.createElement("div",{className:"second-container",onClick:function(e){e.preventDefault(),e.stopPropagation(),ye(!1)}}),ge&&j.createElement("div",{style:{width:"300px",flex:1,flexWrap:"wrap",padding:"12px 30px 0px 10px",zIndex:101,position:"absolute",bottom:"0px",right:"50px",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",borderRadius:"8px 8px 0 0",backgroundColor:" #FFFFFF",boxShadow:"0 0 40px 0 rgba(0, 0, 0, 0.1)"}},j.createElement("div",{style:{display:"flex",flex:1,flexDirection:"row",justifyContent:"space-evenly",alignItems:"center",height:"54px",width:"149px"}},j.createElement("img",{src:b.Pys,style:{height:"24px",width:"24px"},alt:"need-help-icon"}),j.createElement("p",{style:{color:" #4A4A4A",fontFamily:" var( --app-font-quicksand-bold)",fontSize:"16px",lineHeight:"22px"}},"Need help?")),j.createElement("div",{style:{display:" flex",flex:1,flexDirection:"row",justifyContent:"space-evenly",alignItems:"center"}},j.createElement("p",{style:{textAlign:"left",color:" #4A4A4A",fontFamily:" var( --app-font-quicksand-bold)",fontSize:"16px",lineHeight:"24px"}},"Before requesting to speak to one of our colleagues, we encourage you to explore our ",j.createElement("span",{onClick:Fe,style:{textDecoration:"underline",cursor:"pointer"}},"Help Center")," to find your solution.")),j.createElement("div",{style:{margin:"20px 10px",display:"flex",width:"100%",flex:0,justifyContent:"center",alignItems:"center",maxHeight:"30px"}},j.createElement(D.Z,{disabled:se,loading:se,clicked:Fe,title:"Help Center",style:{margin:"10px",width:"100%"}})),j.createElement("div",{style:{margin:"20px 10px",display:"flex",width:"100%",flex:0,justifyContent:"center",alignItems:"center",maxHeight:"30px"}},j.createElement(D.Z,{disabled:se,loading:se,clicked:function(){alert("Live Chat")},title:"Live Chat",style:{margin:"10px",width:"100%",backgroundColor:"#FFFFFF"},titleStyle:{color:"var(--app-color-gray-light)",fontSize:"16px"}}))))}))}}]);
//# sourceMappingURL=681.1ff6e703.chunk.js.map