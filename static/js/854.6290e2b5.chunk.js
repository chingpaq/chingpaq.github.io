"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[854],{2854:function(e,t,a){a.r(t),a.d(t,{default:function(){return oe}});var n=a(29439),r=a(67861),o=a(39518),l=a(23280),s=a(88374),i="Login_host__HJ5T9",d="Login_firstContainer__kfGLU",c="Login_headerTopBarContainer__QWz8Y",m="Login_firstContainerContent__wbbdK",u="Login_logoUrlImg__UaUon",p="Login_logoUrlImgMobile__gvaUr",v=a(87462),f=a(12265),g=a(47144),h=a.n(g),_=a(15049),b=a(10103),w=a(98500),y=a(23075),E=a.n(y),N=a(31787);E()(w);var C=a(71982),x=a(57417),L=a(96189),S=a(48630),I=a(45987),B="TextField_inputContainer__-Li1l",M="TextField_ornament__1DMyr",Z="TextField_rightButton__miccv",q="TextField_textInput__TQ2mO",F="TextField_userTextInput__8z5C4",k="TextField_inputLabel__IAwPE",P="TextField_errorContainer__D-YWL",T=["isDisabled","readOnly","label","hasMandatoryIndicator","placeholder","charactersNo","icon","rightButtonLabel","rightButtonAction","rightButtonClass","errorMessage","defaultValue","onChange","name","type","autoComplete"],D=["className","hasError"],R=["className"],U=["children"],A=["hasMandatoryIndicator","children","className"],V=(0,r.forwardRef)((function(e,t){var a=e.isDisabled,o=void 0!==a&&a,l=e.readOnly,s=e.label,i=void 0===s?"":s,d=e.hasMandatoryIndicator,c=e.placeholder,m=void 0===c?"Insert email":c,u=e.charactersNo,p=e.icon,v=e.rightButtonLabel,f=e.rightButtonAction,g=e.rightButtonClass,_=e.errorMessage,b=e.defaultValue,w=e.onChange,y=e.name,E=e.type,N=void 0===E?"text":E,C=e.autoComplete,x=(0,I.Z)(e,T),L=(0,r.useState)(null!==b&&void 0!==b?b:""),S=(0,n.Z)(L,2),q=S[0],k=S[1],P=Boolean(_);return r.createElement("div",x,r.createElement(J,{hasMandatoryIndicator:d},i),r.createElement(O,{hasError:P,className:B},r.createElement(j,{"app-readonly":l?"readonly":"",readOnly:l,autoComplete:C,disabled:o,name:y,type:N,placeholder:m,value:q,maxLength:u,onChange:function(e){k(e.target.value),null===w||void 0===w||w(e)},ref:t,className:F}),p&&r.createElement("div",{className:M},p),v&&r.createElement("button",{type:"button",onClick:f,className:h()(Z,g),style:{fontFamily:"Montserrat",fontSize:"14px",fontWeight:"normal"}},v)),_&&r.createElement(z,null,_))})),O=(0,r.forwardRef)((function(e,t){var a=e.className,n=e.hasError,o=(0,I.Z)(e,D);return r.createElement("div",(0,v.Z)({"app-error":n?"error":"",ref:t},o,{className:h()(B,a)}))})),j=(0,r.forwardRef)((function(e,t){var a=e.className,n=(0,I.Z)(e,R);return r.createElement("input",(0,v.Z)({ref:t},n,{className:h()(q,a)}))}));function z(e){var t=e.children,a=(0,I.Z)(e,U);return r.createElement("p",(0,v.Z)({className:P},a),t)}function J(e){var t=e.hasMandatoryIndicator,a=e.children,n=e.className,o=(0,I.Z)(e,A);return r.createElement("label",(0,v.Z)({className:h()(k,n)},o),a,t&&r.createElement("span",{className:"text-danger"},"*"))}var W=a(67861),H=(0,r.forwardRef)((function(e,t){var a=(0,r.useState)(!1),o=(0,n.Z)(a,2),l=o[0],s=o[1];return W.createElement(V,(0,v.Z)({},e,{ref:t,type:l?"text":"password",rightButtonLabel:l?"Hide":"Show",rightButtonAction:function(){return s((function(e){return!e}))},rightButtonClass:""}))})),Q="LoginForm_host__UvJwq",X="LoginForm_row__9D3he",Y="LoginForm_signInButton__VPwbB",$="LoginForm_recoverPasswordButton__fDOss",G=a(73500),K=a(89293),ee="This company do not have onboard required data yet!\nPlease contact comapny admin.\nBasic company information must be enroled\nBefore you will be granted access to ".concat(K.iC),te=(0,r.memo)((function(e){var t,a,l,i,d,c,m,u,p=e.onLoginSuccess,g=e.className,y=e.onResetPassword,E=(0,o.I0)(),I=(0,o.v9)((function(e){return e.authReducer.sessionSettings})).rememberMe,B=(0,r.useState)(!1),M=(0,n.Z)(B,2),Z=M[0],q=M[1],F=(0,r.useState)(""),k=(0,n.Z)(F,2),P=k[0],T=k[1],D=(0,r.useMemo)((function(){return{yup:w,schemas:{email:w.string().min(6,"Username must have at least 8 characters"),password:w.string().min(8,"Password must have at least 8 characters"),passwordRepeat:w.string().oneOf([w.ref("password"),null],"Passwords does not match").required("Password repeat is required"),website:w.string().url(),phoneNumber:w.string().test({name:"phone-pattern",message:"Not a valid phone number",test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""==e||(0,N.yf)(e)}}),mobilePhoneNumber:w.string().test({name:"mobile-phone-pattern",message:"Not a valid mobile phone number",test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""==e||(0,N.yf)(e)}}),employerName:w.string().required("Employer name is required")}}}),[]),R=D.schemas,U=D.yup,A=(0,_.cI)({mode:"onSubmit",criteriaMode:"firstError",resolver:(0,f.X)(U.object().shape({email:R.email,password:R.password}))}),O=A.register,j=A.handleSubmit,J=A.formState.errors,W=A.getValues;return r.createElement("form",{onSubmit:j((function(e){T(""),q(!0);var t=W(),a=t.email,n=t.password,r=t.rememberMe;(0,x.n$)({email:a,password:n,rememberMe:r}).pipe((0,b.q)(1)).subscribe({next:function(e){var t=e.is_admin;!1===e.onboarding_status?!0===t?(E((0,C.DJ)(!0)),E((0,C.q9)(!0)),E((0,C.$6)({firstModalVisible:!0})),E((0,s.IW)(!1)),q(!1)):(T(ee),q(!1)):(E((0,C.DJ)(!1)),E((0,C.q9)(!1)),E((0,s.fj)(!0)),q(!1),null===p||void 0===p||p(e))},error:function(e){var t,a="string"==typeof e.data?e.data:null!==e&&void 0!==e&&e.error?null===e||void 0===e?void 0:e.error:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message;T(422===e.status||"Not authenticated"===a?"Invalid user name or password, please try again.":a),q(!1)}})})),className:h()(Q,g),onClick:function(){return T("")}},r.createElement("div",{className:X,"app-variant":"first-row"},r.createElement(V,(0,v.Z)({autoComplete:I?"username":"new-password",type:"text",placeholder:"Email or Username",defaultValue:null!==(t=localStorage.getItem("username"))&&void 0!==t?t:""},O("email")))),r.createElement("div",{className:X,"app-variant":"second-row"},r.createElement(H,(0,v.Z)({autoComplete:I?"on":"off",placeholder:"Password",defaultValue:null!==(a=localStorage.getItem("password"))&&void 0!==a?a:""},O("password")))),(P||(null===(l=J.password)||void 0===l?void 0:l.message)||(null===(i=J.email)||void 0===i?void 0:i.message))&&r.createElement(z,null,"".concat(null!==P&&void 0!==P?P:""," ").concat(null!==(d=null===(c=J.password)||void 0===c?void 0:c.message)&&void 0!==d?d:""," ").concat(null!==(m=null===(u=J.email)||void 0===u?void 0:u.message)&&void 0!==m?m:""," ")),r.createElement(L.zx,{disabled:Z,loading:Z,type:"submit",title:"Sign in",className:Y}),r.createElement("div",{className:X,"app-variant":"third-row"},r.createElement(S.X,(0,v.Z)({defaultChecked:I,checkboxLabel:"Remember me"},O("rememberMe"))),r.createElement("br",null),r.createElement("p",{className:$,onClick:y},G.tq?"Forgot Password":"Need to find your password?"),r.createElement("br",null)))})),ae=a(38502),ne=a(88827),re=a(67861),oe=(0,r.memo)((function(e){e.title;var t,a,v=(0,l.s0)(),f=(0,o.I0)(),g=ne.h.getState().flowReducer,h=g.companyData,_=g.lastUpdates,b=ne.h.getState().sessionReducer.authenticated,w=(0,r.useState)(null!==(t=JSON.parse(localStorage.getItem("companyData")))&&void 0!==t?t:{logo:""}),y=(0,n.Z)(w,1)[0];return document.title="Login | ".concat(K.iC),(0,r.useEffect)((function(){b?v("/flowhero"):(f((0,s.fj)(!1)),(0,x.iC)())}),[]),0==b?re.createElement("div",{className:i,"app-custom-media-show":"hide"},re.createElement("div",{className:d},re.createElement("p",{onClick:function(){return v("/flowhero")},style:{cursor:"pointer",fontFamily:"var(--app-text-main-font)",color:"#4A4A4A",textDecoration:"underline",paddingLeft:"10px"}},"Home"),re.createElement("div",{className:c,style:{fontSize:G.tq?"12px":"16px"}},!(null!==y&&void 0!==y&&y.logo)&&re.createElement("p",null,null===y||void 0===y||null===(a=y.display_name)||void 0===a?void 0:a.toUpperCase()),null!==y&&void 0!==y&&y.logo?re.createElement("img",{alt:"lg",src:null===y||void 0===y?void 0:y.logo,className:G.tq?p:u}):G.tq?(0,K.lh)("30px"):(0,K.lh)("34px","var(--app-color-gray-dark)","bold")),re.createElement("div",{className:m,style:{border:G.tq?"0":"",width:G.tq?"100%":"25%"}},re.createElement(te,{onLoginSuccess:function(e){var t=e.isSingleApp;if(_.componentsByModule={},"trial_ended"!==(null===h||void 0===h?void 0:h.status)&&"inactive"!==(null===h||void 0===h?void 0:h.status)){if(!0===t&&G.tq)return(0,ae.V0)(),void v("/mobile");(0,ae.e3)()}else{if("inactive"!==(null===h||void 0===h?void 0:h.status))return void v("/login");(0,ae.e3)(!0)}v("/")},onResetPassword:function(){return v("/reset-password")}})))):re.createElement("div",{style:{margin:"auto",width:"100%",height:"500px",display:"flex",alignContent:"center",alignItems:"center",justifyItems:"center",justifyContent:"center"}},(0,K.lh)("30px"))}))}}]);
//# sourceMappingURL=854.6290e2b5.chunk.js.map