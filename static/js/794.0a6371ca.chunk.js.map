{"version":3,"file":"static/js/794.0a6371ca.chunk.js","mappings":"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","sources":["webpack://flowhero/./src/appFiles/components/SideMenuEntries/CompanyComps/CompanyCards.module.scss?6492","appFiles/components/SideMenuEntries/CompanyComps/CompanyCards.js","appFiles/components/SideMenuEntries/Company/Company.js","webpack://flowhero/./src/appFiles/components/TopBar/CompanySettings/CompanySettings.module.scss?c634","appFiles/components/TopBar/CompanySettings/CompanySettings.js","webpack://flowhero/./src/appFiles/components/common/HeaderTopBar/HeaderTopBar.module.scss?1628","appFiles/components/common/HeaderTopBar/HeaderTopBar.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"host\":\"CompanyCards_host__HOUay\",\"buttonStyle\":\"CompanyCards_buttonStyle__qwBmN\",\"borderedCardHost\":\"CompanyCards_borderedCardHost__vy296\",\"borderedCardContainer\":\"CompanyCards_borderedCardContainer__5uZRq\",\"unBorderedCardOrgChartHost\":\"CompanyCards_unBorderedCardOrgChartHost__TLL6X\",\"unBorderedCardLoadingContainer\":\"CompanyCards_unBorderedCardLoadingContainer__x9P0N\",\"bottomStatisticsOrgChartHost\":\"CompanyCards_bottomStatisticsOrgChartHost__LHIwN\",\"bottomStatisticsOrgChart\":\"CompanyCards_bottomStatisticsOrgChart__cX6mK\",\"unBorderedCardOverviewHost\":\"CompanyCards_unBorderedCardOverviewHost__NAxVU\",\"companyOverviewRow\":\"CompanyCards_companyOverviewRow__thvn+\",\"companyOverviewNameContainer\":\"CompanyCards_companyOverviewNameContainer__JPHQ2\",\"companyOverviewNameText\":\"CompanyCards_companyOverviewNameText__pjVPv\",\"companyOverviewLogoContainer\":\"CompanyCards_companyOverviewLogoContainer__niIPu\",\"companyOverviewLogo\":\"CompanyCards_companyOverviewLogo__MBzPL\",\"companyOverviewLogoFallback\":\"CompanyCards_companyOverviewLogoFallback__7l-OU\",\"companyOverviewLabeledContainer\":\"CompanyCards_companyOverviewLabeledContainer__GbYpX\",\"companyOverviewLabel\":\"CompanyCards_companyOverviewLabel__j8xFA\",\"companyOverviewDataContainer\":\"CompanyCards_companyOverviewDataContainer__d0pcD\",\"companyOverviewData\":\"CompanyCards_companyOverviewData__6Hc+-\",\"labeledContainerLabel\":\"CompanyCards_labeledContainerLabel__Y5rmE\"};","import { useEffect, useState, lazy } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { first } from 'rxjs/operators';\nimport { getCompanyDetails, getCompanyOrgChartPositions } from '../../../services/company.service';\nimport { Button } from '../../common';\nimport cls from './CompanyCards.module.scss';\n\nimport CompanyOrganisationalChart from '../../OnboardingEntries/CompanyOrganizationalChart/CompanyOrganizationalChart';\nimport { setShowMenu } from '../../../reduxStore/actions/flowActions';\nimport { store } from '../../../reduxStore/store';\nimport { isMobile } from 'react-device-detect';\nconst PanZoomComponent = lazy(() => import('../../common/PanZoomComponent/PanZoomComponent'));\n\nexport const CompanyOrgChartCard = props => {\n\tconst navigate = useNavigate();\n\tconst [loadingChart, setLoadingChart] = useState(false);\n\tfunction redirectToChartScreen() {\n\t\tstore.dispatch(setShowMenu(false));\n\t\tsetLoadingChart(false);\n\t\tnavigate('/chart');\n\t}\n\n\tuseEffect(() => {\n\t\tsetLoadingChart(true);\n\t\tgetCompanyOrgChartPositions()\n\t\t\t.pipe(first())\n\t\t\t.subscribe({\n\t\t\t\tcomplete: () => setLoadingChart(false),\n\t\t\t});\n\t}, []);\n\n\tconst { initVersion } = props;\n\n\treturn initVersion ? (\n\t\t<LabeledContainer label={''}>\n\t\t\t<div className={cls.borderedCardHost}>\n\t\t\t\t<div className={cls.borderedCardContainer}>\n\t\t\t\t\t<p>{'Begin setting up your Company by creating departments and positions.'}</p>\n\t\t\t\t\t<Button light loading={loadingChart} title={'Start Setup'} clicked={() => redirectToChartScreen()} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</LabeledContainer>\n\t) : (\n\t\t!isMobile && <div>\n\t\t\t<Button title={'View Roles and Departments'} clicked={() => redirectToChartScreen()} style={{}} />\n\t\t</div>\n\t);\n};\nexport const PreviewChart = () => {\n\treturn (\n\t\t<PanZoomComponent zoomStep={1} controlsContainerClass={cls.panZoomControlsContainer} panZoomProps={{ autoCenterZoomLevel: 0.65, className: cls.panZoomComponent, style: { cursor: 'grab' } }}>\n\t\t\t<CompanyOrganisationalChart preview />\n\t\t</PanZoomComponent>\n\t);\n};\n\nconst LabeledContainer = props => {\n\tconst { label, children } = props;\n\treturn (\n\t\t<div className={cls.labeledContainerHost}>\n\t\t\t<p className={cls.labeledContainerLabel}>{label}</p>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n\nexport const CompanyOverview = props => {\n\tconst { companyData } = props;\n\tconst [companyDetails, setCompanyDetails] = useState(companyData);\n\n\tuseEffect(() => {\n\t\tgetCompanyDetails()\n\t\t\t.pipe(first())\n\t\t\t.subscribe({\n\t\t\t\tnext: data => {\n\t\t\t\t\tsetCompanyDetails({ ...data });\n\t\t\t\t},\n\t\t\t});\n\t}, []);\n\treturn (\n\t\t<div className={cls.host}>\n\t\t\t<CompanyOrgChartCard initVersion={companyDetails.departments_count == 0} />\n\t\t</div>\n\t);\n};\n","import { connect, useDispatch } from 'react-redux';\n\nimport { setOnBoardingModalsVisibility, setOnBoardingVisible } from '../../../reduxStore/actions/modalsActions';\nimport cls from './Company.module.scss';\nimport { CompanyOverview } from '../CompanyComps/CompanyCards';\nimport CompanySettings from '../../TopBar/CompanySettings/CompanySettings';\nimport HeaderTopBar from '../../common/HeaderTopBar/HeaderTopBar';\nimport { PermissionWrapper, po } from '../../common';\nimport { useEffect } from 'react';\nimport { setShowMenu, setShowSideMenu } from '../../../reduxStore/actions/flowActions';\nimport { APP_NAME } from '../../../shared/utility';\nimport { CompanyAdmin } from '../../common/CompanyDataUpdate/CompanyDataUpdate';\nimport { isMobile } from 'react-device-detect';\n\nconst Company = props => {\n\tconst { companyData, authenticatedUser } = props;\n\tconst dispatch = useDispatch();\n\n\tdocument.title = `Company | ${APP_NAME}`;\n\n\tuseEffect(() => {\n\t\tdispatch(setShowSideMenu(false));\n\t\tdispatch(setShowMenu(true));\n\t}, []);\n\n\treturn (\n\t\t<div className={cls.companyHost}>\n\t\t\t<div style={{ display: 'flex', flexDirection: 'column', margin: isMobile? '100px 0 0 0':'200px 0 0 0' }}>\n\t\t\t\t<HeaderTopBar headerTitle={'Company'} targetProcessing={false} />\n\t\t\t\t{authenticatedUser.is_admin === true && (\n\t\t\t\t\t<PermissionWrapper permissions={[po.company.orgChart.update]}>\n\t\t\t\t\t\t<CompanyOverview companyData={companyData} />\n\t\t\t\t\t</PermissionWrapper>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<CompanySettings />\n\t\t\t{/* {(authenticatedUser.user_type === 'superadmin' || authenticatedUser.user_type === 'admin') && <CompanyAdmin user={authenticatedUser} company={companyData} ccompany={authenticatedUser.user_type !== 'superadmin' ? companyData : undefined} />} */}\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = store => {\n\tconst {\n\t\tauthenticatedUser: { position },\n\t\tauthenticatedUser,\n\t} = store.authReducer;\n\tconst { user } = store.sessionReducer;\n\n\tconst { companyData, companyPositionsArray, allTasks, allCompletedTasks, allCompletedTasksPaginated, companyUsersArray } = store.flowReducer;\n\treturn {\n\t\tcompanyData,\n\t\tcompanyPositionsArray,\n\t\tposition,\n\t\tallTasks,\n\t\tallCompletedTasks,\n\t\tallCompletedTasksPaginated,\n\t\tuser,\n\t\tcompanyUsersArray,\n\t\tauthenticatedUser,\n\t};\n};\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tonSetOnBoardingVisible: visible => dispatch(setOnBoardingVisible(visible)),\n\t\tonToggleModalVisibility: modalVisible => dispatch(setOnBoardingModalsVisibility(modalVisible)),\n\t};\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Company);\n","// extracted by mini-css-extract-plugin\nexport default {\"host\":\"CompanySettings_host__BUW5K\",\"labeledContainerLabel\":\"CompanySettings_labeledContainerLabel__-BJE5\",\"label\":\"CompanySettings_label__KJjqm\",\"userslistContainer\":\"CompanySettings_userslistContainer__AeiAs\",\"companyEmployeesContainer\":\"CompanySettings_companyEmployeesContainer__QBao2\"};","import moment from 'moment';\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport { first } from 'rxjs/operators';\nimport 'react-tabs/style/react-tabs.css';\nimport { take } from 'rxjs/operators';\nimport { setAuthenticatedUser } from '../../../reduxStore/actions/authActions';\nimport { setCompanyData } from '../../../reduxStore/actions/flowActions';\nimport { tutorialModalOpen } from '../../../reduxStore/actions/modalsActions';\nimport { getAllUsers } from '../../../services/user.service';\nimport { setCompanyDetails } from '../../../services/company.service';\nimport { industryFields, numberOfEmployees } from '../../../shared/utility';\nimport { CompanyDataUpdate } from '../../common';\n\nimport cls from './CompanySettings.module.scss';\n\nfunction CompanySettings(props) {\n\tconst { companyUsersArray, companyData, position } = props;\n\tconst [, setContinueDisabled] = useState(true);\n\tconst [, setCompanyUsers] = useState([\n\t\t...(companyUsersArray.map(i => ({\n\t\t\tid: i.id,\n\t\t\tfirst_name: i.first_name,\n\t\t\tlast_name: i.last_name,\n\t\t\temail: i.email,\n\t\t\tposition: `${i.positions?.map(u => u.name).join(', ')}`,\n\t\t\tis_admin: i.is_admin,\n\t\t\tphoto: i.photo,\n\t\t\ttimezone: i.timezone,\n\t\t})) ?? []),\n\t]);\n\tconst { name, founding_date, employees_no, industry } = companyData;\n\tconst [elementsTouched, setElementsTouched] = useState({\n\t\tname: companyData?.name?.length > 2,\n\t\tdisplay_name: companyData?.display_name?.length > 2,\n\t\tfounding_date: moment(companyData.founding_date, 'YYYY-MM-DD').diff(moment().format('YYYY-MM-DD')) < 0,\n\t\temployees_no: numberOfEmployees.some(i => i.value === companyData.employees_no),\n\t\tindustry: industryFields?.some(i => i.label == companyData.industry),\n\n\t});\n\n\tconst [setUsers_ApiError] = useState('');\n\tconst [fieldErrors, setFieldsErrors] = useState({\n\t\tname: '',\n\t\tdisplay_name: '',\n\t\tfounding_date: '',\n\t\temployees_no: '',\n\t\tindustry: '',\n\t});\n\n\tuseEffect(() => {\n\t\tgetAllUsers()\n\t\t\t.pipe(take(1))\n\t\t\t.subscribe({\n\t\t\t\tnext: data => {\n\t\t\t\t\tsetCompanyUsers([...(data ?? [])]);\n\t\t\t\t},\n\t\t\t\terror: error => {\n\t\t\t\t\tsetUsers_ApiError(error.data);\n\t\t\t\t},\n\t\t\t\tcomplete: () => {},\n\t\t\t});\n\t}, []);\n\tconst isInvalidPayload = useCallback(() => {\n\t\tsetFieldsErrors({ name: '', display_name: '', founding_date: '', employees_no: '', industry: '', misc_info: '' });\n\t\tlet isInvalid = false;\n\n\t\tif (companyData?.name?.length < 2) {\n\t\t\tsetFieldsErrors(c => ({ ...c, name: 'Company name must have at least 2 characters' }));\n\t\t\tisInvalid = true;\n\t\t}\n\t\tif (companyData?.display_name?.length < 2) {\n\t\t\tsetFieldsErrors(c => ({ ...c, display_name: 'Company display name must have at least 2 characters' }));\n\t\t\tisInvalid = true;\n\t\t}\n\t\tif (moment(companyData.founding_date, 'YYYY-MM-DD').diff(moment().format('YYYY-MM-DD')) > 0) {\n\t\t\tsetFieldsErrors(c => ({ ...c, founding_date: \"Company's founding date is not a valid date\" }));\n\t\t\tisInvalid = true;\n\t\t}\n\t\tif (companyData?.employees_no?.toString().length < 3 || !numberOfEmployees.some(i => i.value === companyData.employees_no)) {\n\t\t\tsetFieldsErrors(c => ({ ...c, employees_no: `Employees' number is not valid. \\nStored value (${companyData?.employees_no}) is not matching any selectable range` }));\n\t\t\tisInvalid = true;\n\t\t}\n\t\tif (companyData?.industry?.length < 3 || !industryFields?.some(i => i.label == companyData.industry)) {\n\t\t\tsetFieldsErrors(c => ({ ...c, industry: 'Industry field entry is not valid' }));\n\t\t\tisInvalid = true;\n\t\t}\n\t\tif (companyData?.name?.length > 0) {\n\t\t\tif (name?.length > 0) {\n\t\t\t\tsetContinueDisabled(false);\n\t\t\t} else {\n\t\t\t\tsetContinueDisabled(true);\n\t\t\t}\n\t\t}\n\t\treturn isInvalid;\n\t}, [companyData, founding_date, employees_no, industry, elementsTouched]);\n\n\tuseEffect(() => {\n\t\telementsTouched.industry && isInvalidPayload();\n\t}, [companyData, position]);\n\n\tconst updateCompanyData = companyPayload => {\n\t\tsetCompanyDetails(companyPayload)\n\t\t\t.pipe(first())\n\t\t\t.subscribe({\n\t\t\t\terror: error => {\n\t\t\t\t\tconst foundErrors = { name: '', display_name: '', founding_date: '', employees_no: '', industry: '' };\n\t\t\t\t\tif (error.data.errors.name) {\n\t\t\t\t\t\tfoundErrors.name = error.data.errors.name[0];\n\t\t\t\t\t}\n\t\t\t\t\tif (error.data.errors.display_name) {\n\t\t\t\t\t\tfoundErrors.display_name = error.data.errors.display_name[0];\n\t\t\t\t\t}\n\t\t\t\t\tif (error.data.errors.founding_date) {\n\t\t\t\t\t\tfoundErrors.founding_date = error.data.errors.founding_date[0];\n\t\t\t\t\t}\n\t\t\t\t\tif (error.data.errors.employees_no) {\n\t\t\t\t\t\tfoundErrors.employees_no = error.data.errors.employees_no[0];\n\t\t\t\t\t}\n\t\t\t\t\tif (error.data.errors.industry) {\n\t\t\t\t\t\tfoundErrors.industry = error.data.errors.industry[0];\n\t\t\t\t\t}\n\t\t\t\t\tsetFieldsErrors(c => ({ ...c, ...foundErrors }));\n\t\t\t\t},\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<div id=\"company-settings\" className={cls.host}>\n\t\t\t<CompanyDataUpdate datePickerRC feValidation={{ ...fieldErrors }} sendCompanyDetails={updateCompanyData} setElementsTouched={setElementsTouched} />\n\t\t</div>\n\t);\n}\n\nconst mapStateToProps = store => {\n\tconst {\n\t\tauthenticatedUser: { position },\n\t} = store.authReducer;\n\tconst { companyData, companyPositionsArray, companyUsersArray } = store.flowReducer;\n\treturn { companyData, companyPositionsArray, position, companyUsersArray };\n};\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tonSetCompanyDataField: field => dispatch(setCompanyData(field)),\n\t\tonSetAuthenticatedUserPosition: position => dispatch(setAuthenticatedUser(position)),\n\t\tonTutorialModalOpen: options => dispatch(tutorialModalOpen(options)),\n\t};\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(CompanySettings);\n","// extracted by mini-css-extract-plugin\nexport default {\"headerTopBar\":\"HeaderTopBar_headerTopBar__D+HJ9\",\"headerTopBarContainer\":\"HeaderTopBar_headerTopBarContainer__1jgza\",\"testFill\":\"HeaderTopBar_testFill__Fr67j\",\"loadingContainer\":\"HeaderTopBar_loadingContainer__UcfwW\"};","import cls from './HeaderTopBar.module.scss';\nimport Spinner from '../UI/Spinner/Spinner';\nconst HeaderTopBar = props => {\n\tconst { hasHeaderImg, headerTitle, headerImgSrc, targetProcessing } = props;\n\treturn (\n\t\t<div className={cls.headerTopBar}>\n\t\t\t<div className={cls.headerTopBarContainer}>\n\t\t\t\t{hasHeaderImg && <img alt=\"\" src={headerImgSrc} />}\n\t\t\t\t<p>{headerTitle}</p>\n\t\t\t\t{targetProcessing && (\n\t\t\t\t\t<span className={cls.loadingContainer}>\n\t\t\t\t\t\t<Spinner type={'Watch'} color=\"var(--app-color-gray-light)\" height={15} width={`${30}px`} />\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default HeaderTopBar;\n"],"names":["CompanyOrgChartCard","props","navigate","useNavigate","_useState","useState","_useState2","_slicedToArray","loadingChart","setLoadingChart","redirectToChartScreen","store","setShowMenu","useEffect","getCompanyOrgChartPositions","pipe","first","subscribe","complete","initVersion","React","createElement","LabeledContainer","label","className","cls","Button","light","loading","title","clicked","isMobile","style","children","CompanyOverview","companyData","_useState3","_useState4","companyDetails","setCompanyDetails","getCompanyDetails","next","data","_objectSpread","departments_count","connect","_store$authReducer","authReducer","position","authenticatedUser","user","sessionReducer","_store$flowReducer","flowReducer","companyPositionsArray","allTasks","allCompletedTasks","allCompletedTasksPaginated","companyUsersArray","dispatch","onSetOnBoardingVisible","visible","setOnBoardingVisible","onToggleModalVisibility","modalVisible","setOnBoardingModalsVisibility","useDispatch","document","concat","APP_NAME","setShowSideMenu","display","flexDirection","margin","HeaderTopBar","headerTitle","targetProcessing","is_admin","PermissionWrapper","permissions","po","CompanySettings","onSetCompanyDataField","field","setCompanyData","onSetAuthenticatedUserPosition","setAuthenticatedUser","onTutorialModalOpen","options","tutorialModalOpen","_companyUsersArray$ma","_companyData$name","_companyData$display_","setContinueDisabled","_toConsumableArray","map","i","_i$positions","id","first_name","last_name","email","positions","u","name","join","photo","timezone","setCompanyUsers","founding_date","employees_no","industry","_useState5","length","display_name","moment","diff","format","numberOfEmployees","value","industryFields","_useState6","elementsTouched","setElementsTouched","_useState7","setUsers_ApiError","_useState9","_useState10","fieldErrors","setFieldsErrors","getAllUsers","take","error","isInvalidPayload","useCallback","_companyData$name2","_companyData$display_2","_companyData$employee","_companyData$industry","_companyData$name3","misc_info","isInvalid","c","toString","CompanyDataUpdate","datePickerRC","feValidation","sendCompanyDetails","companyPayload","foundErrors","errors","hasHeaderImg","headerImgSrc","alt","src","Spinner","type","color","height","width"],"sourceRoot":""}